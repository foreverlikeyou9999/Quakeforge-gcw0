This file is generated by Makefile; do not edit.

commit 03246e2
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 23 12:01:36 2013 +0900

    Update for 0.7.2.

 NEWS |   11 +++++++++++
 1 file changed, 11 insertions(+)

commit b7d6ffa
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 23 11:59:54 2013 +0900

    Build and package win64 binaries too.
    
    As an added benefit, this tested the "one cross dir" design of my scripts
    :)

 tools/build_scripts/qf-release |   19 ++++++++++++++++---
 1 file changed, 16 insertions(+), 3 deletions(-)

commit ea7f446
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 23 11:58:45 2013 +0900

    Add qfalloca.h to EXTRA_DIST.
    
    make distcheck now passes again.

 include/Makefile.am |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 45cfae7
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 23 11:44:01 2013 +0900

    Add the new cross scripts to EXTRA_DIST
    
    And remove the obsolete cross.sh from mingw.

 Makefile.am |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit d139640
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 23 11:10:19 2013 +0900

    Make fs_userpath default to ~/quakeforge on windows.
    
    The ~ gets expanded to CSIDL_LOCAL_APPDATA, $HOME, $USERPROFILE or just
    ".", whichever succeeds first. The usual location will be:
    "C:\windows\profiles\<user>\Local Settings\Application Data".
    
    "." is now the fallback for *nix systems too.

 config.d/paths.m4 |    2 +-
 libs/util/sys.c   |   27 ++++++++++++++++-----------
 2 files changed, 17 insertions(+), 12 deletions(-)

commit f68ae3a
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 22 17:50:38 2013 +0900

    Add support for 64bit windows via mxe (mingw).
    
    Note that this support relies on the -multi branch (separate git repo on
    github) util it gets merged.

 tools/cross/mingw64/cross-configure.sh |   19 +++++++++++++++++++
 tools/cross/mingw64/cross-make.sh      |   16 ++++++++++++++++
 2 files changed, 35 insertions(+)

commit 61bdb13
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 22 14:43:23 2013 +0900

    Remove obsolete mingw cross.sh script.
    
    Now that mxe is here (and works nicely), this is no longer necessary
    (doesn't work anyway).

 tools/cross/mingw/cross.sh |  245 --------------------------------------------
 1 file changed, 245 deletions(-)

commit 47c2d3c
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 22 14:23:55 2013 +0900

    Include stdint.h in regex.c
    
    It seems stdint.h gets included automatically in windows builds.

 libs/gib/regex.c |    1 +
 1 file changed, 1 insertion(+)

commit e27d7cb
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 22 14:09:41 2013 +0900

    Handle alloca "correctly".
    
    Use AC_FUNC_ALLOCA and the #ifdef mess suggested by the autoconf docs
    (hidden in qfalloca.h).

 config.d/header_files.m4             |   38 ++-------------------
 include/qfalloca.h                   |   62 ++++++++++++++++++++++++++++++++++
 libs/audio/renderer/flac.c           |    2 ++
 libs/audio/renderer/midi.c           |    2 ++
 libs/audio/renderer/wav.c            |    2 ++
 libs/console/server.c                |    2 ++
 libs/gamecode/pr_parse.c             |    2 ++
 libs/models/brush/glsl_model_brush.c |    2 ++
 libs/models/iqm/sw_model_iqm.c       |    2 ++
 libs/models/trace.c                  |    2 ++
 libs/models/winding.c                |    2 ++
 libs/ruamoko/rua_obj.c               |    2 ++
 libs/ruamoko/rua_string.c            |    2 ++
 libs/util/qfplist.c                  |    2 ++
 libs/util/quakefs.c                  |    2 ++
 libs/util/quakeio.c                  |    2 ++
 libs/util/sys.c                      |    2 ++
 libs/video/renderer/gl/gl_rsurf.c    |    2 ++
 libs/video/renderer/gl/gl_sky_clip.c |    5 ++-
 libs/video/renderer/glsl/glsl_bsp.c  |    2 ++
 libs/video/renderer/r_light.c        |    2 ++
 libs/video/renderer/sw/sw_rbsp.c     |    2 ++
 libs/video/renderer/sw32/sw32_rbsp.c |    2 ++
 libs/video/targets/old_keys.c        |    5 ++-
 qw/source/cl_main.c                  |    2 ++
 qw/source/sv_pr_cpqw.c               |    2 ++
 tools/qfcc/source/dags.c             |    2 ++
 tools/qfcc/source/dot_expr.c         |    2 ++
 tools/qfcc/source/linker.c           |    2 ++
 tools/qfcc/source/obj_type.c         |    5 ++-
 tools/qfcc/source/statements.c       |    2 ++
 tools/qflight/source/vis.c           |    2 ++
 32 files changed, 124 insertions(+), 45 deletions(-)

commit f1aefc9
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 22 13:27:39 2013 +0900

    Fix some 64-bit mingw compile issues.
    
    Just one more issue to fix (alloca), but with a hack, QF compiles (no clue
    yet if it works: wine doesn't seem to be an option at this stage)

 configure.ac                          |    2 +-
 libs/audio/renderer/snd_dma.c         |    4 ++--
 libs/gib/gib_builtin.c                |    4 ++--
 libs/gib/regex.c                      |    8 ++++----
 libs/net/nm/net_udp.c                 |   18 ++++++++++++++----
 libs/net/nm/net_wins.c                |    5 +++++
 libs/video/renderer/glsl/glsl_alias.c |    2 +-
 libs/video/renderer/glsl/glsl_bsp.c   |    8 ++++----
 tools/qfcc/source/cpp.c               |    4 ++++
 tools/qfcc/source/strpool.c           |    8 ++++----
 tools/qfvis/source/qfvis.c            |    4 ++--
 11 files changed, 43 insertions(+), 24 deletions(-)

commit cb45d24
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 21 20:06:54 2013 +0900

    Use the Mersenne Twister for particles.
    
    The seed is currently 0xdeadbeef, but I intend on fixing that soon. Now the
    particle velocities and origins use fully independent bits (though a big
    chunk is wasted right now).

 libs/video/renderer/gl/gl_dyn_part.c      |   94 +++++++++++++-------------
 libs/video/renderer/glsl/glsl_particles.c |   95 ++++++++++++++-------------
 libs/video/renderer/sw/sw_rpart.c         |   93 +++++++++++++-------------
 libs/video/renderer/sw32/sw32_rpart.c     |  102 +++++++++++++++--------------
 4 files changed, 200 insertions(+), 184 deletions(-)

commit 5188644
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 21 20:05:16 2013 +0900

    Implement the Mersenne Twister PRNG.
    
    This gives QF a consistent qualilty PRNG on all platforms. The
    implementation is slightly different from the standard, but gives the same
    results for the same speed (details in mersenne.c).

 include/QF/Makefile.am |    4 +-
 include/QF/mersenne.h  |   46 +++++++++++++++++++++
 libs/util/Makefile.am  |    2 +-
 libs/util/mersenne.c   |  104 ++++++++++++++++++++++++++++++++++++++++++++++++
 4 files changed, 153 insertions(+), 3 deletions(-)

commit 3de6758
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 21 14:53:13 2013 +0900

    Fix random particle origin/velocity z component.
    
    This is a quick fix until I get a random number generator into QF.
    
    Mingw's RAND_MAX is only 0x7fff and so the (((rnd >> 10) & 63) - 31.5) / 63.0
    used for the z component of origin and velocity would never go positive.
    For now, change the 10 to 9 (reusing another bit from Y). I plan on
    implementing a full 32-bit PRNG in QF so we always have a reliable
    generator.

 libs/video/renderer/gl/gl_dyn_part.c      |    4 ++--
 libs/video/renderer/glsl/glsl_particles.c |    4 ++--
 libs/video/renderer/sw/sw_rpart.c         |    4 ++--
 libs/video/renderer/sw32/sw32_rpart.c     |    4 ++--
 4 files changed, 8 insertions(+), 8 deletions(-)

commit e872112
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jan 20 22:13:55 2013 +0900

    Use __attribute__((gcc_struct)) on dstatement_t.
    
    Trust Microsoft to have really weird structure layout rules. Ah, well, this
    fixes the weird progs errors Sock was getting.

 include/QF/pr_comp.h |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f368206
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jan 19 16:09:32 2013 +0900

    Ensure the float pointer to SND_Convert is aligned.
    
    This should fix johnny's SIGBUS.

 libs/audio/renderer/wav.c |    7 ++++---
 1 file changed, 4 insertions(+), 3 deletions(-)

commit 22ca96e
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jan 19 12:17:57 2013 +0900

    Put the key_dest default back to key_console.
    
    For now, anyway. This is a quick emergency fix for qw-client crashing when
    a key is pressed while the client is waiting at the console on startup.

 libs/video/targets/keys.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 354ad84
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jan 18 16:53:38 2013 +0900

    Update the debian changelog.

 debian/changelog |    6 ++++++
 1 file changed, 6 insertions(+)

commit a6d6523
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jan 18 16:35:00 2013 +0900

    Update for 0.7.1

 NEWS |  107 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 107 insertions(+)

commit 0186ca9
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jan 18 16:28:08 2013 +0900

    Allow the uninitialized variable warning to be suppressed.

 tools/qfcc/source/flow.c |    6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit eacc59c
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 17 22:01:31 2013 +0900

    Build the field types array for enums, too.
    
    However, every element is the same: type_default's type_def. This fixes the
    segfault building qwaq introduced by the previous enum commit.

 tools/qfcc/source/obj_type.c |   20 +++++++++++---------
 1 file changed, 11 insertions(+), 9 deletions(-)

commit 46d2959
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 17 20:55:25 2013 +0900

    Delay calling find_type for enums.
    
    As find_type encodes the type too, calling find_type before the enumerators
    have been created causes the type encoding to lose the enumerators.

 tools/qfcc/include/struct.h  |    1 +
 tools/qfcc/source/qc-parse.y |    5 ++++-
 tools/qfcc/source/struct.c   |    8 +++++++-
 3 files changed, 12 insertions(+), 2 deletions(-)

commit 7a504f8
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 17 20:53:22 2013 +0900

    Use float for enum defs in v6 progs.
    
    The values are (or should be!) written as floats, so don't give any
    debuggers hernias when displaying enums in v6 progs.

 tools/qfcc/source/obj_file.c |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 6b05a7e
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 17 16:43:54 2013 +0900

    Add (%Ec) to OP_ADDRESS's format specifier.
    
    This makes OP_ADDRESS and OP_LOAD_* consistent.

 libs/gamecode/pr_opcode.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c25e68e
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 17 16:42:28 2013 +0900

    Use hex output for %E opcode format specifier.
    
    This makes %E's addresses consistent with other address output.

 libs/gamecode/pr_debug.c |    5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 00192ea
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 17 16:10:17 2013 +0900

    Skip field immediates when generating progdefs.h
    
    They break the very fragile algorithm :P.

 tools/qfcc/source/idstuff.c |    2 ++
 1 file changed, 2 insertions(+)

commit 3c67e8f
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 17 10:23:02 2013 +0900

    Fix the vector/quaternion scaling instructions.
    
    It was pointed out by Blub\w (gmqcc) that OP_MUL_FV and friends were buggy
    when the operands overlapped (eg, x = x.x * x) as the result would become
    'x.x*x.x x.y*x.x*x.x x.z*x.x*x.x' (note the x.x squared for y and z). On
    testing, sure enough the bug was present (and is a nice demonstration that
    QF's VM does NOT have strict-aliasing bugs). As a very nice benefit: the
    code produced by the fixes is actually faster than the broken version :).
    
    The ruamoko code used for testing:
    void (string fmt, ...) printf = #0;
    
    vector foo (vector x)
    {
        x = x * x.x;
        return x;
    }
    
    vector bar (vector x)
    {
        x = x.x * x;
        return x;
    }
    
    int main ()
    {
        vector x = '2 3 4';
        vector y = foo (x);
        vector z = bar (x);
        printf ("x=%v y=%v z=%v 2*x=%v\n", x, y, z, 2*x);
        return 0;
    }

 libs/gamecode/pr_exec.c |   28 ++++++++++++++++++++++++----
 1 file changed, 24 insertions(+), 4 deletions(-)

commit 5b47c15
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jan 11 21:19:23 2013 +0900

    Get the bmesh directly from the object mesh data.
    
    Yay, no fussing with edit mode. Thanks to _FrnchFrgg_ in #blendercoders for
    the tip.

 tools/io_qfmap/export_map.py |    8 ++------
 1 file changed, 2 insertions(+), 6 deletions(-)

commit ca71034
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 3 18:18:02 2013 +0900

    Make the field value editable.

 tools/io_qfmap/entity.py |    1 +
 1 file changed, 1 insertion(+)

commit 66ecf9e
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 3 17:57:11 2013 +0900

    Update the entity field list for blender 2.65a+
    
    More api changes :/ However, the new version certainly seems more powerful.

 tools/io_qfmap/entity.py |   10 ++++++++--
 1 file changed, 8 insertions(+), 2 deletions(-)

commit f25fbfe
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 3 16:45:50 2013 +0900

    Split out the text reflow code.
    
    This makes EntityPanel's draw code a little cleaner.

 tools/io_qfmap/entity.py |   33 ++++++++++++++++++++-------------
 1 file changed, 20 insertions(+), 13 deletions(-)

commit 6838913
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 3 16:27:23 2013 +0900

    Fix view3d callback for blender 2.65a+.
    
    Yay experimental APIs :P

 tools/io_qfmap/entity.py |    9 ++++-----
 1 file changed, 4 insertions(+), 5 deletions(-)

commit 2e8d9e7
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 16 20:31:46 2013 +0900

    Correct the menu code to sortof work with the new IMTs.
    
    The menu code at least compiles now. It should work for the default IMT
    tables (ie, if imt_0 is there).

 ruamoko/cl_menu/controls_o.r |   12 ++++++------
 ruamoko/include/key.h        |    6 +++---
 ruamoko/lib/key.r            |    6 +++---
 3 files changed, 12 insertions(+), 12 deletions(-)

commit ace8d9e
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 16 19:35:23 2013 +0900

    Implement dynamic IMTs.
    
    Now the user can create and destroy IMTs at will, though currently
    destroying IMTs is currently all or nothing (imt_drop_all).
    
    An IMT is created via imt_create which takes the keydest name (key_game
    etc), the name of the IMT (must be unique for all IMTs) and optionally the
    name of the IMT to which the key binding search will fall back if there is
    no binding in the current IMT, but must be already defined and on the same
    keydest. This means that IMTs now have user determined fallback paths. The
    requirements for the fallback IMT prevent loops and other weird behaviour.
    
    Actual key binding via in_bind is unaffected. This is why the IMT name must
    be unique across all IMTs.
    
    The "imt" command works with the key_game keydest, but imt_keydest is
    provided for specifying the active IMT for a specific keydest.
    
    At startup, default IMTs are setup to emulate the previous static IMTs so
    old configs will continue to work (mostly). New config files will be
    written with commands to drop all of the current IMTs and build new ones,
    with the bindings and active IMT set as well.

 include/QF/keys.h            |   57 +++--
 libs/video/targets/keys.c    |  535 ++++++++++++++++++++++++++++--------------
 libs/video/targets/pr_keys.c |   58 +++--
 nq/source/cl_demo.c          |    4 +-
 qw/source/cl_chat.c          |    2 +
 qw/source/cl_demo.c          |    4 +-
 6 files changed, 427 insertions(+), 233 deletions(-)

commit ec6ba8a
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 16 13:18:54 2013 +0900

    Make key_dest private to keys.c
    
    This has the bonus feature of making nq pause the game when input focus is
    lost (same conditions as dropping the console or bringing up the menu).

 include/QF/keys.h           |    3 +-
 libs/console/client.c       |   31 ++++---
 libs/models/iqm/model_iqm.c |    1 +
 libs/video/targets/in_x11.c |    7 +-
 libs/video/targets/keys.c   |   25 ++++--
 nq/include/host.h           |    1 +
 nq/source/host.c            |   11 ++-
 nq/source/host_cmd.c        |    4 -
 nq/source/sbar.c            |   16 ++--
 nq/source/sv_ded.c          |    8 +-
 nq/source/sv_user.c         |    2 +-
 qw/source/cl_chat.c         |    3 +-
 qw/source/sbar.c            |  207 +++++++++++++++++++++----------------------
 13 files changed, 175 insertions(+), 144 deletions(-)

commit 5d8aab7
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 14 12:57:17 2013 +0900

    Eliminate key_none.
    
    It is no longer needed as it was a hack to get key repeat control working
    properly.

 include/QF/keys.h   |    2 --
 qw/source/cl_chat.c |    3 ---
 2 files changed, 5 deletions(-)

commit 2a39863
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 14 12:53:42 2013 +0900

    Use callbacks for key repeat control.

 libs/video/targets/in_sdl.c |   22 +++++++++++-----------
 libs/video/targets/in_x11.c |   21 ++++++++++++---------
 2 files changed, 23 insertions(+), 20 deletions(-)

commit cf0729c
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 14 12:17:27 2013 +0900

    Support more than one keydest callback.

 include/QF/keys.h         |    3 ++-
 libs/video/targets/keys.c |   30 +++++++++++++++++++++++++++---
 qw/source/cl_chat.c       |    6 +++---
 3 files changed, 32 insertions(+), 7 deletions(-)

commit 8975dd9
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 16 15:40:47 2013 +0900

    Recalculate the refdef when leaving a menu.
    
    A tad brute force, but this should fix the status bar not refreshing when
    exiting the menus.

 libs/console/menu.c |    1 +
 1 file changed, 1 insertion(+)

commit 3cb0f3e
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 16 11:23:47 2013 +0900

    Remove viddef in favor of vid in the renderers.
    
    This fixes the status bar refresh issues in sw. The problem was that with
    two viddef's hanging around, things got a little confused and recalc_refdef
    wasn't getting into the renderer.

 include/QF/render.h                   |    3 ++-
 include/QF/vid.h                      |    2 +-
 libs/video/renderer/gl/gl_rmisc.c     |    1 -
 libs/video/renderer/r_init.c          |    5 +++--
 libs/video/renderer/sw/d_surf.c       |    1 -
 libs/video/renderer/sw32/d_surf.c     |    1 -
 libs/video/renderer/vid_render_gl.c   |    1 -
 libs/video/renderer/vid_render_glsl.c |    1 -
 libs/video/renderer/vid_render_sw.c   |    1 -
 libs/video/renderer/vid_render_sw32.c |    1 -
 libs/video/targets/context_sdl.c      |    2 +-
 libs/video/targets/vid.c              |    2 +-
 libs/video/targets/vid_fbdev.c        |    4 +---
 libs/video/targets/vid_sdl.c          |    4 +---
 libs/video/targets/vid_x11.c          |    4 +---
 nq/source/sv_ded.c                    |    1 -
 16 files changed, 11 insertions(+), 23 deletions(-)

commit cdbb2ad
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Wed Jan 16 10:31:02 2013 +0900

    Fix incorrect parsing of comments.
    
    Parsing /*..*/ style comments would stop at the first *.

 libs/util/idparse.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit cf5a3d8
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jan 13 21:49:43 2013 +0900

    Ensure menu is valid before doing anything.

 libs/console/menu.c |    3 +++
 1 file changed, 3 insertions(+)

commit a05e725
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jan 13 20:34:39 2013 +0900

    Force a full update when the fade screen is drawn.

 libs/video/renderer/sw/draw.c   |    1 +
 libs/video/renderer/sw32/draw.c |    1 +
 2 files changed, 2 insertions(+)

commit 2974bed
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jan 13 20:13:19 2013 +0900

    Add ruamoko declarations for the new menu functions.

 ruamoko/cl_menu/menu.h |    3 +++
 ruamoko/cl_menu/menu.r |    3 +++
 2 files changed, 6 insertions(+)

commit 0bfe387
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jan 13 20:08:01 2013 +0900

    Split up Sbar_Draw.
    
    The view visibility setting and drawing needs to be separated so the
    drawing happens every frame (for fps counter etc).

 nq/source/sbar.c |    9 +++++++--
 qw/source/sbar.c |    9 +++++++--
 2 files changed, 14 insertions(+), 4 deletions(-)

commit a8542c2
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jan 13 18:54:23 2013 +0900

    Correct the spelling of QFK_HIRAGANA_KATAKANA.
    
    'twas QFK_HIRAGANA_kATAKANA. Took a while to spot it :P

 include/QF/keys.h           |    2 +-
 libs/video/targets/in_x11.c |    2 +-
 libs/video/targets/keys.c   |    2 +-
 3 files changed, 3 insertions(+), 3 deletions(-)

commit e8450f6
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jan 13 18:53:21 2013 +0900

    Add builtins to handle menu next/prev/enter.

 libs/console/menu.c |   71 +++++++++++++++++++++++++++++++++------------------
 1 file changed, 46 insertions(+), 25 deletions(-)

commit e3b8157
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jan 13 18:19:00 2013 +0900

    Create a new imt_menu imt.
    
    It seems to work nicely as F10 no longer tries to quit while the menu is
    displayed.

 include/QF/keys.h         |    1 +
 libs/video/targets/keys.c |    5 ++++-
 2 files changed, 5 insertions(+), 1 deletion(-)

commit b183053
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jan 13 18:14:16 2013 +0900

    Rename game_target to key_target.
    
    Much better name :P

 libs/video/targets/keys.c |   22 +++++++++++-----------
 1 file changed, 11 insertions(+), 11 deletions(-)

commit b1ddae9
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jan 13 18:05:41 2013 +0900

    Add a command to clear specific IMTs.
    
    in_clear <imt>... where each argument to in_clear is an imt identifier. If
    any identifiers are incorrect, the incorrect ones will be displayed and no
    tables will be cleared. All or nothing.

 libs/video/targets/keys.c |   28 ++++++++++++++++++++++++++++
 1 file changed, 28 insertions(+)

commit 0c81364
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jan 13 17:23:00 2013 +0900

    Fix scr_copyeverything in gl and glsl.
    
    Now the gl renderers unconditionally set it to 1. This is required because
    the screen is cleared every frame.

 libs/video/renderer/gl/gl_screen.c     |    2 +-
 libs/video/renderer/glsl/glsl_screen.c |    1 +
 2 files changed, 2 insertions(+), 1 deletion(-)

commit bc7cd45
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jan 13 17:10:11 2013 +0900

    Force a status bar update if scr_copyeverything is true.
    
    This fixes the flickering status bar for those renderers that use
    scr_copyeverything correctly. sw and sw32. glsl flukes out by not touching
    scr_copyeverything and gl is wrong by always clearing it to 0 and never
    setting it later.

 nq/source/sbar.c |    3 +++
 qw/source/sbar.c |    3 +++
 2 files changed, 6 insertions(+)

commit 4a95f89
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jan 13 16:53:22 2013 +0900

    Correct the handling of r_viewsize and lineadj.
    
    r_viewsize is meant to be clamped to 100, but not limit linadj.

 libs/video/renderer/r_screen.c |    5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

commit 86b9562
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jan 13 16:46:41 2013 +0900

    Complete the move of some vars into vid_render_data.
    
    scr_fullupdate and scr_copyeverything were missed. Possibly others too, but
    this is enough for the moment.

 include/r_screen.h                 |    3 ---
 libs/video/renderer/gl/gl_screen.c |    2 +-
 libs/video/renderer/r_screen.c     |    5 +----
 libs/video/renderer/sw/screen.c    |    8 ++++----
 libs/video/renderer/sw32/screen.c  |    8 ++++----
 5 files changed, 10 insertions(+), 16 deletions(-)

commit 9c812f3
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jan 13 16:07:11 2013 +0900

    Apply some wart remover.
    
    hungarian notation... *twitch*

 libs/video/renderer/r_screen.c |   26 +++++++++++++-------------
 1 file changed, 13 insertions(+), 13 deletions(-)

commit 1503626
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jan 13 15:10:39 2013 +0900

    Remove a stray variable declaration.
    
    Quite bogus. How that got in there is beyond me.

 include/QF/progs.h |    1 -
 1 file changed, 1 deletion(-)

commit ed8b289
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jan 13 14:52:19 2013 +0900

    Make sdl's VID_SetPalette only queue a palette change.
    
    It seems that SDL_SetColors causes a page flip, so VID_SetPalette only
    queue a palette change (by checking for the need to change and storing the
    requested palete) and VID_Update now checks for a queued palette change and
    updates SDL's palette if required. This fixes the flickering console in sw
    -sdl introduced by the cshift/centerprint change.

 libs/video/targets/vid_sdl.c |   18 +++++++++++++++++-
 1 file changed, 17 insertions(+), 1 deletion(-)

commit 82a6861
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jan 13 14:43:19 2013 +0900

    Move the call to VID_Update out of the if blocks.
    
    This makes it obvious that VID_Update is unconditionally called when
    SCR_UpdateScreen is called.

 libs/video/renderer/sw/screen.c   |    7 +------
 libs/video/renderer/sw32/screen.c |    7 +------
 2 files changed, 2 insertions(+), 12 deletions(-)

commit f738e74
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jan 12 21:58:30 2013 +0900

    Set the hull depth for the client box_hull.
    
    Yet another missed hull :/

 qw/source/pmovetst.c |    1 +
 1 file changed, 1 insertion(+)

commit 00639aa
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jan 11 13:48:14 2013 +0900

    Require bison 2.6 or later.
    
    It turns out the apiprefix define is quite new (I didn't realize it at the
    time) and I'd rather get FTBFS reports based on configure catching the
    error than gcc catching it.

 INSTALL              |    2 +-
 config.d/programs.m4 |   12 ++++++++++++
 2 files changed, 13 insertions(+), 1 deletion(-)

commit 9028cda
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Dec 30 16:26:36 2012 +0900

    Add -fno-unsafe-math-optimizations to CFLAGS.
    
    It seems -ffast-math is not necessarily faster, and the errors it causes
    may not be worth the gains, but I'm not sure I want to nuke it completely,
    so instead disabling the worst offender of it
    (-fno-unsafe-math-optimizations) seems to be the best option. qfbsp now
    produces identical text output between optimized and unoptimized builds,
    and may be slightly faster than before the change (1.9s for start.map vs
    2.0s)

 config.d/compiling.m4 |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit acd25fb
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jan 11 10:47:49 2013 +0900

    Update the release script for git versioning.

 tools/build_scripts/qf-release |   12 ++++--------
 1 file changed, 4 insertions(+), 8 deletions(-)

commit e4965db
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 10 22:30:47 2013 +0900

    Fix missing files caused by a lost blackslash.

 Makefile.am |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit e1d85e9
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 10 22:17:32 2013 +0900

    add include/QF/math/*.h to the -dev deb.

 debian/quakeforge-dev.install |    1 +
 1 file changed, 1 insertion(+)

commit 3e343de
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 10 22:14:59 2013 +0900

    Qdd include/QF/math/*.h to the rpm.

 RPM/quakeforge.spec.in |    1 +
 1 file changed, 1 insertion(+)

commit 147bac0
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 10 22:01:55 2013 +0900

    Remove mention of qfpc from the spec file.
    
    qfpc has been "merged" into qfcc, so no need to delete it.

 RPM/quakeforge.spec.in |    1 -
 1 file changed, 1 deletion(-)

commit 5bbb761
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 10 21:54:37 2013 +0900

    Use stdlib.h instead of alloca.h.
    
    While the manpage does say alloca.h, that's not very portable, it seems.
    stdlib.h seems to be better (at least for mingw, anyway)

 libs/video/renderer/sw/sw_rbsp.c     |    2 +-
 libs/video/renderer/sw32/sw32_rbsp.c |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 9afeae0
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 10 21:13:19 2013 +0900

    Fix the mis-specified PKG_CONFIG_LIBDIR for mips.
    
    D'oh, forgot usr :P

 tools/cross/mipsel-linux/cross-configure.sh |    2 +-
 tools/cross/mipsel-linux/cross-make.sh      |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 89ae5cb
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 10 19:42:34 2013 +0900

    Remove the old hacks for qp-lex, too.

 tools/qfcc/source/qp-lex.l |   11 -----------
 1 file changed, 11 deletions(-)

commit 737347b
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 10 19:27:22 2013 +0900

    Remove the prototypes hack.
    
    While configure isn't testing yet, we need recent bison and flex, so many
    of the old hacks are no longer necessary.

 tools/qfcc/source/qc-lex.l |   11 -----------
 1 file changed, 11 deletions(-)

commit b0b2b02
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 8 21:36:28 2013 +0900

    Separate the drawing of the sbar from the console.
    
    Now sbar stuff gets cshifted, but the console stuff does not.

 nq/source/sbar.c |   40 ++++++++++++++++++++--------------------
 qw/source/sbar.c |   35 +++++++++++++++++++----------------
 2 files changed, 39 insertions(+), 36 deletions(-)

commit 3aa0b1a
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 8 20:37:36 2013 +0900

    Shuffle the client screen function order a little.
    
    The cshift is now drawn before centerprint, console and the loading plaque.
    Unfortunately, due to something odd going on, the sbar stuff is drawn by
    the console rather than by Sbar_Draw :P.

 nq/source/cl_screen.c |    4 ++--
 qw/source/cl_screen.c |    4 ++--
 2 files changed, 4 insertions(+), 4 deletions(-)

commit 6b97967
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 8 20:14:30 2013 +0900

    Use g instead of e for the fp values.
    
    Need to up the precision by one due to the difference between g and e, but
    much prettier. Might need to rename that function :P I wish I'd thought to
    check if g would work, but thanks to divVerent for the suggestion.

 libs/gamecode/pr_parse.c |    6 +++---
 nq/source/host_cmd.c     |    6 +++---
 2 files changed, 6 insertions(+), 6 deletions(-)

commit b096a02
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 8 18:50:44 2013 +0900

    Write fp values to saved games with enough precision.
    
    That is, enough precision to uniquely identify the fp values. No drifts!

 libs/gamecode/pr_parse.c |    6 +++---
 nq/source/host_cmd.c     |    5 +++--
 2 files changed, 6 insertions(+), 5 deletions(-)

commit d6bb5be
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 8 18:10:27 2013 +0900

    Use the already calculated string length.
    
    No point doing it twice.

 libs/util/qfplist.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 9155338
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 8 18:09:22 2013 +0900

    Add support for int and quaternion values in saved games.

 libs/gamecode/pr_parse.c |    6 ++++++
 1 file changed, 6 insertions(+)

commit 3e2a406
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 8 17:20:58 2013 +0900

    Use dstring in PR_UglyValueString().
    
    I should have done this a long time ago:P. This removes the really silly
    255 char limit from strings in saved games (and thus fixes books in ITS).

 libs/gamecode/pr_parse.c |   29 +++++++++++++++--------------
 1 file changed, 15 insertions(+), 14 deletions(-)

commit a4714ac
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 8 16:54:23 2013 +0900

    Correctly parse octal escapes for plist strings.
    
    It seems the code expected octal escapes to always start with 0. This is
    not the case. Also, octal escapes are limited to 3 digits (and hex to 2).
    
    This fixes the garbled bold text in ITS.

 libs/util/qfplist.c |   17 ++++++++++-------
 1 file changed, 10 insertions(+), 7 deletions(-)

commit febb615
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 8 16:32:57 2013 +0900

    Create a test for octal chars in plist strings.
    
    Both reading and writing.

 libs/util/test/Makefile.am  |    8 +++++--
 libs/util/test/test-plist.c |   53 +++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 59 insertions(+), 2 deletions(-)

commit 39ae720
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 8 16:19:40 2013 +0900

    Fix an error in qfcc's man page.
    
    --qccx-escapes doesn't take an arguement :P

 tools/qfcc/doc/man/qfcc.1 |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 751417f
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 7 19:59:49 2013 +0900

    Rename R_RecursiveWorldNode to R_VisitWorldNodes.
    
    Finally, the name reflects its actual purpose.

 libs/video/renderer/sw/sw_rbsp.c     |    5 ++---
 libs/video/renderer/sw32/sw32_rbsp.c |    5 ++---
 2 files changed, 4 insertions(+), 6 deletions(-)

commit a852eeb
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 7 19:57:21 2013 +0900

    Remove the recursive versions of R_RecursiveWorldNode.
    
    They seem to not be needed any more.

 libs/video/renderer/sw/sw_rbsp.c     |  151 ----------------------------------
 libs/video/renderer/sw32/sw32_rbsp.c |  151 ----------------------------------
 2 files changed, 302 deletions(-)

commit 9758302
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 7 19:51:36 2013 +0900

    Fix sw and sw32's R_RecursiveWorldNode node stack.
    
    I guess I had forgotten to make the node stack dynamically allocated for
    these renderers. Now ITS works in all four renderers.

 libs/video/renderer/sw/sw_rbsp.c     |   18 +++++++++++-------
 libs/video/renderer/sw32/sw32_rbsp.c |   18 +++++++++++-------
 2 files changed, 22 insertions(+), 14 deletions(-)

commit 76a69d9
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 7 14:35:34 2013 +0900

    Implement fteqcc's "nosave" specifier.
    
    Of course, it's "@nosave" for traditional progs, but that's only a define
    away.

 tools/qfcc/include/type.h    |    1 +
 tools/qfcc/source/qc-lex.l   |    1 +
 tools/qfcc/source/qc-parse.y |   18 +++++++++++++++++-
 3 files changed, 19 insertions(+), 1 deletion(-)

commit 955e3ee
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 7 13:52:48 2013 +0900

    Initialize the type to be ev_func.
    
    This fixes the returning of the wrong function symbol when resolving
    overloaded functions and one of the functions takes no parameters.

 tools/qfcc/source/function.c |    1 +
 1 file changed, 1 insertion(+)

commit 338bb9b
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 7 13:51:01 2013 +0900

    Look up the function symbol when resolving overloaded functions.
    
    This fixes the bogus undefined symbol errors when resolving unambigous
    overloaded functions.

 tools/qfcc/source/function.c |    8 ++++++--
 1 file changed, 6 insertions(+), 2 deletions(-)

commit 4370258
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jan 6 20:05:59 2013 +0900

    Clear the texture element chain after drawing.
    
    It was properly cleared after drawing water chains and sky chains, but I
    had missed normal surfaces. It took the use of the same texture for both
    normal surfaces and water surfaces to trigger the bug. Thanks go to Simon
    'Sock' O'Callaghan and his In The Shadows mod.

 libs/video/renderer/glsl/glsl_bsp.c |    2 ++
 1 file changed, 2 insertions(+)

commit 35aa510
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jan 6 12:02:37 2013 +0900

    Break out of think loop if nextthink doesn't progress.
    
    This fixes the infinite loop in Sock's shadows mode. Thanks to Spike for
    helping me with what should be happening. However, we're still uncertain
    about just how the thinktime/sv.time logic should behave.

 nq/source/sv_phys.c |    2 +-
 qw/source/sv_phys.c |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 49d07ce
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jan 5 17:42:27 2013 +0900

    Implement MH's version of Sys_DoubleTime for windows.
    
    From http://forums.inside3d.com/viewtopic.php?p=36239

 libs/util/sys.c |   46 ++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 46 insertions(+)

commit e0e69ac
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jan 5 17:40:59 2013 +0900

    Fix some signed/unsigned comparison warnings.
    
    It seems mingw's gcc treats pointer subtraction differently to how linux's
    gcc does.

 libs/gamecode/pr_exec.c    |    2 +-
 tools/qfcc/source/linker.c |    5 +++--
 2 files changed, 4 insertions(+), 3 deletions(-)

commit 34c0c82
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jan 4 19:32:04 2013 +0900

    Add support for binary constants using the 0b prefix.
    
    Just because :P (now that gcc support it, it seems worthwhile, I guess)

 tools/qfcc/source/qc-lex.l |   10 ++++++++--
 tools/qfcc/source/qp-lex.l |    9 ++++++++-
 2 files changed, 16 insertions(+), 3 deletions(-)

commit 7206756
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 1 15:13:27 2013 +0900

    Produce a vidmode list for developer output.
    
    vidmode is starting to show its age. Modern X doesn't need a config file,
    and when one is not available, the list of available resolutions is quite
    strange. Time to look into randr support.

 libs/video/targets/context_x11.c |    8 ++++++++
 1 file changed, 8 insertions(+)

commit 9d6954e
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Dec 30 11:42:31 2012 +0900

    Fixup extended bsp when loading the file.
    
    It turns out the tools need the node conversions too, so doing it in
    bspfile seems to be best as it is used by everything that reads a bsp file.

 libs/models/brush/model_brush.c |    7 ++-----
 libs/util/bspfile.c             |   11 +++++++----
 2 files changed, 9 insertions(+), 9 deletions(-)

commit 167977d
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Dec 30 11:38:55 2012 +0900

    Ensure ShortNoSwap is always uint16_t.
    
    It turns out gcc on little endian machines didn't guarantee the type of
    ShortNoSwap due to it being a macro that just returned its parameter. At
    the same time, LongNoSwap and FloatNoSwap have been fixed.

 include/QF/qendian.h |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 7a86ea2
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Dec 29 20:57:55 2012 +0900

    Do not use the bsp2 header when byteswapping the header.
    
    The bsp2 header is not necessarily correct (or even present), but the bsp29
    header is: it was setup via set_bsp32_write. This fixes the bsp corruption
    when vising a map (and, I expect, any problems with qfbsp on a big-endian
    machine).

 libs/util/bspfile.c |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit a4d95f3
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Dec 29 16:07:30 2012 +0900

    Move Mod_FindClipDepth and recurse_clip_tree into clip_hull.c.
    
    Since the hull depth needs to be set for the hull to be useful, it makes
    sense to move the code into the same place that allocates new hulls (to me,
    anyway).

 libs/models/brush/model_brush.c |   23 -----------------------
 libs/models/clip_hull.c         |   23 +++++++++++++++++++++++
 2 files changed, 23 insertions(+), 23 deletions(-)

commit 04a7e87
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Dec 29 15:59:23 2012 +0900

    Set the hull depth for the server box_hull.
    
    I'd forgotten about server generated hulls when I did the hull depth
    changes.

 nq/source/world.c |    1 +
 qw/source/world.c |    1 +
 2 files changed, 2 insertions(+)

commit b225879
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 26 11:54:49 2012 +0900

    Print all four sets with a legent for live vars.
    
    Much more informative :)

 tools/qfcc/source/dot_flow.c |   46 ++++++++++++++++++++++++++++--------------
 1 file changed, 31 insertions(+), 15 deletions(-)

commit c5179c9
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 26 11:53:06 2012 +0900

    Add MOVEP's opc to the use set.
    
    MOVEP's opc itself is always known and used, whether it's a constant
    pointer or variable doesn't matter. This fixes the lost pointer calculation
    for va_list.list[j] = object_from_plist (item);

 tools/qfcc/source/flow.c |    1 +
 1 file changed, 1 insertion(+)

commit 412fb4a
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 26 11:51:40 2012 +0900

    Fix a static out of bounds error.
    
    I really must compile with optimizations more often :P

 tools/qfcc/source/dags.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 88c765e
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 26 11:49:39 2012 +0900

    Add a test for returning @param into an array.

 tools/qfcc/test/Makefile.am |    8 ++++++++
 tools/qfcc/test/paramret.r  |   26 ++++++++++++++++++++++++++
 2 files changed, 34 insertions(+)

commit 3b63c31
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 26 11:47:53 2012 +0900

    Use pr_return for the null pointer check.
    
    The params come after the return slot :P. Getting a null pointer exception
    for movep from .return wasn't very funny.

 libs/gamecode/pr_exec.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 386a729
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Dec 25 17:07:58 2012 +0900

    Remove dead nodes from dags.
    
    Dead nodes are those that generate unused values (unassigned leaf nodes,
    expressions or destinationless move(p) nodes). The revoval is done by the
    flow analysis code (via the dags code) so that any pre and post removal
    flow analysis and manipulation may be done (eg, available expressions).

 tools/qfcc/include/dags.h   |    3 +++
 tools/qfcc/source/dags.c    |   50 +++++++++++++++++++++++++++++++++++++++++--
 tools/qfcc/source/dot_dag.c |    3 +++
 tools/qfcc/source/flow.c    |   15 +++++++++++++
 4 files changed, 69 insertions(+), 2 deletions(-)

commit 3baa73e
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Dec 25 15:47:00 2012 +0900

    Increase qwaq-x11's hunk space to 8MB.
    
    1MB is too small for the few sounds my experimental game uses.

 tools/qwaq/qwaq.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 1e3154e
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Dec 25 13:43:52 2012 +0900

    Do not always reset current_storage.
    
    resetting current_storage in external_def_list's empty rule breaks the
    block storage scopes (extern { ... } etc);

 tools/qfcc/source/qc-parse.y |    1 -
 1 file changed, 1 deletion(-)

commit e414117
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Dec 25 13:33:31 2012 +0900

    Move jump threading into the dead-code removal loop.
    
    Dead code removal can give more opportunities to the useless branch removal
    in the jump threading code.

 tools/qfcc/source/statements.c |   22 ++++++++++++++--------
 1 file changed, 14 insertions(+), 8 deletions(-)

commit 07187ca
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Dec 25 13:23:14 2012 +0900

    Remove useless conditional branches too.
    
    "if x" jumping to the next statement is pretty useless.

 tools/qfcc/source/statements.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 92fffb3
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Dec 25 13:22:31 2012 +0900

    Check for a flow var for temp aliases.

 tools/qfcc/source/flow.c |    6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit 9d27764
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Dec 24 20:12:56 2012 +0900

    Use new_binary_expr to recreate the assignment.
    
    assign_expr mangles the destination expression for dereferenced
    assignments into something that is invalid as an lvalue, so simply use
    new_binary_expr with the same opcode.

 tools/qfcc/source/expr.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 0fc8aa5
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Dec 24 20:06:38 2012 +0900

    Make expr->next edges constrained.
    
    It turns out expression trees are (mostly?) valid DAGs, so all edges being
    constrained works, though the graphs get a little tall (but easier to read).

 tools/qfcc/source/dot_expr.c |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 79519bc
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Dec 24 20:01:16 2012 +0900

    Avoid testing block expressions in truth assignments.
    
    This fixes the infinite loop in if ((x = self.heat && x))
    
    Really, I think I need to revisit the whole expression tree code. It's
    proving to be rather fragile.

 tools/qfcc/source/expr.c |    8 +++++++-
 1 file changed, 7 insertions(+), 1 deletion(-)

commit 60af059
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Dec 23 19:57:39 2012 +0900

    Allow arbitrary expressions in a bool's block.
    
    This generates correct code for "if ((x = y))": the assignment still
    occurs.

 tools/qfcc/source/statements.c |    3 +++
 1 file changed, 3 insertions(+)

commit f6c4e06
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Dec 23 19:53:31 2012 +0900

    Reimplement assignment as truth value.
    
    The source of the assignment is used as the value to test, and the
    assignment itself is inserted into the boolean expressions's block. This
    fixes the inernal error for "if ((x = 0))".

 tools/qfcc/source/expr.c |   11 +++++++++++
 1 file changed, 11 insertions(+)

commit a881fb5
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Dec 23 19:34:25 2012 +0900

    Make float values obvious in expression dot dumps.

 tools/qfcc/source/dot_expr.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f65ce22
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Dec 23 19:32:32 2012 +0900

    Fold constants for the return value of test_expr.
    
    More constantness preservation.

 tools/qfcc/source/expr.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 22db05d
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Dec 23 19:31:09 2012 +0900

    Alias value expressions by aliasing the value.
    
    This keeps constant expressions constant, even through aliasing.

 tools/qfcc/source/expr.c |    2 ++
 1 file changed, 2 insertions(+)

commit b295524
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Dec 23 19:29:50 2012 +0900

    Add new_value_expr().
    
    This simplifies creating a new expression for an arbitrary value object.

 tools/qfcc/include/expr.h |    7 +++++++
 tools/qfcc/source/expr.c  |    9 +++++++++
 2 files changed, 16 insertions(+)

commit 42ba0c9
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Dec 23 19:25:35 2012 +0900

    Add alias_value() function.
    
    alias_value returns a new value where only the type is different, the
    bit-pattern of the value itself is untouched.

 tools/qfcc/include/value.h |    5 +++--
 tools/qfcc/source/value.c  |   14 ++++++++++++++
 2 files changed, 17 insertions(+), 2 deletions(-)

commit 82ded2b
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Dec 23 14:55:16 2012 +0900

    Split the test for assignment and parenthesis.
    
    This will make it easier to fix the internal error for "if (x = 0)".

 tools/qfcc/source/expr.c |    5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

commit b9a0e2c
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Dec 23 14:47:29 2012 +0900

    Catch the error for undefined++.

 tools/qfcc/source/expr.c |    2 ++
 1 file changed, 2 insertions(+)

commit a778d45
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Dec 23 14:25:09 2012 +0900

    Drop non-function symbols returned from function_symbol.
    
    In such situations, everything is a mess from earlier errors.

 tools/qfcc/source/qc-parse.y |    8 ++++++--
 1 file changed, 6 insertions(+), 2 deletions(-)

commit aae0e21
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Dec 23 06:01:20 2012 +0900

    Treat class instance access as a normal error.
    
    Normally, it will happen only as a follow-on error, but I can think of a
    way to force it without other errors, so treating it as an internal error
    is a bit harsh.

 tools/qfcc/source/expr.c |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 996b273
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Dec 23 05:57:13 2012 +0900

    Reset current_class in the top-level error rules.
    
    This fixes a weird internal error after a parse error in an ivar
    declaration.

 tools/qfcc/source/qc-parse.y |    2 ++
 1 file changed, 2 insertions(+)

commit 1c76ccc
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Dec 22 20:06:14 2012 +0900

    Always set current_symtab in class_init().
    
    But reset current_symtab to its prior value when done. This fixes a
    segfault caused by initializing the class system while parsing a struct
    (eg, one of the members is of type id).

 tools/qfcc/source/class.c |    7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

commit ff4b232
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Dec 22 20:04:11 2012 +0900

    Reset current_storage when resetting current_symtab.
    
    This helps prevent an internal error caused by ealier errors.

 tools/qfcc/source/qc-parse.y |   23 ++++++++++++++++++++---
 1 file changed, 20 insertions(+), 3 deletions(-)

commit 85387e0
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Dec 22 19:35:19 2012 +0900

    Avoid class segfaults caused by parse errors.

 tools/qfcc/source/class.c |    6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit 681bd6f
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Dec 22 19:22:08 2012 +0900

    Don't try to emit code if there have been errors.
    
    The expression tree can't really be trusted if there have been errors.
    While warnings as errors are another matter, it's not worth sorting out.

 tools/qfcc/source/function.c |    2 ++
 1 file changed, 2 insertions(+)

commit adf3e36
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Dec 22 17:06:00 2012 +0900

    Get the tempop alias's type from the right place.
    
    Temporyary aliases use only the low-level type, not the full type
    descriptor. Fixes the segfault when dumping dot graphs.

 tools/qfcc/source/statements.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 513d67c
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Dec 22 16:31:14 2012 +0900

    Splut up the keywrods table into categories.
    
    The keywords table was rather awkward to edit (and sometimes confusing).
    Worse, because the hash table used to look up the keywords was initialized
    only once, changing modes in the same execution of qfcc would not work
    properly as keywords would not be added or removed as appropriate.
    
    Now there are four categories of keywords:
     o  "core"  Always available. They form the core of QuakeC except for two
                extensions.
     o  "@"     In extended and advanced modes, the preceeding @ is optional,
                but tranditional mode requires the keywords to be preceeded by
                an @. They are the C keywords that QuakeC did not use, but can
                be implemented in v6 progs under certain circumstances.
     o  "QF"    These keywords require the QuakeForge VM to be usable.
     o  "Obj"   These keywords form Ruamoko/Objective-QuakeC and require both
                advanced mode and the QuakeForge VM.

 tools/qfcc/source/qc-lex.l |  225 +++++++++++++++++++++++++++-----------------
 1 file changed, 140 insertions(+), 85 deletions(-)

commit 7d92804
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Dec 22 16:29:43 2012 +0900

    Remove support for break as an identifier.
    
    I never really liked it, but I have a better solution in the pipe-line.

 tools/qfcc/source/qc-parse.y |    6 ------
 1 file changed, 6 deletions(-)

commit 33bb422
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Dec 22 14:38:38 2012 +0900

    Force .param_N to be live when adding the edge to its node.
    
    This fixes the segfault/null pointer access in sendv.r. While I wanted to
    use the edge setting code to set the live bit, I didn't expect it to be
    this easy. def_visit_all is proving to be worth every bit it consumes :)

 tools/qfcc/source/dags.c |   12 +++++++++---
 1 file changed, 9 insertions(+), 3 deletions(-)

commit 1fdc32b
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Dec 22 14:24:11 2012 +0900

    Check for null VM pointer accesses.
    
    Currently only four words of "null pointer protection" are available, but
    it's a start.

 libs/gamecode/pr_exec.c |    2 ++
 1 file changed, 2 insertions(+)

commit a95f679
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Dec 22 14:05:12 2012 +0900

    Add a test for compiling calls to obj_msg_sendv.
    
    It seems dag_set_live_vars still served a purpose after all, but I don't
    feel like bringing it as I'd rather implement its param handing in
    dagnode_set_edges. I've now got a test case for it, though the test
    currently causes the VM to segfault (even with pr_boundscheck 2!).

 tools/qfcc/test/Makefile.am |    8 ++++++
 tools/qfcc/test/sendv.r     |   57 +++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 65 insertions(+)

commit 175935e
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Dec 22 14:04:14 2012 +0900

    Turn on bounds checking in the test harness.
    
    Definitely want bounds checking for the tests.

 tools/qfcc/test/test-harness.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 6eb6b6c
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Dec 21 21:53:13 2012 +0900

    Change pointer_t to unsigned and clean up the mess.
    
    It doesn't make sense to have negative pointers. The size of the commit is
    from enabling gcc's -Wtype-limits warning and cleaning up that mess too.

 config.d/compiling.m4               |    1 +
 include/QF/pr_comp.h                |    2 +-
 include/QF/progs.h                  |    8 ++++----
 libs/audio/renderer/snd_mix.c       |    2 +-
 libs/gamecode/pr_debug.c            |    5 ++---
 libs/gamecode/pr_exec.c             |    4 ++--
 libs/gib/gib_execute.c              |    6 +++---
 libs/ruamoko/rua_obj.c              |    2 +-
 libs/util/hash.c                    |   12 ++++++------
 libs/video/renderer/noisetextures.c |    6 +++---
 libs/video/renderer/r_part.c        |    2 +-
 libs/video/renderer/sw/draw.c       |    2 +-
 libs/video/renderer/sw32/draw.c     |    2 +-
 qw/source/sv_main.c                 |    4 ++--
 tools/bsp2img/bsp2img.c             |    2 +-
 tools/qfcc/include/obj_file.h       |    6 +++---
 tools/qfcc/source/constfold.c       |    4 ++--
 tools/qfcc/source/dot_expr.c        |    2 +-
 tools/qfcc/source/dump_lines.c      |    5 ++---
 tools/qfcc/source/linker.c          |   15 +++++++--------
 tools/qfcc/source/obj_file.c        |    8 ++++----
 tools/qfcc/source/obj_type.c        |    2 +-
 tools/qfcc/source/statements.c      |    6 +++---
 tools/qfcc/source/symtab.c          |    2 +-
 tools/qfcc/source/type.c            |    2 +-
 25 files changed, 55 insertions(+), 57 deletions(-)

commit 7701393
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Dec 21 20:03:28 2012 +0900

    Append a new sblock for return when necessary.
    
    If the final block ends in a conditional statement, appending return to the
    block will hide the conditional statement from the flow analyzer. This may
    cause the conditional statement's destination node be become unreachable
    according to the analyzer and thus eliminated. The label for the branch
    then loses its target sblock and thus the code generator will produce a
    zero-distance jump resulting in an infinite loop.
    
    Thus, if the final block ends in a conditional statement (or, for
    completeness, a call statement), append a new empty block before adding the
    return statement.

 tools/qfcc/source/statements.c |    8 +++++++-
 tools/qfcc/test/Makefile.am    |   10 +++++++++-
 tools/qfcc/test/voidfor.r      |   17 +++++++++++++++++
 3 files changed, 33 insertions(+), 2 deletions(-)

commit cb39cfc
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Dec 21 20:01:53 2012 +0900

    Turn on the runaway loop detector for the test harness.
    
    Definitely don't want any tests hanging.

 tools/qfcc/test/test-harness.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit cc5e0f9
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Dec 21 18:43:03 2012 +0900

    Use git-version-gen to create meaningful version strings.
    
    git-version-gen is taken from autoconf-2.69 with the change of adding
    --tags to the git command line since we don't sign our tags (yet).

 .gitignore               |    1 +
 Makefile.am              |    9 +-
 config.d/git-version-gen |  220 ++++++++++++++++++++++++++++++++++++++++++++++
 configure.ac             |    2 +-
 4 files changed, 230 insertions(+), 2 deletions(-)

commit 4527281
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Dec 21 17:12:41 2012 +0900

    Check the expression type when casting constants.
    
    Not all constant expressions are ex_value. This fixes the bogus errors and
    ice in paroxysm.

 tools/qfcc/source/expr.c |   14 +++++++++++++-
 1 file changed, 13 insertions(+), 1 deletion(-)

commit 84a68b1
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Dec 21 14:09:00 2012 +0900

    Rename set_iter_t's value to element.
    
    Correct terminology and all :)

 include/QF/set.h             |   28 ++++++++++++++--------------
 libs/ruamoko/rua_set.c       |    2 +-
 libs/util/set.c              |    6 +++---
 tools/qfcc/source/dags.c     |   14 +++++++-------
 tools/qfcc/source/dot_dag.c  |    8 ++++----
 tools/qfcc/source/dot_flow.c |    2 +-
 tools/qfcc/source/flow.c     |   34 +++++++++++++++++-----------------
 7 files changed, 47 insertions(+), 47 deletions(-)

commit 37a282d
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Dec 21 13:17:07 2012 +0900

    Initialize the immediate before putting it in the hash table.
    
    This fixes the excessive globals used on constants.

 tools/qfcc/source/value.c |   18 ++++++++++--------
 1 file changed, 10 insertions(+), 8 deletions(-)

commit 6c2d0b0
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 20 21:28:34 2012 +0900

    Directly generate MOVEP for variable destination pointers.
    
    When the destination pointer is variable, the MOVEP node will not have any
    identifiers attached to it, so generate_moveps must not be used.

 tools/qfcc/source/dags.c |   11 ++++++++---
 1 file changed, 8 insertions(+), 3 deletions(-)

commit 7b18509
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 20 21:01:46 2012 +0900

    Force RETURN's operand to be live.
    
    This seems to be the final fix to get return-ivar.r working.

 tools/qfcc/source/dags.c      |   11 +++++++++++
 tools/qfcc/test/Makefile.am   |    8 ++++++++
 tools/qfcc/test/return-ivar.r |   26 ++++++++++++++++++++++++++
 3 files changed, 45 insertions(+)

commit 13f09b1
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 20 20:58:19 2012 +0900

    Generate MOVEPs for attached identifiers.
    
    The "address operator" has been stripped from the identifer so it needs to
    be rebuilt, and the identifier itself is returned as the destination.

 tools/qfcc/source/dags.c |   30 ++++++++++++++++++++++++++----
 1 file changed, 26 insertions(+), 4 deletions(-)

commit 453dacb
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 20 20:57:11 2012 +0900

    Nuke dag_set_live_vars.
    
    It is no longer needed thanks to the exit dummy node used for making
    globals live.

 tools/qfcc/source/dags.c |   27 ---------------------------
 1 file changed, 27 deletions(-)

commit cc0373c
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 20 20:55:25 2012 +0900

    Correct a pair of spelling mistakes.
    
    Hopefully, noone would ever see them anyway.

 tools/qfcc/source/dags.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit a51ca44
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 20 19:08:50 2012 +0900

    Record MOVEP's destination pointer only when variable.
    
    If MOVEP's destination is variable, then the actual destination isn't (at
    this stage) knowable, so it can't be attached to the dagnode and thus must
    be a child.

 tools/qfcc/source/flow.c |   30 +++++++++++++++++-------------
 1 file changed, 17 insertions(+), 13 deletions(-)

commit 4d587ea
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 20 19:02:55 2012 +0900

    Use flow_analyze_statement to get statement operands.
    
    Getting the operands directly from the statement was missing the
    destination operand of movep when movep's op_c was a constant pointer and
    thus the flowvar wasn't being counted/created early enough. This led to a
    segfault in the set code when attempting to add -1 to the set.

 tools/qfcc/source/flow.c |   15 ++++++++-------
 1 file changed, 8 insertions(+), 7 deletions(-)

commit 5ec4598
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 20 16:33:01 2012 +0900

    Fix a double out-by-one error.
    
    This fixes the aliasing problem brought to light by the recent dead-code
    removal work.
    
    * taniwha dons a brown paper bag.

 tools/qfcc/source/dags.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 580fba2
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 20 14:47:18 2012 +0900

    Print the type of temporary operands.
    
    It turns out the recent dead-block code "broke" vector component access
    from objects. The breakage is really highlighting a problem with temporary
    operands and aliasing. The problem was hiding behind a basic-block split
    that the recent dead-block work mended and thus exposed the bug.

 tools/qfcc/source/statements.c |    7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

commit 7642c66
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 20 13:42:19 2012 +0900

    Implement protocol checking in categories.

 tools/qfcc/source/class.c |   39 ++++++++++++++++++++++++++++++++-------
 1 file changed, 32 insertions(+), 7 deletions(-)

commit 0cc90c0
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 20 13:12:26 2012 +0900

    Implement protocol checking.
    
    It's very basic and incomplete (doesn't check categories), but it's a good
    start.

 tools/qfcc/source/class.c |   75 +++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 75 insertions(+)

commit 6d6f231
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 20 13:12:05 2012 +0900

    Fix mangling of types when attaching protocols.
    
    The protocol attachment test was in the wrong place, and there were some
    typos in compare_protocols and procollist_find_protocol.

 tools/qfcc/include/class.h   |    1 +
 tools/qfcc/source/class.c    |    6 ++++--
 tools/qfcc/source/qc-parse.y |    4 +++-
 tools/qfcc/source/type.c     |    5 +++--
 4 files changed, 11 insertions(+), 5 deletions(-)

commit 211a7a8
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 20 11:11:59 2012 +0900

    Create and use more type checking functions.

 tools/qfcc/include/type.h |    1 +
 tools/qfcc/source/type.c  |   15 ++++++++++-----
 2 files changed, 11 insertions(+), 5 deletions(-)

commit 8c2af5c
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 19 14:07:23 2012 +0900

    Add more convenience functions.
    
    Cleans up obj_types_assignable a little.

 tools/qfcc/include/class.h |    2 ++
 tools/qfcc/source/class.c  |   48 +++++++++++++++++++++++++++++++-------------
 2 files changed, 36 insertions(+), 14 deletions(-)

commit 3af031c
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 19 11:53:19 2012 +0900

    Move the rest of the obj specific stuff into class.c.
    
    This gives better hiding of implementation details.

 tools/qfcc/include/class.h   |    2 ++
 tools/qfcc/include/type.h    |    1 -
 tools/qfcc/source/class.c    |   44 ++++++++++++++++++++++++++++++++++++++++++
 tools/qfcc/source/def.c      |    2 +-
 tools/qfcc/source/expr.c     |    6 +++---
 tools/qfcc/source/qc-parse.y |    4 ++--
 tools/qfcc/source/type.c     |   41 ++++++++++-----------------------------
 7 files changed, 62 insertions(+), 38 deletions(-)

commit 7cb2e40
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Dec 18 21:19:17 2012 +0900

    Add is_pointer convenience function.

 tools/qfcc/include/type.h |    1 +
 tools/qfcc/source/type.c  |    8 ++++++++
 2 files changed, 9 insertions(+)

commit 64c98bd
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Dec 18 21:14:13 2012 +0900

    Rename is_id to obj_is_id.
    
    Better naming convenion.

 tools/qfcc/include/class.h |    2 +-
 tools/qfcc/source/class.c  |    2 +-
 tools/qfcc/source/type.c   |    6 +++---
 3 files changed, 5 insertions(+), 5 deletions(-)

commit 686858a
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Dec 18 21:08:52 2012 +0900

    Use the symtab to check for qualified id.
    
    type_id is implemented as a pointer to "struct obj_object" (ie, not really
    a class), so the correct check is to ensure the type is:
     1  a pointer
     2  to a struct
     3  using the same symbol table as type_obj_object

 tools/qfcc/source/class.c |   11 ++++++++---
 tools/qfcc/source/type.c  |    2 ++
 2 files changed, 10 insertions(+), 3 deletions(-)

commit 4f81a65
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Dec 18 20:56:23 2012 +0900

    Move is_id() from type to class.
    
    type_id's implementation should remain "private" to class.c

 tools/qfcc/include/class.h |    2 ++
 tools/qfcc/include/type.h  |    1 -
 tools/qfcc/source/class.c  |   12 ++++++++++++
 tools/qfcc/source/type.c   |   12 ------------
 4 files changed, 14 insertions(+), 13 deletions(-)

commit f181772
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Dec 18 20:45:48 2012 +0900

    Attach protocolrefs to class types.
    
    The protocolrefs (as protocollist_t) are attached to the type as a
    qualifier.

 tools/qfcc/include/class.h   |    5 +++--
 tools/qfcc/include/type.h    |    2 ++
 tools/qfcc/source/class.c    |   37 +++++++++++++++++++++++++++++++++++++
 tools/qfcc/source/qc-parse.y |   16 ++++++++++++++--
 tools/qfcc/source/type.c     |   22 ++++++++++++++++++----
 5 files changed, 74 insertions(+), 8 deletions(-)

commit 45c753f
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Dec 18 20:01:36 2012 +0900

    Catch attempts to create a static instance of a class.
    
    It is actually an error to create a static instance of a class.

 tools/qfcc/source/def.c |    7 +++++++
 1 file changed, 7 insertions(+)

commit f7006f1
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Dec 18 17:05:55 2012 +0900

    Add .m to the list of recognized language extensions.

 tools/qfcc/source/qfcc.c |    1 +
 1 file changed, 1 insertion(+)

commit 4868a24
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Dec 18 15:54:30 2012 +0900

    Fix the "for new syntax" FIXME.
    
    Empty structs are now (correctly) invalid. The hack of using an empty
    struct to represent a handle returned from a builtin has been unnecessary
    since opaque structs were implemented: now a pointer to an opaque struct
    can be used. This is mostly safe as handles are aways negative and thus
    attempting to dereference such a pointer should result in a VM error. It
    will be even safer once const is implemented and the pointers can be made
    constant (eg, typedef struct handle * const handle;)

 ruamoko/include/Set.h        |    4 ++--
 ruamoko/include/hash.h       |    1 -
 ruamoko/include/plist.h      |    4 +---
 ruamoko/include/qfile.h      |    1 -
 ruamoko/lib/PropertyList.r   |    2 +-
 tools/qfcc/source/qc-parse.y |    8 ++++++--
 6 files changed, 10 insertions(+), 10 deletions(-)

commit 3e94869
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Dec 18 15:19:26 2012 +0900

    Remove the function overloading FIXMEs.
    
    It seems they were fixed a long time ago.

 tools/qfcc/source/qc-parse.y |    2 --
 1 file changed, 2 deletions(-)

commit c68578d
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Dec 18 13:59:45 2012 +0900

    Rename CONST to VALUE.
    
    VALUE is a much more accurate name, and this allows for "const" to be
    implemented at some stage.

 tools/qfcc/source/qc-lex.l   |   12 ++++++------
 tools/qfcc/source/qc-parse.y |    4 ++--
 tools/qfcc/source/qp-lex.l   |   12 ++++++------
 tools/qfcc/source/qp-parse.y |    8 ++++----
 4 files changed, 18 insertions(+), 18 deletions(-)

commit fe7cd7e
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Dec 18 13:52:02 2012 +0900

    Catch omitted parameter names from function definitions.
    
    void foo (int); is fine for a prototype (or, presumably, a qc function
    variable), but not for an actual function body. This fixes the segmentation
    fault when the parameter name is omitted.

 tools/qfcc/source/function.c |    4 ++++
 1 file changed, 4 insertions(+)

commit cd7c53d
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Dec 18 12:49:43 2012 +0900

    Parse id <protocol> and classname <protocol>.
    
    This is needed to allow compile-time protocol conformance checks, though
    nothing along those lines has been implemented yet.
    
    id has been changed from TYPE to OBJECT, required to allow id <proto> to be
    parsed. OBJECT uses symbol, allowing id to be redefined once suitable work
    has been done on the parser.

 tools/qfcc/source/class.c    |    2 ++
 tools/qfcc/source/qc-lex.l   |    5 ++++-
 tools/qfcc/source/qc-parse.y |   10 ++++++++--
 3 files changed, 14 insertions(+), 3 deletions(-)

commit 97c89c6
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 19 21:52:10 2012 +0900

    Add more todo items.

 tools/qfcc/TODO |    2 ++
 1 file changed, 2 insertions(+)

commit b5baf09
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 19 20:09:59 2012 +0900

    Fix the old dead block removal code.
    
    It uses the new block merge code. Now forgotten return statements are
    detected properly (naive dead block removal) and all unreachable code is
    eliminated (flow analysis unreachable node removal).

 tools/qfcc/source/statements.c |  102 ++++------------------------------------
 1 file changed, 9 insertions(+), 93 deletions(-)

commit ab6a3fe
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 19 20:02:42 2012 +0900

    Revert "Remove the dead block removal code."
    
    This reverts commit 83ead0842f090c3ab6611b33ae19627ffa02eb39.
    
    Note: does not compile.
    
    It turns out basic dead block removal is needed for the "control reaches
    end of non-void function" warning to work correctly.

 tools/qfcc/source/statements.c |  168 +++++++++++++++++++++++++++++++++++++++-
 1 file changed, 166 insertions(+), 2 deletions(-)

commit 65561fc
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 19 19:45:05 2012 +0900

    Clean up statement blocks.
    
    Empty sblocks are removed (unless it's the only sblock), and blocks that
    are split unnecessarily are merged.
    
    This mostly fixes bogus "no return" warnings.

 tools/qfcc/source/statements.c |   78 ++++++++++++++++++++++++++++++++++++++--
 1 file changed, 76 insertions(+), 2 deletions(-)

commit 427d525
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 19 17:13:32 2012 +0900

    Fix an uninitialized variable warning.
    
    It's a false positive, but best to be safe.

 libs/ruamoko/rua_obj.c |    1 +
 1 file changed, 1 insertion(+)

commit 21b5ea8
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 19 17:08:48 2012 +0900

    Remove unreachable nodes.
    
    Any nodes still marked as unreachable (dfn < 0) need to be removed so
    graph->dfo is valid (only one node 0).

 tools/qfcc/source/flow.c |   50 +++++++++++++++++++++++++++++++++++++++++-----
 1 file changed, 45 insertions(+), 5 deletions(-)

commit 3270bb3
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 19 16:50:06 2012 +0900

    Make node numbering int rather than unsigned.
    
    (unsigned) -1 is not what I wanted :P

 tools/qfcc/include/flow.h |    6 +++---
 tools/qfcc/source/flow.c  |    2 +-
 2 files changed, 4 insertions(+), 4 deletions(-)

commit 927335a
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 19 16:23:08 2012 +0900

    Break out the successors and edges code.
    
    This will make for nicer code when everything is looped for unreachable
    node removal.

 tools/qfcc/source/flow.c |  147 +++++++++++++++++++++++++++-------------------
 1 file changed, 86 insertions(+), 61 deletions(-)

commit c7ae58d
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 19 16:08:10 2012 +0900

    Allow flownodes and sblocks to be numbered independently.
    
    The numbering will need to be independent when unreachable nodes are
    removed.

 tools/qfcc/include/statements.h |    1 +
 tools/qfcc/source/flow.c        |   23 +++++++++++++----------
 2 files changed, 14 insertions(+), 10 deletions(-)

commit 9d35ca6
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 19 16:00:58 2012 +0900

    Mark all nodes as unreachable.
    
    flow_build_dfst() marks a reacable node as such by setting the node's dfn
    to a value >= 0.

 tools/qfcc/source/flow.c |    3 +++
 1 file changed, 3 insertions(+)

commit 32556b7
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 19 15:55:29 2012 +0900

    Initialize the graph's depth first order array.
    
    Unreachable nodes will cause the first elements of the array to remain
    unwritten by df_search. This fixes the segfaults caused by unreachable
    nodes (the reason they were an internal error before).

 tools/qfcc/source/flow.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a7e9def
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 19 15:31:32 2012 +0900

    Remove the non-initial parentless node check.
    
    Its purpose was to catch when the old dead block remover failed to remove
    unreachable blocks, but that code is now gone.

 tools/qfcc/source/flow.c |    5 -----
 1 file changed, 5 deletions(-)

commit 83ead08
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 19 15:28:39 2012 +0900

    Remove the dead block removal code.
    
    It has proven to be too naive as it is unable to remove unreachable loops.

 tools/qfcc/source/statements.c |  172 +---------------------------------------
 1 file changed, 4 insertions(+), 168 deletions(-)

commit b9c5769
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Dec 17 18:59:45 2012 +0900

    Allow messages to nil.
    
    That is, [nil message];. I just found out this is "perfectly legal"
    (http://www.otierney.net/objective-c.html).

 tools/qfcc/source/expr.c |    2 ++
 1 file changed, 2 insertions(+)

commit f1b1822
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Dec 17 15:41:56 2012 +0900

    Add the sound builtins to qwaq.
    
    All one of them :P

 tools/qwaq/qwaq-bi.c |    1 +
 1 file changed, 1 insertion(+)

commit bf141a7
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Dec 17 15:09:26 2012 +0900

    Enable sound in qwaq-x11 :)
    
    If qwaq-sdl ever gets done (anybody know where some round twits are?), it
    too will have sound. :)

 tools/qwaq/qwaq-bi.c |    2 +-
 tools/qwaq/qwaq.c    |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 7b38b0b
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Dec 17 15:07:49 2012 +0900

    Make S_Init safe to use with a null viewentity.
    
    Current work in qwaq doesn't need 3d spacialization, so it wants to pass
    null for the viewentity pointer.

 libs/audio/renderer/snd_channels.c |   16 ++++++++++------
 1 file changed, 10 insertions(+), 6 deletions(-)

commit 463e410
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Dec 16 14:24:19 2012 +0900

    Support struct style initializers for vectors and quaternions.
    
    The current implementation probably needs more work, but for the case where
    I needed it, it does the job.
    grid.r:100:     vector      size = {range, range, 0};
    0115 store.f range, size
    0116 store.f range, [$2ac]
    0117 store.f .zero, [$2ad]

 tools/qfcc/source/def.c |    7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

commit e17d8ac
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Dec 16 13:48:36 2012 +0900

    Add ruamoko wrappers for the set api.
    
    This includes both normal functions and a Set class (and SetIterator
    class). Most of the methods are implemented as builtins.

 include/rua_internal.h      |    2 +
 libs/ruamoko/Makefile.am    |    2 +-
 libs/ruamoko/rua_init.c     |    1 +
 libs/ruamoko/rua_set.c      |  737 +++++++++++++++++++++++++++++++++++++++++++
 ruamoko/include/Makefile.am |    2 +-
 ruamoko/include/Set.h       |   70 ++++
 ruamoko/lib/Makefile.am     |    2 +-
 ruamoko/lib/Set.r           |   93 ++++++
 8 files changed, 906 insertions(+), 3 deletions(-)

commit 3a9fe19
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Dec 16 13:39:59 2012 +0900

    Get the return param right for messages to nil.
    
    R_INT(pr) = R_(INT)(pr); is not exactly what I had intended :P

 libs/ruamoko/rua_obj.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 7ed490c
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Dec 16 13:38:19 2012 +0900

    Allow nil when replacing objects in an array.
    
    I want this in a little project, but I also want to consult with Deek about
    it, so I've only commented out the code.

 ruamoko/lib/Array.r |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit f631f51
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Dec 16 13:19:31 2012 +0900

    Fix the obj_error family of functions.
    
    It seems they were written before quaternion support was added and were not
    updated to take into account the variable size of parameters. Now at least
    Object's -error: works.

 libs/ruamoko/rua_obj.c |   28 +++++++++++++++++-----------
 1 file changed, 17 insertions(+), 11 deletions(-)

commit 11b991c
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Dec 16 12:27:15 2012 +0900

    Print the error message before the state dump.
    
    Normally, the order doesn't matter, but when tracing code, it becomes very
    difficult to tell where the trace ends and the dump begins. Printing the
    message first puts the message between the trace and the dump: much easier
    :)

 libs/gamecode/pr_exec.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit d6ec944
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Dec 16 12:01:12 2012 +0900

    Set a builtin methods func pointer.
    
    Forgetting to set the func pointer is what caused the bogus "does not
    respond to" message for -error:.

 tools/qfcc/source/qc-parse.y |    1 +
 1 file changed, 1 insertion(+)

commit aa14271
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Dec 16 12:00:39 2012 +0900

    Make param/format specifier mapping easier to read.
    
    Just a bit of white space.

 tools/qfcc/source/dump_modules.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 2317811
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Dec 15 13:13:40 2012 +0900

    Don't allocate space for locals for builtin functions.
    
    While the symtab is needed for debug info, there is no need for any actual
    data to be allocated for a builtin function's locals.

 tools/qfcc/source/function.c |    1 +
 1 file changed, 1 insertion(+)

commit f3e2e23
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Dec 15 12:21:22 2012 +0900

    Use the class name in type encodings.
    
    After all that effort getting the class def initialized early enough for
    type encodings to work, it proved to be a problem: just including a header
    with an interface in it would cause linker errors if there was no
    implementation available (even if the class is never used).

 tools/qfcc/source/obj_type.c |    2 +-
 tools/qwaq/types.r           |    5 +++--
 2 files changed, 4 insertions(+), 3 deletions(-)

commit 101ca22
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Dec 14 17:07:53 2012 +0900

    Fix a couple of warnings found by the mxe gcc.
    
    Finally, a recent gcc for our mingw builds :)

 libs/net/nc/net_udp.c  |    2 +-
 libs/net/nm/net_wins.c |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit fb00391
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Dec 14 17:03:52 2012 +0900

    Update the mingw cross scripts for MXE.
    
    I got MXE to build (took only an envvar and a couple packages, yay doc
    reading), so I thought it time to update the scripts to use it (they assume
    /opt/mxe).

 tools/cross/mingw/cross-configure.sh |    2 +-
 tools/cross/mingw/cross-make.sh      |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 461572e
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Dec 14 12:48:09 2012 +0900

    Fix constant folding for vectors and quaternions with floats.

 tools/qfcc/source/constfold.c |   33 +++++++++++++++++++++++++++------
 1 file changed, 27 insertions(+), 6 deletions(-)

commit 732d6a1
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Dec 14 12:25:23 2012 +0900

    Provide emulation for vector / float and quaternion / float.
    
    The VM doesn't have such instructions, so emulate them via
    vector * (1 / float) and quaternion * (1 / float).

 tools/qfcc/source/constfold.c |    6 ++++++
 1 file changed, 6 insertions(+)

commit dc55034
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 13 21:20:21 2012 +0900

    Mark aliases as live when a label is attached to a leaf node.
    
    This fixes the lost return values in the menus.

 tools/qfcc/source/dags.c |   18 ++++++++++++++++++
 1 file changed, 18 insertions(+)

commit a7b7a11
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 13 21:06:04 2012 +0900

    Don't kill the node to which an alias is being assigned.
    
    This does not fix the lost return value the menus as that is caused by the
    alias not being marked live when it should be.

 tools/qfcc/source/dags.c |    9 ++++++---
 1 file changed, 6 insertions(+), 3 deletions(-)

commit 47c721b
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 13 14:59:42 2012 +0900

    Clear the dstring in test-harness's printf builtin.
    
    PR_Sprintf always appends to the result dstring. I'm not sure if this is by
    design or a bug, so I'll leave it be for now.

 tools/qfcc/test/test-bi.c |    2 ++
 1 file changed, 2 insertions(+)

commit decc384
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 13 14:43:43 2012 +0900

    Kill any aliases when assigning to an aliased def.
    
    Temps aren't supported yet :P
    
    The alias defs themselves aren't killed (still want any assignments to
    occur) but rather, their nodes are. Also, edges to the alias defs' nodes
    are added to the assigning node. Fixes structlive.r :)

 tools/qfcc/source/dags.c |   30 ++++++++++++++++++++++++++++++
 1 file changed, 30 insertions(+)

commit 2dc60d4
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 13 14:42:51 2012 +0900

    Allow tests for full overlap of defs.
    
    Not actually used yet, but I imagine I'll want it.

 tools/qfcc/include/def.h |    8 +++++---
 tools/qfcc/source/def.c  |    6 ++++--
 2 files changed, 9 insertions(+), 5 deletions(-)

commit 821081c
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 13 14:05:24 2012 +0900

    Use the desination type for moves in assign_expr.
    
    for <struct> = nil; the source type is void and thus probably the wrong
    size.

 tools/qfcc/source/expr.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 5031542
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 13 13:58:30 2012 +0900

    Fix an uninitialized variable.
    
    Yay valgrind, boo taniwha.

 tools/qfcc/source/flow.c |    1 +
 1 file changed, 1 insertion(+)

commit 3665a05
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 13 13:44:25 2012 +0900

    Add a test for struct writes.
    
    This tests local kills via aliases.

 tools/qfcc/test/Makefile.am  |    8 ++++++++
 tools/qfcc/test/structlive.r |   20 ++++++++++++++++++++
 2 files changed, 28 insertions(+)

commit 0ff6e8a
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 13 13:33:13 2012 +0900

    Correct some spaces in the type dump output.

 tools/qfcc/source/dump_globals.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit cf05f65
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 13 13:24:03 2012 +0900

    Add int_val and uint_val to @param and @zero.
    
    I got fed up with using "int" types, but the members being "integer"
    (hold-over from before the int rename).
    Also, correct the names of those types and @va_list (error reporting was
    chopping off part of the name).

 tools/qfcc/source/type.c |   10 +++++++---
 1 file changed, 7 insertions(+), 3 deletions(-)

commit 5681e0f
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 13 12:50:00 2012 +0900

    Treat certain move instructions as assignments.
    
    MOVE (static move) and MOVEP to a pointer constant know exactly where their
    data is going, so treat them similarly to assignments: save their
    distination operands (the addressed def for MOVEP) and mark them as
    defined.

 tools/qfcc/source/flow.c |   17 ++++++++++++++++-
 1 file changed, 16 insertions(+), 1 deletion(-)

commit c61e03a
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 13 12:49:00 2012 +0900

    Clean up operand creation.
    
    Rather than having the creation scattered through the code, use helper
    functions. Makes exposing operand creating saner.

 tools/qfcc/include/statements.h |    4 +++
 tools/qfcc/source/statements.c  |   71 ++++++++++++++++++++-------------------
 2 files changed, 41 insertions(+), 34 deletions(-)

commit d990a95
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 13 12:48:07 2012 +0900

    More label count paranoia.
    
    MOVEP can generate 4 daglabels.

 tools/qfcc/source/dags.c |   52 +++++++++++++++++++++++++++++++++++-----------
 1 file changed, 40 insertions(+), 12 deletions(-)

commit c295a04
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 13 09:51:48 2012 +0900

    Add edges from call nodes to their param nodes.
    
    Assinments to .param_N (0-7 for call, 2-7 for rcall) must occur before the
    call, or weird things will happen.

 tools/qfcc/source/dags.c |   41 +++++++++++++++++++++++++++++++++++++++--
 1 file changed, 39 insertions(+), 2 deletions(-)

commit c477191
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 13 09:50:18 2012 +0900

    Be a little more paranoid about daglabel counts.
    
    I'm still a little worried about the number of labels needed with heavy
    alias usage.

 tools/qfcc/source/dags.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 204a0b3
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 13 09:47:00 2012 +0900

    Make def_visit_all return the actual result of visit.
    
    This way, def_visit_all is a little more useful (though I think I might
    redo the one case that's using this feature).

 tools/qfcc/include/def.h |    3 ++-
 tools/qfcc/source/def.c  |   13 +++++++------
 2 files changed, 9 insertions(+), 7 deletions(-)

commit 028b198
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 12 23:15:55 2012 +0900

    Check aliases for liveness when removing dead vars.
    
    The live var flow analysis doesn't check for aliases. Rather than changing
    it to check for aliases (which might break uninitialized var analysis, as
    it uses "use" from the live var analysis), make dag_remove_dead_vars do the
    check. Fixes the misplaced text in the menus.

 tools/qfcc/source/dags.c |   12 ++++++++++++
 1 file changed, 12 insertions(+)

commit 95c249e
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 12 21:37:55 2012 +0900

    Scale the glsl crosshairs to match gl.

 libs/video/renderer/glsl/glsl_draw.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 2ce65d9
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 12 21:34:37 2012 +0900

    Use exact texture coords for 2d pics in glsl.
    
    Moving the texture coordinates in 1/4 pixel made a mess of the 2d pics
    (very noticable on the round crosshair).

 libs/video/renderer/glsl/glsl_draw.c |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit cb25982
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 12 21:37:55 2012 +0900

    Scale the glsl crosshairs to match gl.

 libs/video/renderer/glsl/glsl_draw.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit f71affd
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 12 21:34:37 2012 +0900

    Use exact texture coords for 2d pics in glsl.
    
    Moving the texture coordinates in 1/4 pixel made a mess of the 2d pics
    (very noticable on the round crosshair).

 libs/video/renderer/glsl/glsl_draw.c |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit a372efe
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 12 19:36:18 2012 +0900

    Add a new crosshair.
    
    Now all 4 slots of the crosshair table are used :)
    
    Also, fix the offset for pic based crosshairs in glsl, and use just one
    func for them.

 libs/video/renderer/crosshair.c      |    9 ++++
 libs/video/renderer/glsl/glsl_draw.c |   75 ++++++++++++----------------------
 libs/video/renderer/sw/draw.c        |   66 ++++++++++++++++++++++++++++++
 libs/video/renderer/sw32/draw.c      |   66 ++++++++++++++++++++++++++++++
 ruamoko/cl_menu/CrosshairCvar.r      |    2 +-
 5 files changed, 169 insertions(+), 49 deletions(-)

commit 814f902
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 12 19:36:18 2012 +0900

    Add a new crosshair.
    
    Now all 4 slots of the crosshair table are used :)
    
    Also, fix the offset for pic based crosshairs in glsl, and use just one
    func for them.

 libs/video/renderer/crosshair.c      |    9 ++++
 libs/video/renderer/glsl/glsl_draw.c |   75 ++++++++++++----------------------
 libs/video/renderer/sw/draw.c        |   66 ++++++++++++++++++++++++++++++
 libs/video/renderer/sw32/draw.c      |   66 ++++++++++++++++++++++++++++++
 ruamoko/cl_menu/CrosshairCvar.r      |    2 +-
 5 files changed, 169 insertions(+), 49 deletions(-)

commit 06d14f6
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 12 16:20:45 2012 +0900

    Dump operand contents for verbosity > 1.

 tools/qfcc/source/disassemble.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 07d348f
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 12 14:12:21 2012 +0900

    Fix an uninitialized warning from recent gcc.
    
    Nifty: if you pass a struct via reference to a function, and a field of
    that struct may be both set and not set (eg, set only in an if statement),
    gcc will report that field assuming that fields that are never set will be
    set by the function (my interpretation).
    
    * taniwha ponders the flow analysis for that

 tools/qfcc/source/emit.c |    6 ++----
 1 file changed, 2 insertions(+), 4 deletions(-)

commit 099bbcb
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 12 14:12:21 2012 +0900

    Fix an uninitialized warning from recent gcc.
    
    Nifty: if you pass a struct via reference to a function, and a field of
    that struct may be both set and not set (eg, set only in an if statement),
    gcc will report that field assuming that fields that are never set will be
    set by the function (my interpretation).
    
    * taniwha ponders the flow analysis for that

 tools/qfcc/source/emit.c |    6 ++----
 1 file changed, 2 insertions(+), 4 deletions(-)

commit dd03678
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 12 13:44:22 2012 +0900

    Ensure \n gets printed for the null type.

 tools/qwaq/types.r |    1 +
 1 file changed, 1 insertion(+)

commit 48821f3
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 12 12:55:17 2012 +0900

    Set edges/live for addressed variables.
    
    This fixes (again:P) the messup with .super.

 tools/qfcc/source/dags.c |    5 +++++
 1 file changed, 5 insertions(+)

commit 03fdbe9
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 12 12:52:01 2012 +0900

    Ensure the def is aliasing before adding edges.
    
    Getting two nodes doubly connected for *to = *from++; was interesting.

 tools/qfcc/source/dags.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 75be251
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 12 11:46:33 2012 +0900

    Create and use def_visit_all.
    
    Even though it turned out there were only two copies of the def alias
    handling code, I got tired of writing it. The code is easier to read, too
    :)

 tools/qfcc/include/def.h |   32 ++++++++++++++++++++++++++++++++
 tools/qfcc/source/dags.c |   38 ++++++++++++++++----------------------
 tools/qfcc/source/def.c  |   24 ++++++++++++++++++++++++
 tools/qfcc/source/flow.c |   28 ++++++++++++----------------
 4 files changed, 84 insertions(+), 38 deletions(-)

commit 85e6dd9
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Dec 11 20:44:40 2012 +0900

    Treat aliases of the same basic type as no-ops.
    
    At the statement level, all pointer types are the same, so just return the
    op obtained from the sub-expression when the low-level type of the alias
    expression matches the low-level type of the type of type sub-expression
    operand.
    
    With this, the alias of a value code can be removed (I always thought it
    was wrong), which is what broke calling obj_msgSend_super (type &.super
    param lost the &).
    
    Now I have to deal with pointer values in the optimizer :/

 tools/qfcc/source/statements.c |   21 ++++++++-------------
 1 file changed, 8 insertions(+), 13 deletions(-)

commit 76c9aa2
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Dec 11 19:52:58 2012 +0900

    Handle alias defs when building a dag.
    
    When an alais def (or aliased def) is used, any overlapping aliases that
    have previously been assigned need to be marked as live, and edges to the
    aliases added to the new node. However, when assigned to, live-forcing
    needs to be turned off.
    
    This fixes the lost assignments to .super.

 tools/qfcc/include/dags.h |    3 ++-
 tools/qfcc/source/dags.c  |   26 ++++++++++++++++++++++++++
 2 files changed, 28 insertions(+), 1 deletion(-)

commit 0459477
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Dec 11 19:51:34 2012 +0900

    Compare the base def spaces in def_overlap.
    
    The space field in alias defs is always null and thus aliases would never
    overlap the aliased def. Oops.

 tools/qfcc/source/def.c |    9 ++++++++-
 1 file changed, 8 insertions(+), 1 deletion(-)

commit 998868e
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Dec 11 19:50:31 2012 +0900

    Maybe make dags a little easier to read.

 tools/qfcc/source/dot_dag.c |   31 +++++++++++++++++++++----------
 1 file changed, 21 insertions(+), 10 deletions(-)

commit 7607c7d
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Dec 11 15:52:37 2012 +0900

    Resurrect alias operands.
    
    It turns out they are necessary for the code output from dags. This fixes
    the ice for *to = *from++;

 tools/qfcc/include/statements.h |    3 +++
 tools/qfcc/source/dags.c        |   19 +++++++++++++------
 tools/qfcc/source/emit.c        |    2 ++
 tools/qfcc/source/flow.c        |    2 ++
 tools/qfcc/source/statements.c  |   25 +++++++++++++++++++++++++
 5 files changed, 45 insertions(+), 6 deletions(-)

commit 8452f69
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Dec 11 15:20:52 2012 +0900

    Use only the real temp for daglabels.
    
    This fixes the bogus temps for "*to = *from++;", but qfcc ices due to the
    operand types being lost. It seems alias operands need to be resurrected,
    if only for code output by dags.

 tools/qfcc/source/dags.c |    4 ++++
 1 file changed, 4 insertions(+)

commit 50b0bd0
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Dec 11 13:04:06 2012 +0900

    Use define from temp aliases as well to kill uninit defines.
    
    Finally, the uninitialized temp warnings are fixed.

 tools/qfcc/source/flow.c |   12 ++++++++++++
 1 file changed, 12 insertions(+)

commit 5083679
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Dec 11 12:58:16 2012 +0900

    Don't mask out the dummy defines from temp kills.

 tools/qfcc/source/flow.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 6b4efaa
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Dec 11 12:57:37 2012 +0900

    Link temp aliases to their main def.
    
    This fixes the kill sets not building properly.

 tools/qfcc/source/statements.c |    2 ++
 1 file changed, 2 insertions(+)

commit 28c37b3
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Dec 11 12:27:23 2012 +0900

    Fix the dummy definitions of temp vars.
    
    I forgot to add func->num_statements :P. Fixes the weirdness where only
    some alias temps were being (bogusly) detected as uninitialized. Now they
    all are.

 tools/qfcc/source/flow.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit b5a7232
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Dec 11 12:26:48 2012 +0900

    Make alias defs and temps more obvious in dumps.

 tools/qfcc/source/def.c        |    1 +
 tools/qfcc/source/statements.c |    6 ++++--
 2 files changed, 5 insertions(+), 2 deletions(-)

commit f358364
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Dec 11 11:53:01 2012 +0900

    Fix assignment of nil to a structure.
    
    constfold.c seems to be getting a little long in the tooth :P

 ruamoko/cl_menu/plistmenu.r   |    6 +++---
 tools/qfcc/source/constfold.c |    3 +++
 2 files changed, 6 insertions(+), 3 deletions(-)

commit 8582e9d
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Dec 11 11:31:55 2012 +0900

    Make it possible to dump statement blocks in a flow graph.
    
    Much nicer looking with proper back edges :). Not actually enabled, though.

 tools/qfcc/include/flow.h       |    1 +
 tools/qfcc/include/statements.h |    2 ++
 tools/qfcc/source/dot_flow.c    |   73 ++++++++++++++++++++++++++++++++++++---
 tools/qfcc/source/dot_sblock.c  |   15 +++++---
 tools/qfcc/source/flow.c        |    3 +-
 5 files changed, 85 insertions(+), 9 deletions(-)

commit cd62755
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Dec 10 22:20:44 2012 +0900

    Fix some warnings found by qfcc's flow analysis.
    
    Ok, maybe it works too well? Nah, not really. It's nice having proper
    unisnitialized checks on structs.

 ruamoko/cl_menu/plistmenu.r |    4 ++++
 1 file changed, 4 insertions(+)

commit aeed161
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Dec 10 21:09:53 2012 +0900

    Add vecinit.r to the test-suite.
    
    Ugh, I really need to take time out to do compile tests properly.

 tools/qfcc/test/Makefile.am |   10 +++++++++-
 tools/qfcc/test/vecinit.r   |   15 +++++++++++++++
 2 files changed, 24 insertions(+), 1 deletion(-)

commit 3aa3a09
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Dec 10 20:49:08 2012 +0900

    Scan the statements in a node with suspect var usage.
    
    When the naive uninitialized variable detection finds a node with possible
    uses of uninitialized variables, the statements in the node are scanned one
    at a time checking each usage and removing uninitialized definitions as
    appropriate. vectest.r now compiles without warnings. As an added bonus,
    accurate line number information is reported for uninitialized variables.
    
    Unfortunately, there is still a problem with uninitialized temps in
    switch.r, but that might just be poor handling of temp op aliases.

 tools/qfcc/include/flow.h |    1 +
 tools/qfcc/source/flow.c  |   74 +++++++++++++++++++++++++++++++++------------
 2 files changed, 56 insertions(+), 19 deletions(-)

commit 426363c
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Dec 10 19:42:31 2012 +0900

    Don't kill aliased definitions in the entry dummy block.
    
    Only definitions for the def used in the current statement (whether an
    alias or not) are suitable for killing. Doing otherwise defeats the purpose
    of this work :P
    
    Fixes the false negatives found in a modified quattest.r (commented out the
    "tq.s = 0;" line).

 tools/qfcc/source/flow.c |   51 ++++++++++++++++++++++++++--------------------
 1 file changed, 29 insertions(+), 22 deletions(-)

commit aa97979
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Dec 10 15:58:51 2012 +0900

    Rewrite flow_uninitialized() to use reaching defs.
    
    Nicely, the use sets from live_variable analysis can be used too, though
    there are some problems with the naive implementation. For:
    
    vector foo (float x, float y, float z)
    {
    	vector v;
    	v.x = x;
    	v.y = y;
    	v.z = z;
    	return v;
    }
    
    qfcc thinks v is uninitialized, but if "if (x) return nil;" (or any other
    basic-block splitter) is put just before the return v; qfcc correctly
    detects that v is initialized. The reason is that the inits are in the same
    basic block as the return, and thus aren't affecting the reaching
    definitions, which are stored per-block.
    
    The naive implementation should be good for a fast-cull before doing a
    per-statement check.

 tools/qfcc/source/flow.c |  132 +++++++++++-----------------------------------
 1 file changed, 31 insertions(+), 101 deletions(-)

commit c47cb69
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Dec 10 15:20:27 2012 +0900

    Create dummy uses for global variables
    
    The exit dummy block is setup to provide dummy uses of global variables to
    the live variable analysis doesn't miss global variables. Much cleaner than
    the previous code :) There may be some issues with aliases, though.

 tools/qfcc/source/flow.c |   16 +++++++++-------
 1 file changed, 9 insertions(+), 7 deletions(-)

commit 2e105f1
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Dec 10 15:14:12 2012 +0900

    Enable live var flow dumps.

 tools/qfcc/include/options.h |    1 +
 tools/qfcc/source/flow.c     |    2 ++
 tools/qfcc/source/options.c  |    3 +++
 3 files changed, 6 insertions(+)

commit d2f2fdc
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Dec 10 14:41:35 2012 +0900

    Create dummy definitions for local variables.
    
    The entry dummy block is setup to provide dummy definitions of local
    variables so the reaching definitions analysis can be used to detect
    uninitialized variables (not implemented yet). Fake statement numbers
    (func->num_statements + X) are used to represent the definitions. Local
    variables (ie, not temp ops) use their offsets (ie, the offset range they
    cover) for X. Temp ops use their flowvar number + the size of the
    function's defspace for X. flow_kill_aliases() should take care of temp op
    aliasing, while the use of the actual offsets spanned by the variable's def
    should take care of any wild aliasing so structures and unions should
    become a non-issue.

 tools/qfcc/source/flow.c |   36 ++++++++++++++++++++++++++++++++++++
 1 file changed, 36 insertions(+)

commit 8f274f5
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Dec 10 14:40:43 2012 +0900

    Add convenience functions for getting a def's offset and size.

 tools/qfcc/include/def.h |   18 ++++++++++++++++++
 tools/qfcc/source/def.c  |   15 +++++++++++++++
 2 files changed, 33 insertions(+)

commit d717a0b
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Dec 10 13:56:26 2012 +0900

    Add dummy nodes at the beginning and end of the graph.
    
    The dummy nodes are for detectining uninitialized variables (entry dummy)
    and making globals live at function exit (exit dummy). The reaching defs
    and live vars code currently seg because neither node has had its sets
    initialized.

 tools/qfcc/include/flow.h    |    2 +-
 tools/qfcc/source/dot_flow.c |    3 ++
 tools/qfcc/source/flow.c     |   66 +++++++++++++++++++++++++++++++-----------
 3 files changed, 53 insertions(+), 18 deletions(-)

commit f30741c
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Dec 10 13:25:06 2012 +0900

    Add fixed aliases to a statement's kill set.
    
    Fixed aliases are those that will never change through the life of the
    code. They are generated from structure accesses and thus what they alias
    is always known.

 tools/qfcc/source/flow.c |   41 ++++++++++++++++++++++++++++++++++++++++-
 1 file changed, 40 insertions(+), 1 deletion(-)

commit 4f70b48
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Dec 10 13:23:45 2012 +0900

    Add a function to check if two defs overlap.
    
    Very useful for alias handling :)

 tools/qfcc/include/def.h |    7 +++++++
 tools/qfcc/source/def.c  |   24 ++++++++++++++++++++++++
 2 files changed, 31 insertions(+)

commit fa45ab8
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Dec 10 12:17:20 2012 +0900

    Make the reaching defs dot dump optional.

 tools/qfcc/include/options.h |    1 +
 tools/qfcc/source/flow.c     |    3 ++-
 tools/qfcc/source/options.c  |    3 +++
 3 files changed, 6 insertions(+), 1 deletion(-)

commit e4dd86c
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Dec 9 22:37:59 2012 +0900

    Calculate reaching defs.

 tools/qfcc/include/flow.h    |    7 ++++
 tools/qfcc/source/dot_flow.c |   37 +++++++++++++++++++--
 tools/qfcc/source/flow.c     |   74 ++++++++++++++++++++++++++++++++++++++++++
 3 files changed, 115 insertions(+), 3 deletions(-)

commit 6473951
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Dec 9 22:17:55 2012 +0900

    Make the set notation more correct.
    
    The empty set is now {}, the set of everything is now {...} and the rest
    now have {} around the members.

 libs/util/set.c           |   13 +++++++------
 libs/util/test/test-set.c |   32 ++++++++++++++++----------------
 2 files changed, 23 insertions(+), 22 deletions(-)

commit f3adb70
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Dec 9 21:22:57 2012 +0900

    Move the var def/use calculation into flow_build_vars().

 tools/qfcc/source/flow.c |   42 ++++++++++++++++++++----------------------
 1 file changed, 20 insertions(+), 22 deletions(-)

commit 2bc3a36
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Dec 9 21:12:53 2012 +0900

    Split out the statement array building.

 tools/qfcc/source/flow.c |   87 ++++++++++++++++++++++++++--------------------
 1 file changed, 49 insertions(+), 38 deletions(-)

commit 17a2f86
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Dec 9 21:12:33 2012 +0900

    Correct some comments.

 tools/qfcc/source/flow.c |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 1c99cf5
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Dec 9 20:50:53 2012 +0900

    Clean up the flow api a little.

 tools/qfcc/include/flow.h    |    9 ++---
 tools/qfcc/source/flow.c     |   81 +++++++++++++++++++++---------------------
 tools/qfcc/source/function.c |    6 +---
 3 files changed, 45 insertions(+), 51 deletions(-)

commit 054d902
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Dec 9 19:43:12 2012 +0900

    Document alias defs.
    
    The diagram showing the basics of how alias defs work is in a spearate file
    because it created to much clutter in the header file.

 doc/quakeforge.dox.conf.in          |    2 +-
 tools/qfcc/doc/Makefile.am          |    3 ++-
 tools/qfcc/doc/dot/vector-alias.dot |   25 +++++++++++++++++++++++++
 tools/qfcc/include/def.h            |   22 +++++++++++++++++++++-
 4 files changed, 49 insertions(+), 3 deletions(-)

commit 061e2be
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Dec 9 13:52:48 2012 +0900

    Re-write the set testing code.
    
    Getting everything right with an enum proved to be too difficult if not
    impossible. Also use better tests for equivalence and intersection.
    
    Many more tests have been added. All pass :)

 include/QF/set.h          |    4 +-
 libs/util/set.c           |  118 +++++++++++++++++++++------------------------
 libs/util/test/test-set.c |   40 +++++++++++++--
 3 files changed, 95 insertions(+), 67 deletions(-)

commit 94e804d
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Dec 7 22:25:36 2012 +0900

    Make some more set_test fixes.
    
    Two inverted sets can never be disjoint.

 libs/util/set.c |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 56956fc
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Dec 7 22:16:51 2012 +0900

    Rewrite the intersection tests.
    
    The early bailout proved to be difficult to get right, so don't bother.

 libs/util/set.c |   60 +++++++++++++++++++++++++++++++++----------------------
 1 file changed, 36 insertions(+), 24 deletions(-)

commit 98c9e4f
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Dec 7 22:16:22 2012 +0900

    White space.

 libs/util/test/test-set.c |   30 +++++++++++++++---------------
 1 file changed, 15 insertions(+), 15 deletions(-)

commit f3328a6
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Dec 7 22:16:07 2012 +0900

    More tests and update a comment.

 include/QF/set.h          |    2 ++
 libs/util/test/test-set.c |   47 +++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 49 insertions(+)

commit b053ede
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Dec 7 20:44:09 2012 +0900

    Fix the handling of size in set_expand.
    
    It was correct for set_add, but not for other ops :/ (out by 1)

 libs/util/set.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 770a40c
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Dec 7 20:43:11 2012 +0900

    Add a bunch more tests.
    
    Even found some bugs :)

 libs/util/test/test-set.c |   91 +++++++++++++++++++++++++++++++++++++--------
 1 file changed, 76 insertions(+), 15 deletions(-)

commit dbcf8f3
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Dec 7 20:41:23 2012 +0900

    Make the default map size smaller.
    
    256 is pretty big. Now, set_t is always 32 bytes, giving 64 members for 64
    bit machines and (probably) 128 members for 32 bit machines.

 include/QF/set.h |   15 ++++++++++-----
 1 file changed, 10 insertions(+), 5 deletions(-)

commit 39920a4
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Dec 7 19:35:37 2012 +0900

    Fix the type when converting set of everything to string.

 libs/util/set.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c76231c
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Dec 7 19:34:34 2012 +0900

    Add some very basic tests for sets.
    
    They test creation, empty, everything and inversion. Already found a bug
    (typo: "everythign" :P)

 libs/util/test/Makefile.am |    7 +++-
 libs/util/test/test-set.c  |   91 ++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 97 insertions(+), 1 deletion(-)

commit e0c92b6
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 6 21:11:38 2012 +0900

    Rename set_iter_t's member to value.
    
    Makes more sense now that the membership of the value depends on the
    inversion of the set.

 include/QF/set.h             |    6 +++---
 libs/util/set.c              |    6 +++---
 tools/qfcc/source/dags.c     |    8 ++++----
 tools/qfcc/source/dot_dag.c  |    6 +++---
 tools/qfcc/source/dot_flow.c |    2 +-
 tools/qfcc/source/flow.c     |   32 ++++++++++++++++----------------
 6 files changed, 30 insertions(+), 30 deletions(-)

commit eb8fd55
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 6 20:52:53 2012 +0900

    Move set.c into libQFutil.
    
    Also move the ALLOC/FREE macros from qfcc.h to QF/alloc.h (needed to for
    set.c).
    
    Both modules are more generally useful than just for qfcc (eg, set
    builtins for ruamoko).

 include/QF/Makefile.am         |    8 +-
 include/QF/alloc.h             |   97 +++++++
 include/QF/set.h               |  322 ++++++++++++++++++++++
 libs/util/Makefile.am          |    6 +-
 libs/util/set.c                |  583 +++++++++++++++++++++++++++++++++++++++
 tools/qfcc/include/Makefile.am |    4 +-
 tools/qfcc/include/qfcc.h      |   53 ----
 tools/qfcc/include/set.h       |  322 ----------------------
 tools/qfcc/source/Makefile.am  |    2 +-
 tools/qfcc/source/dags.c       |    3 +-
 tools/qfcc/source/debug.c      |    1 +
 tools/qfcc/source/def.c        |    7 +-
 tools/qfcc/source/defspace.c   |    7 +-
 tools/qfcc/source/dot_dag.c    |    8 +-
 tools/qfcc/source/dot_flow.c   |    8 +-
 tools/qfcc/source/expr.c       |    9 +-
 tools/qfcc/source/flow.c       |    3 +-
 tools/qfcc/source/function.c   |    1 +
 tools/qfcc/source/grab.c       |    1 +
 tools/qfcc/source/linker.c     |    1 +
 tools/qfcc/source/reloc.c      |    2 +
 tools/qfcc/source/set.c        |  584 ----------------------------------------
 tools/qfcc/source/statements.c |    1 +
 tools/qfcc/source/symtab.c     |    1 +
 tools/qfcc/source/type.c       |    1 +
 tools/qfcc/source/value.c      |    1 +
 26 files changed, 1047 insertions(+), 989 deletions(-)

commit b28ac66
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 6 19:32:31 2012 +0900

    Add support for set of everything, and a lot of docs.
    
    Set of everything is implemented by inverting the meaning of bits in the
    bitmap: 1 becomes non-member, 0 member. This means that set_size and
    set_first/set_next become inverted and represent non-members as counting
    members becomes impossible :)

 tools/qfcc/include/set.h |  259 ++++++++++++++++++++++++++++++++++++++++--
 tools/qfcc/source/set.c  |  284 ++++++++++++++++++++++++++++++++++++++++++----
 2 files changed, 512 insertions(+), 31 deletions(-)

commit 2158560
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 6 11:50:29 2012 +0900

    Clean up some bitrot in docstrap.
    
    The configuration file had been renamed.
    
    Also, mention docstrap in INSTALL and make the documentaion configure check
    for the required tools (doxygen, dot (graphvis), mscgen, and transfig).

 .gitignore       |    2 ++
 INSTALL          |    9 +++++++++
 doc/configure.ac |   30 +++++++++++++++++++++---------
 3 files changed, 32 insertions(+), 9 deletions(-)

commit b6ae986
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 6 09:40:16 2012 +0900

    Fully connect temps and their aliases.

 tools/qfcc/include/statements.h |    1 +
 tools/qfcc/source/statements.c  |   20 +++++++++++++++++---
 2 files changed, 18 insertions(+), 3 deletions(-)

commit 34e3ac1
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 5 22:20:55 2012 +0900

    Fix jumpb's operand types.
    
    Aliasing the jump table to an integer broke statement_get_targetlist with
    the new alias def handling, and was really wrong anyway. I probably did
    that due to being fed up with things and wanting to get qfcc working again
    rather than spending time getting jumpb right.

 libs/gamecode/pr_opcode.c      |    2 +-
 tools/qfcc/source/statements.c |    2 ++
 tools/qfcc/source/switch.c     |    1 -
 3 files changed, 3 insertions(+), 2 deletions(-)

commit c06cd8f
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 5 22:19:22 2012 +0900

    Cast constants at compile time.
    
    This takes care of the internal error due to aliasing values.

 tools/qfcc/source/expr.c |    5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit f7e174f
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 5 22:18:13 2012 +0900

    Be more clear about integral expression types.
    
    Is that 7 a short? int? unsigned?

 tools/qfcc/source/dot_expr.c |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 7071a46
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 5 22:16:08 2012 +0900

    Make convert_value create a new value.
    
    It operating in-place proved to be troublesome.

 tools/qfcc/include/value.h |    3 ++-
 tools/qfcc/source/def.c    |   10 +++++-----
 tools/qfcc/source/value.c  |   16 ++++++----------
 3 files changed, 13 insertions(+), 16 deletions(-)

commit a099847
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 5 22:15:19 2012 +0900

    Do a little bit of const correctness for type.[ch]
    
    It's only the beginning :/

 tools/qfcc/include/type.h |   30 +++++++++++++++---------------
 tools/qfcc/source/stub.c  |    2 +-
 tools/qfcc/source/type.c  |   36 ++++++++++++++++++------------------
 3 files changed, 34 insertions(+), 34 deletions(-)

commit fea806c
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 5 20:12:57 2012 +0900

    Be more careful with boolean expressions.
    
    Either true_list or false_list may be null.

 tools/qfcc/source/dot_expr.c |   15 ++++++++++-----
 1 file changed, 10 insertions(+), 5 deletions(-)

commit 08b27ef
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 5 19:56:10 2012 +0900

    Nuke the return type flow calculations.
    
    They've proven to be unnecessary with the recent symbol/def changes.

 tools/qfcc/include/flow.h    |    5 ---
 tools/qfcc/source/dot_flow.c |   19 -----------
 tools/qfcc/source/flow.c     |   73 ------------------------------------------
 3 files changed, 97 deletions(-)

commit 3f3b501
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 5 19:47:22 2012 +0900

    Move flowvar/deflabel from symbol_t to def_t.
    
    With the need to handle aliasing in the optimizer, it has become apparent
    that having the flow data attached to symbols is not nearly as useful as
    having it attached to defs (which are views of the actual variables).
    
    This also involves a bit of a cleanup of operand types: op_pointer and
    op_alias are gone (this seems to greatly simplify the optimizer)
    
    There is a bit of a problem with enums in switch statements, but this might
    actually be a sign that something is not quite right in the switch code
    (other than enums not being recognized as ints for jump table
    optimization).

 tools/qfcc/include/def.h        |    2 +
 tools/qfcc/include/statements.h |   13 ++--
 tools/qfcc/include/symtab.h     |    2 -
 tools/qfcc/source/dags.c        |   82 ++++++++--------------
 tools/qfcc/source/emit.c        |   40 ++---------
 tools/qfcc/source/flow.c        |   74 +++++++-------------
 tools/qfcc/source/statements.c  |  147 ++++++++++++++++++++++-----------------
 7 files changed, 149 insertions(+), 211 deletions(-)

commit 3bb8b1b
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 5 19:45:16 2012 +0900

    Make it easy to print symbol types.

 tools/qfcc/include/symtab.h |    2 ++
 tools/qfcc/source/symtab.c  |   17 +++++++++++++++++
 2 files changed, 19 insertions(+)

commit 2904c61
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 5 19:43:27 2012 +0900

    Don't bother creating an alias for a def of the same type.

 tools/qfcc/source/def.c |    2 ++
 1 file changed, 2 insertions(+)

commit cc88202
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 5 16:01:28 2012 +0900

    Fix function.h's doxgygen grouping.

 tools/qfcc/include/function.h |    3 +++
 1 file changed, 3 insertions(+)

commit 7ccfd7b
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Dec 4 14:25:06 2012 +0900

    Fix the wrong space for static vars.
    
    Turns out there was only one place to fix (for qc, anyway: I don't have
    tests for qp yet). func-static now passes :)
    
    Hmm, how to test for static var naming... (not implemented yet)

 tools/qfcc/source/qc-parse.y |    7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

commit 6074a66
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Dec 4 14:18:17 2012 +0900

    Do some sanity checking on storage class and defspace type.
    
    Params and locals in virtual spaces, static vars in backed. Otherwise,
    whatever (for now). Now func-static.r aborts :)

 tools/qfcc/source/def.c |    5 +++++
 1 file changed, 5 insertions(+)

commit 0585471
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Dec 4 14:08:51 2012 +0900

    Make defspaces typed.
    
    Simply "backed" and "virutal". Backed spaces have memory allocated to them
    while virtual spaces do not. Virtual spaces are intended for local
    variables and entity fields.

 tools/qfcc/include/defspace.h |   24 ++++++++++++++++++++----
 tools/qfcc/source/defspace.c  |   27 ++++++++++++++++++++++++---
 tools/qfcc/source/function.c  |    2 +-
 tools/qfcc/source/linker.c    |    8 ++++----
 tools/qfcc/source/qfcc.c      |    8 ++++----
 5 files changed, 53 insertions(+), 16 deletions(-)

commit c7b2996
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Dec 4 14:06:36 2012 +0900

    Use the correct algorithm for the new defspace size.
    
    While the result was correct, space->size >= space->size is always true and
    thus grow_space would unconditionally increase the defspace's size.

 tools/qfcc/source/defspace.c |   11 +++++------
 1 file changed, 5 insertions(+), 6 deletions(-)

commit d340aac
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Dec 4 13:40:00 2012 +0900

    Fix the bugs marked in defspace.h
    
    Now size is checked properly for defspace_free_loc and defspace_alloc_loc,
    and defspace_alloc_loc check's grow()'s return value.

 tools/qfcc/include/defspace.h |    8 ++------
 tools/qfcc/source/defspace.c  |    9 +++++----
 tools/qfcc/source/linker.c    |    3 ++-
 3 files changed, 9 insertions(+), 11 deletions(-)

commit f7bf050
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Dec 4 13:27:39 2012 +0900

    Remove func-static from XFAIL_TESTS.
    
    I realized that's not the way it's meant to be used, and it /is/ I bug I
    want fixed before release, so... :)

 tools/qfcc/test/Makefile.am |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 98a0afa
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Dec 4 13:23:31 2012 +0900

    Add and use FREE() to complement ALLOC().
    
    Now it will be easy to test memory access with valgrind (just compile with
    DEBUG_QFCC_MEMORY defined).

 tools/qfcc/include/qfcc.h      |   23 +++++++++++++++++++++++
 tools/qfcc/source/debug.c      |    3 +--
 tools/qfcc/source/def.c        |    3 +--
 tools/qfcc/source/defspace.c   |    6 ++----
 tools/qfcc/source/flow.c       |    9 +++------
 tools/qfcc/source/grab.c       |    3 +--
 tools/qfcc/source/set.c        |    6 ++----
 tools/qfcc/source/statements.c |   23 ++++++++++-------------
 tools/qfcc/source/type.c       |    3 +--
 9 files changed, 44 insertions(+), 35 deletions(-)

commit 0872961
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Dec 4 12:48:52 2012 +0900

    Do a little bit of cleanup.

 tools/qfcc/include/cpp.h      |    2 +-
 tools/qfcc/include/debug.h    |    4 ----
 tools/qfcc/include/function.h |    1 +
 tools/qfcc/include/grab.h     |    1 +
 tools/qfcc/include/method.h   |    4 ++--
 tools/qfcc/include/obj_file.h |    2 +-
 tools/qfcc/include/qfcc.h     |   10 ----------
 tools/qfcc/source/debug.c     |   15 ++-------------
 tools/qfcc/source/def.c       |    1 +
 tools/qfcc/source/function.c  |    1 -
 tools/qfcc/source/method.c    |    1 +
 tools/qfcc/source/qc-lex.l    |    1 +
 tools/qfcc/source/qfcc.c      |    2 ++
 tools/qfcc/source/qp-lex.l    |    1 +
 tools/qfcc/source/struct.c    |    1 +
 tools/qfcc/source/stub.c      |    2 --
 16 files changed, 15 insertions(+), 34 deletions(-)

commit 1eb3349
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Dec 3 16:27:31 2012 +0900

    Add a test for function local static variables.
    
    It turns out they're not getting allocated properly (they're put in the
    function's locals defspace rather than near data), but fixing it proved a
    little more problematic than expected, so the test is marked as XFAIL for
    now to remind me to fix it.

 tools/qfcc/test/Makefile.am   |   12 ++++++++++++
 tools/qfcc/test/func-static.r |   17 +++++++++++++++++
 2 files changed, 29 insertions(+)

commit 7412a45
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Dec 3 12:40:00 2012 +0900

    Attach alias defs to their base def.
    
    With this, alias defs become singletons based on the def they alias and the
    type and offset of the alias. Thus, the removal of the free_def call in
    emit.c.

 tools/qfcc/include/def.h |    8 ++++++++
 tools/qfcc/source/def.c  |   23 ++++++++++++++++++++++-
 tools/qfcc/source/emit.c |    2 --
 3 files changed, 30 insertions(+), 3 deletions(-)

commit 919ea81
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Dec 3 11:50:26 2012 +0900

    Make alias_def take an offset.
    
    alias_def now always creates an offset def (though the usual case has an
    offset of 0). The if the alias escapes the bounds of the base def, an
    internal error will be generated.

 tools/qfcc/include/def.h |    7 ++++++-
 tools/qfcc/source/def.c  |    7 +++++--
 tools/qfcc/source/emit.c |   11 +++++------
 3 files changed, 16 insertions(+), 9 deletions(-)

commit 9d0332a
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Dec 3 11:38:55 2012 +0900

    Make alaising a def to a larger type an internal error.
    
    It really doesn't seem wise to allow the compiler to do so as it would
    overwrite unrelated defs. The only time such a thing is valid is the return
    statement (silly vm design), and that's read-only.

 tools/qfcc/include/def.h |    4 +---
 tools/qfcc/source/def.c  |    3 ++-
 2 files changed, 3 insertions(+), 4 deletions(-)

commit 9ca5a9e
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Dec 3 11:36:14 2012 +0900

    Make aliasing an alias def an internal error.
    
    I haven't seen the bug message show up, so it seems safe, and is probably a
    good idea with what I have in mind.

 tools/qfcc/source/def.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit cd64c0a
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Dec 2 22:04:54 2012 +0900

    Document defspace.h

 tools/qfcc/include/defspace.h |  100 +++++++++++++++++++++++++++++++++++++----
 1 file changed, 92 insertions(+), 8 deletions(-)

commit 3ecb7e8
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Dec 2 22:00:07 2012 +0900

    Mised some st_->sc_ changes.
    
    Hiding in a comment in a header, sneaky rats ;)

 tools/qfcc/include/symtab.h |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 79c1a8f
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Dec 2 20:15:18 2012 +0900

    Use internal_error instead of error/exit(1).
    
    Heh, an abort hiding in disguise :)

 tools/qfcc/source/defspace.c |    6 ++----
 1 file changed, 2 insertions(+), 4 deletions(-)

commit e3bf642
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Dec 2 20:09:54 2012 +0900

    Remove the "data" defspace from pr_info_t.
    
    It's only usage would have caused a segfault if it had been hit. I suspect
    it's a holdover from before the rewrite of 2011.

 tools/qfcc/include/qfcc.h |    1 -
 tools/qfcc/source/qfcc.c  |    2 --
 tools/qfcc/source/reloc.c |    4 +++-
 3 files changed, 3 insertions(+), 4 deletions(-)

commit 72108ba
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Dec 2 19:53:03 2012 +0900

    Document def.h.
    
    Also remove the extern for current_storage as it belongs in shared.h.
    
    I'm not satisfied with the documentation for initialize_def, but it will do
    for now. I probably have to rewrite the thing as it's a bit of a beast.

 tools/qfcc/include/def.h     |  200 ++++++++++++++++++++++++++++++++++--------
 tools/qfcc/source/class.c    |    1 +
 tools/qfcc/source/expr.c     |    1 +
 tools/qfcc/source/function.c |    1 +
 4 files changed, 165 insertions(+), 38 deletions(-)

commit fd765f5
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Dec 2 18:59:35 2012 +0900

    Fix an ownership problem with line numbers in qfos.

 tools/qfcc/source/obj_file.c |    8 ++++++--
 1 file changed, 6 insertions(+), 2 deletions(-)

commit 5725c51
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Dec 2 10:11:30 2012 +0900

    Rename the storage_class_t enum values.
    
    With the intoduction of the statement type enum came a prefix clash. As
    "st" makes sense for "statement type", I decided that "storage class"
    should be "sc". Although there haven't been any problems as of yet, I
    decided it would be a good idea to clean up the clash now. It also helps
    avoid confusion (I was a bit surprised after working with st_assign etc to
    be reminded of st_extern etc).

 tools/qfcc/include/def.h       |   12 ++++++------
 tools/qfcc/source/class.c      |   34 +++++++++++++++++-----------------
 tools/qfcc/source/def.c        |   28 ++++++++++++++--------------
 tools/qfcc/source/emit.c       |    2 +-
 tools/qfcc/source/expr.c       |   12 ++++++------
 tools/qfcc/source/flow.c       |    2 +-
 tools/qfcc/source/function.c   |   10 +++++-----
 tools/qfcc/source/method.c     |    8 ++++----
 tools/qfcc/source/obj_type.c   |    4 ++--
 tools/qfcc/source/qc-parse.y   |   16 ++++++++--------
 tools/qfcc/source/qp-parse.y   |    2 +-
 tools/qfcc/source/shared.c     |    2 +-
 tools/qfcc/source/statements.c |    2 +-
 tools/qfcc/source/struct.c     |    2 +-
 tools/qfcc/source/switch.c     |    2 +-
 tools/qfcc/source/symtab.c     |    6 +++---
 tools/qfcc/source/value.c      |   10 +++++-----
 17 files changed, 77 insertions(+), 77 deletions(-)

commit 4c65d9f
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Dec 1 20:53:58 2012 +0900

    Fix up the definitely lost memory blocks.
    
    qfcc isn't meant to be long running, so I'm not super worried about memory
    usage, but definitely lost memory blocks when compiling just a single
    function seems a tad sloppy.

 tools/qfcc/source/qfcc.c  |   18 ++++++++++---
 tools/qfcc/source/value.c |   63 ++++++++++++++++++++++++++++-----------------
 2 files changed, 54 insertions(+), 27 deletions(-)

commit b0c08bf
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Dec 1 16:40:37 2012 +0900

    Build the tests with optimization.
    
    Egad, the whole point of the tests was to make sure the optimizations work.

 tools/qfcc/test/Makefile.am |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 54289da
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Dec 1 16:37:38 2012 +0900

    Fix the line number info for else.
    
    It has bugged me for a while that the goto for else would display the if's
    source line.

 tools/qfcc/include/expr.h    |    2 +-
 tools/qfcc/source/expr.c     |    7 ++++++-
 tools/qfcc/source/qc-parse.y |   16 ++++++++++++----
 tools/qfcc/source/qp-parse.y |   15 +++++++++++----
 4 files changed, 30 insertions(+), 10 deletions(-)

commit 7e4ec4c
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Dec 1 15:41:30 2012 +0900

    Update qfcc's TODO
    
    Remove old completed items, complete a couple, etc.

 tools/qfcc/TODO |   18 ++++++++----------
 1 file changed, 8 insertions(+), 10 deletions(-)

commit ff0c51e
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Dec 1 11:20:06 2012 +0900

    Build our ruamoko stuff with optimizations :)

 ruamoko/cl_menu/Makefile.am |    2 +-
 ruamoko/game/Makefile.am    |    2 +-
 ruamoko/gui/Makefile.am     |    2 +-
 ruamoko/lib/Makefile.am     |    2 +-
 ruamoko/scheme/Makefile.am  |    2 +-
 tools/qwaq/Makefile.am      |    2 +-
 6 files changed, 6 insertions(+), 6 deletions(-)

commit d47fa0f
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Dec 1 11:13:45 2012 +0900

    Make the new optimizations optional.
    
    The usual -O :) (no numbers yet, though). Alternatively, -C [no-]optimize
    may be used.

 tools/qfcc/include/options.h    |    1 +
 tools/qfcc/include/statements.h |    2 ++
 tools/qfcc/source/function.c    |   14 +++++++++-----
 tools/qfcc/source/options.c     |    7 +++++++
 tools/qfcc/source/statements.c  |   26 ++++++++++++++++++++++++++
 5 files changed, 45 insertions(+), 5 deletions(-)

commit 8484933
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Dec 1 11:10:47 2012 +0900

    Support calls through function temps.
    
    I had forgotten function vars stored in ents and objects would use a temp
    when calling the function.

 tools/qfcc/include/statements.h |    1 +
 tools/qfcc/source/flow.c        |    7 +++++++
 tools/qfcc/source/statements.c  |    1 +
 3 files changed, 9 insertions(+)

commit 5e9d7d3
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Nov 30 20:47:36 2012 +0900

    Don't use the expr type for assignments.
    
    Instead, the type is taken from the source operand (this means the computed
    type of .return for that var). ctf now builds :)

 tools/qfcc/source/dags.c        |    5 ++++-
 tools/qfcc/test/Makefile.am     |    8 ++++++++
 tools/qfcc/test/chewed-return.r |   19 +++++++++++++++++++
 3 files changed, 31 insertions(+), 1 deletion(-)

commit df66669
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Nov 30 18:25:47 2012 +0900

    Handle back edges in return type flow.
    
    Turns out the flow loop needs to be repeated until there are no changes.

 tools/qfcc/source/flow.c |   36 ++++++++++++++++++++++--------------
 1 file changed, 22 insertions(+), 14 deletions(-)

commit 9e4fb3d
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Nov 30 17:24:39 2012 +0900

    Fix the return type flow.
    
    Uninitialized variable :P
    So far, basic tests seem to be good.

 tools/qfcc/source/flow.c |    1 +
 1 file changed, 1 insertion(+)

commit 554b2e4
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Nov 30 17:04:18 2012 +0900

    Add flow analysis to determin the type of .return.
    
    It doesn't quite work yet, but...
    
    It has proven necessary to know what type .return has at any point in the
    function. The segfault in ctf is caused by the return statement added to
    the end of the void function messing with the expr pointer stored in the
    daglabel for .return. While this is actually by design (though the
    statement really should have a valid expr pointer rather than), it actually
    highlights a bigger problem: there's no stable knowledge of the current
    type of .return. This is not a problem in expression statements as the
    dagnodes for expression statements store the desired types of all operands.
    However, when assigning from .return to attached variables in a leaf node,
    the type of .return is not stored anywhere but the expression last
    accessing .return.

 tools/qfcc/include/flow.h       |    5 ++++
 tools/qfcc/include/statements.h |    1 +
 tools/qfcc/source/dot_flow.c    |   19 +++++++++++++
 tools/qfcc/source/flow.c        |   59 +++++++++++++++++++++++++++++++++++++++
 tools/qfcc/source/statements.c  |   12 ++++++++
 5 files changed, 96 insertions(+)

commit 3882477
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Nov 30 16:56:25 2012 +0900

    Re-enable the dags specific flow graph dump.

 tools/qfcc/source/flow.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 71d1804
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Nov 30 16:52:22 2012 +0900

    Clean up flow diagrams.
    
    Now information like dags or live variables are dumped separately, and the
    live variable information replaces the flow node in the diagram (like dags
    have recently).

 tools/qfcc/include/flow.h    |    4 +-
 tools/qfcc/source/dot_flow.c |  245 ++++++++++++++++++++++++++----------------
 tools/qfcc/source/flow.c     |    8 +-
 3 files changed, 159 insertions(+), 98 deletions(-)

commit 93f5360
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Nov 30 14:06:52 2012 +0900

    Move and rename statement related flow_is_* and flow_get_*
    
    They really should have been in statements.[ch] in the first place
    (actually, they sort of were: is_goto etc, so some redundant code has been
    removed, too).

 tools/qfcc/include/flow.h       |    6 ---
 tools/qfcc/include/statements.h |    6 +++
 tools/qfcc/source/dot_sblock.c  |    8 ++--
 tools/qfcc/source/flow.c        |   90 ++++---------------------------------
 tools/qfcc/source/statements.c  |   94 ++++++++++++++++++++++++++++++---------
 5 files changed, 93 insertions(+), 111 deletions(-)

commit 086fd0f
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Nov 30 13:57:08 2012 +0900

    Correct a comment.

 tools/qfcc/include/dags.h |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 8d23573
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Nov 30 13:40:46 2012 +0900

    Move the mingw stuff to a more realistic place.
    
    If I ever get mxe built, I'll update for that.

 tools/cross/mingw/cross-configure.sh |    2 +-
 tools/cross/mingw/cross-make.sh      |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 0bdf511
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Nov 29 11:39:58 2012 +0900

    Fix qf-release to work with the new mingw cross scripts.

 tools/build_scripts/qf-release |   10 ++--------
 1 file changed, 2 insertions(+), 8 deletions(-)

commit 433b3c0
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Nov 29 11:34:34 2012 +0900

    make distcheck fixes.

 Makefile.am |   11 ++++++++---
 1 file changed, 8 insertions(+), 3 deletions(-)

commit 6857fe5
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Nov 29 11:19:09 2012 +0900

    Make all the cross-compiling scripts consistent.
    
    Now all cross builds automatically build qfcc and pak, bail on error, and
    use pkg-config correctly.

 tools/cross/droid/cross-make.sh             |    3 ++-
 tools/cross/mingw/cross-configure.sh        |   20 ++++++++++++++++----
 tools/cross/mingw/cross-make.sh             |   16 +++++++++++++---
 tools/cross/mipsel-linux/cross-configure.sh |   16 ++++++++++++----
 tools/cross/mipsel-linux/cross-make.sh      |    5 ++++-
 tools/cross/ps3-elf/cross-configure.sh      |    9 +++++++--
 tools/cross/ps3-elf/cross-make.sh           |    3 ++-
 7 files changed, 56 insertions(+), 16 deletions(-)

commit 042cae2
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Nov 29 11:16:06 2012 +0900

    Use pkg-config when checking for sdl.
    
    This makes setting up for cross-compiling cleaner.

 config.d/sdl.m4 |    8 +++++---
 1 file changed, 5 insertions(+), 3 deletions(-)

commit 568b719
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Nov 29 10:28:46 2012 +0900

    Make a bunch of improvements to the droid cross scripts.
    
    Native versions of qfcc and pak are now built automatically, and the
    android toolchain now defaults to a more sensible place. Also, the separate
    pkg-config replacement is no longer necessary.

 tools/cross/droid/arm-linux-androideabi-pkg-config |   16 ----------------
 tools/cross/droid/cross-configure.sh               |   15 +++++++++++++--
 tools/cross/droid/cross-make.sh                    |   12 ++++++++++--
 3 files changed, 23 insertions(+), 20 deletions(-)

commit e97193f
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Nov 29 10:26:19 2012 +0900

    Add error to stub.c.
    
    It turns out libc has an "error" function too, but the android libc does
    not, thus qfprogs wouldn't link when building for droid.

 tools/qfcc/source/stub.c |    1 +
 1 file changed, 1 insertion(+)

commit 69d9a2b
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Nov 29 10:18:52 2012 +0900

    Hit some inlining issues with a big stick.
    
    It turns out gcc has a way to force functions to inline even when it thinks
    doing so would not be a good idea (call to a modest sized function unlikely).

 nq/source/world.c |   10 ++++++----
 qw/source/world.c |   16 +++++++++-------
 2 files changed, 15 insertions(+), 11 deletions(-)

commit b5f2da0
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Nov 29 10:15:52 2012 +0900

    Copy the entity leaf leak from qw.

 nq/source/world.c |    1 +
 1 file changed, 1 insertion(+)

commit a12eb94
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Nov 28 21:29:03 2012 +0900

    Remove the hard-coded bsp maximum depths.
    
    The depth limits in the gl and glsl renderers and in the trace code really
    bothered me, but then the fix hit me: at load-time, recurse the trees
    normally and record the depth in the appropriate place. The node stacks can
    then be allocated as necessary (I chose to add a paranoia buffer of 2, but
    I expect the maximum depth will rarely be used).

 include/QF/model.h                  |    3 +++
 libs/models/brush/model_brush.c     |   46 +++++++++++++++++++++++++++++++++++
 libs/models/test/testclip.c         |    2 ++
 libs/models/trace.c                 |    6 ++++-
 libs/video/renderer/gl/gl_rsurf.c   |   17 +++++++------
 libs/video/renderer/glsl/glsl_bsp.c |   17 +++++++------
 6 files changed, 76 insertions(+), 15 deletions(-)

commit 7c3ad46
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Nov 28 19:15:38 2012 +0900

    Correct the endianess.
    
    mips-linux is little endian (missed edit from the copy from ps3)

 tools/cross/mipsel-linux/cross-configure.sh |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c4ba294
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 27 20:32:52 2012 +0900

    Fix the icky fixme :)

 tools/qfcc/source/statements.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit a91f4ce
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 27 18:31:47 2012 +0900

    Add the @nil keyword.
    
    @nil is exactly the same as nil, but it is always available.

 tools/qfcc/source/qc-lex.l |    1 +
 1 file changed, 1 insertion(+)

commit edeffd6
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 27 18:31:01 2012 +0900

    Fix a missed obj_module_s/_t from the class cleanup.
    
    Doesn't seem to have caused any problems, but still :)

 tools/qfcc/source/qc-lex.l |    5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

commit 026a992
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Nov 26 21:42:37 2012 +0900

    Add a test case for the alias chain mangling.
    
    I think I need to rework the tests to better handle compile-only tests.

 tools/qfcc/test/Makefile.am    |   15 ++++++++++++++-
 tools/qfcc/test/chewed-alias.r |   21 +++++++++++++++++++++
 2 files changed, 35 insertions(+), 1 deletion(-)

commit 31b07bc
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Nov 26 21:30:57 2012 +0900

    Rewrite expr_alias().
    
    Modifying the existing alias chain proved to be a bad idea (in retrospect,
    I should have known better:P). Instead, just walk down any existing alias
    chain to the root operand and build a new alias from that.

 tools/qfcc/source/statements.c |   12 +++++-------
 1 file changed, 5 insertions(+), 7 deletions(-)

commit 1cd58b3
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 27 12:47:40 2012 +0900

    Fix the library dependencies for the servers.
    
    It's so rarely I build without clients...

 config.d/build_control.m4 |    4 ++++
 qw/source/Makefile.am     |    1 -
 2 files changed, 4 insertions(+), 1 deletion(-)

commit 62bac6e
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 27 12:40:43 2012 +0900

    Add scripts for cross-compiling for mipsel-linux.
    
    These are based on the ps3dev scripts, so native qfcc and pak are built
    automatically.
    
    Note that there may be a need to replace or even just nuke bison in the
    toolchain as it is too old and can't build qfcc.

 tools/cross/mipsel-linux/cross-configure.sh |   13 +++++++++++++
 tools/cross/mipsel-linux/cross-make.sh      |   13 +++++++++++++
 2 files changed, 26 insertions(+)

commit 215ff61
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Nov 26 21:05:24 2012 +0900

    Add a test for the dead boolean expression.
    
    This tests the zombie label problem found via ctf.

 tools/qfcc/test/Makefile.am |    9 ++++++++-
 tools/qfcc/test/deadbool.r  |   19 +++++++++++++++++++
 2 files changed, 27 insertions(+), 1 deletion(-)

commit d6b38dd
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Nov 26 21:00:28 2012 +0900

    Add an option to control expr tree dumping.
    
    About bloody time :P

 tools/qfcc/include/options.h   |    1 +
 tools/qfcc/source/dot_expr.c   |    2 +-
 tools/qfcc/source/options.c    |    3 +++
 tools/qfcc/source/statements.c |    4 ++--
 4 files changed, 7 insertions(+), 3 deletions(-)

commit e28aa0a
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Nov 26 17:19:02 2012 +0900

    Fix some errors in the set code.
    
    I really need to write some unit tests for the set code, but with this (and
    an uncommitted dags patch (still thinking about it)) ctf compiles.

 tools/qfcc/source/set.c |   20 ++++++++++++++++----
 1 file changed, 16 insertions(+), 4 deletions(-)

commit 8e225cd
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Nov 26 16:13:59 2012 +0900

    Fix a missing label use count decrement.
    
    if statements in dead code weren't being removed due to the label.

 tools/qfcc/source/statements.c |    1 +
 1 file changed, 1 insertion(+)

commit 2484785
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Nov 26 16:13:40 2012 +0900

    Fix some whitespace.

 tools/qfcc/source/expr.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 128547b
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Nov 26 16:09:53 2012 +0900

    Resurrect the "next" pointers for labels and conditionals.

 tools/qfcc/source/dot_expr.c |   82 ++++++++++++++++++++++++------------------
 1 file changed, 47 insertions(+), 35 deletions(-)

commit f741734
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Nov 26 15:47:10 2012 +0900

    Rewrite print_bool to be more informative.

 tools/qfcc/source/dot_expr.c |   64 +++++++++++++++++++++++++++++-------------
 1 file changed, 44 insertions(+), 20 deletions(-)

commit 147d00d
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Nov 26 15:04:33 2012 +0900

    Rewrite print_block making it more informative.

 tools/qfcc/source/dot_expr.c |   56 +++++++++++++++++++++++++++---------------
 1 file changed, 36 insertions(+), 20 deletions(-)

commit ce1d89b
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Nov 26 14:18:23 2012 +0900

    Replace some of the quotes around node names.
    
    Null expression pointers can show up unexpectedly, and printf's (null)
    messes up dot.

 tools/qfcc/source/dot_expr.c |   19 +++++++++++--------
 1 file changed, 11 insertions(+), 8 deletions(-)

commit 578ad07
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Nov 25 15:01:36 2012 +0900

    Fix yet another empty block issue.
    
    I think I need to rework all the code in there, but this will do for now.

 tools/qfcc/source/statements.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit f6e5428
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Nov 24 21:53:00 2012 +0900

    Don't create default_expr unless needed.
    
    The goto for the default expression is the source of the mis-counted label
    users: the label was being counted by the goto, but the goto was never
    being inserted into the code (only v6 progs or "difficult" types insert the
    goto).

 tools/qfcc/source/switch.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d0e56c9
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Nov 24 21:39:02 2012 +0900

    Detect non-initial nodes with no predecessors.
    
    Such nodes are unreachable code (ie, dead blocks), but the dead block
    removal code failed to remove them (current known cause: miscounted label
    userrs). As such blocks cause problems for data flow analysis, ignoring
    them is not a good idea. Thus make them an internal error.

 tools/qfcc/source/flow.c |    5 +++++
 1 file changed, 5 insertions(+)

commit 4f8b3b5
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Nov 24 19:06:10 2012 +0900

    More empty block checks.

 tools/qfcc/source/statements.c |    2 ++
 1 file changed, 2 insertions(+)

commit 6e7aaac
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Nov 24 19:06:01 2012 +0900

    Fix the wording of a comment.

 tools/qfcc/source/statements.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit b68401e
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Nov 24 17:55:57 2012 +0900

    Produce a debug print when using jump tables.

 tools/qfcc/source/switch.c |    1 +
 1 file changed, 1 insertion(+)

commit 4c1dc56
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Nov 24 16:49:46 2012 +0900

    Cop out on uninitialized large variables.
    
    vectors, quaternions and structs are a little tricky. I need to think about
    how to get them working, but I also want qfcc to get through as much code
    as possible.

 tools/qfcc/source/flow.c |    6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit 40c97f9
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Nov 24 16:47:44 2012 +0900

    Tread immediate move statements similarly to assignments.
    
    They're used for structure assignment in near data space. This fixes the
    bogus uninitialized warnings on fully initialized structs.

 tools/qfcc/source/flow.c |    8 ++++++--
 1 file changed, 6 insertions(+), 2 deletions(-)

commit 7f229b7
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Nov 24 15:42:21 2012 +0900

    Remove execessive html quoting.
    
    Heh, I must have put that in long before I did the quoting functions.

 tools/qfcc/source/statements.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit dbbca47
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Nov 24 15:26:27 2012 +0900

    Mark initialized struct/array defs as initalized.
    
    Also, use the initialized flag for setting up the initalized var set in
    flow_uninitialized().

 tools/qfcc/source/def.c  |    2 ++
 tools/qfcc/source/flow.c |   18 +++++++++++++++++-
 2 files changed, 19 insertions(+), 1 deletion(-)

commit f4604d9
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Nov 24 15:08:48 2012 +0900

    Remove gotos that go to the following statement.
    
    eg:
    	goto foo:
    foo:
    	//some code

 tools/qfcc/source/statements.c |    9 +++++++++
 1 file changed, 9 insertions(+)

commit 738fc65
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Nov 24 14:56:30 2012 +0900

    Treat global vars as always live.
    
    This fixes the infloop.r test.

 tools/qfcc/source/dags.c |    2 ++
 1 file changed, 2 insertions(+)

commit 2478b05
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Nov 24 14:53:45 2012 +0900

    Add a test for writes to global vars in a loop.

 tools/qfcc/test/Makefile.am |    9 ++++++++-
 tools/qfcc/test/infloop.r   |   23 +++++++++++++++++++++++
 tools/qfcc/test/test-bi.c   |    7 +++++++
 3 files changed, 38 insertions(+), 1 deletion(-)

commit bdafdad
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Nov 24 12:53:51 2012 +0900

    Treat flow control statements separately.
    
    I'm not convinced this is the correct fix for while (count--), but it does
    work.

 tools/qfcc/source/dags.c |   25 +++++++++++++++++++++++++
 1 file changed, 25 insertions(+)

commit 67b796f
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Nov 23 14:38:15 2012 +0900

    Fix a silly error in bsp extents checking.
    
    Found while hunting for rhinodemons.

 libs/util/bspfile.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit fe9fb41
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Nov 23 14:35:34 2012 +0900

    Correct some very suspicious looking code.
    
    While accessing short foo[2][4]; as foo[0][0..7] should work in theory, who
    knows what gcc does with it when optimizing. I don't know if this will fix
    johnnyonflame's bsp loading problem, but no point in having rhinodemonic
    code hanging around.

 libs/util/bspfile.c |   12 +++++++++---
 1 file changed, 9 insertions(+), 3 deletions(-)

commit 65024af
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Nov 23 14:34:48 2012 +0900

    Ignore some files.
    
    The problem with building out-of-tree :P

 .gitignore |    4 ++++
 1 file changed, 4 insertions(+)

commit bc26cd2
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Nov 22 21:57:21 2012 +0900

    Make structptr.r a little quieter.

 tools/qfcc/test/structptr.r |   11 ++++++-----
 1 file changed, 6 insertions(+), 5 deletions(-)

commit 607d7dd
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Nov 22 21:23:46 2012 +0900

    Simplify the child match in dagnode_match.
    
    I have no idea why I did it that way when all that's needed is to check the
    child pointers. Well, that's modulo.r fixed :)

 tools/qfcc/source/dags.c |    5 +----
 1 file changed, 1 insertion(+), 4 deletions(-)

commit 64d9bbd
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Nov 22 20:54:05 2012 +0900

    Make the failure message clearer.

 tools/qfcc/test/modulo.r |    7 ++++++-
 1 file changed, 6 insertions(+), 1 deletion(-)

commit b920a4d
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Nov 22 20:49:12 2012 +0900

    Add a new test case.
    
    It turns out that the optimizer completely breaks (a + b) % (a - b) with v6
    code.

 tools/qfcc/test/Makefile.am  |    9 ++++++-
 tools/qfcc/test/modulo.r     |   56 ++++++++++++++++++++++++++++++++++++++++++
 tools/qfcc/test/old/modulo.r |   38 ----------------------------
 3 files changed, 64 insertions(+), 39 deletions(-)

commit 47decd5
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Nov 22 20:47:18 2012 +0900

    Support testing v6 progs.
    
    v6 progs return float rather than int (they don't have int).

 tools/qfcc/test/build-run      |    2 +-
 tools/qfcc/test/test-harness.c |    9 +++++++++
 2 files changed, 10 insertions(+), 1 deletion(-)

commit eef3992
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Nov 22 20:42:00 2012 +0900

    Add some very evil pragmas.
    
    The evil comment is not just "pragmas are bad, ok?", but switching between
    advanced, extended and tradtitional modes when compiling truly is evil and
    not guaranteed to work. However, I needed it to make building test cases
    easier (it's mostly ok to go from advanced to extended or tradtional, but
    going the other way will probably cause all sorts of fun).
    
    In the process, opcode_init now copies the opcode table data rather than
    modifying it.

 tools/qfcc/include/Makefile.am |    6 +--
 tools/qfcc/include/pragma.h    |   42 ++++++++++++++++++
 tools/qfcc/source/Makefile.am  |    4 +-
 tools/qfcc/source/opcodes.c    |   45 +++++++++++++-------
 tools/qfcc/source/pragma.c     |   92 ++++++++++++++++++++++++++++++++++++++++
 tools/qfcc/source/qc-lex.l     |    7 ++-
 6 files changed, 173 insertions(+), 23 deletions(-)

commit 538879b
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Nov 22 17:11:21 2012 +0900

    Get automatic dependencies working for the progs files.
    
    Including dependencies on QFCC itself :)

 tools/qfcc/test/Makefile.am |    7 ++++++-
 1 file changed, 6 insertions(+), 1 deletion(-)

commit 92d2b41
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Nov 22 16:05:09 2012 +0900

    Make the --developer and --trace options work.

 tools/qfcc/test/test-harness.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit a5a7780
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Nov 22 15:47:28 2012 +0900

    Fix make dist for qfcc's test.

 tools/qfcc/test/Makefile.am |   10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit 99b3423
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Nov 22 15:40:16 2012 +0900

    Add a test harness for qfcc.
    
    It's only the beginning, but finally make check is useful for qfcc :)
    It even has a failing test :D

 config.d/ac_config_files.m4    |    1 +
 config.d/build_control.m4      |    6 +
 tools/qfcc/Makefile.am         |    2 +-
 tools/qfcc/test/Makefile.am    |   43 +++++++
 tools/qfcc/test/build-run      |   11 ++
 tools/qfcc/test/test-bi.c      |   85 ++++++++++++++
 tools/qfcc/test/test-bi.h      |    1 +
 tools/qfcc/test/test-harness.c |  255 ++++++++++++++++++++++++++++++++++++++++
 8 files changed, 403 insertions(+), 1 deletion(-)

commit eb8dfd7
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Nov 22 13:36:08 2012 +0900

    Fix a comment.
    
    The information I most wanted wasn't there :P

 include/QF/progs.h |    1 +
 1 file changed, 1 insertion(+)

commit 95bd4ad
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Nov 22 13:29:36 2012 +0900

    Add a test for while (count--)

 tools/qfcc/test/while.r |   29 +++++++++++++++++++++++++++++
 1 file changed, 29 insertions(+)

commit 49ca09a
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Nov 22 13:28:05 2012 +0900

    Clean up qfcc's test directory.
    
    I don't remember what half these tests were for :/

 tools/qfcc/test/aggregate.r         |    1 -
 tools/qfcc/test/base.r              |    4 -
 tools/qfcc/test/bool.r              |   18 -
 tools/qfcc/test/break.r             |   20 -
 tools/qfcc/test/cast.r              |    4 -
 tools/qfcc/test/cast2.r             |    9 -
 tools/qfcc/test/chat.r              |  410 --------------------
 tools/qfcc/test/class-end.r         |   23 --
 tools/qfcc/test/class-method.r      |   30 --
 tools/qfcc/test/const.r             |    2 -
 tools/qfcc/test/convert.r           |    9 -
 tools/qfcc/test/dead-block.r        |    7 -
 tools/qfcc/test/debug.r             |   21 -
 tools/qfcc/test/decl.r              |    5 -
 tools/qfcc/test/defs.h              |  724 -----------------------------------
 tools/qfcc/test/entity-field.r      |   18 -
 tools/qfcc/test/entity-field2.r     |   13 -
 tools/qfcc/test/entity-struct.r     |   30 --
 tools/qfcc/test/enum.r              |    2 -
 tools/qfcc/test/field-alias.r       |   11 -
 tools/qfcc/test/field.r             |    1 -
 tools/qfcc/test/file-line.r         |   27 --
 tools/qfcc/test/float-int.r         |    7 -
 tools/qfcc/test/fold.r              |   10 -
 tools/qfcc/test/foo.r               |   13 -
 tools/qfcc/test/for.r               |   22 --
 tools/qfcc/test/forward.r           |   10 -
 tools/qfcc/test/func.r              |    8 -
 tools/qfcc/test/gcd.pas             |   15 -
 tools/qfcc/test/gcd.r               |   21 -
 tools/qfcc/test/imp.r               |    3 -
 tools/qfcc/test/int-float.r         |    4 -
 tools/qfcc/test/ivar.r              |   40 --
 tools/qfcc/test/libfrikbot.h        |  318 ---------------
 tools/qfcc/test/linkdef1.r          |    7 -
 tools/qfcc/test/linkdef2.r          |    9 -
 tools/qfcc/test/linkdef3.r          |   10 -
 tools/qfcc/test/local-func.r        |   10 -
 tools/qfcc/test/local-pointer.r     |   12 -
 tools/qfcc/test/local.r             |    7 -
 tools/qfcc/test/membarray.r         |   59 ---
 tools/qfcc/test/message.r           |    8 -
 tools/qfcc/test/modulo.r            |   38 --
 tools/qfcc/test/move.r              |   26 --
 tools/qfcc/test/nil.r               |   18 -
 tools/qfcc/test/obj.r               |   10 -
 tools/qfcc/test/offset.r            |   19 -
 tools/qfcc/test/old/aggregate.r     |    1 +
 tools/qfcc/test/old/base.r          |    4 +
 tools/qfcc/test/old/bool.r          |   18 +
 tools/qfcc/test/old/break.r         |   20 +
 tools/qfcc/test/old/cast.r          |    4 +
 tools/qfcc/test/old/cast2.r         |    9 +
 tools/qfcc/test/old/chat.r          |  410 ++++++++++++++++++++
 tools/qfcc/test/old/class-end.r     |   23 ++
 tools/qfcc/test/old/class-method.r  |   30 ++
 tools/qfcc/test/old/const.r         |    2 +
 tools/qfcc/test/old/convert.r       |    9 +
 tools/qfcc/test/old/dead-block.r    |    7 +
 tools/qfcc/test/old/debug.r         |   21 +
 tools/qfcc/test/old/decl.r          |    5 +
 tools/qfcc/test/old/defs.h          |  722 ++++++++++++++++++++++++++++++++++
 tools/qfcc/test/old/entity-field.r  |   18 +
 tools/qfcc/test/old/entity-field2.r |   13 +
 tools/qfcc/test/old/entity-struct.r |   30 ++
 tools/qfcc/test/old/enum.r          |    2 +
 tools/qfcc/test/old/field-alias.r   |   10 +
 tools/qfcc/test/old/field.r         |    1 +
 tools/qfcc/test/old/file-line.r     |   27 ++
 tools/qfcc/test/old/float-int.r     |    7 +
 tools/qfcc/test/old/fold.r          |   10 +
 tools/qfcc/test/old/foo.r           |   13 +
 tools/qfcc/test/old/for.r           |   22 ++
 tools/qfcc/test/old/forward.r       |   10 +
 tools/qfcc/test/old/func.r          |    8 +
 tools/qfcc/test/old/gcd.pas         |   15 +
 tools/qfcc/test/old/gcd.r           |   21 +
 tools/qfcc/test/old/imp.r           |    3 +
 tools/qfcc/test/old/int-float.r     |    4 +
 tools/qfcc/test/old/ivar.r          |   40 ++
 tools/qfcc/test/old/libfrikbot.h    |  318 +++++++++++++++
 tools/qfcc/test/old/linkdef1.r      |    7 +
 tools/qfcc/test/old/linkdef2.r      |    9 +
 tools/qfcc/test/old/linkdef3.r      |   10 +
 tools/qfcc/test/old/local-func.r    |   10 +
 tools/qfcc/test/old/local-pointer.r |   12 +
 tools/qfcc/test/old/local.r         |    7 +
 tools/qfcc/test/old/membarray.r     |   58 +++
 tools/qfcc/test/old/message.r       |    8 +
 tools/qfcc/test/old/modulo.r        |   38 ++
 tools/qfcc/test/old/move.r          |   26 ++
 tools/qfcc/test/old/nil.r           |   18 +
 tools/qfcc/test/old/obj.r           |   10 +
 tools/qfcc/test/old/offset.r        |   19 +
 tools/qfcc/test/old/overload.r      |   30 ++
 tools/qfcc/test/old/params.qc       |    9 +
 tools/qfcc/test/old/pointer-param.r |   17 +
 tools/qfcc/test/old/prec.qc         |   29 ++
 tools/qfcc/test/old/precedence.r    |    9 +
 tools/qfcc/test/old/progs.src       |    3 +
 tools/qfcc/test/old/ptr-array.r     |   13 +
 tools/qfcc/test/old/ptrderef.r      |   18 +
 tools/qfcc/test/old/quattest.r      |   16 +
 tools/qfcc/test/old/redefined.r     |    2 +
 tools/qfcc/test/old/reference.r     |    2 +
 tools/qfcc/test/old/selector.r      |    4 +
 tools/qfcc/test/old/self-this.r     |    6 +
 tools/qfcc/test/old/semi.r          |   11 +
 tools/qfcc/test/old/shortcircuit.r  |    9 +
 tools/qfcc/test/old/state.r         |    3 +
 tools/qfcc/test/old/storage.r       |    8 +
 tools/qfcc/test/old/struct-return.r |   47 +++
 tools/qfcc/test/old/struct.r        |   57 +++
 tools/qfcc/test/old/super.r         |   14 +
 tools/qfcc/test/old/switch.r        |   52 +++
 tools/qfcc/test/old/syntax.r        |   43 +++
 tools/qfcc/test/old/test-linkdef    |    6 +
 tools/qfcc/test/old/test.qc         |   41 ++
 tools/qfcc/test/old/test.r          |   12 +
 tools/qfcc/test/old/test2.qc        |    8 +
 tools/qfcc/test/old/thread-jumps.r  |   16 +
 tools/qfcc/test/old/value.r         |   16 +
 tools/qfcc/test/old/vector.r        |   23 ++
 tools/qfcc/test/old/vector2.r       |   13 +
 tools/qfcc/test/old/vector_float.r  |    8 +
 tools/qfcc/test/old/void-pointer.r  |    8 +
 tools/qfcc/test/old/void-return.qc  |   10 +
 tools/qfcc/test/overload.r          |   31 --
 tools/qfcc/test/params.qc           |    9 -
 tools/qfcc/test/pointer-param.r     |   17 -
 tools/qfcc/test/prec.qc             |   29 --
 tools/qfcc/test/precedence.r        |    9 -
 tools/qfcc/test/progs.src           |    3 -
 tools/qfcc/test/ptr-array.r         |   13 -
 tools/qfcc/test/ptrderef.r          |   18 -
 tools/qfcc/test/quattest.r          |   16 -
 tools/qfcc/test/redefined.r         |    2 -
 tools/qfcc/test/reference.r         |    2 -
 tools/qfcc/test/selector.r          |    4 -
 tools/qfcc/test/self-this.r         |    6 -
 tools/qfcc/test/semi.r              |   11 -
 tools/qfcc/test/shortcircuit.r      |    9 -
 tools/qfcc/test/state.r             |    3 -
 tools/qfcc/test/storage.r           |    8 -
 tools/qfcc/test/struct-return.r     |   48 ---
 tools/qfcc/test/struct.r            |   57 ---
 tools/qfcc/test/super.r             |   14 -
 tools/qfcc/test/switch.r            |   53 ---
 tools/qfcc/test/syntax.r            |   43 ---
 tools/qfcc/test/test-linkdef        |    6 -
 tools/qfcc/test/test.qc             |   41 --
 tools/qfcc/test/test.r              |   12 -
 tools/qfcc/test/test2.qc            |    8 -
 tools/qfcc/test/thread-jumps.r      |   16 -
 tools/qfcc/test/value.r             |   16 -
 tools/qfcc/test/vector.r            |   23 --
 tools/qfcc/test/vector2.r           |   13 -
 tools/qfcc/test/vector_float.r      |    8 -
 tools/qfcc/test/void-pointer.r      |    8 -
 tools/qfcc/test/void-return.qc      |   10 -
 160 files changed, 2652 insertions(+), 2659 deletions(-)

commit 1d34da2
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Nov 21 20:50:45 2012 +0900

    Add an option to dump frame files.
    
    After running across a question about lists of animation frames and states,
    I decided giving qfcc the ability to generate such lists might be a nice
    distraction from the optimizer :) Works for both progs.src and separate
    compilation. No frame file is generated if no macros have been created.

 tools/qfcc/doc/man/qfcc.1    |   10 ++++++++++
 tools/qfcc/include/grab.h    |    6 ++++--
 tools/qfcc/include/options.h |    1 +
 tools/qfcc/source/grab.c     |   27 +++++++++++++++++++++++++--
 tools/qfcc/source/options.c  |    6 ++++++
 tools/qfcc/source/qc-lex.l   |    8 +++++++-
 tools/qfcc/source/qfcc.c     |   26 ++++++++++++++++++++++++++
 7 files changed, 79 insertions(+), 5 deletions(-)

commit 4b5e00a
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Nov 21 16:11:37 2012 +0900

    Do a bunch of refactoring.
    
    The dag creation loop was getting too messy.

 tools/qfcc/source/dags.c |  122 ++++++++++++++++++++++++++++------------------
 1 file changed, 75 insertions(+), 47 deletions(-)

commit c5f2e3c
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Nov 21 15:03:44 2012 +0900

    Make dag dumping from gdb easier.

 tools/qfcc/include/dags.h   |    1 +
 tools/qfcc/source/dot_dag.c |   36 +++++++++++++++++++++++++++++++++---
 2 files changed, 34 insertions(+), 3 deletions(-)

commit bedde02
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Nov 21 13:43:03 2012 +0900

    Make flow graphs with dags easier to read.
    
    The node contents are now the dag rather than the dag being attached to the
    node.

 tools/qfcc/include/dags.h    |    2 +-
 tools/qfcc/source/dot_dag.c  |   15 +++++---
 tools/qfcc/source/dot_flow.c |   80 ++++++++++++++++++++++++++++++------------
 3 files changed, 69 insertions(+), 28 deletions(-)

commit c759b73
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Nov 21 12:23:15 2012 +0900

    Cope with empty sblocks when producing dot graphs.

 tools/qfcc/source/dot_sblock.c |   25 ++++++++++++++++---------
 1 file changed, 16 insertions(+), 9 deletions(-)

commit 2c09464
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Nov 21 12:16:10 2012 +0900

    Don't attach a dag label to its own node.
    
    This kills a = a; statements :)

 tools/qfcc/source/dags.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 0583dc8
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Nov 21 10:26:41 2012 +0900

    Treat uninitialized temps as a bug.
    
    It really should be impossible, but I'm not sure where the bug is yet
    (though there are uninitialized variables that are false positives that
    most definitely are initialized, might be related)

 tools/qfcc/source/flow.c |   13 ++++++++-----
 1 file changed, 8 insertions(+), 5 deletions(-)

commit 2aaa380
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Nov 21 10:25:29 2012 +0900

    Fix some uninitialized variable warnings.
    
    While they're false positives (qfcc doesn't know about noreturn), at least
    qfcc is doing its job :)

 ruamoko/lib/Object.r |    8 +++++---
 1 file changed, 5 insertions(+), 3 deletions(-)

commit 86968f6
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Nov 21 10:06:15 2012 +0900

    Store the function type in function values.
    
    This fixes IMP msg = nil;

 tools/qfcc/include/expr.h  |   10 ++++++++--
 tools/qfcc/include/value.h |    2 +-
 tools/qfcc/source/expr.c   |    6 ++++--
 tools/qfcc/source/value.c  |    9 ++++++---
 4 files changed, 19 insertions(+), 8 deletions(-)

commit 6869371
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Nov 21 09:43:59 2012 +0900

    Ensure flowvars always point to the var itself.
    
    Pointing to aliases of the var causes all sorts of problems, but this time
    it was causing the uninitialized variable detector to miss certain
    parameters.

 tools/qfcc/source/flow.c |   25 ++++++++++++-------------
 1 file changed, 12 insertions(+), 13 deletions(-)

commit 0dc306c
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Nov 21 09:42:02 2012 +0900

    Fix the initialized var data flow.
    
    Now most false positives have been fixed. Just some problems with aliased
    vars (next) and then the usual false positives caused by branches.

 tools/qfcc/source/flow.c |   48 ++++++++++++++++++++++++++++++----------------
 1 file changed, 31 insertions(+), 17 deletions(-)

commit 547ea78
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 20 21:49:47 2012 +0900

    Implement uninitialized variable checking.
    
    It currently gets a lot of false positives (globals and parameters?), but
    the initial tests for just local vars worked.

 tools/qfcc/include/flow.h |    6 ++
 tools/qfcc/source/flow.c  |  133 +++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 139 insertions(+)

commit db92a7b
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 20 19:49:57 2012 +0900

    Fix an out-by-one error.
    
    That "qfvalgrind" is proving worthwhile :)

 ruamoko/lib/Array+Private.r |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d8a5d67
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 20 17:50:59 2012 +0900

    Add a param flag to defs.
    
    It is necessary to know if a def is a function parameter so it can be
    treated as initialized by the flow analyzer. The support for the flag in
    object files is, at this stage, purely for debugging purposes.

 tools/qfcc/include/def.h         |    2 ++
 tools/qfcc/include/obj_file.h    |    7 +++++++
 tools/qfcc/source/def.c          |   12 +++++++++++-
 tools/qfcc/source/dump_globals.c |    1 +
 tools/qfcc/source/function.c     |    6 +++---
 tools/qfcc/source/obj_file.c     |    2 ++
 6 files changed, 26 insertions(+), 4 deletions(-)

commit a734fea
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 20 17:14:58 2012 +0900

    Create the .parN variables for varargs functions.
    
    Ouch, 2 years and this is the first test?

 tools/qfcc/source/function.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 984aa9a
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 20 17:12:16 2012 +0900

    Support entity.field = structvar2 = structvar1;
    
    The structvar2 = structvar1 is implemented as a move expresion, which
    address_expr didn't like. Return the address of the source. For indirect
    move expressions, this is just the source expression itself.

 tools/qfcc/source/expr.c |   10 ++++++++++
 1 file changed, 10 insertions(+)

commit 5cfeb78
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 20 17:11:39 2012 +0900

    Fix a missing ;

 tools/qfcc/source/qc-parse.y |    1 +
 1 file changed, 1 insertion(+)

commit b91bb2e
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 20 16:55:19 2012 +0900

    Add direct moves to expression dumping.

 tools/qfcc/source/dot_expr.c |    1 +
 1 file changed, 1 insertion(+)

commit 793112d
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 20 15:39:00 2012 +0900

    Add some more tests.
    
    structptr.r is actually usable for automated testing when I get around to
    it.

 tools/qfcc/test/gcd.r       |   21 +++++++++++++++++++++
 tools/qfcc/test/obj.r       |   10 ++++++++++
 tools/qfcc/test/ptrderef.r  |    2 ++
 tools/qfcc/test/structptr.r |   40 ++++++++++++++++++++++++++++++++++++++++
 4 files changed, 73 insertions(+)

commit 87121b4
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 20 15:28:57 2012 +0900

    Be slightly picky about which nodes to kill.
    
    Constant/label nodes should never be killed because they can (in theory)
    never change. While constants /can/ change in the Quake VM, it's not worth
    worrying about as there would be much more important things to worry about
    (like 2+2 not giving 4).
    
    Due to the hoops one would have to jump through, it is assumed that a
    pointer or an offset from that pointer will never overwrite the pointer.

 tools/qfcc/source/dags.c |   20 ++++++++++++++++++--
 1 file changed, 18 insertions(+), 2 deletions(-)

commit 22d72f3
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 20 15:22:05 2012 +0900

    Match pointer dereferences with pointer assignements.
    
    Having the source operand of a pointer assignment available to later
    instrctions can make for more efficient code as the value does not need to
    be dereferenced later. For this purpose, pointer dereference dag nodes now
    store the source operand as their value, and dagnode_match will match x=a.b
    with *(a+b)=y so long as both a and b are the same in both nodes. x and y
    are irrelevant to the match. The resulting code will be the equivalent of:
        *(a+b) = y;
        x = y;

 tools/qfcc/source/dags.c |   18 ++++++++++++++++++
 1 file changed, 18 insertions(+)

commit 36e359e
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 20 15:19:32 2012 +0900

    Correct a typo.

 tools/qfcc/source/dags.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit abd9704
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 20 14:53:06 2012 +0900

    Avoid over-releasing the autorelease pool.
    
    It seems that the engine menu code must be calling menu_post too often, but
    I don't feel like fixing it just yet.

 ruamoko/cl_menu/client_menu.r |    6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit 951bed6
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 20 14:41:13 2012 +0900

    Allow the retain count to become 0.
    
    With the new retain count scheme, it must reach 0 or double frees won't be
    caught.

 ruamoko/lib/Object.r |    9 ++++++---
 1 file changed, 6 insertions(+), 3 deletions(-)

commit ef0f309
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 20 14:30:42 2012 +0900

    Kill all dag nodes on pointer assignment.
    
    It's brutal, but it works and is conservatively correct.

 tools/qfcc/include/dags.h |    1 +
 tools/qfcc/source/dags.c  |   16 ++++++++++++++++
 2 files changed, 17 insertions(+)

commit f83cf17
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 20 14:23:43 2012 +0900

    Allow node() to work for all operand types.
    
    This is a bit of an expermiment to get better dags (more node reuse).

 tools/qfcc/source/dags.c |   21 ++++++++++++++++-----
 1 file changed, 16 insertions(+), 5 deletions(-)

commit 1472fec
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 20 13:44:36 2012 +0900

    Factor out the live vars magic from dag_create.
    
    The code is messy enough as it is :P

 tools/qfcc/source/dags.c |   49 +++++++++++++++++++++++++---------------------
 1 file changed, 27 insertions(+), 22 deletions(-)

commit 06a62be
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 20 13:33:57 2012 +0900

    Fix redundant constant values.
    
    I had forgotten to add the new value to the hash table. Oops.

 tools/qfcc/source/value.c |    1 +
 1 file changed, 1 insertion(+)

commit 4b503c7
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Nov 19 21:50:42 2012 +0900

    Store the requested size in the block.
    
    This necessitated disabling the id2 padding, but it's only commented out
    incase there's more growth. Now the (compiler) error in -addObjectNoRetain
    is caught ealier.

 libs/util/zone.c |   27 ++++++++++++++++-----------
 1 file changed, 16 insertions(+), 11 deletions(-)

commit 8ee98e1
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Nov 19 21:35:27 2012 +0900

    Rename memblock_s's size to block_size.
    
    In order to improve the pointer checking, I plan on adding a size field to
    represent the requested size.

 libs/util/zone.c |   40 ++++++++++++++++++++--------------------
 1 file changed, 20 insertions(+), 20 deletions(-)

commit 49ad301
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Nov 19 20:03:21 2012 +0900

    Add improved memory checking to progs.
    
    With pr_boundscheck >= 2, pointer access will be checked against allocated
    blocks (qfvalgrind?:). Currently extremely basic, but it seems to work.

 include/QF/zone.h       |    2 +-
 libs/gamecode/pr_exec.c |    5 +++++
 libs/util/zone.c        |   26 +++++++++++++++++++++++++-
 3 files changed, 31 insertions(+), 2 deletions(-)

commit 56103f9
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Nov 19 17:21:35 2012 +0900

    Treat global variables as live at the end of a function.
    
    .return and .param_N are not classed as global variables for data flow
    analysis. .return is taken care of by return statements, and .param_N by
    call statements.
    
    With this, the menus work up to attempting to load the menu plist.
    Something is corrupting zmalloc's blocks.

 tools/qfcc/include/flow.h     |    4 +++-
 tools/qfcc/include/function.h |    1 +
 tools/qfcc/include/symtab.h   |   10 +++++-----
 tools/qfcc/source/dags.c      |   37 ++++++++++++++++++++-----------------
 tools/qfcc/source/flow.c      |   33 ++++++++++++++++++++++++++++++++-
 tools/qfcc/source/function.c  |    2 +-
 6 files changed, 62 insertions(+), 25 deletions(-)

commit 0dea564
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Nov 19 16:11:07 2012 +0900

    Be more careful of empty sblocks.
    
    Accessing the final statement of an sblock via tail doesn't work in an
    empty sblock because tail points to sblock->statements and thus the cast is
    invalid. This bug has be lurking for a long time, but for some reason the
    cse stuff tickled it (thankfully!!!).

 tools/qfcc/source/statements.c |   32 ++++++++++++++++++++++----------
 1 file changed, 22 insertions(+), 10 deletions(-)

commit 1e72e3e
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Nov 19 15:24:09 2012 +0900

    Make the post-optimization sblocks dump optional.

 tools/qfcc/include/options.h |    1 +
 tools/qfcc/source/flow.c     |    3 ++-
 tools/qfcc/source/options.c  |    3 +++
 3 files changed, 6 insertions(+), 1 deletion(-)

commit bcde739
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Nov 19 15:21:01 2012 +0900

    Don't let generate_assignments guess the type.
    
    It fails when both source and destination are void, but since the dag node
    itself does know the correct type, pass in the type rather than guessing.

 tools/qfcc/source/dags.c |   23 ++++++++++-------------
 1 file changed, 10 insertions(+), 13 deletions(-)

commit 68bf013
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Nov 19 15:18:31 2012 +0900

    Use a dag-local live vars set.
    
    Function calls need to ensure .param_N actually get assigned, and so the
    params must be seen as live by the dead variable removal code. However, it
    is undesirable to modify the live vars data of the flow node, so make a
    local copy.

 tools/qfcc/source/dags.c |   29 ++++++++++++++++++++++++++---
 1 file changed, 26 insertions(+), 3 deletions(-)

commit d125281
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Nov 19 13:49:34 2012 +0900

    Use low_level_type instead of extract_type.
    
    extract_type doesn't understand enums (by design?). qwaq's types.r now
    compiles.

 tools/qfcc/source/dags.c       |    5 ++++-
 tools/qfcc/source/dot_expr.c   |    8 +++++---
 tools/qfcc/source/statements.c |    2 +-
 3 files changed, 10 insertions(+), 5 deletions(-)

commit f2cc824
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Nov 19 12:53:08 2012 +0900

    Use the correct field when dechaining aliases.
    
    op_type and type always confuse me :P

 tools/qfcc/source/statements.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c035117
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Nov 19 12:52:24 2012 +0900

    Fix a dreaded uninitialized variable.
    
    Sneaky bastard :P (typo)

 tools/qfcc/source/dot_expr.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 674c823
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Nov 19 12:30:23 2012 +0900

    Set the operand type for op_label.
    
    It was never set before (and thus void), but as it now needs to be
    ev_short, set it when getting the fake def used for label operands.

 tools/qfcc/source/emit.c |    1 +
 1 file changed, 1 insertion(+)

commit 5018f51
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Nov 19 12:28:41 2012 +0900

    Use operand types rather than def types to select opcodes.
    
    With temp types changing and temps being reused within the one instruction,
    the def type is no longer usable for selecting the opcode. However, the
    operand types are stable and more correct.

 tools/qfcc/include/opcodes.h |    6 +++---
 tools/qfcc/source/emit.c     |    2 +-
 tools/qfcc/source/opcodes.c  |   11 ++++++-----
 3 files changed, 10 insertions(+), 9 deletions(-)

commit 6032106
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Nov 19 12:14:02 2012 +0900

    Fix dot_expr.c to work with dump_dot().

 tools/qfcc/include/expr.h    |    1 +
 tools/qfcc/source/dot_expr.c |  233 +++++++++++++++++++++++-------------------
 2 files changed, 131 insertions(+), 103 deletions(-)

commit e70b59b
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Nov 19 11:02:31 2012 +0900

    Don't null the def pointer when freeing a temp.
    
    It makes debugging more difficult.

 tools/qfcc/source/emit.c       |    4 +---
 tools/qfcc/source/statements.c |    2 ++
 2 files changed, 3 insertions(+), 3 deletions(-)

commit 3cffeb7
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Nov 19 11:00:04 2012 +0900

    Handle assignment from void defs.
    
    The main void defs are .return and .param_N. If the source operand is void,
    use the destination operand's type to alias the source operand rather than
    the source operand's type to alias the destination's operand (the usual
    case).

 tools/qfcc/source/dags.c |   10 ++++++++--
 1 file changed, 8 insertions(+), 2 deletions(-)

commit 158e261
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Nov 19 10:33:03 2012 +0900

    Give reusable temps their own linked list.
    
    The next field is used for linking all defs in a space. Oops.

 tools/qfcc/include/def.h |    1 +
 tools/qfcc/source/def.c  |    6 +++---
 2 files changed, 4 insertions(+), 3 deletions(-)

commit 1af4d5e
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Nov 19 10:31:22 2012 +0900

    Ensure reused temps have the correct type.
    
    The type of a temp may change through its life as it's really the location
    and name that are reused.

 tools/qfcc/source/def.c |   12 ++++++------
 1 file changed, 6 insertions(+), 6 deletions(-)

commit 4e8e94a
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Nov 18 20:29:40 2012 +0900

    Detect aliased temopary variables.
    
    This takes care of some temps not being freed.

 tools/qfcc/source/emit.c |   16 ++++++++++------
 1 file changed, 10 insertions(+), 6 deletions(-)

commit 3d1792d
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Nov 18 20:27:26 2012 +0900

    Properly count users of a tempory variable.
    
    The dags code isn't the only place that creates temporary variables, so
    count them as they go into a statement rather than when they're created.
    This fixes the temp underflows.

 tools/qfcc/source/dags.c |   14 +++++++++++---
 1 file changed, 11 insertions(+), 3 deletions(-)

commit 0c3aeb3
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Nov 18 19:08:16 2012 +0900

    Reuse tempary variables.
    
    Now that I've got nice code, it was worth doing. Unfortunatly, bsearch
    style switch statements have problems.
    switch.r:14: BUG: temp users went negative: <tmp 0x21b6840:-1>
    switch.r:14: BUG: temp users went negative: <tmp 0x21b6840:-2>
    switch.r:14: BUG: temp users went negative: <tmp 0x21b6840:-3>
    switch.r:14: BUG: temp users went negative: <tmp 0x21b67d0:-1>

 tools/qfcc/include/def.h        |    1 +
 tools/qfcc/include/function.h   |    1 +
 tools/qfcc/include/statements.h |    1 +
 tools/qfcc/source/dags.c        |    5 +++++
 tools/qfcc/source/def.c         |   13 +++++++++++++
 tools/qfcc/source/dot_dag.c     |    3 ++-
 tools/qfcc/source/emit.c        |   25 +++++++++++++++++++++----
 tools/qfcc/source/flow.c        |    2 +-
 tools/qfcc/source/statements.c  |    2 +-
 9 files changed, 46 insertions(+), 7 deletions(-)

commit 3897142
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Nov 18 13:28:46 2012 +0900

    Add a couple more tests to ptrderef.r

 tools/qfcc/test/ptrderef.r |    2 ++
 1 file changed, 2 insertions(+)

commit c5fa4fe
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Nov 18 13:10:19 2012 +0900

    Generate code from the dag in topological sort order.
    
    Nicely, the need for dag_gencode to recurse seems to have been removed.
    
    At least for a simple case, correct code is generated :)
    
    	switch.r:49:    case 1:         *to = *from++;
    	003b loadbi.i *(from + 0), .tmp10
    	003c add.i from, .imm, from
    	003d storep.i .tmp10, *to

 tools/qfcc/include/dags.h |    1 +
 tools/qfcc/source/dags.c  |   18 +++++++-----------
 2 files changed, 8 insertions(+), 11 deletions(-)

commit 1452dcc
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Nov 18 12:56:27 2012 +0900

    Create dependency edges.
    
    A node that writes to a var must be evaluated after any node that reads
    that var, so for any node reading var, add that node to the edges of the
    node currently associated with the var (unless the node is a child of the
    node reading the var).

 tools/qfcc/source/dags.c |   25 ++++++++++++++++++-------
 1 file changed, 18 insertions(+), 7 deletions(-)

commit 8fe71f2
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Nov 18 12:55:44 2012 +0900

    Display a dagnode's extra dependency edges.

 tools/qfcc/source/dot_dag.c |   11 +++++++++++
 1 file changed, 11 insertions(+)

commit d3f010a
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Nov 18 11:34:01 2012 +0900

    Fix the flow-dag connections in the flow graphs.

 tools/qfcc/source/dot_dag.c  |   17 +++++++++++------
 tools/qfcc/source/dot_flow.c |    3 ++-
 2 files changed, 13 insertions(+), 7 deletions(-)

commit d585956
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Nov 18 10:50:10 2012 +0900

    Treat newly created nodes as root nodes.
    
    When a node is made a child of another node, it is removed from the dag's
    set of root nodes.

 tools/qfcc/source/dags.c |   16 +++++++++-------
 1 file changed, 9 insertions(+), 7 deletions(-)

commit af4e56b
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Nov 18 09:23:01 2012 +0900

    Topologically sort the dag.
    
    It doesn't make any difference yet, but that's because I need to add extra
    edges indicating iter-node dependencies. However, the sort does seem to
    work for its limited input.

 tools/qfcc/include/dags.h   |    4 ++-
 tools/qfcc/source/dags.c    |   67 ++++++++++++++++++++++++++++++++++---------
 tools/qfcc/source/dot_dag.c |    4 +--
 3 files changed, 59 insertions(+), 16 deletions(-)

commit 6688712
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Nov 17 22:12:03 2012 +0900

    Add the child nodes to the node's edges set.

 tools/qfcc/source/dags.c |    1 +
 1 file changed, 1 insertion(+)

commit dcc786b
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Nov 17 22:08:46 2012 +0900

    Remove dead variables after creating the dag.
    
    Not adding them while creating the dag completely broke the dag as
    node(deadvar) always returned null. Code quality is back to where it was
    before the dags rewrite.

 tools/qfcc/source/dags.c |   16 +++++++++++++---
 1 file changed, 13 insertions(+), 3 deletions(-)

commit deb5484
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Nov 17 21:55:59 2012 +0900

    Move the node/label numbering into the alloc funcs.
    
    I should have done it this way in the first place. much cleaner.

 tools/qfcc/source/dags.c |   86 +++++++++++++++++++---------------------------
 1 file changed, 35 insertions(+), 51 deletions(-)

commit 12133bc
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Nov 17 21:14:42 2012 +0900

    Rewrite dags to use sets.
    
    While things are quite broken now (very incorrect code is being generated),
    the dag is much easier to work with. The dag is now stored in an array of
    nodes (the children pointers are still used for dagnode operands), and sets
    are used for marking node parents, attached identifiers and (when done,
    extra edges).

 tools/qfcc/include/dags.h   |   47 +++---
 tools/qfcc/include/flow.h   |    2 +-
 tools/qfcc/source/dags.c    |  347 ++++++++++++++++++++++---------------------
 tools/qfcc/source/dot_dag.c |   92 +++++-------
 tools/qfcc/source/flow.c    |    2 +-
 5 files changed, 241 insertions(+), 249 deletions(-)

commit 0bb2fc1
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Nov 17 12:07:27 2012 +0900

    Fix the lost line numbers on simple assignments.
    
    Instead of storing the generating statement in the dagnode, the generating
    expression is stored in the daglabel. The daglabel's expression pointer is
    updated each time the label is attached to a node. Now I know why debugging
    optimized code can be... interesting.

 tools/qfcc/include/dags.h |    2 +-
 tools/qfcc/source/dags.c  |   30 ++++++++++++++++--------------
 2 files changed, 17 insertions(+), 15 deletions(-)

commit 43d7790
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Nov 16 22:09:49 2012 +0900

    Rewrite dag_gencode to use statement/node types.
    
    It now seems to generate correct code for each node. However, node order is
    still incorrect in places (foo++ is being generated as ++foo). quattest.r
    actually executes and produces the right output :)

 tools/qfcc/include/dags.h   |    6 +-
 tools/qfcc/source/dags.c    |  151 +++++++++++++++++++++++++------------------
 tools/qfcc/source/dot_dag.c |    3 +-
 3 files changed, 94 insertions(+), 66 deletions(-)

commit 872b136
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Nov 16 21:50:27 2012 +0900

    Ensure return's operand gets set properly.
    
    Yay for coding and designing at the same time, not :P

 tools/qfcc/source/flow.c |   18 +++++++++---------
 1 file changed, 9 insertions(+), 9 deletions(-)

commit bd5a790
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Nov 16 20:12:13 2012 +0900

    Support statement labels in dags.
    
    While the code is broken in places, switch.r generates code again.

 tools/qfcc/include/expr.h |    1 +
 tools/qfcc/source/dags.c  |   10 +++++++++-
 2 files changed, 10 insertions(+), 1 deletion(-)

commit 4c6381d
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Nov 16 20:03:30 2012 +0900

    Mostly fix dag_create to work with flow_analyze_statement.
    
    Label operands aren't handled properly, but dags are getting generated
    again (better than before: return and goto are in).

 tools/qfcc/source/dags.c |   59 ++++++++++++----------------------------------
 1 file changed, 15 insertions(+), 44 deletions(-)

commit 1100efb
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Nov 16 19:33:37 2012 +0900

    Nuke find_operands in favor of flow_analyze_statement.
    
    flow_analyze_statement uses the statement type to quickly determin which
    operands are inputs and which are outputs. It takes (optional) sets for
    used variables, defined variables and killed variables (only partially
    working, but I don't actually use kill sets yet). It also takes an optional
    array for storing the operands: index 0 is the output, 1-3 are the inputs.
    flow_analyze_statement clears any given sets on entry.
    
    Live variable analysis now uses the sets rather than individual vars. Much
    cleaner code :).
    
    Dags are completely broken.

 tools/qfcc/include/flow.h       |    3 +
 tools/qfcc/include/statements.h |    2 -
 tools/qfcc/source/dags.c        |    4 +-
 tools/qfcc/source/flow.c        |  219 +++++++++++++++++++++++++++++++++++----
 tools/qfcc/source/statements.c  |   49 ---------
 5 files changed, 202 insertions(+), 75 deletions(-)

commit 001e1ac
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Nov 16 16:16:06 2012 +0900

    Classify statements into broad types.
    
    The types are expression, assignment, pointer assignment (ie, write to a
    dereferenced pointer), move (special case of pointer assignment), state,
    function call/return, and flow control. With this classification, it will
    be easier (less code:) to determine which operands are inputs and which are
    outputs.

 tools/qfcc/include/statements.h |   24 ++++++++++++++++++++-
 tools/qfcc/source/dags.c        |    2 +-
 tools/qfcc/source/statements.c  |   44 +++++++++++++++++++++------------------
 3 files changed, 48 insertions(+), 22 deletions(-)

commit d0c37bb
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Nov 16 14:45:11 2012 +0900

    Change the int<->float conversion opcode string.
    
    Using "=" was rather confusing, so changing it to "<CONV>" seems to be a
    good idea. As the string is used only for selecting opcodes at compile
    time, only qfcc is affected.

 libs/gamecode/pr_opcode.c      |    4 ++--
 tools/qfcc/source/statements.c |    2 +-
 2 files changed, 3 insertions(+), 3 deletions(-)

commit b8b626e
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Nov 16 14:45:11 2012 +0900

    Change the int<->float conversion opcode string.
    
    Using "=" was rather confusing, so changing it to "<CONV>" seems to be a
    good idea. As the string is used only for selecting opcodes at compile
    time, only qfcc is affected.

 libs/gamecode/pr_opcode.c      |    4 ++--
 tools/qfcc/source/statements.c |    2 +-
 2 files changed, 3 insertions(+), 3 deletions(-)

commit c1776fc
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Nov 16 12:42:57 2012 +0900

    Make the dags in flow graphs a little easier to read.

 tools/qfcc/source/dot_dag.c  |    2 +-
 tools/qfcc/source/dot_flow.c |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit db605fa
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Nov 15 17:58:33 2012 +0900

    Improve the type accuracy of dag_gencode.
    
    Surprisingly, I don't yet have to "throw one out", but things are still
    problematic: rcall1 is getting two arguments, goto and return get lost,
    rcall2 got an old temp rather than the value it was supposed to, but
    progress :)

 tools/qfcc/include/dags.h |    1 +
 tools/qfcc/source/dags.c  |   21 +++++++++++++--------
 2 files changed, 14 insertions(+), 8 deletions(-)

commit 3bfa89c
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Nov 15 17:15:34 2012 +0900

    Clean up the operand type fixing.
    
    It doesn't help any yet, but it will make things easier later on.

 tools/qfcc/source/dags.c |   17 +++++++++++------
 1 file changed, 11 insertions(+), 6 deletions(-)

commit 012a521
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Nov 15 15:53:51 2012 +0900

    Strip aliases off daglabel operands.
    
    However, the original type of the operand, as seen by the statement, is
    kept. Mostly works, but has some problems with plistmenu.r

 tools/qfcc/include/dags.h |    8 +--
 tools/qfcc/source/dags.c  |  132 +++++++++++++++++++++++++++++++++++----------
 2 files changed, 110 insertions(+), 30 deletions(-)

commit c1a5c1a
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Nov 15 15:52:30 2012 +0900

    Create alias_operand ().

 tools/qfcc/include/statements.h |    1 +
 tools/qfcc/source/statements.c  |   10 ++++++++++
 2 files changed, 11 insertions(+)

commit 0952108
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Nov 15 15:18:00 2012 +0900

    Ensure alias operands are never nested.
    
    No more than one level of aliasing is ever needed, so strip off any
    intervening aliases that show up.

 tools/qfcc/source/emit.c       |    2 +-
 tools/qfcc/source/statements.c |    6 ++++++
 2 files changed, 7 insertions(+), 1 deletion(-)

commit fb82a96
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Nov 15 14:53:09 2012 +0900

    Better handling of progs.dat and line numbers.
    
    Not enough testing :P

 tools/qfcc/source/qfpreqcc |   16 +++++++++++-----
 1 file changed, 11 insertions(+), 5 deletions(-)

commit 6621a42
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Nov 15 14:53:09 2012 +0900

    Better handling of progs.dat and line numbers.
    
    Not enough testing :P

 tools/qfcc/source/qfpreqcc |   16 +++++++++++-----
 1 file changed, 11 insertions(+), 5 deletions(-)

commit 1c32ac8
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Nov 7 15:52:37 2012 +0900

    Expose new_statement, too.

 tools/qfcc/include/statements.h |    1 +
 tools/qfcc/source/statements.c  |    2 +-
 2 files changed, 2 insertions(+), 1 deletion(-)

commit 69543cf
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Nov 7 14:26:37 2012 +0900

    Fix an uninitialized variable.
    
    It was never a propblem until an attempt to dump empty sblocks was made.

 tools/qfcc/source/flow.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d76e2a8
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Nov 7 14:11:26 2012 +0900

    Make a start on regenerating code from dags.
    
    Some parts are a lot messier than I thought, so the actual codegen in the
    dags code is just a minimal stub for now.

 tools/qfcc/include/dags.h    |   11 +++++---
 tools/qfcc/include/flow.h    |    1 +
 tools/qfcc/source/dags.c     |   58 ++++++++++++++++++++++++++++++++++++++++++
 tools/qfcc/source/flow.c     |   28 ++++++++++++++++++++
 tools/qfcc/source/function.c |    1 +
 5 files changed, 96 insertions(+), 3 deletions(-)

commit 802e198
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Nov 7 14:09:01 2012 +0900

    Expose some statements functions needed for code gen.

 tools/qfcc/include/statements.h |    4 ++++
 tools/qfcc/source/statements.c  |    6 +++---
 2 files changed, 7 insertions(+), 3 deletions(-)

commit c43a833
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Nov 7 14:07:21 2012 +0900

    Expose dump_dot_sblock.

 tools/qfcc/include/statements.h |    1 +
 tools/qfcc/source/statements.c  |    2 +-
 2 files changed, 2 insertions(+), 1 deletion(-)

commit 88b8beb
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Nov 7 11:49:17 2012 +0900

    Detach dead temporary variables from dag nodes.
    
    This allows temporary variables that are used in multiple nodes to remain
    in the dag, but also will allow more freedom when generating code from the
    dag.

 tools/qfcc/source/dags.c |   12 ++++++++++++
 1 file changed, 12 insertions(+)

commit fe13f21
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Nov 7 11:28:40 2012 +0900

    Fix a segfault causing c&p error.
    
    Found when I tried to skip attaching temporary vars to dag nodes (which
    proved to be a bad move in the end, but exposing bugs is good).

 tools/qfcc/source/dags.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 2b2ea5c
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Nov 7 11:28:33 2012 +0900

    Compute dags as part of data flow analysis.
    
    I want to use the live variable information when building the dags.

 tools/qfcc/include/dags.h       |    8 +++++---
 tools/qfcc/include/flow.h       |    1 +
 tools/qfcc/include/statements.h |    1 -
 tools/qfcc/source/dags.c        |    3 ++-
 tools/qfcc/source/dot_flow.c    |    4 ++++
 tools/qfcc/source/dot_sblock.c  |    4 ----
 tools/qfcc/source/flow.c        |   16 +++++++++++++++-
 7 files changed, 27 insertions(+), 10 deletions(-)

commit c358a0e
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Nov 7 11:00:08 2012 +0900

    Create a function to generalize dot dumping.
    
    Now, any time a graph is wanted, the file can be consistently named without
    a lot of messy code.

 tools/qfcc/include/Makefile.am  |    2 +-
 tools/qfcc/include/dot.h        |   37 +++++++++++++++++++++++++++
 tools/qfcc/include/statements.h |    1 -
 tools/qfcc/source/Makefile.am   |    4 +--
 tools/qfcc/source/dot.c         |   53 +++++++++++++++++++++++++++++++++++++++
 tools/qfcc/source/dot_sblock.c  |   11 --------
 tools/qfcc/source/flow.c        |   11 ++++++--
 tools/qfcc/source/function.c    |    3 ---
 tools/qfcc/source/statements.c  |   15 ++++++++---
 9 files changed, 113 insertions(+), 24 deletions(-)

commit 5051c92
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Nov 7 09:45:28 2012 +0900

    Ensure alias operands are properly freed.

 tools/qfcc/source/statements.c |    2 ++
 1 file changed, 2 insertions(+)

commit 9f409b1
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Nov 7 08:50:28 2012 +0900

    Rename make_dag to dag_create.

 tools/qfcc/include/dags.h |    4 +---
 tools/qfcc/source/dags.c  |    4 ++--
 tools/qfcc/source/flow.c  |    2 +-
 3 files changed, 4 insertions(+), 6 deletions(-)

commit 1641033
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Nov 7 08:34:55 2012 +0900

    Create the dags list in execution order.
    
    The root nodes of the dag need to be evaluated in execution order as some
    roots may depend on the results of earlier roots (but then, this might also
    be related to the problem of function calls not specifying all of their
    parameters to the dag).

 tools/qfcc/source/dags.c |    9 +++++----
 1 file changed, 5 insertions(+), 4 deletions(-)

commit e77d3b9
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 6 22:10:04 2012 +0900

    Fix a missed colspan in sblock dumps.

 tools/qfcc/source/dot_sblock.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 783b408
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 6 21:50:29 2012 +0900

    Produce tidier dag dumps.

 tools/qfcc/source/dot_dag.c    |   73 +++++++++++++++++++++++++++++++---------
 tools/qfcc/source/dot_sblock.c |    2 +-
 2 files changed, 59 insertions(+), 16 deletions(-)

commit 04a8e19
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 6 20:20:28 2012 +0900

    Move the flow-var use/define calcs to a better place.
    
    dags.c really isn't the right place. The only reason it wasn't in flow.c in
    the first place is find_operands was in the wrong place.

 tools/qfcc/source/dags.c |    9 ---------
 tools/qfcc/source/flow.c |   17 +++++++++++++++++
 2 files changed, 17 insertions(+), 9 deletions(-)

commit c4d4174
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 6 19:18:00 2012 +0900

    Make some minor improvements to flow graph dumps.

 tools/qfcc/source/dot_flow.c |   16 ++++++++++++++--
 1 file changed, 14 insertions(+), 2 deletions(-)

commit 3298e4d
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 6 18:30:27 2012 +0900

    Ensure find_operands sets the operands to known values.
    
    This fixes the last of the bogus live variables.

 tools/qfcc/source/statements.c |    2 ++
 1 file changed, 2 insertions(+)

commit e3a49df
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 6 18:29:09 2012 +0900

    Set def after setting use.
    
    An instruction that both reads and writes the same variable will read the
    variable before writing to it, so the instruction uses the variable rather
    than defines it (for live-variable purposes).

 tools/qfcc/source/flow.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 58cb73d
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 6 18:27:53 2012 +0900

    Remember to union the node's use with (out - def)
    
    Oops.

 tools/qfcc/source/flow.c |    1 +
 1 file changed, 1 insertion(+)

commit cd224c0
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 6 18:26:08 2012 +0900

    Add live variable info to flow graph dumps.
    
    Things are a little bogus, but at least the bogosity is visible :)

 tools/qfcc/include/flow.h    |    4 +++-
 tools/qfcc/source/dot_flow.c |   24 ++++++++++++++++++++++--
 tools/qfcc/source/flow.c     |    8 ++++----
 tools/qfcc/source/function.c |    3 ++-
 4 files changed, 31 insertions(+), 8 deletions(-)

commit 8817c4a
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 6 18:21:06 2012 +0900

    Re-enable the flow graph dumping.
    
    It's still in a bogus place, but it's necessary.

 tools/qfcc/source/function.c |    3 +++
 1 file changed, 3 insertions(+)

commit 3c79f07
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 6 18:19:46 2012 +0900

    Fix an out-by-one error in the set operators.
    
    I have no idea why I added that - 1.

 tools/qfcc/source/set.c |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 4b64912
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 6 15:30:07 2012 +0900

    Begin doing some data flow analysis.
    
    In te beginning, live variables.

 tools/qfcc/include/flow.h    |    8 +++++
 tools/qfcc/source/flow.c     |   74 ++++++++++++++++++++++++++++++++++++++++++
 tools/qfcc/source/function.c |    1 +
 3 files changed, 83 insertions(+)

commit c00e666
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 6 15:29:38 2012 +0900

    Expose find_operands.
    
    It has proven to be a generally useful function, not just for dags.

 tools/qfcc/include/statements.h |    2 ++
 tools/qfcc/source/dags.c        |   47 ---------------------------------------
 tools/qfcc/source/statements.c  |   47 +++++++++++++++++++++++++++++++++++++++
 3 files changed, 49 insertions(+), 47 deletions(-)

commit 0a2ce6d
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 6 15:28:37 2012 +0900

    Fix some doxygen comments.

 tools/qfcc/include/flow.h |   27 +++++++++++++--------------
 1 file changed, 13 insertions(+), 14 deletions(-)

commit 5514c8d
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Nov 5 19:01:04 2012 +0900

    Print the statement number in the sblock output.

 tools/qfcc/source/dot_sblock.c |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 0b49bd3
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Nov 5 19:00:57 2012 +0900

    Collect information on statements that set or use vars.
    
    First, it turns out using daglabels wasn't such a workable plan (due to
    labels being flushed every sblock). Instead, flowvars are used. Each actual
    variable (whether normal or temp) has a pointer to the flowvar attached to
    that variable.
    
    For each variable, the statements that use or define the variable are
    recorded in the appropriate set attached to each (flow)variable.

 tools/qfcc/include/dags.h       |    1 -
 tools/qfcc/include/flow.h       |    9 +++++++
 tools/qfcc/include/function.h   |    2 +-
 tools/qfcc/include/statements.h |    1 +
 tools/qfcc/include/symtab.h     |    1 +
 tools/qfcc/source/dags.c        |   13 ++++++++++
 tools/qfcc/source/flow.c        |   53 +++++++++++++++++++++++++++------------
 tools/qfcc/source/function.c    |   10 --------
 8 files changed, 62 insertions(+), 28 deletions(-)

commit 7404aac
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Nov 5 15:22:38 2012 +0900

    Resurrect dags building and printing.
    
    However, this time it's done after the statement recording (so the
    statement numbers are set).

 tools/qfcc/source/flow.c       |    4 ++++
 tools/qfcc/source/statements.c |    4 ----
 2 files changed, 4 insertions(+), 4 deletions(-)

commit acedc65
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Nov 5 15:21:40 2012 +0900

    Make an array of statements for the function.
    
    With this, sets can be used to represent statements.

 tools/qfcc/include/function.h   |    2 ++
 tools/qfcc/include/statements.h |    3 ++-
 tools/qfcc/source/flow.c        |   31 ++++++++++++++++++++-----------
 3 files changed, 24 insertions(+), 12 deletions(-)

commit 98245f6
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Nov 5 15:19:49 2012 +0900

    Bury a dead field.

 tools/qfcc/include/function.h |    1 -
 tools/qfcc/source/function.c  |    2 +-
 2 files changed, 1 insertion(+), 2 deletions(-)

commit 8844ac6
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Nov 5 14:51:39 2012 +0900

    Rename dump_flow to dump_sblock and move to dot_sblock.c

 tools/qfcc/include/statements.h |    1 +
 tools/qfcc/source/dot_sblock.c  |   13 +++++++++++++
 tools/qfcc/source/statements.c  |   21 +++++----------------
 3 files changed, 19 insertions(+), 16 deletions(-)

commit d6d03a6
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Nov 5 13:49:10 2012 +0900

    Print the depth-first order of the flow graph nodes.

 tools/qfcc/source/dot_flow.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit acc3beb
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Nov 4 11:07:30 2012 +0900

    Make flow_find_dominators a little more robust.
    
    While a non-initial node not having predecessors is really an internal
    error, segfaulting because of it is not nice.

 tools/qfcc/source/flow.c |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit acde6ca
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Nov 3 18:59:15 2012 +0900

    Handle jumpb statements in dot_sblock and flow graphs.

 tools/qfcc/include/flow.h      |    2 ++
 tools/qfcc/source/dot_sblock.c |   13 ++++++++----
 tools/qfcc/source/flow.c       |   46 ++++++++++++++++++++++++++++++++++++++++
 3 files changed, 57 insertions(+), 4 deletions(-)

commit ffa08a9
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Nov 3 18:12:44 2012 +0900

    Store the initializer expression in the def.
    
    Initially, this will be used for collecting the targets of a jumpb
    instruction.

 tools/qfcc/include/def.h |    1 +
 tools/qfcc/source/def.c  |    1 +
 2 files changed, 2 insertions(+)

commit d7177a7
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Nov 2 17:30:29 2012 +0900

    Rewrite the flow graph code.
    
    The flow graph nodes are now properly separated from the graph, and edge
    information is stored in the graph struct. This actually made for much
    cleaner code (partly thanks to the use of sets and set iterators).
    
    Flow graph reduction has been (temporarily) ripped out as the entire
    approach was wrong. There was also a bug in that I didn't really understand
    the dragon book about selecting nodes and thus messed things up. The
    depth-first search tree "fixed" the problem, but was really the wrong
    solution (sledge hammer :P).
    
    Also, now that I understand that dot's directed graphs must be acyclic, I
    now have much better control over the graphs (back edges need to be
    flipped).

 tools/qfcc/include/flow.h     |   63 +++----
 tools/qfcc/include/function.h |   11 +-
 tools/qfcc/source/dot_flow.c  |   60 ++++---
 tools/qfcc/source/flow.c      |  391 ++++++++++++++++-------------------------
 tools/qfcc/source/function.c  |    8 +-
 5 files changed, 218 insertions(+), 315 deletions(-)

commit b9599a7
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Nov 2 14:12:58 2012 +0900

    Better set memory management.
    
    At the cost of one pointer per set, sets can now be allocated and freed
    more efficiently (especially since malloc might round things up).

 tools/qfcc/include/set.h |    3 ++-
 tools/qfcc/source/set.c  |    6 ++++--
 2 files changed, 6 insertions(+), 3 deletions(-)

commit 2385cf6
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Nov 2 13:39:11 2012 +0900

    Rename setstate_t to set_iter_t.
    
    After all, it is an iterator :).

 tools/qfcc/include/set.h |   12 ++++++------
 tools/qfcc/source/flow.c |    8 ++++----
 tools/qfcc/source/set.c  |   48 +++++++++++++++++++++++-----------------------
 3 files changed, 34 insertions(+), 34 deletions(-)

commit d3d8829
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Nov 1 20:19:35 2012 +0900

    Mostly satisfactory output of nested regions.
    
    It turns out dot does not like cyclic graphs (thus some of the weird
    layouts), but fixing it by flipping back-edges requires proper recording of
    edge info (I guess that's what T is for in the dragon book).

 tools/qfcc/source/dot_flow.c |   40 +++++++++++++++++++++++++++++++++-------
 1 file changed, 33 insertions(+), 7 deletions(-)

commit 8c5a2b3
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Nov 1 15:31:35 2012 +0900

    Implement depth-first searching for flow graphs.
    
    This fixes the bogusly irreducible graphs.

 tools/qfcc/include/flow.h |    1 +
 tools/qfcc/source/flow.c  |   38 ++++++++++++++++++++++++++++++++++----
 2 files changed, 35 insertions(+), 4 deletions(-)

commit 53622db
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Nov 1 15:01:51 2012 +0900

    Perform graph reduction on the function's flow graph.
    
    The reduction is performed itteratively until the graph is irreducible, but
    such that each reduction wraps the previous graph. Unfortunately, due
    depth-first searching not being implemented, graphs that should be reduced
    (ie, those with natural loops).

 tools/qfcc/include/flow.h |    1 +
 tools/qfcc/source/flow.c  |  108 +++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 109 insertions(+)

commit 388b6e6
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Nov 1 15:01:04 2012 +0900

    Add set_size ().
    
    Return the number of members in the set.

 tools/qfcc/include/set.h |    1 +
 tools/qfcc/source/set.c  |   12 ++++++++++++
 2 files changed, 13 insertions(+)

commit 8567508
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Nov 1 15:00:26 2012 +0900

    Rewrite set_first() and add set_next().
    
    set_first() now returns a pointer to a setstate_t struct that holds the
    state necessary for scanning a set. set_next() will automatically delete
    the state block when the end of the set is reached. set_delstate() is also
    provided to allow early termination of the scan.

 tools/qfcc/include/set.h |   13 ++++++++++-
 tools/qfcc/source/flow.c |    5 ++++-
 tools/qfcc/source/set.c  |   55 +++++++++++++++++++++++++++++++++++++++++-----
 3 files changed, 66 insertions(+), 7 deletions(-)

commit 2da038c
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Nov 1 13:23:16 2012 +0900

    Bring back dot_flow.c.
    
    However, it produces simplified flow graphs (ie, just nodes and edges, no
    statements, though later on data flow information will be added).

 tools/qfcc/include/flow.h     |    7 ++++
 tools/qfcc/include/function.h |    1 +
 tools/qfcc/source/Makefile.am |    2 +-
 tools/qfcc/source/dot_flow.c  |   86 +++++++++++++++++++++++++++++++++++++++++
 tools/qfcc/source/flow.c      |    2 +
 tools/qfcc/source/function.c  |    4 +-
 6 files changed, 99 insertions(+), 3 deletions(-)

commit 8b37430
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Nov 1 12:19:38 2012 +0900

    Rename dot_flow.c and print_flow.
    
    They're now dot_sblock.c and print_sblock. The new names both better
    reflect their purpose and free up "flow" for outputting the real flow
    analysis graphs.

 tools/qfcc/include/statements.h |    2 +-
 tools/qfcc/source/Makefile.am   |    2 +-
 tools/qfcc/source/dot_flow.c    |  127 ---------------------------------------
 tools/qfcc/source/dot_sblock.c  |  127 +++++++++++++++++++++++++++++++++++++++
 tools/qfcc/source/function.c    |    4 +-
 tools/qfcc/source/statements.c  |    2 +-
 6 files changed, 132 insertions(+), 132 deletions(-)

commit c483770
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Nov 1 12:11:17 2012 +0900

    Rework flow.c with the aim of graph reduction.
    
    Much of the data recently added to sblock_t has been moved to flownode_t.
    No graph reduction is carried out yet, but the initial (innermost level)
    graph has been built.

 tools/qfcc/include/flow.h       |   40 ++++++-
 tools/qfcc/include/statements.h |    3 -
 tools/qfcc/source/dot_flow.c    |   22 +---
 tools/qfcc/source/flow.c        |  250 +++++++++++++++++++++++++--------------
 tools/qfcc/source/function.c    |    2 -
 5 files changed, 206 insertions(+), 111 deletions(-)

commit da446fd
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Oct 30 22:05:46 2012 +0900

    Detect natural loops.
    
    Non-nested loops that have the same head-node are merged into one loop.
    However, loop nesting is not currently detected (next step).

 tools/qfcc/include/flow.h     |    7 ++++
 tools/qfcc/include/function.h |    1 +
 tools/qfcc/source/flow.c      |   81 +++++++++++++++++++++++++++++++++++++++++
 tools/qfcc/source/function.c  |    9 ++++-
 4 files changed, 97 insertions(+), 1 deletion(-)

commit 8fb9586
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Oct 30 21:56:10 2012 +0900

    Add set_first.
    
    It returns the first element of a set. If the set is empty, -1 (unsigned)
    is returned.

 tools/qfcc/include/set.h |    1 +
 tools/qfcc/source/set.c  |   11 +++++++++++
 2 files changed, 12 insertions(+)

commit 4cc8d4a
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Oct 30 21:54:56 2012 +0900

    Fix an apparent snafu in set_test.
    
    It looks like a bit of case&paste where I forgot to change != to &.

 tools/qfcc/source/set.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 1fead50
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Oct 30 20:12:44 2012 +0900

    Calculate the dominators of each node in the flow graph.
    
    The dominators are represented by sets using the node numbers.

 tools/qfcc/include/flow.h       |    1 +
 tools/qfcc/include/statements.h |    1 +
 tools/qfcc/source/flow.c        |   40 +++++++++++++++++++++++++++++++++++++++
 tools/qfcc/source/function.c    |    1 +
 4 files changed, 43 insertions(+)

commit 964ea7f
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Oct 30 20:10:25 2012 +0900

    Add set_as_string for debug output.

 tools/qfcc/include/set.h |    1 +
 tools/qfcc/source/set.c  |   21 +++++++++++++++++++++
 2 files changed, 22 insertions(+)

commit d2fab28
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Oct 30 19:58:19 2012 +0900

    Implement set_is_member.
    
    Oops, forgot that one.

 tools/qfcc/source/set.c |    8 ++++++++
 1 file changed, 8 insertions(+)

commit 7853bf1
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Oct 30 19:25:35 2012 +0900

    Calculate a node's successors and predecessors.
    
    The dot graphs are a little odd (arrow heads on the wrong end of the
    predecessor edges), but things seem to be correct.

 tools/qfcc/include/flow.h       |    6 +++
 tools/qfcc/include/options.h    |    1 +
 tools/qfcc/include/statements.h |    2 +
 tools/qfcc/source/dot_flow.c    |   51 +++++++++-----------------
 tools/qfcc/source/flow.c        |   77 +++++++++++++++++++++++++++++++++++++++
 tools/qfcc/source/function.c    |    5 ++-
 tools/qfcc/source/options.c     |    3 ++
 tools/qfcc/source/statements.c  |   10 ++---
 8 files changed, 115 insertions(+), 40 deletions(-)

commit 739ebc5
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Oct 30 17:41:40 2012 +0900

    Begin working on flow analysis.
    
    For now, variable and flow graph node maps are built.

 tools/qfcc/include/Makefile.am  |    8 +--
 tools/qfcc/include/dags.h       |    3 +
 tools/qfcc/include/flow.h       |   45 ++++++++++++
 tools/qfcc/include/function.h   |   15 ++++
 tools/qfcc/include/statements.h |    1 +
 tools/qfcc/source/Makefile.am   |    6 +-
 tools/qfcc/source/dags.c        |    2 +-
 tools/qfcc/source/flow.c        |  151 +++++++++++++++++++++++++++++++++++++++
 tools/qfcc/source/function.c    |   10 +--
 9 files changed, 229 insertions(+), 12 deletions(-)

commit f30010b
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Oct 30 17:37:02 2012 +0900

    Add some docs to function.h

 tools/qfcc/include/function.h |   30 ++++++++++++++++++++++++------
 1 file changed, 24 insertions(+), 6 deletions(-)

commit 5acf474
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Oct 30 12:28:22 2012 +0900

    Double quote dag labels.
    
    Dot interprets escape sequences in non-html string, and needs the quotes to
    be escaped, so quote the result of operand_string. Unfortunately,
    operand_string uses quote_string and quote_string returns a static pointer,
    so some hoop-jumping is necessary.

 tools/qfcc/source/dags.c |   11 ++++++++++-
 1 file changed, 10 insertions(+), 1 deletion(-)

commit cdc790d
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Aug 4 21:49:38 2012 +0900

    Add a set type and support code.

 tools/qfcc/include/Makefile.am |    4 +-
 tools/qfcc/include/set.h       |   64 +++++++++++
 tools/qfcc/source/Makefile.am  |    2 +-
 tools/qfcc/source/set.c        |  237 ++++++++++++++++++++++++++++++++++++++++
 4 files changed, 304 insertions(+), 3 deletions(-)

commit 60d03db
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jul 19 14:47:30 2012 +0900

    Fix the naive opcode checks.
    
    Confusing . with .=, and < and <= with more <MOVE etc isn't good.

 tools/qfcc/source/dags.c |    5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit dc9d2a9
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jul 19 11:38:02 2012 +0900

    Make the returned dag a linked list of root-nodes.
    
    A dag can have mulitple "root" nodes (ie, nodes with no parents).

 tools/qfcc/include/dags.h   |    2 ++
 tools/qfcc/source/dags.c    |   58 ++++++++++++++++++++++++++++++++++++++++---
 tools/qfcc/source/dot_dag.c |    3 +++
 3 files changed, 59 insertions(+), 4 deletions(-)

commit a222600
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jul 19 10:51:44 2012 +0900

    Use value for pointer operands.
    
    This allows daglabels on pointer operands without a redundant daglabel
    pointer.

 tools/qfcc/include/statements.h |    1 -
 tools/qfcc/source/dags.c        |    5 +----
 tools/qfcc/source/emit.c        |    6 +++---
 tools/qfcc/source/statements.c  |   15 +++++++++------
 4 files changed, 13 insertions(+), 14 deletions(-)

commit 0c58cd9
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jul 19 10:42:05 2012 +0900

    Generate only one daglabel for value operands.
    
    As each value is now unique, their labels can also be unique, which will
    improve CSE.

 tools/qfcc/include/expr.h |    1 +
 tools/qfcc/source/dags.c  |   14 +++++++++++---
 2 files changed, 12 insertions(+), 3 deletions(-)

commit 16869ca
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jul 19 10:10:30 2012 +0900

    Fix a slew of uninitialized data problems.
    
    Bah, structs on stacks... good fun :P

 tools/qfcc/source/value.c |   13 ++++++++++++-
 1 file changed, 12 insertions(+), 1 deletion(-)

commit 01c8aaa
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jul 19 09:59:17 2012 +0900

    Add some error checking for attaching identifiers.

 tools/qfcc/source/dags.c |   22 ++++++++++++++++++++++
 1 file changed, 22 insertions(+)

commit 0ccf409
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jul 19 09:27:42 2012 +0900

    Handle attached identifier labels correctly.
    
    I'd forgotten I had the prev field. Makes for much cleaner code.

 tools/qfcc/include/dags.h |    3 +++
 tools/qfcc/source/dags.c  |   38 ++++++++++++++++++++++++--------------
 2 files changed, 27 insertions(+), 14 deletions(-)

commit 0cedf0d
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jul 19 09:21:57 2012 +0900

    Fix a bunch of mis-uses of an expressions's value.
    
    The value field really should be treated as constant.

 tools/qfcc/source/expr.c |   27 +++++++++++----------------
 1 file changed, 11 insertions(+), 16 deletions(-)

commit 28ce35f
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jul 18 23:01:09 2012 +0900

    Make values independent objects.
    
    values are now uniquely allocated (for the current object file). With
    this, constants in dags will work.

 tools/qfcc/include/expr.h      |    3 +-
 tools/qfcc/include/symtab.h    |    2 +-
 tools/qfcc/include/value.h     |   22 +++++
 tools/qfcc/source/constfold.c  |    2 +-
 tools/qfcc/source/def.c        |   26 +++---
 tools/qfcc/source/dot_expr.c   |   42 +++++-----
 tools/qfcc/source/emit.c       |    2 +-
 tools/qfcc/source/expr.c       |  181 ++++++++++++++++++----------------------
 tools/qfcc/source/obj_type.c   |    2 +-
 tools/qfcc/source/statements.c |   16 ++--
 tools/qfcc/source/struct.c     |   10 +--
 tools/qfcc/source/switch.c     |    4 +-
 tools/qfcc/source/value.c      |  162 ++++++++++++++++++++++++++++++++++-
 13 files changed, 317 insertions(+), 157 deletions(-)

commit c57df8b
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jul 18 16:03:08 2012 +0900

    Print all dag nodes in a dag.
    
    Dags can have multiple roots, so only recursing once could miss much of the
    dag.

 tools/qfcc/source/dot_dag.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit dbf1aa8
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jul 18 15:29:30 2012 +0900

    Attach dags to statement blocks.
    
    Now, if a dag is attached to a statement block, it will be included in the
    flowgraph with that statement block.

 tools/qfcc/include/dags.h       |    3 ++-
 tools/qfcc/include/options.h    |    1 +
 tools/qfcc/include/statements.h |    1 +
 tools/qfcc/source/dot_dag.c     |   18 +-----------------
 tools/qfcc/source/dot_flow.c    |    5 +++++
 tools/qfcc/source/options.c     |    3 +++
 tools/qfcc/source/statements.c  |    8 ++++----
 7 files changed, 17 insertions(+), 22 deletions(-)

commit 3950688
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jul 17 14:03:04 2012 +0900

    Fix the completely bogus handling of "x" in dag creation.
    
    That made a complete mashup of attached identifiers :P

 tools/qfcc/source/dags.c |   17 ++++++++---------
 1 file changed, 8 insertions(+), 9 deletions(-)

commit 2455386
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jul 17 14:01:15 2012 +0900

    Use dashed lines for attached identifiers in dags.

 tools/qfcc/source/dot_dag.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit aa72f26
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jul 16 18:26:22 2012 +0900

    Use an extra temp for v6 float modulo.
    
    It seems the dag creation algorithm doesn't like "a = a op a", so use
    "b = a op a" instead. Since I plan on fixing temp leaks anyway, this won't
    be a problem (also, few people even use qfcc's v6 float modulo :P).

 tools/qfcc/source/expr.c |    7 ++++---
 1 file changed, 4 insertions(+), 3 deletions(-)

commit d935425
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jul 16 18:17:30 2012 +0900

    Avoid double-printing dag nodes.

 tools/qfcc/include/dags.h   |    1 +
 tools/qfcc/source/dot_dag.c |    6 ++++++
 2 files changed, 7 insertions(+)

commit 7b2e426
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jul 16 17:37:13 2012 +0900

    Support temp operands in dags.

 tools/qfcc/include/statements.h |    7 +++++-
 tools/qfcc/source/dags.c        |   45 ++++++++++++++++++++++-----------------
 tools/qfcc/source/emit.c        |    6 +++---
 3 files changed, 35 insertions(+), 23 deletions(-)

commit 9bc65ff
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jul 15 21:10:51 2012 +0900

    Start actually trying to build dags.
    
    Temporary variables aren't being handled correctly (treated as constants),
    but it looks like a good start.

 tools/qfcc/source/dags.c       |  179 +++++++++++++++++++++++++++++++++++++---
 tools/qfcc/source/statements.c |    7 ++
 2 files changed, 176 insertions(+), 10 deletions(-)

commit b7b6294
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jul 15 21:09:13 2012 +0900

    Fix some dag printing goofs.
    
    Typo and no node recursion.

 tools/qfcc/source/dot_dag.c |   14 ++++++++++----
 1 file changed, 10 insertions(+), 4 deletions(-)

commit 8015e1b
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jul 15 21:08:20 2012 +0900

    Put the dags stuff into a qfcc sub-section.
    
    Not much point writting docs if they can't be found.

 tools/qfcc/include/dags.h |    7 +++++++
 1 file changed, 7 insertions(+)

commit aa29437
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 9 08:43:48 2012 +0900

    Start work on building dags from basic blocks.
    
    Doesn't compile and the design is in flux anyway, but I want to get back to
    iqm.

 tools/qfcc/include/dags.h   |   10 +++++
 tools/qfcc/include/symtab.h |    1 +
 tools/qfcc/source/dags.c    |   89 +++++++++++++++++++++++++++++++++++++++++++
 3 files changed, 100 insertions(+)

commit 60108c6
Author: Bill Currie <bill@taniwha.org>
Date:   Tue May 8 22:05:14 2012 +0900

    Change dags from binary to trinary.
    
    I'd forgotten some instructions take three inputs that can benefit from
    CSE.

 tools/qfcc/include/dags.h   |   15 +++++++++++++--
 tools/qfcc/source/dot_dag.c |   19 +++++++++++--------
 2 files changed, 24 insertions(+), 10 deletions(-)

commit 0fefeb7
Author: Bill Currie <bill@taniwha.org>
Date:   Tue May 8 11:44:16 2012 +0900

    Initial support for basic block dags.
    
    Currently, only dumping to dot, but that seems to be a very sensible place
    to start: debug support.

 tools/qfcc/include/Makefile.am |   10 ++--
 tools/qfcc/include/dags.h      |   50 +++++++++++++++++++
 tools/qfcc/source/Makefile.am  |   10 ++--
 tools/qfcc/source/dags.c       |   54 +++++++++++++++++++++
 tools/qfcc/source/dot_dag.c    |  103 ++++++++++++++++++++++++++++++++++++++++
 5 files changed, 217 insertions(+), 10 deletions(-)

commit d5c831b
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Nov 15 13:40:11 2012 +0900

    Add a little test case for accessing types.
    
    Using ruamoko to access ruamoko type encodings is actually quite pleasant
    :)

 include/QF/progs.h            |    1 +
 libs/ruamoko/rua_obj.c        |   14 ++++
 ruamoko/include/runtime.h     |    2 +
 ruamoko/lib/Object.r          |    2 +
 tools/qfcc/include/obj_type.h |    2 +-
 tools/qwaq/Makefile.am        |    2 +-
 tools/qwaq/main.qc            |    1 +
 tools/qwaq/progs.src.in       |    1 +
 tools/qwaq/types.r            |  172 +++++++++++++++++++++++++++++++++++++++++
 9 files changed, 195 insertions(+), 2 deletions(-)

commit ee8247e
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Nov 15 13:39:23 2012 +0900

    Support using enums as array indices.

 tools/qfcc/source/expr.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f18a4d3
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Nov 15 13:38:57 2012 +0900

    Support pointer - pointer.

 tools/qfcc/source/constfold.c |   16 ++++++++++++++--
 1 file changed, 14 insertions(+), 2 deletions(-)

commit 5521424
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Nov 15 11:58:13 2012 +0900

    Support progs.dat when dumping type encodings.
    
    Knock up a quick and dirty progs-to-qfo "converter" (strings and types
    only) to re-use the qfo types dumper.

 tools/qfcc/include/qfprogs.h     |    1 +
 tools/qfcc/source/dump_globals.c |   57 ++++++++++++++++++++++++++++++++++----
 tools/qfcc/source/qfprogs.c      |    2 +-
 3 files changed, 54 insertions(+), 6 deletions(-)

commit 9691b50
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Nov 15 11:57:16 2012 +0900

    Make .type_encodings more useful.
    
    Rather than just a pointer, it is now a struct with a pointer and size
    indicating the extent of the type encodings block.

 tools/qfcc/include/obj_type.h |    5 +++++
 tools/qfcc/include/type.h     |    1 +
 tools/qfcc/source/obj_file.c  |    8 ++++++--
 tools/qfcc/source/qfcc.c      |    2 +-
 tools/qfcc/source/type.c      |   10 ++++++++++
 5 files changed, 23 insertions(+), 3 deletions(-)

commit 74ac4ee
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Nov 15 11:00:51 2012 +0900

    Fix a misplaced line.

 tools/qfcc/source/dump_globals.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 206ab9a
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Nov 14 20:54:35 2012 +0900

    Whitespace.

 qw/source/cl_skin.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 9a53531
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Nov 14 20:45:29 2012 +0900

    Fix a braino in Object's -init.
    
    I'd forgotten AutoreleasePool doesn't like receiving -retain when I did the
    retainCount change, and thus Object's -init was a little too naive.

 ruamoko/lib/Object.r |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 39c1034
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Nov 14 20:37:19 2012 +0900

    Relocate the data in the type encodings space.
    
    Because of the way it is used, the data in the type encodings space needs
    to always be correct (ie, relocated), even for partially linked object
    files.

 tools/qfcc/source/linker.c |   74 +++++++++++++++++++++++++++++++-------------
 1 file changed, 53 insertions(+), 21 deletions(-)

commit 453ac11
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Nov 14 17:13:14 2012 +0900

    Correct some comments.

 tools/qfcc/include/obj_file.h |    4 ++--
 tools/qfcc/source/obj_file.c  |    2 +-
 2 files changed, 3 insertions(+), 3 deletions(-)

commit 2685d38
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Nov 14 16:32:41 2012 +0900

    More paranoia when dumping qfo type encodings.

 tools/qfcc/source/dump_globals.c |    6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit 3b3e013
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Nov 14 15:50:55 2012 +0900

    Do not demand a defined def is actually global.
    
    Rather, only that it is neither external nor local. The idea was to catch
    myself swapping the arguments to resolve_external_def, but for some reason
    I decided type encoding defs would not be global (save game reasons?).

 tools/qfcc/source/linker.c |   13 +++++++++----
 1 file changed, 9 insertions(+), 4 deletions(-)

commit acc188d
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Nov 14 15:49:19 2012 +0900

    Ressurect the builtin symbol type fixup.
    
    I was a little overzealous when gutting process_type_space :P

 tools/qfcc/source/linker.c |   15 +++++++++++++++
 1 file changed, 15 insertions(+)

commit 9d7b8a4
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Nov 14 14:55:36 2012 +0900

    Add optional arguments to the todo list.
    
    Interesting alternative to overloaded functions.

 tools/qfcc/TODO |    2 ++
 1 file changed, 2 insertions(+)

commit ef7678f
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Nov 14 14:51:23 2012 +0900

    Use DWARF debugging with recent gcc.
    
    Oh, wow, I wish I'd known about it before. C macro evaluation in gdb!!!
    *sob*

 config.d/compiling.m4 |   12 +++++++++++-
 1 file changed, 11 insertions(+), 1 deletion(-)

commit 33eb3f2
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Nov 14 13:25:30 2012 +0900

    A bit of pointer saftey in add_defs.
    
    Directly accessing odef after can be dangerous (probably not here, but
    hey), so use the defref instead.

 tools/qfcc/source/linker.c |    5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 00c8743
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Nov 14 13:25:03 2012 +0900

    A touch of whitespace.

 tools/qfcc/source/linker.c |   20 +++++++++++++++-----
 1 file changed, 15 insertions(+), 5 deletions(-)

commit 281e203
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Nov 14 13:14:54 2012 +0900

    Make process_data_def use the correct def tables.
    
    Fixes the bogus redefined errors when entity fields are used.
    
    Also, rename extern_defs and defined_defs to extern_data_defs and
    defined_data_defs (more consistent with the other tables).

 tools/qfcc/source/linker.c |   24 ++++++++++++------------
 1 file changed, 12 insertions(+), 12 deletions(-)

commit e05c12e
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Nov 14 13:12:58 2012 +0900

    Make linker_add_def take a pointer for the value.
    
    While it looks like I might not use it for the type encodings, it should be
    useful in the future.

 tools/qfcc/include/linker.h |    2 +-
 tools/qfcc/source/linker.c  |   10 ++++++----
 tools/qfcc/source/qfcc.c    |    7 ++++---
 3 files changed, 11 insertions(+), 8 deletions(-)

commit 51236b0
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Nov 14 10:29:45 2012 +0900

    Fix the incorrect type space reloc offsets.
    
    The problem was caused by add_relocs and process_loose_relocs adjusting the
    reloc offset based on the reloc's space's base address. This is fine for
    most relocs, but as relocs for the type space have already been adjusted by
    process_type_space, those relocs must be left alone by add_relocs and
    process_loose_relocs. As a bonus, the duplicate code has been refactored
    into a separate function :)

 tools/qfcc/source/linker.c |   28 ++++++++++++++++------------
 1 file changed, 16 insertions(+), 12 deletions(-)

commit 31739f4
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 13 21:55:54 2012 +0900

    Rewrite the type_space processing.
    
    Now each encoding is copied across def by def using memcpy, with the
    expectation that any references to other types will be handled via the
    reloc system. Unfortunately, it seems there's an off-by-4 (hmm, suspicious
    number...) in the reloc offsets, but I'll look into that after I get some
    sleep.

 tools/qfcc/source/linker.c |  226 ++++++++++++++++++--------------------------
 1 file changed, 91 insertions(+), 135 deletions(-)

commit 8625964
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 13 21:51:16 2012 +0900

    Fix some careless inernal_error changes.
    
    Back when I did the abort->internal_error change, I wasn't paying attention
    and forgot I should use linker_internal_error in linker.c.

 tools/qfcc/source/linker.c |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit f80a742
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 13 21:48:46 2012 +0900

    Add (and use) alloc_data for work qfo data allocations.
    
    defspace_alloc_loc can cause a realloc which will break the work qfo space
    data pointers, so wrap it with alloc_data, which updates the appropriate
    pointers and sizes.

 tools/qfcc/source/linker.c |   26 ++++++++++++++++++++++++--
 1 file changed, 24 insertions(+), 2 deletions(-)

commit 5b7b49b
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 13 21:45:54 2012 +0900

    Add a QFO_TYPE macro to get a qfot_type_t pointer.
    
    In the end, it wasn't used, but it could be handy in the future.

 tools/qfcc/include/obj_file.h |    3 +++
 1 file changed, 3 insertions(+)

commit d782622
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 13 21:24:48 2012 +0900

    Be more paranoid when dumping qfo type encodings.

 tools/qfcc/source/dump_globals.c |   11 +++++++++++
 1 file changed, 11 insertions(+)

commit f002f3a
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 13 21:14:51 2012 +0900

    Escape strings for reloc dumps.
    
    Line feeds messing up the output wasn't nice :P.

 tools/qfcc/source/dump_globals.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 1dd8f34
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 13 13:16:45 2012 +0900

    Refactor process_def.
    
    The field/data def handling has been moved into process_data_def and
    process_field def. The code for handling external defs has been moved into
    its own function (extern_def()),
    
    In passing, rename add_space to add_data_space, since it is limited to
    handling data spaces.

 tools/qfcc/source/linker.c |   84 +++++++++++++++++++++++++-------------------
 1 file changed, 48 insertions(+), 36 deletions(-)

commit ba6fb58
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 13 12:40:40 2012 +0900

    Make add_defs take a function to process the defs.
    
    For now, no other change has been made, but I'll be able to split up
    process_def for data def vs field def processing and add a function for
    processing type encoding defs.

 tools/qfcc/source/linker.c |   15 +++++++++------
 1 file changed, 9 insertions(+), 6 deletions(-)

commit 93b007b
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Nov 12 16:14:09 2012 +0900

    Take care of relocs when defining external defs.
    
    For most of the cases, some relocs may have been lost, but they were
    certainly lost for type encodings. Now that all seems to be fixed.

 tools/qfcc/include/reloc.h   |    2 ++
 tools/qfcc/source/def.c      |    4 ++--
 tools/qfcc/source/function.c |    2 +-
 tools/qfcc/source/obj_type.c |    5 ++++-
 tools/qfcc/source/reloc.c    |   13 +++++++++++++
 tools/qfcc/source/symtab.c   |    3 ++-
 6 files changed, 24 insertions(+), 5 deletions(-)

commit eb5581c
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Nov 12 12:42:54 2012 +0900

    Fix class type encoding.
    
    First, the class def needed to be created before the class type, then the
    def space indices had to be set early, otherwise the relocs wound up with
    space 0 instead of the correct space.

 tools/qfcc/source/class.c    |    4 ++++
 tools/qfcc/source/obj_file.c |    7 +++++++
 2 files changed, 11 insertions(+)

commit c967184
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Nov 12 11:12:33 2012 +0900

    A bit of a cleanup before fixing class type defs.
    
    All internal structs now have "proper" names, and fit the naming convention
    (eg, obj_module (like objective-c's types, but obj instead of objc). Some
    redundant types got removed (holdovers from before proper struct tag
    handling).
    
    Also, it has proven to be unnecessary to build internal classes, so
    make_class and make_class_struct are gone, too.

 ruamoko/lib/Object.r       |    2 +-
 tools/qfcc/include/class.h |    8 +--
 tools/qfcc/source/class.c  |  130 +++++++++++++++-----------------------------
 tools/qfcc/source/expr.c   |    3 +-
 tools/qfcc/source/linker.c |    2 +
 tools/qfcc/source/method.c |    9 +--
 tools/qfcc/source/qc-lex.l |    4 +-
 7 files changed, 59 insertions(+), 99 deletions(-)

commit dc22d06
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Nov 12 10:28:31 2012 +0900

    Fix an out-by-one in the definition of INT_MAX.
    
    INT_MAX wound up being INT_MIN :/

 ruamoko/include/runtime.h |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 6ec5bb1
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Nov 11 20:30:36 2012 +0900

    Change the FIXME to a comment as to why nothing is done.
    
    Of course, the relocation record still needs to be written (don't know why
    it isn't), but that's next :)

 tools/qfcc/source/linker.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit d13ce81
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Nov 11 20:22:48 2012 +0900

    Ensure the type's encoding string is valid.
    
    When encoding a type to a qfo file, the type's encoding string is written
    and thus needs to be valid prior to actually doing the encoding. The
    problem occurs mostly in self-referential structs (particularly, obj_class)
    because the struct is being encoded prior to the pointer to the struct.

 tools/qfcc/include/type.h    |    1 +
 tools/qfcc/source/obj_type.c |    2 ++
 tools/qfcc/source/type.c     |   25 +++++++++++++++----------
 3 files changed, 18 insertions(+), 10 deletions(-)

commit 8710977
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Nov 11 20:20:07 2012 +0900

    Rework transfer_type to avoid infinite recursion.
    
    This is similar to the problem with infinite recursion when encoding types.
    The problem is with structs with self-referential pointers (eg, struct foo
    {struct foo *bar}). The solution is to copy the type data to a buffer and
    mark the buffer as transfered before actually processing the type. Further
    processing of the type is done via the buffer.

 tools/qfcc/source/linker.c |   17 ++++++++++++-----
 1 file changed, 12 insertions(+), 5 deletions(-)

commit edd3819
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Nov 11 19:05:19 2012 +0900

    Create obj_object after obj_class.
    
    obj_class is self-referential,but obj_object refers to obj_class. This gets
    obj_class encoded properly.

 tools/qfcc/source/class.c |    9 ++++-----
 1 file changed, 4 insertions(+), 5 deletions(-)

commit 96110a0
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Nov 11 17:39:12 2012 +0900

    Treat messages to id and Class separately.
    
    As id and Class do not point to real objects as such, trying to get the
    class from their types doesn't work, so instead send the message to a
    "null" class that skips the method checks.

 tools/qfcc/source/class.c |    2 +-
 tools/qfcc/source/expr.c  |   27 +++++++++++++++------------
 2 files changed, 16 insertions(+), 13 deletions(-)

commit ee28f38
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Nov 11 17:23:56 2012 +0900

    Fix the checking for assignments between id and Class.
    
    With Class now being struct obj_class rather than an actual class or
    object, checking for Class now needs to be explicit.

 tools/qfcc/source/type.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 694b268
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Nov 11 17:22:57 2012 +0900

    Correct the type of id.
    
    It should be struct obj_object * rather than Object *.

 tools/qfcc/source/class.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 35a88d8
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Nov 11 16:23:04 2012 +0900

    Rework the builtin class creation once again.
    
    Now the classes are built "properly" (using the same tools as the parser
    itself), and the structs (obj_object, obj_class and obj_protocol) are built
    separately, but using the class ivars.

 tools/qfcc/source/class.c |   68 ++++++++++++++++++++++++++++++---------------
 1 file changed, 45 insertions(+), 23 deletions(-)

commit b36bd3a
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Nov 11 09:52:55 2012 +0900

    Remove the list offsets from the class ivars.
    
    Even just before, type_obj_object, type_obj_class and type_obj_protocol
    were a bit bogus (still are), but now the arrays used to list their ivars
    are correct. I plan to create the above mentioned types using
    class_to_struct to do it properly.

 tools/qfcc/source/class.c |    6 ++----
 1 file changed, 2 insertions(+), 4 deletions(-)

commit 0cf16ac
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Nov 10 13:45:38 2012 +0900

    Make _OBJ_CLASS_foo the correct type.
    
    It needs to be type_obj_class, but I had gotten confused earlier when
    rearranging the type names as I was having trouble with "not a class"
    errors.

 tools/qfcc/source/class.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 06fd912
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Nov 10 13:01:56 2012 +0900

    Make super_class for the  internal Protocol and Class objects.
    
    They're based on Object, and that needs to be represented properly.

 tools/qfcc/source/class.c |   12 ++++++++----
 1 file changed, 8 insertions(+), 4 deletions(-)

commit 8609185
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Nov 10 12:56:19 2012 +0900

    Revamp the static class creation.
    
    Type names are cleaned up, as is the creation. Also, the class pointer in
    the type encoding now gets emitted. However, Still need to actually create
    _OBJ_CLASS_Class and fix the type encoding reloc handling in the linker.

 tools/qfcc/include/class.h |    6 +-
 tools/qfcc/source/class.c  |  218 ++++++++++++++++++++++----------------------
 tools/qfcc/source/expr.c   |    2 +-
 3 files changed, 113 insertions(+), 113 deletions(-)

commit d33d062
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Nov 9 19:18:09 2012 +0900

    Rearrange class_message_response.
    
    Even if an object doesn't seem to respond to a message, return the message
    so unrelated warnings or errors don't occur.

 tools/qfcc/source/class.c |   18 ++++++++----------
 1 file changed, 8 insertions(+), 10 deletions(-)

commit 218424d
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Nov 9 19:11:30 2012 +0900

    Add debug.r to libcsqc.

 ruamoko/lib/Makefile.am |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit fd8c639
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Nov 9 14:37:28 2012 +0900

    Initialize current_symtab early, with pr.symtab.
    
    This (with the previous commit) fixes the problems with the tags for
    builtin structs.

 tools/qfcc/source/qfcc.c |    1 +
 1 file changed, 1 insertion(+)

commit 9cb0ca6
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Nov 9 14:36:19 2012 +0900

    Catch symtab operations with an invalid symtab.
    
    Just via a simple segfault, but it's better than silently missing incorrect
    usage.

 tools/qfcc/source/symtab.c |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 49cc4fe
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Nov 9 14:00:10 2012 +0900

    Give the builtin structures proper tags.
    
    With the previous commit, the structures were being created before a valid
    source file name was available and thus qfcc would segfault when trying to
    generate a tag. Now, the tags look better anyway :).

 tools/qfcc/source/type.c |   10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit 9fd8741
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Nov 9 13:56:45 2012 +0900

    Move the state clearing into InitData.
    
    Now, for each compilation, or before linking, only InitData needs to be
    called. Fixes the double chaining internal error when compiling and linking
    in the same command.

 tools/qfcc/source/qfcc.c |   16 ++++++++--------
 1 file changed, 8 insertions(+), 8 deletions(-)

commit f307c7b
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Nov 4 10:27:41 2012 +0900

    Rework the unary_expr grammar to allow ++*foo.
    
    This required throwing out the primary rules that snax did up to help me
    with conflicts many years ago, but they were now getting in the way. Now
    the productions from primary are merged in with unary_expr.

 tools/qfcc/source/qc-parse.y |   41 ++++++++++++++++++++---------------------
 tools/qfcc/source/qp-parse.y |    5 +++--
 tools/qfcc/test/ptrderef.r   |    2 +-
 3 files changed, 24 insertions(+), 24 deletions(-)

commit 6ff2644
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Nov 3 20:10:20 2012 +0900

    Fix simple pointer dereferences.
    
    It turns out no code was being generated for x = *y. Ouch. I suspect I need
    to take a better look at expr_deref at some time in the not too distant
    future.
    
    Conflicts:
    	tools/qfcc/source/statements.c

 tools/qfcc/source/statements.c |   12 ++++++++++++
 tools/qfcc/test/ptrderef.r     |   14 ++++++++++++++
 2 files changed, 26 insertions(+)

commit 7a2f7e8
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Nov 3 18:14:21 2012 +0900

    Add some safety checks to progs global dumping.
    
    Getting segfaults in the debug tools is not fun :P
    
    Conflicts:
    	tools/qfcc/source/dump_globals.c

 tools/qfcc/source/dump_globals.c |  124 ++++++++++++++++++++------------------
 1 file changed, 67 insertions(+), 57 deletions(-)

commit cc24e2e
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Nov 3 18:11:45 2012 +0900

    Initialize global string vars correctly.
    
    Ouch, I'd fixed that for arrays, but not normal vars.

 tools/qfcc/source/def.c |    9 +++++++--
 1 file changed, 7 insertions(+), 2 deletions(-)

commit 9095e1e
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Nov 3 18:08:32 2012 +0900

    Rework build_switch to use initialize_def.
    
    This required support for label reference expressions, whose purpose is to
    represent the address of a label.

 tools/qfcc/include/expr.h      |   20 +++++++++++++++++---
 tools/qfcc/source/constfold.c  |    2 +-
 tools/qfcc/source/def.c        |    6 ++++++
 tools/qfcc/source/dot_expr.c   |   14 ++++++++++++++
 tools/qfcc/source/expr.c       |   25 +++++++++++++++++++++++--
 tools/qfcc/source/statements.c |    2 ++
 tools/qfcc/source/switch.c     |   30 +++++++++++++++---------------
 7 files changed, 78 insertions(+), 21 deletions(-)

commit 48fe9f7
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Nov 3 14:03:28 2012 +0900

    Add partial support for pointer arithmetic.
    
    Only pointer +/- integral is supported. pointer - pointer will come later.

 tools/qfcc/source/constfold.c |    7 +++++++
 tools/qfcc/test/switch.r      |   18 ++++++++++++++++++
 2 files changed, 25 insertions(+)

commit afbab60
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Nov 9 11:57:06 2012 +0900

    Create linker_find_def.
    
    It turns out I didn't need it, but it could be useful in the future, so
    I'll leave it in.

 tools/qfcc/include/linker.h |    1 +
 tools/qfcc/source/linker.c  |   10 ++++++++++
 2 files changed, 11 insertions(+)

commit 4ef4711
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Nov 9 11:43:19 2012 +0900

    Make the type encodings findable.
    
    The base of the type encodings block is given by the .type_encodings def.
    The block begins with a "null" type (4 words of 0), followed by the first
    type encoding.
    
    At some stage, I will need to add information for extended def information
    (32 bit offset, type encoding, other?), but this is good for initial
    testing.

 tools/qfcc/source/obj_file.c |    9 +++++++--
 tools/qfcc/source/qfcc.c     |    1 +
 2 files changed, 8 insertions(+), 2 deletions(-)

commit 1d060d1
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Nov 8 21:13:24 2012 +0900

    Quote string values when dumping globals.
    
    Much nicer :)

 tools/qfcc/source/Makefile.am    |    4 ++--
 tools/qfcc/source/dump_globals.c |    3 ++-
 tools/qfcc/source/stub.c         |    7 +++----
 3 files changed, 7 insertions(+), 7 deletions(-)

commit eb86a66
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Nov 8 20:58:48 2012 +0900

    Do some class object type renaming.
    
    type_object -> type_obj_object
    type_Class -> type_obj_class
    type_ClassPtr -> type_Class
    
    In the process, one more FIXME is gone :)

 tools/qfcc/include/class.h |    3 ++-
 tools/qfcc/source/class.c  |   40 ++++++++++++++++++++--------------------
 tools/qfcc/source/qc-lex.l |    2 +-
 tools/qfcc/source/type.c   |    2 +-
 4 files changed, 24 insertions(+), 23 deletions(-)

commit 07e67da
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Nov 8 20:38:19 2012 +0900

    Add class versions of retain and friends.
    
    As class objects don't have retain counts (they're usually static, even!!),
    allowing the instance implementations of retain, release, and autorelease
    attempt to modify the non-existant retainCount would be a recipe for severe
    headaches. We also don't want the retainCount returning "random" values.

 ruamoko/include/Object.h |    5 +++++
 ruamoko/lib/Object.r     |   25 +++++++++++++++++++++++++
 2 files changed, 30 insertions(+)

commit 6b46cde
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Nov 8 20:24:25 2012 +0900

    Move retainCount out of Object.
    
    Going by "standard" Objective-C, retainCount really doesn't belong in
    Object itself. The way GNUStep does it is to stash retainCount in memory
    just below the object by allocating extra bytes for the count and returning
    a pointer just beyond those extra bytes. Now Ruamoko does the same. This
    fixes the inconsistencies in structure layouts for Protocol and class
    structs between qfcc generated (internal) structs and user visible structs.

 libs/ruamoko/rua_obj.c    |   37 +++++++++++++++++++++++++++++++++----
 ruamoko/include/Object.h  |    1 -
 ruamoko/include/runtime.h |    2 ++
 ruamoko/lib/Object.r      |   14 ++++++++------
 4 files changed, 43 insertions(+), 11 deletions(-)

commit 377f8f9
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Nov 8 16:46:48 2012 +0900

    Use an explicit flag for class initialization.
    
    Much cleaner than messing with class_Class, which is about to go away.

 tools/qfcc/include/class.h |    2 ++
 tools/qfcc/source/class.c  |    4 ++++
 tools/qfcc/source/linker.c |    2 +-
 tools/qfcc/source/qc-lex.l |    2 +-
 4 files changed, 8 insertions(+), 2 deletions(-)

commit 7e293a3
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Nov 8 16:13:00 2012 +0900

    Check for double-chaining of types.
    
    Chaining a type twice will form a loop in the type list, causing find_type
    to go into an infinite loop.

 tools/qfcc/include/type.h |    1 +
 tools/qfcc/source/class.c |    5 ++++-
 tools/qfcc/source/qfcc.c  |    7 +++++--
 tools/qfcc/source/type.c  |   10 +++++++++-
 4 files changed, 19 insertions(+), 4 deletions(-)

commit 950a3aa
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Nov 8 14:15:49 2012 +0900

    Avoid infinite recursion when encoding struct types.
    
    Structures (especially hard-coded ones) can be really nasty as they can
    refer to themselves. Avoid the recursion by setting the type_def field of
    the type before doing the recursive encodings in the structure encoder.

 tools/qfcc/source/obj_type.c |   16 ++++++++++------
 1 file changed, 10 insertions(+), 6 deletions(-)

commit 7a25283
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Nov 7 20:33:52 2012 +0900

    Clear out the type encoding def from all types.
    
    The encodings of static types were getting corrupted because their defs
    were not necessarily in the same places between compilations when compiling
    multiple files.

 tools/qfcc/source/qfcc.c |    4 ++++
 1 file changed, 4 insertions(+)

commit a3a22f2
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Nov 7 20:32:14 2012 +0900

    Add the ability to dump qfo type encoding.

 tools/qfcc/include/obj_type.h    |    2 +-
 tools/qfcc/include/qfprogs.h     |    1 +
 tools/qfcc/source/dump_globals.c |   69 ++++++++++++++++++++++++++++++++++++++
 tools/qfcc/source/qfprogs.c      |    7 ++++
 4 files changed, 78 insertions(+), 1 deletion(-)

commit 09d1cd6
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Nov 7 20:30:10 2012 +0900

    Don't convert a qfo to progs unnecessarily.
    
    This avoids segfaults on reloctions for external defs.

 tools/qfcc/source/qfprogs.c |    5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit 61ef901
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Nov 7 09:38:08 2012 +0900

    Tweak some FIXMEs.

 tools/qfcc/source/function.c   |   12 ++++++------
 tools/qfcc/source/statements.c |    2 +-
 2 files changed, 7 insertions(+), 7 deletions(-)

commit ed4018f
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Nov 1 20:52:22 2012 +0900

    Clear out the function overloading tables between compiles.
    
    Fixes some issues with multiple compiles (especially mixed languages!).

 tools/qfcc/include/function.h |    1 +
 tools/qfcc/source/function.c  |    9 +++++++++
 tools/qfcc/source/qfcc.c      |    1 +
 3 files changed, 11 insertions(+)

commit ea34a5b
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Nov 1 20:32:25 2012 +0900

    Fix some nasty memory errors.
    
    Three cheers for valgrind!!!

 tools/qfcc/source/method.c |    2 +-
 tools/qfcc/source/qfcc.c   |    3 +--
 2 files changed, 2 insertions(+), 3 deletions(-)

commit 5c79953
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Oct 30 12:25:53 2012 +0900

    Put quotes around strings for statement operands.
    
    This makes reading output a bit easier (especially if the string is empty
    or just whitespace).

 tools/qfcc/source/statements.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit f8bdd90
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Oct 30 12:24:03 2012 +0900

    Separate out C and html quoting into separate functions.
    
    Dot sometimes wants normal C quotes, othertimes html. Quite annoying,
    really, but this is cleaner anyway.

 tools/qfcc/include/strpool.h |    1 +
 tools/qfcc/source/dot_flow.c |    8 +++----
 tools/qfcc/source/strpool.c  |   53 ++++++++++++++++++++++++++++++++++++++----
 3 files changed, 54 insertions(+), 8 deletions(-)

commit f680521
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jul 19 12:29:00 2012 +0900

    Escape unprintable chars.

 tools/qfcc/source/strpool.c |    5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit 1f9735d
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jul 19 09:57:03 2012 +0900

    Correct the dump format for conj.q.

 libs/gamecode/pr_opcode.c |    1 +
 1 file changed, 1 insertion(+)

commit ec42bde
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jul 18 22:34:37 2012 +0900

    Make hash tables more const correct.
    
    And clean up the resulting mess :/

 include/QF/hash.h                    |    8 ++++----
 libs/audio/renderer/snd_sfx.c        |    2 +-
 libs/console/menu.c                  |    2 +-
 libs/gamecode/pr_builtins.c          |    6 +++---
 libs/gamecode/pr_debug.c             |    2 +-
 libs/gamecode/pr_load.c              |    4 ++--
 libs/gamecode/pr_opcode.c            |    4 ++--
 libs/gamecode/pr_resource.c          |    2 +-
 libs/gamecode/pr_strings.c           |    2 +-
 libs/gib/bi_gib.c                    |    2 +-
 libs/gib/gib_builtin.c               |    2 +-
 libs/gib/gib_classes.c               |    2 +-
 libs/gib/gib_function.c              |    2 +-
 libs/gib/gib_object.c                |    6 +++---
 libs/gib/gib_regex.c                 |    2 +-
 libs/gib/gib_thread.c                |    2 +-
 libs/gib/gib_vars.c                  |    4 ++--
 libs/models/iqm/model_iqm.c          |    4 ++--
 libs/models/skin.c                   |    2 +-
 libs/ruamoko/rua_cmd.c               |    2 +-
 libs/ruamoko/rua_hash.c              |   12 ++++++------
 libs/ruamoko/rua_obj.c               |    8 ++++----
 libs/ruamoko/rua_plist.c             |    4 ++--
 libs/util/cmd.c                      |    6 +++---
 libs/util/cvar.c                     |    4 ++--
 libs/util/hash.c                     |   18 +++++++++---------
 libs/util/info.c                     |    2 +-
 libs/util/pakfile.c                  |    2 +-
 libs/util/plugin.c                   |    4 ++--
 libs/util/qfplist.c                  |    2 +-
 libs/util/quakefs.c                  |    4 ++--
 libs/util/wadfile.c                  |    4 ++--
 libs/video/renderer/glsl/glsl_draw.c |    2 +-
 libs/video/renderer/r_progs.c        |    2 +-
 libs/video/targets/old_keys.c        |    2 +-
 qtv/source/client.c                  |    2 +-
 qtv/source/connection.c              |    4 ++--
 qtv/source/server.c                  |    2 +-
 qw/source/sv_user.c                  |    6 +++---
 tools/qfbsp/source/map.c             |    2 +-
 tools/qfcc/source/class.c            |    8 ++++----
 tools/qfcc/source/function.c         |    4 ++--
 tools/qfcc/source/grab.c             |    2 +-
 tools/qfcc/source/linker.c           |    2 +-
 tools/qfcc/source/method.c           |   10 +++++-----
 tools/qfcc/source/opcodes.c          |    6 +++---
 tools/qfcc/source/qc-lex.l           |    2 +-
 tools/qfcc/source/qfprogs.c          |    4 ++--
 tools/qfcc/source/qp-lex.l           |    2 +-
 tools/qfcc/source/strpool.c          |    4 ++--
 tools/qfcc/source/switch.c           |    4 ++--
 tools/qfcc/source/symtab.c           |    2 +-
 tools/qfcc/source/value.c            |    4 ++--
 53 files changed, 104 insertions(+), 104 deletions(-)

commit 034139b
Author: Bill Currie <bill@taniwha.org>
Date:   Tue May 8 11:43:29 2012 +0900

    Move some code around so it's more accessible.

 tools/qfcc/include/statements.h |    3 ++
 tools/qfcc/include/strpool.h    |    2 +
 tools/qfcc/source/dot_flow.c    |  112 ++-------------------------------------
 tools/qfcc/source/statements.c  |   69 ++++++++++++++++++++++++
 tools/qfcc/source/strpool.c     |   36 +++++++++++++
 5 files changed, 114 insertions(+), 108 deletions(-)

commit 7519ec7
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Oct 26 20:11:38 2012 +0900

    Fix the bogus missing return warning.
    
    Pascal's return mechanism is such that void return is always used.

 tools/qfcc/source/qp-parse.y |    1 +
 1 file changed, 1 insertion(+)

commit 3f351a5
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Oct 26 19:38:59 2012 +0900

    Fix a printf format goof.
    
    Forgot to compile test :/

 tools/qfcc/source/function.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 52b9721
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Oct 26 19:06:10 2012 +0900

    Add the COMMA token to the pascal parser.
    
    I guess I forgot I needed to keep token numbers in sync between pascal and
    qc/ruamoko.

 tools/qfcc/source/qp-parse.y |    1 +
 1 file changed, 1 insertion(+)

commit 72045f1
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Oct 26 19:03:00 2012 +0900

    Delay storage setting for pascal functions.
    
    The function def must not be local. This fixes the null function call in
    gcd.pas.

 tools/qfcc/source/qp-parse.y |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 27b83a8
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Oct 26 19:02:02 2012 +0900

    Clean up all extra aborts, using internal_error instead.
    
    Some internal_error calls have no message, but at least things will be more
    consistent.

 tools/qfcc/source/expr.c     |   29 ++++++++++-------------------
 tools/qfcc/source/function.c |    6 ++----
 tools/qfcc/source/linker.c   |   24 ++++++++++++++++++++----
 tools/qfcc/source/method.c   |   12 ++++--------
 tools/qfcc/source/qp-lex.l   |    3 +--
 tools/qfcc/source/switch.c   |    9 +++------
 tools/qfcc/source/symtab.c   |    2 +-
 tools/qfcc/source/value.c    |    6 +++---
 8 files changed, 44 insertions(+), 47 deletions(-)

commit 5530e84
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Aug 7 08:10:29 2012 +0900

    Call find_type for pascal functions/procedures.
    
    The result of parse_params needs to be passed through find_type before
    actually being used. I guess I'd missed this back when I got things working
    for qc.

 tools/qfcc/source/qp-parse.y |    4 ++++
 1 file changed, 4 insertions(+)

commit 144387c
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Oct 26 16:16:46 2012 +0900

    Add shared.h to the dist files.

 tools/qfcc/include/Makefile.am |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit f14d806
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Oct 26 16:01:41 2012 +0900

    Merge qfpc into qfcc.
    
    Since gnu bison and flex are required anyway, no harm in using their api
    prefix options. Now, qfcc can compile both QC/Ruamoko and Pascal files
    (Pascal is (currently?) NOT supported in progs.src mode), selecting the
    language based on the extension: .r, .qc and .c select QC/Ruamoko, .pas and
    .p select Pascal, while anything else is treated as an object file (as
    before).

 tools/qfcc/include/qfcc.h     |    9 ++--
 tools/qfcc/include/shared.h   |   44 ++++++++++++++++++++
 tools/qfcc/include/symtab.h   |    6 +--
 tools/qfcc/source/Makefile.am |   21 ++++++----
 tools/qfcc/source/class.c     |    2 +-
 tools/qfcc/source/options.c   |    6 ++-
 tools/qfcc/source/qc-lex.l    |   38 ++++++++---------
 tools/qfcc/source/qc-parse.y  |   80 ++++++++++--------------------------
 tools/qfcc/source/qfcc.c      |   91 +++++++++++++++++++++++++++++------------
 tools/qfcc/source/qp-lex.l    |   26 ++++++------
 tools/qfcc/source/qp-parse.y  |   29 +++----------
 tools/qfcc/source/shared.c    |   78 +++++++++++++++++++++++++++++++++++
 12 files changed, 273 insertions(+), 157 deletions(-)

commit 6e04fd5
Author: Ozkan Sezer <sezeroz@gmail.com>
Date:   Sun Oct 21 01:10:00 2012 +0900

    signed int viddef_t members
    
    The attached patch (against quakeforge git) changes the [con]width,
    [con]height, and most importantly the rowbytes members of viddef_t
    from unsigned to signed int, like in q2.  This allows for a properly
    negative vid.rowbytes which may be needed in, e.g. a DIB sections
    windows driver if needed.  Along with it, I changed a few places
    where unsigned int is used along with comparisons against the relevant
    vid.* members.
    One thing I am not 100% sure is the signedness requirements of
    d_zrowbytes and d_zwidth: q2 has them as unsigned but I am not sure
    whether that is because they are needed as unsigned or it was just an
    oversight of the id developers. They do look like they should be OK
    as signed int to me, though: comments?
    
    ==
    Note from Bill Currie: I had to do some extra changes as many
    signed/unsigned comparisons were somehow missed.

 include/QF/vid.h                      |   10 ++++-----
 include/d_local.h                     |    2 +-
 libs/video/renderer/gl/gl_screen.c    |    6 ++----
 libs/video/renderer/sw/d_fill.c       |    2 +-
 libs/video/renderer/sw/d_modech.c     |    2 +-
 libs/video/renderer/sw/d_sky.c        |    4 ++--
 libs/video/renderer/sw/d_vars.c       |    4 ++--
 libs/video/renderer/sw/draw.c         |   26 +++++++++++------------
 libs/video/renderer/sw/screen.c       |    6 ++----
 libs/video/renderer/sw/sw_rmain.c     |    4 ++--
 libs/video/renderer/sw32/d_fill.c     |    6 +++---
 libs/video/renderer/sw32/d_modech.c   |    2 +-
 libs/video/renderer/sw32/d_sky.c      |    4 ++--
 libs/video/renderer/sw32/d_vars.c     |    4 ++--
 libs/video/renderer/sw32/draw.c       |   37 +++++++++++++++++----------------
 libs/video/renderer/sw32/sw32_rmisc.c |    4 ++--
 libs/video/targets/context_x11.c      |    3 +--
 libs/video/targets/in_x11.c           |    4 ++--
 18 files changed, 63 insertions(+), 67 deletions(-)

commit eccc1b5
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Sep 18 09:25:10 2012 +0900

    Put the over-size range back to its original value.
    
    This fixes the horribly different results between optimized and unoptimized
    qfbsp (there is still a difference of 1 brushface). Unfortunately, it also
    severely limits the maximum size of a map.

 libs/models/winding.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 50b22ab
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Sep 18 07:48:39 2012 +0900

    Fix a rather silly snafu with smart-leak.
    
    I blame this fever :P
    
    Now smart-leak actually makes sense.

 tools/qfbsp/source/outside.c |    5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

commit 156f338
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 16 13:50:54 2012 +0900

    Emit the points in the expected order.
    
    Associating p1 with n2 and p2 with n1 was a bit confusing. Makes for a
    more-sensible points output file, too.

 tools/qfbsp/source/outside.c |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 0ed5352
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 16 12:57:17 2012 +0900

    Import leak points files.

 tools/io_qfmap/__init__.py   |   13 +++++++++++++
 tools/io_qfmap/import_map.py |   24 ++++++++++++++++++++++++
 2 files changed, 37 insertions(+)

commit d6476d4
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 16 12:38:55 2012 +0900

    Make some improvements to the leak files.
    
    smart leak files now produce many points, not just one per portal. Normal
    leak files now center the trail on the portal (instead of some weird
    weighted average).

 tools/qfbsp/source/outside.c |   66 +++++++++++++++++++++++++-----------------
 1 file changed, 39 insertions(+), 27 deletions(-)

commit 4fc9316
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 16 10:59:47 2012 +0900

    Add very preliminary support for map exporting.
    
    There is no error checking, texture alignment or support for non-point
    lights, but it's a start. Also, it's assumed all brushes are convex and
    manifold.

 tools/io_qfmap/__init__.py   |    5 +-
 tools/io_qfmap/export_map.py |  166 ++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 168 insertions(+), 3 deletions(-)

commit 6b8df7f
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 16 10:55:06 2012 +0900

    Give EntityClassDict mapping access functions.
    
    They just redirect to the actual entity class dictionary, but it saves a
    lot of unnecessary code elsewhere.

 tools/io_qfmap/__init__.py    |    4 ++--
 tools/io_qfmap/entity.py      |    8 ++++----
 tools/io_qfmap/entityclass.py |   16 ++++++++++++++++
 tools/io_qfmap/import_map.py  |    2 +-
 4 files changed, 23 insertions(+), 7 deletions(-)

commit 8416276
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Sep 13 18:14:29 2012 +0900

    Remove a debug print.

 tools/io_qfmap/entity.py |    1 -
 1 file changed, 1 deletion(-)

commit 2760055
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Sep 13 13:14:32 2012 +0900

    Try to speed up entity relationship drawing a little.

 tools/io_qfmap/__init__.py |    1 +
 tools/io_qfmap/entity.py   |   41 ++++++++++++++++++++++++++++-------------
 2 files changed, 29 insertions(+), 13 deletions(-)

commit 559add5
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Sep 13 12:22:05 2012 +0900

    Fix some snafus.

 tools/io_qfmap/__init__.py |    8 +++++---
 1 file changed, 5 insertions(+), 3 deletions(-)

commit f18a926
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Sep 13 12:21:06 2012 +0900

    Add support for RMQs QUAKED comments.
    
    RMQ just leaves out the entity size instead of using ? for brush entities.

 tools/io_qfmap/entityclass.py |   16 ++++++++++++----
 1 file changed, 12 insertions(+), 4 deletions(-)

commit 225cb4b
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Sep 13 12:19:26 2012 +0900

    Create an idquake character encoding.
    
    It just does a 1:1 charmap conversion of quake text, purely to allow python
    to read arbitrary qc code.

 tools/io_qfmap/entityclass.py |    3 ++-
 tools/io_qfmap/quakechr.py    |   46 +++++++++++++++++++++++++++++++++++++++++
 2 files changed, 48 insertions(+), 1 deletion(-)

commit 709da6e
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Sep 13 08:36:28 2012 +0900

    Rotate the skybox -90 degrees on the z axis (gl)
    
    Now gl and glsl match again, and quake's skies are now "correct" (assuming
    fitzquake is the standard).

 libs/video/renderer/gl/gl_sky.c      |   59 ++++++++++++++++++----------------
 libs/video/renderer/gl/gl_sky_clip.c |   11 ++++---
 2 files changed, 37 insertions(+), 33 deletions(-)

commit 14f089d
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Sep 12 19:06:07 2012 +0900

    Correct the orientation of the skybox (for glsl).
    
    It turns out the expected orientation of the sky cube is exactly that of
    Blender's default cube looked at from the front view (num-1) and the front
    face being the nearest face. This put's Marcher's sun nicely in the view
    when exiting the cave.

 libs/video/renderer/glsl/glsl_bsp.c    |   17 +++++++++++++++--
 libs/video/renderer/glsl/quakeski.frag |    7 ++++---
 2 files changed, 19 insertions(+), 5 deletions(-)

commit 536ee48
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Sep 12 15:19:20 2012 +0900

    Some minor skybox improvements suggested by mh.
    
    Rearrange the sky_suffix and sky_coords arrays and remove the sky_target
    array such that the faces can be loaded using
    GL_TEXTURE_CUBE_MAP_POSITIVE_X + i (apparently certain drivers break if
    the faces aren't loaded in the correct order).
    
    Also, the nomalization of the direction vector in the fragment isn't
    necessary.

 libs/video/renderer/glsl/glsl_bsp.c    |   18 +++++-------------
 libs/video/renderer/glsl/quakeskb.frag |    2 --
 2 files changed, 5 insertions(+), 15 deletions(-)

commit 433d9d1
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Sep 12 09:54:24 2012 +0900

    Hook up the pointfile loader in glsl.
    
    I was always wondering what that was for (never bothered looking at the
    command registration, I guess :P).

 libs/video/renderer/glsl/glsl_main.c |    3 +++
 1 file changed, 3 insertions(+)

commit bcda96a
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Sep 12 08:33:44 2012 +0900

    Report the source line of the entity in messages.
    
    For now, just when PrintEntity is used to print the message, but having the
    first line of the entity sure makes life easier.

 tools/qfbsp/include/map.h |    1 +
 tools/qfbsp/source/map.c  |    2 ++
 2 files changed, 3 insertions(+)

commit db25d55
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Sep 12 08:24:17 2012 +0900

    Handle quest format brushes.
    
    Bah, I forgot I needed to fix the vertex count parsing when I did the
    script lexing change.

 tools/Forge/Bundles/MapEdit/SetBrush.m |   14 +++++++++++---
 tools/qfbsp/source/map.c               |   14 +++++++++++---
 2 files changed, 22 insertions(+), 6 deletions(-)

commit b764cad
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Sep 12 08:14:10 2012 +0900

    Add buttons to re-scan or re-parse entity class data.

 tools/io_qfmap/__init__.py |   51 +++++++++++++++++++++++++++++++++-----------
 1 file changed, 39 insertions(+), 12 deletions(-)

commit 592222a
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Sep 11 15:01:43 2012 +0900

    Don't attempt to draw a connecting line to a missing target.

 tools/io_qfmap/entity.py |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 154d08a
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Sep 11 14:58:56 2012 +0900

    Gracefully handle unknown entity classes.
    
    Unfortunately, the classname gets lost to blender at this stage, but I have
    an idea for how to handle that.

 tools/io_qfmap/entity.py     |    6 +++++-
 tools/io_qfmap/import_map.py |    7 +++++--
 2 files changed, 10 insertions(+), 3 deletions(-)

commit 5483274
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Sep 11 14:57:24 2012 +0900

    Gracefully handle missing textures.
    
    The texinfo still gets a material, but just an untextured one. The idea is
    such textures can be fixed up at a later date.

 tools/io_qfmap/import_map.py |   31 ++++++++++++++++++++-----------
 1 file changed, 20 insertions(+), 11 deletions(-)

commit 41004fd
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Sep 10 19:24:47 2012 +0900

    Remove specularity from the brush materials.
    
    Specularity looks ghastly when there's nothing for it to highlight.

 tools/io_qfmap/import_map.py |    1 +
 1 file changed, 1 insertion(+)

commit 7204f8d
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Sep 10 19:23:15 2012 +0900

    Minor robustness improvements to map importing.
    
    Allow map parse errors to be reported propertly (the raise was for
    debugging) and give up gracefully when the wad file can't be found.

 tools/io_qfmap/import_map.py |   10 +++++++---
 1 file changed, 7 insertions(+), 3 deletions(-)

commit 995547a
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Sep 10 16:14:32 2012 +0900

    Display a message for entity class parsing errors.
    
    It's hacky, but at least something shows up.

 tools/io_qfmap/__init__.py |   28 ++++++++++++++++++++++++++--
 1 file changed, 26 insertions(+), 2 deletions(-)

commit 25e5456
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Sep 10 15:00:30 2012 +0900

    Create EntityClassError exception.
    
    Much more useful than Python's SyntaxError (and much less confusing).

 tools/io_qfmap/entityclass.py |   13 +++++++++++--
 1 file changed, 11 insertions(+), 2 deletions(-)

commit ae942af
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Sep 10 14:59:43 2012 +0900

    Bind map_error to the script object.
    
    This works much better :)

 tools/io_qfmap/map.py |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f525be0
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Sep 10 14:58:41 2012 +0900

    Implement Script.error properly.
    
    It's not good to get an attirbute error when trying to raise another error.

 tools/io_qfmap/script.py |   13 ++++++++++---
 1 file changed, 10 insertions(+), 3 deletions(-)

commit dade608
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Sep 10 13:19:38 2012 +0900

    Move the entity class comment into its own box.
    
    Blender doesn't support multiline text or word wrapping, so the tooltips
    were rather ugly. The double spacing used by layout.label() is still a
    little ugly, but the resulting text box just below the entity classname is
    much more usable.

 tools/io_qfmap/entity.py |   18 ++++++++++++++++--
 1 file changed, 16 insertions(+), 2 deletions(-)

commit 198a49d
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Sep 10 12:40:55 2012 +0900

    Ensure all files have the gpl block.

 tools/io_qfmap/entityclass.py |   19 +++++++++++++++++++
 tools/io_qfmap/map.py         |   19 +++++++++++++++++++
 tools/io_qfmap/script.py      |   19 +++++++++++++++++++
 tools/io_qfmap/wad.py         |   19 +++++++++++++++++++
 4 files changed, 76 insertions(+)

commit a75fe21
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Sep 10 12:16:23 2012 +0900

    Make entity lines post rather than pre.
    
    I'm not sure what visual difference it makes, but it is pretty much what
    I'd intended in the first place.

 tools/io_qfmap/entity.py |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 2905cb6
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Sep 10 11:48:22 2012 +0900

    Add entity relation lines.
    
    It has many problems (eg, the lines won't update when target/targetname
    change), but the basics are working.

 tools/io_qfmap/__init__.py |    1 +
 tools/io_qfmap/entity.py   |   71 +++++++++++++++++++++++++++++++++++++++++++-
 2 files changed, 71 insertions(+), 1 deletion(-)

commit 9dc1039
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Sep 10 08:08:37 2012 +0900

    Fix map parsing for quest format maps.
    
    Bah, the one place a single char lex is needed :P

 tools/io_qfmap/map.py |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit da6f57a
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Sep 10 08:08:11 2012 +0900

    Get entity field key/value pair editing working.

 tools/io_qfmap/entity.py |   60 +++++++++++++++++++++++++++++++++-------------
 1 file changed, 44 insertions(+), 16 deletions(-)

commit ea541b3
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 9 17:23:55 2012 +0900

    Set the map parser scripts to not lex single chars.
    
    qbsp treats {foo as one token, not two.

 tools/Forge/Bundles/MapEdit/Map.m |    1 +
 tools/qfbsp/source/map.c          |    1 +
 2 files changed, 2 insertions(+)

commit c8be8c2
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 9 17:13:10 2012 +0900

    Don't use any single chars for maps.
    
    The standard map format (original qbsp) doesn't use them.

 tools/io_qfmap/map.py |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 0c2818c
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 9 17:12:45 2012 +0900

    Ensure the texture scaling is never 0.

 tools/io_qfmap/map.py |    4 ++++
 1 file changed, 4 insertions(+)

commit 73cdd66
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 9 17:11:57 2012 +0900

    Set the entity properties as parsed from the map.

 tools/io_qfmap/entity.py      |   42 +++++++++++++++++++++++++++++++++++++----
 tools/io_qfmap/entityclass.py |    3 +++
 tools/io_qfmap/import_map.py  |   30 ++++++++++++++++++-----------
 3 files changed, 60 insertions(+), 15 deletions(-)

commit 825ce0d
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 9 17:01:23 2012 +0900

    Make the type of EntityClass.flagnames consistent.
    
    Sometimes list and sometimes tuple makes for a mess.

 tools/io_qfmap/entity.py      |    4 ++--
 tools/io_qfmap/entityclass.py |    4 ++--
 2 files changed, 4 insertions(+), 4 deletions(-)

commit 709ab05
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 9 13:22:52 2012 +0900

    Add preliminary support for entity properties.
    
    Only classname and flags are supported right now, and only classname gets
    set when the entity is added (via the add menu).

 tools/io_qfmap/__init__.py |    1 +
 tools/io_qfmap/entity.py   |   43 +++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 44 insertions(+)

commit 468f969
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 9 11:10:03 2012 +0900

    Use a tetrahedron for the default brush entity.
    
    It seems to be a reasonable shape to show that editing is needed.

 tools/io_qfmap/entity.py |   16 +++++++++++++++-
 1 file changed, 15 insertions(+), 1 deletion(-)

commit 18fcdb0
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 9 10:29:43 2012 +0900

    Implement the add_entity operator.
    
    Doesn't work for brush entities yet.

 tools/io_qfmap/__init__.py   |    9 ++++--
 tools/io_qfmap/entity.py     |   67 ++++++++++++++++++++++++++++++++++++++++++
 tools/io_qfmap/import_map.py |   29 +-----------------
 3 files changed, 75 insertions(+), 30 deletions(-)

commit fde8d29
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 9 09:29:55 2012 +0900

    Use icons to distinquish brush ents from others.
    
    Mesh-data icons indicate brush entities, object-data icons indicate the
    others.

 tools/io_qfmap/__init__.py |    8 +++++++-
 1 file changed, 7 insertions(+), 1 deletion(-)

commit 06fd951
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 9 08:54:41 2012 +0900

    Build the add entity menu tree.
    
    The menu tree is built from the parsed entity classes, with _ forming the
    separator between menu levels.

 tools/io_qfmap/__init__.py |   87 +++++++++++++++++++++++++++++++++++++++-----
 1 file changed, 78 insertions(+), 9 deletions(-)

commit 45c48a6
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Sep 8 09:41:00 2012 +0900

    Fix bsp2 loading.
    
    Just some problems with the handling of extended bsp29 files. I'm not
    quite happy with the code, but it will do for now.

 libs/models/brush/model_brush.c |   10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit cfb856b
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Sep 8 09:38:22 2012 +0900

    Fix byteswapping of a node's firstface/numfaces.
    
    I'd forgotten to fix this.

 libs/util/bspfile.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit beb0b9e
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Sep 8 09:37:48 2012 +0900

    Fix a segfault when no interfaces are available.

 libs/net/nm/net_udp.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 0ce32a7
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Sep 7 20:40:58 2012 +0900

    Return the correct size for set_bsp*_write().
    
    Need to subtract the size of the bsp_t/bsp29_t struct. Now old and new
    qfbsp produce identical bsps (so long as they're both unoptimized, or
    (probably) both optimized).

 libs/util/bspfile.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 2d30cdd
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Sep 7 18:27:20 2012 +0900

    Implement bsp2/bsp29 writing.
    
    It's ugly, inefficient, and untested, but it should work.

 libs/util/bspfile.c |  196 +++++++++++++++++++++++++++++++++++++++++----------
 1 file changed, 157 insertions(+), 39 deletions(-)

commit 3df85a6
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Sep 7 17:37:46 2012 +0900

    Fix reading bsp29 files.

 libs/util/bspfile.c |  138 ++++++++++++++++++++++++++++++++++++++++-----------
 1 file changed, 109 insertions(+), 29 deletions(-)

commit a37c546
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Sep 7 16:09:24 2012 +0900

    First step for BSP2 support. DOES NOT WORK!
    
    All of the nastiness is hidden in bspfile.c (including the old bsp29
    specific data types). However, the conversions between bsp29 and bsp2 are
    implemented but not yet hooked up properly. This commit just gets the data
    structures in place and the obvious changes necessary to the rest of the
    engine to get it to compile, plus a few obvious "make it work" changes.

 include/QF/bspfile.h            |   39 ++--
 include/QF/model.h              |    6 +-
 include/asm_draw.h              |    4 +-
 libs/models/brush/model_brush.c |   10 +-
 libs/util/bspfile.c             |  458 +++++++++++++++++++++++++++++++++++++--
 libs/video/renderer/r_light.c   |    5 +-
 tools/qfbsp/source/readbsp.c    |    8 +-
 tools/qfbsp/source/surfaces.c   |    3 +-
 tools/qflight/source/vis.c      |    7 +-
 tools/qfvis/source/soundphs.c   |    3 +-
 10 files changed, 485 insertions(+), 58 deletions(-)

commit 69fb782
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Sep 7 15:45:59 2012 +0900

    Remove the redundant endian conversions from bsp loading.
    
    It's obvious that it's been a very long time since anybody's tried playing
    QF on a big-endian machine: double converting data isn't good :/

 libs/models/brush/model_brush.c |   94 ++++++++++++++++++---------------------
 1 file changed, 43 insertions(+), 51 deletions(-)

commit 6ba6959
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Sep 5 14:02:44 2012 +0900

    Allow any NxN or 2NxN sky texture for glsl.
    
    Maps that specify a skybox often use a fake sky texture, sometimes 16x16.
    Having a hardcoded requiredment of 256x128 is a tad inappropriate.

 libs/models/brush/glsl_model_brush.c |   48 +++++++++++++++++++++++++---------
 1 file changed, 36 insertions(+), 12 deletions(-)

commit 395a0ee
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Sep 4 20:29:00 2012 +0900

    Don't use targetname for entity names.
    
    Proves to be rather non-useful (at this stage, anyway)

 tools/io_qfmap/import_map.py |    5 +----
 1 file changed, 1 insertion(+), 4 deletions(-)

commit 1993ee8
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Sep 4 19:40:07 2012 +0900

    Remove some debug prints.

 tools/io_qfmap/entityclass.py |    1 -
 tools/io_qfmap/import_map.py  |    2 --
 2 files changed, 3 deletions(-)

commit af37ae4
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Sep 4 19:39:10 2012 +0900

    Fix the incorrectly rotated textures.
    
    map uses degrees, blender uses radians. oops.

 tools/io_qfmap/map.py |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 7feec96
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Sep 4 17:04:30 2012 +0900

    Texture the world :)
    
    Such a simple statement for a sizable hunk of work.

 tools/io_qfmap/import_map.py |   91 ++++++++++++++++++++++++++++++++++++++++--
 tools/io_qfmap/quakepal.py   |    1 +
 2 files changed, 89 insertions(+), 3 deletions(-)

commit b29f24e
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Sep 4 17:04:00 2012 +0900

    Add a wadpath scene property and load the wad files.

 tools/io_qfmap/__init__.py   |    5 +++++
 tools/io_qfmap/import_map.py |   16 ++++++++++++++++
 2 files changed, 21 insertions(+)

commit 95e2a5b
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Sep 4 16:59:02 2012 +0900

    Pre-process texture defs.
    
    The st-vectors are now fully calculated as per qfbsp's algorithm.
    The Texinfo class tries to create unique texture defintions.

 tools/io_qfmap/map.py |   52 ++++++++++++++++++++++++++++++++++---------------
 1 file changed, 36 insertions(+), 16 deletions(-)

commit 446016e
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Sep 4 16:58:19 2012 +0900

    Make wad contents searches case-insensitive.

 tools/io_qfmap/wad.py |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 8587079
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Sep 4 11:59:04 2012 +0900

    Fix a case&paste error.

 tools/io_qfmap/__init__.py |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 38facac
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Sep 3 19:37:04 2012 +0900

    Add a very simple wad reader.
    
    It supports only MipTex data (for automatic data conversion), and it's very
    fragile, but it will do for now.

 tools/io_qfmap/wad.py |   80 +++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 80 insertions(+)

commit 125952d1
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Sep 3 14:34:27 2012 +0900

    Un-hardcode the light distance.

 tools/io_qfmap/import_map.py |    7 ++++++-
 1 file changed, 6 insertions(+), 1 deletion(-)

commit dfaf280
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Sep 3 14:33:32 2012 +0900

    Create colored boxes for sized entity classes.
    
    The data is taken from the parsed entity class data. No error checking is
    done yet.

 tools/io_qfmap/import_map.py |   43 ++++++++++++++++++++++++++++++++++++++----
 1 file changed, 39 insertions(+), 4 deletions(-)

commit 16952ff
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Sep 3 13:38:28 2012 +0900

    Support loading entity class data into blender.
    
    The qc source path is specified via the dirpath property in the QF Entity
    Classes panel of the scene data. The scanned entity classes are stored in a
    plist in a blender text file for persistent storage (so the directory
    doesn't need to be scanned every time). Also, so the data doesn't have to
    be parsed every time, the data is stored in a normal python class hanging
    off the properties class (evil hack?).

 tools/io_qfmap/__init__.py |  112 ++++++++++++++++++++++++--------------------
 1 file changed, 62 insertions(+), 50 deletions(-)

commit 3cad0f9
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Sep 3 13:35:18 2012 +0900

    Revamp entity class loading for blender integration.
    
    Slightly cleaner EntityClass building, and now the directory scanner is
    part of the EntityClassDict class, which also supports reading/writing
    plists (for persistent storage in blender).

 tools/io_qfmap/entityclass.py |  153 ++++++++++++++++++++++++++++-------------
 1 file changed, 104 insertions(+), 49 deletions(-)

commit b3e5083
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Sep 3 13:33:59 2012 +0900

    Add a symlink to io_mesh_qfmdl's qfplist.py
    
    The map editor addon needs to use it too, but I don't want to duplicate the
    file in git.

 tools/io_qfmap/qfplist.py |    1 +
 1 file changed, 1 insertion(+)

commit c08fd08
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 31 16:14:49 2012 +0900

    Write empty array and dictionary items on one line.
    
    Makes for slightly tidier plist text.

 tools/io_mesh_qfmdl/qfplist.py |    6 ++++++
 1 file changed, 6 insertions(+)

commit 43abf8e
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 31 16:10:30 2012 +0900

    Support writing int and float items to a plist.
    
    They are written as normal string items, so anything using the plist later
    on will need to know the context, but at least now there's no need to first
    convert int or float data to strings before writing a plist.

 tools/io_mesh_qfmdl/qfplist.py |    2 ++
 1 file changed, 2 insertions(+)

commit 2b55687
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 31 15:54:26 2012 +0900

    Correct a missed function rename.
    
    Serves me right for not testing properly :P

 tools/io_qfmap/entityclass.py |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ffcd78b
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Aug 30 19:56:08 2012 +0900

    Add other entities as empties.
    
    For now until I get entity class data importing sorted out. The empties are
    set to display as size 8 cubes (+/-8bu).

 tools/io_qfmap/import_map.py |    9 ++++++++-
 1 file changed, 8 insertions(+), 1 deletion(-)

commit 4b52421
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Aug 30 17:34:05 2012 +0900

    Add lights from the map to the scene.
    
    Only the very basics are done at this stage, but things look reasonable.
    The lamp energy might need tweaking.

 tools/io_qfmap/import_map.py |   20 ++++++++++++++++++--
 1 file changed, 18 insertions(+), 2 deletions(-)

commit 5d2b263
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Aug 30 14:50:19 2012 +0900

    Generate geometry for entities with brushes.

 tools/io_qfmap/import_map.py |   34 ++++++++++++++++++++++++++++++++--
 tools/io_qfmap/map.py        |    7 +++++++
 2 files changed, 39 insertions(+), 2 deletions(-)

commit 15a906a
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Aug 30 13:19:30 2012 +0900

    Get map parsing pretty much working.
    
    No geometry is created yet.
    Both id and quest formats are supported.
    e1m1.map parses in less than two seconds on my system.

 tools/io_qfmap/__init__.py    |  154 +++++++++++++++++++++++++++++
 tools/io_qfmap/entityclass.py |    2 +-
 tools/io_qfmap/import_map.py  |   42 ++++++++
 tools/io_qfmap/map.py         |  216 +++++++++++++++++++++++++++++++++++++++++
 tools/io_qfmap/script.py      |    8 +-
 5 files changed, 417 insertions(+), 5 deletions(-)

commit 97c99de
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 29 15:43:53 2012 +0900

    Create the entity class scanner.
    
    It recursivly scans the QC source tree looking for QUAKED comments and
    builds a dictionary of the found entity classes.

 tools/io_qfmap/entityclass.py |   93 +++++++++++++++++++++++++++++++++++++++++
 1 file changed, 93 insertions(+)

commit 08d7131
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 29 14:55:11 2012 +0900

    Create a python version of QF's script parser.
    
    It's error handling is bogus, but it works for good input :)

 tools/io_qfmap/script.py |   72 ++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 72 insertions(+)

commit d6a1daa
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 29 09:55:17 2012 +0900

    Force a refdef update when nearclip or farclip change.

 libs/video/renderer/r_cvar.c |    2 ++
 1 file changed, 2 insertions(+)

commit abc81ce
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Aug 20 14:12:20 2012 +0900

    Avoid building unneeded libs.
    
    Having better dependency info in build_control.m4 would be nice, but this
    works well enough for now.

 config.d/build_control.m4 |   20 ++++++++++++++++++++
 libs/Makefile.am          |    5 +++--
 2 files changed, 23 insertions(+), 2 deletions(-)

commit 365f20b
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Aug 20 10:56:09 2012 +0900

    Make the ps3 cross-build self-contained.
    
    More or less.
    
    This is a bit of an experiment (which seems to work nicely) in that qfcc
    and pak are build natively in one build tree, then the full system is
    cross-built in another tree using the natively build qfcc and pak. Both
    trees are created by cross-configure.sh as sub-directories of the current
    directory. However, cross-configure.sh still assumes it is being run in a
    subdirectory of the main quakeforge directory.
    
    cross-make.sh checks if the native tree is in the current directory and if
    so, builds it, otherwise it just runs make for the cross-build tree (this
    allows for running cross-make in a sub-directory for things like sorting
    out build issues).

 tools/cross/ps3-elf/cross-configure.sh |    6 +++++-
 tools/cross/ps3-elf/cross-make.sh      |    9 ++++++++-
 2 files changed, 13 insertions(+), 2 deletions(-)

commit 0976ff8
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Aug 20 10:51:46 2012 +0900

    Nuke mentions of HOST_CC.
    
    CC_FOR_BUILD is the recommended name these days (HOST_CC was from an old
    gcc version, and is confusing anyway). Also, CC_FOR_BUILD should be set by
    configure.

 tools/cross/droid/cross-make.sh   |    2 --
 tools/cross/mingw/cross-make.sh   |    2 --
 tools/cross/ps3-elf/cross-make.sh |    2 --
 3 files changed, 6 deletions(-)

commit 54b4d58
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Aug 19 17:33:46 2012 +0900

    Split up mathlib.h into several smaller headers.
    
    This should make maintaining them a little easier.
    
    The copyright block in most of the new headers (execpt vector.h) reflect
    when the functions in the relevant header were first created.

 include/QF/Makefile.am       |    3 +
 include/QF/math/dual.h       |  194 +++++++++++++
 include/QF/math/half.h       |   47 ++++
 include/QF/math/matrix3.h    |  123 ++++++++
 include/QF/math/matrix4.h    |  135 +++++++++
 include/QF/math/quaternion.h |  173 ++++++++++++
 include/QF/math/vector.h     |  214 ++++++++++++++
 include/QF/mathlib.h         |  631 +-----------------------------------------
 8 files changed, 896 insertions(+), 624 deletions(-)

commit a2f2d4d
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Aug 19 13:40:42 2012 +0900

    "Check" for the availability of pthreads.
    
    Unfortunately, just because the header is there doesn't mean anything will
    actually work :(. Also, the check is based on the host vendor/os for now.
    Yes, it's rather lame but it will do for now.
    
    With this, QF will build on an almost fresh ps3toolchain install. Only two
    "fixes" are needed:
     o  In $PS3DEV/ppu/powerpc64-ps3-elf: ln -s ../include sys-include
     o  libsamplerate cross-built and installed.

 config.d/pthread.m4             |    8 ++++++--
 tools/qflight/include/threads.h |    2 +-
 tools/qflight/source/threads.c  |    6 +++---
 tools/qfvis/include/vis.h       |    2 +-
 tools/qfvis/source/qfvis.c      |   10 ++++++----
 5 files changed, 17 insertions(+), 11 deletions(-)

commit 9bfcdad
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Aug 19 13:37:06 2012 +0900

    Fix some type-size safety issues.
    
    Expecting int to be 32 bits is a little dangerous, and the function
    versions of swap/noswap should be unsigned rather than signed.

 include/QF/qendian.h             |    8 ++++----
 libs/util/qendian.c              |   16 ++++++++--------
 tools/qfmodelgen/source/lbmlib.c |   16 ++++++++--------
 3 files changed, 20 insertions(+), 20 deletions(-)

commit 358ea4e
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Aug 19 13:18:38 2012 +0900

    Fall back to execve/wait when execvp and waitpid are unavailable.

 config.d/library_functions.m4 |    4 ++--
 tools/qfcc/source/cpp.c       |   11 ++++++++++-
 2 files changed, 12 insertions(+), 3 deletions(-)

commit ceea600
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Aug 19 13:03:48 2012 +0900

    Sort the checked functions.

 config.d/library_functions.m4 |   12 +++++++-----
 1 file changed, 7 insertions(+), 5 deletions(-)

commit 0bd613b
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Aug 19 08:05:50 2012 +0900

    Disable vorbisfile's static callbacks.
    
    Since we use callbacks anyway, they're not needed, and this fixes the
    warnings/errors when using ps3toolchain.

 libs/audio/renderer/vorbis.c |    1 +
 1 file changed, 1 insertion(+)

commit 5684347
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Aug 18 22:12:02 2012 +0900

    Some fixes for mingw cross-builds.
    
    The fixes came to light while getting ps3toolchain cross-building working.

 tools/cross/mingw/cross-configure.sh |    4 +---
 tools/cross/mingw/cross-make.sh      |    3 +--
 2 files changed, 2 insertions(+), 5 deletions(-)

commit bf41851
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Aug 18 22:02:02 2012 +0900

    Check for ioctl availability.
    
    This gets networking compiling. Now the build gets all the way to qfcc,
    where it dies with waidpid/execvp errors :P

 config.d/library_functions.m4 |    6 +++---
 libs/net/nc/net_udp.c         |   13 ++++++++++---
 libs/net/nm/net_udp.c         |   20 ++++++++++++++++----
 3 files changed, 29 insertions(+), 10 deletions(-)

commit 6059603
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Aug 18 21:51:04 2012 +0900

    Half-disable pthread for ps3toolchain.
    
    I can't find anything for pthread other that pthread.h, but this lets nq
    and qw stuff build (minus the pending networking issues).

 config.d/pthread.m4 |    5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit 575693e
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Aug 18 21:49:30 2012 +0900

    A bunch of networking compile fixes.
    
    This isn't everything needed to get networking compiling, but it's pretty
    close.

 config.d/header_files.m4 |   12 ++++++------
 config.d/networking.m4   |   10 ++++++++++
 libs/net/nc/net_udp.c    |    9 ++++++++-
 libs/net/nm/net_udp.c    |   15 +++++++++++++--
 4 files changed, 37 insertions(+), 9 deletions(-)

commit 78f7604
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Aug 18 21:44:51 2012 +0900

    Evil hack to handle duplicated sdl key syms.

 libs/video/targets/in_sdl.c |   12 +++++++++---
 1 file changed, 9 insertions(+), 3 deletions(-)

commit 68feab8
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Aug 18 21:44:02 2012 +0900

    Avoid PATH_MAX.
    
    Not available in ps3toolchain, and this avoids a stack buffer :)

 qw/source/locs.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 9250eb8
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Aug 18 21:42:49 2012 +0900

    Yet more char index issues.
    
    Should be getting near the end of these as qfcc tries to link in my hacked
    up tree :)

 libs/video/targets/old_keys.c |    3 ++-
 qw/source/cl_slist.c          |    6 ++++--
 qw/source/crudefile.c         |    2 +-
 qw/source/sv_ccmds.c          |    4 ++--
 qw/source/sv_pr_cpqw.c        |    2 +-
 5 files changed, 10 insertions(+), 7 deletions(-)

commit 7f805c2
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Aug 18 21:41:33 2012 +0900

    Use pkg-config for zlib.
    
    Helps cope with zlib being in weird places (eg, ps3toolchain)

 config.d/compression.m4 |   30 +++++++++++++++++-------------
 libs/image/Makefile.am  |    2 +-
 libs/util/Makefile.am   |    2 +-
 3 files changed, 19 insertions(+), 15 deletions(-)

commit 3b047a3
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Aug 18 21:37:54 2012 +0900

    Check for getuid and cope when it's not there.
    
    The ps3toolchain doesn't have getuid or getpwent. Nor does it have
    timeGetTime, so use Sys_DoubleTime instead.

 config.d/library_functions.m4 |    4 ++--
 libs/util/sys.c               |   14 ++++++++++----
 2 files changed, 12 insertions(+), 6 deletions(-)

commit 6200d35
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Aug 18 21:35:24 2012 +0900

    Don't include SDL_byteorder.h
    
    We don't need it and it's not always available.

 libs/audio/targets/snd_sdl.c |    1 -
 1 file changed, 1 deletion(-)

commit cd1e3e5
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Aug 18 21:33:58 2012 +0900

    Cross configure/make scripts for ps3toolchain based builds.

 tools/cross/ps3-elf/cross-configure.sh |   10 ++++++++++
 tools/cross/ps3-elf/cross-make.sh      |    9 +++++++++
 2 files changed, 19 insertions(+)

commit 6f484ee
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Aug 18 16:29:57 2012 +0900

    Add support and tests for 3x3 matrices.

 include/QF/mathlib.h       |   91 +++++++++++++++-
 include/QF/qtypes.h        |    1 +
 libs/util/mathlib.c        |  177 ++++++++++++++++++++++++++++---
 libs/util/test/Makefile.am |   13 ++-
 libs/util/test/test-mat.c  |  248 --------------------------------------------
 libs/util/test/test-mat3.c |  213 +++++++++++++++++++++++++++++++++++++
 libs/util/test/test-mat4.c |  248 ++++++++++++++++++++++++++++++++++++++++++++
 7 files changed, 721 insertions(+), 270 deletions(-)

commit cc35209
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Aug 18 12:20:08 2012 +0900

    Yet more char index issues :P

 libs/gamecode/pr_debug.c   |    6 +++---
 libs/gamecode/pr_strings.c |    4 ++--
 2 files changed, 5 insertions(+), 5 deletions(-)

commit ee27c49
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Aug 18 12:12:45 2012 +0900

    Separate the checks for building dirent.c and fnmatch.c.
    
    ps3's libc has opendir and friends, but not fnmatch.

 config.d/library_functions.m4 |   11 +++++++++++
 libs/util/Makefile.am         |   13 +++++++++++--
 2 files changed, 22 insertions(+), 2 deletions(-)

commit 5613b27
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Aug 18 11:50:35 2012 +0900

    Whee, another char index issue.

 libs/util/wadfile.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d074f4a
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Aug 18 11:45:26 2012 +0900

    Hack in a fake version of "access".
    
    It seems access is unimplemented in the ps3 toolchain.

 libs/util/sys.c |    7 ++++++-
 1 file changed, 6 insertions(+), 1 deletion(-)

commit 8362153
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Aug 18 11:20:48 2012 +0900

    Use the correct type for alloca's size parameter.
    
    Well, hopefully: it at least agrees with gcc's builtin version.

 config.d/header_files.m4 |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 62face7
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Aug 18 11:02:52 2012 +0900

    Fix some char index issues.

 libs/util/cmd.c     |    2 +-
 libs/util/qfplist.c |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 7928274
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Aug 18 10:57:42 2012 +0900

    Test for and include sys/select.h.

 config.d/header_files.m4 |    2 +-
 libs/util/sys.c          |    3 +++
 2 files changed, 4 insertions(+), 1 deletion(-)

commit 6e1f043
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Aug 13 15:03:40 2012 +0900

    Clean up some unused or local functions.

 include/QF/cmd.h  |    1 -
 include/QF/cvar.h |   16 ++++---------
 libs/util/cmd.c   |    2 +-
 libs/util/cvar.c  |   65 +++++++----------------------------------------------
 4 files changed, 13 insertions(+), 71 deletions(-)

commit ae81b79
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Aug 13 14:07:13 2012 +0900

    Remove a long dead field.

 include/QF/cmd.h |    1 -
 1 file changed, 1 deletion(-)

commit a1a2060
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 17 10:24:41 2012 +0900

    Yet another ps3 plugin fix.
    
    Returning an uninitialized pointer... ouch. Hopefully the last one.

 libs/util/plugin.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit cbaad33
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 17 10:20:35 2012 +0900

    Fix a couple more ps3 plugin related warnings.
    
    Whee :P

 libs/util/plugin.c |    2 ++
 1 file changed, 2 insertions(+)

commit 41876e8
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 17 09:18:00 2012 +0900

    Some compile fixes for when dlopen is not available.
    
    It seems the ps3 gameos build env is... not what we've come to take for
    granted.

 libs/util/plugin.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit af0db29
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Aug 12 13:38:12 2012 +0900

    Add support for meshes with multiple UV maps.
    
    One common use for a mesh having multiple UV maps is when combining several
    mesh objects into one: the base UV map is the result of joining the meshes
    (and will be a right mess of overlapping UV islands), but an additional UV
    map is then setup as a copy of the first but with the islands re-packed so
    nothing overlaps. The export script now searches for the active UV map and
    uses that for both UV coordinates and the skin texture (when none is
    specified).

 tools/io_mesh_qfmdl/export_mdl.py |   15 +++++++++++----
 1 file changed, 11 insertions(+), 4 deletions(-)

commit 5b054dd
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Aug 12 11:42:18 2012 +0900

    Add "slow grav" for smoke.
    
    Removes one more set of hard codings from particle types.

 libs/video/renderer/r_part.c |   16 ++++++++++++++--
 1 file changed, 14 insertions(+), 2 deletions(-)

commit f8f01fc
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Aug 12 08:58:46 2012 +0900

    Change glx to x11 in the examples.

 doc/config.dox |   18 +++++++++---------
 1 file changed, 9 insertions(+), 9 deletions(-)

commit 5a5b31b
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 10 13:52:29 2012 +0900

    Correct the direction of pt_fire particles.
    
    sub_grav() was accelerating the particle in the wrong direction. Down being
    +ve gravity caused a bit of confusion (though it was a c&p error).

 libs/video/renderer/r_part.c |   34 +++++++++++++++++-----------------
 1 file changed, 17 insertions(+), 17 deletions(-)

commit 31dead3
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Aug 7 17:06:01 2012 +0900

    Fix 16-bit mdl loading for glsl.
    
    The extra precision verts are offset by numverts, not numposes :P

 libs/models/alias/glsl_model_alias.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 971e689
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Aug 7 13:25:44 2012 +0900

    Fix a slew of whitespace issues.

 tools/io_mesh_qfmdl/export_mdl.py |   35 ++++++++++++++++++-----------------
 tools/io_mesh_qfmdl/import_mdl.py |   34 +++++++++++++++++-----------------
 tools/io_mesh_qfmdl/mdl.py        |   32 ++++++++++++++++----------------
 tools/io_mesh_qfmdl/qfplist.py    |    6 +++---
 4 files changed, 54 insertions(+), 53 deletions(-)

commit a3c8209
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Aug 7 13:23:19 2012 +0900

    Handle missing frame information a little more usefully.
    
    If there's no export script, or the export script has no frame information,
    animation data will be collected by running through blender frames 1 to the
    current frame (inclusive). Each frame will be exported as a single frame
    rather than as members of a frame group.

 tools/io_mesh_qfmdl/export_mdl.py |   10 +++++++---
 tools/io_mesh_qfmdl/import_mdl.py |   11 +++++++----
 2 files changed, 14 insertions(+), 7 deletions(-)

commit 39b2e80
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Aug 7 11:49:08 2012 +0900

    Optionally apply the object's transform to the mesh.
    
    The default is to apply.

 tools/io_mesh_qfmdl/__init__.py   |    5 +++++
 tools/io_mesh_qfmdl/export_mdl.py |    4 ++++
 2 files changed, 9 insertions(+)

commit 634b3b0
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Aug 7 10:49:32 2012 +0900

    Export non-triangular faces as triangle clusters.
    
    It turns out this behavior is preferable (by at least one artist, anyway).

 tools/io_mesh_qfmdl/TODO          |    2 +-
 tools/io_mesh_qfmdl/export_mdl.py |   37 ++++++++++++++++++++-----------------
 2 files changed, 21 insertions(+), 18 deletions(-)

commit a4da11c
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Aug 7 10:26:35 2012 +0900

    Correctly handle multiple vertices sharing a UV coordinate.
    
    Need to use both UV coordinate and vertex index to find unique
    combinations. This should fix leileilol's broken meshes.

 tools/io_mesh_qfmdl/export_mdl.py |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 78bfd30
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Aug 7 09:52:47 2012 +0900

    Export vertex normals.
    
    I'd forgotten I hadn't implemented exporting vertex normals. While I've
    modified things for making better use of blender's tools and avoiding the
    unnecessary use of objects, the code is taken from the ajmdl blender 2.4
    export script.

 tools/io_mesh_qfmdl/export_mdl.py |    4 +-
 tools/io_mesh_qfmdl/quakenorm.py  |   97 +++++++++++++++++++++++++++++++++++++
 2 files changed, 100 insertions(+), 1 deletion(-)

commit 5661e73
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Aug 7 09:50:38 2012 +0900

    Actually return the skin in null_skin()
    
    Oops.

 tools/io_mesh_qfmdl/export_mdl.py |    1 +
 1 file changed, 1 insertion(+)

commit ff4c2cf
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Aug 6 22:34:19 2012 +0900

    Add a todo list for the mdl addon.

 tools/io_mesh_qfmdl/TODO |    7 +++++++
 1 file changed, 7 insertions(+)

commit a63ce57
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Aug 4 10:50:39 2012 +0900

    Update NEWS for 0.7.0.

 NEWS |   22 ++++++++++++++++++++++
 1 file changed, 22 insertions(+)

commit 848db2e
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Aug 4 10:47:46 2012 +0900

    Correct a comment.
    
    The shear factors were listed next to scale... a tad confusing.

 include/QF/mathlib.h |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 130494f
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jul 22 12:08:09 2012 +0900

    Bail out if the saved game data has too many entities.

 nq/source/host_cmd.c |    2 ++
 1 file changed, 2 insertions(+)

commit 3042c2b
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jul 21 22:35:51 2012 +0900

    Create backups of quick.sav.
    
    F6 is fantastic, until you hit it by mistake after dieing when you meant
    to hit F9 (I've done that way too often). quick.sav is still the last file
    written via F6 (so F9 is unaffected), but now the previous quick.sav
    becomes quick1.sav. Up to 5 (currently) backups will be kept: quick1 is
    the newest, quick5 the oldest. A menu for accessing the backups has been
    added as a sub-menu of the load menu.

 nq/source/host_cmd.c          |   22 ++++++++++-
 ruamoko/cl_menu/client_menu.r |   88 ++++++++++++++++++++++++++++++++++++-----
 2 files changed, 99 insertions(+), 11 deletions(-)

commit 1406cf1
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jul 21 22:34:10 2012 +0900

    Mask the QFS_Rename message with SYS_FS.
    
    It really should have been masked all along, but I guess developer 1 was
    too noisy back then.

 libs/util/quakefs.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 068bc7a
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jul 21 17:53:49 2012 +0900

    Potential client state fix ala Baker.
    
    I'm not sure it's really relevant to QF, but applying it doesn't hurt.

 nq/source/cl_main.c |    1 +
 1 file changed, 1 insertion(+)

commit 543c4b2
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jul 21 16:37:14 2012 +0900

    Don't force the console for ca_connected.
    
    It's valid not to draw the console in ca_connected when changing levels.

 nq/source/cl_main.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ec94a1e
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jul 21 15:39:11 2012 +0900

    Update entity origin and angles even when invisible.
    
    This fixes the broken intermissions. There might be a better fix, but this
    will do for now because the one alternative solution (getting
    V_CalcIntermissionRefdef to poke directly at entity states) is not
    something I particularly want to do.

 nq/source/cl_ents.c |    9 ++++++++-
 1 file changed, 8 insertions(+), 1 deletion(-)

commit 372defc
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jul 21 13:58:54 2012 +0900

    Support up to 128 dlights.
    
    More or less as per MH's tut, but really just finishing something that
    should have been done years ago.

 include/QF/model.h                       |    4 +++-
 libs/video/renderer/gl/gl_lightmap.c     |    4 ++--
 libs/video/renderer/glsl/glsl_lightmap.c |    2 +-
 libs/video/renderer/r_light.c            |   30 +++++++++++++++++-------------
 libs/video/renderer/sw/sw_rsurf.c        |    2 +-
 libs/video/renderer/sw32/sw32_rsurf.c    |    2 +-
 6 files changed, 25 insertions(+), 19 deletions(-)

commit 106257d
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jul 20 16:17:26 2012 +0900

    Allow reconstructed builtins to be found by name.
    
    Certain versions of qcc (fteqcc comes to mind :P) strip the names from
    builtin functions. This breaks saved games that happen to have a builtin
    function in a saved function variable. The earlier builtin name
    reconstruction patch happened to fix the writing of save games for such
    progs, and this one fixes the reading.

 libs/gamecode/pr_builtins.c |    4 +++-
 libs/gamecode/pr_load.c     |    3 ++-
 2 files changed, 5 insertions(+), 2 deletions(-)

commit 1bc2080
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jul 18 14:51:53 2012 +0900

    Make noclipping players not touch triggers.

 nq/source/sv_cl_phys.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 1548495
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jul 18 14:50:49 2012 +0900

    Make con_speed 0 instant.
    
    Nice for recording, and should give more accurate timedemos.

 libs/console/client.c |   16 ++++++++++------
 1 file changed, 10 insertions(+), 6 deletions(-)

commit d73b504
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jul 18 10:46:59 2012 +0900

    Do not do any contents evaluation if not printing contents.
    
    Fixes a segfault when tracing progs caused by the recent entity number
    change.

 libs/gamecode/pr_debug.c |    5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

commit 8691a2f
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jul 18 10:30:58 2012 +0900

    Dump a stack trace when running out of edicts.

 libs/gamecode/pr_edict.c |    1 +
 1 file changed, 1 insertion(+)

commit 7d8b0f9
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jul 17 19:10:10 2012 +0900

    Correct the fog distance calculations.
    
    It turns out the pixel's z coord is correctly obtailed by
    gl_FragCoord.z/gl_FragCoord.w.

 libs/video/renderer/glsl/iqm.frag      |    2 +-
 libs/video/renderer/glsl/quakebsp.frag |    2 +-
 libs/video/renderer/glsl/quakemdl.frag |    2 +-
 libs/video/renderer/glsl/quakepar.frag |    2 +-
 libs/video/renderer/glsl/quakepnt.frag |    2 +-
 libs/video/renderer/glsl/quakeskb.frag |    2 +-
 libs/video/renderer/glsl/quakeski.frag |    2 +-
 libs/video/renderer/glsl/quakespr.frag |    2 +-
 libs/video/renderer/glsl/quaketrb.frag |    2 +-
 9 files changed, 9 insertions(+), 9 deletions(-)

commit c4309e7
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jul 17 19:08:36 2012 +0900

    Correct the fog blend calculation for transparency.
    
    The incoming pixel's alpha should not be affected by fog. This fixes the
    ugly square smoke particles in foggy maps.

 libs/video/renderer/glsl/iqm.frag      |    2 +-
 libs/video/renderer/glsl/quakebsp.frag |    2 +-
 libs/video/renderer/glsl/quakemdl.frag |    2 +-
 libs/video/renderer/glsl/quakepar.frag |    2 +-
 libs/video/renderer/glsl/quakepnt.frag |    2 +-
 libs/video/renderer/glsl/quakeskb.frag |    2 +-
 libs/video/renderer/glsl/quakeski.frag |    2 +-
 libs/video/renderer/glsl/quakespr.frag |    2 +-
 libs/video/renderer/glsl/quaketrb.frag |    2 +-
 9 files changed, 9 insertions(+), 9 deletions(-)

commit 0e7e45b
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jul 17 17:30:16 2012 +0900

    Redo the io_mesh_qfmdl packaging.
    
    It is cross-platform, after all.

 tools/build_scripts/qf-release  |    6 +++++-
 tools/build_scripts/qf-win32.py |   10 ----------
 2 files changed, 5 insertions(+), 11 deletions(-)

commit fa61d2d
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jul 17 17:21:56 2012 +0900

    Delete old io_mesh_qfmdl zips too.

 tools/build_scripts/qf-release |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c66e437
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jul 17 17:12:34 2012 +0900

    Enable shadows for grenades.
    
    Now that shadevector is correctly transformed, grenade shadows aren't quite
    so silly.

 libs/models/model.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a7327ac
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jul 17 17:10:48 2012 +0900

    Set up shadevector for gl alias models.
    
    The setup had been lost at some stage, thus shadows were always directly
    under the entity. Unlike the original quake shadow code, the vector is
    correctly transformed into the entity's space.

 libs/video/renderer/gl/gl_mod_alias.c |    8 ++++++++
 1 file changed, 8 insertions(+)

commit fbc0ad5
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jul 17 16:11:42 2012 +0900

    Implement gl shadows for pure triangle alias models.
    
    I finally found the cause of Despair's gl shadows non-rendering+segfault...
    the shadow code expected triangle fans and strips but was getting simple
    triangles. Oops.

 libs/video/renderer/gl/gl_mod_alias.c |   42 ++++++++++++++++++++++++++++++++-
 1 file changed, 41 insertions(+), 1 deletion(-)

commit 9d1e692
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jul 17 14:43:09 2012 +0900

    Update for 0.6.99 beta 2

 NEWS |   21 +++++++++++++++++++++
 1 file changed, 21 insertions(+)

commit 3c04de1
Author: Sander van Dijk <svdijk@sourceforge.net>
Date:   Mon Jul 16 15:05:36 2012 +0200

    Better default vid_gamma value.

 libs/video/targets/vid.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 4725d5a
Author: Sander van Dijk <svdijk@sourceforge.net>
Date:   Mon Jul 16 12:53:40 2012 +0200

    Add a "Prev. weapon" menu option.

 ruamoko/cl_menu/controls_o.r |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 134f9b0
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jul 16 07:36:31 2012 +0900

    Force pr_keys.c to get linked in.
    
    Nothing in the main program currently uses Key_Progs_Init, so the object
    file wasn't getting pulled into the link. However, it's quite necessary for
    the client console plugin :/

 libs/video/targets/keys.c |    4 ++++
 1 file changed, 4 insertions(+)

commit 8333e65
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jul 15 22:32:06 2012 +0900

    Fix non-static sw renderer for 32bit x86.
    
    Yet another undefined symbol caused by iqm support. This time caused by
    asm/not asm.

 libs/video/renderer/sw/sw_riqm.c |    4 ++++
 1 file changed, 4 insertions(+)

commit 087908a
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jul 14 15:01:55 2012 +0900

    Link in the keys progs builtins.

 tools/qwaq/qwaq-bi.c |    1 +
 1 file changed, 1 insertion(+)

commit 0f34ab8
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jul 14 14:59:44 2012 +0900

    Move pr_keys.c from console to video/targets.
    
    It wasn't very accessible/usable in the client console plugin.

 libs/console/Makefile.am       |    2 +-
 libs/console/pr_keys.c         |  147 ----------------------------------------
 libs/video/targets/Makefile.am |    2 +-
 libs/video/targets/pr_keys.c   |  147 ++++++++++++++++++++++++++++++++++++++++
 4 files changed, 149 insertions(+), 149 deletions(-)

commit f1854c8
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jul 14 10:27:48 2012 +0900

    Fix some doxygen warnings and errors.

 doc/ruadoc-layout.xml           |    1 -
 ruamoko/include/gui/InputLine.h |    7 ++++---
 2 files changed, 4 insertions(+), 4 deletions(-)

commit 37dda1e
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jul 14 10:20:10 2012 +0900

    Update for doxygen 1.8.1

 ruamoko/Doxyfile.in |  507 ++++++++++++++++++++++++++++++++++++++++-----------
 1 file changed, 401 insertions(+), 106 deletions(-)

commit 97c87cf
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jul 14 09:06:04 2012 +0900

    Initial checkin of the qwaq mini-engine.

 config.d/build_control.m4 |    3 +
 tools/qwaq/Makefile.am    |   27 ++++++-
 tools/qwaq/qwaq-bi.c      |  196 +++++++++++++++++++++++++++++++++++++++++++++
 tools/qwaq/qwaq.c         |  192 ++++++++++++++++++++++++++++++++++++++++++++
 tools/qwaq/qwaq.h         |    1 +
 5 files changed, 418 insertions(+), 1 deletion(-)

commit f9c6eac
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jul 15 07:30:17 2012 +0900

    Really fix sw32 renderer loading.
    
    It seems I never tested the sw32 renderer in a non-static build since I put
    in IQM support.

 libs/video/renderer/sw32/namehack.h    |    1 +
 libs/video/renderer/sw32/sw32_ralias.c |    2 +-
 libs/video/renderer/sw32/sw32_riqm.c   |   29 ++++++++++++++++-------------
 3 files changed, 18 insertions(+), 14 deletions(-)

commit 2f49a66
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jul 15 06:57:11 2012 +0900

    Make "serverinfo key" display the value for the key.
    
    localinfo, too. From mvdsv.

 qw/source/sv_ccmds.c |   74 ++++++++++++++++++++++++++++++++++----------------
 1 file changed, 50 insertions(+), 24 deletions(-)

commit d9288c0
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jul 14 20:16:45 2012 +0900

    Don't double-draw the bindings menus.

 ruamoko/cl_menu/controls_o.r |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit fd6b5ed
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jul 14 19:48:57 2012 +0900

    Don't set triangle draw type in sw32 iqm renderer.
    
    It's not used and causes link errors (I never noticed on my system).

 libs/video/renderer/sw32/sw32_riqm.c |    2 --
 1 file changed, 2 deletions(-)

commit b612527
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jul 14 19:00:11 2012 +0900

    Fix the mis-handling of the progs.dat line in preprogs.src
    
    Gah, must have lost a line at some stage. Also, handle line number
    directives.

 tools/qfcc/source/qfpreqcc |    8 +++++---
 1 file changed, 5 insertions(+), 3 deletions(-)

commit 7444371
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jul 14 17:47:34 2012 +0900

    Disable bolding for special chars.
    
    If an escape sequence is used to access a char, the the programmer probably
    wanted that char, regardless of the current bolding mode.

 tools/qfcc/source/strpool.c |   61 +++++++++++++++++++++++++++++++------------
 1 file changed, 45 insertions(+), 16 deletions(-)

commit 3b81416
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jul 14 17:18:01 2012 +0900

    Fix a bunch of continue vs break issues.

 tools/qfcc/source/strpool.c |   26 ++++++++++++++++----------
 1 file changed, 16 insertions(+), 10 deletions(-)

commit 1364bff
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jul 14 16:32:48 2012 +0900

    Add an extended mode to qfcc.
    
    Extended mode allows extra keywords (switch, for, etc) that are compatible
    with v6 progs.

 tools/qfcc/doc/man/qfcc.1    |    3 +++
 tools/qfcc/include/options.h |    2 +-
 tools/qfcc/source/options.c  |   16 +++++++++++++---
 tools/qfcc/source/qc-lex.l   |   38 +++++++++++++++++++-------------------
 4 files changed, 36 insertions(+), 23 deletions(-)

commit 4055d9a
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jul 14 11:47:26 2012 +0900

    Add support for \s escapes to qfcc.
    
    I guess \s is an fteqcc extention for toggling bold characters. At the
    request of freewill.

 tools/qfcc/doc/man/qfcc.1   |    2 ++
 tools/qfcc/source/strpool.c |    3 +++
 2 files changed, 5 insertions(+)

commit 45311e5
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jul 14 08:07:41 2012 +0900

    Fix an off-by-one error in qwe's substr implementation.

 qw/source/sv_pr_qwe.c |   10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit fcf7150
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jul 14 07:32:53 2012 +0900

    Remove some old renderer specific files.

 libs/video/targets/vid_glx.c   |  231 --------------------------------------
 libs/video/targets/vid_sdl32.c |  238 ----------------------------------------
 libs/video/targets/vid_sgl.c   |  188 -------------------------------
 3 files changed, 657 deletions(-)

commit b1a0086
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jul 13 19:26:27 2012 +0900

    Fix the "missing" grenades in nq demos (gl).
    
    Actually, they were microscoping (scale 0!)

 nq/source/cl_parse.c |   18 +++++++++---------
 1 file changed, 9 insertions(+), 9 deletions(-)

commit e657390
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jul 13 18:14:50 2012 +0900

    Undo a mv -> cp change.
    
    Turns out it wasn't quite what I thought it was. *shrug* :)

 tools/build_scripts/qf-release |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit fe26a55
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jul 13 17:03:11 2012 +0900

    Package the mdl import/export addon.

 tools/build_scripts/qf-release  |    3 ++-
 tools/build_scripts/qf-win32.py |   10 ++++++++++
 2 files changed, 12 insertions(+), 1 deletion(-)

commit b1c1bf5
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jul 13 15:22:53 2012 +0900

    Unlimited signon buffers.
    
    Turns out it wasn't really necessary for qte2m1, but still, nice to nuke
    another limit.

 qw/include/server.h |    5 +++--
 qw/source/sv_init.c |   47 ++++++++++++++++++++++++++++++++++++-----------
 2 files changed, 39 insertions(+), 13 deletions(-)

commit 16520e4
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jul 13 14:41:10 2012 +0900

    Get "cancel" working correctly.
    
    First, it was segging due to closing the file handle prematurely, then it
    wasn't deleting the mvd (only the text).

 qw/source/sv_demo.c |   53 +++++++++++++++++++--------------------------------
 1 file changed, 20 insertions(+), 33 deletions(-)

commit 02de92a
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jul 13 11:43:37 2012 +0900

    Use "return" strings instead of temp strings for qwe.
    
    QF's temp strings have very different semantics. Return strings are the
    ones with the same semantics (only 16 slots instead of 8 in mvdsv:)

 qw/source/sv_pr_qwe.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 2dea74c
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jul 13 11:12:31 2012 +0900

    Get the client entnum from the right place.
    
    When trying to get the client ent num from an entity's owner, it helps if
    the owner field is used :P Fixes a segfault firing nails (and sometimes
    rockets) in freewill's coop mod. Hopefully fixes his "trigger in clipping
    list" bug.

 qw/source/world.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a9adc94
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jul 13 10:22:25 2012 +0900

    Force builtin function descriptors to have a name.
    
    That is, the descriptors loaded from the progs file. Some compilers (eg,
    fteqcc :P) strip builtin names from the progs, which makes debugging
    difficult.

 libs/gamecode/pr_builtins.c |    2 ++
 libs/gamecode/pr_load.c     |    2 +-
 2 files changed, 3 insertions(+), 1 deletion(-)

commit 1100596
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jul 13 07:59:50 2012 +0900

    Include the mdl import/export addon in the distribution.
    
    A tad embarrasing...

 tools/Makefile.am |    4 ++++
 1 file changed, 4 insertions(+)

commit 6fe3210
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jul 12 19:33:51 2012 +0900

    Do a bit of bound() usage auditing.
    
    While these seem to be mostly harmless, having function calls in the
    bounded value can be nasty.

 libs/video/renderer/gl/gl_fog.c     |   47 +++++++++++++++++++---------------
 libs/video/renderer/glsl/glsl_fog.c |   48 ++++++++++++++++++++---------------
 qw/source/cl_pred.c                 |    7 ++---
 3 files changed, 58 insertions(+), 44 deletions(-)

commit a822a68
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jul 12 18:15:45 2012 +0900

    Fix the inverted lighting for sw32.
    
    LordHavoc had made lighting positive for sw32, but I had done something in
    the plugin code that broke that (probably something to do with the
    colormap loading). Going back to id's original code fixes the issue.

 libs/video/renderer/sw32/sw32_rsurf.c |   14 ++++++--------
 1 file changed, 6 insertions(+), 8 deletions(-)

commit 4a9d18a
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jul 11 14:42:50 2012 +0900

    Slight rpm package cleanup to match debian.

 RPM/quakeforge.spec.in |   40 +++++++++++++---------------------------
 1 file changed, 13 insertions(+), 27 deletions(-)

commit 1369e9e
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jul 11 14:32:36 2012 +0900

    Fix rpm package building.

 RPM/quakeforge.spec.in |  147 +++++++++++++-----------------------------------
 debian/Makefile.am     |    8 +--
 2 files changed, 44 insertions(+), 111 deletions(-)

commit f467e2d
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jul 11 13:38:27 2012 +0900

    Use sed's in-place option.

 tools/build_scripts/qf-release |    3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit 00215f4
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jul 11 13:37:57 2012 +0900

    Debian package building fixes.

 debian/changelog                  |   16 +++++-----
 debian/control                    |   60 +++++++++++++++++--------------------
 debian/qfcc.install               |    2 +-
 debian/quakeforge-common.install  |    4 +--
 debian/quakeforge-dev.install     |    6 ++--
 debian/quakeforge-gl.install      |    1 +
 debian/quakeforge-glsl.install    |    1 +
 debian/quakeforge-glx.install     |    2 --
 debian/quakeforge-libs-gl.install |    2 --
 debian/quakeforge-libs-sw.install |    2 --
 debian/quakeforge-servers.install |    2 +-
 debian/quakeforge-sgl.install     |    2 --
 debian/quakeforge-sw.install      |    1 +
 debian/quakeforge-sw32.install    |    1 +
 debian/rules                      |   38 +++++++++++------------
 15 files changed, 64 insertions(+), 76 deletions(-)

commit 086d811
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jul 11 10:34:30 2012 +0900

    Update for 0.6.99 beta1.
    
    Yeah, I decided it's time to think about 0.7 :)

 NEWS |   50 +++++++++++++++++++++++++++++++++++++++++++++++---
 1 file changed, 47 insertions(+), 3 deletions(-)

commit 12319cf
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jul 11 08:12:57 2012 +0900

    Revert "Slightly reducde the number of calls to glUniformMatrix4fv."
    
    This reverts commit e170f4ee75ac8263336d1a0960b975fee1e42a03.
    
    It turns out I messed up something in the patch. I noticed the problem
    while playing digs04.bsp: many sub-model surfaces, particularly those with
    animated textures, were not being transformed correctly. As this patch did
    not make a large performance difference, it's probably better to just
    revert it. I might revisit it later.

 libs/video/renderer/glsl/glsl_bsp.c |   12 +++++-------
 1 file changed, 5 insertions(+), 7 deletions(-)

commit ede65fb
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jul 9 15:56:51 2012 +0900

    Use the correct source for the backtile width/height.
    
    Yay, no more garbage on the screen :)

 libs/video/renderer/glsl/glsl_draw.c |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 5014825
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jul 9 15:11:03 2012 +0900

    Fix the backtile for glsl.
    
    Since the backtile is loaded into a scrap and used as a subtexture, we
    can't use GL's texture wrapping, thus do the wrapping ourselves. There are
    some minor issues with the wrong part of the scrap being drawn: need to
    investigate where the bug is (vrect, make_quad, etc).

 libs/video/renderer/glsl/glsl_draw.c |   36 ++++++++++++++++++++++++++++++----
 1 file changed, 32 insertions(+), 4 deletions(-)

commit 99e050e
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jul 9 15:10:27 2012 +0900

    Found yet another build dependency (docs).

 INSTALL |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 6e0907a
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jul 9 15:07:34 2012 +0900

    Delay the "too many entities" check.
    
    Rather than checking the raw edict count in the entities file against the
    progs' max_edicts, check the allocated entity's number. This allows loading
    of sophisticated maps (eg, digs04) that prune many of their entities.

 libs/gamecode/pr_parse.c |    7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

commit ce16750
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jul 9 15:06:42 2012 +0900

    Cache the max_edicts value in the progs struct.
    
    Makes checks a little easier.

 include/QF/progs.h       |    1 +
 libs/gamecode/pr_edict.c |    3 +--
 libs/gamecode/pr_load.c  |    1 +
 3 files changed, 3 insertions(+), 2 deletions(-)

commit 0aac004
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jul 9 15:04:12 2012 +0900

    Rearrange the edict related fields of progs_t.

 include/QF/progs.h |   17 ++++++++++-------
 1 file changed, 10 insertions(+), 7 deletions(-)

commit e91b06a
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jul 9 15:02:49 2012 +0900

    Better name for the edict count parameter to PR_LoadProgsFile.

 include/QF/progs.h      |   11 ++++++-----
 libs/gamecode/pr_load.c |    8 ++++----
 2 files changed, 10 insertions(+), 9 deletions(-)

commit fc88c82
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jul 6 19:54:25 2012 +0900

    Disable fbdev for now.
    
    By default, anyway. It doesn't work and only distracts users.

 config.d/fbdev.m4 |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 3726001
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jul 8 16:52:13 2012 +0900

    Acutally use the vertex colors for alias models.
    
    Thanks to Spirit trying QF on nvidia drivers, the missing attributes were
    found. Now he shouldn't get gl errors :)

 libs/video/renderer/glsl/quakemdl.frag |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 7b32428
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jul 8 07:06:29 2012 +0000

    Add a missing dependency to INSTALL
    
    The joys of building a fresh system... :)

 INSTALL |    1 +
 1 file changed, 1 insertion(+)

commit a6d9f5d
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jul 6 12:35:50 2012 +0900

    Fix a parallel make issue.

 libs/video/targets/Makefile.am |    1 +
 1 file changed, 1 insertion(+)

commit 20ad504
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jul 6 10:53:24 2012 +0900

    Correct the size adjustment for qwe's newstr.
    
    It seems the correct interpretation is that the size parameter includes the
    trailing 0 (going by mvdsv source).

 qw/source/sv_pr_qwe.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d4f4e45
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jul 6 10:44:29 2012 +0900

    Fix the bogus loading plaque when disconnected (nq).

 nq/source/cl_main.c |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit a558f1b
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jul 6 10:39:28 2012 +0900

    Re-enable the location marker code.
    
    Drawing is controlled via the cl_draw_locs command. Entities are still
    drawn, but that might not be such a bad thing after all.

 qw/include/client.h |    1 +
 qw/source/cl_ents.c |    7 +++----
 qw/source/cl_main.c |    3 +++
 3 files changed, 7 insertions(+), 4 deletions(-)

commit dbbd6f4
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jul 6 10:18:05 2012 +0900

    Fix a couple of missing particle function pointers.
    
    Discovered while getting the location markers working again.

 libs/video/renderer/gl/gl_dyn_part.c      |    8 ++++++++
 libs/video/renderer/glsl/glsl_particles.c |    8 ++++++++
 libs/video/renderer/sw/sw_rpart.c         |    2 ++
 libs/video/renderer/sw32/sw32_rpart.c     |    2 ++
 4 files changed, 20 insertions(+)

commit 3519931
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jul 6 08:29:21 2012 +0900

    Limit beams to one per entity.
    
    Note that this is only a soft-limit and prevents excessive beams when only
    one is expected. If more beams are desirned, just use 0 for the entity
    number.

 nq/source/cl_tent.c |   18 +++++++++++++-----
 qw/source/cl_tent.c |   18 +++++++++++++-----
 2 files changed, 26 insertions(+), 10 deletions(-)

commit 66ef8e1
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jul 5 19:06:35 2012 +0900

    Fix the ghost entities in demo playback.
    
    Really, when cl_nodelta is in effect (eg, .qwd demo recording and thus
    playback). QW now uses the new shared entity state block as I'd intended.
    Thanks to the cleanup of ghost entities (ie, entities that have been
    removed but continue to be rendered), glsl overkill has gone from 157 to
    163 fps :)

 include/client/entities.h |    4 --
 include/qw/protocol.h     |    1 +
 nq/source/cl_ents.c       |    6 +-
 qw/include/client.h       |    3 +
 qw/source/cl_entparse.c   |   67 ++++++++++--------
 qw/source/cl_ents.c       |  172 ++++++++++++++++++++++++++++++++-------------
 6 files changed, 170 insertions(+), 83 deletions(-)

commit 428d57b
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jul 5 10:30:41 2012 +0900

    Don't attemt fullbright processing for an unavailable skin.
    
    In the end, it turns out this is the correct fix for the gl seg on
    overkill, because build_skin will correctly use the fully setup player skin
    if the glskin doesn't have a texture associated with it.

 libs/models/gl_skin.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 80bc0e9
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jul 1 11:36:47 2012 +0900

    Make nq and qw use the new entity state struct.
    
    This isn't really the best solution, but it does get things being shared
    with the minimum of fuss.

 include/client/entities.h |    2 ++
 libs/client/cl_entities.c |    4 ++--
 nq/include/client.h       |    1 -
 nq/source/cl_ents.c       |    8 ++++----
 nq/source/cl_parse.c      |    4 ++--
 qw/include/client.h       |    3 +--
 qw/source/cl_demo.c       |    2 +-
 qw/source/cl_entparse.c   |    5 +++--
 qw/source/cl_ents.c       |   10 ++++++----
 qw/source/cl_main.c       |    4 +---
 qw/source/cl_parse.c      |   15 ++++++++-------
 11 files changed, 30 insertions(+), 28 deletions(-)

commit dea2f48
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jun 28 19:18:14 2012 +0900

    Move entity_state_t into client/entities.h
    
    Also, start working on the shared entity manager.

 include/client/entities.h |   34 +++++++++++++++++++++++++++++++
 include/qw/protocol.h     |   26 +-----------------------
 libs/client/cl_entities.c |   49 +++++++++++++++++++++++++++++++++++++++++++++
 nq/include/protocol.h     |   19 +-----------------
 4 files changed, 85 insertions(+), 43 deletions(-)

commit b65c41e
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jun 28 09:33:23 2012 +0900

    Move the colormod lookup table into a new lib.
    
    libQFclient is now here :) The first shared code is the lookup table.

 config.d/ac_config_files.m4 |    1 +
 include/Makefile.am         |    2 +
 include/client/entities.h   |   38 ++++++
 libs/Makefile.am            |    2 +-
 libs/client/Makefile.am     |   11 ++
 libs/client/cl_entities.c   |  293 +++++++++++++++++++++++++++++++++++++++++++
 nq/include/client.h         |    3 +-
 nq/source/Makefile.am       |    3 +-
 nq/source/cl_ents.c         |  259 --------------------------------------
 qw/include/client.h         |    2 +
 qw/source/Makefile.am       |    3 +-
 qw/source/cl_ents.c         |   12 +-
 12 files changed, 355 insertions(+), 274 deletions(-)

commit 49f7d1a
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jul 3 20:07:18 2012 +0900

    Fix the bogus entity scales in the gl render.
    
    It seems none of the other renderers support entity scale...

 nq/source/cl_ents.c  |    2 +-
 nq/source/cl_parse.c |    3 +++
 2 files changed, 4 insertions(+), 1 deletion(-)

commit ef9e8d0
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jul 3 18:20:32 2012 +0900

    Avoid some unnecessary state changes.
    
    Doesn't make much difference but it doesn't hurt.

 libs/video/renderer/glsl/glsl_main.c      |   48 +++++++++++++----------------
 libs/video/renderer/glsl/glsl_particles.c |    2 +-
 2 files changed, 22 insertions(+), 28 deletions(-)

commit ee1cb24
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jul 3 16:08:12 2012 +0900

    Move the call to R_SetFrustum to gl_R_SetupFrame.
    
    This was meant to be part of the previous commit, but I forgot to write the
    file :P

 libs/video/renderer/gl/gl_rmain.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit a8e0bca
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jul 3 15:57:33 2012 +0900

    Call R_SetFrustum in all renderers.
    
    It turns out glsl, sw and sw32 weren't getting any benefit from R_CullBox
    because the frustum wasn't setup :P. Get another 8% out of bigass1
    (174->184fps). bigass1 now runs 2x as fast as it did before I started this
    optimisation run :)

 include/r_local.h                     |    1 +
 libs/video/renderer/gl/gl_rmain.c     |   40 ---------------------------------
 libs/video/renderer/glsl/glsl_alias.c |    5 +++--
 libs/video/renderer/glsl/glsl_main.c  |    1 +
 libs/video/renderer/r_main.c          |   40 +++++++++++++++++++++++++++++++++
 libs/video/renderer/sw/sw_rmisc.c     |    1 +
 libs/video/renderer/sw32/sw32_rmisc.c |    1 +
 7 files changed, 47 insertions(+), 42 deletions(-)

commit e58cd75
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jul 3 15:27:48 2012 +0900

    Bound r_maxdlights properly.
    
    QF's implementation doesn't support more than 32 dlights (32 bit int).

 libs/video/renderer/r_light.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit eefefb7
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jul 3 14:45:16 2012 +0900

    Rename char_queue to draw_queue.

 libs/video/renderer/glsl/glsl_draw.c |   24 +++++++++++-------------
 1 file changed, 11 insertions(+), 13 deletions(-)

commit b25de4d
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jul 3 13:38:35 2012 +0900

    Rewrite the 2d code to use a scrap.
    
    This severely reduces the calles to BindTexture, and more importantly,
    glUseProgram, EnableVertexAttribArray etc. The biggest changes are:
    
     o  icons and text are all in the one giant texture
     o  icons and text are mixed in the one queue
    
    This gave ~9% speedup for bigass1 (159->174fps).

 include/QF/GLSL/qf_draw.h              |    1 +
 libs/video/renderer/glsl/glsl_draw.c   |  332 ++++++++++++++------------------
 libs/video/renderer/glsl/glsl_screen.c |    1 +
 3 files changed, 151 insertions(+), 183 deletions(-)

commit df35b22
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jul 3 12:10:24 2012 +0900

    Parameterize the linear filtering of scrap textures.

 include/QF/GLSL/qf_textures.h            |    2 +-
 libs/video/renderer/glsl/glsl_lightmap.c |    2 +-
 libs/video/renderer/glsl/glsl_textures.c |   12 ++++++++----
 3 files changed, 10 insertions(+), 6 deletions(-)

commit e170f4e
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jul 3 10:57:35 2012 +0900

    Slightly reducde the number of calls to glUniformMatrix4fv.
    
    It doesn't make a big difference to bigass1 (yet ?), but it does clean up
    apitrace a little.

 libs/video/renderer/glsl/glsl_bsp.c |   12 +++++++-----
 1 file changed, 7 insertions(+), 5 deletions(-)

commit 1a1b406
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jul 2 20:59:03 2012 +0900

    Fix timedemo in qw.
    
    td_lastframe needs to be a float in qw. It seems the meaning changed from
    nq to qw, but that's rather bogus. I need to look further into juat what's
    going on, but at least now timedemo works.

 qw/include/client.h |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 1a6b56b
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jul 2 20:01:28 2012 +0900

    Call glTexSubImage2D only once per frame.
    
    Instead of once per surface... ouch. Gives about 20% speed boost on demo1
    (154.7->185.7)

 include/QF/GLSL/qf_lightmap.h            |    1 +
 include/QF/GLSL/qf_textures.h            |    3 +-
 libs/video/renderer/glsl/glsl_bsp.c      |    1 +
 libs/video/renderer/glsl/glsl_draw.c     |   10 +++++-
 libs/video/renderer/glsl/glsl_lightmap.c |   10 ++++--
 libs/video/renderer/glsl/glsl_textures.c |   55 +++++++++++++++++++++++++-----
 6 files changed, 68 insertions(+), 12 deletions(-)

commit 602cd84
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jul 2 19:24:39 2012 +0900

    FIx some player color issues found by valgrind.

 nq/source/cl_ents.c  |    4 ++--
 nq/source/cl_parse.c |    2 ++
 2 files changed, 4 insertions(+), 2 deletions(-)

commit 8fa92bf
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jul 2 16:49:23 2012 +0900

    Add 32 button support to sdl and win as well.
    
    The world isn't x11 (much as I'd like it to be)

 libs/video/targets/in_sdl.c |    6 +++---
 libs/video/targets/in_win.c |   10 +++++-----
 2 files changed, 8 insertions(+), 8 deletions(-)

commit 7cd8806
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jul 2 16:33:57 2012 +0900

    Add support for up to 32 mouse buttons.
    
    My new mouse reports only up to 9 (skipping 6 and 9, it seems), but I
    /have/ seen 32 button mice...

 include/QF/keys.h           |   25 +++++++++++++++++++++++++
 libs/video/targets/in_x11.c |   10 ++++------
 libs/video/targets/keys.c   |   25 +++++++++++++++++++++++++
 3 files changed, 54 insertions(+), 6 deletions(-)

commit 3d56084
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jul 1 08:15:54 2012 +0900

    Fix a memory leak.
    
    Entity/Edict leafs weren't being freed when the entity was freed.

 qw/source/world.c |    1 +
 1 file changed, 1 insertion(+)

commit 7573c38
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jun 30 20:20:15 2012 +0900

    Create qfspritegen based on id's sprgen.
    
    No guarantees it works, but it should be able to convert a bunch of pcx
    images into a sprite.

 config.d/ac_config_files.m4   |    1 +
 config.d/build_control.m4     |   15 +-
 tools/Makefile.am             |    2 +-
 tools/qfspritegen/Makefile.am |   14 ++
 tools/qfspritegen/spritegen.c |  530 +++++++++++++++++++++++++++++++++++++++++
 5 files changed, 558 insertions(+), 4 deletions(-)

commit 4da3be5
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jun 29 22:13:20 2012 +0900

    Get a minor speed gain in glsl bsp rendering.
    
    About 4% (99.5 to 104.4) from not calling VertexAttrib4fv or BindTexture
    when not necessary.

 libs/video/renderer/glsl/glsl_bsp.c |   27 +++++++++++++++++----------
 1 file changed, 17 insertions(+), 10 deletions(-)

commit 249eb8e
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jun 29 20:26:27 2012 +0900

    Bah, more segfaults :P

 qw/source/cl_cam.c |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit cf48d5a
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jun 29 18:44:42 2012 +0900

    Make "playdemo" without args replay the last demo.

 nq/source/cl_demo.c |    9 ++++++++-
 qw/source/cl_demo.c |    8 +++++++-
 2 files changed, 15 insertions(+), 2 deletions(-)

commit 7eaa6b7
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jun 29 17:59:30 2012 +0900

    Spawn a green dlight for chatting players.
    
    It's not very big, and shows as green only in gl, but at least there's some
    indication until I sort out icons etc.

 qw/include/client.h  |    1 +
 qw/source/cl_ents.c  |   12 ++++++++++--
 qw/source/cl_parse.c |    2 ++
 3 files changed, 13 insertions(+), 2 deletions(-)

commit 891500a
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jun 29 17:58:15 2012 +0900

    Fix yet another segfault.
    
    Yet more bugs related to the change to using info key direct access :P

 qw/source/cl_main.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 3924186
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jun 29 17:56:36 2012 +0900

    Pass the chat info key onto clients.
    
    The server's info key filtering is "explicit permit".

 qw/source/sv_main.c |    1 +
 1 file changed, 1 insertion(+)

commit baa0948
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jun 29 17:16:51 2012 +0900

    Set the chat info key to the appropriate value on key_dest change.

 qw/include/cl_chat.h |    1 -
 qw/source/cl_chat.c  |   44 +++++++++++++++++++++++++++++++++-----------
 2 files changed, 33 insertions(+), 12 deletions(-)

commit 603fe92
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jun 29 17:16:19 2012 +0900

    Add a callback for when key_dest is set.

 include/QF/keys.h         |    1 +
 libs/video/targets/keys.c |    3 +++
 2 files changed, 4 insertions(+)

commit 5214694
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jun 29 14:40:57 2012 +0900

    First part of chat info support.
    
    The idea is to allow other clients know when the player is chatting,
    fiddling with the console, etc.

 qw/include/cl_chat.h |    1 +
 qw/include/client.h  |    1 +
 qw/source/cl_chat.c  |   18 ++++++++++++++++--
 3 files changed, 18 insertions(+), 2 deletions(-)

commit a3fe8d5
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jun 29 15:13:03 2012 +0900

    Don't broadcast name changes for spectators.
    
    At the request of freewill. There might be a better mechanism, though...

 qw/source/sv_main.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 0d9d777
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jun 29 11:15:11 2012 +0900

    Fix Win32 package building for recent changes.

 tools/build_scripts/qf-release  |    2 ++
 tools/build_scripts/qf-win32.py |   59 +++++++++------------------------------
 2 files changed, 15 insertions(+), 46 deletions(-)

commit 3406cad
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jun 29 10:49:21 2012 +0900

    Many distcheck fixes.
    
    Yay, bitrot :P

 include/Makefile.am                  |   23 +++++++++++++----------
 include/QF/Makefile.am               |    8 ++++----
 libs/video/renderer/gl/Makefile.am   |    2 +-
 libs/video/renderer/glsl/Makefile.am |    2 +-
 libs/video/renderer/sw32/Makefile.am |    2 +-
 libs/video/targets/Makefile.am       |    2 +-
 qw/include/Makefile.am               |    2 +-
 7 files changed, 22 insertions(+), 19 deletions(-)

commit edf4ea8
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jun 28 18:01:17 2012 +0900

    Update the doxygen config for 1.8

 doc/quakeforge.dox.conf.in |  570 +++++++++++++++++++++++++++++++++-----------
 1 file changed, 432 insertions(+), 138 deletions(-)

commit bf00009
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jun 28 16:12:06 2012 +0900

    A touch of whitespace cleanup.

 qw/source/sv_user.c |    5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 276b6f9
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jun 28 16:03:56 2012 +0900

    Add support for sv_antilag (from fteqw).
    
    I'm not 100% certain it actually works, but it doesn't seem to have broken
    anything :)

 include/world.h        |    5 +++
 qw/include/server.h    |   48 ++++++++++++++++--------
 qw/source/sv_phys.c    |   21 ++++++++---
 qw/source/sv_pr_cmds.c |    3 ++
 qw/source/sv_pr_cpqw.c |    3 ++
 qw/source/sv_user.c    |   27 +++++++++++++
 qw/source/world.c      |   98 +++++++++++++++++++++++++++++++++++++++++++-----
 7 files changed, 175 insertions(+), 30 deletions(-)

commit 40da338
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jun 28 15:09:49 2012 +0900

    Change SV_ClipToLinks's clip.type to be flags.
    
    More feature swiping from fte: the flags are needed for antilag, but I
    thought I'd grab the related features (mainly linking) while I was at it.

 include/world.h        |    6 +++++
 qw/include/server.h    |    6 -----
 qw/source/sv_pr_cpqw.c |   57 ++++++++++++++++++++++++++++++++++++++++++++++++
 qw/source/world.c      |   26 ++++++++++++++--------
 4 files changed, 80 insertions(+), 15 deletions(-)

commit 64bfde7
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jun 28 15:07:03 2012 +0900

    Allow extension builins to override standard builtins.

 qw/source/sv_progs.c |   11 +++++++++--
 1 file changed, 9 insertions(+), 2 deletions(-)

commit 3626f34
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jun 28 14:43:29 2012 +0900

    Add entnum to edict_t for faster edict->num.
    
    Swiped from fte :)

 include/QF/progs.h   |    3 ++-
 nq/source/sv_progs.c |    1 +
 qw/source/sv_progs.c |    1 +
 3 files changed, 4 insertions(+), 1 deletion(-)

commit 0d8cd72
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jun 28 14:36:05 2012 +0900

    Fix colormap and colormod.
    
    Fitzquake doesn't support colormod, so it needs to be copied from baseline
    at all times.
    
    colormap was just a thinko/typo.

 nq/source/cl_ents.c  |    6 +++---
 nq/source/cl_parse.c |    1 +
 2 files changed, 4 insertions(+), 3 deletions(-)

commit e41d269
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jun 26 20:46:46 2012 +0900

    Fix the messed up smoke trails.

 nq/source/cl_ents.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit d15ec2c
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jun 26 20:45:47 2012 +0900

    Fix the funny angle lerp for grenades etc.

 nq/source/cl_ents.c  |    6 ++++++
 nq/source/cl_parse.c |    4 ++--
 2 files changed, 8 insertions(+), 2 deletions(-)

commit 53212de
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jun 26 20:38:15 2012 +0900

    Fix the funky roll angle glitch.
    
    Introduced in the cl_view merging :/

 nq/source/cl_view.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f962db1
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jun 26 15:12:17 2012 +0900

    Nuke cl_entity_state_t.
    
    It was a hack to help with cleaning up the renderer, but is now in the way
    of merging the clients.
    
    This happens to fix the position/angle lerping, though angles behave a
    little oddly.

 nq/include/client.h  |   27 +---
 nq/source/cl_ents.c  |  365 +++++++++++++++++++++++++++++++++++++++++++++-----
 nq/source/cl_parse.c |  191 ++++++++++----------------
 3 files changed, 407 insertions(+), 176 deletions(-)

commit 6e5bc62
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jun 26 15:03:04 2012 +0900

    More client.h cleanup.

 include/qw/protocol.h |    2 +-
 nq/include/client.h   |   12 ++++------
 qw/include/client.h   |   62 +++++++++++++++++++++++--------------------------
 3 files changed, 34 insertions(+), 42 deletions(-)

commit 56f68cf
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jun 26 09:06:19 2012 +0900

    Nuke looptrack from nq's client_state_t.
    
    It's never actually used. The byte is still read from the network packet,
    of course.

 nq/include/client.h  |    2 +-
 nq/source/cl_parse.c |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 8584021
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jun 26 09:05:02 2012 +0900

    More client.h tidyup.
    
    Whitespace and shuffling fields around. Now diffing the two headers makes
    sense in client_static_t and client_state_t.

 nq/include/client.h |  138 ++++++++++++++++++------------------
 qw/include/client.h |  193 +++++++++++++++++++++++++--------------------------
 2 files changed, 160 insertions(+), 171 deletions(-)

commit f128aca
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jun 24 21:13:51 2012 +0900

    Nuke a FIXME.
    
    That was a rather evil hack, but what's worse is when I finally fixed the
    problem, I didn't fix the fixme :P

 nq/source/cl_main.c  |    2 +-
 nq/source/cl_parse.c |    3 ---
 qw/source/cl_main.c  |    2 +-
 qw/source/cl_parse.c |    4 ----
 4 files changed, 2 insertions(+), 9 deletions(-)

commit bcc1de3
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jun 26 11:06:59 2012 +0900

    Fix the missing health pickup sound on aerowalk.
    
    Caused by an out-by-one error thanks to the insane way the sound list is
    built. Came about when doing the model/sound list sanitation during the
    GLSL project, but this one was sneakier as it resulted only in a missing
    sound rather than a segfault.

 qw/source/cl_parse.c |    1 +
 1 file changed, 1 insertion(+)

commit 9b3f390
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jun 26 10:51:11 2012 +0900

    Make CL_ParseStartSoundPacket easier to read.
    
    Really just add a "bits" var from which to extract the info rather than
    overloading "channel".

 qw/source/cl_parse.c |   12 ++++++------
 1 file changed, 6 insertions(+), 6 deletions(-)

commit 9cb7e00
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jun 24 11:22:37 2012 +0900

    FIx the segfault on changing levels caused by ca_active changes.
    
    Host_Reconnect_f only set cls.signon to 0, so finding it as a place to
    tweak was not so trivial :P Now it calls CL_SetState to do the job properly
    :)

 nq/source/cl_main.c  |    2 ++
 nq/source/host_cmd.c |    4 +---
 nq/source/sv_ded.c   |    5 +++++
 3 files changed, 8 insertions(+), 3 deletions(-)

commit 415decb
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jun 23 20:54:55 2012 +0900

    Use memmove instead of strcpy when deleting chars.
    
    It seems recent(?) 64-bit strcpy implementations of strcpy don't work
    properly for overlapping regions even when moving down. Quite the
    surprise, as I thought that would always work. *shrug*

 libs/console/inputline.c |   11 ++++++-----
 1 file changed, 6 insertions(+), 5 deletions(-)

commit 7b231bc
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jun 23 19:43:22 2012 +0900

    Add support for /*..*/ comments to idparse

 libs/util/idparse.c |   10 ++++++++++
 1 file changed, 10 insertions(+)

commit 409604e
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jun 23 19:39:24 2012 +0900

    Fix some build errors that snuck in.

 nq/source/cl_ents.c |    2 +-
 qw/source/cl_ents.c |    3 +--
 2 files changed, 2 insertions(+), 3 deletions(-)

commit c7a6293
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jun 20 20:41:26 2012 +0900

    Make the logic around the call to CL_ModelEffects more sensible.

 nq/source/cl_ents.c |    3 ++-
 qw/source/cl_ents.c |    8 +++-----
 2 files changed, 5 insertions(+), 6 deletions(-)

commit 0dbdf6e
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jun 20 19:53:14 2012 +0900

    Factor out the extra entity effects code.
    
    NQ only (not applicable to QW). Makes the entity loop a little easier to
    read.

 nq/source/cl_ents.c |   46 ++++++++++++++++++++++++++--------------------
 1 file changed, 26 insertions(+), 20 deletions(-)

commit 2295c1e
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jun 20 08:03:57 2012 +0900

    Remove a dead field.

 nq/include/client.h |    1 -
 1 file changed, 1 deletion(-)

commit 608c309
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jun 20 08:02:29 2012 +0900

    Factor out model based particle effects.
    
    Moving them into a separate function both cleans up entity linking and
    makes things easier for csqc when it comes.

 nq/source/cl_ents.c |   61 ++++++++++++++++++++++-----------------
 qw/source/cl_ents.c |   79 ++++++++++++++++++++++++++++-----------------------
 2 files changed, 79 insertions(+), 61 deletions(-)

commit 8612696
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jun 20 08:01:32 2012 +0900

    Clean up entity_state_t diffs.

 include/qw/protocol.h |   15 +++++++--------
 nq/include/protocol.h |   22 ++++++++++++----------
 2 files changed, 19 insertions(+), 18 deletions(-)

commit ca1a5df
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jun 16 16:05:24 2012 +0900

    Fix the missing console prompt on demo stop.
    
    CL_StopPlayback was incorrectly calling Key_SetKeyDest with key_game. As
    CL_SetState calls Key_SetKeyDest with the appropriate parameter,
    CL_StopPlayback calling Key_SetKeyDest is actually redundate, so just
    change key_game_target back to IMT_0.

 nq/source/cl_demo.c |    3 +--
 qw/source/cl_demo.c |    3 +--
 2 files changed, 2 insertions(+), 4 deletions(-)

commit b0b07d0
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jun 16 13:15:48 2012 +0900

    Support demos recorded by qizmo.
    
    I guess it's just part of how qizmo works, but a few extra packets get into
    the demo before the packet with the serverdata svc :/ More checking needs
    to be done (only the initial connect packet is checked), but this works for
    now.

 qw/source/cl_demo.c |   11 +++++++++++
 1 file changed, 11 insertions(+)

commit 2897dc5
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jun 11 21:01:45 2012 +0900

    Frame-rate independent cshift fades.
    
    As per mh's post on inside3d.com. I don't see any difference, but it still
    fades well, so... :)
    http://forums.inside3d.com/viewtopic.php?f=12&t=4899

 include/QF/render.h |    2 ++
 nq/source/cl_view.c |   52 ++++++++++++++++++++++++++++++++-------------------
 qw/source/cl_view.c |   52 ++++++++++++++++++++++++++++++++-------------------
 3 files changed, 68 insertions(+), 38 deletions(-)

commit fc67f8c
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jun 8 20:07:31 2012 +0900

    Fix up some comments.
    
    Lowsy grammar and inaccurate info...

 nq/source/cl_demo.c |    3 +--
 qw/source/cl_demo.c |    2 +-
 2 files changed, 2 insertions(+), 3 deletions(-)

commit 3a1e065
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jun 8 20:06:32 2012 +0900

    Use Sys_DoubleTime instead of realtime for timedemos.
    
    Currently, realtime is not really real time thanks to demo_speed.

 nq/source/cl_demo.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 01466e4
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jun 7 08:14:47 2012 +0900

    Factor out the next packet check code.

 nq/source/cl_demo.c |   38 +++++++++++++++----------
 qw/source/cl_demo.c |   77 +++++++++++++++++++++++++++++----------------------
 2 files changed, 67 insertions(+), 48 deletions(-)

commit e047775
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jun 6 22:34:17 2012 +0900

    Factor out the demo packet reading.

 nq/source/cl_demo.c |   39 ++++++++++++++++++++++-----------------
 qw/source/cl_demo.c |   35 +++++++++++++++++++++--------------
 2 files changed, 43 insertions(+), 31 deletions(-)

commit cc1bf68
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jun 4 08:20:49 2012 +0900

    Dead code nukage.
    
    Commented out even in q1source :P

 nq/source/cl_demo.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 1a9fca5
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jun 4 08:20:00 2012 +0900

    Factor out the demotime get/rewind code.
    
    One step towards a tidier CL_GetDemoMessage :)

 qw/source/cl_demo.c |   76 +++++++++++++++++++++++++++------------------------
 1 file changed, 41 insertions(+), 35 deletions(-)

commit aa2a8e8
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jun 3 09:30:31 2012 +0900

    Mostly "merge" cl_screen.c.
    
    Down to protocol/networking differences.

 include/QF/screen.h            |    1 -
 libs/video/renderer/r_screen.c |    2 --
 nq/include/client.h            |    1 +
 nq/source/cl_main.c            |    1 +
 nq/source/cl_screen.c          |   24 ++++++++++++++++--------
 qw/include/client.h            |    2 ++
 qw/source/cl_screen.c          |   36 ++++++++++++++++++++++++------------
 7 files changed, 44 insertions(+), 23 deletions(-)

commit d37b85f
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jun 3 09:28:10 2012 +0900

    Split out the rss code into its own file.

 qw/source/Makefile.am |    6 ++--
 qw/source/cl_rss.c    |   93 +++++++++++++++++++++++++++++++++++++++++++++++++
 qw/source/cl_screen.c |   46 ------------------------
 3 files changed, 96 insertions(+), 49 deletions(-)

commit b2290d9
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jun 2 20:32:36 2012 +0900

    Nuke UNALIGNED_OK.
    
    It's not really necessary (and was effectively dead anyway).

 include/qw/bothdefs.h            |   10 +---------
 libs/video/renderer/sw/sw_rsky.c |   16 ----------------
 nq/include/game.h                |    6 ------
 3 files changed, 1 insertion(+), 31 deletions(-)

commit 8dc1961
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jun 2 19:46:57 2012 +0900

    Yet more diff noise reduction.

 nq/source/cl_view.c |   13 +++++++++----
 qw/source/cl_view.c |   16 ++++++++++------
 2 files changed, 19 insertions(+), 10 deletions(-)

commit c8e3cf0
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jun 2 14:14:07 2012 +0900

    Finish the "merge" of V_CalcBob.
    
    qw now uses cl.onground instead of pmove's onground (d'oh). nq now has a
    dummy spectator flag.

 nq/include/client.h |    2 ++
 nq/source/cl_view.c |    6 ++++++
 qw/source/cl_view.c |    3 +--
 3 files changed, 9 insertions(+), 2 deletions(-)

commit 84b5869
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jun 2 13:55:26 2012 +0900

    Make the view offsets make sense.
    
    Now the gun doesn't move around strangely when looking up and down with
    view offsets set.

 nq/source/cl_view.c |    8 +-------
 1 file changed, 1 insertion(+), 7 deletions(-)

commit c4d7b65
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jun 2 13:45:52 2012 +0900

    Much diff noise reduction in V_CalcRefdef.
    
    NQ's client-side onground now works similarly to QW's: -1 = not on ground,
    0+ = on ground (plane num?) but only 0 is used in NQ as the necessary
    information is not sent over the network.

 nq/include/client.h  |    2 +-
 nq/source/cl_parse.c |    4 ++--
 nq/source/cl_view.c  |    9 +++++----
 qw/source/cl_view.c  |    9 +++++----
 4 files changed, 13 insertions(+), 11 deletions(-)

commit 86ecab4
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jun 2 13:44:29 2012 +0900

    "Merge" V_ParseDamage

 nq/source/cl_view.c |    4 +---
 1 file changed, 1 insertion(+), 3 deletions(-)

commit 7dd400d
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jun 2 13:43:25 2012 +0900

    "Merge" V_CalcRoll.

 nq/source/cl_view.c |   19 +++++++++++--------
 qw/source/cl_view.c |   16 ++++++++--------
 2 files changed, 19 insertions(+), 16 deletions(-)

commit 301a643
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jun 2 13:22:02 2012 +0900

    Correct a comment, and more diff reduction.
    
    It turns out NQ "never" sent coordinats at 1/16 resolution: even q1source
    sends coords at 1/8 resolution. This gets rid of an annoying difference.

 nq/source/cl_view.c |    8 ++++----
 qw/source/cl_view.c |    6 +++---
 2 files changed, 7 insertions(+), 7 deletions(-)

commit 5bae5b3
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jun 1 08:20:09 2012 +0900

    Much diff noise reduction.

 nq/source/cl_view.c |   91 ++++++++++++++++++++++++---------------------------
 qw/source/cl_view.c |   48 ++++++++++++---------------
 2 files changed, 63 insertions(+), 76 deletions(-)

commit 81dc750
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jun 1 08:19:22 2012 +0900

    Pretend to allow screen offsets.
    
    Because qw's maxclients is always > 1, they'll never work, though :)

 qw/include/client.h |    1 +
 qw/source/cl_main.c |    2 ++
 qw/source/cl_view.c |   41 +++++++++++++++++++++++++++++++++++++++++
 3 files changed, 44 insertions(+)

commit e6ce44f
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jun 1 08:17:24 2012 +0900

    Change qw's punchangle to a vector.
    
    Consistency with nq :) (however, only pitch works in qw).

 qw/include/client.h  |    2 +-
 qw/source/cl_parse.c |    4 ++--
 qw/source/cl_view.c  |    9 +++++----
 3 files changed, 8 insertions(+), 7 deletions(-)

commit d561d55
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jun 1 08:14:41 2012 +0900

    Move the simangles hack out of cl_view.
    
    The places that will need to be fixed are now three, but cl_view.c now
    doesn't mess with values it shouldn't alter.

 qw/source/cl_cam.c   |    1 +
 qw/source/cl_parse.c |    1 +
 qw/source/cl_pred.c  |    1 +
 qw/source/cl_view.c  |    2 --
 4 files changed, 3 insertions(+), 2 deletions(-)

commit 4225602
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 31 19:40:56 2012 +0900

    Fix nq's idle swaying to match qw's.
    
    In nq, the gun would sway strangly relative to the player's view, but in
    qw, the gun is fixed. Now it is in both.

 nq/source/cl_view.c |   17 +++++++----------
 1 file changed, 7 insertions(+), 10 deletions(-)

commit a49c123
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 31 08:14:05 2012 +0900

    Shuffle some fields around in cient_state_t.

 nq/include/client.h |    7 ++-----
 qw/include/client.h |   41 ++++++++++++++++++-----------------------
 2 files changed, 20 insertions(+), 28 deletions(-)

commit 83d6dd7
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 31 08:11:39 2012 +0900

    Fix idealpitch and viewheight in qw.
    
    For certain values of "fix" ;). Both are brought back to life but
    idealpitch is never set (always 0) and veiwheight is set in V_RenderView().
    However, this brings the rest of the code in cl_view.c just that little bit
    closer to merged :)

 include/qw/protocol.h |    2 ++
 qw/include/client.h   |    2 ++
 qw/source/cl_view.c   |   27 +++++++++++++--------------
 3 files changed, 17 insertions(+), 14 deletions(-)

commit 3fd279e
Author: Bill Currie <bill@taniwha.org>
Date:   Sat May 26 12:53:03 2012 +0900

    Use info strings for scoreboard names in nq.
    
    Nukes a strcpy and a buffer, and is one step closer to merged client data.

 nq/include/client.h  |    3 ++-
 nq/source/cl_main.c  |    7 +++++++
 nq/source/cl_parse.c |    7 ++++++-
 nq/source/sbar.c     |    8 ++++----
 qw/include/client.h  |    3 +--
 5 files changed, 20 insertions(+), 8 deletions(-)

commit bf751ca
Author: Bill Currie <bill@taniwha.org>
Date:   Sat May 26 12:04:23 2012 +0900

    Split nq's colors into topcolor/bottomcolor.
    
    The protocol is not affected: the incoming colors byte is split into the
    two fields when read from the packet. This simplifies a lot of code
    elsewhere.

 nq/include/client.h  |    3 ++-
 nq/source/cl_parse.c |   15 +++++++++------
 nq/source/sbar.c     |   18 ++++++------------
 3 files changed, 17 insertions(+), 19 deletions(-)

commit afec630
Author: Bill Currie <bill@taniwha.org>
Date:   Sat May 26 11:52:09 2012 +0900

    Nuke some obsolete fields.
    
    scoreboard_t and player_info_t haven't used the
    _color/_topcolor/_bottomcolor fields for a while (since glsl).

 nq/include/client.h  |    1 -
 qw/include/client.h  |    2 --
 qw/source/cl_parse.c |    1 -
 3 files changed, 4 deletions(-)

commit fd78d90
Author: Bill Currie <bill@taniwha.org>
Date:   Sat May 26 11:31:23 2012 +0900

    Complete all stuff commands when getting server info/data.
    
    When the stufftext buffering was implemented, we forgot about
    svc_serverdata...
    
    While nq might normally not have the issue, I thought it best to implement
    in nq, too.

 nq/source/cl_parse.c |    9 +++++++--
 qw/source/cl_parse.c |    4 ++++
 2 files changed, 11 insertions(+), 2 deletions(-)

commit 28d16b6
Author: Bill Currie <bill@taniwha.org>
Date:   Sat May 26 11:15:05 2012 +0900

    Implement qw's safe stufftext buffering in nq.
    
    Avoid stuffing incomplete commands.

 nq/source/cl_parse.c |   19 ++++++++++++++++++-
 1 file changed, 18 insertions(+), 1 deletion(-)

commit 17b43ba
Author: Bill Currie <bill@taniwha.org>
Date:   Sat May 26 11:13:57 2012 +0900

    Clean up svc_disconnect differences.
    
    Now that nq has distinct ca_active and ca_connected, this will work :)

 nq/source/cl_parse.c |    6 +++++-
 qw/source/cl_parse.c |    3 +--
 2 files changed, 6 insertions(+), 3 deletions(-)

commit e730608
Author: Bill Currie <bill@taniwha.org>
Date:   Sat May 26 11:06:21 2012 +0900

    Implement r_flatlightstyles from fitzquake.

 include/QF/render.h           |    2 ++
 include/r_cvar.h              |    1 +
 libs/video/renderer/r_cvar.c  |    4 ++++
 libs/video/renderer/r_light.c |   13 +++++++++----
 nq/source/cl_parse.c          |   15 +++++++++++++++
 qw/source/cl_parse.c          |   15 +++++++++++++++
 6 files changed, 46 insertions(+), 4 deletions(-)

commit 7299ca7
Author: Bill Currie <bill@taniwha.org>
Date:   Sat May 26 10:39:42 2012 +0900

    More cl_parse tidyup.
    
    svcs are now in order: makes it even easier to see what's different between
    nq and qw.

 nq/source/cl_parse.c |  172 ++++++++++++++++++++++++++++---------------------
 qw/source/cl_parse.c |  175 ++++++++++++++++++++++++++++----------------------
 2 files changed, 197 insertions(+), 150 deletions(-)

commit 476ad75
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 24 22:10:41 2012 +0900

    Add a fixme to remove skin from qw's entity_state_t.

 include/qw/protocol.h |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 9c440ad
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 24 21:13:33 2012 +0900

    Rename entity_state_t's skln to skinnum in nq.
    
    Also some whitespace and comment corrections.

 include/qw/protocol.h |    1 +
 nq/include/client.h   |    5 ++---
 nq/include/protocol.h |    7 ++++---
 nq/source/cl_parse.c  |    6 +++---
 nq/source/sv_main.c   |    6 +++---
 qw/include/client.h   |    7 +++----
 6 files changed, 16 insertions(+), 16 deletions(-)

commit 25cb618
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 24 20:32:41 2012 +0900

    Clean up client_static_t a little more.

 nq/include/client.h |   20 ++++++--------------
 qw/include/client.h |   14 +++++---------
 2 files changed, 11 insertions(+), 23 deletions(-)

commit b20daaf
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 24 20:17:41 2012 +0900

    Nuke mapstring and spawnparms from client_static_t.
    
    They're completely useless. Even though spawnparms was sent over the
    network, the server ignored it. mapstring was never read anywhere.

 nq/include/client.h  |    4 ----
 nq/source/cl_main.c  |    5 +----
 nq/source/host_cmd.c |   15 ---------------
 3 files changed, 1 insertion(+), 23 deletions(-)

commit 1aa2c22
Author: Bill Currie <bill@taniwha.org>
Date:   Mon May 21 23:04:47 2012 +0900

    Nuke MAX_SCOREBOARDNAME from qw.
    
    It was different from nq's MAX_SCOREBOARDNAME, and not really necessary,
    what with being able to uuse info_key_t caches.

 qw/include/client.h  |    5 +----
 qw/source/cl_cam.c   |    8 ++++----
 qw/source/cl_ents.c  |    2 +-
 qw/source/cl_main.c  |    8 ++++----
 qw/source/cl_parse.c |   18 ++++++++++--------
 qw/source/cl_skin.c  |    4 ++--
 qw/source/sbar.c     |   36 ++++++++++++++++++------------------
 7 files changed, 40 insertions(+), 41 deletions(-)

commit b4ad695
Author: Bill Currie <bill@taniwha.org>
Date:   Mon May 21 22:50:59 2012 +0900

    Make info_t opaque.
    
    I didn't like the way client/server code was poking around at the
    implementation. Instead, provide a couple of accessor functions for the
    same information.

 include/QF/info.h    |    9 ++++-----
 libs/util/info.c     |   23 +++++++++++++++++++++++
 qtv/source/client.c  |    3 ++-
 qw/source/cl_parse.c |    5 ++---
 qw/source/sv_gib.c   |    4 +---
 qw/source/sv_main.c  |    2 +-
 qw/source/sv_qtv.c   |    2 +-
 7 files changed, 34 insertions(+), 14 deletions(-)

commit da8355a
Author: Bill Currie <bill@taniwha.org>
Date:   Mon May 21 22:26:29 2012 +0900

    Remove some commented code.

 nq/source/cl_view.c |    2 --
 1 file changed, 2 deletions(-)

commit 65bb355
Author: Bill Currie <bill@taniwha.org>
Date:   Mon May 21 22:08:54 2012 +0900

    Rearrange the offset cheat prevention.
    
    Rather than (expensively) setting the cvars to 0 every frame, just ignore
    their values in multiplayer mode.

 nq/source/cl_view.c |   18 +++++++-----------
 1 file changed, 7 insertions(+), 11 deletions(-)

commit e7c3ae9
Author: Bill Currie <bill@taniwha.org>
Date:   Mon May 21 22:00:58 2012 +0900

    Clean up some diff noise.

 nq/source/cl_screen.c |    2 +-
 nq/source/cl_view.c   |    6 ++----
 qw/source/cl_view.c   |    7 ++-----
 3 files changed, 5 insertions(+), 10 deletions(-)

commit 96785cc
Author: Bill Currie <bill@taniwha.org>
Date:   Sun May 20 19:17:41 2012 +0900

    Clean up chase/spectator camera stuff.
    
     o  Rename nq's cl_cam.c to cl_chase.c.
     o  Split out the chase cam stuff from qw's cl_cam.c to cl_chase.c

 nq/source/Makefile.am |    2 +-
 nq/source/cl_cam.c    |  253 -----------------------------------------------
 nq/source/cl_chase.c  |  260 ++++++++++++++++++++++++++++++++++++++++++++++++
 qw/include/chase.h    |   37 +++++++
 qw/include/cl_cam.h   |    3 -
 qw/source/Makefile.am |    3 +-
 qw/source/cl_cam.c    |  196 +------------------------------------
 qw/source/cl_chase.c  |  261 +++++++++++++++++++++++++++++++++++++++++++++++++
 qw/source/cl_input.c  |    1 +
 qw/source/cl_view.c   |    3 +-
 10 files changed, 565 insertions(+), 454 deletions(-)

commit ac1bf2a
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jun 10 20:54:40 2012 +0900

    Don't save unnamed fields.
    
    There will normally be only one unnamed field (if any), and it's always the
    null field. This will put an eventual end to the "'' is not a field"
    messages.

 libs/gamecode/pr_parse.c |    2 ++
 1 file changed, 2 insertions(+)

commit cf2377e
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jun 10 16:45:35 2012 +0900

    Fix view angles when loading saved games.
    
    As per mh's post on inside3d.com.

 nq/source/host_cmd.c |    6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit 2dfa871
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jun 3 20:12:34 2012 +0900

    Try mvd before qwd when no extension is given.

 qw/source/cl_demo.c |   10 ++++++++--
 1 file changed, 8 insertions(+), 2 deletions(-)

commit 93e35d7
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jun 3 19:51:43 2012 +0900

    Add demo format auto-detection.
    
    nq now rejects anything that doesn't look like a .dem, and qw not only
    rejects anything that looks like neither a .qwd nor a .mvd, but even
    detects which one is being played by the contents rather than the file name
    (foo.mvd.gz would be mis-detected as a qwd!!).

 nq/source/cl_demo.c |   61 ++++++++++++++++++++++++++++++++++++
 qw/source/cl_demo.c |   85 +++++++++++++++++++++++++++++++++++++++++++++++++--
 2 files changed, 143 insertions(+), 3 deletions(-)

commit dfc8f8b
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jun 3 15:14:29 2012 +0900

    Minor cleanup of CL_Record() and give nq default demo names.

 nq/source/cl_demo.c |   64 ++++++++++++++++++++-----
 qw/source/cl_demo.c |  133 +++++++++++++++++++++++++--------------------------
 2 files changed, 119 insertions(+), 78 deletions(-)

commit 82a4101
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 23 21:38:25 2012 +0900

    Create a proper ca_active state.
    
    Yay, no more ugly "SIGNONS" hack for whether to render :)

 nq/include/client.h   |   19 +++++++++-------
 nq/source/cl_cmd.c    |    2 +-
 nq/source/cl_demo.c   |    4 ++--
 nq/source/cl_input.c  |    2 +-
 nq/source/cl_main.c   |   58 ++++++++++++++++++++++++++++++-------------------
 nq/source/cl_parse.c  |   13 ++++++-----
 nq/source/cl_screen.c |    2 +-
 nq/source/cl_view.c   |    2 +-
 nq/source/host.c      |    6 ++---
 nq/source/host_cmd.c  |    2 +-
 10 files changed, 64 insertions(+), 46 deletions(-)

commit 7d84800
Author: Bill Currie <bill@taniwha.org>
Date:   Mon May 28 07:58:11 2012 +0900

    Remove an unnecessary if.
    
    It needed during initial development of the patch, but with the refactoring
    of s_init, it became redundant.

 libs/audio/renderer/snd_jack.c |    7 +++----
 1 file changed, 3 insertions(+), 4 deletions(-)

commit 01fb4f2
Author: Bill Currie <bill@taniwha.org>
Date:   Mon May 28 07:46:22 2012 +0900

    Attempt to reconnect to jack on loss of connection.

 libs/audio/renderer/snd_jack.c |   44 +++++++++++++++++++++++++---------------
 1 file changed, 28 insertions(+), 16 deletions(-)

commit dbc203b
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 23 08:20:56 2012 +0900

    And a few more bits of whitespace.

 libs/video/targets/fbset_modes_y.y |    4 ++--
 tools/qfcc/source/qc-parse.y       |    2 +-
 2 files changed, 3 insertions(+), 3 deletions(-)

commit 23a3873
Author: Bill Currie <bill@taniwha.org>
Date:   Tue May 22 08:23:22 2012 +0900

    Massive whitespace cleanup.
    
    Lots of trailing whitespace and otherwise blank lines.

 include/QF/GL/ati.h                        |   26 +-
 include/QF/GL/defines.h                    |    2 +-
 include/QF/cbuf.h                          |    8 +-
 include/QF/classes/List.h                  |    2 +-
 include/QF/classes/String.h                |    2 +-
 include/QF/cvar.h                          |    2 +-
 include/QF/dstring.h                       |    2 +-
 include/QF/hash.h                          |    2 +-
 include/QF/keys.h                          |    2 +-
 include/QF/modelgen.h                      |    4 +-
 include/QF/pcx.h                           |    2 +-
 include/QF/plugin/snd_render.h             |    2 +-
 include/QF/pr_comp.h                       |   24 +-
 include/QF/progs.h                         |    2 +-
 include/QF/qfplist.h                       |    2 +-
 include/QF/quakefs.h                       |    2 +-
 include/QF/render.h                        |    4 +-
 include/QF/screen.h                        |    2 +-
 include/QF/vid.h                           |    2 +-
 include/QF/view.h                          |    2 +-
 include/anorm_dots.h                       |    2 +-
 include/anorms.h                           |  324 +++++++--------
 include/asm_draw.h                         |    2 +-
 include/d_iface.h                          |    4 +-
 include/exp.h                              |    2 +-
 include/gib_buffer.h                       |    2 +-
 include/mod_internal.h                     |    2 +-
 include/netmain.h                          |    2 +-
 include/quakeasm.h                         |    2 +-
 include/qw/protocol.h                      |    2 +-
 include/regex.h                            |   36 +-
 include/skin_stencil.h                     |    2 +-
 include/snd_internal.h                     |    4 +-
 include/vgamodes.h                         |   16 +-
 include/win32/dirent.h                     |    8 +-
 include/win32/resources/resource.h         |    2 +-
 include/winquake.h                         |    2 +-
 libs/audio/cd_file.c                       |    4 +-
 libs/audio/cd_linux.c                      |    2 +-
 libs/audio/cd_sdl.c                        |    2 +-
 libs/audio/cd_win.c                        |   10 +-
 libs/audio/cd_xmms.c                       |    8 +-
 libs/audio/renderer/flac.c                 |    2 +-
 libs/audio/renderer/midi.c                 |   12 +-
 libs/audio/renderer/snd_channels.c         |    6 +-
 libs/audio/renderer/snd_dma.c              |    2 +-
 libs/audio/renderer/vorbis.c               |    4 +-
 libs/audio/renderer/wav.c                  |    2 +-
 libs/audio/targets/snd_disk.c              |    6 +-
 libs/audio/targets/snd_oss.c               |    2 +-
 libs/audio/targets/snd_win.c               |   28 +-
 libs/console/bi_inputline.c                |    2 +-
 libs/console/client.c                      |    6 +-
 libs/console/complete.c                    |   22 +-
 libs/console/console.c                     |    4 +-
 libs/console/pr_keys.c                     |   12 +-
 libs/console/server.c                      |    4 +-
 libs/gamecode/pr_debug.c                   |    2 +-
 libs/gamecode/pr_edict.c                   |    2 +-
 libs/gamecode/pr_exec.c                    |    4 +-
 libs/gamecode/pr_opcode.c                  |    4 +-
 libs/gamecode/pr_strings.c                 |    4 +-
 libs/gib/gib_buffer.c                      |    4 +-
 libs/gib/gib_builtin.c                     |   28 +-
 libs/gib/gib_classes.c                     |   46 +--
 libs/gib/gib_execute.c                     |    8 +-
 libs/gib/gib_function.c                    |   18 +-
 libs/gib/gib_object.c                      |   22 +-
 libs/gib/gib_parse.c                       |    4 +-
 libs/gib/gib_semantics.c                   |   10 +-
 libs/gib/gib_vars.c                        |    8 +-
 libs/gib/regex.c                           |  596 ++++++++++++++--------------
 libs/image/image.c                         |    2 +-
 libs/image/pcx.c                           |    4 +-
 libs/image/tga.c                           |    2 +-
 libs/models/alias/gl_mesh.c                |   14 +-
 libs/models/brush/gl_model_brush.c         |    2 +-
 libs/models/gl_model_fullbright.c          |    2 +-
 libs/models/iqm/model_iqm.c                |    2 +-
 libs/models/test/testclip.c                |    4 +-
 libs/models/test/trace-id.c                |   14 +-
 libs/models/trace.c                        |    2 +-
 libs/net/net_chan.c                        |    4 +-
 libs/net/nm/net_dgrm.c                     |    2 +-
 libs/ruamoko/pr_cmds.c                     |    2 +-
 libs/ruamoko/rua_math.c                    |    2 +-
 libs/ruamoko/rua_obj.c                     |   10 +-
 libs/ruamoko/rua_plist.c                   |   18 +-
 libs/util/bspfile.c                        |   12 +-
 libs/util/cbuf.c                           |    6 +-
 libs/util/checksum.c                       |    2 +-
 libs/util/cmd.c                            |    6 +-
 libs/util/cvar.c                           |   12 +-
 libs/util/dirent.c                         |    4 +-
 libs/util/dstring.c                        |    2 +-
 libs/util/getopt.c                         |   10 +-
 libs/util/getopt1.c                        |    4 +-
 libs/util/hash.c                           |    6 +-
 libs/util/idparse.c                        |    4 +-
 libs/util/pakfile.c                        |    2 +-
 libs/util/plugin.c                         |   30 +-
 libs/util/qfplist.c                        |    6 +-
 libs/util/quakefs.c                        |    4 +-
 libs/util/sys.c                            |    2 +-
 libs/util/wadfile.c                        |    4 +-
 libs/util/zone.c                           |   32 +-
 libs/video/renderer/gl/gl_draw.c           |    8 +-
 libs/video/renderer/gl/gl_dyn_part.c       |    8 +-
 libs/video/renderer/gl/gl_mod_alias.c      |   32 +-
 libs/video/renderer/gl/gl_rmain.c          |    8 +-
 libs/video/renderer/gl/gl_rmisc.c          |    2 +-
 libs/video/renderer/gl/gl_textures.c       |   58 +--
 libs/video/renderer/gl/vid_common_gl.c     |   10 +-
 libs/video/renderer/glsl/glsl_particles.c  |    8 +-
 libs/video/renderer/glsl/vid_common_glsl.c |    2 +-
 libs/video/renderer/r_cvar.c               |    2 +-
 libs/video/renderer/r_light.c              |    2 +-
 libs/video/renderer/r_screen.c             |    2 +-
 libs/video/renderer/sw/d_edge.c            |    4 +-
 libs/video/renderer/sw/d_scan.c            |    2 +-
 libs/video/renderer/sw/d_sprite.c          |    2 +-
 libs/video/renderer/sw/fpu.c               |    4 +-
 libs/video/renderer/sw/sw_redge.c          |    4 +-
 libs/video/renderer/sw/sw_riqm.c           |    6 +-
 libs/video/renderer/sw/sw_rmain.c          |    6 +-
 libs/video/renderer/sw/sw_rsprite.c        |    2 +-
 libs/video/renderer/sw/sw_rsurf.c          |    2 +-
 libs/video/renderer/sw32/d_edge.c          |    4 +-
 libs/video/renderer/sw32/d_sprite.c        |    2 +-
 libs/video/renderer/sw32/draw.c            |    2 +-
 libs/video/renderer/sw32/sw32_graph.c      |    2 +-
 libs/video/renderer/sw32/sw32_redge.c      |    4 +-
 libs/video/renderer/sw32/sw32_riqm.c       |    6 +-
 libs/video/renderer/sw32/sw32_rmain.c      |    8 +-
 libs/video/renderer/sw32/sw32_rpart.c      |   16 +-
 libs/video/renderer/sw32/sw32_rsprite.c    |    2 +-
 libs/video/renderer/sw32/sw32_rsurf.c      |    2 +-
 libs/video/renderer/sw32/vid_common_sw32.c |    4 +-
 libs/video/targets/context_sdl.c           |    2 +-
 libs/video/targets/context_x11.c           |   12 +-
 libs/video/targets/fbset.c                 |    2 +-
 libs/video/targets/in_win.c                |    2 +-
 libs/video/targets/keys.c                  |    6 +-
 libs/video/targets/old_keys.c              |    2 +-
 libs/video/targets/vid.c                   |    2 +-
 libs/video/targets/vid_3dfxsvga.c          |    6 +-
 libs/video/targets/vid_sgl.c               |    2 +-
 libs/video/targets/vid_wgl.c               |   10 +-
 nq/include/client.h                        |   16 +-
 nq/include/protocol.h                      |    6 +-
 nq/include/server.h                        |    8 +-
 nq/source/cl_demo.c                        |    2 +-
 nq/source/cl_ents.c                        |    8 +-
 nq/source/cl_input.c                       |    2 +-
 nq/source/cl_main.c                        |   10 +-
 nq/source/cl_parse.c                       |    6 +-
 nq/source/cl_view.c                        |    4 +-
 nq/source/host.c                           |    2 +-
 nq/source/host_cmd.c                       |    2 +-
 nq/source/sv_cl_phys.c                     |    2 +-
 nq/source/sv_ded.c                         |    2 +-
 nq/source/sv_main.c                        |    8 +-
 nq/source/sv_move.c                        |    4 +-
 nq/source/sv_pr_cmds.c                     |    2 +-
 nq/source/sv_user.c                        |    6 +-
 qtv/source/client.c                        |    6 +-
 qtv/source/qtv.c                           |    6 +-
 qw/include/cl_cam.h                        |    2 +-
 qw/include/client.h                        |   12 +-
 qw/include/server.h                        |   16 +-
 qw/include/sv_demo.h                       |    2 +-
 qw/source/cl_chat.c                        |    4 +-
 qw/source/cl_demo.c                        |    4 +-
 qw/source/cl_input.c                       |    6 +-
 qw/source/cl_main.c                        |    6 +-
 qw/source/cl_slist.c                       |   32 +-
 qw/source/cl_view.c                        |    6 +-
 qw/source/locs.c                           |   20 +-
 qw/source/master.c                         |   12 +-
 qw/source/net_packetlog.c                  |    2 +-
 qw/source/pmove.c                          |    4 +-
 qw/source/sv_ccmds.c                       |    6 +-
 qw/source/sv_demo.c                        |    6 +-
 qw/source/sv_ents.c                        |    2 +-
 qw/source/sv_gib.c                         |   20 +-
 qw/source/sv_init.c                        |    2 +-
 qw/source/sv_main.c                        |   14 +-
 qw/source/sv_move.c                        |    4 +-
 qw/source/sv_pr_cmds.c                     |    8 +-
 qw/source/sv_pr_cpqw.c                     |    6 +-
 qw/source/sv_progs.c                       |    2 +-
 qw/source/sv_qtv.c                         |    2 +-
 qw/source/sv_send.c                        |    2 +-
 qw/source/sv_user.c                        |   22 +-
 ruamoko/include/Array.h                    |   24 +-
 ruamoko/include/AutoreleasePool.h          |   22 +-
 ruamoko/include/gui/InputLine.h            |    4 +-
 ruamoko/include/message.h                  |    2 +-
 ruamoko/lib/Array+Private.h                |    6 +-
 ruamoko/scheme/CompiledCode.h              |    4 +-
 tools/3dfx_stub/3dfxstub.h                 |   10 +-
 tools/3dfx_stub/gl_stub.c                  |    8 +-
 tools/3dfx_stub/gls_norm.c                 |   16 +-
 tools/3dfx_stub/gls_trace.c                |   10 +-
 tools/Forge/Bundles/MainPrefs/MainPrefs.m  |    2 +-
 tools/Forge/PrefsController.m              |    2 +-
 tools/Forge/main.m                         |    2 +-
 tools/bsp2img/bsp2img.c                    |    8 +-
 tools/carne/main.c                         |   22 +-
 tools/pak/pak.c                            |    2 +-
 tools/pak/pak.h                            |    2 +-
 tools/qfcc/include/function.h              |    4 +-
 tools/qfcc/include/obj_file.h              |    8 +-
 tools/qfcc/source/class.c                  |    6 +-
 tools/qfcc/source/cpp.c                    |    2 +-
 tools/qfcc/source/defspace.c               |    2 +-
 tools/qfcc/source/expr.c                   |   14 +-
 tools/qfcc/source/function.c               |    2 +-
 tools/qfcc/source/linker.c                 |    4 +-
 tools/qfcc/source/method.c                 |    6 +-
 tools/qfcc/source/qfcc.c                   |    4 +-
 tools/qfcc/source/reloc.c                  |   14 +-
 tools/qfcc/source/struct.c                 |    2 +-
 tools/qfcc/test/defs.h                     |   12 +-
 tools/qfcc/test/libfrikbot.h               |   12 +-
 tools/qflight/source/entities.c            |    6 +-
 tools/qflight/source/ltface.c              |   24 +-
 tools/qflight/source/noise.c               |    2 +-
 tools/qflight/source/options.c             |    2 +-
 tools/qflight/source/properties.c          |    4 +-
 tools/qflight/source/qflight.c             |    4 +-
 tools/qflmp/lmp.c                          |    8 +-
 tools/qflmp/lmp.h                          |    2 +-
 tools/qfmodelgen/source/modelgen.c         |   28 +-
 tools/qfmodelgen/source/trilib.c           |    4 +-
 tools/qfvis/include/vis.h                  |    8 +-
 tools/qfvis/source/flow.c                  |   14 +-
 tools/qfvis/source/options.c               |    6 +-
 tools/qfvis/source/qfvis.c                 |   22 +-
 tools/qfvis/source/soundphs.c              |    2 +-
 tools/quaketoascii/quaketoascii.c          |    6 +-
 tools/qwaq/builtins.c                      |    2 +-
 tools/texpaint/main.c                      |   74 ++--
 tools/texpaint/model.h                     |    6 +-
 tools/texpaint/model1.c                    |   54 +--
 tools/texpaint/model2.c                    |   52 +--
 tools/texpaint/open.c                      |   24 +-
 tools/texpaint/pack.c                      |   30 +-
 tools/texpaint/q1pal.h                     |  510 ++++++++++++------------
 tools/texpaint/texturepaint.c              |  182 ++++-----
 tools/texpaint/texturepaint.h              |   22 +-
 tools/wad/script.c                         |    2 +-
 tools/wad/wad.c                            |    2 +-
 tools/wad/wad.h                            |    2 +-
 254 files changed, 1792 insertions(+), 1792 deletions(-)

commit 01773c7
Author: Bill Currie <bill@taniwha.org>
Date:   Sun May 20 22:45:30 2012 +0900

    Fix the infinite think loop when playing honey.
    
    The change to nq SV_RunThink to match that in qw finally bit my bum. I
    suspect it's really a bug in the honey progs (using ltime on a non-pusher),
    but QF locking up is not very friendly. I want to keep the option of having
    a think loop in the same frame for progs that expect it (using
    self.nextthink = time), but also NQ's original method of running think
    every frame.  Hopefully no progs expect "self.nextthink = time" to run
    every frame rather than loop within the current frame.

 nq/source/sv_phys.c |    2 +-
 qw/source/sv_phys.c |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 85da69a
Author: Bill Currie <bill@taniwha.org>
Date:   Sun May 20 15:21:25 2012 +0900

    Transform normals wrt bones in sw and sw32.
    
    Better lighting :), though any scaling/shearing will produce funny results,
    and sw32's lighting is broken in general.

 libs/video/renderer/sw/sw_riqm.c     |   10 ++++++----
 libs/video/renderer/sw32/sw32_riqm.c |   10 ++++++----
 2 files changed, 12 insertions(+), 8 deletions(-)

commit b5add68
Author: Bill Currie <bill@taniwha.org>
Date:   Sun May 20 15:20:18 2012 +0900

    Add Mat4as3MultVec.
    
    to transform a vertex without the translation (eg, for normals) without
    having to have separate matrices.

 include/QF/mathlib.h |    1 +
 libs/util/mathlib.c  |   11 +++++++++++
 2 files changed, 12 insertions(+)

commit 0fbaa2a
Author: Bill Currie <bill@taniwha.org>
Date:   Sun May 20 14:23:41 2012 +0900

    Add sw32 support for iqm models.
    
    That was easy :)

 include/r_local.h                      |    2 +-
 libs/video/renderer/sw32/Makefile.am   |    4 +-
 libs/video/renderer/sw32/namehack.h    |    2 +
 libs/video/renderer/sw32/sw32_ralias.c |    2 +-
 libs/video/renderer/sw32/sw32_riqm.c   |  319 ++++++++++++++++++++++++++++++++
 libs/video/renderer/sw32/sw32_rmain.c  |   10 +-
 6 files changed, 333 insertions(+), 6 deletions(-)

commit 3087e68
Author: Bill Currie <bill@taniwha.org>
Date:   Sun May 20 10:02:44 2012 +0900

    Convert texcoords to fixed point.
    
    Bah, another weekend wasted on an oversight :( However, Mr. Fixit looks
    quite alright in the quake palette.

 libs/models/iqm/sw_model_iqm.c |   10 ++++++++--
 1 file changed, 8 insertions(+), 2 deletions(-)

commit f0285e5
Author: Bill Currie <bill@taniwha.org>
Date:   Sun May 20 08:51:15 2012 +0900

    Correct the texcoord conversion.
    
    1.0 is to represent the last pixel, not one past it.

 libs/models/iqm/sw_model_iqm.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit e2db2dc
Author: Bill Currie <bill@taniwha.org>
Date:   Sat May 19 21:26:11 2012 +0900

    Support static iqm models.
    
    Segging on a model with no animations is not nice :P

 libs/video/renderer/r_iqm.c |   51 ++++++++++++++++++++++++++++---------------
 1 file changed, 34 insertions(+), 17 deletions(-)

commit 6ace105
Author: Bill Currie <bill@taniwha.org>
Date:   Sat May 19 21:25:58 2012 +0900

    Fix some macro parenthesis issues.

 include/QF/mathlib.h |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit d25f39c
Author: Bill Currie <bill@taniwha.org>
Date:   Sat May 19 09:28:02 2012 +0900

    Remove pskindesc from affinetridesc_t.
    
    It's never used after being set.

 include/d_iface.h                      |    1 -
 include/d_ifacea.h                     |   17 ++++++++---------
 libs/video/renderer/sw/sw_ralias.c     |    1 -
 libs/video/renderer/sw/sw_riqm.c       |    2 --
 libs/video/renderer/sw32/sw32_ralias.c |    1 -
 5 files changed, 8 insertions(+), 14 deletions(-)

commit c1eb3e7
Author: Bill Currie <bill@taniwha.org>
Date:   Sat May 19 09:15:26 2012 +0900

    Process each vertex texcoord only once.
    
    Double converting texcoords results in 0,0 for all affected texcoords. Mr
    Fixit was looking rather ill. Now he looks weird (something wrong in the
    renderer?).

 libs/models/iqm/sw_model_iqm.c |   14 ++++++++++++--
 1 file changed, 12 insertions(+), 2 deletions(-)

commit d41bf32
Author: Bill Currie <bill@taniwha.org>
Date:   Sat May 19 09:14:07 2012 +0900

    Hopefully fix color conversion.
    
    Hard to tell because the triangle rendering is still messed up. However,
    storing negative values in bytes doesn't work :)

 libs/models/iqm/sw_model_iqm.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit be9c069
Author: Bill Currie <bill@taniwha.org>
Date:   Sat May 19 00:43:26 2012 +0900

    Give sw iqm its own transform setup.
    
    IQMs don't need to be scaled or offset. This fixes iqms not rendering,
    though they actually were: just super tiny.

 libs/video/renderer/sw/sw_riqm.c |   55 +++++++++++++++++++++++++++++++++++++-
 1 file changed, 54 insertions(+), 1 deletion(-)

commit c0517b1
Author: Bill Currie <bill@taniwha.org>
Date:   Sat May 19 00:34:15 2012 +0900

    Factor out the blend palette creation.
    
    gl, sw and sw32 use blend palettes, so share the code. This also abandons
    the optimization for transforming verts in sw (had all sorts of problems
    anyway). sw still doesn't work, though.

 include/r_local.h                   |    3 ++
 libs/video/renderer/gl/gl_mod_iqm.c |   21 ++----------
 libs/video/renderer/r_iqm.c         |   26 ++++++++++++++
 libs/video/renderer/sw/sw_riqm.c    |   64 ++++++++---------------------------
 4 files changed, 47 insertions(+), 67 deletions(-)

commit e069757
Author: Bill Currie <bill@taniwha.org>
Date:   Sat May 19 00:18:03 2012 +0900

    Refactor the skin setup code.

 libs/video/renderer/sw/sw_riqm.c |   61 +++++++++++++++++---------------------
 1 file changed, 27 insertions(+), 34 deletions(-)

commit fb10f38
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 18 23:31:14 2012 +0900

    SW now tries (but fails miserably) to render iqm models.
    
    Something seems to be very wrong with the transforms.

 include/r_local.h                      |    4 +
 libs/models/iqm/sw_model_iqm.c         |   18 ++
 libs/video/renderer/sw/Makefile.am     |    4 +-
 libs/video/renderer/sw/sw_ralias.c     |   12 +-
 libs/video/renderer/sw/sw_riqm.c       |  317 ++++++++++++++++++++++++++++++++
 libs/video/renderer/sw/sw_rmain.c      |   10 +-
 libs/video/renderer/sw32/namehack.h    |    2 +
 libs/video/renderer/sw32/sw32_ralias.c |   67 +++----
 8 files changed, 392 insertions(+), 42 deletions(-)

commit da87ac0
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 17 21:33:22 2012 +0900

    Remove some unused parameters.

 include/r_local.h                      |    4 ++--
 libs/video/renderer/sw/sw_ralias.c     |   17 ++++++++---------
 libs/video/renderer/sw32/sw32_ralias.c |   16 ++++++++--------
 3 files changed, 18 insertions(+), 19 deletions(-)

commit da313cf
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 17 21:17:48 2012 +0900

    Load iqm models in the sw renderers.
    
    sw32 loses 32 bit textures :/
    loading is /slow/ (converting rgb(a) to 8bit palette... ouch.

 include/QF/image.h                    |    4 +-
 include/d_iface.h                     |   11 +++
 libs/models/iqm/sw_model_iqm.c        |  145 +++++++++++++++++++++++++++++++++
 libs/video/renderer/vid_render_sw.c   |    2 +-
 libs/video/renderer/vid_render_sw32.c |    2 +-
 5 files changed, 160 insertions(+), 4 deletions(-)

commit 7637f35
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 17 16:02:13 2012 +0900

    Remove the test scaling.
    
    Heh, forgot to remove it again :)

 libs/video/renderer/gl/gl_mod_iqm.c |    1 -
 1 file changed, 1 deletion(-)

commit c3801d4
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 17 15:58:29 2012 +0900

    Render iqm models in GL.
    
    There are still many issues to sort out, but the basics are working.
    
    Problems:
    	rendered fullbright (no lighting done)
    	normals are ignored
    	extra textures (glow etc) not used/loaded
    
    4 models on the screen don't seem to be a problem.

 include/QF/GL/qf_iqm.h              |    8 +++
 libs/models/iqm/gl_model_iqm.c      |   13 ++++
 libs/video/renderer/gl/Makefile.am  |    4 +-
 libs/video/renderer/gl/gl_mod_iqm.c |  130 +++++++++++++++++++++++++++++++++++
 libs/video/renderer/gl/gl_rmain.c   |   14 +++-
 5 files changed, 165 insertions(+), 4 deletions(-)

commit f958afa
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 17 15:57:07 2012 +0900

    Optionally allocate extra data for iqm blend frames.
    
    Also, correct the blend parameter type (int->float. oops).

 include/r_local.h                   |    2 +-
 libs/video/renderer/glsl/glsl_iqm.c |    2 +-
 libs/video/renderer/r_iqm.c         |    5 +++--
 3 files changed, 5 insertions(+), 4 deletions(-)

commit 02f8aa6
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 17 15:56:01 2012 +0900

    Add Mat4MultAdd macro.

 include/QF/mathlib.h |    7 +++++++
 1 file changed, 7 insertions(+)

commit c0df07b
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 17 15:55:38 2012 +0900

    Enable loading of iqm models in gl.
    
    They don't render yet, but the engine doesn't segfault.
    The vertex blend indices are rewritten with blend palette indices.

 include/QF/GL/qf_iqm.h              |   41 +++++++++++
 include/QF/Makefile.am              |    2 +-
 include/QF/iqm.h                    |    5 ++
 include/mod_internal.h              |    1 +
 libs/models/iqm/gl_model_iqm.c      |   63 +++++++++++++++--
 libs/models/iqm/model_iqm.c         |  128 ++++++++++++++++++++++++++++++++++-
 libs/video/renderer/vid_render_gl.c |    2 +-
 7 files changed, 234 insertions(+), 8 deletions(-)

commit e722352
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 17 13:39:45 2012 +0900

    Add SYS_MODEL developer flag (8192)

 include/QF/sys.h |    1 +
 1 file changed, 1 insertion(+)

commit 2328453
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 16 18:09:44 2012 +0900

    Move IQM freeing into common code.

 include/mod_internal.h           |    2 ++
 libs/models/iqm/glsl_model_iqm.c |   15 +--------------
 libs/models/iqm/model_iqm.c      |   19 +++++++++++++++++++
 3 files changed, 22 insertions(+), 14 deletions(-)

commit 041d63c
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 16 17:44:18 2012 +0900

    Move the frame blending into common code.

 include/r_local.h                   |    2 ++
 libs/video/renderer/glsl/glsl_iqm.c |   21 +--------------------
 libs/video/renderer/r_iqm.c         |   29 +++++++++++++++++++++++++++++
 3 files changed, 32 insertions(+), 20 deletions(-)

commit 8ada7c0
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 16 08:13:59 2012 +0900

    Remove the vertex scaling.
    
    It was there only because mrfixit is rather small (8qu?) and it made
    finding him easier :). Anyway, any scaling should be done in the engine.

 libs/video/renderer/glsl/iqm.vert |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 9984925
Author: Bill Currie <bill@taniwha.org>
Date:   Tue May 15 20:24:02 2012 +0900

    Correct a comment.

 libs/video/renderer/r_light.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 31772af
Author: Bill Currie <bill@taniwha.org>
Date:   Tue May 15 19:15:51 2012 +0900

    Add in some ambient light for iqm models.
    
    Though the bsp loader doesn't yet support colored lighting, the ambient
    light will be colored when it does. With this, I guess iqm model support is
    done for glsl until I figure out how I want to do dual quaternion support.

 libs/video/renderer/glsl/glsl_iqm.c |    6 ++++++
 libs/video/renderer/glsl/iqm.frag   |    4 +++-
 2 files changed, 9 insertions(+), 1 deletion(-)

commit 111377f
Author: Bill Currie <bill@taniwha.org>
Date:   Tue May 15 08:22:31 2012 +0900

    Use buffer objects for iqm vertex arrays and elements.

 include/QF/iqm.h                    |    2 ++
 libs/models/iqm/glsl_model_iqm.c    |   36 +++++++++++++++++++++++++++++++++--
 libs/models/iqm/model_iqm.c         |    2 ++
 libs/video/renderer/glsl/glsl_iqm.c |    2 ++
 4 files changed, 40 insertions(+), 2 deletions(-)

commit 5740dba
Author: Bill Currie <bill@taniwha.org>
Date:   Tue May 15 08:21:23 2012 +0900

    Mark iqm models as need-load when clearing.
    
    This fixes the segfault on map change.

 libs/models/iqm/glsl_model_iqm.c |    2 ++
 1 file changed, 2 insertions(+)

commit 0fd2b01
Author: Bill Currie <bill@taniwha.org>
Date:   Mon May 14 23:54:01 2012 +0900

    Update the shader to work as it should :)
    
    I always thought it whould be "light - point" :P. Also, in normal maps, 127
    is 0.

 libs/video/renderer/glsl/iqm.frag |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit c454b96
Author: Bill Currie <bill@taniwha.org>
Date:   Mon May 14 23:51:49 2012 +0900

    Translate lights into entity space.
    
    Finally, lights work "properly". Probably the nicest lighting we've ever
    had :) (still have to put in ambient, though).

 libs/video/renderer/glsl/glsl_iqm.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 1375c3c
Author: Bill Currie <bill@taniwha.org>
Date:   Mon May 14 23:02:06 2012 +0900

    Finally, load textures for iqm :)

 include/QF/GLSL/qf_iqm.h                 |    7 +++
 include/QF/GLSL/qf_textures.h            |    2 +
 include/QF/iqm.h                         |    1 +
 include/QF/plugin/vid_render.h           |    3 +-
 include/mod_internal.h                   |    9 ++--
 libs/models/iqm/glsl_model_iqm.c         |   81 +++++++++++++++++++++++++++++-
 libs/models/iqm/model_iqm.c              |    1 +
 libs/video/renderer/glsl/glsl_iqm.c      |   13 +++++
 libs/video/renderer/glsl/glsl_textures.c |   28 +++++++++--
 libs/video/renderer/vid_render_gl.c      |    1 +
 libs/video/renderer/vid_render_glsl.c    |    1 +
 libs/video/renderer/vid_render_sw.c      |    1 +
 libs/video/renderer/vid_render_sw32.c    |    1 +
 13 files changed, 139 insertions(+), 10 deletions(-)

commit a032aa5
Author: Bill Currie <bill@taniwha.org>
Date:   Mon May 14 20:29:36 2012 +0900

    Get the lights working (as such).
    
    They work nicely now when the normal map and texture are bypassed (don't
    know what texture is getting used currently).

 libs/video/renderer/glsl/iqm.frag |    7 +++++--
 libs/video/renderer/glsl/iqm.vert |    5 +++--
 2 files changed, 8 insertions(+), 4 deletions(-)

commit 8c5e278
Author: Bill Currie <bill@taniwha.org>
Date:   Mon May 14 07:58:54 2012 +0900

    Implement frame blending for iqm.
    
    Now that I have things working... :)

 libs/video/renderer/glsl/glsl_iqm.c |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit c694b9f
Author: Bill Currie <bill@taniwha.org>
Date:   Mon May 14 07:57:22 2012 +0900

    Add Mat4Blend macro.

 include/QF/mathlib.h |   15 +++++++++++----
 1 file changed, 11 insertions(+), 4 deletions(-)

commit a938c7f
Author: Bill Currie <bill@taniwha.org>
Date:   Sun May 13 21:44:20 2012 +0900

    Almost fix the animations.
    
    There's still a problem with his finger tips and feet, but the rest of his
    limbs seem to be working well. Much thanks to Spike for encouraging me to
    do a dump of the matices that are actually sent to the card.
    
    It turns out that animated joints remain relative right up to the last
    moment.

 libs/video/renderer/glsl/glsl_iqm.c |   11 +++++++++--
 libs/video/renderer/glsl/iqm.vert   |    2 +-
 2 files changed, 10 insertions(+), 3 deletions(-)

commit 4ba69b5
Author: Bill Currie <bill@taniwha.org>
Date:   Sun May 13 07:06:30 2012 +0900

    Make quat_origin the right type.
    
    It's quat_t, not vec3_t :P.

 libs/util/mathlib.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 202ab04
Author: Bill Currie <bill@taniwha.org>
Date:   Sat May 12 23:25:21 2012 +0900

    Ensure the rotation quats are normalized.
    
    Doesn't make any noticeable difference, but it doesn't hurt.

 libs/models/iqm/model_iqm.c |    9 ++++++++-
 1 file changed, 8 insertions(+), 1 deletion(-)

commit 31d8978
Author: Bill Currie <bill@taniwha.org>
Date:   Sat May 12 20:02:05 2012 +0900

    Use the correct index variable when byteswapping the arrays.
    
    Not the cause of the broken animations :(

 libs/models/iqm/model_iqm.c |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 7cda91a
Author: Bill Currie <bill@taniwha.org>
Date:   Sat May 12 19:14:07 2012 +0900

    Temporarily disable dual quaternions.
    
    The animation data isn't getting loaded or used properly (not sure yet).
    This helps ensure it's not something I've done wrong with dual quats.

 libs/models/iqm/model_iqm.c         |    6 +++++-
 libs/video/renderer/glsl/glsl_iqm.c |    6 +++++-
 libs/video/renderer/glsl/iqm.vert   |    6 ++++++
 3 files changed, 16 insertions(+), 2 deletions(-)

commit 4b38048
Author: Bill Currie <bill@taniwha.org>
Date:   Sat May 12 08:19:15 2012 +0900

    Create functions for rotation and translation.

 libs/video/renderer/glsl/iqm.vert |   33 ++++++++++++++++++++++++---------
 1 file changed, 24 insertions(+), 9 deletions(-)

commit 5b4fdd2
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 11 21:56:34 2012 +0900

    Use the correct position for light calcs.
    
    I should have remembered that gl_FragCoord wasn't right.

 libs/video/renderer/glsl/iqm.frag |    5 +++--
 libs/video/renderer/glsl/iqm.vert |    4 +++-
 2 files changed, 6 insertions(+), 3 deletions(-)

commit 2080c33
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 11 21:53:16 2012 +0900

    Avoid using malloc/free every model/frame.

 include/r_internal.h                |    2 +-
 libs/video/renderer/glsl/glsl_iqm.c |    8 +++-----
 libs/video/renderer/r_light.c       |   11 +++++------
 3 files changed, 9 insertions(+), 12 deletions(-)

commit c2e0674
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 11 21:22:10 2012 +0900

    Implement R_IQMGetLerpedFrames().
    
    Like R_AliasGetLerpedFrames, but for IQM. It calcualtes the current frame
    number and blend between the previous and current frames.

 include/r_local.h                   |    4 ++-
 libs/video/renderer/Makefile.am     |    4 +--
 libs/video/renderer/glsl/glsl_iqm.c |    2 +-
 libs/video/renderer/r_iqm.c         |   67 +++++++++++++++++++++++++++++++++++
 4 files changed, 73 insertions(+), 4 deletions(-)

commit 8387d98
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 11 19:17:21 2012 +0900

    Change position to vposition.

 libs/video/renderer/glsl/glsl_iqm.c |    8 ++++----
 libs/video/renderer/glsl/iqm.vert   |    4 ++--
 2 files changed, 6 insertions(+), 6 deletions(-)

commit 099ef34
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 11 17:42:49 2012 +0900

    Advance the vertex attrib index.
    
    Disabling the array right after enabling it was causing things to just not
    work :P

 libs/video/renderer/glsl/glsl_iqm.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d1d4c61
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 11 17:15:20 2012 +0900

    Get the frame data from the right places.
    
    Always using joint[0] of the frames wasn't very useful.

 libs/video/renderer/glsl/glsl_iqm.c |    5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

commit 74cb49e
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 11 16:43:29 2012 +0900

    Free the blended frame data.

 libs/video/renderer/glsl/glsl_iqm.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 551dfc4
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 11 15:40:28 2012 +0900

    Build the iqm vertex arrays in the correct order.
    
    They need to be built in ascending type order (makes life easier in the
    renderer).

 libs/models/iqm/model_iqm.c |   22 +++++++++++-----------
 1 file changed, 11 insertions(+), 11 deletions(-)

commit bea8f8f
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 11 15:39:41 2012 +0900

    Fix a segfault when searching for dlights.
    
    Uninitialized var bites my bum :P

 libs/video/renderer/r_light.c |    1 +
 1 file changed, 1 insertion(+)

commit 2e98c31
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 11 15:31:40 2012 +0900

    Check the corrent bits when reading scale frame data.
    
    Fixes the invalid reads when loading an iqm (at least for mrfixit).

 libs/models/iqm/model_iqm.c |   20 ++++++++++----------
 1 file changed, 10 insertions(+), 10 deletions(-)

commit 9c69404
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 11 15:26:34 2012 +0900

    Attempt to render iqm models.
    
    Things are a right mess (segfaults, invalid accesses on load, etc), but
    hey, it's a start :)

 libs/video/renderer/glsl/glsl_iqm.c |   93 ++++++++++++++++++++++++++++++++++-
 libs/video/renderer/glsl/iqm.frag   |   31 +++++++-----
 libs/video/renderer/glsl/iqm.vert   |    6 +--
 3 files changed, 113 insertions(+), 17 deletions(-)

commit 15fd3be
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 11 15:25:57 2012 +0900

    Allow iqm models when storing efrags.

 libs/video/renderer/r_efrag.c |    1 +
 1 file changed, 1 insertion(+)

commit a880f33
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 11 15:25:22 2012 +0900

    Set the model type for iqm.
    
    Forgot this rather important step :P

 libs/models/iqm/model_iqm.c |    1 +
 1 file changed, 1 insertion(+)

commit 41e7a6c
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 11 14:28:16 2012 +0900

    Search for the "nearest" dlights.
    
    Nearness is a function of both distance and intensity: distant bright
    lights can take priority over close dim lights.

 include/r_internal.h          |    1 +
 libs/video/renderer/r_light.c |   53 +++++++++++++++++++++++++++++++++++++++++
 2 files changed, 54 insertions(+)

commit 0becd35
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 11 12:49:14 2012 +0900

    Begin work on rendering iqm models.
    
    No chance of working yet, but the shaders compile :)

 include/QF/GLSL/qf_iqm.h             |   40 +++++++
 include/QF/Makefile.am               |    2 +-
 libs/video/renderer/glsl/Makefile.am |    4 +-
 libs/video/renderer/glsl/glsl_iqm.c  |  191 ++++++++++++++++++++++++++++++++++
 libs/video/renderer/glsl/glsl_main.c |   11 ++
 libs/video/renderer/glsl/iqm.frag    |   56 ++++++++++
 libs/video/renderer/glsl/iqm.vert    |    2 +-
 7 files changed, 303 insertions(+), 3 deletions(-)

commit 078cb10
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 11 12:47:20 2012 +0900

    Add a stride field to iqm_t.
    
    Since iqm vertex arrays are variable, and I don't want to calculate the
    stride every time I render a model, cached the value used when building the
    arrays.

 include/QF/iqm.h            |    1 +
 libs/models/iqm/model_iqm.c |    1 +
 2 files changed, 2 insertions(+)

commit 15d35fb
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 10 22:06:49 2012 +0900

    Add mvp_mat and some comments.

 libs/video/renderer/glsl/iqm.vert |   13 ++++++++-----
 1 file changed, 8 insertions(+), 5 deletions(-)

commit 59c5bf2
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 10 20:39:24 2012 +0900

    Code up an initial version of the iqm vertex shader.
    
    Probably more bugs than an old kitchen cupboard :P

 libs/video/renderer/glsl/iqm.vert |   55 +++++++++++++++++++++++++++++++++++++
 1 file changed, 55 insertions(+)

commit 6ab3bd4
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 10 20:38:39 2012 +0900

    Implement IQM animation loading.
    
    Bone poses are converted to dual quaternions + shear + scale for nice
    skinning. Will likely be slow for software skinning, but too bad.

 include/QF/iqm.h            |    5 ++
 libs/models/iqm/model_iqm.c |  112 ++++++++++++++++++++++++++++++++++++++++++-
 2 files changed, 116 insertions(+), 1 deletion(-)

commit 9a32067
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 10 17:23:26 2012 +0900

    Add VectorUnshear().
    
    VectorUnshear uses the exact same shear vector to remove shear from a
    sheared vector. ie with:
      VectorShear (shear, v, w);
      VectorUnshear (shear, w, x);
    x == v within fp math limits.

 include/QF/mathlib.h |    6 ++++++
 1 file changed, 6 insertions(+)

commit bf38e60
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 10 14:47:46 2012 +0900

    Implement iqm joint loading.

 include/QF/iqm.h            |   13 ++++++++++++-
 libs/models/iqm/model_iqm.c |   21 +++++++++++++++++++++
 2 files changed, 33 insertions(+), 1 deletion(-)

commit 9f25345
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 10 14:42:40 2012 +0900

    Implement and test Mat4Inverse().

 include/QF/mathlib.h      |    3 +-
 libs/util/mathlib.c       |   67 +++++++++++++++++++++++++++++++++++++++++++++
 libs/util/test/test-mat.c |   49 +++++++++++++++++++++++++++++++++
 3 files changed, 118 insertions(+), 1 deletion(-)

commit fa62703
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 10 13:04:50 2012 +0900

    Make Mat4Decompose a little more intuitive.
    
    Params are now in application order (good thing not much code uses it yet).

 include/QF/mathlib.h      |   14 ++++++++++++--
 libs/util/mathlib.c       |    6 +++---
 libs/util/test/test-mat.c |    4 ++--
 3 files changed, 17 insertions(+), 7 deletions(-)

commit 1473dbd
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 10 11:40:29 2012 +0900

    Add a comment about the evaluation order in VectorShear.

 include/QF/mathlib.h |    3 +++
 1 file changed, 3 insertions(+)

commit de131c1
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 9 22:28:22 2012 +0900

    Add VectorShear and really test Mat4Decompose.
    
    And the tests really exercised VectorShear (first attempt had things
    messed up when more than one shear value was non-zero). Also,
    Mat4Decompose wasn't orthogonalizing the z axis row. Oops. Anyway,
    Mat4Decompose is now known to work well, and the usage of its output is
    understood :)

 include/QF/mathlib.h      |   16 +++++++++++++++
 libs/util/mathlib.c       |    6 ++++--
 libs/util/test/test-mat.c |   50 +++++++++++++++++++++++++++++++++++++++++++++
 3 files changed, 70 insertions(+), 2 deletions(-)

commit 8cea6b0
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 9 21:07:44 2012 +0900

    Fix a scaling snafu in Mat4Decompose.
    
    Found when checking how rotation affects non-uniform scaling (haven't
    written proper tests yet: need to figure out how).

 libs/util/mathlib.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 82abd5e
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 9 19:07:27 2012 +0900

    More matrix tests.

 include/QF/mathlib.h      |    2 ++
 libs/util/mathlib.c       |   10 ++++++
 libs/util/test/test-mat.c |   83 ++++++++++++++++++++++++++++++++++++++++-----
 3 files changed, 86 insertions(+), 9 deletions(-)

commit 730f966
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 9 12:17:52 2012 +0900

    Add support for mat4 * vec3

 include/QF/mathlib.h |    1 +
 libs/util/mathlib.c  |   11 +++++++++++
 2 files changed, 12 insertions(+)

commit 50af8a5
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 9 12:06:17 2012 +0900

    Add tests for matrix decomposition and fix the bugs.

 include/QF/mathlib.h       |    9 +++--
 libs/util/mathlib.c        |   38 ++++++++++----------
 libs/util/test/Makefile.am |    6 +++-
 libs/util/test/test-mat.c  |   84 ++++++++++++++++++++++++++++++++++++++++++++
 libs/util/test/test-quat.c |    3 ++
 5 files changed, 118 insertions(+), 22 deletions(-)

commit 52ab4f6
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 9 09:51:59 2012 +0900

    Add code for loading vertex colors.
    
    And correct an oopsie in bledweights.

 libs/models/iqm/model_iqm.c |   23 ++++++++++++++++++++++-
 1 file changed, 22 insertions(+), 1 deletion(-)

commit 724427a
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 9 09:50:42 2012 +0900

    Add component-wise vector and quaternion division.
    
    Mostly for non-uniform scaling.

 include/QF/mathlib.h |   13 +++++++++++++
 1 file changed, 13 insertions(+)

commit 215d2e9
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 9 09:45:17 2012 +0900

    Add a function to decompose a matrix.
    
    The function gives rotation(quaternion), scale, shear, and translation (all
    three as vectors), shear is (XY, XZ, YZ).

 include/QF/mathlib.h |    3 ++
 libs/util/mathlib.c  |   76 ++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 79 insertions(+)

commit 1be9384
Author: Bill Currie <bill@taniwha.org>
Date:   Tue May 1 21:54:08 2012 +0900

    Load the iqm vertex and triangle data.
    
    Still have the meshes, joints and animations to go.

 include/QF/iqm.h            |   10 ++
 libs/models/iqm/model_iqm.c |  301 +++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 311 insertions(+)

commit 890223e
Author: Bill Currie <bill@taniwha.org>
Date:   Tue May 1 21:46:09 2012 +0900

    Correct the definition of DualQuatNorm.
    
    I'd gotten the norm and magnitude mixed up (partly because the document I
    was following got the names mixed up), and then munged the formulas
    together.

 include/QF/mathlib.h |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 8aabb70
Author: Bill Currie <bill@taniwha.org>
Date:   Tue May 1 14:50:29 2012 +0900

    Add tests for inverting a dual quad transform.

 libs/util/test/test-dq.c |   22 +++++++++++++++++++++-
 1 file changed, 21 insertions(+), 1 deletion(-)

commit f874aeb
Author: Bill Currie <bill@taniwha.org>
Date:   Tue May 1 14:19:38 2012 +0900

    Add support for duals and dual quaternions.
    
    Not everything is unit-tested, but the currently important stuff is.

 include/QF/mathlib.h       |  151 ++++++++++++++++++++++++++++++++++++++++++++
 include/QF/qtypes.h        |    8 +++
 libs/util/test/Makefile.am |    6 +-
 libs/util/test/test-dq.c   |  112 ++++++++++++++++++++++++++++++++
 4 files changed, 276 insertions(+), 1 deletion(-)

commit 3b93859
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Apr 29 21:15:27 2012 +0900

    Dump some gl limits.

 libs/video/renderer/glsl/vid_common_glsl.c |   23 +++++++++++++++++++++++
 1 file changed, 23 insertions(+)

commit 26a878d
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Apr 27 14:40:06 2012 +0900

    Stub out the iqm loader.

 config.d/ac_config_files.m4           |    1 +
 config.d/build_control.m4             |    6 ++
 include/QF/Makefile.am                |   14 ++--
 include/QF/iqm.h                      |  117 +++++++++++++++++++++++++++++++++
 include/QF/model.h                    |    2 +-
 include/QF/plugin/vid_render.h        |    1 +
 include/mod_internal.h                |    1 +
 libs/models/Makefile.am               |    5 +-
 libs/models/iqm/Makefile.am           |   20 ++++++
 libs/models/iqm/gl_model_iqm.c        |   53 +++++++++++++++
 libs/models/iqm/glsl_model_iqm.c      |   51 ++++++++++++++
 libs/models/iqm/model_iqm.c           |   56 ++++++++++++++++
 libs/models/iqm/sw_model_iqm.c        |   47 +++++++++++++
 libs/models/model.c                   |    7 ++
 libs/video/renderer/vid_render_gl.c   |    1 +
 libs/video/renderer/vid_render_glsl.c |    1 +
 libs/video/renderer/vid_render_sw.c   |    1 +
 libs/video/renderer/vid_render_sw32.c |    1 +
 18 files changed, 376 insertions(+), 9 deletions(-)

commit e6c0512
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 10 12:50:44 2012 +0900

    Ensure dstring has space for terminating 0.
    
    It seems (some versions of) windows vsnprintf don't count the terminating 0
    when limiting the number of chars written to the buffer. Nor do they
    guarantee the output string will be terminated.

 libs/util/dstring.c |    8 +++++---
 1 file changed, 5 insertions(+), 3 deletions(-)

commit 0036a5e
Author: Bill Currie <bill@taniwha.org>
Date:   Sun May 6 21:35:42 2012 +0900

    Ensure edict_size is never 0.
    
    Avoids division by / in NUM_FOR_EDICT

 libs/gamecode/pr_load.c     |    3 ++-
 tools/qfcc/source/qfprogs.c |    3 ++-
 2 files changed, 4 insertions(+), 2 deletions(-)

commit 1dd5ccc
Author: Bill Currie <bill@taniwha.org>
Date:   Sun May 6 18:52:05 2012 +0900

    Correct some more error messages.

 tools/qfcc/source/constfold.c |   30 +++++++++++++++---------------
 1 file changed, 15 insertions(+), 15 deletions(-)

commit a0788c6
Author: Bill Currie <bill@taniwha.org>
Date:   Sun May 6 18:45:30 2012 +0900

    Implement constant folding for unary operators.
    
    Including conversions between float and int :)

 tools/qfcc/source/constfold.c |  309 ++++++++++++++++++++++++++++++++++++++++-
 1 file changed, 306 insertions(+), 3 deletions(-)

commit f781e90
Author: Bill Currie <bill@taniwha.org>
Date:   Sun May 6 18:43:18 2012 +0900

    Correct some typos in error messages.

 tools/qfcc/source/expr.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 954e03c
Author: Bill Currie <bill@taniwha.org>
Date:   Sun May 6 13:02:11 2012 +0900

    Report the correct function name for the largest locals.
    
    I must have been tired when I adapted that code.
    
    * taniwha dons brown paper bag

 tools/qfcc/source/obj_file.c |    5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 95a06c2
Author: Bill Currie <bill@taniwha.org>
Date:   Sat May 5 19:34:35 2012 +0900

    Move qfcc's libs and headers to ${prefix}/share
    
    On discussion with Despair, share makes more sense than lib as they are
    really cross-platform (though qfcc itself is not).

 config.d/qfcc.m4            |    8 ++++----
 pkg-config/qfcc.pc.in       |    4 ++--
 ruamoko/gui/Makefile.am     |    2 +-
 ruamoko/include/Makefile.am |    2 +-
 ruamoko/lib/Makefile.am     |    2 +-
 ruamoko/scheme/Makefile.am  |    2 +-
 6 files changed, 10 insertions(+), 10 deletions(-)

commit 9b07f9a
Author: Bill Currie <bill@taniwha.org>
Date:   Sat May 5 18:39:25 2012 +0900

    Change the default renderer to gl.
    
    Until glsl starts looking good, anyway.

 config.d/build_control.m4 |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 55ecf94
Author: Bill Currie <bill@taniwha.org>
Date:   Sat May 5 18:04:10 2012 +0900

    Don't draw arrows leaving return statements.
    
    Return statements never flow to the next block (or any other block, for
    that matter), so drawing arrows leaving them not only messes up dot's
    graphs, but is quite missleading.

 tools/qfcc/source/dot_flow.c |   11 ++++++++++-
 1 file changed, 10 insertions(+), 1 deletion(-)

commit 099d9ec
Author: Bill Currie <bill@taniwha.org>
Date:   Sat May 5 18:01:00 2012 +0900

    Move the increment of order out of the loop.
    
    I don't know what gcc's optimizations would do with it, but it seems quite
    reasonable to pull the code out of the loop by hand.

 libs/video/renderer/gl/gl_mod_alias.c |    3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit cf5c9f0
Author: Bill Currie <bill@taniwha.org>
Date:   Sat May 5 17:55:30 2012 +0900

    Make GL_DrawAliasShadow const correct.
    
    Despair's having troubles with segfaults that I can't reproduce. If it's a
    strict aliasing problem, this might help.

 libs/video/renderer/gl/gl_mod_alias.c |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 56410dd
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 4 22:35:20 2012 +0900

    Prevent merged if/goto losing its way.
    
    When mering if/goto (ie, if skipping a goto), the rest of the dead code
    remover is used to delete the goto. That part of the code unuses the goto's
    label. The if was getting the goto's label without the lable's used count
    being incremented (the usaged temporarily increases by one). I have no idea
    why the problem showed up randomly, but this seems to fix it (it fixes /a/
    bug, anyway).

 tools/qfcc/source/statements.c |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 953e789
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 4 19:48:32 2012 +0900

    Handle movement of the final block.
    
    Moving a final block caused segfaults and weird flow graph corruptions.

 tools/qfcc/source/statements.c |    7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

commit e8c17c6
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 4 18:13:11 2012 +0900

    Fix a segfault when the switch expression errors.

 tools/qfcc/source/switch.c |    2 ++
 1 file changed, 2 insertions(+)

commit 5df2513
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 4 18:00:05 2012 +0900

    Implement code movement for unconditional jumps.
    
    That is, when the destination of the jump is reachable via only the jump.

 tools/qfcc/source/statements.c |   88 +++++++++++++++++++++++++++++++++++++++-
 1 file changed, 86 insertions(+), 2 deletions(-)

commit 33bfac0
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 4 14:10:30 2012 +0900

    Process all basic blocks for jump threading.
    
    I'd copied the for loop from the dead block removal code, but jump
    threading doesn't need to look at the following block...

 tools/qfcc/source/statements.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f169a77
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 4 14:01:39 2012 +0900

    Factor out label unuse.
    
    I expect to need this more often in the future.

 tools/qfcc/source/statements.c |   16 ++++++++++------
 1 file changed, 10 insertions(+), 6 deletions(-)

commit d2da3b8
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 4 11:04:58 2012 +0900

    Update old test for new syntax.

 tools/qfcc/test/switch.r |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 75aa28c
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 4 10:58:18 2012 +0900

    Mark all subsequent blocks as reachable after if/goto merge.
    
    If an if/goto merge is done in the first dead block pass, no blocks after
    the merge have their rechable flag set because they've never been tested.

 tools/qfcc/source/statements.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 8ddd58f
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 4 10:02:02 2012 +0900

    Fix the dropping of the block after the merged if/goto.
    
    The naive implementation of the if/goto merging was letting the old target
    of the if get dropped because the block would lose its label and thus be
    judged unreachable because the preceeding goto block was still in the list.
    Instead, when the if/goto are "merged", mark the goto block as unreachable,
    the following block as reachable, and break out of the analysis loop to
    force the removal of the goto block. Since the dead block removal function
    loops until no action is taken, all other dead blocks will be removed.

 tools/qfcc/source/statements.c |    5 +++++
 1 file changed, 5 insertions(+)

commit e866619
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 4 09:45:51 2012 +0900

    Output basic block flow diagrams to files.
    
    The output can be controlled via --block-dot (not yet documented). The
    files a named <sourcefile>.<function>.<stage>.dot. Currently, stage will be
    one of "initial" (after expression to statement conversion), "thread"
    (after jump threading), "dead" (after dead block removal), "final" (final
    state before actual code emission).

 tools/qfcc/include/options.h    |    8 ++++
 tools/qfcc/include/statements.h |    2 +-
 tools/qfcc/source/dot_flow.c    |   81 +++++++++++++++++++++++----------------
 tools/qfcc/source/options.c     |   33 ++++++++++++++++
 tools/qfcc/source/statements.c  |   23 +++++++++--
 5 files changed, 109 insertions(+), 38 deletions(-)

commit 3da44ac
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 3 22:21:32 2012 +0900

    Merge if and goto blocks when if only skips over the goto.

 tools/qfcc/source/statements.c |   26 +++++++++++++++++++++++++-
 1 file changed, 25 insertions(+), 1 deletion(-)

commit 6afdfb5
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 3 22:20:00 2012 +0900

    Unuse label expressions that are no longer necessary.

 tools/qfcc/source/statements.c |    2 ++
 1 file changed, 2 insertions(+)

commit 402a578
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 3 22:13:50 2012 +0900

    Add some more helper functions.
    
    Things were getting messy with the strcmps.

 tools/qfcc/source/statements.c |   36 ++++++++++++++++++++++++++----------
 1 file changed, 26 insertions(+), 10 deletions(-)

commit 88bed36
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 3 22:11:52 2012 +0900

    Rename some helper functions.

 tools/qfcc/source/statements.c |   12 ++++++------
 1 file changed, 6 insertions(+), 6 deletions(-)

commit 159f1ba
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 3 22:09:49 2012 +0900

    Add a little more info to statement flow diagrams.
    
    The relative block number and the label user count are printed now.

 tools/qfcc/source/dot_flow.c |   12 +++++++-----
 1 file changed, 7 insertions(+), 5 deletions(-)

commit 6900907
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 3 19:32:44 2012 +0900

    Remove dead labels when jump threading.
    
    This lets the dead block removal do a better job.

 tools/qfcc/source/statements.c |   22 ++++++++++++----------
 1 file changed, 12 insertions(+), 10 deletions(-)

commit ab73a26
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 3 19:22:57 2012 +0900

    Do not unconditionally remove labels from blocks.
    
    Labels can be shared between multiple flow-control instructions, so use the
    label's used counter to determine when to remove the label. This was
    causing problems with the jump threading.

 tools/qfcc/source/statements.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit c79620f
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 3 19:10:44 2012 +0900

    Make statement blocks more identifiable.

 tools/qfcc/source/dot_flow.c |    8 ++++++--
 1 file changed, 6 insertions(+), 2 deletions(-)

commit 43b5edf
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 3 17:42:58 2012 +0900

    Implement jump threading.
    
    First real optimization :)

 tools/qfcc/source/statements.c |   33 +++++++++++++++++++++++++++++++++
 tools/qfcc/test/thread-jumps.r |   16 ++++++++++++++++
 2 files changed, 49 insertions(+)

commit 78a9ba2
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 3 13:57:31 2012 +0900

    Make expression alias chains not-a-bug.
    
    The common cause seems to be casting a cast (very common, and I'm not sure
    just realiasing the expression would be right). It does't cause any harm
    (particularly, it doesn't trigger alias def chains), so I won't worry about
    it.

 tools/qfcc/source/expr.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 0068824
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 3 13:28:16 2012 +0900

    Fix the source of alias def chains.
    
    The actual bug might still be elsewhere, but at least now I know the alias
    chains were coming from accessing .return and .param_N, which are unions
    (not directly usable by the progs engine). Emitting a reference to a union
    (or struct) would create an alias def, but an alias expression was created
    in the expression tree to simplify return/param access. The double layer
    (sometimes 3 or 4) alias isn't really neaded, so rather than layering the
    aliases, just re-alias the alaised def.

 tools/qfcc/source/emit.c |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit ec98e3e
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 3 13:27:30 2012 +0900

    Mark alias def chains as a bug.

 tools/qfcc/source/def.c  |    9 +++++++++
 tools/qfcc/source/emit.c |   11 +++++++++++
 tools/qfcc/source/expr.c |    4 ++++
 3 files changed, 24 insertions(+)

commit 5f676c3
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 3 13:24:24 2012 +0900

    Add a non-error diagnostic that can't be silenced.
    
    It is inteded for flagging buggy conditions in the compiler, particularly
    after having fixed the original bug (in case something comes back from the
    dead).

 tools/qfcc/include/diagnostic.h |    2 ++
 tools/qfcc/source/diagnostic.c  |   20 ++++++++++++++++++++
 2 files changed, 22 insertions(+)

commit 3306039
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 3 11:55:19 2012 +0900

    Print the destination type for alias expression bubbles.

 tools/qfcc/source/dot_expr.c |   10 ++++++++--
 1 file changed, 8 insertions(+), 2 deletions(-)

commit cb8fe4e
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 3 11:54:36 2012 +0900

    Correct a "spelling" error.

 tools/qfcc/include/diagnostic.h |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit e267e0a
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 3 00:22:24 2012 +0900

    Allow control of progdefs.h CRC writing.
    
    CRC writing defaults to off for non-v6 progs, but on for v6 progs. The
    --progdefs option forces CRC writing.

 tools/qfcc/doc/man/qfcc.1    |    7 ++++++-
 tools/qfcc/include/options.h |    1 +
 tools/qfcc/source/options.c  |   12 +++++++++++-
 tools/qfcc/source/qfcc.c     |    8 ++++++--
 4 files changed, 24 insertions(+), 4 deletions(-)

commit 44fcd76
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 3 00:03:13 2012 +0900

    Add some missing command line option docs.

 tools/qfcc/doc/man/qfcc.1   |    3 +++
 tools/qfcc/source/options.c |    5 ++++-
 2 files changed, 7 insertions(+), 1 deletion(-)

commit 15de69d
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 2 23:39:49 2012 +0900

    Use dstring for progdefs.h writing.
    
    And finally get qfcc into the thing :P

 tools/qfcc/source/idstuff.c |   66 +++++++++++++++++++++++--------------------
 1 file changed, 36 insertions(+), 30 deletions(-)

commit 04b9b3a
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 2 22:44:45 2012 +0900

    Fix progdefs.h writing.

 tools/qfcc/source/idstuff.c |   29 ++++++++++++++++++-----------
 1 file changed, 18 insertions(+), 11 deletions(-)

commit ce278b2
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 2 22:29:17 2012 +0900

    Ensure .zero does not get a vector field for v6 progs.
    
    v6 progs expects .zero to be only 1 word. The code actually tried to keep
    vector out of .zero, but it seems I'd rearranged the structure defintion
    without updating the code that kills the vector field. Problem spotted by
    divVerent.

 tools/qfcc/source/type.c |    3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit 4fe7efb
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Apr 30 20:27:24 2012 +0900

    Add a test for end of function conditional return.
    
    divVerent was telling Spike about such a bug in fteqcc and I though I'd
    better get in an explicit test for qfcc.

 tools/qfcc/test/void-return.qc |    6 ++++++
 1 file changed, 6 insertions(+)

commit 5923746
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Apr 28 15:02:17 2012 +0900

    Add jump to news.

 NEWS |    3 +++
 1 file changed, 3 insertions(+)

commit f9a384f
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Apr 28 14:53:15 2012 +0900

    Make simple gravity acceleration framerate independent.
    
    Now it doesn't matter if you get 22 fps or 72, you jump the same height,
    which actually happens to be slightly higher than the previous 72fps jump.
    Effectively, you jump the height you would if you got infinite fps ;)

 include/qw/pmove.h     |    1 +
 nq/include/server.h    |    1 +
 nq/include/sv_progs.h  |    1 +
 nq/source/sv_cl_phys.c |    4 +++-
 nq/source/sv_phys.c    |   32 ++++++++++++++++++++++++++++----
 qw/include/server.h    |    1 +
 qw/include/sv_progs.h  |    1 +
 qw/source/pmove.c      |    9 ++++++++-
 qw/source/sv_phys.c    |   32 ++++++++++++++++++++++++++++----
 9 files changed, 72 insertions(+), 10 deletions(-)

commit a43bd75
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Apr 28 13:02:36 2012 +0900

    Fix the 32-bit x86 build of the software renderer.
    
    I really need to remove the sledge-hammer approach, but this at least gets
    QF working out-of-the-box on 32-bit x86 systems.

 libs/video/renderer/sw/d_copy.S     |    4 ++++
 libs/video/renderer/sw/sw_raclip.c  |    4 ++++
 libs/video/renderer/sw/sw_raclipa.S |    4 ++++
 libs/video/renderer/sw/sw_rsurf.c   |    8 ++++----
 libs/video/renderer/sw/sw_rvarsa.S  |    4 ++++
 5 files changed, 20 insertions(+), 4 deletions(-)

commit 8791b35
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Apr 26 20:55:11 2012 +0900

    Add support for half floats.
    
    iqm and OpenGL use them, so they might come in handy. The tests use values
    from wikipedia and a couple extra.

 include/QF/mathlib.h       |    2 ++
 libs/util/mathlib.c        |   74 ++++++++++++++++++++++++++++++++++++++++++++
 libs/util/test/Makefile.am |    6 +++-
 libs/util/test/test-half.c |   52 +++++++++++++++++++++++++++++++
 4 files changed, 133 insertions(+), 1 deletion(-)

commit e06ee34
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Apr 26 11:53:21 2012 +0900

    Allow quat * vec in ruamoko.

 tools/qfcc/source/constfold.c |   24 +++++++++++++++++++++++-
 tools/qfcc/test/quattest.r    |   16 ++++++++++++++++
 2 files changed, 39 insertions(+), 1 deletion(-)

commit 1a0ccf6
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Apr 26 10:29:21 2012 +0900

    Add vec = quat * vec to the progs engine.

 include/QF/pr_comp.h      |    3 ++-
 libs/gamecode/pr_exec.c   |    3 +++
 libs/gamecode/pr_opcode.c |    4 ++++
 3 files changed, 9 insertions(+), 1 deletion(-)

commit 0a22a98
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Apr 26 10:26:43 2012 +0900

    Fix some mis-versioned opcodes.
    
    Many of the quaternion opcodes were marked as being available for id progs.
    oops

 libs/gamecode/pr_opcode.c |   24 ++++++++++++------------
 1 file changed, 12 insertions(+), 12 deletions(-)

commit efaef89
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Apr 26 09:24:05 2012 +0900

    Add a shortcut function for quaterion/vector multiplication.
    
    I got the idea from blender when I discovered by accident that quat * vect
    produces the same result as quat * qvect * quat* and looked up the code to
    check what was going on. While matrix/vector multiplication still beats the
    pants off quaternion/vector multiplication, QuatMultVec is a slight
    optimization over quat * qvect * quat* (17+,24* vs 24+,32*, plus no need to
    to generate quat*).

 include/QF/mathlib.h       |    1 +
 libs/util/mathlib.c        |   14 ++++++++++++
 libs/util/test/test-quat.c |   51 ++++++++++++++++++++++++++++++++++++++++++++
 3 files changed, 66 insertions(+)

commit 7b0d483
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Apr 26 07:28:22 2012 +0900

    Fix a signed type mixup.
    
    I mis-applied calim's patch, and gcc failed to tell me :(

 libs/util/sys.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 20b7a46
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Apr 25 11:50:20 2012 +0900

    Remove a bogus model type check.
    
    This allows 16-bit alias models to render when viewd straight on.

 libs/video/renderer/sw32/sw32_ralias.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ba7046e
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Apr 25 10:47:44 2012 +0900

    Allow large skins in sw32.
    
    Dirty rotten magic numbers :P

 libs/video/renderer/sw32/d_polyse.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 866c56c
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Apr 25 10:09:23 2012 +0900

    Do not try to lerp entities when their model changes.
    
    This avoids sending invalid pose data to the renderer. The symptom was a
    vertex array offset higher than the vertex array size. Discovered by calim
    of nouveau while he was debugging a driver problem found by QF. Many
    thanks.

 include/QF/render.h                   |    1 +
 libs/video/renderer/glsl/glsl_alias.c |   13 +++++++++++++
 libs/video/renderer/r_ent.c           |    6 ++++++
 3 files changed, 20 insertions(+)

commit a7870a9
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Apr 25 08:48:46 2012 +0900

    Apply a couple of patches from calim of nouveau.
    
    One's an actual bug, the other a bit of error checking (not sure how
    necessary it is, but it's in code that we don't /want/ to run, so it can't
    hurt :)

 libs/util/sys.c       |    5 ++++-
 qw/source/sv_pr_qwe.c |    2 +-
 2 files changed, 5 insertions(+), 2 deletions(-)

commit e167300
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Apr 24 22:02:20 2012 +0900

    Fix a segfault in the sw32 renderer on entering e1m7
    
    While this particular tigger of the real bug was caused by 659d95221ee
    (hopefully fix both the "get stuck waiting for 3d" bug and the null
    worldmode bug.), the real bug was lurking in the code since the dawn of
    time (from sw32's perspective). This fix is as per LordHavoc's suggestion
    (heh, despite the years, he knows his code), but I spent the time hunting
    down the trigger to understand just what was going on.
    
    It turns out that (0,0,0) is too close to a wall (probably on, but the
    slight default offset is too close) and the above commit changed the first
    rendered frame to be before the player origin was set rather than after.
    This fix feels correct to me because noclipping around with the sw32
    renderer would probably hit the same bug with a bit of bad luck. Thus
    ensure the index resulting from zi never exceeds 65535.

 libs/video/renderer/sw32/d_scan.c |   24 ++++++++++++------------
 1 file changed, 12 insertions(+), 12 deletions(-)

commit 3788a1a
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Apr 24 14:13:29 2012 +0900

    Correct the output of 16-bit vertex data.
    
    The order is high (unscaled) low (scaled by 1/256) rather than low
    (unscaled) high (scaled by 256).

 tools/io_mesh_qfmdl/mdl.py |   10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit 95cef4a
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Apr 24 14:12:54 2012 +0900

    Correct a spelling error.

 libs/models/alias/sw_model_alias.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c2712e6
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Apr 24 11:04:45 2012 +0900

    Track recent api change in svn blender.
    
    Bah, I'm looking forward to the bmesh api stabilizing.

 tools/io_mesh_qfmdl/export_mdl.py |    2 +-
 tools/io_mesh_qfmdl/import_mdl.py |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit efd3485
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Apr 22 22:13:17 2012 +0900

    Updates for the next release.
    
    I haven't decided on the version number yet.

 NEWS |   11 +++++++++++
 1 file changed, 11 insertions(+)

commit 99c58cc
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Apr 22 22:11:41 2012 +0900

    Make exporting md16 files possible.
    
    Not sure if it actually works as the clients don't render the result
    properly (can't see anything where the model should be), but the output
    model does import back into blender properly.

 tools/io_mesh_qfmdl/__init__.py   |    4 ++++
 tools/io_mesh_qfmdl/export_mdl.py |    2 ++
 tools/io_mesh_qfmdl/import_mdl.py |    1 +
 tools/io_mesh_qfmdl/mdl.py        |    6 +++---
 4 files changed, 10 insertions(+), 3 deletions(-)

commit 87e56e0
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Apr 22 22:20:45 2012 +0900

    Fix some doxygen issues.

 include/QF/vrect.h     |    6 +++---
 include/snd_internal.h |    2 ++
 2 files changed, 5 insertions(+), 3 deletions(-)

commit bc1b483
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Apr 22 10:56:32 2012 +0900

    Nuke the rcsid stuff.
    
    It's pretty useless in git.

 doc/template.c                             |    2 --
 doc/template.h                             |    1 -
 include/QF/GL/defines.h                    |    1 -
 include/QF/GL/extensions.h                 |    1 -
 include/QF/GL/funcs.h                      |    1 -
 include/QF/GL/qf_draw.h                    |    1 -
 include/QF/GL/qf_explosions.h              |    1 -
 include/QF/GL/qf_funcs_list.h              |    1 -
 include/QF/GL/qf_lightmap.h                |    1 -
 include/QF/GL/qf_rlight.h                  |    1 -
 include/QF/GL/qf_rmain.h                   |    1 -
 include/QF/GL/qf_rsurf.h                   |    1 -
 include/QF/GL/qf_sky.h                     |    1 -
 include/QF/GL/qf_textures.h                |    1 -
 include/QF/GL/qf_vid.h                     |    1 -
 include/QF/GL/types.h                      |    1 -
 include/QF/GLSL/funcs.h                    |    1 -
 include/QF/GLSL/qf_alias.h                 |    1 -
 include/QF/GLSL/qf_bsp.h                   |    1 -
 include/QF/GLSL/qf_draw.h                  |    1 -
 include/QF/GLSL/qf_lightmap.h              |    1 -
 include/QF/GLSL/qf_particles.h             |    1 -
 include/QF/GLSL/qf_textures.h              |    1 -
 include/QF/GLSL/qf_vid.h                   |    1 -
 include/QF/bspfile.h                       |    1 -
 include/QF/cbuf.h                          |    1 -
 include/QF/cdaudio.h                       |    1 -
 include/QF/checksum.h                      |    1 -
 include/QF/classes/ArrayList.h             |    1 -
 include/QF/classes/Collection.h            |    1 -
 include/QF/classes/Double.h                |    1 -
 include/QF/classes/Exception.h             |    1 -
 include/QF/classes/Integer.h               |    1 -
 include/QF/classes/Iterator.h              |    1 -
 include/QF/classes/List.h                  |    1 -
 include/QF/classes/Number.h                |    1 -
 include/QF/classes/String.h                |    1 -
 include/QF/clip_hull.h                     |    1 -
 include/QF/cmd.h                           |    1 -
 include/QF/console.h                       |    1 -
 include/QF/crc.h                           |    1 -
 include/QF/csqc.h                          |    1 -
 include/QF/cvar.h                          |    1 -
 include/QF/draw.h                          |    1 -
 include/QF/dstring.h                       |    1 -
 include/QF/gib.h                           |    1 -
 include/QF/hash.h                          |    1 -
 include/QF/hl.h                            |    1 -
 include/QF/in_event.h                      |    1 -
 include/QF/info.h                          |    1 -
 include/QF/input.h                         |    1 -
 include/QF/joystick.h                      |    1 -
 include/QF/keys.h                          |    1 -
 include/QF/link.h                          |    1 -
 include/QF/llist.h                         |    1 -
 include/QF/locs.h                          |    1 -
 include/QF/mathlib.h                       |    1 -
 include/QF/mdfour.h                        |    1 -
 include/QF/model.h                         |    1 -
 include/QF/modelgen.h                      |    1 -
 include/QF/msg.h                           |    1 -
 include/QF/object.h                        |    1 -
 include/QF/pak.h                           |    1 -
 include/QF/pakfile.h                       |    1 -
 include/QF/plugin.h                        |    1 -
 include/QF/plugin/cd.h                     |    1 -
 include/QF/plugin/console.h                |    1 -
 include/QF/plugin/general.h                |    1 -
 include/QF/plugin/input.h                  |    1 -
 include/QF/plugin/snd_output.h             |    1 -
 include/QF/plugin/snd_render.h             |    1 -
 include/QF/plugin/vid_render.h             |    1 -
 include/QF/png.h                           |    1 -
 include/QF/pr_debug.h                      |    1 -
 include/QF/pr_obj.h                        |    1 -
 include/QF/progs.h                         |    1 -
 include/QF/qargs.h                         |    1 -
 include/QF/qdefs.h                         |    1 -
 include/QF/qendian.h                       |    1 -
 include/QF/qfplist.h                       |    1 -
 include/QF/qtypes.h                        |    1 -
 include/QF/quakefs.h                       |    1 -
 include/QF/quakeio.h                       |    1 -
 include/QF/render.h                        |    1 -
 include/QF/riff.h                          |    1 -
 include/QF/ruamoko.h                       |    1 -
 include/QF/screen.h                        |    1 -
 include/QF/sizebuf.h                       |    1 -
 include/QF/skin.h                          |    1 -
 include/QF/sound.h                         |    1 -
 include/QF/spritegn.h                      |    1 -
 include/QF/sys.h                           |    1 -
 include/QF/teamplay.h                      |    1 -
 include/QF/tga.h                           |    1 -
 include/QF/uint32.h                        |    1 -
 include/QF/va.h                            |    1 -
 include/QF/ver_check.h                     |    1 -
 include/QF/vid.h                           |    1 -
 include/QF/view.h                          |    1 -
 include/QF/vrect.h                         |    1 -
 include/QF/wad.h                           |    1 -
 include/QF/wadfile.h                       |    1 -
 include/QF/winding.h                       |    1 -
 include/QF/zone.h                          |    1 -
 include/adivtab.h                          |    1 -
 include/alsa_funcs_list.h                  |    1 -
 include/anorm_dots.h                       |    1 -
 include/anorms.h                           |    1 -
 include/asm_draw.h                         |    1 -
 include/asm_i386.h                         |    1 -
 include/block16.h                          |    1 -
 include/block8.h                           |    1 -
 include/buildnum.h                         |    1 -
 include/clview.h                           |    1 -
 include/compat.h                           |    1 -
 include/context_sdl.h                      |    1 -
 include/context_x11.h                      |    1 -
 include/d_iface.h                          |    1 -
 include/d_ifacea.h                         |    1 -
 include/d_local.h                          |    1 -
 include/dga_check.h                        |    1 -
 include/garbage.h                          |    1 -
 include/gib_buffer.h                       |    1 -
 include/gib_builtin.h                      |    1 -
 include/gib_classes.h                      |    1 -
 include/gib_execute.h                      |    1 -
 include/gib_function.h                     |    1 -
 include/gib_handle.h                       |    1 -
 include/gib_object.h                       |    1 -
 include/gib_parse.h                        |    1 -
 include/gib_process.h                      |    1 -
 include/gib_regex.h                        |    1 -
 include/gib_semantics.h                    |    1 -
 include/gib_thread.h                       |    1 -
 include/gib_tree.h                         |    1 -
 include/gib_vars.h                         |    1 -
 include/gl_warp_sin.h                      |    1 -
 include/logos.h                            |    1 -
 include/net_dgrm.h                         |    1 -
 include/net_loop.h                         |    1 -
 include/net_udp.h                          |    1 -
 include/net_vcr.h                          |    1 -
 include/net_wins.h                         |    1 -
 include/netchan.h                          |    1 -
 include/netmain.h                          |    1 -
 include/noisetextures.h                    |    1 -
 include/old_keys.h                         |    1 -
 include/qstring.h                          |    1 -
 include/quakeasm.h                         |    1 -
 include/qw/bothdefs.h                      |    1 -
 include/qw/msg_backbuf.h                   |    1 -
 include/qw/msg_ucmd.h                      |    1 -
 include/qw/pmove.h                         |    1 -
 include/qw/protocol.h                      |    1 -
 include/r_dynamic.h                        |    1 -
 include/r_local.h                          |    1 -
 include/r_screen.h                         |    1 -
 include/r_shared.h                         |    1 -
 include/rua_internal.h                     |    1 -
 include/sbar.h                             |    1 -
 include/skin_stencil.h                     |    1 -
 include/snd_internal.h                     |    1 -
 include/varrays.h                          |    1 -
 include/vgamodes.h                         |    1 -
 include/vregset.h                          |    1 -
 include/winquake.h                         |    1 -
 include/world.h                            |    1 -
 libs/audio/cd.c                            |    3 ---
 libs/audio/cd_file.c                       |    3 ---
 libs/audio/cd_linux.c                      |    3 ---
 libs/audio/cd_sdl.c                        |    3 ---
 libs/audio/cd_sgi.c                        |    3 ---
 libs/audio/cd_win.c                        |    3 ---
 libs/audio/cd_xmms.c                       |    3 ---
 libs/audio/renderer/flac.c                 |    3 ---
 libs/audio/renderer/midi.c                 |    3 ---
 libs/audio/renderer/snd_channels.c         |    3 ---
 libs/audio/renderer/snd_dma.c              |    3 ---
 libs/audio/renderer/snd_jack.c             |    3 ---
 libs/audio/renderer/snd_mem.c              |    3 ---
 libs/audio/renderer/snd_mix.c              |    3 ---
 libs/audio/renderer/snd_resample.c         |    3 ---
 libs/audio/renderer/snd_sfx.c              |    3 ---
 libs/audio/renderer/vorbis.c               |    3 ---
 libs/audio/renderer/wav.c                  |    3 ---
 libs/audio/snd.c                           |    3 ---
 libs/audio/snd_progs.c                     |    3 ---
 libs/audio/targets/snd_alsa.c              |    3 ---
 libs/audio/targets/snd_disk.c              |    3 ---
 libs/audio/targets/snd_dx.c                |    4 ----
 libs/audio/targets/snd_oss.c               |    3 ---
 libs/audio/targets/snd_sdl.c               |    3 ---
 libs/audio/targets/snd_sgi.c               |    3 ---
 libs/audio/targets/snd_sun.c               |    3 ---
 libs/audio/targets/snd_win.c               |    3 ---
 libs/audio/test/testsound.c                |    3 ---
 libs/console/bi_inputline.c                |    2 --
 libs/console/buffer.c                      |    3 ---
 libs/console/client.c                      |    3 ---
 libs/console/complete.c                    |    3 ---
 libs/console/console.c                     |    3 ---
 libs/console/filelist.c                    |    3 ---
 libs/console/inputline.c                   |    3 ---
 libs/console/list.c                        |    3 ---
 libs/console/menu.c                        |    3 ---
 libs/console/pr_keys.c                     |    3 ---
 libs/console/server.c                      |    3 ---
 libs/console/view.c                        |    3 ---
 libs/gamecode/pr_builtins.c                |    3 ---
 libs/gamecode/pr_debug.c                   |    3 ---
 libs/gamecode/pr_edict.c                   |    3 ---
 libs/gamecode/pr_exec.c                    |    3 ---
 libs/gamecode/pr_load.c                    |    3 ---
 libs/gamecode/pr_opcode.c                  |    3 ---
 libs/gamecode/pr_parse.c                   |    3 ---
 libs/gamecode/pr_resolve.c                 |    3 ---
 libs/gamecode/pr_resource.c                |    3 ---
 libs/gamecode/pr_strings.c                 |    3 ---
 libs/gamecode/pr_zone.c                    |    3 ---
 libs/gib/bi_gib.c                          |    3 ---
 libs/gib/gib_buffer.c                      |    3 ---
 libs/gib/gib_builtin.c                     |    4 ----
 libs/gib/gib_execute.c                     |    4 ----
 libs/gib/gib_function.c                    |    4 ----
 libs/gib/gib_handle.c                      |    3 ---
 libs/gib/gib_init.c                        |    2 --
 libs/gib/gib_object.c                      |    3 ---
 libs/gib/gib_parse.c                       |    3 ---
 libs/gib/gib_process.c                     |    3 ---
 libs/gib/gib_regex.c                       |    4 ----
 libs/gib/gib_thread.c                      |    3 ---
 libs/gib/gib_tree.c                        |    3 ---
 libs/gib/gib_vars.c                        |    3 ---
 libs/image/image.c                         |    3 ---
 libs/image/pcx.c                           |    3 ---
 libs/image/png.c                           |    2 --
 libs/image/tga.c                           |    3 ---
 libs/models/alias/floodfill.c              |    2 --
 libs/models/alias/gl_mesh.c                |    3 ---
 libs/models/alias/gl_model_alias.c         |    2 --
 libs/models/alias/glsl_model_alias.c       |    2 --
 libs/models/alias/model_alias.c            |    3 ---
 libs/models/alias/sw_model_alias.c         |    2 --
 libs/models/brush/gl_model_brush.c         |    3 ---
 libs/models/brush/glsl_model_brush.c       |    2 --
 libs/models/brush/model_brush.c            |    3 ---
 libs/models/brush/sw_model_brush.c         |    3 ---
 libs/models/clip_hull.c                    |    3 ---
 libs/models/gl_model_fullbright.c          |    3 ---
 libs/models/gl_skin.c                      |    2 --
 libs/models/glsl_skin.c                    |    2 --
 libs/models/model.c                        |    3 ---
 libs/models/null_model.c                   |    3 ---
 libs/models/portal.c                       |    2 --
 libs/models/skin.c                         |    2 --
 libs/models/sprite/gl_model_sprite.c       |    3 ---
 libs/models/sprite/glsl_model_sprite.c     |    2 --
 libs/models/sprite/model_sprite.c          |    3 ---
 libs/models/sprite/sw_model_sprite.c       |    3 ---
 libs/models/sw_skin.c                      |    2 --
 libs/models/test/trace-qf-bad.c            |    3 ---
 libs/models/trace.c                        |    3 ---
 libs/models/winding.c                      |    3 ---
 libs/net/nc/net_udp.c                      |    3 ---
 libs/net/nc/net_udp6.c                     |    3 ---
 libs/net/net_chan.c                        |    3 ---
 libs/net/net_main.c                        |    3 ---
 libs/net/nm/net_bsd.c                      |    3 ---
 libs/net/nm/net_dgrm.c                     |    3 ---
 libs/net/nm/net_loop.c                     |    3 ---
 libs/net/nm/net_udp.c                      |    3 ---
 libs/net/nm/net_vcr.c                      |    3 ---
 libs/net/nm/net_win.c                      |    3 ---
 libs/net/nm/net_wins.c                     |    3 ---
 libs/qw/msg_backbuf.c                      |    3 ---
 libs/qw/msg_ucmd.c                         |    3 ---
 libs/ruamoko/pr_cmds.c                     |    3 ---
 libs/ruamoko/rua_cbuf.c                    |    3 ---
 libs/ruamoko/rua_cmd.c                     |    3 ---
 libs/ruamoko/rua_cvar.c                    |    3 ---
 libs/ruamoko/rua_file.c                    |    3 ---
 libs/ruamoko/rua_hash.c                    |    3 ---
 libs/ruamoko/rua_init.c                    |    3 ---
 libs/ruamoko/rua_math.c                    |    3 ---
 libs/ruamoko/rua_obj.c                     |    3 ---
 libs/ruamoko/rua_plist.c                   |    3 ---
 libs/ruamoko/rua_qfile.c                   |    3 ---
 libs/ruamoko/rua_qfs.c                     |    3 ---
 libs/ruamoko/rua_script.c                  |    3 ---
 libs/ruamoko/rua_string.c                  |    3 ---
 libs/util/bspfile.c                        |    3 ---
 libs/util/buildnum.c                       |    3 ---
 libs/util/cbuf.c                           |    3 ---
 libs/util/checksum.c                       |    3 ---
 libs/util/cmd.c                            |    3 ---
 libs/util/crc.c                            |    3 ---
 libs/util/cvar.c                           |    3 ---
 libs/util/dirent.c                         |    3 ---
 libs/util/dstring.c                        |    3 ---
 libs/util/fendian.c                        |    3 ---
 libs/util/fnmatch.c                        |    3 ---
 libs/util/hash.c                           |    3 ---
 libs/util/idparse.c                        |    3 ---
 libs/util/info.c                           |    3 ---
 libs/util/link.c                           |    3 ---
 libs/util/llist.c                          |    3 ---
 libs/util/mathlib.c                        |    3 ---
 libs/util/mdfour.c                         |    3 ---
 libs/util/msg.c                            |    3 ---
 libs/util/pakfile.c                        |    3 ---
 libs/util/plugin.c                         |    3 ---
 libs/util/qargs.c                          |    2 --
 libs/util/qendian.c                        |    3 ---
 libs/util/qfplist.c                        |    3 ---
 libs/util/quakefs.c                        |    3 ---
 libs/util/quakeio.c                        |    3 ---
 libs/util/riff.c                           |    3 ---
 libs/util/script.c                         |    3 ---
 libs/util/sizebuf.c                        |    3 ---
 libs/util/string.c                         |    3 ---
 libs/util/sys.c                            |    3 ---
 libs/util/va.c                             |    3 ---
 libs/util/ver_check.c                      |    3 ---
 libs/util/vrect.c                          |    2 --
 libs/util/wad.c                            |    3 ---
 libs/util/wadfile.c                        |    3 ---
 libs/util/zone.c                           |    3 ---
 libs/video/renderer/crosshair.c            |    2 --
 libs/video/renderer/gl/gl_draw.c           |    2 --
 libs/video/renderer/gl/gl_dyn_lights.c     |    2 --
 libs/video/renderer/gl/gl_dyn_part.c       |    2 --
 libs/video/renderer/gl/gl_dyn_textures.c   |    2 --
 libs/video/renderer/gl/gl_fog.c            |    2 --
 libs/video/renderer/gl/gl_graph.c          |    2 --
 libs/video/renderer/gl/gl_lightmap.c       |    2 --
 libs/video/renderer/gl/gl_mod_alias.c      |    2 --
 libs/video/renderer/gl/gl_mod_sprite.c     |    2 --
 libs/video/renderer/gl/gl_rmain.c          |    2 --
 libs/video/renderer/gl/gl_rmisc.c          |    2 --
 libs/video/renderer/gl/gl_rsurf.c          |    2 --
 libs/video/renderer/gl/gl_screen.c         |    2 --
 libs/video/renderer/gl/gl_sky.c            |    2 --
 libs/video/renderer/gl/gl_sky_clip.c       |    2 --
 libs/video/renderer/gl/gl_textures.c       |    2 --
 libs/video/renderer/gl/gl_warp.c           |    2 --
 libs/video/renderer/gl/qfgl_ext.c          |    2 --
 libs/video/renderer/gl/vid_common_gl.c     |    2 --
 libs/video/renderer/glsl/glsl_alias.c      |    2 --
 libs/video/renderer/glsl/glsl_bsp.c        |    2 --
 libs/video/renderer/glsl/glsl_draw.c       |    2 --
 libs/video/renderer/glsl/glsl_fog.c        |    2 --
 libs/video/renderer/glsl/glsl_lightmap.c   |    2 --
 libs/video/renderer/glsl/glsl_main.c       |    2 --
 libs/video/renderer/glsl/glsl_particles.c  |    2 --
 libs/video/renderer/glsl/glsl_screen.c     |    2 --
 libs/video/renderer/glsl/glsl_sprite.c     |    2 --
 libs/video/renderer/glsl/glsl_textures.c   |    2 --
 libs/video/renderer/glsl/qfglsl.c          |    3 ---
 libs/video/renderer/glsl/vid_common_glsl.c |    2 --
 libs/video/renderer/noisetextures.c        |    3 ---
 libs/video/renderer/r_alias.c              |    2 --
 libs/video/renderer/r_bsp.c                |    2 --
 libs/video/renderer/r_cvar.c               |    3 ---
 libs/video/renderer/r_dyn_textures.c       |    2 --
 libs/video/renderer/r_efrag.c              |    3 ---
 libs/video/renderer/r_ent.c                |    3 ---
 libs/video/renderer/r_graph.c              |    3 ---
 libs/video/renderer/r_init.c               |    2 --
 libs/video/renderer/r_light.c              |    3 ---
 libs/video/renderer/r_main.c               |    2 --
 libs/video/renderer/r_part.c               |    3 ---
 libs/video/renderer/r_progs.c              |    3 ---
 libs/video/renderer/r_screen.c             |    2 --
 libs/video/renderer/sw/d_edge.c            |    3 ---
 libs/video/renderer/sw/d_fill.c            |    3 ---
 libs/video/renderer/sw/d_init.c            |    3 ---
 libs/video/renderer/sw/d_modech.c          |    3 ---
 libs/video/renderer/sw/d_part.c            |    3 ---
 libs/video/renderer/sw/d_polyse.c          |    3 ---
 libs/video/renderer/sw/d_scan.c            |    3 ---
 libs/video/renderer/sw/d_sky.c             |    3 ---
 libs/video/renderer/sw/d_sprite.c          |    3 ---
 libs/video/renderer/sw/d_surf.c            |    3 ---
 libs/video/renderer/sw/d_vars.c            |    3 ---
 libs/video/renderer/sw/d_zpoint.c          |    3 ---
 libs/video/renderer/sw/draw.c              |    2 --
 libs/video/renderer/sw/fpu.c               |    3 ---
 libs/video/renderer/sw/nonintel.c          |    3 ---
 libs/video/renderer/sw/screen.c            |    2 --
 libs/video/renderer/sw/sw_graph.c          |    3 ---
 libs/video/renderer/sw/sw_raclip.c         |    3 ---
 libs/video/renderer/sw/sw_ralias.c         |    3 ---
 libs/video/renderer/sw/sw_rbsp.c           |    3 ---
 libs/video/renderer/sw/sw_rdraw.c          |    3 ---
 libs/video/renderer/sw/sw_redge.c          |    3 ---
 libs/video/renderer/sw/sw_rmain.c          |    3 ---
 libs/video/renderer/sw/sw_rmisc.c          |    3 ---
 libs/video/renderer/sw/sw_rpart.c          |    3 ---
 libs/video/renderer/sw/sw_rsky.c           |    3 ---
 libs/video/renderer/sw/sw_rsprite.c        |    3 ---
 libs/video/renderer/sw/sw_rsurf.c          |    3 ---
 libs/video/renderer/sw/vid_common_sw.c     |    2 --
 libs/video/renderer/sw32/d_edge.c          |    2 --
 libs/video/renderer/sw32/d_fill.c          |    2 --
 libs/video/renderer/sw32/d_init.c          |    2 --
 libs/video/renderer/sw32/d_modech.c        |    2 --
 libs/video/renderer/sw32/d_part.c          |    2 --
 libs/video/renderer/sw32/d_polyse.c        |    2 --
 libs/video/renderer/sw32/d_scan.c          |    2 --
 libs/video/renderer/sw32/d_sky.c           |    2 --
 libs/video/renderer/sw32/d_sprite.c        |    2 --
 libs/video/renderer/sw32/d_surf.c          |    2 --
 libs/video/renderer/sw32/d_vars.c          |    2 --
 libs/video/renderer/sw32/d_zpoint.c        |    2 --
 libs/video/renderer/sw32/draw.c            |    2 --
 libs/video/renderer/sw32/screen.c          |    2 --
 libs/video/renderer/sw32/sw32_graph.c      |    2 --
 libs/video/renderer/sw32/sw32_raclip.c     |    2 --
 libs/video/renderer/sw32/sw32_ralias.c     |    2 --
 libs/video/renderer/sw32/sw32_rbsp.c       |    2 --
 libs/video/renderer/sw32/sw32_rdraw.c      |    2 --
 libs/video/renderer/sw32/sw32_redge.c      |    2 --
 libs/video/renderer/sw32/sw32_rmain.c      |    2 --
 libs/video/renderer/sw32/sw32_rmisc.c      |    2 --
 libs/video/renderer/sw32/sw32_rpart.c      |    2 --
 libs/video/renderer/sw32/sw32_rsky.c       |    2 --
 libs/video/renderer/sw32/sw32_rsprite.c    |    2 --
 libs/video/renderer/sw32/sw32_rsurf.c      |    2 --
 libs/video/renderer/sw32/vid_common_sw32.c |    2 --
 libs/video/targets/context_sdl.c           |    3 ---
 libs/video/targets/context_x11.c           |    3 ---
 libs/video/targets/dga_check.c             |    3 ---
 libs/video/targets/in_common.c             |    2 --
 libs/video/targets/in_event.c              |    3 ---
 libs/video/targets/in_fbdev.c              |    3 ---
 libs/video/targets/in_sdl.c                |    3 ---
 libs/video/targets/in_svgalib.c            |    3 ---
 libs/video/targets/in_win.c                |    3 ---
 libs/video/targets/in_x11.c                |    3 ---
 libs/video/targets/joy.c                   |    3 ---
 libs/video/targets/joy_linux.c             |    3 ---
 libs/video/targets/joy_null.c              |    3 ---
 libs/video/targets/joy_win.c               |    3 ---
 libs/video/targets/keys.c                  |    3 ---
 libs/video/targets/old_keys.c              |    3 ---
 libs/video/targets/vid.c                   |    3 ---
 libs/video/targets/vid_3dfxsvga.c          |    3 ---
 libs/video/targets/vid_fbdev.c             |    3 ---
 libs/video/targets/vid_glx.c               |    3 ---
 libs/video/targets/vid_sdl.c               |    3 ---
 libs/video/targets/vid_sdl32.c             |    3 ---
 libs/video/targets/vid_sgl.c               |    3 ---
 libs/video/targets/vid_svgalib.c           |    3 ---
 libs/video/targets/vid_wgl.c               |    3 ---
 libs/video/targets/vid_x11.c               |    2 --
 nq/include/chase.h                         |    1 -
 nq/include/cl_skin.h                       |    1 -
 nq/include/client.h                        |    1 -
 nq/include/game.h                          |    1 -
 nq/include/host.h                          |    1 -
 nq/include/protocol.h                      |    1 -
 nq/include/server.h                        |    1 -
 nq/include/sv_pr_cmds.h                    |    1 -
 nq/include/sv_progs.h                      |    1 -
 nq/source/cl_cam.c                         |    3 ---
 nq/source/cl_cmd.c                         |    2 --
 nq/source/cl_demo.c                        |    2 --
 nq/source/cl_ents.c                        |    2 --
 nq/source/cl_input.c                       |    3 ---
 nq/source/cl_main.c                        |    3 ---
 nq/source/cl_parse.c                       |    3 ---
 nq/source/cl_screen.c                      |    3 ---
 nq/source/cl_tent.c                        |    3 ---
 nq/source/cl_view.c                        |    3 ---
 nq/source/host.c                           |    2 --
 nq/source/host_cmd.c                       |    3 ---
 nq/source/sbar.c                           |    3 ---
 nq/source/sdl_link.c                       |    3 ---
 nq/source/sv_cl_phys.c                     |    3 ---
 nq/source/sv_ded.c                         |    2 --
 nq/source/sv_main.c                        |    3 ---
 nq/source/sv_move.c                        |    3 ---
 nq/source/sv_phys.c                        |    3 ---
 nq/source/sv_pr_cmds.c                     |    3 ---
 nq/source/sv_progs.c                       |    3 ---
 nq/source/sv_user.c                        |    3 ---
 nq/source/sys_sdl.c                        |    3 ---
 nq/source/sys_unix.c                       |    3 ---
 nq/source/sys_unixd.c                      |    3 ---
 nq/source/sys_win.c                        |    3 ---
 nq/source/sys_wind.c                       |    3 ---
 nq/source/world.c                          |    3 ---
 qtv/include/client.h                       |    1 -
 qtv/include/connection.h                   |    1 -
 qtv/include/qtv.h                          |    1 -
 qtv/include/server.h                       |    1 -
 qtv/source/client.c                        |    3 ---
 qtv/source/connection.c                    |    3 ---
 qtv/source/qtv.c                           |    3 ---
 qtv/source/sbar.c                          |    3 ---
 qtv/source/server.c                        |    3 ---
 qtv/source/sv_parse.c                      |    3 ---
 qw/include/cl_cam.h                        |    1 -
 qw/include/cl_chat.h                       |    1 -
 qw/include/cl_demo.h                       |    1 -
 qw/include/cl_ents.h                       |    1 -
 qw/include/cl_http.h                       |    1 -
 qw/include/cl_input.h                      |    1 -
 qw/include/cl_main.h                       |    1 -
 qw/include/cl_parse.h                      |    1 -
 qw/include/cl_pred.h                       |    1 -
 qw/include/cl_skin.h                       |    1 -
 qw/include/cl_slist.h                      |    1 -
 qw/include/cl_tent.h                       |    1 -
 qw/include/client.h                        |    1 -
 qw/include/crudefile.h                     |    1 -
 qw/include/game.h                          |    1 -
 qw/include/host.h                          |    1 -
 qw/include/map_cfg.h                       |    1 -
 qw/include/server.h                        |    1 -
 qw/include/sv_gib.h                        |    1 -
 qw/include/sv_pr_cmds.h                    |    1 -
 qw/include/sv_pr_cpqw.h                    |    1 -
 qw/include/sv_pr_qwe.h                     |    1 -
 qw/include/sv_progs.h                      |    1 -
 qw/include/sv_qtv.h                        |    1 -
 qw/include/sv_recorder.h                   |    1 -
 qw/source/cl_cam.c                         |    3 ---
 qw/source/cl_chat.c                        |    3 ---
 qw/source/cl_cmd.c                         |    2 --
 qw/source/cl_cvar.c                        |    3 ---
 qw/source/cl_demo.c                        |    2 --
 qw/source/cl_entparse.c                    |    3 ---
 qw/source/cl_ents.c                        |    2 --
 qw/source/cl_http.c                        |    3 ---
 qw/source/cl_input.c                       |    3 ---
 qw/source/cl_main.c                        |    3 ---
 qw/source/cl_ngraph.c                      |    3 ---
 qw/source/cl_parse.c                       |    3 ---
 qw/source/cl_pred.c                        |    3 ---
 qw/source/cl_screen.c                      |    3 ---
 qw/source/cl_skin.c                        |    3 ---
 qw/source/cl_slist.c                       |    3 ---
 qw/source/cl_sys_sdl.c                     |    3 ---
 qw/source/cl_sys_unix.c                    |    3 ---
 qw/source/cl_sys_win.c                     |    3 ---
 qw/source/cl_tent.c                        |    3 ---
 qw/source/cl_view.c                        |    3 ---
 qw/source/crudefile.c                      |    3 ---
 qw/source/locs.c                           |    3 ---
 qw/source/map_cfg.c                        |    3 ---
 qw/source/master.c                         |    3 ---
 qw/source/net_packetlog.c                  |    3 ---
 qw/source/pmove.c                          |    3 ---
 qw/source/pmovetst.c                       |    3 ---
 qw/source/sbar.c                           |    3 ---
 qw/source/sdl_link.c                       |    3 ---
 qw/source/sv_ccmds.c                       |    3 ---
 qw/source/sv_demo.c                        |    3 ---
 qw/source/sv_ents.c                        |    3 ---
 qw/source/sv_gib.c                         |    3 ---
 qw/source/sv_init.c                        |    3 ---
 qw/source/sv_main.c                        |    3 ---
 qw/source/sv_move.c                        |    3 ---
 qw/source/sv_phys.c                        |    3 ---
 qw/source/sv_pr_cmds.c                     |    3 ---
 qw/source/sv_pr_cpqw.c                     |    3 ---
 qw/source/sv_pr_qwe.c                      |    3 ---
 qw/source/sv_progs.c                       |    3 ---
 qw/source/sv_qtv.c                         |    3 ---
 qw/source/sv_recorder.c                    |    4 ----
 qw/source/sv_sbar.c                        |    3 ---
 qw/source/sv_send.c                        |    3 ---
 qw/source/sv_sys_unix.c                    |    3 ---
 qw/source/sv_sys_win.c                     |    3 ---
 qw/source/sv_user.c                        |    3 ---
 qw/source/teamplay.c                       |    3 ---
 qw/source/world.c                          |    3 ---
 ruamoko/include/Entity.h                   |    1 -
 ruamoko/include/math.h                     |    1 -
 tools/3dfx_stub/3dfxstub.h                 |    1 -
 tools/3dfx_stub/gl_stub.c                  |    1 -
 tools/3dfx_stub/gls_norm.c                 |    1 -
 tools/3dfx_stub/gls_trace.c                |    1 -
 tools/Forge/BundleController.m             |    2 --
 tools/Forge/Bundles/MainPrefs/MainPrefs.m  |    2 --
 tools/Forge/Controller.m                   |    2 --
 tools/Forge/Documentation/Template.m       |    2 --
 tools/Forge/PrefsController.m              |    2 --
 tools/Forge/Project.m                      |    2 --
 tools/gas2masm/gas2masm.c                  |    3 ---
 tools/gl_stub/glx_funcs_list.h             |    1 -
 tools/pak/pak.c                            |    3 ---
 tools/pak/pak.h                            |    1 -
 tools/qfbsp/include/brush.h                |    1 -
 tools/qfbsp/include/bsp5.h                 |    1 -
 tools/qfbsp/include/csg4.h                 |    1 -
 tools/qfbsp/include/draw.h                 |    1 -
 tools/qfbsp/include/map.h                  |    1 -
 tools/qfbsp/include/merge.h                |    1 -
 tools/qfbsp/include/options.h              |    1 -
 tools/qfbsp/include/outside.h              |    1 -
 tools/qfbsp/include/portals.h              |    1 -
 tools/qfbsp/include/readbsp.h              |    1 -
 tools/qfbsp/include/region.h               |    1 -
 tools/qfbsp/include/solidbsp.h             |    1 -
 tools/qfbsp/include/surfaces.h             |    1 -
 tools/qfbsp/include/tjunc.h                |    1 -
 tools/qfbsp/include/writebsp.h             |    1 -
 tools/qfbsp/source/csg4.c                  |    3 ---
 tools/qfbsp/source/map.c                   |    3 ---
 tools/qfbsp/source/merge.c                 |    3 ---
 tools/qfbsp/source/nodraw.c                |    3 ---
 tools/qfbsp/source/options.c               |    3 ---
 tools/qfbsp/source/outside.c               |    3 ---
 tools/qfbsp/source/portals.c               |    3 ---
 tools/qfbsp/source/qfbsp.c                 |    3 ---
 tools/qfbsp/source/readbsp.c               |    3 ---
 tools/qfbsp/source/region.c                |    3 ---
 tools/qfbsp/source/solidbsp.c              |    3 ---
 tools/qfbsp/source/surfaces.c              |    3 ---
 tools/qfbsp/source/tjunc.c                 |    3 ---
 tools/qfbsp/source/writebsp.c              |    3 ---
 tools/qfcc/include/class.h                 |    1 -
 tools/qfcc/include/codespace.h             |    1 -
 tools/qfcc/include/cpp.h                   |    1 -
 tools/qfcc/include/debug.h                 |    1 -
 tools/qfcc/include/def.h                   |    1 -
 tools/qfcc/include/defspace.h              |    1 -
 tools/qfcc/include/diagnostic.h            |    1 -
 tools/qfcc/include/emit.h                  |    1 -
 tools/qfcc/include/expr.h                  |    1 -
 tools/qfcc/include/function.h              |    1 -
 tools/qfcc/include/grab.h                  |    1 -
 tools/qfcc/include/idstuff.h               |    1 -
 tools/qfcc/include/linker.h                |    1 -
 tools/qfcc/include/method.h                |    1 -
 tools/qfcc/include/obj_file.h              |    1 -
 tools/qfcc/include/obj_type.h              |    1 -
 tools/qfcc/include/opcodes.h               |    1 -
 tools/qfcc/include/options.h               |    1 -
 tools/qfcc/include/qfcc.h                  |    1 -
 tools/qfcc/include/qfprogs.h               |    1 -
 tools/qfcc/include/reloc.h                 |    1 -
 tools/qfcc/include/statements.h            |    1 -
 tools/qfcc/include/strpool.h               |    1 -
 tools/qfcc/include/struct.h                |    1 -
 tools/qfcc/include/switch.h                |    1 -
 tools/qfcc/include/symtab.h                |    1 -
 tools/qfcc/include/type.h                  |    1 -
 tools/qfcc/include/value.h                 |    1 -
 tools/qfcc/source/class.c                  |    3 ---
 tools/qfcc/source/codespace.c              |    2 --
 tools/qfcc/source/constfold.c              |    3 ---
 tools/qfcc/source/cpp.c                    |    3 ---
 tools/qfcc/source/debug.c                  |    3 ---
 tools/qfcc/source/def.c                    |    3 ---
 tools/qfcc/source/defspace.c               |    2 --
 tools/qfcc/source/diagnostic.c             |    2 --
 tools/qfcc/source/disassemble.c            |    3 ---
 tools/qfcc/source/dot_expr.c               |    2 --
 tools/qfcc/source/dot_flow.c               |    2 --
 tools/qfcc/source/dump_globals.c           |    3 ---
 tools/qfcc/source/dump_lines.c             |    3 ---
 tools/qfcc/source/dump_modules.c           |    3 ---
 tools/qfcc/source/dump_strings.c           |    3 ---
 tools/qfcc/source/emit.c                   |    2 --
 tools/qfcc/source/expr.c                   |    3 ---
 tools/qfcc/source/function.c               |    3 ---
 tools/qfcc/source/grab.c                   |    2 --
 tools/qfcc/source/idstuff.c                |    3 ---
 tools/qfcc/source/linker.c                 |    2 --
 tools/qfcc/source/method.c                 |    3 ---
 tools/qfcc/source/obj_file.c               |    2 --
 tools/qfcc/source/obj_type.c               |    3 ---
 tools/qfcc/source/opcodes.c                |    3 ---
 tools/qfcc/source/options.c                |    3 ---
 tools/qfcc/source/qc-lex.l                 |    3 ---
 tools/qfcc/source/qc-parse.y               |    3 ---
 tools/qfcc/source/qfcc.c                   |    2 --
 tools/qfcc/source/qfprogs.c                |    3 ---
 tools/qfcc/source/qp-lex.l                 |    2 --
 tools/qfcc/source/qp-parse.y               |    2 --
 tools/qfcc/source/reloc.c                  |    3 ---
 tools/qfcc/source/statements.c             |    2 --
 tools/qfcc/source/strpool.c                |    3 ---
 tools/qfcc/source/struct.c                 |    3 ---
 tools/qfcc/source/switch.c                 |    3 ---
 tools/qfcc/source/symtab.c                 |    2 --
 tools/qfcc/source/type.c                   |    3 ---
 tools/qfcc/source/value.c                  |    3 ---
 tools/qflight/include/entities.h           |    1 -
 tools/qflight/include/light.h              |    1 -
 tools/qflight/include/options.h            |    1 -
 tools/qflight/include/threads.h            |    1 -
 tools/qflight/source/entities.c            |    3 ---
 tools/qflight/source/ltface.c              |    3 ---
 tools/qflight/source/options.c             |    3 ---
 tools/qflight/source/properties.c          |    3 ---
 tools/qflight/source/qflight.c             |    3 ---
 tools/qflight/source/threads.c             |    3 ---
 tools/qflight/source/trace.c               |    3 ---
 tools/qflight/source/vis.c                 |    3 ---
 tools/qfvis/include/options.h              |    1 -
 tools/qfvis/include/vis.h                  |    1 -
 tools/qfvis/source/base-vis.c              |    3 ---
 tools/qfvis/source/flow.c                  |    3 ---
 tools/qfvis/source/options.c               |    3 ---
 tools/qfvis/source/qfvis.c                 |    3 ---
 tools/qfvis/source/soundphs.c              |    3 ---
 tools/qwaq/builtins.c                      |    3 ---
 tools/qwaq/main.c                          |    3 ---
 tools/wad/grab.c                           |    3 ---
 tools/wad/script.c                         |    3 ---
 tools/wad/wad.c                            |    3 ---
 tools/wad/wad.h                            |    1 -
 716 files changed, 1516 deletions(-)

commit ca97831
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Apr 22 10:11:56 2012 +0900

    Change the default vid plugin from sw32 to glsl.

 config.d/build_control.m4 |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 07c6184
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Apr 22 10:03:52 2012 +0900

    Break out the default plugin code into its own macro.

 m4/quakeforge.m4 |   18 +++++++++---------
 1 file changed, 9 insertions(+), 9 deletions(-)

commit 1fd8447
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Apr 21 20:59:04 2012 +0900

    Rename char to dchar in the text vertex shader.
    
    Thanks to Spirit :)
    
    Turns out certain drivers (nvidia?) reserve "char" even though opengl does
    not. This should fix his missing console text.

 libs/video/renderer/glsl/glsl_draw.c   |    2 +-
 libs/video/renderer/glsl/quaketxt.vert |    6 +++---
 2 files changed, 4 insertions(+), 4 deletions(-)

commit 7317aaf
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Apr 21 20:16:28 2012 +0900

    Fix an out-by-one error when expanding intervals.

 tools/io_mesh_qfmdl/export_mdl.py |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 965680f
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Apr 21 11:42:38 2012 +0900

    Fix the bogus rotation flag when exporting the torch.

 tools/io_mesh_qfmdl/export_mdl.py |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 4e43565
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Apr 21 11:31:33 2012 +0900

    Implement multiple skin and frame exporting.

 tools/io_mesh_qfmdl/export_mdl.py |  171 +++++++++++++++++++++++++++++--------
 1 file changed, 134 insertions(+), 37 deletions(-)

commit 1242247
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Apr 21 11:30:43 2012 +0900

    Write the number of subskins in a skin group.

 tools/io_mesh_qfmdl/mdl.py |    1 +
 1 file changed, 1 insertion(+)

commit 3b07928
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Apr 20 16:30:25 2012 +0900

    Fix an inconsistent numeric constant.
    
    While checking the shaders to see if there might be anything obvious to
    work around the current nouveau shader issues, I found a 1 that should have
    been a 1.0. I'm surprised it ever compiled.

 libs/video/renderer/glsl/quakepnt.vert |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit cdc57a0
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Apr 19 22:16:30 2012 +0900

    Set the skin images' fakeuser flag.
    
    Until I figure out how to do animated skins in blender...

 tools/io_mesh_qfmdl/import_mdl.py |    1 +
 1 file changed, 1 insertion(+)

commit 6bae99d
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Apr 19 22:06:43 2012 +0900

    Create an animation script for imported models.
    
    The animation script is just a plist of relevant frame and skin
    information. Documentation is included in the generated script.

 tools/io_mesh_qfmdl/__init__.py   |   13 +++++-
 tools/io_mesh_qfmdl/import_mdl.py |   80 ++++++++++++++++++++++++++++++++-----
 tools/io_mesh_qfmdl/mdl.py        |   26 +++++++++++-
 3 files changed, 107 insertions(+), 12 deletions(-)

commit ff05074
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Apr 19 18:49:53 2012 +0900

    Set the fcurve interpolation to linear.
    
    Since qf does linear interpolation of verts, this seems to be reasonable.
    Certaintly better than the rose-thorns I got because I haven't figured out
    how to kick the auto-clamp.

 tools/io_mesh_qfmdl/import_mdl.py |    1 +
 1 file changed, 1 insertion(+)

commit 274848b
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Apr 19 14:30:40 2012 +0900

    Use exceptions for error reporting.
    
    Much cleaner, should have done it this way in the first place.

 tools/io_mesh_qfmdl/qfplist.py |   72 ++++++++++++++++++++--------------------
 1 file changed, 36 insertions(+), 36 deletions(-)

commit d500940
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Apr 17 22:05:50 2012 +0900

    Add support for writing plists.
    
    For now, only dictionariess, lists/tuples, bytes and strings are
    supported.

 tools/io_mesh_qfmdl/qfplist.py |   44 +++++++++++++++++++++++++++++++++++++++-
 1 file changed, 43 insertions(+), 1 deletion(-)

commit 68bf010
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Apr 17 21:29:27 2012 +0900

    Create a python version of qfplist.
    
    I've decided to use property lists to define mdl control scripts. Some
    names will probably get changed, and I still need to write code for writing
    a plist, but the hard part is pretty much done :)

 tools/io_mesh_qfmdl/qfplist.py |  208 ++++++++++++++++++++++++++++++++++++++++
 1 file changed, 208 insertions(+)

commit 5614848
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Apr 17 21:26:33 2012 +0900

    Fix some snafus in PL_ParseData
    
    Found them by inspection while writing a python version of qfplist.

 libs/util/qfplist.c |   11 ++++++-----
 1 file changed, 6 insertions(+), 5 deletions(-)

commit 196f2da
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Apr 17 13:10:21 2012 +0900

    Remove the fallback for missing image pack support.
    
    It's been in blender since 2.59 or so.

 tools/io_mesh_qfmdl/import_mdl.py |    7 +------
 1 file changed, 1 insertion(+), 6 deletions(-)

commit e25024c
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Apr 16 15:42:49 2012 +0900

    Build a single NLA track with strips for all actions.
    
    This removes the need for fakeuser :).
    
    Anyway, with this, the model's animations can be viewed all in sequence
    just by hitting alt-a.

 tools/io_mesh_qfmdl/import_mdl.py |   11 +++++++----
 1 file changed, 7 insertions(+), 4 deletions(-)

commit 4b29510
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Apr 16 13:33:45 2012 +0900

    Set the name of the shape-key datablock to the model name.
    
    Note that this is the data block that holds the list of actual shape-keys,
    rather than the shape-keys themselves. I'm not sure what it's correct name
    is (it's just "Key" in RNA).
    
    I really dislike this method of setting the name, but the use of "Key" as
    the datablock name is actually hard-coded into blender's C code :/

 tools/io_mesh_qfmdl/import_mdl.py |    1 +
 1 file changed, 1 insertion(+)

commit 0952e91
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Apr 16 13:30:58 2012 +0900

    Set fakeuser on actions.
    
    Without fakeuser set, blender will toss out the actions on save and reload.
    Converting to an nla strip might take care of that, but I haven't figured
    out how to do that yet, so avoid any nasty surprised for the user.

 tools/io_mesh_qfmdl/import_mdl.py |    1 +
 1 file changed, 1 insertion(+)

commit 70f500a
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Apr 15 21:55:23 2012 +0900

    Use custom properties for model flags etc.
    
    Eye position, auto rotation, sync type and particle effects can now all be
    edited in blender: both import and export do the right thing. The settings
    can be found in the "QF MDL" panel of the "Object" tab of the properties
    view.

 tools/io_mesh_qfmdl/__init__.py   |   56 +++++++++++++++++++++++++++++++++++--
 tools/io_mesh_qfmdl/export_mdl.py |    7 +++++
 tools/io_mesh_qfmdl/import_mdl.py |   34 ++++++++++++++++++++--
 tools/io_mesh_qfmdl/mdl.py        |   18 +++++++++++-
 4 files changed, 110 insertions(+), 5 deletions(-)

commit 878764f
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Apr 15 15:11:16 2012 +0900

    Fix some segfaults in nq-server.

 libs/models/model.c |    2 +-
 nq/include/server.h |    2 ++
 nq/source/cl_view.c |   26 ++++++++++++++++++++++
 nq/source/host.c    |    3 ++-
 nq/source/sv_ded.c  |    3 ---
 nq/source/sv_main.c |    6 ++++++
 nq/source/sv_user.c |   60 ++++++++++++++++++++++++---------------------------
 7 files changed, 65 insertions(+), 37 deletions(-)

commit 7fc700b
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Apr 15 14:13:05 2012 +0900

    Allow alias textures up to 1024x1024.
    
    Blender's default texture size is 1024x1024, and there doesn't seem to be
    any reason not to support it.

 include/d_iface.h |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 6f026e9
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Apr 15 14:12:00 2012 +0900

    Fix some segfaults in server model loading.
    
    I'd forgotten to test the servers when I did the vid_plugin changes.

 libs/models/brush/model_brush.c |   12 ++++++++----
 libs/models/model.c             |    8 +++++---
 2 files changed, 13 insertions(+), 7 deletions(-)

commit 92c08fb
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Apr 15 13:47:59 2012 +0900

    Update required blender version.

 tools/io_mesh_qfmdl/__init__.py |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit fd9b8f7
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Apr 15 09:34:53 2012 +0900

    Fix import and export for blender 2.63
    
    Blender 2.63 should be out in a few days. Nice to get this ready ahead of
    time.

 tools/io_mesh_qfmdl/export_mdl.py |   11 ++++++-----
 tools/io_mesh_qfmdl/import_mdl.py |   12 ++++++------
 2 files changed, 12 insertions(+), 11 deletions(-)

commit d3af0b2
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Apr 15 09:34:16 2012 +0900

    Correct the MD16 writing code.
    
    Forgot to test it :P

 tools/io_mesh_qfmdl/mdl.py |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit ab4aec4
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Apr 14 18:10:25 2012 +0900

    Correct vertex scaling for blender 2.62+
    
    This also abandons support for older versions of blender.

 tools/io_mesh_qfmdl/import_mdl.py |   26 ++++++++++----------------
 1 file changed, 10 insertions(+), 16 deletions(-)

commit bbd277c
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Apr 12 17:16:40 2012 +0900

    Fix building libQFrenderer as a helper library.

 libs/video/renderer/Makefile.am |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 61ae793
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Apr 12 17:12:24 2012 +0900

    Fix two broken symbols for sw32.
    
    Now all 4 render plugins load as standard plugins (though there's still a
    problem with libQFrenderer.so)

 libs/video/renderer/sw32/namehack.h |    2 ++
 1 file changed, 2 insertions(+)

commit 633f70b
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Apr 12 17:05:42 2012 +0900

    Remove a functionally dead symbol.
    
    The only purpose clearnotify seemed to be serving was to stop the console
    plugin from loading :P

 include/QF/screen.h            |    1 -
 libs/console/client.c          |    2 --
 libs/video/renderer/r_screen.c |    1 -
 3 files changed, 4 deletions(-)

commit 7fc99f9
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Apr 12 16:47:37 2012 +0900

    Fix gl and glsl support in sdl.

 include/context_sdl.h            |    1 +
 libs/video/targets/context_sdl.c |    2 +-
 libs/video/targets/vid_sdl.c     |  184 ++++++++++++++++++++++++++++++++++----
 libs/video/targets/vid_x11.c     |    5 +-
 4 files changed, 170 insertions(+), 22 deletions(-)

commit ab486dc
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Apr 12 15:07:28 2012 +0900

    Unregister the quit command before registering it.
    
    This fixes the quit menu not working.

 libs/console/menu.c |    1 +
 1 file changed, 1 insertion(+)

commit e784754
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Apr 12 14:40:02 2012 +0900

    Disable the gl_triplebuffer check in glsl.
    
    It doesn't seem to have any useful effect in QF (even before the plugin
    project) other than setting the number of frames to update. I'm not sure if
    it's a useless variable or one where the user is supposed to match it to
    the system configuration. Anyway, with this, the glsl plugin now works.

 libs/video/renderer/glsl/glsl_screen.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 8401704
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Apr 12 13:57:05 2012 +0900

    Connect up palette setting for gl and glsl.
    
    The GL plugin now seems to work. GLSL still segs :(

 include/r_internal.h                       |    3 ++
 include/vid_internal.h                     |    1 -
 libs/video/renderer/gl/vid_common_gl.c     |    6 +--
 libs/video/renderer/glsl/vid_common_glsl.c |   20 +++++-----
 libs/video/renderer/vid_render_gl.c        |    1 +
 libs/video/renderer/vid_render_glsl.c      |    5 +++
 libs/video/targets/vid.c                   |    3 +-
 libs/video/targets/vid_fbdev.c             |   58 ++++++++++++++-------------
 libs/video/targets/vid_sdl.c               |    6 ++-
 libs/video/targets/vid_x11.c               |   59 ++++++++++++++--------------
 10 files changed, 86 insertions(+), 76 deletions(-)

commit 525dbcc
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Apr 11 22:45:23 2012 +0900

    Ensure code paths stay within the one renderer.
    
    The gl renderer calling sw functions is bad news. Still all black, but I
    think that's because palette setting is disabled.

 include/QF/plugin/vid_render.h            |    7 ++++++
 include/r_internal.h                      |    2 ++
 libs/video/renderer/gl/gl_dyn_part.c      |   34 ++++++++++++++++++++++++++++
 libs/video/renderer/glsl/glsl_particles.c |   34 ++++++++++++++++++++++++++++
 libs/video/renderer/r_cvar.c              |   35 -----------------------------
 libs/video/renderer/r_graph.c             |    8 +++----
 libs/video/renderer/r_part.c              |    4 ++--
 libs/video/renderer/r_screen.c            |   26 ++++++++++++---------
 libs/video/renderer/sw/sw_rpart.c         |   34 ++++++++++++++++++++++++++++
 libs/video/renderer/sw32/sw32_rpart.c     |   34 ++++++++++++++++++++++++++++
 libs/video/renderer/vid_common.c          |    2 ++
 libs/video/renderer/vid_render_gl.c       |    7 ++++++
 libs/video/renderer/vid_render_glsl.c     |    7 ++++++
 libs/video/renderer/vid_render_sw.c       |    7 ++++++
 libs/video/renderer/vid_render_sw32.c     |    7 ++++++
 15 files changed, 197 insertions(+), 51 deletions(-)

commit 898bfa5
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Apr 11 16:44:38 2012 +0900

    Split up the vid plugin init sequence.
    
    This gets gl so it no longer segs. However, the screen remains black
    (expect for cshifts).

 include/QF/vid.h                       |    6 +-
 libs/video/renderer/gl/gl_rmisc.c      |    1 +
 libs/video/renderer/gl/qfgl_ext.c      |   62 +-----------
 libs/video/renderer/gl/vid_common_gl.c |    2 -
 libs/video/renderer/glsl/qfglsl.c      |   40 +-------
 libs/video/renderer/vid_render_gl.c    |    4 +
 libs/video/targets/vid_x11.c           |  162 ++++++++++++++++++++++++++++++--
 7 files changed, 170 insertions(+), 107 deletions(-)

commit 6ff658a
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Apr 11 16:38:15 2012 +0900

    Use r_funcs in the client console plugin.
    
    Getting the sw renderer's functions when running gl was nasty.

 libs/console/client.c |   24 ++++++++++++------------
 libs/console/menu.c   |   20 +++++++++++---------
 2 files changed, 23 insertions(+), 21 deletions(-)

commit d62772e
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Apr 10 13:27:53 2012 +0900

    Separate render module loading from initialization.
    
    This allows the vid module to load the render module and access render
    specific functions before the renderer initializes, which happens to need
    an initialized vid module...

 include/QF/plugin/vid_render.h        |    1 +
 include/QF/render.h                   |    1 +
 libs/video/renderer/gl/gl_rmisc.c     |    4 ++++
 libs/video/renderer/glsl/glsl_main.c  |    4 ++++
 libs/video/renderer/r_init.c          |    8 +++++++-
 libs/video/renderer/sw/sw_rmain.c     |    6 ++++++
 libs/video/renderer/sw32/sw32_rmain.c |    6 ++++++
 libs/video/renderer/vid_render_gl.c   |    5 +----
 libs/video/renderer/vid_render_glsl.c |    5 +----
 libs/video/renderer/vid_render_sw.c   |    5 +----
 libs/video/renderer/vid_render_sw32.c |    5 +----
 libs/video/targets/vid_fbdev.c        |    2 ++
 libs/video/targets/vid_sdl.c          |    2 ++
 libs/video/targets/vid_x11.c          |    2 ++
 14 files changed, 39 insertions(+), 17 deletions(-)

commit a16ff08
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Feb 26 18:45:50 2012 +0900

    Make nq-x11 work for sw.
    
    Same state as qw-client-x11.

 nq/source/cl_main.c |   11 +++++++++++
 nq/source/cl_view.c |    2 +-
 nq/source/host.c    |   21 +++++++--------------
 3 files changed, 19 insertions(+), 15 deletions(-)

commit 9796842
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Feb 26 16:01:04 2012 +0900

    Fix an uninitialized variable found by valgrind.

 qw/source/cl_ents.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 799a0ae
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Feb 26 16:00:10 2012 +0900

    Fix a bogus cshift calculation in sw32.
    
    Found via valgrind and gammatable having become malloced instead of static.

 libs/video/renderer/sw32/draw.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 07ab560
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Feb 26 15:58:09 2012 +0900

    Recache viddef in *D_InitCaches.
    
    sw32 now at least doesn't seg, but doesn't draw any 3d. sw renderer seems
    to work.

 libs/video/renderer/sw/d_surf.c   |    1 +
 libs/video/renderer/sw32/d_surf.c |    1 +
 2 files changed, 2 insertions(+)

commit 42868d3
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Feb 26 14:14:24 2012 +0900

    Initialize the skins and particles subsystems.

 libs/video/renderer/r_cvar.c          |    1 -
 libs/video/renderer/vid_render_gl.c   |    2 ++
 libs/video/renderer/vid_render_glsl.c |    2 ++
 libs/video/renderer/vid_render_sw.c   |    2 ++
 libs/video/renderer/vid_render_sw32.c |    2 ++
 5 files changed, 8 insertions(+), 1 deletion(-)

commit a0e143e
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Feb 26 14:05:13 2012 +0900

    Check for fog functions before calling them.
    
    Not all renderers support fog.

 nq/source/cl_parse.c |    6 ++++--
 qw/source/cl_parse.c |    3 ++-
 2 files changed, 6 insertions(+), 3 deletions(-)

commit 6ea4e66
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Feb 26 14:00:15 2012 +0900

    Connect up viddef properly.
    
    Or mostly so, anyway. sw32 is actually putting stuff on the screen.

 include/vid_internal.h                     |    2 +-
 libs/video/renderer/gl/qfgl_ext.c          |    4 ++--
 libs/video/renderer/gl/vid_common_gl.c     |   10 +++++-----
 libs/video/renderer/glsl/qfglsl.c          |    4 ++--
 libs/video/renderer/glsl/vid_common_glsl.c |    3 ++-
 libs/video/renderer/r_init.c               |    1 +
 libs/video/renderer/r_screen.c             |    1 +
 libs/video/renderer/sw/d_init.c            |    6 +++---
 libs/video/renderer/sw32/d_init.c          |    6 +++---
 libs/video/renderer/vid_render_gl.c        |    1 +
 libs/video/renderer/vid_render_glsl.c      |    1 +
 libs/video/renderer/vid_render_sw.c        |    1 +
 libs/video/renderer/vid_render_sw32.c      |    1 +
 libs/video/targets/vid.c                   |    9 +++++----
 libs/video/targets/vid_fbdev.c             |    2 +-
 libs/video/targets/vid_sdl.c               |    2 +-
 libs/video/targets/vid_x11.c               |    2 +-
 17 files changed, 32 insertions(+), 24 deletions(-)

commit 4d9c340
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Feb 23 21:17:32 2012 +0900

    Start putting the pieces back together.
    
    The renderer now gets initialized and things sort of work (qw-client will
    idle, though nothing is displayed). However, as the viddef stuff is broken,
    it segs on trying to run the overkill demo.

 include/QF/plugin/vid_render.h        |    1 -
 include/r_internal.h                  |    4 ++++
 libs/video/renderer/gl/namehack.h     |    1 -
 libs/video/renderer/glsl/namehack.h   |    1 -
 libs/video/renderer/r_cvar.c          |    3 +++
 libs/video/renderer/r_init.c          |    4 ++++
 libs/video/renderer/sw32/namehack.h   |    1 -
 libs/video/renderer/vid_common.c      |    2 +-
 libs/video/renderer/vid_render_gl.c   |   15 +++++++++++++++
 libs/video/renderer/vid_render_glsl.c |   15 +++++++++++++++
 libs/video/renderer/vid_render_sw.c   |   15 +++++++++++++++
 libs/video/renderer/vid_render_sw32.c |   15 +++++++++++++++
 nq/source/cl_main.c                   |    2 --
 nq/source/cl_view.c                   |    2 +-
 qw/source/cl_main.c                   |    3 +--
 qw/source/cl_screen.c                 |    4 ++--
 qw/source/cl_view.c                   |    2 +-
 17 files changed, 77 insertions(+), 13 deletions(-)

commit 1d86452
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Feb 23 13:18:59 2012 +0900

    Fix the sprite model loader for plugins.

 include/QF/model.h                     |    1 -
 include/QF/plugin/vid_render.h         |    1 +
 include/mod_internal.h                 |    4 ++++
 libs/models/sprite/gl_model_sprite.c   |    2 +-
 libs/models/sprite/glsl_model_sprite.c |    2 +-
 libs/models/sprite/model_sprite.c      |    2 +-
 libs/models/sprite/sw_model_sprite.c   |    2 +-
 libs/video/renderer/vid_render_gl.c    |    1 +
 libs/video/renderer/vid_render_glsl.c  |    1 +
 libs/video/renderer/vid_render_sw.c    |    1 +
 libs/video/renderer/vid_render_sw32.c  |    1 +
 11 files changed, 13 insertions(+), 5 deletions(-)

commit cbdbfdd
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Feb 23 12:55:50 2012 +0900

    Fix the alias model loader for plugins.

 include/QF/model.h                    |    6 -----
 include/QF/plugin/vid_render.h        |    7 ++++++
 include/mod_internal.h                |   40 +++++++++++++++++++++++++++++----
 libs/models/alias/gl_mesh.c           |   33 ++++++++++++++-------------
 libs/models/alias/gl_model_alias.c    |   10 ++++-----
 libs/models/alias/glsl_model_alias.c  |   14 +++++-------
 libs/models/alias/model_alias.c       |   18 +++++++--------
 libs/models/alias/sw_model_alias.c    |   14 +++++-------
 libs/models/brush/gl_model_brush.c    |    8 +++----
 libs/models/brush/glsl_model_brush.c  |    8 +++----
 libs/models/brush/sw_model_brush.c    |    8 +++----
 libs/video/renderer/vid_render_gl.c   |   15 +++++++++----
 libs/video/renderer/vid_render_glsl.c |   15 +++++++++----
 libs/video/renderer/vid_render_sw.c   |   15 +++++++++----
 libs/video/renderer/vid_render_sw32.c |   15 +++++++++----
 15 files changed, 141 insertions(+), 85 deletions(-)

commit 52e518b
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Feb 23 12:09:19 2012 +0900

    Fix skin functions for plugins.

 include/QF/plugin/vid_render.h        |    2 --
 include/mod_internal.h                |   22 +++++++++++++++++-----
 libs/models/Makefile.am               |   10 ++++++----
 libs/models/alias/gl_model_alias.c    |    4 ++--
 libs/models/gl_skin.c                 |   10 +++++-----
 libs/models/glsl_skin.c               |    6 +++---
 libs/models/model.c                   |    3 ++-
 libs/models/skin.c                    |   10 ++++++----
 libs/models/sw_skin.c                 |    6 +++---
 libs/video/renderer/gl/gl_rmisc.c     |    2 +-
 libs/video/renderer/vid_render_gl.c   |    8 +++-----
 libs/video/renderer/vid_render_glsl.c |    8 +++-----
 libs/video/renderer/vid_render_sw.c   |    8 +++-----
 libs/video/renderer/vid_render_sw32.c |    8 +++-----
 14 files changed, 57 insertions(+), 50 deletions(-)

commit f5d6959
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Feb 23 11:25:08 2012 +0900

    Copy out the model functions pointer.

 libs/video/renderer/r_init.c |    1 +
 1 file changed, 1 insertion(+)

commit 352eb5e
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Feb 23 11:23:53 2012 +0900

    Move console init to after vid/render init.

 qw/source/cl_main.c |   23 ++++++++++++-----------
 1 file changed, 12 insertions(+), 11 deletions(-)

commit 437ff88
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Feb 23 10:10:36 2012 +0900

    Fix some missing backslashes in qw's Makefile.am.
    
    Wow, everything links with static plugins.

 qw/source/Makefile.am |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 6f7b427
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Feb 23 10:06:30 2012 +0900

    Move VID_InitBuffers back from the renderer to targets.
    
    First, it was nearly identical between sw and sw32 (one paranoia line in
    sw32), and second, it's common enough.

 libs/video/renderer/sw/vid_common_sw.c     |   68 +---------------------------
 libs/video/renderer/sw32/vid_common_sw32.c |   65 --------------------------
 libs/video/targets/vid.c                   |   63 ++++++++++++++++++++++++++
 3 files changed, 65 insertions(+), 131 deletions(-)

commit a093e6a
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Feb 23 09:33:04 2012 +0900

    Move palette setting into viddef_t.

 include/QF/vid.h                           |    1 +
 include/vid_internal.h                     |    1 -
 libs/video/renderer/sw/draw.c              |    2 +-
 libs/video/renderer/sw/vid_common_sw.c     |    6 ------
 libs/video/renderer/sw32/draw.c            |    2 +-
 libs/video/renderer/sw32/vid_common_sw32.c |    6 ------
 6 files changed, 3 insertions(+), 15 deletions(-)

commit e08d5cc
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Feb 23 09:15:50 2012 +0900

    Move the gl util functions into viddef_t.
    
    Static plugins almost link now, just two more symbols to sort out.

 include/QF/GL/funcs.h                  |    3 ---
 include/QF/GL/qf_vid.h                 |    1 -
 include/QF/GLSL/funcs.h                |    3 ---
 include/QF/GLSL/qf_vid.h               |    1 -
 include/QF/vid.h                       |    4 ++++
 libs/video/renderer/gl/gl_rmisc.c      |    6 +++---
 libs/video/renderer/gl/gl_screen.c     |    4 ++--
 libs/video/renderer/gl/qfgl_ext.c      |    6 +++---
 libs/video/renderer/glsl/glsl_screen.c |    2 +-
 libs/video/renderer/glsl/qfglsl.c      |    6 +++---
 10 files changed, 16 insertions(+), 20 deletions(-)

commit 7ed33f6
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Feb 23 08:49:59 2012 +0900

    Hide D_FlushCaches.
    
    There'd been a way to do so all along :/ There might be some issues with
    this, but those will be easy to fix :)

 include/QF/plugin/vid_render.h        |    1 -
 libs/video/renderer/vid_render_gl.c   |    1 -
 libs/video/renderer/vid_render_glsl.c |    1 -
 libs/video/renderer/vid_render_sw.c   |    1 -
 libs/video/renderer/vid_render_sw32.c |    1 -
 nq/source/host.c                      |    3 ++-
 nq/source/sv_ded.c                    |    1 +
 qw/source/cl_main.c                   |    3 ++-
 8 files changed, 5 insertions(+), 7 deletions(-)

commit 7865f6a
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 22 22:12:29 2012 +0900

    Rename sw's R_Init to sw_R_Init.
    
    For now, the only symbol I'll bother messing with in the sw renderer.

 include/r_internal.h              |    1 +
 libs/video/renderer/sw/sw_rmain.c |    2 +-
 2 files changed, 2 insertions(+), 1 deletion(-)

commit 1dd1aec
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 22 22:11:24 2012 +0900

    Make libgl_handle static.
    
    This will make life interesting for getting the final stages working, but
    it helps for now.

 include/QF/GL/funcs.h             |    2 --
 include/QF/GLSL/funcs.h           |    2 --
 libs/video/renderer/gl/qfgl_ext.c |    2 +-
 libs/video/renderer/glsl/qfglsl.c |    2 +-
 4 files changed, 2 insertions(+), 6 deletions(-)

commit 772af29
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 22 22:08:47 2012 +0900

    Move the gl cvars into gl.
    
    That gets rid of the gl_overbrite_f clash. They were put in r_cvar for
    saving to the config file, but that was before seta existed.

 libs/video/renderer/gl/vid_common_gl.c |   90 ++++++++++++++++++++++++++++++++
 libs/video/renderer/glsl/glsl_main.c   |    5 --
 libs/video/renderer/r_cvar.c           |   90 --------------------------------
 libs/video/renderer/sw/sw_rmain.c      |    5 --
 4 files changed, 90 insertions(+), 100 deletions(-)

commit 65bd293
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 22 21:53:17 2012 +0900

    Make a start on putting the pieces together.
    
    Still many undefined and multiply defined symbols, but there seems to be a
    light in this darkness. I just hope it's not an oncoming train :)

 include/QF/GL/qf_draw.h                   |   37 ++++++++++++++
 include/QF/GLSL/qf_draw.h                 |   37 ++++++++++++++
 include/gl_draw.h                         |   37 --------------
 include/r_internal.h                      |    7 ++-
 libs/video/renderer/gl/gl_draw.c          |    2 +-
 libs/video/renderer/gl/gl_dyn_part.c      |    8 +--
 libs/video/renderer/gl/gl_rmain.c         |    2 +-
 libs/video/renderer/gl/gl_screen.c        |    2 +-
 libs/video/renderer/glsl/glsl_draw.c      |   14 +++---
 libs/video/renderer/glsl/glsl_main.c      |    6 ---
 libs/video/renderer/glsl/glsl_particles.c |   10 ++--
 libs/video/renderer/glsl/glsl_screen.c    |   10 ++--
 libs/video/renderer/sw/sw_rpart.c         |    2 +-
 libs/video/renderer/sw32/sw32_rpart.c     |    2 +-
 libs/video/renderer/vid_common.c          |   68 -------------------------
 libs/video/renderer/vid_render_gl.c       |   75 +++++++++++++++++++++++++++-
 libs/video/renderer/vid_render_glsl.c     |   77 ++++++++++++++++++++++++++++-
 libs/video/renderer/vid_render_sw.c       |   70 +++++++++++++++++++++++++-
 libs/video/renderer/vid_render_sw32.c     |   75 +++++++++++++++++++++++++++-
 19 files changed, 397 insertions(+), 144 deletions(-)

commit d445b4e
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 22 16:48:57 2012 +0900

    Rename the glsl qfgl functions to qfegl.
    
    Keep them separate from the gl renderer :)

 include/QF/GL/qf_vid.h                     |    1 +
 include/QF/GLSL/funcs.h                    |   14 +-
 include/QF/GLSL/qf_vid.h                   |    1 +
 include/r_internal.h                       |    2 -
 libs/models/alias/glsl_model_alias.c       |   16 +-
 libs/models/brush/glsl_model_brush.c       |    4 +-
 libs/models/glsl_skin.c                    |   34 ++---
 libs/video/renderer/glsl/glsl_alias.c      |  100 ++++++-------
 libs/video/renderer/glsl/glsl_bsp.c        |  222 ++++++++++++++--------------
 libs/video/renderer/glsl/glsl_draw.c       |  108 +++++++-------
 libs/video/renderer/glsl/glsl_main.c       |   10 +-
 libs/video/renderer/glsl/glsl_particles.c  |  100 ++++++-------
 libs/video/renderer/glsl/glsl_screen.c     |    8 +-
 libs/video/renderer/glsl/glsl_sprite.c     |   80 +++++-----
 libs/video/renderer/glsl/glsl_textures.c   |   72 ++++-----
 libs/video/renderer/glsl/qfglsl.c          |   18 +--
 libs/video/renderer/glsl/vid_common_glsl.c |  110 +++++++-------
 17 files changed, 450 insertions(+), 450 deletions(-)

commit 3650454
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 22 16:32:34 2012 +0900

    Rename the public symbols for gl, glsl and sw32.
    
    Evil hack, but it does the job.

 include/QF/GL/qf_vid.h                     |    2 +
 include/QF/GLSL/qf_alias.h                 |    8 +-
 include/QF/GLSL/qf_bsp.h                   |   12 +-
 include/QF/GLSL/qf_lightmap.h              |   13 +-
 include/QF/GLSL/qf_vid.h                   |    2 +-
 include/vid_internal.h                     |    3 +-
 libs/video/renderer/gl/gl_draw.c           |   96 +++---
 libs/video/renderer/gl/gl_dyn_lights.c     |   10 +-
 libs/video/renderer/gl/gl_dyn_part.c       |   37 ++-
 libs/video/renderer/gl/gl_dyn_textures.c   |    3 +
 libs/video/renderer/gl/gl_fog.c            |   78 ++---
 libs/video/renderer/gl/gl_graph.c          |   10 +-
 libs/video/renderer/gl/gl_lightmap.c       |   26 +-
 libs/video/renderer/gl/gl_mod_alias.c      |   14 +-
 libs/video/renderer/gl/gl_mod_sprite.c     |   14 +-
 libs/video/renderer/gl/gl_rmain.c          |   65 ++--
 libs/video/renderer/gl/gl_rmisc.c          |   65 ++--
 libs/video/renderer/gl/gl_rsurf.c          |   55 ++--
 libs/video/renderer/gl/gl_screen.c         |   21 +-
 libs/video/renderer/gl/gl_sky.c            |   12 +-
 libs/video/renderer/gl/gl_sky_clip.c       |    8 +-
 libs/video/renderer/gl/gl_textures.c       |    8 +-
 libs/video/renderer/gl/gl_warp.c           |    6 +-
 libs/video/renderer/gl/namehack.h          |  135 ++++++++
 libs/video/renderer/gl/qfgl_ext.c          |    3 +-
 libs/video/renderer/gl/vid_common_gl.c     |   11 +-
 libs/video/renderer/glsl/glsl_alias.c      |   15 +-
 libs/video/renderer/glsl/glsl_bsp.c        |   49 +--
 libs/video/renderer/glsl/glsl_draw.c       |   71 +++--
 libs/video/renderer/glsl/glsl_fog.c        |   52 +--
 libs/video/renderer/glsl/glsl_lightmap.c   |   13 +-
 libs/video/renderer/glsl/glsl_main.c       |   65 ++--
 libs/video/renderer/glsl/glsl_particles.c  |   42 +--
 libs/video/renderer/glsl/glsl_screen.c     |   16 +-
 libs/video/renderer/glsl/glsl_sprite.c     |    9 +-
 libs/video/renderer/glsl/glsl_textures.c   |    3 +
 libs/video/renderer/glsl/namehack.h        |  138 ++++++++
 libs/video/renderer/sw/vid_common_sw.c     |    2 -
 libs/video/renderer/sw32/d_edge.c          |  126 ++++----
 libs/video/renderer/sw32/d_fill.c          |   14 +-
 libs/video/renderer/sw32/d_init.c          |   64 ++--
 libs/video/renderer/sw32/d_modech.c        |   64 ++--
 libs/video/renderer/sw32/d_part.c          |  136 ++++----
 libs/video/renderer/sw32/d_polyse.c        |   94 +++---
 libs/video/renderer/sw32/d_scan.c          |  350 ++++++++++----------
 libs/video/renderer/sw32/d_sky.c           |   26 +-
 libs/video/renderer/sw32/d_sprite.c        |  278 ++++++++--------
 libs/video/renderer/sw32/d_surf.c          |  124 ++++----
 libs/video/renderer/sw32/d_vars.c          |   26 +-
 libs/video/renderer/sw32/d_zpoint.c        |   32 +-
 libs/video/renderer/sw32/draw.c            |  231 +++++++-------
 libs/video/renderer/sw32/namehack.h        |  474 ++++++++++++++++++++++++++++
 libs/video/renderer/sw32/screen.c          |   35 +-
 libs/video/renderer/sw32/sw32_graph.c      |   14 +-
 libs/video/renderer/sw32/sw32_raclip.c     |   36 ++-
 libs/video/renderer/sw32/sw32_ralias.c     |  184 +++++------
 libs/video/renderer/sw32/sw32_rbsp.c       |  118 +++----
 libs/video/renderer/sw32/sw32_rdraw.c      |  448 +++++++++++++-------------
 libs/video/renderer/sw32/sw32_redge.c      |  110 +++----
 libs/video/renderer/sw32/sw32_rmain.c      |  317 +++++++++----------
 libs/video/renderer/sw32/sw32_rmisc.c      |  104 +++---
 libs/video/renderer/sw32/sw32_rpart.c      |   39 +--
 libs/video/renderer/sw32/sw32_rsky.c       |   46 +--
 libs/video/renderer/sw32/sw32_rsprite.c    |  130 ++++----
 libs/video/renderer/sw32/sw32_rsurf.c      |   60 ++--
 libs/video/renderer/sw32/vid_common_sw32.c |   12 +-
 66 files changed, 2875 insertions(+), 2009 deletions(-)

commit 8de5c9a
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 22 11:09:09 2012 +0900

    Do a final cleanup before doing the big rename.

 include/QF/GL/qf_vid.h                     |    8 ++++----
 libs/video/renderer/gl/gl_dyn_textures.c   |    2 +-
 libs/video/renderer/gl/gl_lightmap.c       |   18 +++++++++---------
 libs/video/renderer/gl/gl_mod_alias.c      |   16 ++++++++--------
 libs/video/renderer/gl/gl_rmain.c          |   12 ++++++------
 libs/video/renderer/gl/gl_rmisc.c          |    4 ++--
 libs/video/renderer/gl/gl_sky.c            |    4 ++--
 libs/video/renderer/gl/gl_textures.c       |    4 ++--
 libs/video/renderer/gl/vid_common_gl.c     |   27 +++++++++++++--------------
 libs/video/renderer/glsl/glsl_screen.c     |   10 +++++-----
 libs/video/renderer/glsl/vid_common_glsl.c |    4 ----
 11 files changed, 52 insertions(+), 57 deletions(-)

commit f700782
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 21 14:10:20 2012 +0900

    Run the vacuum cleaner over sw32's global variables.
    
    This seems to be everything that can be made static.

 include/d_iface.h                      |    4 +--
 include/r_local.h                      |   22 -------------
 libs/video/renderer/sw/d_sky.c         |    2 +-
 libs/video/renderer/sw/sw_rbsp.c       |    3 ++
 libs/video/renderer/sw/sw_rmain.c      |   29 ++++++++++++++---
 libs/video/renderer/sw/sw_rmisc.c      |   22 -------------
 libs/video/renderer/sw/sw_rsky.c       |   18 +++++------
 libs/video/renderer/sw/sw_rsurf.c      |    5 +++
 libs/video/renderer/sw32/d_edge.c      |    2 +-
 libs/video/renderer/sw32/d_sky.c       |    2 +-
 libs/video/renderer/sw32/sw32_ralias.c |    2 +-
 libs/video/renderer/sw32/sw32_rbsp.c   |    3 ++
 libs/video/renderer/sw32/sw32_rdraw.c  |    2 +-
 libs/video/renderer/sw32/sw32_rmain.c  |   32 ++++++++++++++-----
 libs/video/renderer/sw32/sw32_rmisc.c  |   22 -------------
 libs/video/renderer/sw32/sw32_rsky.c   |   14 ++++-----
 libs/video/renderer/sw32/sw32_rsurf.c  |   53 ++++++++++++++++++--------------
 17 files changed, 110 insertions(+), 127 deletions(-)

commit db4a463
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Feb 18 22:28:42 2012 +0900

    Remove VISIBLE from the files that will go into the plugins.

 libs/video/renderer/gl/gl_draw.c           |   36 +++++------
 libs/video/renderer/gl/gl_dyn_part.c       |    8 +--
 libs/video/renderer/gl/gl_graph.c          |    2 +-
 libs/video/renderer/gl/gl_rmain.c          |    4 +-
 libs/video/renderer/gl/gl_rmisc.c          |    6 +-
 libs/video/renderer/gl/gl_screen.c         |    6 +-
 libs/video/renderer/gl/gl_sky.c            |    2 +-
 libs/video/renderer/gl/gl_textures.c       |    2 +-
 libs/video/renderer/gl/qfgl_ext.c          |    6 +-
 libs/video/renderer/gl/vid_common_gl.c     |   92 ++++++++++++++--------------
 libs/video/renderer/glsl/glsl_alias.c      |    2 +-
 libs/video/renderer/glsl/glsl_bsp.c        |    2 +-
 libs/video/renderer/glsl/glsl_draw.c       |   36 +++++------
 libs/video/renderer/glsl/glsl_main.c       |   14 ++---
 libs/video/renderer/glsl/glsl_particles.c  |    8 +--
 libs/video/renderer/glsl/glsl_screen.c     |    8 +--
 libs/video/renderer/glsl/glsl_sprite.c     |    2 +-
 libs/video/renderer/glsl/qfglsl.c          |    4 +-
 libs/video/renderer/glsl/vid_common_glsl.c |   12 ++--
 libs/video/renderer/r_alias.c              |    4 +-
 libs/video/renderer/r_main.c               |    4 +-
 libs/video/renderer/sw/draw.c              |   40 ++++++------
 libs/video/renderer/sw/screen.c            |    2 +-
 libs/video/renderer/sw/sw_rmain.c          |    2 +-
 libs/video/renderer/sw/sw_rpart.c          |    4 +-
 libs/video/renderer/sw/sw_rsky.c           |    2 +-
 libs/video/renderer/sw32/d_surf.c          |    2 +-
 libs/video/renderer/sw32/draw.c            |   38 ++++++------
 libs/video/renderer/sw32/screen.c          |    6 +-
 libs/video/renderer/sw32/sw32_graph.c      |    2 +-
 libs/video/renderer/sw32/sw32_rmain.c      |   10 +--
 libs/video/renderer/sw32/sw32_rpart.c      |    8 +--
 libs/video/renderer/sw32/sw32_rsky.c       |    2 +-
 libs/video/renderer/sw32/vid_common_sw32.c |    6 +-
 34 files changed, 192 insertions(+), 192 deletions(-)

commit eb536dc
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Feb 18 19:36:56 2012 +0900

    Remove D_BeginDirectRect and D_EndDirectRect from gl/glsl.
    
    They were never really needed anyway (they're for the sw renderer).

 libs/video/renderer/gl/vid_common_gl.c     |   10 ----------
 libs/video/renderer/glsl/vid_common_glsl.c |   10 ----------
 2 files changed, 20 deletions(-)

commit e991c1f
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Feb 17 16:13:56 2012 +0900

    Make a bit of progress cleaning up vid for plugins.

 config.d/build_control.m4                  |   16 +--
 include/QF/vid.h                           |   57 +-------
 include/r_internal.h                       |    2 +
 include/vid_internal.h                     |   27 ++++
 libs/models/brush/gl_model_brush.c         |    6 +-
 libs/models/gl_skin.c                      |    2 +-
 libs/video/renderer/gl/gl_textures.c       |    4 +-
 libs/video/renderer/gl/vid_common_gl.c     |  215 +++++++++++++---------------
 libs/video/renderer/glsl/vid_common_glsl.c |   17 +--
 libs/video/renderer/sw/d_init.c            |    1 +
 libs/video/renderer/sw/draw.c              |    7 +-
 libs/video/renderer/sw/screen.c            |    2 +-
 libs/video/renderer/sw/sw_redge.c          |    1 +
 libs/video/renderer/sw/sw_rmain.c          |    1 +
 libs/video/renderer/sw/sw_rmisc.c          |    1 +
 libs/video/renderer/sw/vid_common_sw.c     |    2 +
 libs/video/renderer/sw32/d_edge.c          |    1 +
 libs/video/renderer/sw32/d_fill.c          |    1 +
 libs/video/renderer/sw32/d_init.c          |    1 +
 libs/video/renderer/sw32/d_part.c          |    1 +
 libs/video/renderer/sw32/d_scan.c          |    1 +
 libs/video/renderer/sw32/d_sprite.c        |    1 +
 libs/video/renderer/sw32/d_zpoint.c        |    1 +
 libs/video/renderer/sw32/draw.c            |   21 +--
 libs/video/renderer/sw32/screen.c          |    2 +-
 libs/video/renderer/sw32/sw32_graph.c      |    1 +
 libs/video/renderer/sw32/sw32_redge.c      |    1 +
 libs/video/renderer/sw32/sw32_rmain.c      |    1 +
 libs/video/renderer/sw32/sw32_rmisc.c      |    1 +
 libs/video/renderer/sw32/sw32_rsky.c       |    1 +
 libs/video/renderer/sw32/vid_common_sw32.c |    4 +-
 libs/video/targets/Makefile.am             |   23 +--
 libs/video/targets/context_sdl.c           |    1 +
 libs/video/targets/context_x11.c           |    1 +
 libs/video/targets/in_x11.c                |    2 +-
 libs/video/targets/vid.c                   |    2 +-
 libs/video/targets/vid_fbdev.c             |    7 +-
 libs/video/targets/vid_glx.c               |   33 -----
 libs/video/targets/vid_sdl.c               |    4 +-
 libs/video/targets/vid_x11.c               |    6 +-
 nq/source/sv_ded.c                         |    2 -
 41 files changed, 195 insertions(+), 286 deletions(-)

commit 80f5cc5
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 15 21:49:13 2012 +0900

    Plug a memory leak.
    
    Allocating (and not freeing) rects every frame... ouch.

 libs/video/targets/vid_sdl.c |   14 ++++++++++----
 1 file changed, 10 insertions(+), 4 deletions(-)

commit 96b8043
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 15 09:50:40 2012 +0900

    Make some progress in getting static plugins to link.
    
    Still many redefined symbols (and I expect more to come), and many
    undefined symbols too.

 include/QF/plugin/vid_render.h             |    2 -
 include/r_cvar.h                           |    1 +
 libs/video/renderer/Makefile.am            |    3 +-
 libs/video/renderer/gl/Makefile.am         |    2 +-
 libs/video/renderer/gl/qfgl_ext.c          |  199 ++++++++
 libs/video/renderer/gl/vid_common_gl.c     |  763 ++++++++++++++++++++++++++++
 libs/video/renderer/gl/vtxarray.c          |  641 +++++++++++++++++++++++
 libs/video/renderer/glsl/Makefile.am       |    3 +-
 libs/video/renderer/glsl/qfglsl.c          |  124 +++++
 libs/video/renderer/glsl/vid_common_glsl.c |  401 +++++++++++++++
 libs/video/renderer/sw/Makefile.am         |    7 +-
 libs/video/renderer/sw/d_copy.S            |  176 +++++++
 libs/video/renderer/sw/vid_common_sw.c     |  111 ++++
 libs/video/renderer/sw32/Makefile.am       |    3 +-
 libs/video/renderer/sw32/vid_common_sw32.c |  273 ++++++++++
 libs/video/renderer/vid_common.c           |  118 +++++
 libs/video/renderer/vid_render_gl.c        |   85 ----
 libs/video/renderer/vid_render_glsl.c      |   85 ----
 libs/video/renderer/vid_render_sw.c        |   85 ----
 libs/video/renderer/vid_render_sw32.c      |   85 ----
 libs/video/targets/Makefile.am             |   70 +--
 libs/video/targets/d_copy.S                |  176 -------
 libs/video/targets/qfgl_ext.c              |  199 --------
 libs/video/targets/qfglsl.c                |  124 -----
 libs/video/targets/vid_common_gl.c         |  763 ----------------------------
 libs/video/targets/vid_common_glsl.c       |  400 ---------------
 libs/video/targets/vid_common_sw.c         |  111 ----
 libs/video/targets/vid_common_sw32.c       |  272 ----------
 libs/video/targets/vtxarray.c              |  641 -----------------------
 29 files changed, 2824 insertions(+), 3099 deletions(-)

commit 5f5305d
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 15 09:04:22 2012 +0900

    Map vr_data/funcs to vid_render_data/funcs.

 include/r_internal.h                  |    6 ++++--
 libs/video/renderer/vid_render_gl.c   |    4 ++--
 libs/video/renderer/vid_render_glsl.c |    4 ++--
 libs/video/renderer/vid_render_sw.c   |    4 ++--
 libs/video/renderer/vid_render_sw32.c |    4 ++--
 5 files changed, 12 insertions(+), 10 deletions(-)

commit ad61c7a
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 14 22:19:17 2012 +0900

    Start working on creating the render plugins.
    
    Things blow up quite nicely. :)

 include/QF/plugin/vid_render.h        |    1 +
 libs/video/renderer/Makefile.am       |   16 ++--
 libs/video/renderer/vid_render_gl.c   |  163 +++++++++++++++++++++++++++++++++
 libs/video/renderer/vid_render_glsl.c |  163 +++++++++++++++++++++++++++++++++
 libs/video/renderer/vid_render_sw.c   |  163 +++++++++++++++++++++++++++++++++
 libs/video/renderer/vid_render_sw32.c |  163 +++++++++++++++++++++++++++++++++
 nq/source/Makefile.am                 |  117 ++---------------------
 qw/source/Makefile.am                 |  123 +++----------------------
 8 files changed, 683 insertions(+), 226 deletions(-)

commit 8530959
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 14 21:25:19 2012 +0900

    Link the model libs to the render plugins.

 config.d/build_control.m4              |  174 ++++++--------------------------
 include/QF/model.h                     |   12 +--
 include/QF/plugin/vid_render.h         |   21 ++++
 include/QF/skin.h                      |   11 --
 include/mod_internal.h                 |   24 +++++
 libs/models/Makefile.am                |   37 ++++---
 libs/models/alias/floodfill.c          |    3 +-
 libs/models/alias/gl_mesh.c            |    3 +-
 libs/models/alias/gl_model_alias.c     |    3 +-
 libs/models/alias/glsl_model_alias.c   |    2 +-
 libs/models/alias/model_alias.c        |    2 +-
 libs/models/alias/sw_model_alias.c     |    2 +-
 libs/models/brush/gl_model_brush.c     |    2 +-
 libs/models/brush/glsl_model_brush.c   |    2 +-
 libs/models/brush/model_brush.c        |   10 +-
 libs/models/brush/sw_model_brush.c     |    2 +-
 libs/models/gl_skin.c                  |    1 +
 libs/models/glsl_skin.c                |    1 +
 libs/models/model.c                    |   10 +-
 libs/models/skin.c                     |    3 +-
 libs/models/sprite/gl_model_sprite.c   |    2 +-
 libs/models/sprite/glsl_model_sprite.c |    2 +-
 libs/models/sprite/model_sprite.c      |    2 +-
 libs/models/sprite/sw_model_sprite.c   |    2 +-
 libs/models/sw_skin.c                  |    2 +-
 libs/video/renderer/Makefile.am        |   28 +++--
 libs/video/renderer/gl/gl_rmisc.c      |    1 +
 nq/source/Makefile.am                  |    8 +-
 nq/source/cl_main.c                    |    1 -
 nq/source/cl_parse.c                   |   15 +--
 qw/source/Makefile.am                  |    8 +-
 qw/source/cl_entparse.c                |    2 +-
 qw/source/cl_parse.c                   |   11 +-
 qw/source/cl_skin.c                    |    2 -
 34 files changed, 173 insertions(+), 238 deletions(-)

commit 8e91fb7
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 14 19:47:02 2012 +0900

    Get the basics linking.
    
    Still, nothing will work: no plugins are loaded and they're all broken
    anyway.
    
    glx, sgl, glslx etc are going away, just the basics will be built: fbdev
    (probably go away eventually), sdl, x11 and hopefully someday win. That's
    actually the only reason anything links.

 config.d/build_control.m4            |    2 +-
 include/QF/plugin/vid_render.h       |   14 ++
 include/QF/render.h                  |   19 +++
 include/QF/screen.h                  |    2 -
 include/QF/vid.h                     |    2 +
 include/d_iface.h                    |   20 +--
 include/r_cvar.h                     |    4 -
 include/r_screen.h                   |    2 +
 libs/models/Makefile.am              |    8 +-
 libs/video/renderer/r_cvar.c         |   10 --
 libs/video/targets/context_sdl.c     |    3 +-
 libs/video/targets/context_x11.c     |   17 ++-
 libs/video/targets/in_x11.c          |   13 +-
 libs/video/targets/vid.c             |   32 ++---
 libs/video/targets/vid_common_glsl.c |    1 -
 libs/video/targets/vid_common_sw.c   |   68 +++++-----
 libs/video/targets/vid_common_sw32.c |    1 -
 libs/video/targets/vid_fbdev.c       |   79 ++++++------
 libs/video/targets/vid_glx.c         |    1 -
 libs/video/targets/vid_sdl.c         |   29 ++---
 libs/video/targets/vid_sdl32.c       |    1 -
 libs/video/targets/vid_sgl.c         |    1 -
 libs/video/targets/vid_x11.c         |   62 ++++-----
 nq/source/sbar.c                     |    2 +
 qw/include/client.h                  |    9 +-
 qw/source/Makefile.am                |    9 +-
 qw/source/cl_cam.c                   |   18 +--
 qw/source/cl_demo.c                  |    2 +-
 qw/source/cl_entparse.c              |    4 +-
 qw/source/cl_ents.c                  |   65 +++++-----
 qw/source/cl_input.c                 |    2 +-
 qw/source/cl_main.c                  |   48 +++----
 qw/source/cl_ngraph.c                |   34 +++--
 qw/source/cl_parse.c                 |   33 ++---
 qw/source/cl_screen.c                |   42 +++---
 qw/source/cl_tent.c                  |   47 +++----
 qw/source/cl_view.c                  |   82 ++++++------
 qw/source/sbar.c                     |  237 ++++++++++++++++++----------------
 38 files changed, 525 insertions(+), 500 deletions(-)

commit a4c280f
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 14 17:28:09 2012 +0900

    Take the first step towards render plugins.
    
    No clients link. Even if they did, nothing would work.

 config.d/build_control.m4                 |   29 +--
 include/QF/draw.h                         |    2 +-
 include/QF/plugin.h                       |    2 +
 include/QF/plugin/vid_render.h            |  153 ++++++++++++++
 include/QF/render.h                       |   85 ++------
 include/QF/screen.h                       |   13 --
 include/QF/vid.h                          |    1 -
 include/d_local.h                         |   22 +-
 include/r_cvar.h                          |    2 -
 include/r_dynamic.h                       |   28 ---
 include/r_internal.h                      |   79 ++++++++
 include/r_local.h                         |   23 ---
 include/r_screen.h                        |   11 +
 include/r_shared.h                        |    3 -
 libs/console/client.c                     |   19 +-
 libs/models/gl_skin.c                     |    2 +-
 libs/models/glsl_skin.c                   |    2 +
 libs/models/null_model.c                  |    5 -
 libs/models/skin.c                        |    8 +-
 libs/video/renderer/Makefile.am           |   65 +++---
 libs/video/renderer/crosshair.c           |    2 +-
 libs/video/renderer/gl/gl_draw.c          |    4 +-
 libs/video/renderer/gl/gl_dyn_lights.c    |    7 +-
 libs/video/renderer/gl/gl_dyn_part.c      |  308 ++++++++++++++++------------
 libs/video/renderer/gl/gl_dyn_textures.c  |    2 +-
 libs/video/renderer/gl/gl_fog.c           |   16 +-
 libs/video/renderer/gl/gl_graph.c         |    2 +-
 libs/video/renderer/gl/gl_lightmap.c      |    4 +-
 libs/video/renderer/gl/gl_mod_alias.c     |    8 +-
 libs/video/renderer/gl/gl_mod_sprite.c    |    5 +-
 libs/video/renderer/gl/gl_rmain.c         |   10 +-
 libs/video/renderer/gl/gl_rmisc.c         |    4 +-
 libs/video/renderer/gl/gl_rsurf.c         |   14 +-
 libs/video/renderer/gl/gl_screen.c        |   13 +-
 libs/video/renderer/gl/gl_sky.c           |    7 +-
 libs/video/renderer/gl/gl_sky_clip.c      |    7 +-
 libs/video/renderer/gl/gl_textures.c      |    2 +-
 libs/video/renderer/gl/gl_warp.c          |    5 +-
 libs/video/renderer/glsl/glsl_alias.c     |    4 +-
 libs/video/renderer/glsl/glsl_bsp.c       |   16 +-
 libs/video/renderer/glsl/glsl_draw.c      |    4 +-
 libs/video/renderer/glsl/glsl_fog.c       |   16 +-
 libs/video/renderer/glsl/glsl_lightmap.c  |    2 +-
 libs/video/renderer/glsl/glsl_main.c      |   10 +-
 libs/video/renderer/glsl/glsl_particles.c |  312 +++++++++++++++++------------
 libs/video/renderer/glsl/glsl_screen.c    |   13 +-
 libs/video/renderer/glsl/glsl_sprite.c    |    4 +-
 libs/video/renderer/r_alias.c             |    6 +-
 libs/video/renderer/r_bsp.c               |    6 +-
 libs/video/renderer/r_cvar.c              |   16 +-
 libs/video/renderer/r_dyn_textures.c      |    2 +-
 libs/video/renderer/r_efrag.c             |    2 +-
 libs/video/renderer/r_ent.c               |   11 +-
 libs/video/renderer/r_graph.c             |    4 +-
 libs/video/renderer/r_init.c              |   78 ++++++++
 libs/video/renderer/r_light.c             |   20 +-
 libs/video/renderer/r_main.c              |   10 +-
 libs/video/renderer/r_part.c              |   61 ++----
 libs/video/renderer/r_progs.c             |   30 +--
 libs/video/renderer/r_screen.c            |   24 +--
 libs/video/renderer/sw/Makefile.am        |    6 +-
 libs/video/renderer/sw/d_edge.c           |    2 +-
 libs/video/renderer/sw/d_fill.c           |    2 +-
 libs/video/renderer/sw/d_init.c           |    2 +-
 libs/video/renderer/sw/d_modech.c         |    1 +
 libs/video/renderer/sw/d_part.c           |    2 +-
 libs/video/renderer/sw/d_polyse.c         |    2 +-
 libs/video/renderer/sw/d_scan.c           |    6 +-
 libs/video/renderer/sw/d_sky.c            |    2 +-
 libs/video/renderer/sw/d_sprite.c         |    1 +
 libs/video/renderer/sw/d_surf.c           |    2 +-
 libs/video/renderer/sw/d_zpoint.c         |    1 +
 libs/video/renderer/sw/draw.c             |    2 +-
 libs/video/renderer/sw/fpu.c              |    2 +-
 libs/video/renderer/sw/nonintel.c         |    2 +-
 libs/video/renderer/sw/screen.c           |    8 +-
 libs/video/renderer/sw/sw_fog.c           |   43 ----
 libs/video/renderer/sw/sw_graph.c         |    3 +-
 libs/video/renderer/sw/sw_raclip.c        |    2 +-
 libs/video/renderer/sw/sw_ralias.c        |    7 +-
 libs/video/renderer/sw/sw_rbsp.c          |    2 +-
 libs/video/renderer/sw/sw_rdraw.c         |    2 +-
 libs/video/renderer/sw/sw_redge.c         |    2 +-
 libs/video/renderer/sw/sw_rmain.c         |   15 +-
 libs/video/renderer/sw/sw_rmisc.c         |    6 +-
 libs/video/renderer/sw/sw_rpart.c         |   96 ++++-----
 libs/video/renderer/sw/sw_rsky.c          |    4 +-
 libs/video/renderer/sw/sw_rsprite.c       |    4 +-
 libs/video/renderer/sw/sw_rsurf.c         |    4 +-
 libs/video/renderer/sw32/Makefile.am      |    2 +-
 libs/video/renderer/sw32/d_edge.c         |    2 +-
 libs/video/renderer/sw32/d_fill.c         |    1 +
 libs/video/renderer/sw32/d_init.c         |    2 +-
 libs/video/renderer/sw32/d_modech.c       |    1 +
 libs/video/renderer/sw32/d_part.c         |    2 +-
 libs/video/renderer/sw32/d_polyse.c       |    2 +-
 libs/video/renderer/sw32/d_scan.c         |   10 +-
 libs/video/renderer/sw32/d_sky.c          |    2 +-
 libs/video/renderer/sw32/d_sprite.c       |    1 +
 libs/video/renderer/sw32/d_surf.c         |    2 +-
 libs/video/renderer/sw32/d_zpoint.c       |    1 +
 libs/video/renderer/sw32/draw.c           |    2 +-
 libs/video/renderer/sw32/screen.c         |    9 +-
 libs/video/renderer/sw32/sw32_fog.c       |   43 ----
 libs/video/renderer/sw32/sw32_graph.c     |    3 +-
 libs/video/renderer/sw32/sw32_raclip.c    |    2 +-
 libs/video/renderer/sw32/sw32_ralias.c    |    4 +-
 libs/video/renderer/sw32/sw32_rbsp.c      |    2 +-
 libs/video/renderer/sw32/sw32_rdraw.c     |    2 +-
 libs/video/renderer/sw32/sw32_redge.c     |    2 +-
 libs/video/renderer/sw32/sw32_rmain.c     |   15 +-
 libs/video/renderer/sw32/sw32_rmisc.c     |    6 +-
 libs/video/renderer/sw32/sw32_rpart.c     |   96 ++++-----
 libs/video/renderer/sw32/sw32_rsky.c      |    4 +-
 libs/video/renderer/sw32/sw32_rsprite.c   |    4 +-
 libs/video/renderer/sw32/sw32_rsurf.c     |    2 +-
 libs/video/targets/context_sdl.c          |    1 +
 libs/video/targets/context_x11.c          |    1 +
 libs/video/targets/in_x11.c               |    1 +
 libs/video/targets/vid.c                  |    1 +
 libs/video/targets/vid_common_glsl.c      |    3 +-
 libs/video/targets/vid_common_sw.c        |    2 +
 libs/video/targets/vid_common_sw32.c      |    3 +-
 libs/video/targets/vid_fbdev.c            |    1 +
 libs/video/targets/vid_glx.c              |    3 +-
 libs/video/targets/vid_sdl.c              |    1 +
 libs/video/targets/vid_sdl32.c            |    1 +
 libs/video/targets/vid_sgl.c              |    3 +-
 libs/video/targets/vid_x11.c              |    1 +
 nq/include/client.h                       |    3 +-
 nq/source/Makefile.am                     |    9 +-
 nq/source/cl_cam.c                        |   26 +--
 nq/source/cl_ents.c                       |   50 ++---
 nq/source/cl_input.c                      |    4 +-
 nq/source/cl_main.c                       |   16 +-
 nq/source/cl_parse.c                      |   41 ++--
 nq/source/cl_screen.c                     |   35 ++--
 nq/source/cl_tent.c                       |   47 +++--
 nq/source/cl_view.c                       |  104 +++++-----
 nq/source/host.c                          |   22 +-
 nq/source/sbar.c                          |  304 +++++++++++++++-------------
 nq/source/sv_ded.c                        |   30 +--
 qw/source/cl_screen.c                     |    4 +-
 143 files changed, 1485 insertions(+), 1314 deletions(-)

commit 1cbabf7
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Apr 11 14:56:49 2012 +0900

    Fix a buffer overflow.
    
    gcc 4.7 found it :)

 libs/gib/exp.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 28b6a37
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Mar 21 12:31:01 2012 +0900

    Update for 0.6.3

 NEWS |   19 ++++++++++++++++++-
 1 file changed, 18 insertions(+), 1 deletion(-)

commit 39e1ccc
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Mar 14 16:08:48 2012 +0900

    Don't try to process skins in GL without a player model.
    
    If the client receives a skin updated message from the server before having
    loaded the player model (shouldn't happen, but some servers have very
    strange programmers), no skin data is avaible for updating, so just bail
    out.

 libs/models/gl_skin.c |    2 ++
 1 file changed, 2 insertions(+)

commit bb1a342
Author: Antti Harri <iku@openbsd.fi>
Date:   Sat Mar 3 13:46:13 2012 +0200

    Use correct name for OpenGL library on OpenBSD by default.

 config.d/paths.m4 |    2 ++
 configure.ac      |    5 +++++
 2 files changed, 7 insertions(+)

commit 5e33089
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Mar 3 20:57:45 2012 +0900

    Fix the missing terminator for non-static plugins.
    
    Thanks to iku for pointing it out.

 m4/quakeforge.m4 |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a3e5333
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 22 17:47:16 2012 +0900

    Put my blender struts script in a safe place.
    
    Nothing to do with QF, but then again, it might be useful.

 tools/misc/MakeStruts.py |  206 ++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 206 insertions(+)

commit 8267906
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Feb 18 21:33:54 2012 +0900

    Run a vacuum cleaner over the diffs between x11 and glx init.
    
    X11 and GLX init are nowhere near as scary as I thought they were, once
    they've been tidied up.

 include/context_x11.h              |    1 +
 libs/video/targets/context_x11.c   |    5 ++-
 libs/video/targets/vid_common_gl.c |    6 +++
 libs/video/targets/vid_glx.c       |   48 ++++++++++-----------
 libs/video/targets/vid_x11.c       |   82 ++++++++++++++++++------------------
 5 files changed, 76 insertions(+), 66 deletions(-)

commit eff8ebd
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Feb 18 14:54:20 2012 +0900

    Fix a snafu.
    
    In all that, I forgot to test non-asm builds.

 libs/video/renderer/sw/sw_rsurf.c |    3 +++
 1 file changed, 3 insertions(+)

commit 72fb962
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Feb 18 14:34:14 2012 +0900

    Cleanup global symbols for the sw and sw32 renderers.
    
    Names not mangled, but those symbols that could be made static have been.
    Also, many dead variables have been removed.

 include/QF/render.h                    |    2 --
 include/d_iface.h                      |    8 +-----
 include/quakeasm.h                     |    1 -
 include/r_cvar.h                       |    1 -
 include/r_local.h                      |   24 +----------------
 include/r_shared.h                     |    4 +--
 libs/video/renderer/sw/d_edge.c        |    1 -
 libs/video/renderer/sw/d_init.c        |    5 ----
 libs/video/renderer/sw/d_polyse.c      |    7 ++---
 libs/video/renderer/sw/d_surf.c        |    5 ++--
 libs/video/renderer/sw/draw.c          |    8 +++---
 libs/video/renderer/sw/sw_ralias.c     |    5 ++--
 libs/video/renderer/sw/sw_rbsp.c       |    2 +-
 libs/video/renderer/sw/sw_rdraw.c      |    4 +--
 libs/video/renderer/sw/sw_redge.c      |    6 +++--
 libs/video/renderer/sw/sw_rmain.c      |   30 +++++++--------------
 libs/video/renderer/sw/sw_rmisc.c      |    2 --
 libs/video/renderer/sw/sw_rpart.c      |    6 ++---
 libs/video/renderer/sw/sw_rsky.c       |    9 +++----
 libs/video/renderer/sw/sw_rsurf.c      |   13 +++++----
 libs/video/renderer/sw32/d_edge.c      |    1 -
 libs/video/renderer/sw32/d_init.c      |    5 ----
 libs/video/renderer/sw32/d_polyse.c    |   45 +++++++++++++++----------------
 libs/video/renderer/sw32/d_scan.c      |   10 +++----
 libs/video/renderer/sw32/d_surf.c      |    7 ++---
 libs/video/renderer/sw32/draw.c        |    8 +++---
 libs/video/renderer/sw32/sw32_ralias.c |    9 +++----
 libs/video/renderer/sw32/sw32_rbsp.c   |    2 +-
 libs/video/renderer/sw32/sw32_rdraw.c  |    4 +--
 libs/video/renderer/sw32/sw32_redge.c  |   16 +++++------
 libs/video/renderer/sw32/sw32_rmain.c  |   46 +++++++-------------------------
 libs/video/renderer/sw32/sw32_rmisc.c  |    4 ---
 libs/video/renderer/sw32/sw32_rpart.c  |    6 ++---
 libs/video/renderer/sw32/sw32_rsky.c   |   13 +++++----
 libs/video/renderer/sw32/sw32_rsurf.c  |   14 +++++-----
 35 files changed, 120 insertions(+), 213 deletions(-)

commit ef37ed3
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Feb 17 18:57:13 2012 +0900

    Clean up global symbols for the glsl renderer.
    
    Where possible, symbols have been made static, prefixed with glsl_/GLSL_ or
    moved into the code shared by all renderers. This will make doing plugins
    easier but done now for link testing. The moving was done via the gl
    commit.

 include/QF/GLSL/qf_textures.h             |   33 +++++-----
 include/QF/GLSL/qf_vid.h                  |    8 +--
 libs/models/alias/glsl_model_alias.c      |    6 +-
 libs/models/brush/glsl_model_brush.c      |    8 +--
 libs/models/sprite/glsl_model_sprite.c    |    8 +--
 libs/video/renderer/glsl/glsl_alias.c     |   45 ++++++-------
 libs/video/renderer/glsl/glsl_bsp.c       |  102 +++++++++++++++--------------
 libs/video/renderer/glsl/glsl_draw.c      |   46 +++++++------
 libs/video/renderer/glsl/glsl_lightmap.c  |   12 ++--
 libs/video/renderer/glsl/glsl_main.c      |    7 --
 libs/video/renderer/glsl/glsl_particles.c |   44 ++++++-------
 libs/video/renderer/glsl/glsl_sprite.c    |   32 ++++-----
 libs/video/renderer/glsl/glsl_textures.c  |   41 ++++++------
 libs/video/targets/vid_common_glsl.c      |   14 ++--
 14 files changed, 202 insertions(+), 204 deletions(-)

commit 447ff2f
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Feb 17 18:33:07 2012 +0900

    Clean up global symbols for the gl renderer.
    
    Where possible, symbols have been made static, prefixed with gl_/GL_ or
    moved into the code shared by all renderers. This will make doing plugins
    easier but done now for link testing.

 include/QF/GL/qf_lightmap.h              |   10 ++-
 include/QF/GL/qf_rlight.h                |    2 +-
 include/QF/GL/qf_rmain.h                 |    7 +--
 include/QF/GL/qf_rsurf.h                 |    5 +-
 include/QF/GL/qf_sky.h                   |    4 +-
 include/QF/GL/qf_textures.h              |   11 +---
 include/QF/GLSL/qf_lightmap.h            |    1 -
 include/r_local.h                        |    2 +
 include/r_shared.h                       |    4 +-
 include/varrays.h                        |   20 +-----
 libs/models/gl_skin.c                    |    4 +-
 libs/video/renderer/gl/gl_draw.c         |   18 +++---
 libs/video/renderer/gl/gl_dyn_lights.c   |   10 +--
 libs/video/renderer/gl/gl_dyn_part.c     |   16 ++---
 libs/video/renderer/gl/gl_dyn_textures.c |   14 ++---
 libs/video/renderer/gl/gl_graph.c        |    2 +-
 libs/video/renderer/gl/gl_lightmap.c     |   85 +++++++++++++------------
 libs/video/renderer/gl/gl_mod_alias.c    |   22 ++-----
 libs/video/renderer/gl/gl_mod_sprite.c   |   43 ++++++-------
 libs/video/renderer/gl/gl_rmain.c        |   65 +++++++------------
 libs/video/renderer/gl/gl_rmisc.c        |   12 ++--
 libs/video/renderer/gl/gl_rsurf.c        |   42 +++++--------
 libs/video/renderer/gl/gl_sky.c          |  100 +++++++++++++++---------------
 libs/video/renderer/gl/gl_sky_clip.c     |   10 +--
 libs/video/renderer/gl/gl_textures.c     |   12 ++--
 libs/video/renderer/gl/gl_warp.c         |    6 +-
 libs/video/renderer/glsl/glsl_draw.c     |    2 -
 libs/video/renderer/glsl/glsl_main.c     |    9 ---
 libs/video/renderer/r_alias.c            |    4 ++
 libs/video/renderer/r_bsp.c              |    1 +
 libs/video/renderer/r_main.c             |   27 ++++++++
 libs/video/renderer/r_screen.c           |    1 +
 libs/video/renderer/sw/d_surf.c          |    1 -
 libs/video/renderer/sw/draw.c            |    1 -
 libs/video/renderer/sw/sw_ralias.c       |    5 --
 libs/video/renderer/sw/sw_rbsp.c         |    6 --
 libs/video/renderer/sw/sw_rmain.c        |   15 -----
 libs/video/renderer/sw32/d_surf.c        |    1 -
 libs/video/renderer/sw32/draw.c          |    1 -
 libs/video/renderer/sw32/sw32_ralias.c   |    4 --
 libs/video/renderer/sw32/sw32_rbsp.c     |    6 --
 libs/video/renderer/sw32/sw32_rmain.c    |   15 -----
 libs/video/targets/vid_common_gl.c       |   20 +++---
 43 files changed, 268 insertions(+), 378 deletions(-)

commit 057da55
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Feb 18 11:46:46 2012 +0900

    Fix the incorrect linkage of libQFrenderer*
    
    They're now currently not installed, but they were still building as shared
    libs, and thus the installed bins were broken.

 libs/video/renderer/Makefile.am |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 02a624c
Author: Antti Harri <iku@openbsd.fi>
Date:   Fri Feb 17 18:10:15 2012 +0200

    Fix curl; use LIBCURL_CFLAGS, not LIBCURL_CPPFLAGS.

 qw/source/Makefile.am |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 78789a6
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Feb 16 20:47:38 2012 +0900

    Add support for blender's environment maps.
    
    QF will now load a single image with (${skyname}_map.*) using blender's
    layout. That is, 3x2 with the top row being back, right, front and the
    bottom row being bottom, top, left.

 libs/video/renderer/glsl/glsl_bsp.c |  105 +++++++++++++++++++++++++++++------
 1 file changed, 88 insertions(+), 17 deletions(-)

commit bfdb2b2
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Feb 16 20:42:49 2012 +0900

    Clearify skybox layout.
    
    Turns out quake skynames have left and right backwards.

 libs/video/renderer/glsl/glsl_bsp.c |   15 ++++++++-------
 1 file changed, 8 insertions(+), 7 deletions(-)

commit 4cbe78b
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Feb 16 17:06:45 2012 +0900

    Correct the calculation of the static plugin names.
    
    Static plugins not working due to incorrect registered names wasn't nice :P

 m4/quakeforge.m4 |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ce6ab90
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 13 21:58:34 2012 +0900

    Don't include the specific plugin headers in plugin.h.
    
    This lets files that use plugins not depend on plugins they don't use.

 hw/source/master.c             |    3 ++-
 include/QF/plugin.h            |   31 +++++++++++++------------------
 include/QF/plugin/cd.h         |    1 +
 include/QF/plugin/console.h    |    3 ++-
 include/QF/plugin/general.h    |    3 ++-
 include/QF/plugin/input.h      |    1 +
 include/QF/plugin/snd_output.h |    1 +
 include/QF/plugin/snd_render.h |    1 +
 include/snd_internal.h         |    2 ++
 libs/audio/cd.c                |    4 +++-
 libs/audio/cd_file.c           |    4 +++-
 libs/audio/cd_linux.c          |    4 +++-
 libs/audio/cd_sdl.c            |    4 +++-
 libs/audio/cd_sgi.c            |    4 +++-
 libs/audio/cd_win.c            |    4 +++-
 libs/audio/cd_xmms.c           |    4 +++-
 libs/audio/snd.c               |    3 ++-
 libs/audio/targets/snd_alsa.c  |    1 -
 libs/audio/targets/snd_disk.c  |    1 -
 libs/audio/targets/snd_dx.c    |    1 -
 libs/audio/targets/snd_oss.c   |    1 -
 libs/audio/targets/snd_sdl.c   |    1 -
 libs/audio/targets/snd_sgi.c   |    1 -
 libs/audio/targets/snd_sun.c   |    1 -
 libs/audio/targets/snd_win.c   |    1 -
 libs/console/client.c          |    4 +++-
 libs/console/complete.c        |    4 +++-
 libs/console/console.c         |    4 +++-
 libs/console/menu.c            |    3 ++-
 libs/console/server.c          |    4 +++-
 libs/util/plugin.c             |    2 ++
 nq/source/cl_main.c            |    3 ++-
 nq/source/host.c               |    3 ++-
 nq/source/sbar.c               |    3 ++-
 qtv/source/qtv.c               |    3 ++-
 qtv/source/sbar.c              |    3 ++-
 qw/source/cl_main.c            |    3 ++-
 qw/source/sbar.c               |    3 ++-
 qw/source/sv_main.c            |    3 ++-
 qw/source/sv_sbar.c            |    3 ++-
 40 files changed, 82 insertions(+), 51 deletions(-)

commit 699ab70
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 13 16:44:30 2012 +0900

    Fix audio again.
    
    Bah, even though audio no longer needs models, it was still linking with
    it :P

 libs/audio/renderer/Makefile.am |    1 -
 1 file changed, 1 deletion(-)

commit 2ab1367
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 13 16:25:22 2012 +0900

    Update to reflect the new dependency status.

 libs/Makefile.am |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit b69d527
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 13 16:08:03 2012 +0900

    Nuke another AM_CONDITIONAL

 config.d/build_control.m4   |    5 +++++
 config.d/compression.m4     |    1 -
 ruamoko/cl_menu/Makefile.am |    6 +-----
 ruamoko/game/Makefile.am    |    6 +-----
 ruamoko/scheme/Makefile.am  |    6 +-----
 5 files changed, 8 insertions(+), 16 deletions(-)

commit df47dd3
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 13 15:49:55 2012 +0900

    Clean up the excessive makefile vars generated by AC_SUBST.
    
    While it further breaks RPM building, all AC_SUBST(HAVE_*) have been nuked.
    When AM_SUBST_NOTMAKE, tell automake to not generate var = @var@ in
    Makefile.in for qf specific vars (QF_SUBST is a wrapper for AC_SUBST that
    also calls AM_SUBST_NOTMAKE).

 config.d/build_control.m4 |   34 +++++++++++++++++-----------------
 config.d/cdrom.m4         |    5 +----
 config.d/compiling.m4     |    4 ++--
 config.d/fbdev.m4         |    1 -
 config.d/mgl.m4           |    1 -
 config.d/paths.m4         |    6 +-----
 config.d/sdl.m4           |    3 ---
 config.d/sound.m4         |    2 --
 config.d/svga.m4          |    1 -
 config.d/versions.m4      |    7 +------
 config.d/x11.m4           |    1 -
 m4/quakeforge.m4          |   19 ++++++++++---------
 12 files changed, 32 insertions(+), 52 deletions(-)

commit 3cb4cb5
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 13 15:05:31 2012 +0900

    Link QFgamecode directly into QFruamoko.
    
    First step in the library "merge down".
    
    QFgamecode is now a convenience library. The only things that mention it
    directly now are ruamoko and qfcc.

 config.d/build_control.m4   |    3 +--
 libs/Makefile.am            |    6 +++---
 libs/audio/Makefile.am      |    2 +-
 libs/audio/test/Makefile.am |    3 +--
 libs/console/Makefile.am    |    2 +-
 libs/gamecode/Makefile.am   |    5 ++---
 libs/gib/Makefile.am        |    2 +-
 nq/source/Makefile.am       |    1 -
 qw/source/Makefile.am       |   14 ++++++--------
 9 files changed, 16 insertions(+), 22 deletions(-)

commit 9a91aff
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 13 13:44:29 2012 +0900

    Move the ambient level check out of the sound renderer.
    
    Instead, the client gets the current leaf and passes ambient_sound_level
    from the leaf to S_Update.

 include/QF/plugin/snd_render.h     |    3 +--
 include/QF/sound.h                 |    9 +++++----
 include/snd_internal.h             |    3 ++-
 libs/audio/Makefile.am             |    1 -
 libs/audio/renderer/snd_channels.c |   15 +++++----------
 libs/audio/renderer/snd_dma.c      |    4 ++--
 libs/audio/renderer/snd_jack.c     |    4 ++--
 libs/audio/renderer/snd_mem.c      |    1 -
 libs/audio/snd.c                   |    9 ++++-----
 libs/audio/test/testsound.c        |    4 ++--
 nq/source/cl_main.c                |    2 +-
 nq/source/host.c                   |   10 ++++++++--
 nq/source/sv_ded.c                 |    2 +-
 qw/source/cl_main.c                |   12 +++++++++---
 14 files changed, 42 insertions(+), 37 deletions(-)

commit f389715
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 13 10:58:42 2012 +0900

    Fix non-static console plugins.
    
    Bah, fiddly stuff.

 config.d/build_control.m4 |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d8a37bc
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 13 09:00:31 2012 +0900

    Correct the usage of gzFile.
    
    Thanks to spirit for pointing that QF wasn't compiling with zlib 1.2.6
    (archlinux, not yet in debian).
    
    I was using gzFile as "gzFile *gzfile", but gzFile is already a pointer. In
    older versions of zlib (including the 1.2.3 that's in debian), gzFile is
    declared as a void *, and it seems that gcc is happy with assigning void **
    to void *. However, in recent zlib, gzFile is now struct gzFile_s *, which
    gcc is most definitely unhappy about assigning to struct gzFile **.
    
    I just hope that either I had misread the type back when I wrote quakeio,
    or that nobody is using such an ancient zlib.

 libs/util/quakeio.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit dd6ff1f
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 13 08:59:40 2012 +0900

    Fix default plugin selection for static plugins too.
    
    Ugh, I made a lot of mistakes last night.

 m4/quakeforge.m4 |    5 +++++
 1 file changed, 5 insertions(+)

commit 7642b6f
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Feb 12 21:40:12 2012 +0900

    And fix the fix.
    
    *sigh* inadequate testing.

 m4/quakeforge.m4 |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a16daac
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Feb 12 21:16:10 2012 +0900

    Fix the broken defaults for sound and cd plugins.
    
    This has the side effect of defining defaults for all plugins, but as only
    sound and cd actually use the defaults, no harm done.

 config.d/build_control.m4 |    2 --
 config.d/cdrom.m4         |   39 +++------------------------------------
 config.d/result.m4        |    4 ++--
 m4/quakeforge.m4          |   19 ++++++++++++-------
 4 files changed, 17 insertions(+), 47 deletions(-)

commit e416c3e
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Feb 12 20:14:26 2012 +0900

    Clear up some annying whitespace issues.
    
    Now that I know more about how autoconf actually works (ie, m4 stuff), I'm
    finally able to fix the inability to format lists the way I want.

 config.d/build_control.m4 |   24 +++++++++++++++++-------
 m4/quakeforge.m4          |    6 +++---
 2 files changed, 20 insertions(+), 10 deletions(-)

commit 546a7e7
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Feb 12 19:29:31 2012 +0900

    Avoid recusing into tools and ruamoko when not needed.

 Makefile.am                 |    6 ++++--
 config.d/build_control.m4   |   26 +++++++++++++-------------
 m4/quakeforge.m4            |    7 +++++++
 ruamoko/cl_menu/Makefile.am |    4 ----
 ruamoko/game/Makefile.am    |    4 ----
 ruamoko/gui/Makefile.am     |    4 ----
 ruamoko/lib/Makefile.am     |    4 ----
 ruamoko/scheme/Makefile.am  |    4 ----
 8 files changed, 24 insertions(+), 35 deletions(-)

commit 2a472a2
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Feb 12 18:48:47 2012 +0900

    Add the second half of the fix.
    
    Ugh, I thought I'd added that. *sigh*

 m4/quakeforge.m4 |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 6f2fec8
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Feb 12 18:35:00 2012 +0900

    Fix non-static plugins.

 config.d/build_control.m4 |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 02d2418
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Feb 12 11:37:25 2012 +0900

    Use QF_NEED for plugins.
    
    At the moment, the selection of the default sound driver etc is broken.

 config.d/build_control.m4       |  123 ++------------
 config.d/cdrom.m4               |   16 +-
 config.d/sound.m4               |  341 +++++++++++++++++++++------------------
 hw/source/Makefile.am           |    2 +-
 libs/audio/Makefile.am          |   10 +-
 libs/audio/renderer/Makefile.am |    5 +-
 libs/audio/snd.c                |    8 +-
 libs/audio/targets/Makefile.am  |    4 +-
 libs/console/Makefile.am        |    4 +-
 m4/quakeforge.m4                |   65 +++++---
 nq/source/Makefile.am           |    6 +-
 qtv/source/Makefile.am          |    2 +-
 qw/source/Makefile.am           |    4 +-
 13 files changed, 267 insertions(+), 323 deletions(-)

commit e513e29
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Feb 10 18:15:00 2012 +0900

    Move the prefix setup out of QF_PROCESS_NEED_subroutine.
    
    And fix the macro's spelling, too :)
    
    QF_PROCESS_NEED_subroutine needs too much knowledge to get the prefix
    riight every time. Much easier to set it at invocation.

 m4/quakeforge.m4 |    7 +++----
 1 file changed, 3 insertions(+), 4 deletions(-)

commit 4707706
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Feb 10 13:29:45 2012 +0900

    Use QF_NEED for the renderer and model libraries.
    
    This breaks RPM building, but I can fix that later.

 config.d/build_control.m4            |  149 +++++++++++++++++++---------------
 libs/models/Makefile.am              |    2 +-
 libs/models/alias/Makefile.am        |   21 +----
 libs/models/brush/Makefile.am        |   21 +----
 libs/models/sprite/Makefile.am       |   21 +----
 libs/video/renderer/Makefile.am      |    7 +-
 libs/video/renderer/gl/Makefile.am   |    4 -
 libs/video/renderer/glsl/Makefile.am |    5 --
 libs/video/renderer/sw/Makefile.am   |   17 +---
 libs/video/renderer/sw32/Makefile.am |    4 -
 10 files changed, 97 insertions(+), 154 deletions(-)

commit 120f93e
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Feb 10 07:32:21 2012 +0900

    Fix a couple of missed edits from the previous commit.

 tools/qflmp/Makefile.am |    2 +-
 tools/wad/Makefile.am   |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit eefa89e
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Feb 10 02:50:42 2012 +0900

    Remove the AM_CONDITIONALs from tools.
    
    Now that the tools directories aren't entered when those tools aren't being
    built, there's no reason to use AM_CONDITIONAL in there.

 config.d/build_control.m4           |   13 -------------
 tools/bsp2img/Makefile.am           |    9 +--------
 tools/carne/Makefile.am             |   11 +----------
 tools/pak/Makefile.am               |   26 ++++++++------------------
 tools/qfbsp/source/Makefile.am      |    9 +--------
 tools/qfcc/doc/man/Makefile.am      |    8 +-------
 tools/qfcc/source/Makefile.am       |   17 ++---------------
 tools/qflight/Makefile.am           |    8 +-------
 tools/qflight/source/Makefile.am    |    9 +--------
 tools/qflmp/Makefile.am             |   10 +---------
 tools/qfmodelgen/source/Makefile.am |    9 +--------
 tools/qfvis/Makefile.am             |    7 +------
 tools/qfvis/source/Makefile.am      |    9 +--------
 tools/qwaq/Makefile.am              |   14 ++------------
 tools/wad/Makefile.am               |   11 ++---------
 tools/wav/Makefile.am               |   14 ++++----------
 16 files changed, 28 insertions(+), 156 deletions(-)

commit 4d6ed60
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Feb 10 01:49:45 2012 +0900

    Create and use QF_PROCESS_NEED_DIRS.
    
    Not that I imagine many people use --with[out]-tools, but now unwanted
    tools don't get visited by make.

 config.d/build_control.m4 |   30 ++++++++++++++----------------
 config.d/result.m4        |   12 ++++++------
 m4/quakeforge.m4          |    4 ++++
 tools/Makefile.am         |    3 ++-
 4 files changed, 26 insertions(+), 23 deletions(-)

commit 717d536
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Feb 10 01:30:41 2012 +0900

    Rework QF_PROCESS_NEED to be more general.
    
    QF_PROCESS_NEED has been renamed to QF_PROCESS_NEED_LIBS and its guts have
    been moved to QF_PROCESS_NEED_subroutine, with additional modifications to
    allow QF_NEED to be used for other targets as well (eg, directories,
    executables, etc).

 config.d/build_control.m4 |    6 +++---
 m4/quakeforge.m4          |   26 +++++++++++++++-----------
 2 files changed, 18 insertions(+), 14 deletions(-)

commit 9281ad8
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Feb 9 16:14:56 2012 +0900

    Fix the missing desktop files.
    
    I'm not sure what EXTRA_DATA is for, but it doesn't get files into the
    distribution.

 desktop/Makefile.am |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a2d1e06
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Feb 9 14:12:13 2012 +0900

    Recurse into non-build subdirectories only when needed.
    
    No point in sending make into directories where it will never do anything
    under normal circumstances.

 Makefile.am |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 39b07dc
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Feb 9 14:10:27 2012 +0900

    Fix the missing vc project files.
    
    How... embarrassing. And all due to one little backslash.

 vc2005/Makefile.am |    2 +-
 vc2008/Makefile.am |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 7a8f91e
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Feb 9 09:56:46 2012 +0900

    Move bi_gib.c from ruamoko to gib.
    
    This makes gib depend on gamecode, but removes the dependency on gib from
    ruamoko. Unfortunately, carne now needs to be linked against gamecode even
    though it never uses it.

 config.d/build_control.m4 |    4 +-
 libs/Makefile.am          |    5 +-
 libs/gib/Makefile.am      |    5 +-
 libs/gib/bi_gib.c         |  201 +++++++++++++++++++++++++++++++++++++++++++++
 libs/gib/gib_init.c       |   10 ++-
 libs/ruamoko/Makefile.am  |    3 +-
 libs/ruamoko/bi_gib.c     |  201 ---------------------------------------------
 libs/ruamoko/pr_cmds.c    |    5 --
 8 files changed, 218 insertions(+), 216 deletions(-)

commit da4fb61
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Feb 9 09:51:50 2012 +0900

    Correct the client console plugin's dependencies.

 libs/console/Makefile.am |    2 ++
 1 file changed, 2 insertions(+)

commit b716a70
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 8 23:04:13 2012 +0900

    Fix some typos.
    
    Too late for the release, but it makes me feel better.

 NEWS |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit e34f017
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 8 21:50:16 2012 +0900

    Build GLSL clients for SDL.
    
    Just about to do a release, and I realized windows users wouldn't have any
    way of checking out the new renderer. I'll add wglsl when I get a chance to
    do some testing.

 config.d/build_control.m4       |   16 +++++++++++++++-
 libs/video/targets/Makefile.am  |   12 ++++++++++--
 nq/source/Makefile.am           |   15 ++++++++++++++-
 qw/source/Makefile.am           |   18 ++++++++++++++++--
 tools/build_scripts/qf-win32.py |   11 +++++++++++
 5 files changed, 66 insertions(+), 6 deletions(-)

commit cc443c4
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 8 21:06:39 2012 +0900

    Update the cross-tools locations.

 Makefile.am                    |    6 ++++--
 tools/build_scripts/qf-release |    4 ++--
 2 files changed, 6 insertions(+), 4 deletions(-)

commit 120f26c
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 8 20:56:43 2012 +0900

    Update for 0.6.2

 NEWS |   10 ++++++----
 1 file changed, 6 insertions(+), 4 deletions(-)

commit b6fd1ea
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 8 20:30:13 2012 +0900

    Start updating NEWS.

 NEWS |   20 +++++++++++++++++++-
 1 file changed, 19 insertions(+), 1 deletion(-)

commit fe3f0fa
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 8 15:21:57 2012 +0900

    Remove snax' object module.
    
    We don't use it for anything. If we ever want it again, we can just pull
    it from history.

 libs/object/ArrayList.c  |  239 --------------------------------------
 libs/object/Collection.c |  106 -----------------
 libs/object/Double.c     |   80 -------------
 libs/object/Integer.c    |   80 -------------
 libs/object/Iterator.c   |   56 ---------
 libs/object/List.c       |   75 ------------
 libs/object/Makefile.am  |   16 ---
 libs/object/Number.c     |   57 ---------
 libs/object/String.c     |   73 ------------
 libs/object/garbage.c    |  120 -------------------
 libs/object/object.c     |  287 ----------------------------------------------
 11 files changed, 1189 deletions(-)

commit 5c062ac
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 8 08:25:50 2012 +0900

    Enable the glslx qw client.
    
    The only reason it wa getting built is other qw clients were requiring the
    same libs.

 config.d/build_control.m4 |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 8e5c7db
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 7 23:03:47 2012 +0900

    Clean up the sound plugin configuration code.
    
    16 if statements down to one in a for loop :)

 config.d/build_control.m4 |   61 ++++++++++-----------------------------------
 1 file changed, 13 insertions(+), 48 deletions(-)

commit 54626b3
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 7 23:01:43 2012 +0900

    Clean out some cruft.
    
    gibscript seems to be one of snax' little experiments. I suspect he never
    committed it, but his autoconf changes snuck in by accident.

 config.d/build_control.m4 |    6 ------
 1 file changed, 6 deletions(-)

commit cd05fec
Author: Sander van Dijk <a.h.vandijk@gmail.com>
Date:   Mon Feb 6 21:46:24 2012 +0100

    config.d/networking.m4: fix minor typo.

 config.d/networking.m4 |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 8a5b16d
Author: Sander van Dijk <a.h.vandijk@gmail.com>
Date:   Mon Feb 6 21:45:40 2012 +0100

    config.d/networking.m4: fix check for libcurl.

 config.d/networking.m4 |    6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit b59ffd4
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 7 20:18:23 2012 +0900

    Fix win32 (mingw) builds.

 include/in_win.h                |   15 +++++----------
 libs/video/targets/in_win.c     |    1 -
 qw/source/Makefile.am           |    2 +-
 tools/cross/mingw/cross-make.sh |    1 +
 4 files changed, 7 insertions(+), 12 deletions(-)

commit 0a27737
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 7 20:17:32 2012 +0900

    Fix static builds.

 libs/Makefile.am                |    2 +-
 libs/audio/Makefile.am          |    1 +
 libs/audio/renderer/Makefile.am |   20 ++++++++++++--------
 libs/audio/test/Makefile.am     |    1 +
 4 files changed, 15 insertions(+), 9 deletions(-)

commit 8ecf747
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 7 18:45:55 2012 +0900

    Refer to local libs without a path.
    
    I'm sure I've been here before... Anyway, using $(top_builddir)/... to
    refer to a local lib confuses make and breaks parallel builds.

 libs/audio/Makefile.am |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 9fbff2f
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 7 16:04:19 2012 +0900

    Do an audit of the Makefile.am files.
    
      o All instances of LIBADD/LDADD have a corresponding DEPENDENCIES
        specificatiion.
      o libraries now use a lib_ldflags macro to keep things consistent
      o duplication of source/lib names has been minimized (particularly in
        the libraries; more work needs to be done for the executables)
      o automake spec blocks have been organized (again, more work needs to be
        done for the executables)

 hw/source/Makefile.am           |   14 +++++--
 libs/Makefile.am                |   11 +++---
 libs/audio/Makefile.am          |   69 +++++++++++++++++++-------------
 libs/audio/renderer/Makefile.am |   29 ++++++++------
 libs/audio/targets/Makefile.am  |   83 ++++++++++++++++++++++-----------------
 libs/audio/test/Makefile.am     |   11 ++++--
 libs/console/Makefile.am        |   30 +++++++++-----
 libs/gamecode/Makefile.am       |    9 ++++-
 libs/gib/Makefile.am            |   15 +++++--
 libs/image/Makefile.am          |   11 ++++--
 libs/models/Makefile.am         |   54 ++++++++++++++-----------
 libs/models/test/Makefile.am    |   22 ++++++-----
 libs/net/Makefile.am            |   10 +++--
 libs/object/Makefile.am         |    9 ++++-
 libs/ruamoko/Makefile.am        |   12 +++++-
 libs/util/Makefile.am           |    5 ++-
 libs/video/renderer/Makefile.am |   17 ++++----
 libs/video/targets/Makefile.am  |   59 ++++++++++++++++++----------
 qw/source/Makefile.am           |   21 +++++-----
 tools/qfcc/Makefile.am          |    3 --
 20 files changed, 305 insertions(+), 189 deletions(-)

commit b7e5ad6
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 7 12:52:12 2012 +0900

    Clean up plugin_ldadd and plugin_ldflags

 config.d/build_control.m4 |    6 ------
 config.d/compiling.m4     |    2 ++
 2 files changed, 2 insertions(+), 6 deletions(-)

commit b5019c8
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 6 23:44:52 2012 +0900

    Nuke the engine dicrectory from gamecode.
    
    Not the contents, of course :) Anyway, finally, that totally useless
    directory is gone.

 config.d/ac_config_files.m4        |    1 -
 config.d/build_control.m4          |    4 +-
 libs/audio/Makefile.am             |    2 +-
 libs/audio/test/Makefile.am        |    2 +-
 libs/gamecode/Makefile.am          |   12 +-
 libs/gamecode/engine/Makefile.am   |   12 -
 libs/gamecode/engine/pr_builtins.c |  218 ------
 libs/gamecode/engine/pr_debug.c    | 1110 -------------------------------
 libs/gamecode/engine/pr_edict.c    |  255 -------
 libs/gamecode/engine/pr_exec.c     | 1088 ------------------------------
 libs/gamecode/engine/pr_load.c     |  433 ------------
 libs/gamecode/engine/pr_opcode.c   | 1278 ------------------------------------
 libs/gamecode/engine/pr_parse.c    |  524 ---------------
 libs/gamecode/engine/pr_resolve.c  |  183 ------
 libs/gamecode/engine/pr_resource.c |   95 ---
 libs/gamecode/engine/pr_strings.c  |  868 ------------------------
 libs/gamecode/engine/pr_zone.c     |   90 ---
 libs/gamecode/pr_builtins.c        |  218 ++++++
 libs/gamecode/pr_debug.c           | 1110 +++++++++++++++++++++++++++++++
 libs/gamecode/pr_edict.c           |  255 +++++++
 libs/gamecode/pr_exec.c            | 1088 ++++++++++++++++++++++++++++++
 libs/gamecode/pr_load.c            |  433 ++++++++++++
 libs/gamecode/pr_opcode.c          | 1278 ++++++++++++++++++++++++++++++++++++
 libs/gamecode/pr_parse.c           |  524 +++++++++++++++
 libs/gamecode/pr_resolve.c         |  183 ++++++
 libs/gamecode/pr_resource.c        |   95 +++
 libs/gamecode/pr_strings.c         |  868 ++++++++++++++++++++++++
 libs/gamecode/pr_zone.c            |   90 +++
 libs/ruamoko/Makefile.am           |    2 +-
 nq/source/Makefile.am              |    2 +-
 qw/source/Makefile.am              |    4 +-
 31 files changed, 6159 insertions(+), 6166 deletions(-)

commit 115ae82
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 6 23:32:26 2012 +0900

    Fix an install oopsie.
    
    VISIBLE snuck into a header while I wasn't looking.

 include/QF/console.h |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 7c76415
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 6 19:33:08 2012 +0900

    Add math.r to libr.

 ruamoko/lib/Makefile.am |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a694eed
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 6 19:32:30 2012 +0900

    Add Draw_Picf to allow smooth placement on low-res consoles.

 include/QF/draw.h                    |    7 +++++++
 libs/video/renderer/gl/gl_draw.c     |   20 ++++++++++++++++++++
 libs/video/renderer/glsl/glsl_draw.c |   12 ++++++++++--
 libs/video/renderer/r_progs.c        |   13 +++++++++++++
 libs/video/renderer/sw/draw.c        |    5 +++++
 libs/video/renderer/sw32/draw.c      |    5 +++++
 ruamoko/include/draw.h               |    1 +
 ruamoko/lib/draw.r                   |    1 +
 8 files changed, 62 insertions(+), 2 deletions(-)

commit 14c0e22
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 6 15:49:37 2012 +0900

    Tweak Draw_MakePic to be a little more usable.

 libs/video/renderer/r_progs.c |    2 +-
 ruamoko/include/draw.h        |    2 +-
 ruamoko/lib/draw.r            |    2 +-
 3 files changed, 3 insertions(+), 3 deletions(-)

commit d6ddbe4
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 6 15:18:34 2012 +0900

    Create decls for the new draw functions.

 ruamoko/include/draw.h |    2 ++
 ruamoko/lib/draw.r     |    2 ++
 2 files changed, 4 insertions(+)

commit c98ffa4
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 6 15:05:08 2012 +0900

    Create a message buffer API for Ruamoko
    
    The api hides all the gory details of message buffer setup and usage
    (particularly the differences between writing and reading). Most
    importantly, the api provides a safe way to read and write binary data
    (always little endian).

 include/rua_internal.h      |    2 +
 libs/ruamoko/Makefile.am    |    4 +-
 libs/ruamoko/rua_init.c     |    1 +
 libs/ruamoko/rua_msgbuf.c   |  450 +++++++++++++++++++++++++++++++++++++++++++
 ruamoko/include/Makefile.am |    4 +-
 ruamoko/include/msgbuf.h    |   49 +++++
 ruamoko/lib/Makefile.am     |    2 +-
 ruamoko/lib/msgbuf.r        |   41 ++++
 8 files changed, 548 insertions(+), 5 deletions(-)

commit 042f310
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 6 15:04:01 2012 +0900

    Add MSG_WriteBytes to match MSG_ReadBytes.

 include/QF/msg.h |    1 +
 libs/util/msg.c  |    6 ++++++
 2 files changed, 7 insertions(+)

commit 6e10d84
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 6 12:50:44 2012 +0900

    Make the qpic_t struct consistent with the internal layout.
    
    Now that the renderer ruamoko builtins use handles, there's no need to
    hide data, and it's safer anyway.

 ruamoko/include/draw.h |    1 +
 1 file changed, 1 insertion(+)

commit 42b87ee
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 6 12:49:57 2012 +0900

    Fix the memory leak in rua Draw_CachePic.

 libs/video/renderer/r_progs.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit be9f05e
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 6 12:48:22 2012 +0900

    Catch progs zone errors and give a stack dump.

 include/QF/zone.h              |    3 +-
 libs/gamecode/engine/pr_zone.c |    8 +++++
 libs/util/zone.c               |   73 +++++++++++++++++++++++++++++++++-------
 3 files changed, 70 insertions(+), 14 deletions(-)

commit e6969ea
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 6 00:05:22 2012 +0900

    Use pkg-config for libcurl, too.

 config.d/networking.m4 |   11 ++++++++++-
 qw/source/Makefile.am  |   22 +++++++++++-----------
 2 files changed, 21 insertions(+), 12 deletions(-)

commit 47ee9d0
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Feb 5 22:27:27 2012 +0900

    Use pkg-config for ogg and vorbis libs.
    
    Modern versions of ogg and vorbis provide pc files, so might as well make
    the most of it.

 config.d/compression.m4 |   23 +++++++++++++++++------
 1 file changed, 17 insertions(+), 6 deletions(-)

commit f5eec3d
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Feb 5 20:52:38 2012 +0900

    Set all android envvars for make as well as configure.
    
    Running make might trigger a reconfig, so the vars are always necessary.

 tools/cross/droid/cross-make.sh |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit abcd309
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Feb 5 18:46:59 2012 +0900

    Test for sys/shm.h for OSS sound.
    
    Android does not supply sys/shm.h (or related headers, by design), so OSS
    sound is completely out of the question on Android.

 config.d/sound.m4 |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d2a6da6
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Feb 5 18:46:12 2012 +0900

    Set PKG_CONFIG_PATH to something reasonable.
    
    Now libsamplerate can be detected.

 tools/cross/droid/arm-linux-androideabi-pkg-config |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 459d6c3
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Feb 5 14:36:02 2012 +0900

    Add the final changes to get configure working for android.

 tools/cross/droid/cross-configure.sh |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit c0f7b4b
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Feb 5 14:29:46 2012 +0900

    Fix qfvis for android.
    
    pthread_cancel is not (and will not be) implemented, so rework the thread
    finalization to not need it.

 tools/qfvis/source/qfvis.c |   38 +++++++++++++++++++++++++-------------
 1 file changed, 25 insertions(+), 13 deletions(-)

commit 97aa5b8
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Feb 5 14:29:00 2012 +0900

    Don't try to link with pthread on android.
    
    The pthread functions are in libc.

 config.d/pthread.m4 |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit cef004f
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Feb 5 14:28:23 2012 +0900

    Fix a type mismatch on android.

 libs/net/nm/net_udp.c |    5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 4bd6bca
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Feb 5 14:27:48 2012 +0900

    Fix a prototype/definition mismatch.

 libs/image/png.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 8c3db9a
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Feb 5 14:26:23 2012 +0900

    Fix regex.c for android.
    
    Android's headers declare bcmp etc in strings.h, but don't the functions
    don't exist in the libs.

 libs/gib/regex.c |    3 +++
 1 file changed, 3 insertions(+)

commit 201532e
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Feb 5 14:25:22 2012 +0900

    Fix missing library references when linking.

 config.d/build_control.m4   |    2 +-
 libs/audio/Makefile.am      |   18 ++++++++++++++----
 libs/audio/test/Makefile.am |    2 +-
 libs/models/Makefile.am     |   16 ++++++++++++----
 qw/source/Makefile.am       |    1 +
 5 files changed, 29 insertions(+), 10 deletions(-)

commit 3bd75ce
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Feb 5 14:23:33 2012 +0900

    Autoconfiscate log2f.
    
    Android doesn't supply log2f for us (though it does have all the other
    float calls ruamoko wants).

 config.d/library_functions.m4 |    8 ++++++++
 libs/ruamoko/rua_math.c       |    4 ++++
 2 files changed, 12 insertions(+)

commit 5fdad1c
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Feb 5 11:34:11 2012 +0900

    Support more than just mingw cross compiling.
    
    This is the beginnings of android support :)

 tools/cross/cross-configure.sh                     |    9 -
 tools/cross/cross-make.sh                          |    8 -
 tools/cross/cross.sh                               |  245 --------------------
 tools/cross/droid/arm-linux-androideabi-pkg-config |   16 ++
 tools/cross/droid/cross-configure.sh               |   10 +
 tools/cross/droid/cross-make.sh                    |    8 +
 tools/cross/mingw/cross-configure.sh               |    9 +
 tools/cross/mingw/cross-make.sh                    |    8 +
 tools/cross/mingw/cross.sh                         |  245 ++++++++++++++++++++
 9 files changed, 296 insertions(+), 262 deletions(-)

commit 44c6aad
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Feb 2 21:41:39 2012 +0900

    Add some headers for make distcheck.

 include/QF/Makefile.am |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 6f10f0c
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Feb 2 17:32:27 2012 +0900

    Fix the x86 sw renderer (intel asm).
    
    I'd forgotten about assembly code versions when I was doing my testing
    when I redid skins. Thanks to Sander for pointing it out.

 libs/video/renderer/sw/sw_ralias.c |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 49453b6
Author: Sander van Dijk <a.h.vandijk@gmail.com>
Date:   Wed Feb 1 22:07:39 2012 +0100

    glsl_main.c: initialize t[] to silence compiler warning.

 libs/video/renderer/glsl/glsl_main.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 82adc67
Author: Sander van Dijk <a.h.vandijk@gmail.com>
Date:   Wed Feb 1 22:01:19 2012 +0100

    glsl_bsp.c: __builtin_expect() to avoid compiler warnings.

 libs/video/renderer/glsl/glsl_bsp.c |    6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit f800e79
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 1 21:52:47 2012 +0900

    Make the init process more dependency based.
    
    Most subsystems that depend on other subsystems now call the init functions
    themselves. This makes for much cleaner client initialization (more work
    needs to be done for the server).

 include/QF/input.h                    |    2 +-
 libs/video/renderer/gl/gl_rmisc.c     |    2 +
 libs/video/renderer/glsl/glsl_main.c  |    1 +
 libs/video/renderer/sw/sw_rmain.c     |    1 +
 libs/video/renderer/sw32/sw32_rmain.c |    1 +
 libs/video/targets/in_common.c        |    9 +--
 nq/source/cl_main.c                   |   29 ++++-----
 nq/source/host.c                      |   15 ++---
 nq/source/sv_main.c                   |    2 +
 qw/source/cl_main.c                   |  115 +++++++++++++++++----------------
 10 files changed, 91 insertions(+), 86 deletions(-)

commit c4e08bc
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 1 20:07:21 2012 +0900

    Fix a compile problem with struct cvar_s.

 include/QF/input.h |    1 +
 1 file changed, 1 insertion(+)

commit b9bb7d9
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 1 20:06:14 2012 +0900

    Remove calls to Sbar_Changed from the libraries.
    
    If this breaks things, we'll have to sort something out, but again, no libs
    reaching into the exe.

 libs/video/renderer/gl/gl_draw.c  |    2 --
 libs/video/renderer/r_screen.c    |    5 -----
 libs/video/renderer/sw/screen.c   |    1 -
 libs/video/renderer/sw32/screen.c |    1 -
 libs/video/targets/vid_3dfxsvga.c |    1 -
 libs/video/targets/vid_glx.c      |    1 -
 libs/video/targets/vid_sgl.c      |    1 -
 libs/video/targets/vid_wgl.c      |    2 --
 8 files changed, 14 deletions(-)

commit 5efc78b
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 1 20:04:39 2012 +0900

    Move the call to R_Particles_Init_Cvars into R_Init_Cvars.

 libs/video/renderer/r_cvar.c |    1 +
 nq/source/cl_main.c          |    1 -
 qw/source/cl_main.c          |    1 -
 3 files changed, 1 insertion(+), 2 deletions(-)

commit 4b39090
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 1 20:03:16 2012 +0900

    Move r_gravity to it's rightful home.
    
    r_part.c makes much more sense.

 libs/video/renderer/r_part.c |    1 +
 nq/source/cl_parse.c         |    1 -
 qw/source/cl_parse.c         |    2 --
 3 files changed, 1 insertion(+), 3 deletions(-)

commit fa0ff96
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 1 19:52:13 2012 +0900

    Clean up the mess with host_basepal and vid_colormap.
    
    Libs should not be reaching into the exe :P

 include/QF/vid.h                  |    2 +-
 libs/video/targets/vid.c          |    1 +
 libs/video/targets/vid_3dfxsvga.c |    4 ++--
 libs/video/targets/vid_fbdev.c    |    4 +++-
 libs/video/targets/vid_glx.c      |    4 ++--
 libs/video/targets/vid_sdl.c      |    4 +++-
 libs/video/targets/vid_sdl32.c    |    4 +++-
 libs/video/targets/vid_sgl.c      |    4 ++--
 libs/video/targets/vid_svgalib.c  |    3 ++-
 libs/video/targets/vid_wgl.c      |    4 ++--
 libs/video/targets/vid_x11.c      |    4 ++--
 nq/source/cl_main.c               |   10 ++++------
 qw/source/cl_main.c               |   20 +++++++++-----------
 13 files changed, 36 insertions(+), 32 deletions(-)

commit d76e460
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 1 18:19:54 2012 +0900

    Rewrite the ruamoko draw api internals.
    
    Update for using resources, and add wrappers for Draw_MakePic and
    Draw_DestroyPic/Draw_UncachePic.

 libs/video/renderer/r_progs.c |  177 ++++++++++++++++++++++++++++++-----------
 1 file changed, 130 insertions(+), 47 deletions(-)

commit bc2aca5
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 1 17:46:15 2012 +0900

    Add functions to create/destroy qpics.
    
    The creation uses raw 8-bit data (and the system palette). Destroying a
    qpic loaded via other means will probably produce nasal demons.

 include/QF/draw.h                    |   16 ++++++++++++++++
 libs/video/renderer/gl/gl_draw.c     |   21 +++++++++++++++++++++
 libs/video/renderer/glsl/glsl_draw.c |   12 ++++++++++++
 libs/video/renderer/sw/draw.c        |   24 ++++++++++++++++++++++--
 libs/video/renderer/sw32/draw.c      |   24 ++++++++++++++++++++++--
 5 files changed, 93 insertions(+), 4 deletions(-)

commit 2b6adaa
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 1 17:44:55 2012 +0900

    Do some more const correctness.

 include/QF/GL/qf_textures.h          |    6 +++---
 include/QF/crc.h                     |    4 ++--
 libs/util/crc.c                      |    4 ++--
 libs/video/renderer/gl/gl_textures.c |   13 +++++++------
 4 files changed, 14 insertions(+), 13 deletions(-)

commit 7e406c2
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 1 16:55:35 2012 +0900

    Allow uncaching of qpics.
    
    qpics loaded via Draw_CachePic can now be uncached via Draw_UncachePic.

 include/QF/draw.h                    |    8 ++++++++
 libs/video/renderer/gl/gl_draw.c     |   15 +++++++++++++++
 libs/video/renderer/glsl/glsl_draw.c |    6 ++++++
 libs/video/renderer/sw/draw.c        |   26 +++++++++++++++++++++++---
 libs/video/renderer/sw32/draw.c      |   26 +++++++++++++++++++++++---
 5 files changed, 75 insertions(+), 6 deletions(-)

commit a849cf7
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 1 14:08:53 2012 +0900

    Fix a stale include problem.
    
    Thanks to iku for pointing it out.

 libs/video/renderer/noisetextures.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a131a7a
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 1 13:01:24 2012 +0900

    Fix the gl test... again :/
    
    Actually, it probably doesn't make any difference, but making it look
    right is still important.

 libs/video/targets/vid_common_gl.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 706f09b
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 31 18:08:06 2012 +0900

    Put the transparent surfaces on the water chain.
    
    I'd actually done this the first time, but then got confused and forgot the
    waterchain works with multiple textures. This is actually the right place
    as all transparent surfaces need to be sorted irrespective to their
    textures. Really, waterchain needs to be renamed.

 libs/video/renderer/glsl/glsl_bsp.c |   11 ++++-------
 1 file changed, 4 insertions(+), 7 deletions(-)

commit b286a35
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 31 16:17:09 2012 +0900

    Sort transparent surfaces back to front.
    
    This allows overlapping transparent surfaces to look like they are
    overlapping each other rather than only the nearest one showing.

 libs/video/renderer/glsl/glsl_bsp.c |    5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit 1052bd2
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 31 09:51:44 2012 +0900

    Fix the segfault on leaving e1m2.
    
    Problem and solution found by Deek, reason by me.

 libs/models/brush/glsl_model_brush.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit c3d2365
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 30 21:02:13 2012 +0900

    Fix a missed default_color init.
    
    Wish I'd caught this earlier :/

 libs/video/renderer/glsl/glsl_bsp.c |    1 +
 1 file changed, 1 insertion(+)

commit c01255a
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 30 20:31:58 2012 +0900

    Fix a case&paste error.
    
    Doesn't fix the color problem for water surfaces on my eeepc, though :(

 libs/video/renderer/glsl/glsl_bsp.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 8f0ce73
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 30 20:31:37 2012 +0900

    Sanitize color handling a little.

 libs/video/renderer/glsl/glsl_bsp.c |    9 ++++-----
 1 file changed, 4 insertions(+), 5 deletions(-)

commit 4b948de
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 30 18:41:27 2012 +0900

    Ensure the lightmap gets rebuilt when the dlights disappear.
    
    I didn't realize what that line was for when I copied the code from GL :/

 libs/video/renderer/glsl/glsl_lightmap.c |    4 ++++
 1 file changed, 4 insertions(+)

commit e4f63fb
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 30 09:13:06 2012 +0900

    Fix some integer shift overflows.
    
    Thanks to Ozkan Sezer for pointing them out.

 libs/video/renderer/sw/sw_redge.c     |    2 +-
 libs/video/renderer/sw32/sw32_redge.c |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 497718c
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jan 29 22:32:35 2012 +0900

    Plug the memory/texture/vbo leaks.
    
    QF still leaks about 3MB/run on demo1, but even 100 runs didn't show any
    render issues.

 include/QF/model.h                     |    1 +
 libs/models/alias/glsl_model_alias.c   |   37 ++++++++++++++++++++++++++++++++
 libs/models/brush/glsl_model_brush.c   |   22 +++++++++++++++++++
 libs/models/brush/model_brush.c        |    2 ++
 libs/models/model.c                    |   14 +++++++-----
 libs/models/sprite/glsl_model_sprite.c |   28 ++++++++++++++++++++++--
 libs/video/renderer/glsl/glsl_bsp.c    |    1 -
 libs/video/targets/vid_common_glsl.c   |    1 +
 8 files changed, 98 insertions(+), 8 deletions(-)

commit b03e937
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jan 29 16:56:50 2012 +0900

    Implement brush entity alpha.
    
    http://www.celephais.net/board/view_thread.php?id=60157& has a good map for
    testing (you see an example straight away if you look up). (+set max_edicts
    2048)

 include/QF/GLSL/qf_bsp.h            |    1 +
 libs/video/renderer/glsl/glsl_bsp.c |   47 +++++++++++++++++++++++++++--------
 2 files changed, 37 insertions(+), 11 deletions(-)

commit 8f869c0
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jan 29 16:09:35 2012 +0900

    Fix the missing world on map reload.
    
    If the map got reloaded but the current leaf didn't change the world (and
    most entities) didn't get drawn. Forcing a vis update by first setting
    r_viewleaf to null and marking surfaces does the trick :)

 libs/video/renderer/gl/gl_rmisc.c     |    3 +++
 libs/video/renderer/glsl/glsl_main.c  |    4 ++++
 libs/video/renderer/r_bsp.c           |    2 ++
 libs/video/renderer/sw/sw_rmain.c     |    3 +++
 libs/video/renderer/sw32/sw32_rmain.c |    3 +++
 5 files changed, 15 insertions(+)

commit 462a904
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jan 29 10:35:23 2012 +0900

    Fix the missing fog on particles and sprites.
    
    Bah, definitely need a metter method of parameter interrogation.

 libs/video/renderer/glsl/glsl_particles.c |    4 ++--
 libs/video/renderer/glsl/glsl_sprite.c    |    2 +-
 2 files changed, 3 insertions(+), 3 deletions(-)

commit 731236e
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jan 29 10:27:28 2012 +0900

    Implement global fog.
    
    Sprites and particles don't seem to be getting fogged correctly, but bsp
    and alias models are working.

 libs/video/renderer/glsl/Makefile.am      |    4 +-
 libs/video/renderer/glsl/glsl_alias.c     |    9 ++
 libs/video/renderer/glsl/glsl_bsp.c       |   31 ++++
 libs/video/renderer/glsl/glsl_fog.c       |  247 +++++++++++++++++++++++++++++
 libs/video/renderer/glsl/glsl_main.c      |   11 +-
 libs/video/renderer/glsl/glsl_particles.c |   16 ++
 libs/video/renderer/glsl/glsl_sprite.c    |    8 +
 libs/video/renderer/glsl/quakebsp.frag    |   21 ++-
 libs/video/renderer/glsl/quakemdl.frag    |   19 ++-
 libs/video/renderer/glsl/quakepar.frag    |   19 ++-
 libs/video/renderer/glsl/quakepnt.frag    |   19 ++-
 libs/video/renderer/glsl/quakeskb.frag    |   19 ++-
 libs/video/renderer/glsl/quakeski.frag    |   19 ++-
 libs/video/renderer/glsl/quakespr.frag    |   20 ++-
 libs/video/renderer/glsl/quaketrb.frag    |   19 ++-
 15 files changed, 461 insertions(+), 20 deletions(-)

commit 4734c5b
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jan 28 21:20:34 2012 +0900

    Implement water alpha.

 libs/video/renderer/glsl/glsl_bsp.c    |   16 ++++++++++++++++
 libs/video/renderer/glsl/quakebsp.frag |    3 ++-
 libs/video/renderer/glsl/quakebsp.vert |    3 +++
 libs/video/renderer/glsl/quaketrb.frag |    3 ++-
 4 files changed, 23 insertions(+), 2 deletions(-)

commit 57f920b
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jan 28 21:01:19 2012 +0900

    Fix some inverted logic.
    
    Oops.

 nq/source/cl_screen.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 7e078c7
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jan 28 20:45:14 2012 +0900

    Revamp cshifts and implement in glsl.
    
    The renderer should now be free of any direct access to client code. Even
    3d rendering is now done via a function pointer.
    
    The cshift code is done as a 2d screen function.

 include/QF/draw.h                      |    4 ++
 include/QF/screen.h                    |    3 +-
 include/QF/vid.h                       |    1 +
 include/clview.h                       |    2 -
 libs/video/renderer/gl/gl_draw.c       |   22 +++++++
 libs/video/renderer/gl/gl_rmain.c      |    4 +-
 libs/video/renderer/gl/gl_screen.c     |   23 +-------
 libs/video/renderer/glsl/glsl_draw.c   |   16 ++++-
 libs/video/renderer/glsl/glsl_screen.c |    5 +-
 libs/video/renderer/sw/draw.c          |   27 +++++++++
 libs/video/renderer/sw/screen.c        |   34 +----------
 libs/video/renderer/sw/sw_rmain.c      |    3 -
 libs/video/renderer/sw32/draw.c        |   94 +++++++++++++++++++++++++++++
 libs/video/renderer/sw32/screen.c      |  101 +-------------------------------
 libs/video/renderer/sw32/sw32_rmain.c  |    3 -
 nq/source/cl_screen.c                  |   17 +++++-
 nq/source/cl_view.c                    |    9 ++-
 qw/source/cl_screen.c                  |   18 +++++-
 qw/source/cl_view.c                    |    9 ++-
 19 files changed, 215 insertions(+), 180 deletions(-)

commit 315db55
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jan 28 14:10:47 2012 +0900

    Add some instrumentation to check render speeds.

 libs/video/renderer/glsl/glsl_main.c |   32 ++++++++++++++++++++++++++++++++
 1 file changed, 32 insertions(+)

commit 2595251
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jan 27 21:48:25 2012 +0900

    Do not update every visible lightmap every frame.
    
    This takes nq from ~25fps to 65-72 fps on Unforgiven's start map.

 libs/video/renderer/glsl/glsl_bsp.c |   18 +++++++++++++++++-
 1 file changed, 17 insertions(+), 1 deletion(-)

commit d18aa2f
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jan 27 19:58:03 2012 +0900

    Do not try to unregister ports with a lost jackd.
    
    libjack seems to get stuck when unregistering ports with a broken
    connection.

 libs/audio/renderer/snd_jack.c |    6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit 8ac9ff0
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jan 27 19:55:30 2012 +0900

    Link libQFmodels* agains libQFimage.
    
    This is the correct fix for server linking wrt LoadPCX. Sort of. Really, it
    would be better to disconnect the dependencies.

 libs/Makefile.am         |    2 +-
 libs/models/Makefile.am  |   18 ++++++++++--------
 libs/models/null_model.c |    7 -------
 3 files changed, 11 insertions(+), 16 deletions(-)

commit 03c7441
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jan 27 17:37:52 2012 +0900

    Fix server linking wrt skin stuff.

 libs/models/null_model.c |   25 +++++++++++++++++++++++++
 1 file changed, 25 insertions(+)

commit ca2c861
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 26 13:53:52 2012 +0900

    Fix team colors in GL NQ.

 libs/models/gl_skin.c |   10 +++++++++-
 nq/source/cl_parse.c  |    4 ++--
 2 files changed, 11 insertions(+), 3 deletions(-)

commit ae4a300
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 26 13:48:20 2012 +0900

    Remove skin.c from nq.
    
    I forgot to zap it earlier.

 nq/source/skin.c |  285 ------------------------------------------------------
 1 file changed, 285 deletions(-)

commit 5dcaeae
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 26 12:50:37 2012 +0900

    Fix custom skins in GL for QW.

 libs/models/alias/gl_model_alias.c |    1 +
 libs/models/gl_skin.c              |  163 +++++++++++++++++++++++++++++++++---
 2 files changed, 154 insertions(+), 10 deletions(-)

commit df87cff
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 24 23:06:07 2012 +0900

    Start working on the new GL skin code.

 include/QF/skin.h                  |    3 +++
 libs/models/alias/gl_model_alias.c |    9 +++----
 libs/models/gl_skin.c              |   47 ++++++++++++++++++++++++++++++++++++
 libs/models/skin.c                 |   18 +++++++++++++-
 libs/video/renderer/gl/gl_rmisc.c  |    2 +-
 5 files changed, 71 insertions(+), 8 deletions(-)

commit 695b38e
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 24 19:56:59 2012 +0900

    Fix a segfault when merging rects.

 libs/util/vrect.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit d8d21b0
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 24 19:54:21 2012 +0900

    Fix some issues found found by valgrind.
    
    Buffer underflow and though strcpy has always been safe there, change to
    memmove. Had the added benefit of helping me create more test cases for
    better coverage.

 libs/util/quakefs.c       |    9 +++++----
 libs/util/test/test-qfs.c |    7 ++++++-
 2 files changed, 11 insertions(+), 5 deletions(-)

commit 6104db5
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 24 12:08:12 2012 +0900

    Fix a gl matrix stack overflow.
    
    I'd missed a couple of places for glPopMatrix (worse, one was push!).

 libs/video/renderer/gl/gl_sky_clip.c |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 1ef24e0
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 24 12:08:12 2012 +0900

    Fix a gl matrix stack overflow.
    
    I'd missed a couple of places for glPopMatrix (worse, one was push!).

 libs/video/renderer/gl/gl_sky_clip.c |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 8448a8f
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 24 11:59:49 2012 +0900

    Minimize the skin calls in nq.

 nq/source/cl_parse.c |   12 +++++-------
 1 file changed, 5 insertions(+), 7 deletions(-)

commit fb2568e
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 24 11:49:42 2012 +0900

    Fix team colors in glsl for nq.
    
    I forgot to ensure Skin_Init was called in nq. Doing things with texture 0
    doesn't work too well.

 nq/source/cl_main.c |    2 ++
 1 file changed, 2 insertions(+)

commit 4d66fc1
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 24 10:28:07 2012 +0900

    Avoid processing skins every frame.
    
    Processing skins every frame would slow things down unnecessarily, so call
    the skin functions only when something changes.

 include/qw/protocol.h   |    2 ++
 qw/include/client.h     |    1 +
 qw/source/cl_entparse.c |    8 ++++++--
 qw/source/cl_ents.c     |   13 ++++---------
 qw/source/cl_parse.c    |    5 +++--
 5 files changed, 16 insertions(+), 13 deletions(-)

commit 6df8867
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 24 10:27:05 2012 +0900

    Implement custom skins for glsl.

 libs/models/glsl_skin.c |   25 ++++++++++++++++++++++++-
 1 file changed, 24 insertions(+), 1 deletion(-)

commit d668371
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 24 09:37:46 2012 +0900

    Clean up some redundant defines.

 libs/models/gl_skin.c   |    4 ----
 libs/models/glsl_skin.c |    3 ---
 2 files changed, 7 deletions(-)

commit 19dc579
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 23 23:38:32 2012 +0900

    Fix custom player skins for the sw renderers.

 include/QF/skin.h   |    8 ++++
 libs/models/skin.c  |  116 +++++++++++++++++++++++++++++++++++++++++++++++++--
 qw/source/cl_ents.c |   35 +++-------------
 3 files changed, 126 insertions(+), 33 deletions(-)

commit 1f3eaaf
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jan 22 19:23:02 2012 +0900

    Fix the importer for blender 2.61.
    
    The use_image field of faces disappeared somewhere between 2.59 and 2.61.

 tools/io_mesh_qfmdl/import_mdl.py |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 3b6e412
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 23 21:42:28 2012 +0900

    Clean up skin.h a little.

 include/QF/skin.h |   38 +-------------------------------------
 1 file changed, 1 insertion(+), 37 deletions(-)

commit 3dbb572
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 23 21:40:12 2012 +0900

    Rename Skin_SetColormap_ to Skin_SetupSkin.

 include/QF/skin.h       |    2 +-
 libs/models/gl_skin.c   |    2 +-
 libs/models/glsl_skin.c |    2 +-
 libs/models/skin.c      |    2 +-
 libs/models/sw_skin.c   |    2 +-
 5 files changed, 5 insertions(+), 5 deletions(-)

commit 08990eb
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 23 19:24:12 2012 +0900

    Make top/bottom color work for GLSL.
    
    Works quite nicely (love those colormaps).

 include/QF/skin.h                     |    3 +
 libs/models/Makefile.am               |    6 +-
 libs/models/gl_skin.c                 |   70 ++++++++++++++++++
 libs/models/glsl_skin.c               |  128 +++++++++++++++++++++++++++++++++
 libs/models/skin.c                    |   14 +++-
 libs/models/sw_skin.c                 |   51 +++++++++++++
 libs/video/renderer/glsl/glsl_alias.c |   10 ++-
 qw/source/cl_main.c                   |    3 +-
 qw/source/cl_parse.c                  |    3 +-
 qw/source/cl_skin.c                   |    3 +-
 10 files changed, 281 insertions(+), 10 deletions(-)

commit 9a4b065
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 23 17:33:19 2012 +0900

    Fix top/bottom colors for the SW renderers.

 include/QF/render.h  |    3 ---
 include/QF/skin.h    |    3 +++
 libs/models/skin.c   |   22 +++++++++++++++-------
 qw/source/cl_parse.c |    1 +
 4 files changed, 19 insertions(+), 10 deletions(-)

commit 6437a77
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 23 16:47:43 2012 +0900

    Fix glsl qw alias model crc checking.
    
    GLSL alias models don't use the cache, so don't try to access the data via
    the cache.

 qw/source/cl_parse.c |    7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

commit e3f76de
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 23 16:46:52 2012 +0900

    Avoid a division by zero.
    
    Doing a cache profile on an unused cache wasn't nice.

 libs/util/zone.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 7bfddd7
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 23 16:16:30 2012 +0900

    Gut most of the old skin code.
    
    Custom skins are smashed on most targets. Player colors don't work, etc.
    However, this will let me do a much cleaner implementation.

 include/QF/render.h                    |    1 -
 include/QF/skin.h                      |   26 +--
 include/QF/sys.h                       |    1 +
 libs/models/Makefile.am                |    2 +-
 libs/models/skin.c                     |  102 ++++++++++++
 libs/video/renderer/gl/Makefile.am     |    2 +-
 libs/video/renderer/gl/gl_mod_alias.c  |    6 +-
 libs/video/renderer/gl/gl_rmisc.c      |    2 +-
 libs/video/renderer/gl/gl_skin.c       |  282 -------------------------------
 libs/video/renderer/glsl/Makefile.am   |    2 +-
 libs/video/renderer/glsl/glsl_alias.c  |    2 +-
 libs/video/renderer/glsl/glsl_skin.c   |   70 --------
 libs/video/renderer/sw/Makefile.am     |    2 +-
 libs/video/renderer/sw/sw_ralias.c     |   10 +-
 libs/video/renderer/sw/sw_skin.c       |  106 ------------
 libs/video/renderer/sw32/Makefile.am   |    2 +-
 libs/video/renderer/sw32/sw32_ralias.c |   10 +-
 libs/video/renderer/sw32/sw32_skin.c   |  201 -----------------------
 nq/include/client.h                    |    1 -
 nq/source/Makefile.am                  |    3 +-
 nq/source/cl_main.c                    |    5 +-
 nq/source/cl_parse.c                   |   36 ++--
 nq/source/cl_skin.c                    |  162 ------------------
 nq/source/cl_tent.c                    |    2 +-
 nq/source/cl_view.c                    |    2 +-
 qw/include/cl_skin.h                   |   12 +-
 qw/include/client.h                    |    3 -
 qw/source/Makefile.am                  |    2 +-
 qw/source/cl_ents.c                    |   26 ++-
 qw/source/cl_main.c                    |    1 -
 qw/source/cl_parse.c                   |    7 +-
 qw/source/cl_skin.c                    |   84 +++-------
 qw/source/cl_tent.c                    |    4 +-
 qw/source/cl_view.c                    |    2 +-
 qw/source/skin.c                       |  283 --------------------------------
 qw/source/teamplay.c                   |    7 +-
 36 files changed, 207 insertions(+), 1264 deletions(-)

commit 86a401b
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jan 22 19:23:02 2012 +0900

    Fix the importer for blender 2.61.
    
    The use_image field of faces disappeared somewhere between 2.59 and 2.61.

 tools/io_mesh_qfmdl/import_mdl.py |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 61c127a
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jan 22 15:48:32 2012 +0900

    Make a start on skin support.
    
    I had this lying around for a while since it was more important to get
    other things working first.

 libs/video/renderer/glsl/Makefile.am  |    2 +-
 libs/video/renderer/glsl/glsl_alias.c |   14 +++++--
 libs/video/renderer/glsl/glsl_main.c  |   32 ---------------
 libs/video/renderer/glsl/glsl_skin.c  |   70 +++++++++++++++++++++++++++++++++
 4 files changed, 82 insertions(+), 36 deletions(-)

commit 76cb604
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jan 21 22:05:24 2012 +0900

    Tweak the size of point particles.
    
    This looks fairly reasonable, but should probably be tweaked further to
    base the point size on resolution.

 libs/video/renderer/glsl/quakepnt.vert |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 5080a6f
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jan 21 21:54:36 2012 +0900

    Enable the point size shader variable.
    
    This is a rather "evil" hack because GLES doesn't seem to need
    GL_VERTEX_PROGRAM_POINT_SIZE, but GL does, and all my work is currently
    done in GL rather than GLES. Point particles now work, but the sizes are
    all wrong.

 libs/video/renderer/glsl/glsl_particles.c |    6 ++++++
 1 file changed, 6 insertions(+)

commit 68d9565
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jan 21 20:16:18 2012 +0900

    Draw ALL of the particles, not just 2/3 of them.
    
    Using quads requires 4 elements, but triangles require 6. I'd gotten the
    element array setup right, but I'd forgotten to tweak vacount when drawing
    the particles.

 libs/video/renderer/glsl/glsl_particles.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 8345f07
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jan 21 19:51:18 2012 +0900

    Implement QF style particles.
    
    Actually looks pretty good against the sw style world.

 libs/video/renderer/glsl/Makefile.am      |    9 +--
 libs/video/renderer/glsl/glsl_particles.c |   93 ++++++++++++++++++++++++++++-
 libs/video/renderer/glsl/quakepar.frag    |   11 ++++
 libs/video/renderer/glsl/quakepar.vert    |   21 +++++++
 4 files changed, 128 insertions(+), 6 deletions(-)

commit 4955caa
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jan 21 19:13:01 2012 +0900

    Make the dynamic textures more readily available.
    
    I want to get QF style particles going in glsl (since id style is currently
    stuck at one pixel), but I don't want multiple copies of the texture code.

 include/Makefile.am                      |    4 +-
 include/QF/GL/qf_noisetextures.h         |   36 -------
 include/QF/Makefile.am                   |    2 +-
 include/noisetextures.h                  |   36 +++++++
 include/r_local.h                        |    4 +
 libs/video/renderer/Makefile.am          |    5 +-
 libs/video/renderer/gl/Makefile.am       |    2 +-
 libs/video/renderer/gl/gl_dyn_textures.c |   83 ++++------------
 libs/video/renderer/gl/noisetextures.c   |  153 ------------------------------
 libs/video/renderer/noisetextures.c      |  153 ++++++++++++++++++++++++++++++
 libs/video/renderer/r_dyn_textures.c     |  146 ++++++++++++++++++++++++++++
 11 files changed, 365 insertions(+), 259 deletions(-)

commit 358bbc4
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jan 21 17:18:29 2012 +0900

    Disable the sky spin effect.
    
    It's cool, but not appropriate as a default. All that's needed is a way to
    set (and optionally update) sky_velocity (map vars? qc?).

 libs/video/renderer/glsl/glsl_bsp.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 3c3a9d0
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jan 21 16:18:20 2012 +0900

    Ensure the beam entitys' angles get set.
    
    This fixes the incorrectly oriented beam entities.

 nq/source/cl_tent.c |    2 ++
 qw/source/cl_tent.c |    2 ++
 2 files changed, 4 insertions(+)

commit 6fe557b
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jan 21 16:18:20 2012 +0900

    Ensure the beam entitys' angles get set.
    
    This fixes the incorrectly oriented beam entities.

 nq/source/cl_tent.c |    2 ++
 qw/source/cl_tent.c |    2 ++
 2 files changed, 4 insertions(+)

commit 62c5070
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jan 21 16:16:48 2012 +0900

    Use the correct type for particle colors.
    
    Sending byte data as floats doesn't work too well :P Fixes the colors of
    the particles, but not the size :(.

 libs/video/renderer/glsl/glsl_particles.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 2cb2f23
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jan 21 15:48:21 2012 +0900

    Print out the point size range.
    
    I'm not sure if there's a bug in mesa, or if I'm doing something wrong, but
    GL_POINTS doesn't seem to be working properly. I get the points, but
    writing to gl_PointSize doesn't make a difference despite the size range
    being 1-255.

 libs/video/renderer/glsl/glsl_particles.c |    4 ++++
 1 file changed, 4 insertions(+)

commit 197481b
Author: Sander van Dijk <a.h.vandijk@gmail.com>
Date:   Fri Jan 20 21:01:05 2012 +0100

    in_sdl.c: default to "have_focus" to "1".

 libs/video/targets/in_sdl.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 25ffe6b
Author: Sander van Dijk <a.h.vandijk@gmail.com>
Date:   Fri Jan 20 20:58:19 2012 +0100

    cd_sdl.c: fix typo.

 libs/audio/cd_sdl.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 8e6c3f7
Author: Sander van Dijk <a.h.vandijk@gmail.com>
Date:   Thu Jan 19 20:44:26 2012 +0100

    Make gl_rsurf.c compile without warnings with "gcc (GCC) 4.4.5 20101112 (Red Hat 4.4.5-2)".

 libs/video/renderer/gl/gl_rsurf.c |    8 +++++---
 1 file changed, 5 insertions(+), 3 deletions(-)

commit 5e1a80e
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 19 10:38:05 2012 +0900

    Implement particles as points.
    
    Unfortunately, the maximum point size on Intel hardwar seems to be 1, so I
    can't tell if the colors are right.
    
    This is largely just a hacked version of GL's particle code.

 include/QF/GLSL/qf_particles.h            |   42 +
 libs/video/renderer/glsl/Makefile.am      |    8 +-
 libs/video/renderer/glsl/glsl_main.c      |    1 +
 libs/video/renderer/glsl/glsl_particles.c | 1686 +++++++++++++++++++++++++++--
 libs/video/renderer/glsl/quakepnt.frag    |    4 +-
 libs/video/renderer/glsl/quakepnt.vert    |    7 +-
 6 files changed, 1663 insertions(+), 85 deletions(-)

commit 63893b6
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 19 10:36:10 2012 +0900

    Zap some magic numbers.

 libs/video/renderer/gl/gl_dyn_part.c |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit d8432e7
Author: Sander van Dijk <a.h.vandijk@gmail.com>
Date:   Tue Jan 17 14:12:48 2012 +0100

    Fix a wrongly negated condition in snd_win.c:SNDDMA_UnblockSound().

 libs/audio/targets/snd_win.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 470500f
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 17 21:00:19 2012 +0900

    Fix an oopsie between pahdr and paliashdr.
    
    I understand the reasons, but ooh, the sw renderer is ugly in places.

 libs/video/renderer/sw/sw_ralias.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 42bb10a
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 17 13:02:15 2012 +0900

    Clear out the lightmap scrap at each level change.
    
    This allows the demo loop to run more than 4 times (12 demos). Once the
    rest of the resource management is done, demos should run indefinitely.

 libs/video/renderer/glsl/glsl_lightmap.c |    3 +++
 1 file changed, 3 insertions(+)

commit fc43e5a
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 17 13:00:43 2012 +0900

    Allow clearing of a scrap.
    
    This "frees" all rectangles and subpics allocated from a scrap. subpics
    are owned by the scrap from which they are allocated.

 include/QF/GLSL/qf_textures.h            |    2 ++
 libs/video/renderer/glsl/glsl_textures.c |   45 ++++++++++++++++++++++++------
 2 files changed, 38 insertions(+), 9 deletions(-)

commit 3669e3a
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 17 11:44:28 2012 +0900

    Make alias model caching optional.
    
    For now, only the glsl loader disables caching, but it stores the frame
    vertices in GL memory, so its hunk usage is relatively lower (and will be
    lower still when I get skins sorted out).

 include/QF/model.h                     |    3 ++-
 libs/models/alias/gl_model_alias.c     |    4 ++--
 libs/models/alias/glsl_model_alias.c   |    2 ++
 libs/models/alias/model_alias.c        |   22 ++++++++++++++--------
 libs/models/alias/sw_model_alias.c     |    5 +++--
 libs/video/renderer/gl/gl_mod_alias.c  |    6 ++++--
 libs/video/renderer/glsl/glsl_alias.c  |    5 ++++-
 libs/video/renderer/sw/sw_ralias.c     |   18 ++++++++++++------
 libs/video/renderer/sw32/sw32_ralias.c |   18 ++++++++++++------
 9 files changed, 55 insertions(+), 28 deletions(-)

commit fb428f8
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 17 10:05:22 2012 +0900

    Rename mod_flood.c to floodfill.c

 libs/models/alias/Makefile.am |    4 +-
 libs/models/alias/floodfill.c |  110 +++++++++++++++++++++++++++++++++++++++++
 libs/models/alias/mod_flood.c |  110 -----------------------------------------
 3 files changed, 112 insertions(+), 112 deletions(-)

commit 05bf637
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 17 19:14:42 2012 +0900

    SDL sound patches from SVD.
    
    Thanks to "Sander van Dijk" <a.h.vandijk@gmail.com>, we now have much
    better SDL sound support.
    
    Here's the promised cleaned up version of the "double buffer" approach
    patch for "snd_sdl.c". I've taken some more time to re-read and test
    it this time, and it seems to behave well. All memory that is used by
    both the main thread and the SDL audio thread is prefixed with "shm_",
    and locking is used to ensure that only one thread accesses it at the
    same time.

 libs/audio/targets/snd_sdl.c |  108 +++++++++++++++++++++++++++++-------------
 1 file changed, 75 insertions(+), 33 deletions(-)

commit 0abb8a7
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jan 15 20:14:36 2012 +0900

    Merge the particle physics.

 include/d_iface.h                     |   12 +-
 libs/video/renderer/gl/gl_dyn_part.c  |  118 +-----------------
 libs/video/renderer/r_part.c          |  213 +++++++++++++++++++++++++++++++++
 libs/video/renderer/sw/sw_rpart.c     |   81 +++----------
 libs/video/renderer/sw32/sw32_rpart.c |   82 +++----------
 5 files changed, 260 insertions(+), 246 deletions(-)

commit ece78f7
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jan 15 09:34:10 2012 +0900

    Clean out some useless functions.
    
    D_Start/EndParticles in the sw renderers will likely never have any
    content, so no point in calling or even having them.

 include/d_iface.h                     |    2 --
 libs/video/renderer/sw/d_part.c       |   14 --------------
 libs/video/renderer/sw/sw_rpart.c     |    3 ---
 libs/video/renderer/sw32/d_part.c     |   14 --------------
 libs/video/renderer/sw32/sw32_rpart.c |    3 ---
 5 files changed, 36 deletions(-)

commit e7b01bb
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jan 14 22:20:23 2012 +0900

    Put the transparent color back to 0,0,0,0 rgba.
    
    Blended sprites were a tad ugly without that.

 libs/video/targets/vid_common_glsl.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit c884ef5
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jan 14 21:42:42 2012 +0900

    Convert the colormap to a 2D palette.
    
    This skips one level of indirection in the alias model and brush shaders.
    Hopefully, this will improve performance on my eeepc.

 libs/video/renderer/glsl/glsl_alias.c  |   10 ---------
 libs/video/renderer/glsl/glsl_bsp.c    |   10 ---------
 libs/video/renderer/glsl/quakebsp.frag |    4 +---
 libs/video/renderer/glsl/quakemdl.frag |    4 +---
 libs/video/targets/vid_common_glsl.c   |   38 +++++++++++++++++++++++---------
 5 files changed, 29 insertions(+), 37 deletions(-)

commit 928dd92
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jan 14 20:51:43 2012 +0900

    Use 0.0 instead of 0.5 for t for palette lookups.
    
    I realized it's pretty silly using colormap + palette when I can just
    combine the two into one and have a 2D palette. This is in preparation for
    that.

 libs/video/renderer/glsl/quake2d.frag  |    2 +-
 libs/video/renderer/glsl/quakebsp.frag |    2 +-
 libs/video/renderer/glsl/quakemdl.frag |    2 +-
 libs/video/renderer/glsl/quakepnt.frag |    2 +-
 libs/video/renderer/glsl/quakeski.frag |    2 +-
 libs/video/renderer/glsl/quakespr.frag |    4 ++--
 libs/video/renderer/glsl/quaketrb.frag |    2 +-
 7 files changed, 8 insertions(+), 8 deletions(-)

commit 2425498
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jan 14 20:07:43 2012 +0900

    Enable the view model.

 libs/video/renderer/glsl/glsl_main.c |   19 +++++++++++++++++++
 1 file changed, 19 insertions(+)

commit de022ae
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jan 14 19:02:06 2012 +0900

    Rewrite GL_LoadQuakeMipTex to generate mips itself.
    
    Relying on GL to generate mips for 8 bit textures doesn't produce nice
    results. These aren't the greatest, either, but they're better.

 libs/video/renderer/glsl/glsl_textures.c |  102 +++++++++++++++++++-----------
 1 file changed, 64 insertions(+), 38 deletions(-)

commit 7739ba3
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jan 13 19:51:45 2012 +0900

    Move the 2D set out of the 3D code.
    
    It really belongs exclusively in the screen setup code.

 libs/video/renderer/gl/gl_rmain.c  |    1 -
 libs/video/renderer/gl/gl_screen.c |    3 +--
 2 files changed, 1 insertion(+), 3 deletions(-)

commit f5f8b65
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jan 13 19:47:16 2012 +0900

    Fix the wonky viewsize border.
    
    2D mode wasn't getting set after rendering the world. oops.

 libs/video/renderer/glsl/glsl_draw.c   |    2 +-
 libs/video/renderer/glsl/glsl_screen.c |    3 +--
 2 files changed, 2 insertions(+), 3 deletions(-)

commit eb2e688
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jan 13 19:46:52 2012 +0900

    Clean up some whitespace.

 libs/video/renderer/glsl/glsl_draw.c |   12 ++++++------
 1 file changed, 6 insertions(+), 6 deletions(-)

commit 617107f
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 12 21:23:39 2012 +0900

    Perform some black magic.
    
    }:>

 libs/video/renderer/glsl/glsl_bsp.c    |   54 ++++++++++++++++++++++++++------
 libs/video/renderer/glsl/quakesky.vert |    3 +-
 2 files changed, 45 insertions(+), 12 deletions(-)

commit cbd13ac
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 12 21:22:06 2012 +0900

    Implement QuatExp and fix up QuatBlend's param names.

 include/QF/mathlib.h |   12 ++++++------
 libs/util/mathlib.c  |   17 +++++++++++++++++
 2 files changed, 23 insertions(+), 6 deletions(-)

commit ba1b819
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 12 17:34:29 2012 +0900

    Merge skyid and skybox begin/end.

 libs/video/renderer/glsl/glsl_bsp.c |  110 +++++++++++++++--------------------
 1 file changed, 47 insertions(+), 63 deletions(-)

commit 6e2d625
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 12 15:13:19 2012 +0900

    Load the skybox faces into the correct cubemap slots.
    
    Quake and GL are rotated relative to each other, so care must be taken
    when loading and rendering.

 libs/video/renderer/glsl/glsl_bsp.c    |    6 ++++--
 libs/video/renderer/glsl/quakeskb.frag |    7 ++++++-
 2 files changed, 10 insertions(+), 3 deletions(-)

commit f1eea01
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 12 13:41:06 2012 +0900

    Fix the too near far-clip plane.
    
    I don't know if I miss-copied that, or if there's a bug in FTE's code.

 libs/video/renderer/glsl/glsl_main.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit bfa28f1
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 12 11:28:25 2012 +0900

    Fix an out-by-one error.
    
    The recent sanitization of nummodels lost the last model in qw due to the
    insane way in which the model list is built. oops.

 qw/source/cl_parse.c |    1 +
 1 file changed, 1 insertion(+)

commit a66fcb8
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 12 11:05:34 2012 +0900

    Implement skyboxes.
    
    The texture assignments are incorrect, but it's otherwise working.

 libs/video/renderer/glsl/Makefile.am   |    7 +-
 libs/video/renderer/glsl/glsl_bsp.c    |  161 +++++++++++++++++++++++++++++---
 libs/video/renderer/glsl/glsl_main.c   |    5 -
 libs/video/renderer/glsl/quakeskb.frag |   12 +++
 4 files changed, 163 insertions(+), 22 deletions(-)

commit 8bcef27
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 11 21:26:12 2012 +0900

    Render the id skys :)
    
    Wow... smooth.

 include/QF/GLSL/qf_bsp.h               |    1 +
 libs/video/renderer/glsl/glsl_bsp.c    |  126 ++++++++++++++++++++++++++++----
 libs/video/renderer/glsl/glsl_main.c   |    1 +
 libs/video/renderer/glsl/quakeski.frag |    8 +-
 libs/video/renderer/glsl/quakesky.vert |    8 +-
 5 files changed, 122 insertions(+), 22 deletions(-)

commit 7ba7130
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 11 21:09:57 2012 +0900

    Load the sky texture as two separate textures.
    
    The sky texture is normally 256x128, with each 128 wide side being the two
    layers of the sky.

 include/QF/model.h                   |    1 +
 libs/models/brush/glsl_model_brush.c |   27 ++++++++++++++++++++++++++-
 2 files changed, 27 insertions(+), 1 deletion(-)

commit b43d03a
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 11 21:08:04 2012 +0900

    Let the render specific texture loader decide on sky texture loading.
    
    This is necessary to allow the glsl texture loader to process the sky
    textures.

 libs/models/brush/gl_model_brush.c |    2 ++
 libs/models/brush/model_brush.c    |    4 +---
 2 files changed, 3 insertions(+), 3 deletions(-)

commit f6f2e4f
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 11 16:02:20 2012 +0900

    Create and load the id sky shader.

 libs/video/renderer/glsl/Makefile.am   |    5 ++--
 libs/video/renderer/glsl/glsl_bsp.c    |   40 ++++++++++++++++++++++++++++++++
 libs/video/renderer/glsl/quakeski.frag |   28 ++++++++++++++++++++++
 libs/video/renderer/glsl/quakesky.vert |   17 ++++++++++++++
 4 files changed, 88 insertions(+), 2 deletions(-)

commit 89ae6ec
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 11 07:51:15 2012 +0900

    Even better?
    
    It's difficult getting the same result because GL st are 0-1 but sw quake's
    st are 0-inf % 64.

 libs/video/renderer/glsl/quaketrb.frag |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 5dbf913
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 11 06:38:27 2012 +0900

    Get the turbulence more correct.
    
    This looks right, and should be easier to tweak.

 libs/video/renderer/glsl/quaketrb.frag |   15 ++++++++++++---
 1 file changed, 12 insertions(+), 3 deletions(-)

commit d2dae4c
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 10 21:11:21 2012 +0900

    Produce a saner turbulence.
    
    I'm not quite sure it's right. Need to watch sw's turb a bit more.

 libs/video/renderer/glsl/quaketrb.frag |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 3508972
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 10 20:50:47 2012 +0900

    Draw water surfaces... with some really funky turbulence.
    
    It seems I misunderstood the sw turbulence code.

 libs/video/renderer/glsl/Makefile.am   |    4 +-
 libs/video/renderer/glsl/glsl_bsp.c    |  185 ++++++++++++++++++++++++++------
 libs/video/renderer/glsl/glsl_main.c   |    1 +
 libs/video/renderer/glsl/quaketrb.frag |   22 ++++
 4 files changed, 177 insertions(+), 35 deletions(-)

commit e38d72f
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 9 22:20:29 2012 +0900

    Get brush entity rendering working.
    
    Unfortunately, the intel driver on my eeepc doesn't like the mipmas for
    plat_top2 or +2floorsw. If I either don't load their mipmaps, or skip
    drawing them, things seem to work nicely.

 include/QF/model.h                  |    4 ++--
 libs/video/renderer/glsl/glsl_bsp.c |   30 ++++++++++++++++++++++--------
 2 files changed, 24 insertions(+), 10 deletions(-)

commit 3326ace
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 9 21:16:08 2012 +0900

    Rewrite the texture chain index list building.
    
    It turns out my complicated plan was just that: complicated. Although there
    are currently some bugs, the method I used to build the VBO in the first
    place will work equally well for building the index lists.

 include/QF/model.h                  |    2 +-
 libs/video/renderer/glsl/glsl_bsp.c |  111 +++++++++++++++++------------------
 2 files changed, 56 insertions(+), 57 deletions(-)

commit 754dda9
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 9 21:13:40 2012 +0900

    Get the lightmap texture properly.

 include/QF/GLSL/qf_lightmap.h            |    1 +
 include/QF/GLSL/qf_textures.h            |    1 +
 libs/video/renderer/glsl/glsl_lightmap.c |    6 ++++++
 libs/video/renderer/glsl/glsl_textures.c |    6 ++++++
 4 files changed, 14 insertions(+)

commit ef311b6
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 9 18:55:30 2012 +0900

    Remove a now dead function.

 libs/video/renderer/glsl/glsl_lightmap.c |    5 -----
 1 file changed, 5 deletions(-)

commit 2b45cd6
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 9 17:47:25 2012 +0900

    Fix the black overbright dlights.
    
    t was unsigned and underflowing. This fixes the problem but keeps the
    bitshift unsigned clean.

 libs/video/renderer/glsl/glsl_lightmap.c |   12 ++++++------
 1 file changed, 6 insertions(+), 6 deletions(-)

commit 310ba49
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 9 16:46:20 2012 +0900

    Make the dynamic lightmaps... dynamic.

 libs/video/renderer/glsl/glsl_bsp.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 0005c97
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 9 16:26:28 2012 +0900

    Temporary weaks so things look halfway decent.
    
    GL mipmaps and paletted textures don't mix, and lightmaps work quite well
    with linear sampling.

 libs/video/renderer/glsl/glsl_textures.c |    9 ++++++---
 1 file changed, 6 insertions(+), 3 deletions(-)

commit ffa79ee
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 9 16:22:39 2012 +0900

    Don't lie about the number of models.
    
    The renderer being told there were 2048 models when there were only ~160
    was a bit of an unpleasant surprise :P

 nq/include/client.h  |    2 ++
 nq/source/cl_parse.c |   20 +++++++++---------
 qw/include/client.h  |    2 ++
 qw/source/cl_demo.c  |    4 ++--
 qw/source/cl_parse.c |   56 +++++++++++++++++++++++++-------------------------
 5 files changed, 44 insertions(+), 40 deletions(-)

commit 12fd6bd
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 9 10:16:54 2012 +0900

    Fix the segfault on map change.
    
    I had forgotten to call R_ClearTextures when I'd rearranged the code.

 include/QF/GLSL/qf_bsp.h             |    1 +
 libs/video/renderer/glsl/glsl_bsp.c  |   53 ++++++++++++++++++++--------------
 libs/video/renderer/glsl/glsl_main.c |    1 +
 3 files changed, 33 insertions(+), 22 deletions(-)

commit cd91fe7
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 9 02:18:39 2012 +0900

    Set the pixel unpack alignment to 1.
    
    4 hours chasing that one down. ouch.

 libs/video/targets/vid_common_glsl.c |    2 ++
 1 file changed, 2 insertions(+)

commit 8779755
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 9 01:31:29 2012 +0900

    Dump allocated rects for glsl_scraps BLAH.

 libs/video/renderer/glsl/glsl_textures.c |    5 +++++
 1 file changed, 5 insertions(+)

commit f658e6c
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 9 01:26:16 2012 +0900

    Initialize d_lightstylevalue.
    
    "Let there be light!", but chaos still reigns (broken lightmap updates).

 libs/video/renderer/glsl/glsl_main.c |    5 +++++
 1 file changed, 5 insertions(+)

commit 1229d24
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jan 8 22:09:51 2012 +0900

    Get world rendering mostly working.
    
    Just some problems with lightmaps. There also seem to be some issues with
    seams (t-junctions?) and far clip, but they're quite separate.
    
    There's also a problem with a segfault when loading a second map.

 libs/video/renderer/glsl/glsl_bsp.c |   18 +++++++++++++++---
 1 file changed, 15 insertions(+), 3 deletions(-)

commit 7428a91
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jan 8 20:39:36 2012 +0900

    Try, but fail, to render the world.

 include/QF/GLSL/qf_bsp.h               |    1 +
 libs/video/renderer/glsl/Makefile.am   |    8 +-
 libs/video/renderer/glsl/glsl_bsp.c    |  246 ++++++++++++++++++++++++++++++--
 libs/video/renderer/glsl/glsl_main.c   |    3 +-
 libs/video/renderer/glsl/quakebsp.frag |   18 +++
 libs/video/renderer/glsl/quakebsp.vert |   15 ++
 6 files changed, 277 insertions(+), 14 deletions(-)

commit ea377b8
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jan 8 20:38:21 2012 +0900

    Remove some redundate statements.

 libs/video/renderer/gl/gl_rsurf.c     |    2 --
 libs/video/renderer/glsl/glsl_alias.c |    2 --
 2 files changed, 4 deletions(-)

commit f8d7bcf
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jan 8 18:16:33 2012 +0900

    Rename R_RecursiveWorldNode to R_VisitWorldNodes in gl.

 libs/video/renderer/gl/gl_rsurf.c |    5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

commit 6abaa5e
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jan 8 17:45:44 2012 +0900

    Build the display list for all loaded brush models.
    
    The entire vertex set from every model is put into one list (not yet
    uploaded). chains of elements arrays are build for non-instanced models
    (instanced models will have their chains built each frame).

 include/QF/GLSL/qf_bsp.h            |    1 +
 include/QF/model.h                  |    4 +
 libs/video/renderer/glsl/glsl_bsp.c |  234 +++++++++++++++++++++++++++++++----
 3 files changed, 213 insertions(+), 26 deletions(-)

commit fa82c37
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jan 8 17:44:28 2012 +0900

    Pre-invert subpic->size.
    
    I forgot to do this earlier :/

 libs/video/renderer/glsl/glsl_textures.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 601cc6e
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jan 8 10:29:38 2012 +0900

    Make a start on bsp rendering.
    
    Still nothing being rendered: still in the process of building the display
    lists, but I'm making good progress. Get this into git before something
    goes wrong :)

 include/QF/GLSL/qf_bsp.h             |   59 +++++
 include/QF/Makefile.am               |    4 +-
 include/QF/model.h                   |    2 +-
 libs/video/renderer/gl/gl_rsurf.c    |    8 +-
 libs/video/renderer/glsl/Makefile.am |    4 +-
 libs/video/renderer/glsl/glsl_bsp.c  |  400 ++++++++++++++++++++++++++++++++++
 libs/video/renderer/glsl/glsl_main.c |  120 +---------
 7 files changed, 470 insertions(+), 127 deletions(-)

commit ec7d01f
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jan 8 10:21:08 2012 +0900

    Merge out R_TextureAnimation.

 libs/video/renderer/gl/gl_rsurf.c     |   30 -----------------------------
 libs/video/renderer/r_bsp.c           |   34 +++++++++++++++++++++++++++++++++
 libs/video/renderer/sw/sw_rsurf.c     |   34 ---------------------------------
 libs/video/renderer/sw32/sw32_rsurf.c |   34 ---------------------------------
 4 files changed, 34 insertions(+), 98 deletions(-)

commit 179c349
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jan 8 09:20:04 2012 +0900

    Change WANT to NEED.
    
    I forgot to do this when creating the header.

 include/QF/GLSL/qf_funcs_list.h |  296 ++++++++++++++++++++-------------------
 1 file changed, 154 insertions(+), 142 deletions(-)

commit 655252a
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jan 7 23:11:56 2012 +0900

    Fix some warnings.

 libs/video/renderer/glsl/glsl_draw.c     |    4 +++-
 libs/video/renderer/glsl/glsl_lightmap.c |    1 -
 libs/video/renderer/glsl/glsl_textures.c |    1 +
 3 files changed, 4 insertions(+), 2 deletions(-)

commit aa27a3f
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jan 7 18:05:54 2012 +0900

    Load bsp model textures as repeating mipmaps.

 include/QF/GLSL/qf_textures.h            |    2 +
 libs/models/brush/glsl_model_brush.c     |    3 +-
 libs/video/renderer/glsl/glsl_textures.c |   90 +++++++++++++++++++++++++++++-
 3 files changed, 92 insertions(+), 3 deletions(-)

commit 204c1ab
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jan 7 17:08:07 2012 +0900

    Don't use the miptex_t after converting to texture_t.

 include/QF/model.h                   |    2 +-
 libs/models/brush/gl_model_brush.c   |    6 +++---
 libs/models/brush/glsl_model_brush.c |    2 +-
 libs/models/brush/model_brush.c      |    3 +--
 libs/models/brush/sw_model_brush.c   |    2 +-
 libs/models/null_model.c             |    2 +-
 6 files changed, 8 insertions(+), 9 deletions(-)

commit 29a0dc0
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jan 7 15:34:31 2012 +0900

    Actually build the lightmaps, and fix a silly bug in the scrap allocator.
    
    Also, add a command for dumping scrap statistics.

 libs/video/renderer/glsl/glsl_main.c     |    2 ++
 libs/video/renderer/glsl/glsl_textures.c |   29 ++++++++++++++++++++++++++---
 2 files changed, 28 insertions(+), 3 deletions(-)

commit 8a5658e
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jan 7 14:53:23 2012 +0900

    Implement the bulk of the lightmap code.
    
    Now just to get surface rendering going and hook in the lights.

 include/QF/GLSL/qf_lightmap.h            |   46 ++++++
 include/QF/model.h                       |    1 +
 libs/video/renderer/glsl/Makefile.am     |    4 +-
 libs/video/renderer/glsl/glsl_lightmap.c |  246 ++++++++++++++++++++++++++++++
 4 files changed, 295 insertions(+), 2 deletions(-)

commit 58cb084
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jan 7 09:39:35 2012 +0900

    Update NEWS for 0.6.1.

 NEWS |    9 +++++++++
 1 file changed, 9 insertions(+)

commit a988c19
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jan 6 21:21:45 2012 +0900

    Fix OSS sound. YAY!!!
    
    Much thanks to Spirit from quaddicted for his patient help in testing, and
    Spike for his heckling ;)

 libs/audio/targets/snd_oss.c |    8 +++++---
 1 file changed, 5 insertions(+), 3 deletions(-)

commit 0993803
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jan 6 16:24:13 2012 +0900

    Add texture sub-image management.
    
    The planned uses are lightmaps and 2d icons.

 include/QF/GLSL/qf_textures.h            |   21 ++-
 libs/video/renderer/glsl/glsl_textures.c |  208 +++++++++++++++++++++++++++++-
 libs/video/targets/vid_common_glsl.c     |    2 +
 3 files changed, 228 insertions(+), 3 deletions(-)

commit c25327f
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jan 6 12:57:25 2012 +0900

    Add union and merge functions and tests.

 include/QF/vrect.h          |   29 +++++++++++++++
 libs/util/test/test-vrect.c |   28 +++++++++++++++
 libs/util/vrect.c           |   82 ++++++++++++++++++++++++++++++++++++++++++-
 3 files changed, 138 insertions(+), 1 deletion(-)

commit 73f2c12
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jan 6 11:04:50 2012 +0900

    Delete the intersection rect when finished.

 libs/util/vrect.c |    2 ++
 1 file changed, 2 insertions(+)

commit 981760e
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jan 6 11:04:34 2012 +0900

    Add tests for vrect.

 libs/util/test/Makefile.am  |    6 +-
 libs/util/test/test-vrect.c |  151 +++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 156 insertions(+), 1 deletion(-)

commit 2ae044e
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jan 6 09:52:14 2012 +0900

    Split out vrect_t to its own file and add support functions.
    
    The rest is cleanup after removing a wart from one of the field names.

 include/QF/Makefile.am                |    4 +-
 include/QF/vid.h                      |    6 +-
 include/QF/vrect.h                    |  140 ++++++++++++++++++++++++++
 libs/util/Makefile.am                 |    2 +-
 libs/util/vrect.c                     |  178 +++++++++++++++++++++++++++++++++
 libs/video/renderer/sw/screen.c       |    6 +-
 libs/video/renderer/sw/sw_rmisc.c     |    2 +-
 libs/video/renderer/sw32/screen.c     |    6 +-
 libs/video/renderer/sw32/sw32_rmisc.c |    2 +-
 libs/video/targets/vid_fbdev.c        |    2 +-
 libs/video/targets/vid_sdl.c          |    4 +-
 libs/video/targets/vid_sdl32.c        |    2 +-
 libs/video/targets/vid_svgalib.c      |    2 +-
 libs/video/targets/vid_x11.c          |    4 +-
 14 files changed, 337 insertions(+), 23 deletions(-)

commit 42266cd
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 5 22:37:02 2012 +0900

    Get models being lit by the world's lightmaps.
    
    Even though the world isn't rendered yet.

 libs/video/renderer/glsl/glsl_main.c |    2 ++
 1 file changed, 2 insertions(+)

commit 423e08c
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 5 19:19:37 2012 +0900

    Add demo to "movie" conversion.
    
    It currently writes a series of png files (QF/qfmvNNNNNN.png), at a fixed
    rate of 30fps, with no sound recording.

 include/QF/screen.h                    |    1 +
 libs/video/renderer/gl/gl_screen.c     |   35 ++++++++++++++++++-------
 libs/video/renderer/glsl/glsl_screen.c |   45 +++++++++++++++++++++-----------
 libs/video/renderer/sw/screen.c        |   35 ++++++++++++++++++++++---
 libs/video/renderer/sw32/screen.c      |   35 ++++++++++++++++++++++---
 nq/include/client.h                    |    1 +
 nq/source/cl_demo.c                    |   17 +++++++++---
 nq/source/host.c                       |   14 ++++++++++
 nq/source/sv_ded.c                     |    8 ++++++
 qw/include/client.h                    |    1 +
 qw/source/cl_demo.c                    |   17 +++++++++---
 qw/source/cl_main.c                    |   15 ++++++++++-
 12 files changed, 186 insertions(+), 38 deletions(-)

commit b13a2b6
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 5 17:04:23 2012 +0900

    Move screenshots to $fs_userpath/QF.
    
    I got tired of screenshots getting scatter across the tree. ShotsPath in
    the dirconf can override this.

 doc/dirconf.dox                        |    3 +++
 include/QF/quakefs.h                   |    1 +
 libs/util/quakefs.c                    |    4 ++++
 libs/video/renderer/gl/gl_screen.c     |    2 +-
 libs/video/renderer/glsl/glsl_screen.c |    3 ++-
 libs/video/renderer/sw/screen.c        |    2 +-
 libs/video/renderer/sw32/screen.c      |    2 +-
 7 files changed, 13 insertions(+), 4 deletions(-)

commit 91cb875
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 5 16:49:42 2012 +0900

    Add vertex loading/writing for MD16.

 tools/io_mesh_qfmdl/mdl.py |   17 +++++++++++++++--
 1 file changed, 15 insertions(+), 2 deletions(-)

commit 297a4e2
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 5 15:50:20 2012 +0900

    Put the D_FlushCaches mess back.
    
    It turns out that when it is called is highly timing sensitive :(
    However, the rest of R_ClearState remains.

 libs/video/renderer/gl/gl_rmisc.c     |    5 +++++
 libs/video/renderer/glsl/glsl_main.c  |    5 +++++
 libs/video/renderer/sw/sw_rmain.c     |    1 -
 libs/video/renderer/sw32/sw32_rmain.c |    1 -
 nq/source/host.c                      |    1 +
 nq/source/sv_ded.c                    |    5 +++++
 qw/source/cl_main.c                   |    1 +
 7 files changed, 17 insertions(+), 2 deletions(-)

commit 03bcfb9
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 5 14:00:57 2012 +0900

    Set the default hudtype.
    
    Yay, Deek for finding another bug in qf :). He had an old dirconf that
    didn't specify HudType and thus caused the status bar code to blow up. Set
    the default to "id" if none is found.

 libs/util/quakefs.c |    2 ++
 1 file changed, 2 insertions(+)

commit 764cd91
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 5 14:00:57 2012 +0900

    Set the default hudtype.
    
    Yay, Deek for finding another bug in qf :). He had an old dirconf that
    didn't specify HudType and thus caused the status bar code to blow up. Set
    the default to "id" if none is found.

 libs/util/quakefs.c |    2 ++
 1 file changed, 2 insertions(+)

commit 6f18035
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 5 12:48:15 2012 +0900

    Fix up alias-16 support.
    
    After getting in contact with serplord, I now know that the sw alias
    loading was correct. Turns out the gl loaders was mostly correct, just a
    mistaken subtract rather than add. And with that, I can implement alias-16
    support in glsl. better yet, since all the work is done in the loader, the
    renderer doesn't know anything about it :) However, I need to create some
    16-bit models for testing.

 include/QF/GLSL/qf_alias.h            |    8 +++++---
 libs/models/alias/gl_mesh.c           |    8 +++++++-
 libs/models/alias/glsl_model_alias.c  |    9 ++++++++-
 libs/models/alias/sw_model_alias.c    |   11 ++++-------
 libs/video/renderer/gl/gl_mod_alias.c |    2 ++
 libs/video/renderer/glsl/glsl_alias.c |    2 +-
 6 files changed, 27 insertions(+), 13 deletions(-)

commit c6bcd7a
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 5 12:45:43 2012 +0900

    Normalize the vertex normals.
    
    I was wondering why the lighting looked a little extreme in overkill.

 libs/video/renderer/glsl/glsl_alias.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit bfc743f
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 4 18:47:03 2012 +0900

    Add my point shaders before I lose them.

 libs/video/renderer/glsl/quakepnt.frag |   10 ++++++++++
 libs/video/renderer/glsl/quakepnt.vert |   18 ++++++++++++++++++
 2 files changed, 28 insertions(+)

commit 8fbc622
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 4 18:31:35 2012 +0900

    Get sprite interpolation working.
    
    It's not perfect (it can't be), but it looks a whole lot nicer than no
    interpolation.

 libs/video/renderer/glsl/glsl_sprite.c |   55 ++++++++++++++++++++------------
 1 file changed, 35 insertions(+), 20 deletions(-)

commit 6050901
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 4 18:30:47 2012 +0900

    Break out the entity blend calculations.
    
    This allows alias and sprite model lerping to share the code.

 include/r_local.h             |    1 +
 libs/video/renderer/r_alias.c |   28 ++++------------------------
 libs/video/renderer/r_ent.c   |   26 ++++++++++++++++++++++++++
 3 files changed, 31 insertions(+), 24 deletions(-)

commit 836209e
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 4 16:36:43 2012 +0900

    Enable lerping of alias models.
    
    Done in hardware }:>

 libs/video/renderer/glsl/glsl_alias.c |   15 ++++++++-------
 1 file changed, 8 insertions(+), 7 deletions(-)

commit f0e88bb
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 4 16:26:52 2012 +0900

    Rip out the duplicate lerp code and merge it.
    
    While the vertex lerping needs to be duplicated in the current GL code,
    there's no need for the setup code to be duplicated. Also, I want it for
    GLSL.

 include/r_local.h                     |    1 +
 libs/video/renderer/gl/gl_mod_alias.c |  205 ++++++++++-----------------------
 libs/video/renderer/r_alias.c         |   60 +++++++++-
 3 files changed, 117 insertions(+), 149 deletions(-)

commit 99381b8
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 4 14:35:34 2012 +0900

    Rework the alias vertex shader and rendering code for lerping.
    
    Lerping isn't actually done yet (need to get both poses and blend), but
    this still renders correctly with blend forced to 0.0.

 libs/video/renderer/glsl/glsl_alias.c  |  108 ++++++++++++++++++++------------
 libs/video/renderer/glsl/quakemdl.vert |   18 ++++--
 2 files changed, 81 insertions(+), 45 deletions(-)

commit c8163fc
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 4 13:17:57 2012 +0900

    Add an option to prevent the use of default paths.
    
    Despair has things locked down such that running qfcc during a build fails
    due to lack of read access to /usr/local/lib. This is actually a good
    thing as accidentally hitting old includes/libs (when a file gets deleted
    in the tree) hides bugs. Thus, --no-default-paths to turn off default
    search paths.

 ruamoko/cl_menu/Makefile.am  |    2 +-
 ruamoko/game/Makefile.am     |    2 +-
 ruamoko/gui/Makefile.am      |    2 +-
 ruamoko/lib/Makefile.am      |    2 +-
 ruamoko/scheme/Makefile.am   |    2 +-
 tools/qfcc/doc/man/qfcc.1    |    3 +++
 tools/qfcc/include/options.h |    1 +
 tools/qfcc/source/options.c  |   11 +++++++++--
 tools/qwaq/Makefile.am       |    2 +-
 9 files changed, 19 insertions(+), 8 deletions(-)

commit ffc9680
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 4 13:17:57 2012 +0900

    Add an option to prevent the use of default paths.
    
    Despair has things locked down such that running qfcc during a build fails
    due to lack of read access to /usr/local/lib. This is actually a good
    thing as accidentally hitting old includes/libs (when a file gets deleted
    in the tree) hides bugs. Thus, --no-default-paths to turn off default
    search paths.

 ruamoko/cl_menu/Makefile.am  |    2 +-
 ruamoko/game/Makefile.am     |    2 +-
 ruamoko/gui/Makefile.am      |    2 +-
 ruamoko/lib/Makefile.am      |    2 +-
 ruamoko/scheme/Makefile.am   |    2 +-
 tools/qfcc/doc/man/qfcc.1    |    3 +++
 tools/qfcc/include/options.h |    1 +
 tools/qfcc/source/options.c  |   11 +++++++++--
 tools/qwaq/Makefile.am       |    2 +-
 9 files changed, 19 insertions(+), 8 deletions(-)

commit add5440
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 4 09:42:00 2012 +0900

    Upload the normals with the vertex data.
    
    Not all hardware can access a texture sampler from the vertex shader, and I
    don't want multiple paths this early in the game. Now, vertex normals are
    uploaded as shorts. Should be 14 bytes per vertex (was 10, could have been
    8 if I had put the normal index with the vertex rather than st).

 include/QF/GLSL/qf_alias.h             |    3 +-
 libs/models/alias/glsl_model_alias.c   |   16 +++++--
 libs/video/renderer/glsl/glsl_alias.c  |   80 +++++++++++---------------------
 libs/video/renderer/glsl/quakemdl.vert |   13 ++----
 4 files changed, 45 insertions(+), 67 deletions(-)

commit fea7acd
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 3 23:20:01 2012 +0900

    Enable vis calculation.
    
    One nice thing about this project: I now KNOW that efrags works the way I
    wanted it to: all those torches are now toggleable via r_novis :)

 libs/video/renderer/glsl/glsl_main.c |    3 +++
 1 file changed, 3 insertions(+)

commit d0a0440
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 3 23:19:21 2012 +0900

    Make R_SplitEntityOnNode easier to read.

 libs/video/renderer/r_efrag.c |   42 ++++++++++++++++++++++++-----------------
 1 file changed, 25 insertions(+), 17 deletions(-)

commit 454047a
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 3 23:17:49 2012 +0900

    Make r_novis 0 take effect immediately.

 include/r_local.h                     |    2 +-
 libs/video/renderer/gl/gl_rmain.c     |    1 -
 libs/video/renderer/r_bsp.c           |    5 ++++-
 libs/video/renderer/sw/sw_rmisc.c     |    1 -
 libs/video/renderer/sw32/sw32_rmisc.c |    1 -
 5 files changed, 5 insertions(+), 5 deletions(-)

commit 0797183
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 3 21:04:27 2012 +0900

    Merge R_MarkLeaves from gl, sw, and sw32.
    
    Other than novis, they're functionally identical. Now sw and sw32 have
    novis as well.

 libs/video/renderer/Makefile.am       |    4 +-
 libs/video/renderer/gl/gl_rmain.c     |    2 -
 libs/video/renderer/gl/gl_rsurf.c     |   44 ----------------
 libs/video/renderer/r_bsp.c           |   90 +++++++++++++++++++++++++++++++++
 libs/video/renderer/sw/sw_rmain.c     |   43 ----------------
 libs/video/renderer/sw32/sw32_rmain.c |   43 ----------------
 6 files changed, 92 insertions(+), 134 deletions(-)

commit 091b714
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 3 20:36:07 2012 +0900

    Implement dynamic lighting.
    
    This uses the same calculations as the software renderer. However, as the
    lightmap calculations are not done yet, if there is no dlight in the
    vicinity, there will be no light. demo1 is pretty cool to watch :)

 libs/video/renderer/glsl/glsl_alias.c |   35 ++++++++++++++++++++++++++++++---
 1 file changed, 32 insertions(+), 3 deletions(-)

commit 209c4cd
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 3 19:57:47 2012 +0900

    Scale the light level index correctly before colormap lookup.
    
    With this, lighting seems to be working. I'm not certain the normals are
    100% correct, but I can see something happening on rotating models.

 libs/video/renderer/glsl/quakemdl.frag |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit e8f863c
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 3 18:11:39 2012 +0900

    Remove the hedgehogs from the garden.
    
    While the first frame was fine, any subsequent ones were not. I had
    forgotten that hdr->poseverts held the edited vertex count rather than
    hdr->mdl.numverts.

 libs/video/renderer/glsl/glsl_alias.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d7bc437
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 3 18:10:35 2012 +0900

    Fix the borked texture coordinates.
    
    Silly me, doing byte based pointer math on a non-byte pointer :P

 libs/video/renderer/glsl/glsl_alias.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 185fded
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 3 18:09:33 2012 +0900

    Re-enable the matrix optimizations.
    
    Turns out my concatenations were correct.

 libs/video/renderer/glsl/glsl_alias.c |   10 ++++------
 1 file changed, 4 insertions(+), 6 deletions(-)

commit 21c7b84
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 3 18:08:01 2012 +0900

    Enable face culling and depth testing.
    
    I spent way too long trying to figure out why triangle order wasn't making
    any difference... :P

 libs/video/renderer/glsl/glsl_main.c |    4 ++++
 1 file changed, 4 insertions(+)

commit 1437cbe
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 3 18:06:26 2012 +0900

    Make the face culling a little more sensible.
    
    GL Quake was weird, culling front faces. Partly understandable, since
    Quake's front order is clockwise and GL's default order is
    counter-clockwise. However, since the order can be specified, that should
    be done instead. Thus, specify the winding order as clockwise (for quake's
    data), set culling for back-face removal, and then mess with the winding
    direction in the mirror and fish-eye code.

 include/QF/GL/qf_funcs_list.h        |    2 +-
 libs/video/renderer/gl/gl_rmain.c    |    8 ++++----
 libs/video/targets/vid_common_gl.c   |    3 ++-
 libs/video/targets/vid_common_glsl.c |    3 ++-
 4 files changed, 9 insertions(+), 7 deletions(-)

commit 62e564c
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 3 11:47:40 2012 +0900

    Send ALL of the model's verts to GL.
    
    Triangles have 3 vertices, not one :P

 libs/video/renderer/glsl/glsl_alias.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ba04cf7
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 2 23:32:30 2012 +0900

    Add my test tetrahedrons.

 libs/video/renderer/glsl/glsl_alias.c |   28 ++++++++++++++++++++++++++++
 1 file changed, 28 insertions(+)

commit baab152
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 2 23:27:46 2012 +0900

    Correct the alias vertex data types.
    
    Vertex locations need to be unsigned byte rather than byte (GL is funy
    with that). s and t need to be at least short, and since the normal index
    is embedded in the st vector, it needs to be the same type. With this, my
    test tetrahedrons seem to be working.

 include/QF/GLSL/qf_alias.h            |    2 +-
 libs/video/renderer/glsl/glsl_alias.c |    4 ++--
 2 files changed, 3 insertions(+), 3 deletions(-)

commit c378aca
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 2 22:38:52 2012 +0900

    Actually load up the mvp and normal matrices.
    
    Rather critical. I thought I'd done that :/

 libs/video/renderer/glsl/glsl_alias.c |    2 ++
 1 file changed, 2 insertions(+)

commit 86edf54
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Mon Jan 2 14:16:19 2012 -0500

    Build and ignore cleanups
    
    GLSL renderer build was checking for BUILD_GL instead of BUILD_GLSL in a
    few places. Also, ignore the GLSL .fc and .vc files and the binaries.

 .gitignore                           |    6 ++++++
 config.d/build_control.m4            |    2 +-
 libs/video/renderer/glsl/Makefile.am |    2 +-
 3 files changed, 8 insertions(+), 2 deletions(-)

commit 2a3151c
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 2 19:15:01 2012 +0900

    Hook in alias model drawing.
    
    Nothing is visible yet.

 include/QF/GLSL/qf_alias.h            |    3 +
 libs/models/alias/glsl_model_alias.c  |    2 +
 libs/video/renderer/glsl/glsl_alias.c |  120 ++++++++++++++++++++++++++++++++-
 libs/video/renderer/glsl/glsl_main.c  |    9 +++
 4 files changed, 133 insertions(+), 1 deletion(-)

commit 72e3a8d
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 2 17:47:22 2012 +0900

    Merge sw and sw32 alias frame selection.
    
    I'm leaving GL for later because lerping complicates things. I'll sort it
    out when I implement lerping in GLSL.

 include/QF/model.h                     |   12 +++-------
 include/r_local.h                      |    3 ++-
 libs/video/renderer/r_alias.c          |   38 +++++++++++++++++++++++++++++++
 libs/video/renderer/sw/sw_ralias.c     |   39 +++-----------------------------
 libs/video/renderer/sw32/sw32_ralias.c |   39 +++-----------------------------
 5 files changed, 49 insertions(+), 82 deletions(-)

commit 1c480bf
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 2 15:57:43 2012 +0900

    Merge the alias skin selection code.
    
    We really don't need 4 copies of identical code when 1 will do :P

 include/r_local.h                      |    1 +
 libs/video/renderer/Makefile.am        |    4 +-
 libs/video/renderer/gl/gl_mod_alias.c  |   41 -----------------
 libs/video/renderer/r_alias.c          |   79 ++++++++++++++++++++++++++++++++
 libs/video/renderer/sw/sw_ralias.c     |   32 ++-----------
 libs/video/renderer/sw32/sw32_ralias.c |   30 +-----------
 6 files changed, 86 insertions(+), 101 deletions(-)

commit 540bccb
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 2 13:41:12 2012 +0900

    Load all the alias vertex data as bytes.
    
    I had forgotten I wanted to do it this way.

 include/QF/GLSL/qf_alias.h             |    4 ++--
 libs/models/alias/glsl_model_alias.c   |    9 +++------
 libs/video/renderer/glsl/glsl_alias.c  |    3 +++
 libs/video/renderer/glsl/quakemdl.vert |    5 +++--
 4 files changed, 11 insertions(+), 10 deletions(-)

commit a578358
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 2 13:15:51 2012 +0900

    Build the vertex normals texture.

 libs/video/renderer/glsl/glsl_alias.c  |   35 ++++++++++++++++++++++++++++++++
 libs/video/renderer/glsl/quakemdl.vert |    6 +++---
 2 files changed, 38 insertions(+), 3 deletions(-)

commit 6b4a108
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 2 13:15:19 2012 +0900

    Add an RGB texture loader.

 include/QF/GLSL/qf_textures.h            |    2 ++
 libs/video/renderer/glsl/glsl_textures.c |   18 ++++++++++++++++++
 2 files changed, 20 insertions(+)

commit 7e5b330
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 2 11:19:23 2012 +0900

    Create the colormap texture.

 include/QF/GLSL/qf_vid.h             |    3 ++-
 libs/video/targets/vid_common_glsl.c |    7 +++++++
 2 files changed, 9 insertions(+), 1 deletion(-)

commit fd67f35
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 2 11:18:34 2012 +0900

    Load the alias model shaders.

 libs/video/renderer/glsl/Makefile.am   |    8 +++--
 libs/video/renderer/glsl/glsl_alias.c  |   57 ++++++++++++++++++++++++++++++++
 libs/video/renderer/glsl/glsl_main.c   |    2 ++
 libs/video/renderer/glsl/quakemdl.frag |    2 +-
 libs/video/renderer/glsl/quakemdl.vert |    7 ++--
 5 files changed, 70 insertions(+), 6 deletions(-)

commit df3d9fe
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 2 10:53:57 2012 +0900

    Correct the fullbright start color extraction.
    
    I don't know what despair and I were thinking, but we obviously didn't
    understand the colormap code at the time.

 libs/video/targets/vid_3dfxsvga.c |    2 +-
 libs/video/targets/vid_fbdev.c    |    4 ++--
 libs/video/targets/vid_glx.c      |    2 +-
 libs/video/targets/vid_sdl.c      |    2 +-
 libs/video/targets/vid_sgl.c      |    2 +-
 libs/video/targets/vid_svgalib.c  |    2 +-
 libs/video/targets/vid_wgl.c      |    2 +-
 libs/video/targets/vid_x11.c      |    2 +-
 8 files changed, 9 insertions(+), 9 deletions(-)

commit 7be0853
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 2 10:22:03 2012 +0900

    Clearify the program dump info a little.
    
    Calling programs shaders was a little confusing when I use shader to refer
    to the sub-programs (vertex and fragment shaders). Also, print the program
    number as well.

 libs/video/targets/vid_common_glsl.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 2ad5aa7
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 2 10:08:56 2012 +0900

    Unbind the array and element array buffers when done.
    
    Not doing so wreaked havoc on my 2d rendering (what's he doing here, and
    why's he messing with my redering? ;)

 libs/models/alias/glsl_model_alias.c |    2 ++
 1 file changed, 2 insertions(+)

commit d1419c3
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jan 1 23:58:12 2012 +0900

    Make a start on alias model rendering.
    
    The vertex and fragment shaders are written, and R_InitAlias is stubbed,
    but that's it so far.

 libs/video/renderer/glsl/Makefile.am   |    4 +--
 libs/video/renderer/glsl/glsl_alias.c  |   50 ++++++++++++++++++++++++++++++++
 libs/video/renderer/glsl/quakemdl.frag |   24 +++++++++++++++
 libs/video/renderer/glsl/quakemdl.vert |   24 +++++++++++++++
 4 files changed, 100 insertions(+), 2 deletions(-)

commit f3884c6
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jan 1 23:55:27 2012 +0900

    Finish alias skin loading and load vertex data into GL.

 include/QF/GLSL/qf_alias.h           |   41 +++++++++++
 include/QF/Makefile.am               |    4 +-
 libs/models/alias/glsl_model_alias.c |  124 +++++++++++++++++++++++++++++++---
 3 files changed, 157 insertions(+), 12 deletions(-)

commit f18cd65
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Dec 31 20:36:24 2011 +0900

    Implement the "cache" in Draw_CachePic.

 include/QF/GLSL/qf_textures.h            |    1 +
 libs/video/renderer/glsl/glsl_draw.c     |   58 ++++++++++++++++++++++++++++++
 libs/video/renderer/glsl/glsl_textures.c |    7 ++++
 3 files changed, 66 insertions(+)

commit 3eae842
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Dec 31 17:24:20 2011 +0900

    Implement in-game screenshots.

 libs/video/renderer/glsl/glsl_screen.c |   29 +++++++++++++++++++++++++++++
 1 file changed, 29 insertions(+)

commit d8dbfa9
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Dec 31 17:23:32 2011 +0900

    Create WritePNGqfs so screenshots can be written as png.

 include/QF/png.h |    4 +-
 libs/image/png.c |  153 ++++++++++++++++++++++++++++++++----------------------
 2 files changed, 94 insertions(+), 63 deletions(-)

commit 718595d
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Dec 31 14:38:03 2011 +0900

    Implement sprite rendering.
    
    Sprite interpolation seems to work, even :) (maybe)

 include/r_local.h                      |    3 +
 libs/video/renderer/glsl/glsl_sprite.c |  229 +++++++++++++++++++++++++-------
 libs/video/renderer/glsl/quakespr.vert |    4 +-
 3 files changed, 188 insertions(+), 48 deletions(-)

commit 091e16f
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Dec 31 14:33:20 2011 +0900

    Bring in GL's R_RecursiveWorldNode as R_VisiteWorldNodes.
    
    No surface queuing is done, but entities get queued.

 libs/video/renderer/glsl/glsl_main.c |  119 ++++++++++++++++++++++++++++++++++
 1 file changed, 119 insertions(+)

commit ea2ae14
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Dec 31 13:20:31 2011 +0900

    Fix some bugs in the new matrix functions/macros.

 include/QF/mathlib.h |    2 +-
 libs/util/mathlib.c  |    2 ++
 2 files changed, 3 insertions(+), 1 deletion(-)

commit 55e53b7
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Dec 30 21:11:59 2011 +0900

    Make a start on getting sprites rendering.
    
    The plan is to do interpolated sprites based on a discussion I had with
    LordHavoc about them: blending between the two sprite frames. He didn't
    mention it, but it looks like blending between the sprite frames' verts is
    necessary too.

 include/r_local.h                      |    2 +
 libs/video/renderer/glsl/Makefile.am   |    7 +-
 libs/video/renderer/glsl/glsl_main.c   |   20 ++++
 libs/video/renderer/glsl/glsl_sprite.c |  201 ++++++++++++++++++++++++++++++++
 libs/video/renderer/glsl/quakespr.frag |   25 ++++
 libs/video/renderer/glsl/quakespr.vert |   20 ++++
 6 files changed, 272 insertions(+), 3 deletions(-)

commit 16f84cd
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Dec 30 21:10:24 2011 +0900

    Hopefully get the 3d view and projection transforms setup.

 libs/video/renderer/glsl/glsl_main.c |   82 ++++++++++++++++++++++++++++++++++
 1 file changed, 82 insertions(+)

commit 20d9346
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Dec 30 21:07:35 2011 +0900

    Frag some magic numbers.
    
    More annoying than hipnotic's gremlins.

 libs/video/renderer/gl/gl_rmain.c |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 35bf957
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Dec 30 20:05:56 2011 +0900

    Add a 4x4 matrix type and some functions for it.

 include/QF/mathlib.h |   45 +++++++++++++++++++++++++++++++++++++++++++++
 include/QF/qtypes.h  |    2 ++
 libs/util/mathlib.c  |   32 ++++++++++++++++++++++++++++++++
 3 files changed, 79 insertions(+)

commit edb05fd
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Dec 30 20:04:55 2011 +0900

    Rename Vector3Scale and QuatCompScale.
    
    They are now VectorCompMult and QuatCompMult.

 include/QF/mathlib.h |   30 +++++++++++++++---------------
 libs/models/trace.c  |   22 +++++++++++-----------
 2 files changed, 26 insertions(+), 26 deletions(-)

commit bcdcd7b
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Dec 30 09:36:57 2011 +0900

    Implement sprint glsl loading.
    
    That was... easy.

 libs/models/sprite/glsl_model_sprite.c |    8 +++++++-
 1 file changed, 7 insertions(+), 1 deletion(-)

commit a87a60a
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 29 18:23:09 2011 +0900

    Flush the text buffer before drawing conback or menus.
    
    Ok, now really done until I notice something else (I forgot this one
    momentarily).

 libs/video/renderer/glsl/glsl_draw.c |    3 +++
 1 file changed, 3 insertions(+)

commit 047b7bc
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 29 18:15:15 2011 +0900

    Implement Draw_TileClear.
    
    With this, 2d seems to be finished. YAY.

 libs/video/renderer/glsl/glsl_draw.c |    8 ++++++++
 1 file changed, 8 insertions(+)

commit a1035aa
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 29 17:51:31 2011 +0900

    Implement Draw_TextBox.

 libs/video/renderer/glsl/glsl_draw.c |   55 ++++++++++++++++++++++++++++++++++
 1 file changed, 55 insertions(+)

commit 0e521a7
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 29 11:27:54 2011 +0900

    Correctly detect going past the end of the pcx data.
    
    palette is just that, the palette, and often won't point to the end of the
    pcx data. Use the right end :).

 libs/image/pcx.c |    7 ++++---
 1 file changed, 4 insertions(+), 3 deletions(-)

commit 2b44a25
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 29 11:26:14 2011 +0900

    Flush console text after each screen function.
    
    This on its own doesn't fix menus being overwritten with console text, but
    it's an important step.

 libs/video/renderer/glsl/glsl_screen.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 9fec4d5
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 29 11:25:27 2011 +0900

    Implement Draw_Fill.
    
    Almost there with 2d.

 libs/video/renderer/glsl/glsl_draw.c |   64 ++++++++++++++++++++++++----------
 1 file changed, 46 insertions(+), 18 deletions(-)

commit 9d0ed6b
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 29 08:47:32 2011 +0900

    Fix the missing text.
    
    Silly case and paste error cleared out my text vertex array prematurely.

 libs/video/renderer/glsl/glsl_draw.c |    2 --
 1 file changed, 2 deletions(-)

commit bece72e
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 28 21:45:20 2011 +0900

    Use a quick hack to get colored crosshairs working.

 libs/video/renderer/glsl/glsl_draw.c |    4 ++++
 1 file changed, 4 insertions(+)

commit e69a583
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 28 20:43:56 2011 +0900

    Work around a bug in mesa.
    
    Since I'm not specifying the api when creating my context, mesa is giving
    me GL2. This is fair enough, but in GL2, vertex attribute 0 is the vertex
    position. This too, is fair enough. The problem is, mesa is assigning 0 to
    my vcolor attribute and thus I can't set it. The work around is simply to
    swap the declaration order of vcolor and vertex (this really shouldn't work
    eiter, I suspect).

 libs/video/renderer/glsl/quakeico.vert |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 6a44978
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 28 20:41:26 2011 +0900

    Fix reading of GL_CURRENT_VERTEX_ATTRIB.
    
    Turns out it returns a vec4. oops.

 libs/video/targets/vid_common_glsl.c |   11 +++++------
 1 file changed, 5 insertions(+), 6 deletions(-)

commit 8ee13ef
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 28 19:17:15 2011 +0900

    Do some clipping in the draw routines.
    
    After fixing Maraakate's crash, I thought it would be a good idea to put
    the fixes into QF, too.

 libs/video/renderer/sw/draw.c   |   55 +++++++++++++++++++++++++++++++++++----
 libs/video/renderer/sw32/draw.c |   55 +++++++++++++++++++++++++++++++++++----
 2 files changed, 100 insertions(+), 10 deletions(-)

commit 4e7af5c
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 28 14:27:59 2011 +0900

    Add a function to dump the info for all attribute arrays.

 include/QF/GLSL/qf_vid.h             |    1 +
 libs/video/targets/vid_common_glsl.c |   35 ++++++++++++++++++++++++++++++++++
 2 files changed, 36 insertions(+)

commit 411ab8f
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 28 12:57:14 2011 +0900

    Be noisy when resolving uniforms and attributes.

 libs/video/targets/vid_common_glsl.c |    4 ++++
 1 file changed, 4 insertions(+)

commit be9530a
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 28 12:40:28 2011 +0900

    Dump a lot of info about shader programs.
    
    New developer bit: SYS_GLSL (2048).

 include/QF/sys.h                     |    1 +
 libs/video/targets/vid_common_glsl.c |  114 +++++++++++++++++++++++++++++++---
 2 files changed, 107 insertions(+), 8 deletions(-)

commit b657905
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 28 09:05:36 2011 +0900

    Bring in Despair's gl error checking from the gl renderer.

 libs/video/renderer/glsl/glsl_screen.c |   71 ++++++++++++++++++++++++++++++++
 1 file changed, 71 insertions(+)

commit 151cc05
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 28 09:04:26 2011 +0900

    Add support for vertex colors.
    
    As I need to control the alpha, they're sent as rgba rather than quake
    palette indices. Text works well. All other 2d stuff does not :(.

 include/r_cvar.h                       |    3 +++
 libs/video/renderer/glsl/glsl_draw.c   |   30 +++++++++++++++++++++++-------
 libs/video/renderer/glsl/quake2d.frag  |    3 ++-
 libs/video/renderer/glsl/quakeico.vert |    3 +++
 libs/video/renderer/glsl/quaketxt.vert |    8 ++++++++
 libs/video/renderer/r_cvar.c           |   12 ++++++++++--
 6 files changed, 49 insertions(+), 10 deletions(-)

commit b96ca6f
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 28 08:59:52 2011 +0900

    Add QuatCompScale and fix a bug in QuatScale.

 include/QF/mathlib.h |   10 +++++++++-
 1 file changed, 9 insertions(+), 1 deletion(-)

commit b943b6d
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Dec 27 17:59:58 2011 +0900

    Implement crosshairs, mostly.
    
    Colored crosshairs aren't supported yet (next).

 include/r_cvar.h                     |    6 +-
 libs/video/renderer/glsl/glsl_draw.c |  121 +++++++++++++++++++++++++++-------
 2 files changed, 99 insertions(+), 28 deletions(-)

commit db8573b
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Dec 26 21:43:15 2011 +0900

    Make the cross-hair data sharable between renderers.

 include/r_local.h                |    9 ++++
 libs/video/renderer/Makefile.am  |    2 +-
 libs/video/renderer/crosshair.c  |   98 ++++++++++++++++++++++++++++++++++++++
 libs/video/renderer/gl/gl_draw.c |   55 ++++-----------------
 4 files changed, 116 insertions(+), 48 deletions(-)

commit 705d07f
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Dec 26 20:33:40 2011 +0900

    Implement most of the 2d rendering functions.
    
    textbox, crosshair, tileclear, fill and fadescreen are the remaining
    functions.
    
    There's a problem with 2d icons being drawn over the text (instead of
    under), but I'll leave that for later.

 libs/video/renderer/glsl/Makefile.am   |    5 +-
 libs/video/renderer/glsl/glsl_draw.c   |  201 +++++++++++++++++++++++++++++++-
 libs/video/renderer/glsl/quakeico.vert |   18 +++
 3 files changed, 220 insertions(+), 4 deletions(-)

commit e2a8de3
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Dec 26 18:34:51 2011 +0900

    First real texture support function for glsl.

 include/QF/GLSL/qf_textures.h            |   23 +----------
 libs/video/renderer/glsl/Makefile.am     |    6 +--
 libs/video/renderer/glsl/glsl_draw.c     |   13 +-----
 libs/video/renderer/glsl/glsl_textures.c |   64 ++++++++++++++++++++++++++++++
 4 files changed, 71 insertions(+), 35 deletions(-)

commit 42034ac
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Dec 26 17:42:23 2011 +0900

    Organize the text program data.
    
    Also, rename the charmap uniform in quake2d.frag as it's more generic than
    that.

 libs/video/renderer/glsl/glsl_draw.c  |   71 ++++++++++++++++++---------------
 libs/video/renderer/glsl/quake2d.frag |    4 +-
 2 files changed, 41 insertions(+), 34 deletions(-)

commit 2ccfbb0
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Dec 26 17:17:29 2011 +0900

    Move the shader program code into vid_common_glsl.
    
    Much more useful in the long run.

 include/QF/GLSL/qf_vid.h             |   11 ++++
 libs/video/renderer/glsl/glsl_draw.c |   97 ++++------------------------------
 libs/video/targets/vid_common_glsl.c |   72 +++++++++++++++++++++++++
 3 files changed, 93 insertions(+), 87 deletions(-)

commit 5bed38d
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Dec 26 17:09:09 2011 +0900

    Rename quaketxt.frag to quake2d.frag.
    
    It's actually fairly generic for 2d rendering (no lighting, palette lookup)

 libs/video/renderer/glsl/Makefile.am   |    4 ++--
 libs/video/renderer/glsl/glsl_draw.c   |   10 +++++-----
 libs/video/renderer/glsl/quake2d.frag  |   15 +++++++++++++++
 libs/video/renderer/glsl/quaketxt.frag |   15 ---------------
 4 files changed, 22 insertions(+), 22 deletions(-)

commit f78db6c
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Dec 26 16:39:02 2011 +0900

    Clean up the generated shader files.

 libs/video/renderer/glsl/Makefile.am |    1 +
 1 file changed, 1 insertion(+)

commit 279ea34
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Dec 26 16:33:15 2011 +0900

    Add the GLSL files to the headers list.

 include/QF/Makefile.am |    3 +++
 1 file changed, 3 insertions(+)

commit 067d3b3
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Dec 26 16:16:39 2011 +0900

    Revert all the commits adding stuff to QF/GL.
    
    With the new QF/GLSL directory, I don't need (or want) them any more.

 include/QF/GL/extensions.h    |  113 -----------------------------------
 include/QF/GL/qf_funcs_list.h |  130 -----------------------------------------
 include/QF/GL/qf_vid.h        |    2 -
 include/QF/GL/types.h         |    1 -
 4 files changed, 246 deletions(-)

commit d743c6c
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Dec 26 16:08:55 2011 +0900

    Make a clean break heading for GLES compatibility.
    
    Add GLSL directory to QF and use it for all gsls based code (instead of
    GL). defines.h, types.h and funcs.h are derived from gl2.h from khronos.
    
    Text drawing now uses triangles instead of quads.

 include/QF/GLSL/defines.h                 |  438 +++++++++++++++++++++++++++++
 include/QF/GLSL/funcs.h                   |   56 ++++
 include/QF/GLSL/qf_funcs_list.h           |  162 +++++++++++
 include/QF/GLSL/qf_textures.h             |   59 ++++
 include/QF/GLSL/qf_vid.h                  |   36 +++
 include/QF/GLSL/types.h                   |   46 +++
 libs/video/renderer/glsl/glsl_draw.c      |   25 +-
 libs/video/renderer/glsl/glsl_main.c      |    2 +-
 libs/video/renderer/glsl/glsl_particles.c |    7 +-
 libs/video/renderer/glsl/glsl_screen.c    |    9 +-
 libs/video/targets/Makefile.am            |    2 +-
 libs/video/targets/qfglsl.c               |  124 ++++++++
 libs/video/targets/vid_common_glsl.c      |   15 +-
 13 files changed, 943 insertions(+), 38 deletions(-)

commit e6c6de3
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Dec 26 10:41:16 2011 +0900

    Fix the palette uploading.
    
    Ooooops :P

 libs/video/targets/vid_common_glsl.c |    2 ++
 1 file changed, 2 insertions(+)

commit 7bd5ab8
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Dec 26 10:16:16 2011 +0900

    Get text rendering working.
    
    It comes out as a funky green (that's not in the quake palette!!!), but
    it's mostly readable.

 libs/video/renderer/glsl/glsl_draw.c   |   15 ++++++++++++---
 libs/video/renderer/glsl/glsl_screen.c |    2 ++
 libs/video/renderer/glsl/quaketxt.frag |    2 ++
 libs/video/renderer/glsl/quaketxt.vert |    6 +++---
 libs/video/targets/vid_common_glsl.c   |    5 +++++
 5 files changed, 24 insertions(+), 6 deletions(-)

commit 4131a59
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Dec 26 10:12:30 2011 +0900

    Yet more functions.
    
    I really need to go through this properly.

 include/QF/GL/qf_funcs_list.h |   22 ++++++++++++++++++++++
 1 file changed, 22 insertions(+)

commit 9f5eacd
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Dec 26 08:12:05 2011 +0900

    Try to get text rendering.
    
    Still a black screen :(

 include/QF/GL/qf_vid.h               |    2 +
 libs/video/renderer/glsl/glsl_draw.c |  176 +++++++++++++++++++++++++++++++++-
 2 files changed, 174 insertions(+), 4 deletions(-)

commit c161a91
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Dec 26 07:59:36 2011 +0900

    Split out and partially implement the screen code.

 libs/video/renderer/glsl/Makefile.am   |    2 +-
 libs/video/renderer/glsl/glsl_draw.c   |   17 +++-
 libs/video/renderer/glsl/glsl_main.c   |   17 ----
 libs/video/renderer/glsl/glsl_screen.c |  138 ++++++++++++++++++++++++++++++++
 4 files changed, 155 insertions(+), 19 deletions(-)

commit 1268830
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Dec 26 07:50:05 2011 +0900

    Split out the particle code.

 libs/video/renderer/glsl/Makefile.am      |    2 +-
 libs/video/renderer/glsl/glsl_main.c      |  177 ---------------------
 libs/video/renderer/glsl/glsl_particles.c |  239 +++++++++++++++++++++++++++++
 3 files changed, 240 insertions(+), 178 deletions(-)

commit 34d26a7
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Dec 26 07:48:27 2011 +0900

    More gl functions.

 include/QF/GL/qf_funcs_list.h |   12 ++++++++++++
 1 file changed, 12 insertions(+)

commit 7d653f3
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Dec 25 19:42:39 2011 +0900

    Start work on outputting text.
    
    The shaders now compile. No linking is done yet. Char quads are generated,
    but not sent to the card.

 libs/video/renderer/glsl/glsl_draw.c   |   84 ++++++++++++++++++++++++++++++++
 libs/video/renderer/glsl/glsl_main.c   |    2 +
 libs/video/renderer/glsl/quaketxt.frag |   10 ++--
 libs/video/renderer/glsl/quaketxt.vert |   19 ++++----
 4 files changed, 101 insertions(+), 14 deletions(-)

commit 70abd33
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Dec 25 19:40:04 2011 +0900

    Add GL 2.0 stuff.

 include/QF/GL/extensions.h    |   83 ++++++++++++++++++++++++++++++++++++
 include/QF/GL/qf_funcs_list.h |   94 +++++++++++++++++++++++++++++++++++++++++
 include/QF/GL/types.h         |    1 +
 3 files changed, 178 insertions(+)

commit 91afdcf
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Dec 25 17:11:48 2011 +0900

    Don't call init_box when not doing a box trace.
    
    I took the opportunity to pass qf through callgrind. init_box was
    surprisingly expensive, especially considering its results were never used.

 libs/models/trace.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 55a0ed4
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Dec 25 16:41:14 2011 +0900

    Build qw-client-glslx too.
    
    I was asked about timedemo overkill (bigass1 currently gets 40kfps, haha),
    so I had to add qw-client-glslx to the build.

 config.d/build_control.m4            |    4 ++--
 libs/video/renderer/glsl/glsl_main.c |   30 ++++++++++++++++++++++++++++++
 qw/source/Makefile.am                |   23 ++++++++++++++++++++---
 3 files changed, 52 insertions(+), 5 deletions(-)

commit 59c621e
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Dec 25 16:23:02 2011 +0900

    Move qfprogs from tools to qfcc (packaging).

 tools/build_scripts/qf-win32.py |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 9df7370
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Dec 25 15:53:12 2011 +0900

    Create some shaders for quake text.
    
    Still nothing drawn, but this gets my shader scripts into C without me
    having to look at ugly strings.

 libs/video/renderer/glsl/Makefile.am   |   12 +++++++++-
 libs/video/renderer/glsl/glsl_draw.c   |    8 +++++++
 libs/video/renderer/glsl/quaketxt.frag |   13 +++++++++++
 libs/video/renderer/glsl/quaketxt.vert |   40 ++++++++++++++++++++++++++++++++
 4 files changed, 72 insertions(+), 1 deletion(-)

commit b7c90fa
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Dec 25 13:53:52 2011 +0900

    Load the quake palete as a texture.
    
    256x1 rgba.

 libs/video/targets/Makefile.am       |    2 +-
 libs/video/targets/vid_common_glsl.c |  166 ++++++++++++++++++++++++++++++++++
 2 files changed, 167 insertions(+), 1 deletion(-)

commit 99c490c
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Dec 25 12:57:23 2011 +0900

    Get glsl running as a null renderer.
    
    This means that nq-glslx can get through demo1, demo2, demo3 and bigass1
    without crashing. However, nothing is rendered, so unless you like black,
    it's not very interesting.

 libs/video/renderer/glsl/glsl_main.c |  152 ++++++++++++++++++++++++++++++++++
 1 file changed, 152 insertions(+)

commit 2894689
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Dec 25 11:35:32 2011 +0900

    Clean up mod_lightmap_bytes.
    
    Just how many definitions do we need?

 libs/models/brush/gl_model_brush.c   |    2 --
 libs/models/brush/glsl_model_brush.c |    9 +++++++--
 libs/models/brush/model_brush.c      |    1 +
 libs/models/brush/sw_model_brush.c   |    2 --
 libs/models/null_model.c             |    2 --
 5 files changed, 8 insertions(+), 8 deletions(-)

commit dcf2b14
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Dec 25 11:26:28 2011 +0900

    Implement alias model skin loading for glsl.

 libs/models/alias/Makefile.am        |    2 +-
 libs/models/alias/glsl_mesh.c        |   50 ----------------------------------
 libs/models/alias/glsl_model_alias.c |   27 ++++++++++++++++--
 3 files changed, 26 insertions(+), 53 deletions(-)

commit a7ad6c0
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Dec 25 11:24:57 2011 +0900

    Add some defines and functions I need for glsl.
    
    There will be more coming as I need them.

 include/QF/GL/extensions.h    |   30 ++++++++++++++++++++++++++++++
 include/QF/GL/qf_funcs_list.h |    2 ++
 2 files changed, 32 insertions(+)

commit e62eb23
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Dec 25 11:04:03 2011 +0900

    And do the real merge.
    
    That drastically simplifies the processes of alias model loading for glsl :)

 libs/models/alias/gl_model_alias.c   |   84 ----------------------------------
 libs/models/alias/glsl_model_alias.c |   14 ------
 libs/models/alias/model_alias.c      |   84 ++++++++++++++++++++++++++++++++++
 libs/models/alias/sw_model_alias.c   |   84 ----------------------------------
 4 files changed, 84 insertions(+), 182 deletions(-)

commit c0d37dd
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Dec 25 10:53:53 2011 +0900

    Pseudo merge gl and sw Mod_LoadAliasGroup.
    
    Interestingly, this didn't break gl alias model renderering (but then, it
    does weird things to the data anyway).

 libs/models/alias/gl_model_alias.c |   33 +++++++++++++++++++++------------
 libs/models/alias/sw_model_alias.c |   14 ++++++--------
 2 files changed, 27 insertions(+), 20 deletions(-)

commit 1f8db5f
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Dec 25 10:31:35 2011 +0900

    Pseudo merge gl and sw Mod_LoadAliasFrame.

 libs/models/alias/gl_model_alias.c |   33 +++++------
 libs/models/alias/sw_model_alias.c |  111 ++++++++++++++++++------------------
 2 files changed, 69 insertions(+), 75 deletions(-)

commit ce8c2e7
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Dec 24 20:10:37 2011 +0900

    Add some more vector/quat component macros.

 include/QF/mathlib.h |   39 +++++++++++++++++++++++++++++++++++++++
 1 file changed, 39 insertions(+)

commit cc5140e
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Dec 24 10:04:33 2011 +0900

    Move min/max/bound and field_offset into better locations.
    
    min/max bound into mathlib.h (they /are/ math functions, after all) and
    field_offset into qtypes.h.

 hw/source/master.c                   |    1 +
 include/QF/mathlib.h                 |   10 ++++++++++
 include/QF/qtypes.h                  |    3 +++
 include/compat.h                     |   13 -------------
 libs/console/complete.c              |    1 +
 libs/console/inputline.c             |    1 +
 libs/gamecode/engine/pr_debug.c      |    1 +
 libs/ruamoko/rua_obj.c               |    1 +
 libs/util/hash.c                     |    2 ++
 libs/util/quakefs.c                  |    1 +
 libs/util/sys.c                      |    1 +
 libs/util/zone.c                     |    1 +
 libs/video/renderer/gl/gl_textures.c |    1 +
 libs/video/targets/vid.c             |    1 +
 libs/video/targets/vid_common_sw.c   |    1 +
 libs/video/targets/vid_common_sw32.c |    1 +
 tools/bsp2img/bsp2img.c              |    1 +
 tools/qflight/source/options.c       |    1 +
 18 files changed, 29 insertions(+), 13 deletions(-)

commit 59ef1ea
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Dec 23 19:01:31 2011 +0900

    Split out the floodfile code into its own file.

 include/QF/model.h                 |    1 +
 libs/models/alias/Makefile.am      |    4 +-
 libs/models/alias/gl_model_alias.c |   73 ------------------------
 libs/models/alias/mod_flood.c      |  110 ++++++++++++++++++++++++++++++++++++
 4 files changed, 113 insertions(+), 75 deletions(-)

commit 6fe9557
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Dec 23 12:52:55 2011 +0900

    Put in the final pieces so nq-glslx can link.
    
    Everything is still stubs. Trying to run nq-glslx results in a segfault :)

 libs/video/renderer/glsl/glsl_main.c |    9 +++++++++
 1 file changed, 9 insertions(+)

commit 53d89bf
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Dec 23 12:51:47 2011 +0900

    Clean up the mess around D_FlushCaches.
    
    Create an R_ClearState and call that from the clients. It calls any
    necessary functions itself.

 include/QF/render.h                   |    1 +
 libs/video/renderer/gl/gl_rmain.c     |    8 ++++++++
 libs/video/renderer/gl/gl_rmisc.c     |    5 -----
 libs/video/renderer/sw/sw_rmain.c     |    9 +++++++++
 libs/video/renderer/sw32/sw32_rmain.c |    9 +++++++++
 nq/source/cl_main.c                   |    4 +---
 nq/source/host.c                      |    1 -
 nq/source/sv_ded.c                    |    5 -----
 qw/source/cl_main.c                   |    5 +----
 9 files changed, 29 insertions(+), 18 deletions(-)

commit 33c5320
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Dec 23 12:19:50 2011 +0900

    Create stubs for most of the required render functions.
    
    nq-glslx almost links. Just some suspicious references in host.c I want to
    check before doing anything more.

 include/QF/render.h                  |    9 --
 include/r_local.h                    |   10 +++
 libs/models/brush/glsl_model_brush.c |    2 +
 libs/video/renderer/glsl/Makefile.am |    3 +-
 libs/video/renderer/glsl/glsl_draw.c |  121 +++++++++++++++++++++++++
 libs/video/renderer/glsl/glsl_main.c |  161 ++++++++++++++++++++++++++++++++++
 6 files changed, 296 insertions(+), 10 deletions(-)

commit 497461b
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Dec 23 12:19:13 2011 +0900

    Make a start on making a pure GLSL renderer.
    
    For now, only nq-glslx will be built, but as there is no actual code, it
    doesn't link. However, this gets the glsl stuff into the build system.

 config.d/ac_config_files.m4            |    1 +
 config.d/build_control.m4              |   26 ++++++++++-
 libs/models/Makefile.am                |    9 +++-
 libs/models/alias/Makefile.am          |   13 +++++-
 libs/models/alias/glsl_mesh.c          |   50 +++++++++++++++++++++
 libs/models/alias/glsl_model_alias.c   |   74 ++++++++++++++++++++++++++++++
 libs/models/brush/Makefile.am          |   13 +++++-
 libs/models/brush/glsl_model_brush.c   |   77 ++++++++++++++++++++++++++++++++
 libs/models/sprite/Makefile.am         |   13 +++++-
 libs/models/sprite/glsl_model_sprite.c |   55 +++++++++++++++++++++++
 libs/video/renderer/Makefile.am        |   10 ++++-
 libs/video/renderer/glsl/Makefile.am   |   16 +++++++
 libs/video/targets/Makefile.am         |   21 +++++++--
 nq/source/Makefile.am                  |   21 ++++++++-
 14 files changed, 382 insertions(+), 17 deletions(-)

commit 8909634
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 22 15:44:28 2011 +0900

    Big cleanup of Host_Init.
    
    Eventually, all init functions will chain to their dependencies.

 nq/include/client.h |    4 +-
 nq/source/cl_main.c |   81 ++++++++++++++++++++-
 nq/source/host.c    |  101 ++++----------------------
 nq/source/sv_ded.c  |  202 +--------------------------------------------------
 4 files changed, 101 insertions(+), 287 deletions(-)

commit 0086fee
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 22 14:28:17 2011 +0900

    Rename host_skin.c to cl_skin.c.
    
    I don't know why I thost host was a good idea.

 nq/include/Makefile.am |    2 +-
 nq/include/cl_skin.h   |   41 ++++++++++++
 nq/include/host.h      |    2 -
 nq/source/Makefile.am  |    2 +-
 nq/source/cl_skin.c    |  162 ++++++++++++++++++++++++++++++++++++++++++++++++
 nq/source/host.c       |    5 +-
 nq/source/host_skin.c  |  162 ------------------------------------------------
 nq/source/sv_ded.c     |    5 +-
 8 files changed, 211 insertions(+), 170 deletions(-)

commit 29306f7
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 22 13:42:39 2011 +0900

    Merge nq and qw sv_phys.c
    
    sv_move and world are now identical between the two directories.

 include/qw/pmove.h     |    1 +
 nq/include/server.h    |    3 +++
 nq/source/host.c       |    2 +-
 nq/source/sv_cl_phys.c |    1 +
 nq/source/sv_main.c    |    4 +++-
 nq/source/sv_phys.c    |    7 ++-----
 qw/include/server.h    |    4 ++++
 qw/source/sv_phys.c    |   10 ++--------
 qw/source/sv_user.c    |    7 +++++++
 9 files changed, 24 insertions(+), 15 deletions(-)

commit 2bec1ae
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 22 13:08:24 2011 +0900

    Make qw's push/block handing the same as nq's.
    
    NQ's handling seems to be more correct. The only likely problems are if
    something is pushed into (eg) a button, and things will be a little slower.

 nq/source/sv_phys.c |    6 +++---
 qw/source/sv_phys.c |   18 ++++++++----------
 2 files changed, 11 insertions(+), 13 deletions(-)

commit 3eb788b
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 22 11:19:24 2011 +0900

    Make qw's SV_Push remove ONGROUND for non-players.
    
    This seems to have been an optimization for QW since standard qw removed
    monsters. However, since there are QW mods that brought back monsters,
    this should be an improvement.

 qw/source/sv_phys.c |    3 +++
 1 file changed, 3 insertions(+)

commit d1be716
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 22 11:18:27 2011 +0900

    Tidy up the corpse related code in SV_Push.

 nq/source/sv_phys.c |    7 +++----
 qw/source/sv_phys.c |    7 ++-----
 2 files changed, 5 insertions(+), 9 deletions(-)

commit 4ade879
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 22 10:45:52 2011 +0900

    Make SV_PushEntity easier to read.

 nq/source/sv_phys.c |   26 +++++++++++++++-----------
 qw/source/sv_phys.c |   26 +++++++++++++++-----------
 2 files changed, 30 insertions(+), 22 deletions(-)

commit b54f058
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 22 10:24:01 2011 +0900

    Bring qw's entity-in-solid check into nq's SV_Push.

 nq/source/sv_phys.c |    9 +++++++++
 1 file changed, 9 insertions(+)

commit 7243de0
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 22 10:22:39 2011 +0900

    Remove entorg from nq's SV_Push ().
    
    It's been redundant since the moved_* arrays came in.

 nq/source/sv_phys.c |    6 +-----
 1 file changed, 1 insertion(+), 5 deletions(-)

commit 64115d3
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 22 09:42:44 2011 +0900

    Clean up sv_phys.c a little before merging.
    
    Add some comments and make the code a little more readable so I know
    what's going on.

 nq/source/sv_phys.c |   92 ++++++++++++++++++++++++++++-----------------------
 qw/source/sv_phys.c |   90 +++++++++++++++++++++++++++----------------------
 2 files changed, 102 insertions(+), 80 deletions(-)

commit 8b78aeb
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 22 09:21:54 2011 +0900

    Add component-wise vector and quaternion comparison macros.
    
    Also, re-implement VectorCompare and QuatCompare using the new macros.
    
    VectorCompCompare and QuatCompCompare take a parameter specifying the
    comparison operator to use. All component-wise comparisons must be true
    for the whole comparison to be true.

 include/QF/mathlib.h |   12 +++++++-----
 1 file changed, 7 insertions(+), 5 deletions(-)

commit d441dc9
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 22 08:40:06 2011 +0900

    Sort the cvar declarations.
    
    The diff is still messy, but now it includes only new/old cvars, not moved
    cvars.

 nq/source/sv_phys.c |    2 +-
 qw/source/sv_phys.c |    8 ++++----
 2 files changed, 5 insertions(+), 5 deletions(-)

commit cba27bc
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 22 08:36:08 2011 +0900

    Allow NQ's SV_RunThink to loop.
    
    This brings NQ's physics a little closer to QW's. After studying both the
    original WinQuake source and the progs source, this change should be
    harmless, making very little difference. However, it does allow an
    entity's think function to be called multiple times in the same frame (for
    when the entity needs more time to think, but it would cause runaway loop
    errors). Maybe need a "runaway think" check.

 nq/source/sv_phys.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c598ce4
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Dec 20 12:52:18 2011 +0900

    Remove more of the fitzquake lerp code.
    
    Missed this bit ealier.

 nq/source/sv_phys.c |   16 ----------------
 1 file changed, 16 deletions(-)

commit 74ef056
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 21 19:25:14 2011 +0900

    Update NEWS for 0.6.0.

 NEWS |    5 +++++
 1 file changed, 5 insertions(+)

commit 858d95d
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Dec 19 16:37:48 2011 +0900

    Add a bunch more keys to the X11 clients.
    
    Now, QF does something reasonable for every key on my keyboar for which X
    gives us a keycode.

 include/QF/keys.h           |   22 ++++++++++++
 libs/video/targets/in_x11.c |   79 +++++++++++++++++++++++++++++++++++++++++++
 libs/video/targets/keys.c   |   22 ++++++++++++
 3 files changed, 123 insertions(+)

commit 4115ef5
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Dec 19 09:48:33 2011 +0900

    And now, 0.5.99beta4.1
    
    Just my luck: push the beta4 tag, and I find a patch in our patch tracker.

 NEWS |    1 +
 1 file changed, 1 insertion(+)

commit 87390f5
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Dec 19 09:45:46 2011 +0900

    Z_Realloc() should zero-fill the expandded part of the mem
    
    Patch from Ozkan Sezer (sezero). Thank you.

 libs/util/zone.c |    2 ++
 1 file changed, 2 insertions(+)

commit 0238791
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Dec 19 09:27:15 2011 +0900

    Update for beta 4

 NEWS |    3 +++
 1 file changed, 3 insertions(+)

commit 52d9269
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Dec 17 21:45:52 2011 +0900

    Merge brush model with world model rendering.
    
    With this, non-mtex global fog now works properly :).

 include/QF/GL/qf_lightmap.h          |    1 -
 include/QF/model.h                   |    3 +-
 include/QF/render.h                  |    1 +
 libs/video/renderer/gl/gl_lightmap.c |   69 +++-------
 libs/video/renderer/gl/gl_rmain.c    |    7 -
 libs/video/renderer/gl/gl_rsurf.c    |  245 ++++++++++++----------------------
 6 files changed, 103 insertions(+), 223 deletions(-)

commit a8e3545
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Dec 17 19:42:19 2011 +0900

    Implement the instance surface allocation/freeing.
    
    Not actually used yet, so it's harmless at this stage.

 libs/video/renderer/gl/gl_rsurf.c |   42 +++++++++++++++++++++++++++++++++++++
 1 file changed, 42 insertions(+)

commit 87b78e5
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Dec 17 19:14:14 2011 +0900

    Move the surface chain links out of the surfaces.
    
    The links are now in "instance surfaces". For non-instanced models (world,
    doors, plats etc (ie, world and its sub-models)), there will be one
    instance surface per model surface. However, for instanced models (ammo
    boxes etc), there will be many, dynamically allocated (not yet
    implemented). This commit gets the static instance surfaces working.

 include/QF/GL/qf_sky.h               |    2 +-
 include/QF/model.h                   |   27 ++++++-
 include/r_local.h                    |    5 +-
 libs/video/renderer/gl/gl_rmain.c    |    4 +-
 libs/video/renderer/gl/gl_rmisc.c    |   36 ++-------
 libs/video/renderer/gl/gl_rsurf.c    |  139 +++++++++++++++++++++++++++-------
 libs/video/renderer/gl/gl_sky_clip.c |   73 ++++++++++++------
 7 files changed, 196 insertions(+), 90 deletions(-)

commit 497e4b7
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Dec 17 13:26:00 2011 +0900

    Update NEWS for 0.5.99beta3.

 NEWS |   21 +++++++++++++++++++++
 1 file changed, 21 insertions(+)

commit 9f0bdf7
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Dec 17 09:39:57 2011 +0900

    Add some comments.

 libs/video/renderer/gl/gl_lightmap.c |    5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit 933120d
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Dec 16 20:09:05 2011 +0900

    Fake vertex arrays for text and particles.
    
    Getting gl_vaelements_max -1 to work produced a rather nasty surprise :P

 libs/video/renderer/gl/gl_draw.c     |   70 +++++++++++++++++++++-------------
 libs/video/renderer/gl/gl_dyn_part.c |   61 ++++++++++++++++++-----------
 2 files changed, 83 insertions(+), 48 deletions(-)

commit 5cd1f6f
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Dec 16 09:43:22 2011 +0900

    Fix a GL version check snafu.
    
    Thanks to MH (on inside3d.com) for pointing this out to me.

 libs/video/targets/vid_common_gl.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit e67690a
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Dec 16 09:21:39 2011 +0900

    Restore the missing lightmaps in non-mtex mode.
    
    I forgot to blend in the lightmaps in the fogless non-mtex path.

 libs/video/renderer/gl/gl_rsurf.c |    3 +++
 1 file changed, 3 insertions(+)

commit b2aa5ce
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 15 15:18:07 2011 +0900

    Register the textures of other brush models;

 libs/video/renderer/gl/gl_rmisc.c |   24 +++++++++++++++++++++++-
 1 file changed, 23 insertions(+), 1 deletion(-)

commit 962451e
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 15 15:07:01 2011 +0900

    Create a list of texture chains.
    
    This moves the texture chains out of the world model and into a separate
    list, allowing other brush models to registter their textures.

 include/r_local.h                 |    4 +++-
 libs/video/renderer/gl/gl_rmisc.c |   34 ++++++++++++++++++++++++++++++++--
 libs/video/renderer/gl/gl_rsurf.c |    4 ++--
 3 files changed, 37 insertions(+), 5 deletions(-)

commit d6a668d
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 15 13:49:53 2011 +0900

    Split out chain_surface() from visit_node().

 libs/video/renderer/gl/gl_rsurf.c |   50 +++++++++++++++++++++----------------
 1 file changed, 28 insertions(+), 22 deletions(-)

commit 3eb859a
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 15 12:06:03 2011 +0900

    Move the entity transform setup into the clients.
    
    This has several benifits:
      o The silly issue with alias model pitches being backwards is kept out
        of the renderer (it's a quakec thing: entites do their pitch
        backwards, but originally, only alias models were rotated. Hipnotic
        did brush entity rotations in the correct direction).
      o Angle to frame vector conversions are done only when the entity's
        angles vector changes, rather than every frame. This avoids a lot of
        unnecessary trig function calls.
      o Once transformed, an entity's frame vectors are always available.
        However, the vectors are left handed rather than right handed (ie,
        forward/left/up instead of forward/right/up): just a matter of
        watching the sign. This avoids even more trig calls (flag models in
        qw).
      o This paves the way for merging brush entity surface rendering with the
        world model surface rendering (the actual goal of this patch).
      o This also paves the way for using quaternions to represent entity
        orientation, as that would be a protocol change.

 include/QF/GL/qf_funcs_list.h           |    2 +-
 include/QF/render.h                     |    1 +
 libs/video/renderer/gl/gl_mod_sprite.c  |   14 +++---
 libs/video/renderer/gl/gl_rmain.c       |    6 +--
 libs/video/renderer/gl/gl_rsurf.c       |   13 ++----
 libs/video/renderer/sw/sw_ralias.c      |   12 ++---
 libs/video/renderer/sw/sw_rbsp.c        |   61 ++-----------------------
 libs/video/renderer/sw/sw_rmain.c       |    4 +-
 libs/video/renderer/sw/sw_rsprite.c     |    5 +-
 libs/video/renderer/sw32/sw32_ralias.c  |   12 ++---
 libs/video/renderer/sw32/sw32_rbsp.c    |   61 ++-----------------------
 libs/video/renderer/sw32/sw32_rmain.c   |    4 +-
 libs/video/renderer/sw32/sw32_rsprite.c |    5 +-
 nq/include/client.h                     |    2 +
 nq/source/cl_ents.c                     |   68 +++++++++++++++++++++------
 nq/source/cl_main.c                     |    5 +-
 nq/source/cl_parse.c                    |    6 +--
 nq/source/cl_tent.c                     |   31 +++++++++----
 nq/source/cl_view.c                     |    2 +
 qw/include/cl_ents.h                    |    2 +
 qw/source/cl_ents.c                     |   76 +++++++++++++++++++++++--------
 qw/source/cl_parse.c                    |    2 +-
 qw/source/cl_tent.c                     |   32 +++++++++----
 qw/source/cl_view.c                     |    2 +
 24 files changed, 205 insertions(+), 223 deletions(-)

commit f6ebb78
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 15 09:29:57 2011 +0900

    More GL_Init_Common() cleanup.
    
    Move the call to GL_Common_Init_Cvars() out of the block of check calls.

 libs/video/targets/vid_common_gl.c |   25 ++++++++++++++++++-------
 1 file changed, 18 insertions(+), 7 deletions(-)

commit 51aaee5
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 15 09:17:57 2011 +0900

    Put that OpenGL error message to rest.
    
    The error was quite valid: setting GL_TEXTURE_MAX_ANISOTROPY_EXT to 0 is
    incorrect. The problem was caused by the call to glTexParameterf being
    before the gl_anisotropy cvar was initialized. Thus, move all of the setup
    code in GL_Init_Common() to after all the checks and, more importantly,
    after the call to GL_Common_Init_Cvars().

 libs/video/targets/vid_common_gl.c |   18 +++++++++---------
 1 file changed, 9 insertions(+), 9 deletions(-)

commit e9ab230
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Thu Dec 15 00:13:56 2011 -0500

    Docs: minor cleanups

 doc/config.dox |   13 ++++++-------
 doc/faq.dox    |   14 +++++++-------
 2 files changed, 13 insertions(+), 14 deletions(-)

commit 69aa6c0
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Wed Dec 14 23:06:36 2011 -0500

    Work around an apparent Doxygen 1.7.6 bug.
    
    For some reason, the construct \c " in config.dox makes the custom \QF
    command fail to work for the rest of the file, and escaping the quote
    doesn't help. Work around for now by using words.

 doc/config.dox |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 1c59011
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Wed Dec 14 23:02:21 2011 -0500

    Docs: make sure the nav-tree is black, dammit.

 doc/doxygen.css |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 7d6430e
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Wed Dec 14 20:33:33 2011 -0500

    Rua: move the old cvar() and cvar_set() functions
    
    Move the old cvar get/set funcs to cvar.[rh] from system.[rh].

 ruamoko/include/cvar.h   |    3 +++
 ruamoko/include/system.h |    2 --
 ruamoko/lib/cvar.r       |    3 +++
 ruamoko/lib/system.r     |    2 --
 4 files changed, 6 insertions(+), 4 deletions(-)

commit 6ead583
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Wed Dec 14 12:20:10 2011 -0500

    Ruamoko: Implement infinity.
    
    The special token __INFINITY__, like __FILE__ and friends, will expand to
    a floating-point expression containing a value the C compiler considers
    infinite. Obviously, this assumes that the system has relatively modern
    float hardware -- but if it doesn't, having Ruamoko be able to represent
    float infinity is the least of your problems. :)

 ruamoko/include/math.h   |   14 +++++++++++---
 tools/qfcc/source/expr.c |    5 +++++
 2 files changed, 16 insertions(+), 3 deletions(-)

commit da552e3
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Dec 13 21:25:41 2011 +0900

    Remove execinfo checks.
    
    It seems we no longer need it (if we ever really did).

 config.d/header_files.m4         |    2 +-
 libs/video/targets/context_x11.c |    3 ---
 2 files changed, 1 insertion(+), 4 deletions(-)

commit 4b515a9
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Dec 13 16:57:45 2011 +0900

    Back out the fitzquake lerp changes.
    
    That's not the direction I wish to take the renderer.

 include/QF/render.h                   |   23 +-
 libs/video/renderer/gl/gl_mod_alias.c |  395 +++++++++++++++------------------
 nq/include/protocol.h                 |    4 +
 nq/source/cl_ents.c                   |   21 +-
 nq/source/cl_parse.c                  |   56 +++--
 nq/source/cl_tent.c                   |    2 +-
 qw/source/cl_ents.c                   |    2 +-
 qw/source/cl_tent.c                   |    2 +-
 8 files changed, 224 insertions(+), 281 deletions(-)

commit b38cb1e
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Dec 13 14:15:03 2011 +0900

    Create some nicer docs for AngleVectors.

 include/QF/mathlib.h |   51 ++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 51 insertions(+)

commit b05be59
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Dec 12 15:18:51 2011 +0900

    Fix alias models in non-mtex fog.
    
    It turns out that due to the way we do fullbrights, nothing special needs
    to be done to get the fullbright texture blended with the model even when
    fog is enabled.

 libs/video/renderer/gl/gl_mod_alias.c |    4 ----
 1 file changed, 4 deletions(-)

commit 8e531a5
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Dec 12 14:35:53 2011 +0900

    Get global fog working for multi-pass rendering.
    
    For the world textures, anyway. Entity multi-pass rendering still needs to
    be verified.

 libs/video/renderer/gl/gl_rsurf.c |   98 +++++++++++++++++++++++++++++++------
 1 file changed, 82 insertions(+), 16 deletions(-)

commit ab2fe9f
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Dec 12 14:30:23 2011 +0900

    Remove the mvd timeskip code.
    
    After discussing things with Spike of FTE, it seems that not many clients
    handle zero length mvd packets particularly well. While it the skip code
    might be useful for qtv, getting the packets into one but not the other
    seems to be not worth the effort at this stage.

 qw/source/sv_recorder.c |   13 ++-----------
 1 file changed, 2 insertions(+), 11 deletions(-)

commit 60c9d05
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Dec 12 08:57:17 2011 +0900

    Hipnotic/Rogue weapon mask comments and cleanup.
    
    This too has been sitting around for a while. Taken from fitzquake.

 nq/source/cl_parse.c |    1 +
 nq/source/sv_main.c  |    9 ++++++++-
 2 files changed, 9 insertions(+), 1 deletion(-)

commit d32fa83
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Dec 11 18:40:02 2011 +0900

    Make links to the cvar/cmd lists.

 doc/config.dox |   18 ++++++++++++++++++
 1 file changed, 18 insertions(+)

commit 6ac0178
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Dec 11 17:15:33 2011 +0900

    Pretend to be MVDSV for ktpro.

 qw/source/sv_pr_qwe.c |   18 ++++++++++++++++++
 1 file changed, 18 insertions(+)

commit f7cfd5b
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Dec 11 11:01:05 2011 +0900

    Update NEWS.

 NEWS |   17 +++++++++++++++++
 1 file changed, 17 insertions(+)

commit 0e76e1b
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Dec 10 21:37:32 2011 +0900

    Sign extend the size read from the download packet.
    
    This fixes qw-client "hanging" on a missing download file. Hopefully fixes
    the OpenBSD crash, too.

 qw/source/cl_parse.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 2061996
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Dec 10 20:45:33 2011 +0900

    Fix a stray CFLAGS.
    
    Should be AM_CFLAGS.

 libs/audio/Makefile.am |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit cc93782
Author: Antti Harri <iku@openbsd.fi>
Date:   Sat Dec 10 13:33:20 2011 +0200

    Propagate flags set in pthread.m4 to nq and qw sources. Removes the need
    to have -pthread in CFLAGS on OpenBSD.

 nq/source/Makefile.am |    3 ++-
 qw/source/Makefile.am |    3 ++-
 2 files changed, 4 insertions(+), 2 deletions(-)

commit c3d4132
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Dec 10 16:14:25 2011 +0900

    Do key dest changing properly.
    
    key_demo wasn't so well thought out. This seems to be much better (and nq
    is known to be working nicely).

 include/QF/keys.h         |    6 +++---
 libs/console/client.c     |   28 +++++++++-------------------
 libs/console/menu.c       |   21 +++++++--------------
 libs/video/targets/keys.c |   45 +++++++++++++++++++++------------------------
 nq/source/cl_demo.c       |    6 ++++--
 nq/source/cl_main.c       |   14 +++-----------
 nq/source/sbar.c          |    4 ++--
 qw/source/cl_demo.c       |    5 +++++
 qw/source/cl_main.c       |   11 ++---------
 qw/source/sbar.c          |    4 ++--
 10 files changed, 58 insertions(+), 86 deletions(-)

commit 16c8b2a
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Dec 10 15:18:50 2011 +0900

    Use the new demo imt.
    
    There are some problems with menus and the console messing up the key_dest
    state (they assume console/menu or game, nothing else), but otherwise
    things seem to work.

 libs/console/client.c |    1 +
 nq/source/cl_demo.c   |    4 ++--
 nq/source/cl_main.c   |    9 +++++++--
 nq/source/sbar.c      |    6 ++++--
 qw/source/cl_main.c   |    9 +++++++--
 qw/source/sbar.c      |    6 ++++--
 6 files changed, 25 insertions(+), 10 deletions(-)

commit 3ae17e4
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Dec 10 14:49:56 2011 +0900

    Fix a silly omission.
    
    Must not check for IMT_MOD bindings when using IMT_CONSOLE etc.

 libs/video/targets/keys.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 81a16c9
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Dec 10 14:21:12 2011 +0900

    Add IMT_DEMO for demo playback bindings.
    
    This will allow special key bindings for use during demo playback without
    interfering with normal keys.

 include/QF/keys.h         |    2 ++
 libs/video/targets/keys.c |   53 +++++++++++++++++++++++++++++++++++----------
 2 files changed, 43 insertions(+), 12 deletions(-)

commit 14d8e86
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Dec 10 13:56:02 2011 +0900

    Rework the legacy bind/unbind commands.
    
    in_bind_imt is now gone. I guess mercury was right in that it was a poor
    design. However, it was (and still is necessary) to support "bind" and
    "unbind". Now, instead, they work only with the IMT_MOD table. IMT_MOD sits
    below IMT_0 in the imt hierarchy. If the key is not bound in IMT_0+, then
    IMT_MOD will be checked. This way, "bind" and "unbind" can never mess with
    a user's more sophisticated binding setup.

 include/QF/keys.h         |    1 +
 libs/video/targets/keys.c |   40 +++++++++-------------------------------
 2 files changed, 10 insertions(+), 31 deletions(-)

commit 49451ee
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Dec 10 13:22:36 2011 +0900

    Use the new menu/console bingings.
    
    Now, the console toggle will always work (so long as the console is
    toggleable in the first place).

 libs/console/client.c     |   51 +++++++++++++++++++++++++--------------------
 libs/video/targets/keys.c |    2 +-
 2 files changed, 29 insertions(+), 24 deletions(-)

commit d9d5676
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Dec 10 13:10:28 2011 +0900

    Add cvars to control the keys for menus and console.
    
    The backquote is not always usable for toggling the console, and the new
    bind system doesn't automatically bind a key to both game and console imts
    (by design). Thus create a cvar that allows the "always works" console
    toggle to be specified in eg $fs_globalcfg. While I'm at it, do one for the
    menus, too.

 include/QF/keys.h         |    2 ++
 libs/video/targets/keys.c |   41 +++++++++++++++++++++++++++++++++++++++++
 2 files changed, 43 insertions(+)

commit 4f4d6b5
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Fri Dec 9 22:42:43 2011 -0500

    OK, now import them...
    
    Duh.

 ruamoko/lib/math.r |    4 ++++
 1 file changed, 4 insertions(+)

commit 361255c
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Fri Dec 9 22:36:41 2011 -0500

    Ruamoko: New math constants, some new math functions
    
    Also, switch all of the math builtins functions we use from Rua to the
    ones that accept and return floats, avoiding conversions to/from double.

 libs/ruamoko/rua_math.c |   60 ++++++++++++++++------
 ruamoko/include/math.h  |  128 +++++++++++++++++++++++++++++++++++++++--------
 2 files changed, 151 insertions(+), 37 deletions(-)

commit 054e525
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Dec 9 18:41:52 2011 +0900

    Revive the loading plaque.
    
    At the request of scar3crow.

 nq/include/client.h   |    2 ++
 nq/source/cl_main.c   |    5 ++++-
 nq/source/cl_screen.c |   13 +++++++++++++
 nq/source/host.c      |    2 +-
 nq/source/host_cmd.c  |   11 ++++++-----
 5 files changed, 26 insertions(+), 7 deletions(-)

commit 8516891
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Dec 9 11:27:46 2011 +0900

    Edit the package version when building a release.

 tools/build_scripts/qf-release |    4 ++++
 1 file changed, 4 insertions(+)

commit 2edac1a
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 8 22:16:59 2011 +0900

    Nuke a sprintf.

 libs/net/nc/net_udp6.c |   10 ++++++----
 1 file changed, 6 insertions(+), 4 deletions(-)

commit 693d518
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 8 22:10:20 2011 +0900

    Ignore the test programs.

 .gitignore |   14 ++++++++++++--
 1 file changed, 12 insertions(+), 2 deletions(-)

commit 1c82956
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 8 21:50:55 2011 +0900

    net_udp.c FIONREAD fix from Ozkan Sezer.
    
    net_udp.c: Fixed FIONREAD ioctl to take an int* argument instead of an
    unsigned long*.

 libs/net/nm/net_udp.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 9e3db08
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 8 20:10:29 2011 +0900

    Update NEWS

 NEWS |   59 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 59 insertions(+)

commit b4a3878
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 8 17:30:44 2011 +0900

    Expand the tabs.

 NEWS |  120 +++++++++++++++++++++++++++++++++---------------------------------
 1 file changed, 60 insertions(+), 60 deletions(-)

commit 8aa5a81
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 8 14:59:35 2011 +0900

    Split out the portal sanity tests.
    
    With this, the portal code can be tested separately, including the freeing
    of the portal information.

 libs/models/test/Makefile.am   |    6 +-
 libs/models/test/testclip.c    |  195 ++++++++++++++--------------------------
 libs/models/test/testportals.c |  181 +++++++++++++++++++++++++++++++++++++
 3 files changed, 255 insertions(+), 127 deletions(-)

commit f9877ce
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 8 14:58:08 2011 +0900

    Add a function to free a hull's portal information.

 include/world.h      |    1 +
 libs/models/portal.c |   52 ++++++++++++++++++++++++++++++++++++++++++++------
 2 files changed, 47 insertions(+), 6 deletions(-)

commit d3cf5c4
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 8 11:32:33 2011 +0900

    Beg for mmap access.
    
    If the default sound device does not support mmap access, retry with
    plughw. However, assume the user knows best and do not retry if snd_device
    has been set to anything, including "default".
    
    QF alsa support now works out of the box with pulseaudio.

 libs/audio/targets/snd_alsa.c |   10 ++++++++--
 1 file changed, 8 insertions(+), 2 deletions(-)

commit 45288a1
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 8 11:02:19 2011 +0900

    Fix the ghastly sound quality.
    
    Due to quake's original sound engine using a push model, the actual place
    to which the sound data should be written is not necessarily where the
    "hardware" dma cursor is, but rather where the last write finished off.
    Thus, the correct output location is indicated by snd_paintedtime rather
    than snd_shm->framepos.

 libs/audio/renderer/snd_dma.c |    2 +-
 libs/audio/targets/snd_alsa.c |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit fceed07
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 8 08:45:53 2011 +0900

    Tidy up my diagrams.

 libs/models/test/hulls.c |   82 ++++++++++++++++++++++------------------------
 1 file changed, 40 insertions(+), 42 deletions(-)

commit 9f32004
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 7 17:26:54 2011 +0900

    Add a fixme.
    
    I've had enough of this for the moment, but I'm pretty sure the test needs
    some more consideration, and I'll probably forget about it if I don't mark
    it.

 libs/models/trace.c |    6 ++++++
 1 file changed, 6 insertions(+)

commit 2a27db1
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 7 15:35:19 2011 +0900

    Use a bit of epsilon in trace_contents().
    
    All tests pass again.

 libs/models/trace.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 66dffef
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 7 15:31:33 2011 +0900

    Get trace_to_leaf working a little better.
    
    I think the recursion decision needs a little more work, but this gets the
    current tests working (though there's still a failure due to fp math).

 libs/models/test/testclip.c |    7 +++++--
 libs/models/trace.c         |   20 ++++++++++++++------
 2 files changed, 19 insertions(+), 8 deletions(-)

commit ccbc69a
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 7 13:31:21 2011 +0900

    Carve out some more cave and add some more tests.
    
    One of them even breaks the code :)

 libs/models/test/hulls.c    |   32 +++++++++++++++++++++-----------
 libs/models/test/testclip.c |    8 ++++++--
 2 files changed, 27 insertions(+), 13 deletions(-)

commit 4ed8b69
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 7 12:20:04 2011 +0900

    Check the cross product length before testing its direction.
    
    This fixes the bogus portal crossings.

 libs/models/trace.c |    2 ++
 1 file changed, 2 insertions(+)

commit 5af88d3
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 7 12:17:51 2011 +0900

    Trace to the current portal rather than the portal's plane.

 libs/models/trace.c |   15 ++++++++-------
 1 file changed, 8 insertions(+), 7 deletions(-)

commit 9d29144
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 7 12:16:58 2011 +0900

    Fix the edge vectors when bounding the portal points.

 libs/models/test/testclip.c |    2 ++
 1 file changed, 2 insertions(+)

commit 6a40215
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 7 10:54:37 2011 +0900

    Move the box face info into trace_state and init only once.
    
    Then clean up the mess of excess function paramenters.

 libs/models/trace.c |   52 +++++++++++++++++++++++++--------------------------
 1 file changed, 25 insertions(+), 27 deletions(-)

commit fc14826
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 7 10:42:39 2011 +0900

    Reorganize the code a little.

 libs/models/trace.c |  192 +++++++++++++++++++++++++--------------------------
 1 file changed, 96 insertions(+), 96 deletions(-)

commit 4f13d19
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 7 10:35:58 2011 +0900

    Optimize edges_intersect().
    
    I found wolfram's line-line intersection page and noticed their equation
    for the time of intersection was rather different to mine. After analyzing
    the differences, it turns out they produce exactly the same results (when
    the lines are coplanar), but their method allows me to eliminate one dot
    product (4->3). Not only that, but it turns out that their method works
    equally well for skew lines (ie, non-coplanar).
    
    mine:
      CxA.CxA
      -------
      CxA.AxB
    
    theirs:
      CxA.AxB
      -------
      AxB.AxB

 libs/models/trace.c |   11 +++++------
 1 file changed, 5 insertions(+), 6 deletions(-)

commit ff693a9
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Dec 6 22:09:40 2011 +0900

    Avoid missed portals in trace_to_leaf().

 libs/models/trace.c |    7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

commit 8c840a7
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Dec 6 22:06:25 2011 +0900

    Sanitize trace_hits_plane().
    
    While unit normals aren't needed, they were too big for sane math. Now
    epsilon can be used for the distance tests. One of the two new tests passes
    now :).

 libs/models/trace.c |   15 ++++++++++++++-
 1 file changed, 14 insertions(+), 1 deletion(-)

commit 2b65f81
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Dec 6 20:50:09 2011 +0900

    Use a saner "infinity".
    
    8e6 is just too big for reasonable floating point.
    This fixes the bogus portals.

 libs/models/winding.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 632817f
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Dec 6 20:48:31 2011 +0900

    Fail properly when the portals are bogus.

 libs/models/test/testclip.c |   38 +++++++++++++++++++-------------------
 1 file changed, 19 insertions(+), 19 deletions(-)

commit f496f4d
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Dec 6 20:47:57 2011 +0900

    Whee, more tests that break things :)

 libs/models/test/hulls.c    |   32 ++++++++++++++++++++++++++++++++
 libs/models/test/hulls.h    |    1 +
 libs/models/test/testclip.c |    5 +++++
 3 files changed, 38 insertions(+)

commit 8fe703d
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Dec 6 17:27:05 2011 +0900

    Trace to adjoining leafs when necessary.
    
    When the trace stradles a plane in the current leaf, check the other side
    of the portal, too, as it is possible that leaf will restrict the movement
    of the trace.
    
    All current tests pass! However, I can think of some situations (and I
    already have a solution) where things will fail, but that's next.

 libs/models/trace.c |   28 ++++++++++++++++++++--------
 1 file changed, 20 insertions(+), 8 deletions(-)

commit 4c17ca9
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Dec 6 08:46:04 2011 +0900

    Break out trace_hits_portal() from trace_enters_leaf().

 libs/models/trace.c |   64 +++++++++++++++++++++++++++++----------------------
 1 file changed, 36 insertions(+), 28 deletions(-)

commit 9a9079a
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Dec 5 21:51:33 2011 +0900

    Correct the start-solid in a corner test.
    
    It turns out that the box trace CAN get out of the solid from that location
    (though a similar point trace can not). This is because of my decision to
    allow non-points to touch a plane from either side without crossing the
    plane, whereas a point touching a plane is always considered to be on the
    front side of the plane as there is no further information to disambiguate
    on which side of the plane the point is.

 libs/models/test/testclip.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 4419d4c
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Dec 5 21:47:21 2011 +0900

    Move the trace into the leaf before testing the contents.
    
    The trace is moved as far into the leaf as possible without leaving the
    other side of the leaf. This ensures that trace_contents is started from a
    good location. There is currently a problem with traces that stradle a
    plane getting, but this has cleared up all the current contents related
    tests.

 libs/models/trace.c |   43 +++++++++++++++++++++++++++++++++++++------
 1 file changed, 37 insertions(+), 6 deletions(-)

commit c588d28
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Dec 5 14:18:47 2011 +0900

    Clear contents flags before calling trace_contents.

 libs/models/trace.c |    1 +
 1 file changed, 1 insertion(+)

commit 8307d9f
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Dec 5 14:18:13 2011 +0900

    Rename check_in_leaf to trace_enters_leaf.

 libs/models/trace.c |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 3bd029d
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Dec 5 09:34:43 2011 +0900

    Make the contents flags clear.
    
    I got tired of not being able to remember which flag was which in the
    output.

 libs/models/test/testclip.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 8e512a0
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Dec 5 09:03:04 2011 +0900

    More failing contents tests.
    
    However, I have a plan :)

 libs/models/test/testclip.c |    4 ++++
 1 file changed, 4 insertions(+)

commit b4a497b
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Dec 4 21:12:12 2011 +0900

    Correctly restore the saved start point.
    
    This fixes the point test failures.

 libs/models/test/testclip.c |    8 +++++++-
 libs/models/trace.c         |    4 +---
 2 files changed, 8 insertions(+), 4 deletions(-)

commit 7da6df9
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Dec 4 19:14:35 2011 +0900

    Use the "real" contents of the trace's location when visiting a leaf.
    
    When visiting a leaf in box mode, use trace_contents() to get the highest
    priority contents of any leafs touched by the box in the current location.
    I'm now down to one failing test case, and it's an "allsolid" issue that
    might be an incorrect assumption in my test case.

 libs/models/trace.c |   23 ++++++++++++++++-------
 1 file changed, 16 insertions(+), 7 deletions(-)

commit 053d801
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Dec 4 18:52:17 2011 +0900

    Break out the leaf visit code into its own funciton.

 libs/models/trace.c |  125 ++++++++++++++++++++++++++++++---------------------
 1 file changed, 74 insertions(+), 51 deletions(-)

commit 4e76aa3
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Dec 4 12:46:22 2011 +0900

    Don't split on a plane parallel to the motion.
    
    This seems to improve the start/all solid cases a little, and it should
    speed things up a little by avoiding unnecessary polygon tests.

 libs/models/trace.c |    4 ++++
 1 file changed, 4 insertions(+)

commit ed8e096
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Dec 4 12:11:27 2011 +0900

    Fix the negative fractions coming from edge_portal_dist().
    
    I have a better fix in the works, but I wanted edge_portal_dist() to be
    correct.

 libs/models/trace.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit e5903a6
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Dec 4 11:00:38 2011 +0900

    Put the mistaken test case back in.

 libs/models/test/testclip.c |    2 ++
 1 file changed, 2 insertions(+)

commit eb5d272
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Dec 4 10:55:46 2011 +0900

    Avoid a segfault when there's no split plane.

 libs/models/trace.c |    9 +++++++--
 1 file changed, 7 insertions(+), 2 deletions(-)

commit cdfc922
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Dec 4 10:47:52 2011 +0900

    Fix a silly test case error.

 libs/models/test/testclip.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 487a6b2
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Dec 4 09:02:12 2011 +0900

    Test collisions with a ridge smaller than the box.
    
    Whee, found a failing test case :)

 libs/models/test/hulls.c        |   29 +++++++++++++++++++++++++++++
 libs/models/test/hulls.h        |    1 +
 libs/models/test/testclip.c     |    3 +++
 libs/models/test/testcontents.c |    5 +++++
 4 files changed, 38 insertions(+)

commit 55eb88b
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Dec 3 22:09:11 2011 +0900

    Create some tests for MOD_HullContents.

 libs/models/test/Makefile.am    |    6 +-
 libs/models/test/testcontents.c |  155 +++++++++++++++++++++++++++++++++++++++
 libs/models/trace.c             |    3 +-
 3 files changed, 162 insertions(+), 2 deletions(-)

commit 581972c
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Dec 3 21:13:01 2011 +0900

    More file splitting for code reuse.

 libs/models/test/Makefile.am |    2 +-
 libs/models/test/main.c      |   55 ++++++++++++++++++++++++++++++++++++++++++
 libs/models/test/testclip.c  |   54 +----------------------------------------
 3 files changed, 57 insertions(+), 54 deletions(-)

commit dadfb78
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Dec 3 20:20:33 2011 +0900

    Split out the hull data so it can be used in other tests.

 libs/models/test/Makefile.am |    4 +-
 libs/models/test/hulls.c     |  277 +++++++++++++++++++++++++++++++++++++++++
 libs/models/test/hulls.h     |   12 ++
 libs/models/test/testclip.c  |  279 +-----------------------------------------
 4 files changed, 293 insertions(+), 279 deletions(-)

commit 9ad298a
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Dec 3 19:59:12 2011 +0900

    Check whether the portal and box intersect.
    
    Now on to creating tests for MOD_HullContents :)

 libs/models/trace.c |  129 ++++++++++++++++++++++++++++++++++++++++++++++++++-
 1 file changed, 128 insertions(+), 1 deletion(-)

commit d9a641c
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Dec 3 09:06:57 2011 +0900

    Avoid a segfault when the hull hasn't been portalized.
    
    Serves me right for forgetting to test the main engine :P

 libs/models/trace.c |   12 ++++++++----
 1 file changed, 8 insertions(+), 4 deletions(-)

commit 27642a0
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 1 12:57:06 2011 +0900

    Avoid infinite recursion.

 include/world.h     |    1 +
 libs/models/trace.c |   13 +++++++++++--
 2 files changed, 12 insertions(+), 2 deletions(-)

commit f9d56f2
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 1 12:26:33 2011 +0900

    Add MOD_HullContents().
    
    If trace is null or point type, or the hull doesn't have portals, or the
    first node is a leaf, MOD_HullContents operates in point mode (exactly the
    same way as SV_HullPointContents()). However, in box mode, all leafs
    touched by the trace are checked for their contents. The contents field of
    trace (a bit field) will indicate the contents type of all touched leafs.
    The returned contents value indicates the most important contents:
    
        solid > lava > slime > water > empty
    
    The one's complement value of the contents type is the bit number of the
    contents bit field. I'm not sure how useful this will be as getting the
    amount of overlap is currently not supported.

 include/world.h     |    3 +++
 libs/models/trace.c |   70 +++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 73 insertions(+)

commit 7ee31dd
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Nov 28 20:51:20 2011 +0900

    Allow the trace start to be in multiple leafs.
    
    This fixes a couple of in-solid tests, but something better is needed.

 libs/models/trace.c |   11 +++++++----
 1 file changed, 7 insertions(+), 4 deletions(-)

commit 13d37f4
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Nov 28 20:28:37 2011 +0900

    Add a bunch of in-solid tests.
    
    Tests where the box is only partially in a solid tend to fail (particularly
    when the solid is on the back side of the split plane).

 libs/models/test/testclip.c |   32 +++++++++++++++++++++++---------
 1 file changed, 23 insertions(+), 9 deletions(-)

commit 50b08c9
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Nov 28 19:07:00 2011 +0900

    Add some snug-fit tests and fix the uncovered bugs.
    
    The tests involve the box fitting into a hole with zero slop (this would be
    impossible with point clipping).

 libs/models/test/testclip.c |   54 +++++++++++++++++++++++++++++++++++++++++++
 libs/models/trace.c         |   21 +++++++++++------
 2 files changed, 68 insertions(+), 7 deletions(-)

commit 985667e
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Nov 28 17:12:39 2011 +0900

    Fix plane touching box backsideness.
    
    Because a box has size, even when touching a plane, the side on which the
    box is can be determined (unlike a point).

 libs/models/test/testclip.c |    4 ++++
 libs/models/trace.c         |    8 +++++---
 2 files changed, 9 insertions(+), 3 deletions(-)

commit 869cd19
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Nov 28 17:06:04 2011 +0900

    Box traces can now graze a corner.

 libs/models/test/testclip.c |    3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit 45d55d7
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Nov 28 17:03:56 2011 +0900

    Test the simple wedge.

 libs/models/test/testclip.c |   11 ++++++++++-
 1 file changed, 10 insertions(+), 1 deletion(-)

commit 2c9b07b
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Nov 28 10:09:24 2011 +0900

    Scale the box edge vectors.
    
    Now they represent the lengths of the edges as expected by the edge/polygon
    code.

 libs/models/trace.c |   10 +++++++++-
 1 file changed, 9 insertions(+), 1 deletion(-)

commit 60dbc0e
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Nov 28 09:24:13 2011 +0900

    Fix the last few bugs breaking the distance code.
    
    The code itself seems to work now. There are still some problems: the box
    faces are using unit vectors for the edges, or I should go back to unit
    vectors for the portal edges; starting in a solid corner won't always work;
    etc. However, that's just mopping up: the main algorithm seems to be
    working.

 libs/models/trace.c |   12 ++++++------
 1 file changed, 6 insertions(+), 6 deletions(-)

commit 996859c
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Nov 28 09:02:16 2011 +0900

    Correct the projection code.
    
    That needed to be the intersection of two coplanar lines.

 libs/models/trace.c |   18 +++++++++---------
 1 file changed, 9 insertions(+), 9 deletions(-)

commit ab2ec64
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Nov 28 08:57:42 2011 +0900

    Clip the portals when running the test cases.
    
    When the portals are too big, floats break down and break the tests. This
    might not be much of an issue in real maps, but my tests use "infinite"
    planes.

 libs/models/test/testclip.c |    8 ++++++++
 1 file changed, 8 insertions(+)

commit 2abff68
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Nov 27 21:04:08 2011 +0900

    Fix some more silly bugs.
    
    The target test now works, but some others have broken due to getting
    negative fractions.

 libs/models/trace.c |   11 ++++++-----
 1 file changed, 6 insertions(+), 5 deletions(-)

commit a1da8ec
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Nov 27 19:38:03 2011 +0900

    Fix some silly errors that broke most of the box tests.
    
    Uninitialized variables and crossed signs. Oops :/

 libs/models/trace.c |   17 ++++++++++-------
 1 file changed, 10 insertions(+), 7 deletions(-)

commit 8fc9956
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Nov 27 18:50:57 2011 +0900

    Add code to clip the motion of the box to the leaf's portals.
    
    Unfortunately, something is broken (all box tests fail due to 0 fraction).

 libs/models/trace.c |  277 ++++++++++++++++++++++++++++++++++++++++++++++++++-
 1 file changed, 274 insertions(+), 3 deletions(-)

commit 5ee552e
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Nov 27 17:41:32 2011 +0900

    Don't normalize the portal edge vectors.
    
    This simplifies the collision handling code.

 include/QF/winding.h  |    5 +++--
 libs/models/portal.c  |    2 +-
 libs/models/winding.c |    5 +++--
 3 files changed, 7 insertions(+), 5 deletions(-)

commit 174f381
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Nov 27 14:22:32 2011 +0900

    Add some more tests for the ramp.
    
    These tests pass, but show the basic polygon testing working (just not the
    collision handling and thus fraction determination).

 libs/models/test/testclip.c |    4 ++++
 1 file changed, 4 insertions(+)

commit 750b5ba
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Nov 27 14:19:05 2011 +0900

    Be a little more lenient with float comparisons.
    
    Unfortunately, Pythagorus and binary don't play well together, so rounding
    errors are inevetible when testing with a slope. However, 1e-6 seems to be
    a good epsilon (printf's %g hides it nicely :).

 libs/models/test/testclip.c |    9 ++++++++-
 1 file changed, 8 insertions(+), 1 deletion(-)

commit 3a38629
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Nov 26 11:31:15 2011 +0900

    Add Vector3Scale macro.
    
    Vector3Scale individually scales the components of one vector by the
    components of another vector.

 include/QF/mathlib.h |    6 ++++++
 1 file changed, 6 insertions(+)

commit 4044f9d
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Nov 20 20:11:44 2011 +0900

    Shrink the default winding size.
    
    The minimum number of points on a valid winding is 3, and the most common
    will be 4 (especially useful for static structures).

 include/QF/winding.h |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 73b93ff
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Nov 20 14:56:07 2011 +0900

    Clean up the in_leaf test line.

 libs/models/trace.c |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit e3d8394
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Nov 20 14:18:05 2011 +0900

    Use the split_plane for the in-leaf test.
    
    This seems to work better (all previously working tests pass again), but
    the target test is still broken.

 libs/models/trace.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 7b59eaf
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Nov 20 14:14:42 2011 +0900

    Use the correct vector for the plane distance.
    
    Oops :)

 libs/models/trace.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit cde0bbb
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Nov 20 12:02:56 2011 +0900

    For now, don't use box clipping for point traces.
    
    Until I figure out how I want to handle zero sized boxes, don't test them.

 libs/models/test/testclip.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit fd5aee1
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Nov 20 09:33:57 2011 +0900

    Use the portals to check leaf validity.
    
    If the trace hits a portal on the plane that brought us to the leaf, then
    we actually are in the leaf (otherwise, we shouldn't be here and thus
    should ignore the leaf). At least, that's my thinking.
    
    Many point tests fail (but they're really using box clipping with a zero
    sized box) and two box tests fail.

 libs/models/trace.c |   79 ++++++++++++++++++++++++++++++++++++++++++++++-----
 1 file changed, 72 insertions(+), 7 deletions(-)

commit 297275e
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 15 20:21:49 2011 +0900

    Create edge information for the portals.

 include/world.h             |    1 +
 libs/models/portal.c        |   16 ++++++++++++++++
 libs/models/test/testclip.c |   10 ++++++++--
 3 files changed, 25 insertions(+), 2 deletions(-)

commit 662c04d
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 15 20:21:08 2011 +0900

    Add a function to obtain the unit vectors of a winding's edges.

 include/QF/winding.h  |    9 +++++++++
 libs/models/winding.c |   18 ++++++++++++++++++
 2 files changed, 27 insertions(+)

commit e41da2f
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 15 13:26:13 2011 +0900

    Store the start fraction and position in the right stack slot.
    
    Oops. Yay, valgrind.

 libs/models/trace.c |    7 ++++---
 1 file changed, 4 insertions(+), 3 deletions(-)

commit d61cb25
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 15 12:57:08 2011 +0900

    Add code to rebuild the bsp brushes.
    
    Names and locations of declarations are still up in the air, but things
    seem to be working assuming my test code is correct.

 include/QF/model.h          |    1 +
 include/world.h             |   18 +++++
 libs/models/Makefile.am     |    2 +-
 libs/models/portal.c        |  181 +++++++++++++++++++++++++++++++++++++++++++
 libs/models/test/testclip.c |  164 +++++++++++++++++++++++++++++++--------
 5 files changed, 333 insertions(+), 33 deletions(-)

commit 853bf13
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Nov 14 15:46:39 2011 +0900

    Move the winding code into libQFmodels.

 config.d/build_control.m4       |    2 +-
 include/QF/Makefile.am          |    2 +-
 include/QF/winding.h            |  134 +++++++++++++++++
 libs/models/Makefile.am         |    2 +-
 libs/models/test/testclip.c     |   18 +--
 libs/models/winding.c           |  312 +++++++++++++++++++++++++++++++++++++++
 tools/qfbsp/include/Makefile.am |    2 +-
 tools/qfbsp/include/bsp5.h      |    2 +-
 tools/qfbsp/include/winding.h   |  133 -----------------
 tools/qfbsp/source/Makefile.am  |    3 +-
 tools/qfbsp/source/brush.c      |    1 -
 tools/qfbsp/source/csg4.c       |    1 -
 tools/qfbsp/source/merge.c      |    1 -
 tools/qfbsp/source/outside.c    |    1 -
 tools/qfbsp/source/portals.c    |    1 -
 tools/qfbsp/source/readbsp.c    |    1 -
 tools/qfbsp/source/region.c     |    1 -
 tools/qfbsp/source/solidbsp.c   |    1 -
 tools/qfbsp/source/surfaces.c   |    1 -
 tools/qfbsp/source/tjunc.c      |    1 -
 tools/qfbsp/source/winding.c    |  311 --------------------------------------
 21 files changed, 461 insertions(+), 470 deletions(-)

commit 91e65b6
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Nov 14 11:18:22 2011 +0900

    Rename mplane_t to plane_t and clean up the mess.
    
    I got rather tired of there being multiple definitions of mostly compatible
    plane types (and I need a common type anyway). dplane_t still exists for
    now because I want to be careful when messing with the actual bsp format.

 include/QF/mathlib.h                  |    4 ++--
 include/QF/model.h                    |    8 ++++----
 include/QF/qtypes.h                   |    4 ++--
 include/r_local.h                     |    4 ++--
 include/world.h                       |    8 +-------
 libs/models/brush/model_brush.c       |    4 ++--
 libs/models/clip_hull.c               |    6 +++---
 libs/models/trace.c                   |    8 ++++----
 libs/util/mathlib.c                   |    6 +++---
 libs/video/renderer/gl/gl_rmain.c     |    4 ++--
 libs/video/renderer/gl/gl_rsurf.c     |    4 ++--
 libs/video/renderer/r_efrag.c         |    2 +-
 libs/video/renderer/r_light.c         |   16 ++++++++--------
 libs/video/renderer/sw/sw_rbsp.c      |   10 +++++-----
 libs/video/renderer/sw/sw_rdraw.c     |    8 ++++----
 libs/video/renderer/sw/sw_rmain.c     |    2 +-
 libs/video/renderer/sw/sw_rmisc.c     |    2 +-
 libs/video/renderer/sw32/sw32_rbsp.c  |   10 +++++-----
 libs/video/renderer/sw32/sw32_rdraw.c |    8 ++++----
 libs/video/renderer/sw32/sw32_rmain.c |    2 +-
 libs/video/renderer/sw32/sw32_rmisc.c |    2 +-
 nq/source/sv_main.c                   |    2 +-
 nq/source/world.c                     |    8 ++++----
 qw/source/pmovetst.c                  |    8 ++++----
 qw/source/sv_ents.c                   |    2 +-
 qw/source/world.c                     |    8 ++++----
 tools/qfbsp/include/bsp5.h            |    6 ------
 tools/qfvis/include/vis.h             |    5 -----
 28 files changed, 72 insertions(+), 89 deletions(-)

commit 2f23cfa
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Nov 14 09:26:31 2011 +0900

    Add a new (failing) test case.
    
    This one demonstrates the need for more information in the bsp tree
    (surface polygons). When the box collides with a corner where one side is
    flat and the other angled, but there's a partition plane cutting the two,
    the box can instead collide with the angled side before it hits the corner.

 libs/models/test/testclip.c |   30 ++++++++++++++++++++++++++++++
 1 file changed, 30 insertions(+)

commit 7a1faee
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Nov 13 10:13:10 2011 +0900

    Bail out when the trace advances past the nearest collision.

 libs/models/trace.c |   13 ++++++++-----
 1 file changed, 8 insertions(+), 5 deletions(-)

commit a943cdf
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Nov 13 08:48:44 2011 +0900

    Handle dual collisions.
    
    When the trace collides with something on both sides of a plane, the nearer
    collision is required. The code now correctly checks both sides and keeps
    the nearer collision.

 libs/models/trace.c |   36 +++++++++++++++++++++++++-----------
 1 file changed, 25 insertions(+), 11 deletions(-)

commit 0cf5dec
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Nov 12 21:30:45 2011 +0900

    Fix the covered step tests.
    
    However,  there is still a problem with moves where the box is always cut
    by the plane: both sides need to be tested (done), but when the first side
    checked allows longer motion than the second, but still collides, only the
    first side is checked. The shorter motion is required.

 libs/models/test/testclip.c |   71 ++++++++++++++++++++++++++++++++++++++++---
 libs/models/trace.c         |   17 ++++++++---
 2 files changed, 79 insertions(+), 9 deletions(-)

commit 8cc320b
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Nov 12 20:42:44 2011 +0900

    Move the start point to the near side of the crossed plane.
    
    I'm not sure the end point needs to be moved at all, but I'll leave it
    alone for now. I have a couple of failing test cases that seem to be caused
    by not handling moves where the box is always cut by the plane.

 libs/models/test/testclip.c |   44 +++++++++++++++++++++++++++++++++++++++++++
 libs/models/trace.c         |   17 +++++++++--------
 2 files changed, 53 insertions(+), 8 deletions(-)

commit fa6390a
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Nov 12 18:53:05 2011 +0900

    Correct the sign for the shift in frac.
    
    However, this is not entirely correct as the new start point when testing
    the other side of the plane also needs to be calculated.

 libs/models/test/testclip.c |    5 +++++
 libs/models/trace.c         |    4 ++--
 2 files changed, 7 insertions(+), 2 deletions(-)

commit b82d9f5
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Nov 12 18:12:56 2011 +0900

    Another test, another bug.
    
    Fix an incorrect test using offset (forgot to negate).

 libs/models/test/testclip.c |    2 ++
 libs/models/trace.c         |    2 +-
 2 files changed, 3 insertions(+), 1 deletion(-)

commit 9984a2e
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Nov 12 17:21:37 2011 +0900

    Fix some missing usages of offset.
    
    This fixes my one failing box clip test. Now I need to find more broken
    cases. At least now, they should be real tests.

 libs/models/trace.c |   12 ++++++++----
 1 file changed, 8 insertions(+), 4 deletions(-)

commit 9d63298
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Nov 12 16:36:07 2011 +0900

    Tweak a fixme comment.
    
    The code is potentially slow, especially on big maps, but I haven't noticed
    any issues yet.

 libs/models/brush/model_brush.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 03abb3b
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Oct 6 20:09:10 2011 +0900

    Add support for ellipsoids.
    
    Not that boxes work yet, but the fix is the same.

 include/world.h             |    8 +++++++-
 libs/models/test/testclip.c |    2 +-
 libs/models/trace.c         |   29 +++++++++++++++++++++--------
 nq/source/world.c           |    5 +++--
 qw/source/world.c           |    5 +++--
 5 files changed, 35 insertions(+), 14 deletions(-)

commit b4da924
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Oct 2 21:06:56 2011 +0900

    Make a fresh start on box clipping.
    
    I even have a failing test to fix :)

 libs/models/test/testclip.c |   33 +++++++++++++++++++++++++++++++++
 libs/models/trace.c         |   21 ++++++++++++++++++---
 2 files changed, 51 insertions(+), 3 deletions(-)

commit 268e732
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Nov 28 09:36:09 2011 +0900

    Add a Quat_t union.
    
    It isn't used yet, but it might make messing with quaternions a little
    easier.

 include/QF/qtypes.h |    7 +++++++
 1 file changed, 7 insertions(+)

commit ea02f3c
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 15 17:36:55 2011 +0900

    Fix a missed byteswap when loading qfo files.

 tools/qfcc/source/obj_file.c |    1 +
 1 file changed, 1 insertion(+)

commit 6d2b921
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 15 13:47:05 2011 +0900

    Make nva a little more memory efficient.

 libs/util/va.c |    7 +++----
 1 file changed, 3 insertions(+), 4 deletions(-)

commit 2457837
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Nov 12 12:17:45 2011 +0900

    Make some improvements to the winding docs.

 tools/qfbsp/include/winding.h |   20 +++++++++++++++-----
 tools/qfbsp/source/winding.c  |    2 ++
 2 files changed, 17 insertions(+), 5 deletions(-)

commit 6b62b85
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Oct 5 20:43:40 2011 +0900

    Add an option to omit the mipmap from extracted textures.
    
    This is at the request of Spirit (quaddicted). Great idea.

 tools/wad/wad.c |   44 +++++++++++++++++++++++++++-----------------
 tools/wad/wad.h |    1 +
 2 files changed, 28 insertions(+), 17 deletions(-)

commit 940476d
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jun 12 17:03:51 2011 +0900

    Do some renaming to make things a little clearer.

 libs/models/test/testclip.c |   96 +++++++++++++++++++++++++------------------
 1 file changed, 56 insertions(+), 40 deletions(-)

commit 3b8ab40
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Sep 28 07:41:20 2011 +0900

    Add the ability to save the extra model parameters.
    
    The params are eye position, flags and synctype. Provision is made for
    reading them from a text block on export, but nothing is done other than
    retrieving the text block.

 tools/io_mesh_qfmdl/export_mdl.py |    4 ++++
 tools/io_mesh_qfmdl/import_mdl.py |   12 ++++++++++++
 2 files changed, 16 insertions(+)

commit a356ce6
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Sep 27 17:14:42 2011 +0900

    Assume the trace will be allsolid.
    
    Rather than setting allsolid when the trace fails to leave solid space,
    clear it when the trace enters non-solid space. This is necessary because
    the trace might visit only one node and thus the failure to leave solid
    space will not be detected. This fixes the problem with hipnotic's bobbing
    water.

 libs/models/test/testclip.c |    5 +++++
 libs/models/trace.c         |   10 ++++++----
 2 files changed, 11 insertions(+), 4 deletions(-)

commit 9c6693d
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Sep 27 17:11:57 2011 +0900

    Correct hull3 and its tests.
    
    I'd gotten the solid/empty parts backwards.

 libs/models/test/testclip.c |   10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit 3e74aa5
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Sep 27 17:09:04 2011 +0900

    Add trace-qf-bad.c to Makefile.am and testclip.c.

 libs/models/test/Makefile.am |    2 +-
 libs/models/test/testclip.c  |    2 ++
 2 files changed, 3 insertions(+), 1 deletion(-)

commit e23ee07
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Sep 27 15:38:28 2011 +0900

    Ensure id's trace is properly initialized.

 libs/models/test/trace-id.c |    2 ++
 1 file changed, 2 insertions(+)

commit 32ff639
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Sep 27 13:00:19 2011 +0900

    Add an old qf version of trace.c
    
    This version is broken (it's the one "fixed" by commit 981622f9), but it
    does behave correctly for hipnotic's bobbing water. The question is, why?

 libs/models/test/trace-qf-bad.c |  191 +++++++++++++++++++++++++++++++++++++++
 1 file changed, 191 insertions(+)

commit 9daa0b7
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Sep 27 12:33:50 2011 +0900

    Rename the empty and solid flags, and use them correctly.
    
    seen_empty and seen_solid much better reflect their meanings, and also use
    them correctly (eg, visiting an empty node does not clear seen_solid).
    Hipnotic's bobbing water is still broken, though.

 libs/models/trace.c |   17 ++++++++---------
 1 file changed, 8 insertions(+), 9 deletions(-)

commit a748257
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Sep 27 12:30:21 2011 +0900

    Document the geometry in the tests.

 libs/models/test/testclip.c |   22 ++++++++++++++++++++++
 1 file changed, 22 insertions(+)

commit aa6b7ef
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Sep 26 21:02:54 2011 +0900

    Add some water based tests.
    
    Unfortunatly, they haven't uncovered the bug.

 libs/models/test/testclip.c |   26 ++++++++++++++++++++++++++
 1 file changed, 26 insertions(+)

commit 800e8cb
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Sep 26 19:20:02 2011 +0900

    Make the id trace code more readily usable in the engine.

 libs/models/test/trace-id.c |   15 ++++++++++-----
 1 file changed, 10 insertions(+), 5 deletions(-)

commit ae0dc6f
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Sep 26 19:19:11 2011 +0900

    Disable the "shouldn't happen" code.
    
    It causes the tests to fail, and doesn't affect the problem I'm currently
    facing.

 libs/models/test/trace-id.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit baf9b7c
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Sep 26 18:52:59 2011 +0900

    Make the test nodes a little easier to read.

 libs/models/test/testclip.c |   16 ++++++++--------
 1 file changed, 8 insertions(+), 8 deletions(-)

commit 683adf1
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Sep 26 10:50:45 2011 +0900

    Print the name and texture number for model skins.
    
    Use SYS_GLT (1024) for gl texture debugging.

 include/QF/sys.h                   |    1 +
 libs/models/alias/gl_model_alias.c |    4 +++-
 2 files changed, 4 insertions(+), 1 deletion(-)

commit 521f482
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 25 20:52:28 2011 +0900

    Fix an off-by-one error that caused uvs to wrap.

 tools/io_mesh_qfmdl/export_mdl.py |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 1277c17
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 25 20:50:32 2011 +0900

    Give the 24-8 bit converter a massive speedup.
    
    The biggest part of the speedup is reading from blender's image only once
    (it seems that every read does so from GL rather than memory: ouch). Also,
    cache the results for each color.

 tools/io_mesh_qfmdl/export_mdl.py |   26 +++++++++++++++-----------
 1 file changed, 15 insertions(+), 11 deletions(-)

commit 2e24842
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Sep 24 21:31:02 2011 +0900

    Add some notes about modelgen's commands.

 tools/qfmodelgen/source/modelgen.txt |   25 +++++++++++++++++++++++++
 1 file changed, 25 insertions(+)

commit 50795b8
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Sep 24 13:18:23 2011 +0900

    Calculate the model "size".
    
    The size is actually the average area in quake units of the mesh's
    triangles. Again, my results are slightly smaller (0.025).
    
    With this, all calculable fields are set. Only eye position, flags and
    synctype remain.

 tools/io_mesh_qfmdl/export_mdl.py |   14 ++++++++++++++
 1 file changed, 14 insertions(+)

commit 07b5db6
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Sep 24 13:03:18 2011 +0900

    Calculate the bounding radius.
    
    The calculated radius is a smidge (0.05) smaller than the original
    (invisibl.mdl), but I think that's due to the difference in source data: id
    used the original models, I'm using their output.

 tools/io_mesh_qfmdl/export_mdl.py |    2 ++
 1 file changed, 2 insertions(+)

commit 3b33d8d
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Sep 24 11:43:06 2011 +0900

    Make the basis shape key active on import.
    
    Blender must have an active shape key before shape key animation will work.
    This fixes the models being locked to the first frame until a shape key is
    selected via the UI.

 tools/io_mesh_qfmdl/import_mdl.py |    1 +
 1 file changed, 1 insertion(+)

commit bd84072
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Sep 24 09:00:14 2011 +0900

    Fix the mangled faces.
    
    I /did/ see the warning about vertex index 0 in the obj importer script,
    but I didn't take it seriously enough. This fixes both the twisted texture
    on a couple of faces, and the truly mangled tris when exporting (using
    invisibl.mdl for testing).

 tools/io_mesh_qfmdl/export_mdl.py |    9 +++++----
 tools/io_mesh_qfmdl/import_mdl.py |   14 ++++++++++----
 2 files changed, 15 insertions(+), 8 deletions(-)

commit a1d9e75
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Sep 23 19:58:26 2011 +0900

    Fix the messed up UVs.
    
    I had forgotten to invert the t axis.

 tools/io_mesh_qfmdl/export_mdl.py |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit a80eef8
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Sep 23 19:01:31 2011 +0900

    Get the exporter mostly working.
    
    There seems to be some problems with the UVs, only one frame is exported,
    and various model params don't get set (eye position, size, bounding
    radius, synctype, flags), but the size and shape look right in qf :).

 tools/io_mesh_qfmdl/export_mdl.py |   64 ++++++++++++++++++++++++++++++++++++-
 1 file changed, 63 insertions(+), 1 deletion(-)

commit 8ccb07d
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Sep 23 19:00:39 2011 +0900

    Make the MDL classes a little more usable.
    
    This really eased the writing of the exporter :)

 tools/io_mesh_qfmdl/mdl.py |   53 +++++++++++++++++++++++++++++++++++++++-----
 1 file changed, 48 insertions(+), 5 deletions(-)

commit 8bec9cb
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Sep 23 13:00:46 2011 +0900

    Clean up export_mdl() a little.

 tools/io_mesh_qfmdl/export_mdl.py |   42 ++++++++++++++++++-------------------
 tools/io_mesh_qfmdl/mdl.py        |   16 +++++++++++++-
 2 files changed, 35 insertions(+), 23 deletions(-)

commit 4a37316
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Sep 22 14:08:10 2011 +0900

    Fix the exported skin conversion.
    
    I must remember to test language features in python 3 :P

 tools/io_mesh_qfmdl/export_mdl.py |   10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit 40f46f2
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Sep 22 11:36:45 2011 +0900

    Complete mdl writing.
    
    Except for the normal index in the frame bounds (and potentially frame
    names with junk after the terminating nul), the output is identical to the
    input for:
    	mdl=MDL().read("invisibl.mdl")
    	mdl.write("test.mdl")

 tools/io_mesh_qfmdl/mdl.py |   42 +++++++++++++++++++++++++++++++++++-------
 1 file changed, 35 insertions(+), 7 deletions(-)

commit e35dd29
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Sep 22 01:03:50 2011 +0900

    Don't use Vector in mdl.py
    
    This will make testing of the MDL class a little easier (independent of
    Blender).

 tools/io_mesh_qfmdl/import_mdl.py |    8 ++++----
 tools/io_mesh_qfmdl/mdl.py        |    8 +++-----
 2 files changed, 7 insertions(+), 9 deletions(-)

commit a58f958
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Sep 22 00:58:57 2011 +0900

    Try to write out the skin.
    
    Something's not working as all I get is a black texture, but the basics
    (MDL writing) seem to be ok.

 tools/io_mesh_qfmdl/export_mdl.py |   49 ++++++++++++++++++++++++++-
 tools/io_mesh_qfmdl/mdl.py        |   66 ++++++++++++++++++++++++++++++++++++-
 2 files changed, 113 insertions(+), 2 deletions(-)

commit ba4ccaf
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Sep 21 22:34:23 2011 +0900

    Check that all faces are triangles.

 tools/io_mesh_qfmdl/export_mdl.py |   18 ++++++++++++++++++
 1 file changed, 18 insertions(+)

commit 57aa19b
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Sep 21 20:18:23 2011 +0900

    Rename qfmdl to io_mesh_qfmdl.
    
    This fits in better with the blender addon naming scheme.

 tools/io_mesh_qfmdl/__init__.py   |  107 +++++++++++++++
 tools/io_mesh_qfmdl/export_mdl.py |   30 +++++
 tools/io_mesh_qfmdl/import_mdl.py |  259 +++++++++++++++++++++++++++++++++++++
 tools/io_mesh_qfmdl/mdl.py        |  187 ++++++++++++++++++++++++++
 tools/io_mesh_qfmdl/quakepal.py   |  258 ++++++++++++++++++++++++++++++++++++
 tools/qfmdl/__init__.py           |  107 ---------------
 tools/qfmdl/export_mdl.py         |   30 -----
 tools/qfmdl/import_mdl.py         |  259 -------------------------------------
 tools/qfmdl/mdl.py                |  187 --------------------------
 tools/qfmdl/quakepal.py           |  258 ------------------------------------
 10 files changed, 841 insertions(+), 841 deletions(-)

commit c3b358f
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Sep 21 19:13:01 2011 +0900

    Clean up the intra-package import lines.

 tools/qfmdl/export_mdl.py |    5 ++---
 tools/qfmdl/import_mdl.py |    7 +++----
 2 files changed, 5 insertions(+), 7 deletions(-)

commit 84f65a0
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Sep 21 18:23:45 2011 +0900

    Get the "front end" working nicely.
    
    Proper enable/disable of export, file filtering and no exceptions :)

 tools/qfmdl/__init__.py |   11 +++++++++--
 1 file changed, 9 insertions(+), 2 deletions(-)

commit 2ca39e7
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Sep 21 17:37:32 2011 +0900

    Start working on the exporter.

 tools/qfmdl/__init__.py   |    8 +++++++-
 tools/qfmdl/export_mdl.py |   31 +++++++++++++++++++++++++++++++
 2 files changed, 38 insertions(+), 1 deletion(-)

commit 4b9a421
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Sep 21 12:34:09 2011 +0900

    Split out the MDL class.
    
    I will need it for the exporter.

 tools/qfmdl/import_mdl.py |  168 +---------------------------------------
 tools/qfmdl/mdl.py        |  187 +++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 189 insertions(+), 166 deletions(-)

commit af4a91a
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Sep 20 19:32:49 2011 +0900

    Do a tiny bit of cleanup.

 tools/qfmdl/import_mdl.py |   14 +++++++-------
 1 file changed, 7 insertions(+), 7 deletions(-)

commit b00e865
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Sep 20 18:58:45 2011 +0900

    Make the importer work in both 2.58 and svn blender.

 tools/qfmdl/import_mdl.py |   19 ++++++++++++++-----
 1 file changed, 14 insertions(+), 5 deletions(-)

commit 67ba912
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Sep 20 13:34:12 2011 +0900

    Report bad mdl files.

 tools/qfmdl/import_mdl.py |    5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 9a4e5ae
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Sep 20 13:33:41 2011 +0900

    Read strings as strings rather than bytes.

 tools/qfmdl/import_mdl.py |   13 ++++++++++---
 1 file changed, 10 insertions(+), 3 deletions(-)

commit a32e45d
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Sep 20 12:44:37 2011 +0900

    Refactor the import code.
    
    This should make things a little more maintainable.

 tools/qfmdl/import_mdl.py |  342 +++++++++++++++++++++++----------------------
 1 file changed, 176 insertions(+), 166 deletions(-)

commit d90fd4c
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 18 18:49:16 2011 +0900

    Fix a mistake found by a debug build of blender.

 tools/qfmdl/import_mdl.py |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c65522b
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 18 15:37:17 2011 +0900

    Add key frames for all shape keys.

 tools/qfmdl/import_mdl.py |   11 +++++++++++
 1 file changed, 11 insertions(+)

commit 94ac2fa
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 18 10:37:28 2011 +0900

    Remove a debug print

 tools/qfmdl/import_mdl.py |    1 -
 1 file changed, 1 deletion(-)

commit b57e098
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 18 09:58:59 2011 +0900

    Rewrite the frame group to action conversion.
    
    Now it works :) Mostly :/ Need to figure out how to "finalize" the action.
    Also, blender occasionally loses my skin texture :(

 tools/qfmdl/import_mdl.py |   68 +++++++++++++++------------------------------
 1 file changed, 23 insertions(+), 45 deletions(-)

commit dbb1df7
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 18 09:18:49 2011 +0900

    Fix frame merging for mdlv3 files.
    
    v3 files have no name fields in the frames, so we need to store the
    generated name.

 tools/qfmdl/import_mdl.py |    6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit ad8afec
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Sep 17 23:41:35 2011 +0900

    Merge multiple frames into a single frame group.
    
    But only if they seem to be related (ie, the frame name is the same up to
    the number). This will later become optional, but it allows me to test
    some of the frame group code.

 tools/qfmdl/import_mdl.py |   32 +++++++++++++++++++++++++++++++-
 1 file changed, 31 insertions(+), 1 deletion(-)

commit dc76ad6
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Sep 17 23:13:21 2011 +0900

    Create actions for frames and frame groups.
    
    Simple frames get a one key action, groups get an action with a key per
    subframe.

 tools/qfmdl/import_mdl.py |  103 ++++++++++++++++++++++++++++++++++++++-------
 1 file changed, 88 insertions(+), 15 deletions(-)

commit 644f4db
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Sep 17 09:05:07 2011 +0900

    Add support for v3 (qtest) mdl files.
    
    Finally, I can see the dragon in all its... glory?

 tools/qfmdl/import_mdl.py |   24 +++++++++++++++++-------
 1 file changed, 17 insertions(+), 7 deletions(-)

commit f7de55e
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Sep 16 20:59:39 2011 +0900

    Create a shape key for every frame and subframe.
    
    Shammy has no frame groups :(. Need to find a model with groups.

 tools/qfmdl/import_mdl.py |   50 +++++++++++++++++++++++++++++++++++----------
 1 file changed, 39 insertions(+), 11 deletions(-)

commit b0af184
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Sep 16 19:14:31 2011 +0900

    Be a little more direct in object linking and materal adding.

 tools/qfmdl/import_mdl.py |   13 ++++++++-----
 1 file changed, 8 insertions(+), 5 deletions(-)

commit de24fa9
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Sep 16 17:57:07 2011 +0900

    Break out the skin/material setup code.

 tools/qfmdl/import_mdl.py |   24 +++++++++++++-----------
 1 file changed, 13 insertions(+), 11 deletions(-)

commit 41213f2
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Sep 15 22:45:23 2011 +0900

    Make the skin show in blender's 3d view.
    
    Much thanks to ideasman_42 for showing me which code I needed to grok to
    get it working.

 tools/qfmdl/import_mdl.py |    6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit 320f613
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Sep 15 20:39:26 2011 +0900

    Give the uvlayer texture a name.

 tools/qfmdl/import_mdl.py |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 257fefc
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Sep 15 19:52:18 2011 +0900

    Link the first skin to the imported object.
    
    The texture doesn't display properly in 3d space in texture mode yet.

 tools/qfmdl/import_mdl.py |   17 +++++++++++++++++
 1 file changed, 17 insertions(+)

commit 7489d56
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Sep 15 19:19:21 2011 +0900

    Convert all skins.
    
    Skin groups are now partially supported.

 tools/qfmdl/import_mdl.py |   19 +++++++++++++------
 1 file changed, 13 insertions(+), 6 deletions(-)

commit f8e1e3d
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Sep 15 19:18:31 2011 +0900

    Fix incorrect bracket/parens

 tools/qfmdl/import_mdl.py |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 11f3729
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Sep 15 17:23:40 2011 +0900

    Reveres the face windings.
    
    Blender's vertex order and quake's vertex order seem to be opposed.

 tools/qfmdl/import_mdl.py |    5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit 0569e0e
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Sep 15 13:21:08 2011 +0900

    Build the uv layout.

 tools/qfmdl/import_mdl.py |   36 ++++++++++++++++++++++++++++++------
 1 file changed, 30 insertions(+), 6 deletions(-)

commit 99ff91e
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Sep 15 11:29:54 2011 +0900

    Load the skins into blender images.
    
    Skin groups are not yet supported (skipped).

 tools/qfmdl/import_mdl.py |   50 +++++++--
 tools/qfmdl/quakepal.py   |  258 +++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 298 insertions(+), 10 deletions(-)

commit 9d025e0
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Sep 14 19:33:51 2011 +0900

    Begin working on an mdl import/export plugin for blender.
    
    This is only preliminary at this stage:
      o No export yet.
      o Only the first frame is converte4d.
      o Skins are not yet converted

 .gitignore                |    1 +
 tools/qfmdl/__init__.py   |   94 ++++++++++++++++++++++++
 tools/qfmdl/import_mdl.py |  178 +++++++++++++++++++++++++++++++++++++++++++++
 3 files changed, 273 insertions(+)

commit 5029fde
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 11 17:49:24 2011 +0900

    Fix the bogus frags on death.
    
    I'd missed some casts in the MSG_ReadShort change.

 nq/source/cl_parse.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 3de5575
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 11 17:13:20 2011 +0900

    Move the menu files into the QF directory for win32.

 tools/build_scripts/qf-release  |    2 +-
 tools/build_scripts/qf-win32.py |   20 ++++++++++++--------
 2 files changed, 13 insertions(+), 9 deletions(-)

commit e7f845e
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 11 17:07:41 2011 +0900

    Fix the accidentally broken model precaching.
    
    This fixes the explodebox bug reported by scar3crow (thanks!), caused by a
    subtle difference between nq and qw precaching (nasty).

 nq/source/sv_pr_cmds.c |   13 ++++++++-----
 1 file changed, 8 insertions(+), 5 deletions(-)

commit cb9a30e
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 11 15:40:36 2011 +0900

    Fix registered game detection.
    
    registered detection needs qfs to be initted, but qfs needs game to be
    inited... so move the qfs init into game init before the registered check.

 nq/include/game.h |    2 +-
 nq/source/game.c  |   23 ++++++++++++-----------
 nq/source/host.c  |    5 +----
 3 files changed, 14 insertions(+), 16 deletions(-)

commit d9ab3a1
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 11 14:47:56 2011 +0900

    Move the config file/command line parsing into qargs.c
    
    I don't like the COM prefix, but it will do for now.

 include/QF/qargs.h          |    9 ++++++---
 libs/audio/test/testsound.c |   23 +---------------------
 libs/util/qargs.c           |   44 +++++++++++++++++++++++++++++++++++++++++--
 nq/source/host.c            |   30 +----------------------------
 qtv/source/qtv.c            |   23 +---------------------
 qw/source/cl_main.c         |   30 +----------------------------
 qw/source/sv_main.c         |   32 ++-----------------------------
 7 files changed, 54 insertions(+), 137 deletions(-)

commit a71acc9
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 11 14:56:47 2011 +0900

    Move the essential init code into Sys_Init().

 hw/source/master.c          |    5 -----
 libs/audio/test/testsound.c |    5 -----
 libs/util/sys.c             |    8 ++++++++
 nq/source/host.c            |    7 -------
 qtv/source/qtv.c            |    5 -----
 qw/source/cl_main.c         |    7 -------
 qw/source/sv_main.c         |    7 -------
 tools/bsp2img/bsp2img.c     |    6 +-----
 tools/carne/main.c          |    5 +----
 tools/qfcc/source/qfprogs.c |    6 +-----
 tools/qflmp/lmp.c           |    6 +-----
 tools/qwaq/main.c           |    6 +-----
 tools/wad/wad.c             |    6 +-----
 13 files changed, 14 insertions(+), 65 deletions(-)

commit f921005
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 11 14:55:13 2011 +0900

    Nuke com.c.
    
    It's contents have been moved into game.c and massaged appropriately.

 nq/source/Makefile.am |    2 +-
 nq/source/com.c       |   85 -----------------------------------------------
 nq/source/game.c      |   42 +++++++++++++++++++++++
 nq/source/host.c      |    1 -
 qw/source/Makefile.am |    2 +-
 qw/source/cl_main.c   |    2 --
 qw/source/com.c       |   88 -------------------------------------------------
 qw/source/game.c      |   36 ++++++++++++++++++++
 qw/source/sv_main.c   |    2 --
 9 files changed, 80 insertions(+), 180 deletions(-)

commit 6fb73b5
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 11 13:10:14 2011 +0900

    Nuke some mystery code.
    
    I have no idea why I did that, but it crept in with the var substitution
    fix, so I guess it might have been an attempt to fix a bug, but it looks
    like it was broken anyway.

 libs/util/quakefs.c |    5 +----
 1 file changed, 1 insertion(+), 4 deletions(-)

commit e5add8b
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 11 13:09:24 2011 +0900

    Use dstring_freeze() to cleanup some code.

 libs/util/quakefs.c |    5 +----
 1 file changed, 1 insertion(+), 4 deletions(-)

commit 8bab548
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 11 08:04:47 2011 +0900

    Make the hud type configurable via dirconf.
    
    Currently only "id", "hipnotic" and "rogue" are supported (anything else is
    treated as "id"). Has no effect in quakeworld (good thing too: changing
    gamedirs is a little broken).

 doc/dirconf.dox      |   27 +++++++++++++++++----------
 include/QF/quakefs.h |    1 +
 libs/util/quakefs.c  |   27 +++++++++++++++++----------
 nq/include/game.h    |    2 +-
 nq/source/game.c     |    5 -----
 nq/source/sbar.c     |    8 ++++----
 6 files changed, 40 insertions(+), 30 deletions(-)

commit b9401fe
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Sep 10 18:10:51 2011 +0900

    Fix incomplete removal of old files.

 tools/build_scripts/qf-release |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 8e30d30
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Sep 10 17:49:14 2011 +0900

    Fix asm ilnking in mingw.
    
    It seems that recent binutils/libtool doesn't like exporting symbols that
    don't begin with a _.

 libs/video/renderer/sw/d_draw.S     |  290 +++++++++++++++---------------
 libs/video/renderer/sw/d_parta.S    |   50 +++---
 libs/video/renderer/sw/d_polysa.S   |   46 ++---
 libs/video/renderer/sw/d_spr8.S     |  330 +++++++++++++++++------------------
 libs/video/renderer/sw/d_varsa.S    |  134 +++++++-------
 libs/video/renderer/sw/fpua.S       |   46 ++---
 libs/video/renderer/sw/sw_raclipa.S |   16 +-
 libs/video/renderer/sw/sw_rdrawa.S  |   12 +-
 libs/video/renderer/sw/sw_rvarsa.S  |   62 +++----
 9 files changed, 494 insertions(+), 492 deletions(-)

commit 1f4a6da
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Sep 10 15:37:10 2011 +0900

    Fixes for win32.
    
    I'd forgotten why SDL_main had such a lame prototype.
    It turns out my previous mingw testing wasing testing SDL :(

 nq/source/sys_sdl.c    |    4 ++--
 qw/source/cl_sys_sdl.c |    8 ++++----
 2 files changed, 6 insertions(+), 6 deletions(-)

commit f3017ed
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Sep 10 15:10:45 2011 +0900

    Fix RPM building.

 RPM/quakeforge.spec.in |   27 +++++++++++++--------------
 1 file changed, 13 insertions(+), 14 deletions(-)

commit da7ddc3
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Sep 10 12:07:18 2011 +0900

    Fix the segaults when trying to use snd_disk.
    
    It's output is still bogus (and it writes to the current directory!), but
    at least the plugin can be used without any nasty issues.

 libs/audio/targets/snd_disk.c |   29 +++++++++++++++++------------
 1 file changed, 17 insertions(+), 12 deletions(-)

commit bfd1680
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Sep 9 19:56:16 2011 +0900

    Fix a 32/64 bit portability issue.

 libs/util/test/test-qfs.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 999912e
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Sep 9 19:55:54 2011 +0900

    I thought I'd tested those changes :(

 libs/util/quakefs.c |    7 +++----
 1 file changed, 3 insertions(+), 4 deletions(-)

commit a426dac
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Sep 9 17:07:47 2011 +0900

    Add a missing \n

 libs/audio/targets/snd_alsa.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 5914bb6
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Sep 9 17:40:15 2011 +0900

    QFS doc update and cleanup.

 include/QF/quakefs.h |   17 ++++++++++++-----
 1 file changed, 12 insertions(+), 5 deletions(-)

commit d043e2b
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Sep 9 17:39:00 2011 +0900

    Rewrite QFS_FileBase().
    
    It now uses QFS_SkipPath() and QFS_FileExtention() to
    find the file's base name.

 libs/util/quakefs.c |   27 +++++++++------------------
 1 file changed, 9 insertions(+), 18 deletions(-)

commit d92488c
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Sep 9 17:37:45 2011 +0900

    Rewrite QFS_DefaultExtension() and QFS_SetExtension().
    
    They now use QFS_FileExtension() to find the correct
    place for the extension.

 libs/util/quakefs.c |   19 +++++++++----------
 1 file changed, 9 insertions(+), 10 deletions(-)

commit 225f1cd
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Sep 9 17:35:12 2011 +0900

    Rewrite QFS_StripExtension() to use QFS_FileExtension().

 libs/util/quakefs.c       |    4 ++--
 libs/util/test/test-qfs.c |   28 ++++++++++++++++++++++++++++
 2 files changed, 30 insertions(+), 2 deletions(-)

commit 96ef0ff
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Sep 9 17:33:29 2011 +0900

    Rewrite QFS_FileExtension() to be more correct.

 libs/util/quakefs.c       |   18 +++++++++++++-----
 libs/util/test/test-qfs.c |   29 ++++++++++++++++++++++++++++-
 2 files changed, 41 insertions(+), 6 deletions(-)

commit 08fa6be
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Sep 9 17:30:07 2011 +0900

    Fix a potential buffer underflow.

 libs/util/quakefs.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 8c67a87
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Sep 9 17:29:13 2011 +0900

    Add the gib docs to make dist.

 doc/Makefile.am |   13 ++++++++++---
 1 file changed, 10 insertions(+), 3 deletions(-)

commit 20d056e
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Sep 8 21:05:33 2011 +0900

    Fix my broken warnings fixes.
    
    That's what you get for blinding working on code you don't grok :P

 libs/gib/regex.c |   25 +++++++++++++------------
 1 file changed, 13 insertions(+), 12 deletions(-)

commit 272e955
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Sep 8 19:11:43 2011 +0900

    Fix the version reporting.
    
    $Id doesn't work in git, and didn't really report the right version anyway.

 doc/config/gib/qfadmin.gib |   24 +++++++++++++-----------
 1 file changed, 13 insertions(+), 11 deletions(-)

commit 881d4ba
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Sep 8 18:10:09 2011 +0900

    Fix some undefined symbols in snd_alsa.c.
    
    Serves me right for testing with only my debug build :P

 include/snd_internal.h         |    7 +++++--
 libs/audio/renderer/snd_dma.c  |   17 ++++++++---------
 libs/audio/renderer/snd_jack.c |    9 +++------
 libs/audio/renderer/snd_mix.c  |    3 ++-
 libs/audio/targets/snd_alsa.c  |   21 +++++++++------------
 libs/audio/targets/snd_dx.c    |    3 ++-
 libs/audio/targets/snd_sun.c   |    3 ++-
 libs/audio/targets/snd_win.c   |    3 ++-
 8 files changed, 33 insertions(+), 33 deletions(-)

commit 6f4d918
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Sep 8 14:38:57 2011 +0900

    Begin documenting sound and tidy up specifications.

 doc/Makefile.am        |    3 +-
 doc/config.dox         |    3 +-
 doc/quakeforge.dox     |    1 +
 doc/sound.dox          |   85 ++++++++++++++++++++++++++++++++++++++++++++++++
 doc/specifications.dox |   13 ++++++++
 5 files changed, 103 insertions(+), 2 deletions(-)

commit 1dda097
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Sep 8 13:06:11 2011 +0900

    Document the command line console command interface.

 doc/config.dox     |   36 ++++++++++++++++++++++++++++++++++--
 doc/filesystem.dox |    2 +-
 2 files changed, 35 insertions(+), 3 deletions(-)

commit 6da725d
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Sep 8 12:30:58 2011 +0900

    Simplify and slightly improve Cmd_StuffCmds().
    
    Make use of dstring to manage the built command mini-script.
    Ensure + and - that do not come after whitespace do not start a new
    command.

 libs/util/cmd.c |   44 ++++++++++++++++++--------------------------
 1 file changed, 18 insertions(+), 26 deletions(-)

commit 79cec9d
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Sep 8 10:29:24 2011 +0900

    Create a template file for our documentation.

 doc/quakeforge.dox.conf.in |    3 +++
 doc/template.dox           |    6 ++++++
 2 files changed, 9 insertions(+)

commit e72d492
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Sep 8 10:21:41 2011 +0900

    Finish up the docs for cvars and config files.
    
    For now, anyway :)

 doc/config.dox     |   42 ++++++++++++++++++++++++++++++++----------
 doc/filesystem.dox |    3 ++-
 2 files changed, 34 insertions(+), 11 deletions(-)

commit 6a7b316
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Sep 8 10:17:58 2011 +0900

    Put my text editing vim settings into the docs.
    
    Vim's autoformating doesn't like our style of comments, so I have to force
    it to do what I want. Having to set the appropriate options every time I
    edit a file got to be a RPITA, so time to get the computer to do it for me
    :)

 INSTALL                  |    1 +
 doc/bind.dox             |    1 +
 doc/config.dox           |    1 +
 doc/connect.dox          |    1 +
 doc/cshifts.dox          |    1 +
 doc/dirconf.dox          |    1 +
 doc/faq.dox              |    1 +
 doc/filesystem.dox       |    1 +
 doc/mapformat.dox        |    1 +
 doc/property-list.dox    |    1 +
 doc/qtv.dox              |    1 +
 doc/quakeforge.dox       |    1 +
 doc/qw-cap-spec.dox      |    1 +
 doc/qw-download-spec.dox |    1 +
 doc/surround-sound.dox   |    1 +
 doc/timestamps.dox       |    1 +
 doc/tracklist.dox        |    1 +
 17 files changed, 17 insertions(+)

commit 1e82748
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Sep 7 21:08:37 2011 +0900

    Do some work on the user documentation.
    
    Also document part of the cvar api.

 doc/Makefile.am    |    2 +-
 doc/config.dox     |  122 ++++++++++++++++++++++++++++++++++++++++++++++++++++
 doc/faq.dox        |    7 +++
 doc/quakeforge.dox |    9 +---
 include/QF/cvar.h  |   73 ++++++++++++++++++-------------
 5 files changed, 174 insertions(+), 39 deletions(-)

commit e8e8dad
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Sep 7 21:07:52 2011 +0900

    Fix a potential crash with the cvar reset command.

 libs/util/cvar.c |    2 ++
 1 file changed, 2 insertions(+)

commit 2ae33a7
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Sep 7 17:00:57 2011 +0900

    Support non-interleaved mmap sound.
    
    Unfortuanately, I can't test this properly as I don't have any such
    hardware, but as the code is mosly an edited copy of the interleaved code,
    any errors should be easy to fix.

 libs/audio/targets/snd_alsa.c |   98 ++++++++++++++++++++++++++++++++++++++---
 1 file changed, 93 insertions(+), 5 deletions(-)

commit a8ea3aa
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Sep 7 17:00:18 2011 +0900

    Allow dma sound targets to specify an xfer function.

 include/snd_internal.h        |    3 +++
 libs/audio/renderer/snd_dma.c |    3 ++-
 2 files changed, 5 insertions(+), 1 deletion(-)

commit 9ffa1f4
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Sep 7 15:13:47 2011 +0900

    Detect the silent death of the jack client thread.
    
    When jackd gets an unhandled xrun, it stops all processing but neglects to
    tell the client about it. Thus, add a bit of a watchdog function to
    s_update() and assume the client thread is dead if there's no sign of life
    after one second. No more hanging on exit.

 TODO                           |   10 ++++---
 libs/audio/renderer/snd_jack.c |   58 ++++++++++++++++++++++++++++++++++------
 2 files changed, 56 insertions(+), 12 deletions(-)

commit 86c5b79
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Sep 7 10:35:42 2011 +0900

    Nuke yet another stack buffer.
    
    Dn Dn Dn another one's gone, another one's gone, another one bites the dust

 qw/source/sv_user.c |   20 ++++++++++++--------
 1 file changed, 12 insertions(+), 8 deletions(-)

commit e3c5f6e
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Sep 7 09:36:37 2011 +0900

    Fix the wonky rotation translations caused by rotation support.
    
    Damn loop in PM_PlayerMove messed up the rotation flag. To think, all that
    trouble caused by one little flag.

 qw/source/pmovetst.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 581539f
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Sep 6 23:48:31 2011 +0900

    Make debug printing a little smarter.
    
    When a field or global name is used, the printed value reflects the type
    of that variable.

 libs/gamecode/engine/pr_debug.c |   32 +++++++++++++++++++++++---------
 1 file changed, 23 insertions(+), 9 deletions(-)

commit 505660d
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Sep 6 18:41:42 2011 +0900

    Nuke another buffer.
    
    Though snprintf was used, not having a buffer just makes things cleaner.

 tools/qfbsp/source/brush.c |    9 ++++-----
 1 file changed, 4 insertions(+), 5 deletions(-)

commit e6e1b10
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Sep 5 21:05:09 2011 +0900

    Add support for rotating entities to QW.
    
    Same as the rotating entities in NQ. Unfortunately, I have some problems
    with certain entities doing really weird things during collisions. I'll
    sort that out later.

 include/qw/pmove.h      |    1 +
 qw/source/cl_entparse.c |    3 +++
 qw/source/pmovetst.c    |   40 +++++++++++++++++++++++++++-
 qw/source/sv_phys.c     |   47 +++++++++++++++++++++++++-------
 qw/source/sv_user.c     |    1 +
 qw/source/world.c       |   68 ++++++++++++++++++++++++++++++++++++++++++-----
 6 files changed, 142 insertions(+), 18 deletions(-)

commit 71be851
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Sep 5 20:51:10 2011 +0900

    Don't do anything when the message is empty.
    
    This clears up some fun valgrind noise in SV_Print.

 qw/source/sv_send.c |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 91f6b7f
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Sep 5 20:50:30 2011 +0900

    Better use of Sys_Printf.

 libs/gamecode/engine/pr_debug.c |   10 ++++------
 1 file changed, 4 insertions(+), 6 deletions(-)

commit 94362cc
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Sep 5 18:10:02 2011 +0900

    Add macros to ease printing of vectors and quaternions.
    
    I got sick of having to pass all those parameters to printf. Let the
    compiler do it for me.

 include/QF/mathlib.h |    6 ++++++
 1 file changed, 6 insertions(+)

commit a3f0a55
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Sep 5 16:27:54 2011 +0900

    Fix a segfault when centerprinting.
    
    The dstring wasn't getting initialized :/

 qw/include/client.h  |    2 ++
 qw/source/cl_main.c  |    3 +++
 qw/source/cl_parse.c |    4 ----
 3 files changed, 5 insertions(+), 4 deletions(-)

commit 89ec14e
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Sep 5 12:55:03 2011 +0900

    Make very tiny movements no-ops.
    
    This affects pushers in their think code. This makes NQ a little more like
    QW, but doesn't really seem to change much.

 nq/source/sv_phys.c |   13 +++++++++++--
 nq/source/world.c   |    2 +-
 2 files changed, 12 insertions(+), 3 deletions(-)

commit 9bd4bbe
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Sep 5 11:47:48 2011 +0900

    Make sure tossed entities with upward velocity can always move.
    
    If a tossed entity has ONGROUND set, it won't move, but if it has an upward
    velocity, it can't possibly be ONGROUND, so clear the flag if the entity is
    moving upwards.

 nq/source/sv_phys.c |    4 ++++
 1 file changed, 4 insertions(+)

commit 937ea85
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Sep 5 11:30:04 2011 +0900

    Give QW NQ's explode-box jumping code.
    
    It seems that QW already allowed explode-box jumping, but this makes code a
    little more consistent. Still need to figure out what to do about the
    player physics code: the client prediction is wrong, though the server gets
    it right (before the change).

 qw/include/server.h |    2 ++
 qw/source/sv_main.c |    1 +
 qw/source/sv_phys.c |   16 +++++++++++++++-
 3 files changed, 18 insertions(+), 1 deletion(-)

commit f0a145a
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Sep 5 09:45:13 2011 +0900

    Compress entity_state_t a little.
    
    Use byte and short instead of int.

 include/qw/protocol.h |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 39190c5
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 4 20:35:57 2011 +0900

    Remove an unnecessary include.
    
    Don't need that :P

 libs/net/nm/net_dgrm.c |    1 -
 1 file changed, 1 deletion(-)

commit e1b6f50
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 4 20:34:21 2011 +0900

    Clean up the diffs a bit between qw and nq sv_pr_cmds
    
    Add some missing functions to nq.
    In qw, Sys_Printf is mapped to SV_Printf, so no harm there.

 nq/include/sv_pr_cmds.h |   70 ------------
 nq/source/sv_pr_cmds.c  |  278 ++++++++++++++++++++++++++++-------------------
 nq/source/sys_unixd.c   |    2 +-
 qw/source/sv_pr_cmds.c  |   81 +++++++-------
 4 files changed, 204 insertions(+), 227 deletions(-)

commit dcbe23b
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 4 20:32:57 2011 +0900

    Abandon the runequake stuff for now.

 nq/source/sv_pr_cmds.c |   98 ------------------------------------------------
 1 file changed, 98 deletions(-)

commit cca9983
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Sep 3 19:58:03 2011 +0900

    Clean up the startup file diffs.
    
    This also makes functionality consistent across the platforms, such as
    adding support for -dedicated to sdl based nq, and various timing
    calculations are now consistent.

 nq/source/sdl_link.c    |    4 +-
 nq/source/sys_sdl.c     |   66 ++++++++++++------------
 nq/source/sys_unix.c    |   26 ++++------
 nq/source/sys_unixd.c   |   16 +++---
 nq/source/sys_win.c     |  129 +++++++++++++++++++++++------------------------
 nq/source/sys_wind.c    |   51 ++++++++-----------
 qw/source/cl_sys_sdl.c  |   36 ++++++-------
 qw/source/cl_sys_unix.c |   39 +++++---------
 qw/source/cl_sys_win.c  |   60 ++++++----------------
 qw/source/sdl_link.c    |    4 +-
 qw/source/sv_sys_unix.c |   15 ++----
 qw/source/sv_sys_win.c  |   13 ++---
 12 files changed, 191 insertions(+), 268 deletions(-)

commit db8eee5
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Sep 3 14:26:11 2011 +0900

    Eliminate the is_server global.
    
    More ugliness gone :)

 include/netchan.h         |    8 ++++----
 qw/source/cl_demo.c       |    2 +-
 qw/source/cl_main.c       |    2 +-
 qw/source/cl_sys_sdl.c    |    2 --
 qw/source/cl_sys_unix.c   |    1 -
 qw/source/cl_sys_win.c    |    1 -
 qw/source/net_packetlog.c |    4 ++--
 qw/source/sv_main.c       |    2 +-
 qw/source/sv_sys_unix.c   |    1 -
 qw/source/sv_sys_win.c    |    1 -
 10 files changed, 9 insertions(+), 15 deletions(-)

commit 8d85358
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Sep 3 14:18:35 2011 +0900

    Use the gamedir callback for the serverinfo key.
    
    This gits rid of a bit of nastiness in the gamedir code :)

 qw/include/server.h     |    1 -
 qw/source/cl_sys_sdl.c  |    1 -
 qw/source/cl_sys_unix.c |    1 -
 qw/source/cl_sys_win.c  |    2 --
 qw/source/game.c        |    4 ----
 qw/source/sv_main.c     |   13 +++++++++++++
 qw/source/sv_sys_unix.c |    1 -
 qw/source/sv_sys_win.c  |    2 --
 8 files changed, 13 insertions(+), 12 deletions(-)

commit 6b5b2a1
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Sep 3 13:10:03 2011 +0900

    Specified the endianess of the reads.

 include/QF/msg.h |   19 +++++++++++--------
 1 file changed, 11 insertions(+), 8 deletions(-)

commit a55f490
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Aug 28 21:11:08 2011 +0900

    Add support for map specified fog and skys to qw.

 qw/include/client.h  |    3 +++
 qw/source/cl_parse.c |   48 ++++++++++++++++++++++++++++++++++++++++++++++++
 qw/source/sv_progs.c |    8 +++++---
 3 files changed, 56 insertions(+), 3 deletions(-)

commit be8277c
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Aug 28 21:05:35 2011 +0900

    Sanitize some of the differences in cl_parse.c.
    
    Most of the differences in CL_ParseServerMessage are now protocol specific.

 nq/source/cl_parse.c |   63 +++++++++++++++++++++++++-------------------
 qw/source/cl_parse.c |   71 +++++++++++++++++++++++---------------------------
 2 files changed, 68 insertions(+), 66 deletions(-)

commit deddb5c
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Aug 28 18:33:29 2011 +0900

    Partially document the message api.

 include/QF/msg.h |  170 ++++++++++++++++++++++++++++++++++++++++++++++++++++++
 libs/util/msg.c  |   16 ++---
 2 files changed, 178 insertions(+), 8 deletions(-)

commit 9afb691
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Aug 28 18:29:46 2011 +0900

    Change MSG_ReadShort to return an unsigned short.
    
    Avoiding the sign extension by default seems to be more useful.

 libs/util/msg.c           |   20 ++++++++------------
 nq/source/cl_parse.c      |   10 +++++-----
 nq/source/sv_user.c       |    6 +++---
 qtv/source/sv_parse.c     |    2 +-
 qw/source/cl_entparse.c   |    6 +++---
 qw/source/cl_parse.c      |    2 +-
 qw/source/net_packetlog.c |   33 +++++++++++++++++----------------
 7 files changed, 38 insertions(+), 41 deletions(-)

commit 9ace9f2
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Aug 28 12:54:50 2011 +0900

    Fix some bad timing with a dstring_delete.
    
    Opps :P, double free.

 nq/source/cl_demo.c |    3 ++-
 qw/source/cl_demo.c |    2 +-
 2 files changed, 3 insertions(+), 2 deletions(-)

commit 12e238f
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Aug 27 14:38:33 2011 +0900

    Add a function to convert quake angles to a quaternion.
    
    The test works by comparing the result of AngleVectors with forward,
    right, and up vectors rotated by the quaternion resulting from AngleQuat.

 include/QF/mathlib.h       |    1 +
 libs/util/mathlib.c        |   25 +++++++++++-
 libs/util/test/Makefile.am |    6 ++-
 libs/util/test/test-quat.c |   96 ++++++++++++++++++++++++++++++++++++++++++++
 4 files changed, 126 insertions(+), 2 deletions(-)

commit 1c47f9e
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Aug 27 14:35:48 2011 +0900

    Kill some magic numbers.

 libs/video/renderer/gl/gl_rmain.c |    7 +++----
 1 file changed, 3 insertions(+), 4 deletions(-)

commit fe3cdbc
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Oct 19 23:41:57 2010 +0900

    fix a snafu in quattomat

 libs/util/mathlib.c |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit eb205d7
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Oct 18 23:27:42 2010 +0900

    Add a function to convert a quaternion to a rotation matrix.

 include/QF/mathlib.h |    2 ++
 libs/util/mathlib.c  |   43 +++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 45 insertions(+)

commit 28d9c72
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Aug 27 10:25:41 2011 +0900

    A bit more diff reduction before attempting to merge client code.

 nq/source/cl_ents.c  |   88 +++++++++++++++++++++++++++++++-------------------
 nq/source/cl_parse.c |    2 +-
 qw/source/cl_ents.c  |   16 ++++-----
 qw/source/cl_parse.c |   58 +++++++++++++++++++--------------
 4 files changed, 96 insertions(+), 68 deletions(-)

commit 514f085
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 24 20:33:05 2011 +0900

    Reduce the diffs in cl_demo.c.
    
    Starting to look like a change in protocol rather than a complete rewrite.

 nq/include/client.h  |    1 +
 nq/source/cl_demo.c  |  257 ++++++++++++++++++++----------
 qw/include/cl_demo.h |   10 +-
 qw/source/cl_demo.c  |  420 ++++++++++++++++++++++++++------------------------
 qw/source/cl_main.c  |   16 +-
 5 files changed, 399 insertions(+), 305 deletions(-)

commit d508da3
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 24 13:59:42 2011 +0900

    Reduce cl_cmd.c diffs down to protocol specifics.

 nq/source/cl_cmd.c |    5 ++++-
 qw/source/cl_cmd.c |    3 +--
 2 files changed, 5 insertions(+), 3 deletions(-)

commit 85bcac3
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 24 13:56:00 2011 +0900

    Reduce cl_cam diffs to spectator specifics.

 nq/source/cl_cam.c |   23 ++++++++++----------
 qw/source/cl_cam.c |   59 ++++++++++++++++++++++++++--------------------------
 2 files changed, 41 insertions(+), 41 deletions(-)

commit 73d11ae
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Aug 22 20:00:17 2011 +0900

    Do a lot of diff reduction.

 nq/source/sbar.c |  221 ++++++++++++++++-----------------
 qw/source/sbar.c |  356 ++++++++++++++++++++++++------------------------------
 2 files changed, 263 insertions(+), 314 deletions(-)

commit fb9a095
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jun 19 21:39:35 2011 +0900

    Fix include style mixup.
    
    "" for local, <> for system

 nq/source/cl_cmd.c |    2 +-
 qw/source/game.c   |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 765b9eb
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jun 19 21:34:48 2011 +0900

    Split up the qw entity handling code.
    
    More pre-merge organization.

 qw/include/cl_ents.h    |    5 +
 qw/source/Makefile.am   |    6 +-
 qw/source/cl_entparse.c |  663 +++++++++++++++++++++++++++++++++++++++++++++++
 qw/source/cl_ents.c     |  603 +-----------------------------------------
 4 files changed, 672 insertions(+), 605 deletions(-)

commit 62b17d3
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jun 19 20:02:00 2011 +0900

    Split out the entity linking code.
    
    This should smooth the merge process a little.

 nq/include/client.h   |    3 +-
 nq/source/Makefile.am |    4 +-
 nq/source/cl_ents.c   |  330 +++++++++++++++++++++++++++++++++++++++++++++++++
 nq/source/cl_main.c   |  311 +---------------------------------------------
 qw/source/cl_parse.c  |   11 +-
 5 files changed, 341 insertions(+), 318 deletions(-)

commit 62f7d14
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jun 19 19:04:49 2011 +0900

    White space cleanups.

 nq/source/cl_view.c |   18 +++++++++---------
 qw/source/cl_view.c |   40 ++++++++++++++++++++--------------------
 2 files changed, 29 insertions(+), 29 deletions(-)

commit 245cfb0
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jun 19 09:49:39 2011 +0900

    Much diff reduction.
    
    In the process, found a bug where the yaw speed was not being limited as
    desired.

 nq/include/client.h  |   26 ++++-
 nq/source/cl_input.c |   52 ++++++----
 nq/source/cl_main.c  |    3 +-
 qw/source/cl_input.c |  283 +++++++++++++++++++++++++-------------------------
 qw/source/cl_view.c  |    2 +-
 5 files changed, 197 insertions(+), 169 deletions(-)

commit 88005f6
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jun 18 22:22:47 2011 +0900

    Diff reduction.

 nq/include/client.h |    1 +
 nq/source/cl_tent.c |   23 +++++++---------
 nq/source/cl_view.c |   73 +++++++++++++++++++++++++--------------------------
 qw/source/cl_tent.c |   19 +++++---------
 qw/source/cl_view.c |   48 ++++++++++++++++-----------------
 5 files changed, 74 insertions(+), 90 deletions(-)

commit a59fee5
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jun 18 22:22:06 2011 +0900

    Add the QuatSet macro.
    
    Same as the VectorSet macro.

 include/QF/mathlib.h |    7 +++++++
 1 file changed, 7 insertions(+)

commit 5c9ab28
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 4 09:48:16 2011 +0900

    Fix win32 cross-building.
    
    No idea if the code actually works :(

 include/net_wins.h     |   22 +++---
 libs/net/nc/net_udp.c  |    8 +--
 libs/net/nm/net_udp.c  |    8 +--
 libs/net/nm/net_wins.c |  173 ++++++++++++++++++++++++++++++------------------
 4 files changed, 122 insertions(+), 89 deletions(-)

commit e50f0e1
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 4 09:00:42 2011 +0900

    Make netmain use netadr_t, same as netchan.
    
    Having sockaddr and friends in a header file was bad news for portability
    (especially windows).

 include/net_udp.h      |   20 +++---
 include/netchan.h      |    4 +-
 include/netmain.h      |   54 +++++++---------
 libs/net/nm/net_dgrm.c |   38 ++++++------
 libs/net/nm/net_udp.c  |  159 ++++++++++++++++++++++++++++++++----------------
 5 files changed, 160 insertions(+), 115 deletions(-)

commit 5ee0187
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Sep 3 16:28:00 2011 +0900

    Missed a spot for net_family.

 libs/net/nc/net_udp6.c |    8 +++++++-
 1 file changed, 7 insertions(+), 1 deletion(-)

commit 80b2b82
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Sep 3 13:04:47 2011 +0900

    Add a cvar to control the address family.
    
    OpenBSD doesn't allow mixed binding of ipv4 and ipv6, but being able to use
    ipv6 enabled qf with ipv4 addresses would be nice...

 libs/net/nc/net_udp6.c |   13 ++++++++++++-
 1 file changed, 12 insertions(+), 1 deletion(-)

commit 29a52a8
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 31 18:32:47 2011 +0900

    FIx it for IPv4, too.
    
    Oops, I forgot about that :P

 libs/net/nc/net_udp.c |   23 +++++++++++++++++++++--
 1 file changed, 21 insertions(+), 2 deletions(-)

commit bfcdc5e
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 31 18:07:41 2011 +0900

    Fix qw networking on OpenBSD.
    
    OpenBSD is very picky about the address size, but does provide sa_len and
    friends to make life easier. Use them as appropriate :)

 libs/net/nc/net_udp6.c |   38 ++++++++++++++++++++++++--------------
 1 file changed, 24 insertions(+), 14 deletions(-)

commit 265ff06
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 26 11:14:51 2011 +0300

    Work around OpenBSD's overzealousness.
    
    Requiring exactly the right size (ie, no bigger) for the address buffer
     is going a little too far.

 include/netmain.h |    5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit f0b0a0f
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 26 10:43:41 2011 +0300

    Fix curl related building on OpenBSD.
    
    We weren't using the specified CPP flags :P.

 qw/source/Makefile.am |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 7e5d654
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Aug 25 23:04:02 2011 +0900

    Fix the accidental nukage of PNG_LIBS.
    
    Kind of silly setting PNG_LIBS to -lpng after going to the effort of using
    pkg-config now, isn't it :P

 config.d/compression.m4 |    3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit f75b0a6
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Aug 25 22:35:20 2011 +0900

    Some compile fixes for OpenBSD

 include/netmain.h                    |    1 +
 libs/audio/renderer/Makefile.am      |    2 +-
 libs/audio/renderer/snd_mem.c        |    2 +-
 libs/audio/targets/snd_sun.c         |   20 +++++++++++++-------
 libs/console/server.c                |    2 +-
 libs/gamecode/engine/pr_parse.c      |    2 +-
 libs/gib/regex.c                     |    2 +-
 libs/ruamoko/rua_obj.c               |    2 +-
 libs/ruamoko/rua_string.c            |    2 +-
 libs/util/qfplist.c                  |    2 +-
 libs/util/quakefs.c                  |    2 +-
 libs/util/quakeio.c                  |    2 +-
 libs/video/renderer/gl/gl_sky_clip.c |    2 +-
 libs/video/targets/old_keys.c        |    2 +-
 qw/source/cl_main.c                  |    2 +-
 qw/source/sv_pr_cpqw.c               |    2 +-
 tools/qfbsp/source/qfbsp.c           |    2 +-
 tools/qfbsp/source/winding.c         |    2 +-
 tools/qflight/source/vis.c           |    2 +-
 19 files changed, 31 insertions(+), 24 deletions(-)

commit 0d5beba
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 24 09:14:02 2011 +0900

    Replace qsockaddr with AF_address_t.
    
    It seems qsockaddr's assumptions aren't necessarily portable, as OpenBSD
    seems to be doing weird things with qsa_family. Even if that's not the
    case, this is cleaner.

 include/net_udp.h      |   20 ++++++------
 include/netmain.h      |   48 +++++++++++++++++-----------
 libs/net/nm/net_dgrm.c |   38 +++++++++++-----------
 libs/net/nm/net_udp.c  |   83 ++++++++++++++++++++++--------------------------
 nq/source/sys_sdl.c    |    4 +--
 nq/source/sys_unix.c   |    4 +--
 nq/source/sys_unixd.c  |    4 +--
 nq/source/sys_win.c    |    4 +--
 nq/source/sys_wind.c   |    4 +--
 9 files changed, 107 insertions(+), 102 deletions(-)

commit 6fb6b0c
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Tue Aug 23 02:18:11 2011 -0400

    ignore the renamed doxy conf
    
    Is there a reason it's not just called Doxyfile / Doxyfile.in ?

 .gitignore |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 1cc2b1b
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Tue Aug 23 01:33:51 2011 -0400

    whitespace

 libs/net/nc/net_udp6.c |    5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit d2fa1e2
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Tue Aug 23 01:33:00 2011 -0400

    QW IPv6: lose a pointless assign
    
    We already assign a->family earlier, no need to do it again.

 libs/net/nc/net_udp6.c |    1 -
 1 file changed, 1 deletion(-)

commit a56f6b2
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Tue Aug 23 01:31:03 2011 -0400

    Docs: switch to SVG for the .fig files, add borders around imgs
    
    Self-explanatory, really.

 .gitignore         |    2 ++
 doc/Makefile.am    |   10 +++++++---
 doc/doxygen.css    |    2 ++
 doc/qtv.dox        |    2 +-
 doc/qtv/qwtv.fig   |    2 +-
 include/QF/progs.h |    2 +-
 qtv/include/qtv.h  |    2 +-
 7 files changed, 15 insertions(+), 7 deletions(-)

commit 87ad73f
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Aug 22 18:34:52 2011 +0900

    Add even more info to the address comparison failure.
    
    It turns out the family check is failing. Why?

 libs/net/nm/net_dgrm.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit ce07000
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Aug 22 10:30:35 2011 +0900

    Make the address comparison a little more informative.
    
    Still hunting the openbsd connection issues. It seems the address
    comparision isn't working.

 include/net_udp.h      |    4 +++-
 libs/net/nm/net_dgrm.c |    2 ++
 libs/net/nm/net_udp.c  |    2 +-
 3 files changed, 6 insertions(+), 2 deletions(-)

commit 70d42cc
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Oct 16 12:42:27 2010 +0900

    Allow light entities to specify a named light property.

 tools/qflight/source/properties.c |    7 +++++++
 1 file changed, 7 insertions(+)

commit 73a280f
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Oct 16 12:41:27 2010 +0900

    Handle all light types in the switch.
    
    Even though nothing is down for those types.

 tools/qflight/source/entities.c |    4 ++++
 1 file changed, 4 insertions(+)

commit 2d8b011
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Oct 16 12:40:49 2010 +0900

    Support negative lights.

 tools/qflight/source/ltface.c |   12 ++++++++----
 1 file changed, 8 insertions(+), 4 deletions(-)

commit efce040
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Oct 16 12:39:56 2010 +0900

    Document the fields qflight uses to control lighting.

 tools/qflight/source/properties.txt |   37 +++++++++++++++++++++++++++++++++++
 1 file changed, 37 insertions(+)

commit 8b23e0e
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Aug 20 20:26:41 2011 +0900

    Fix yet another typo :P

 doc/quakeforge.dox |    2 +-
 doc/timestamps.dox |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit d14eff6
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Aug 20 19:55:54 2011 +0900

    Run the docs through aspell.

 doc/dirconf.dox       |    2 +-
 doc/faq.dox           |    8 ++++----
 doc/filesystem.dox    |    2 +-
 doc/property-list.dox |    6 +++---
 doc/quakeforge.dox    |    4 ++--
 doc/tracklist.dox     |    2 +-
 6 files changed, 12 insertions(+), 12 deletions(-)

commit 373f136
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Aug 20 19:39:47 2011 +0900

    Fix a typo.

 doc/tracklist.dox |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f49a41b
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Aug 20 19:31:01 2011 +0900

    Comment on our lack of mp3 support.

 doc/faq.dox |    6 ++++++
 1 file changed, 6 insertions(+)

commit 46f9c9b
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Aug 20 19:24:14 2011 +0900

    Document QF's tracklists.

 doc/faq.dox       |   22 ++++++++++++++++++++++
 doc/tracklist.cfg |   20 ++++++++++----------
 doc/tracklist.dox |   46 ++++++++++++++++++++++++++++++++++++++++++++++
 3 files changed, 78 insertions(+), 10 deletions(-)

commit 6268bd2
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Aug 20 19:23:31 2011 +0900

    Tweak the property list docs a little.

 doc/Makefile.am        |    2 +-
 doc/property-list.dox  |   90 ++++++++++++++++++++++++++++++++++++++++++++++++
 doc/property-lists.dox |   90 ------------------------------------------------
 include/QF/qfplist.h   |    2 +-
 4 files changed, 92 insertions(+), 92 deletions(-)

commit 1402fea
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Aug 20 16:30:43 2011 +0900

    Kill some magic numbers and clean up some whitespace.

 libs/util/qfplist.c |    9 +++++----
 1 file changed, 5 insertions(+), 4 deletions(-)

commit a759a5a
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Aug 20 16:26:51 2011 +0900

    Make the property-list documentation useful for users.

 doc/Makefile.am        |    4 +--
 doc/property-lists.dox |   90 ++++++++++++++++++++++++++++++++++++++++++++++++
 include/QF/qfplist.h   |   49 ++++++--------------------
 3 files changed, 102 insertions(+), 41 deletions(-)

commit 14c2387
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Aug 20 16:11:24 2011 +0900

    Add a shortcut for QuakeForge.
    
    I got tired of typing QuakeForge all the time, and to ensure consistency,
    made it so \QF or @QF will expand to QuakeForge in the generated docs.

 doc/quakeforge.dox.conf.in |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 605d601
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Aug 20 13:35:51 2011 +0900

    Rename the doxygen formatted text files.
    
    So I don't have to keep duplicating file names all over the place, I've
    decided to use the "dox" extension on text files that are formatted for
    doxygen processing. This way, doxygen can search for them using wildcards,
    and unformated text files won't cause any headaches.

 config.d/ac_config_files.m4 |    2 +-
 doc/Makefile.am             |   16 +-
 doc/bind.dox                |   83 +++
 doc/bind.txt                |   83 ---
 doc/connect.dox             |   39 ++
 doc/connect.txt             |   39 --
 doc/cshifts.dox             |   33 +
 doc/cshifts.txt             |   33 -
 doc/dirconf.dox             |  109 +++
 doc/dirconf.txt             |  109 ---
 doc/faq.dox                 |   35 +
 doc/faq.txt                 |   35 -
 doc/filesystem.dox          |   52 ++
 doc/filesystem.txt          |   52 --
 doc/mapformat.dox           |   86 +++
 doc/mapformat.txt           |   86 ---
 doc/qtv.dox                 |   54 ++
 doc/qtv.txt                 |   54 --
 doc/quakeforge.dox          |   21 +
 doc/quakeforge.dox.conf.in  | 1529 ++++++++++++++++++++++++++++++++++++++++++
 doc/quakeforge.dox.in       | 1541 -------------------------------------------
 doc/quakeforge.txt          |   21 -
 doc/qw-cap-spec.dox         |   34 +
 doc/qw-cap-spec.txt         |   34 -
 doc/qw-download-spec.dox    |  100 +++
 doc/qw-download-spec.txt    |  100 ---
 doc/surround-sound.dox      |   17 +
 doc/surround-sound.txt      |   17 -
 doc/timestamps.dox          |   83 +++
 doc/timestamps.txt          |   83 ---
 30 files changed, 2284 insertions(+), 2296 deletions(-)

commit cf2845a
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Aug 20 13:13:43 2011 +0900

    Ensure Sys_Error can not form an infinite loop.
    
    I don't remember what propted this change, but it seems like a good idea
    anyway, so get it into the repository and clean out my stash :)

 libs/util/sys.c |    8 ++++++++
 1 file changed, 8 insertions(+)

commit f7b52e0
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Aug 16 14:17:17 2011 +0900

    Convert and link INSTALL into our doxygen docs.

 INSTALL               |  126 +++++++++++++++++++++++++++++--------------------
 doc/Makefile.am       |   12 +++--
 doc/quakeforge.dox.in |    1 +
 doc/quakeforge.txt    |    1 +
 4 files changed, 87 insertions(+), 53 deletions(-)

commit bb065bd
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Aug 16 12:10:05 2011 +0900

    Be a little leniant with vector param stores.
    
    qcc always used vector stores to load values into the function parameters,
    but if the location of the value is too close to the end of the global data
    block (the vector spans the end of the block), it would trigger the bounds
    check code. Thus, allow such instructions without a murmer, so long as it
    actually is a parameter write.

 libs/gamecode/engine/pr_opcode.c |   23 +++++++++++++++++++++--
 1 file changed, 21 insertions(+), 2 deletions(-)

commit 53049e3
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Aug 16 10:03:43 2011 +0900

    Make the interface code more portable.
    
    It turns out SIOCGIFINDEX isn't (readily?) available in BSD, but
    if_nametoindex() is defined by posix, so use that instead.

 libs/net/nm/net_udp.c |   16 +++++-----------
 1 file changed, 5 insertions(+), 11 deletions(-)

commit 4cec4b9
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Aug 11 18:32:39 2011 +0900

    Rewrite the interface detection code.
    
    Turns out SIOCGIFCONF is rather painful to get working cross-platform. This
    should work better, and can be used even with ipv6 :)

 config.d/header_files.m4 |    8 ++---
 config.d/networking.m4   |   13 +++++++
 libs/net/nm/net_udp.c    |   89 ++++++++++++++++++++++++++--------------------
 3 files changed, 68 insertions(+), 42 deletions(-)

commit c1a6055
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Aug 11 17:22:14 2011 +0900

    Clean up default rate setting and add explicit support for 48kHz.

 libs/audio/targets/snd_alsa.c |   44 ++++++++++++++++++++++-------------------
 1 file changed, 24 insertions(+), 20 deletions(-)

commit 5feb045
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Aug 11 17:20:33 2011 +0900

    Add and use SYS_SND for both sound and cd debug prints.

 include/QF/sys.h             |    1 +
 libs/audio/cd_linux.c        |   26 +++++++++++++-------------
 libs/audio/cd_sdl.c          |   10 +++++-----
 libs/audio/cd_sgi.c          |   16 ++++++++--------
 libs/audio/cd_win.c          |   30 +++++++++++++++---------------
 libs/audio/cd_xmms.c         |    2 +-
 libs/audio/targets/snd_win.c |    2 +-
 7 files changed, 44 insertions(+), 43 deletions(-)

commit 290ac30
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Aug 11 16:08:20 2011 +0900

    Fix x11 gamma control.
    
    Seems we lost a header include at one stage.

 libs/video/targets/context_x11.c |    5 +++++
 1 file changed, 5 insertions(+)

commit d3c2afc
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Aug 11 15:36:51 2011 +0900

    Handle old global vector compontents.
    
    In the original save gave format, global vectors were saved as individual
    components rather than as a single vector, using the _x/_y/_z tags on the
    vector name. However, recent qfcc completely dumped vector components as
    separate defs, so old save games would have trouble loading with progs
    built with a recent qfcc. Thus, do the component translation if necessary.

 libs/gamecode/engine/pr_parse.c |   23 +++++++++++++++++++++++
 1 file changed, 23 insertions(+)

commit e42c5a4
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Aug 11 14:58:13 2011 +0900

    More tests and fix vector/quaternion global dumps.

 tools/qfcc/source/dump_globals.c |    4 ++--
 tools/qfcc/test/cast2.r          |    9 +++++++++
 tools/qfcc/test/class-end.r      |   23 +++++++++++++++++++++++
 tools/qfcc/test/const.r          |    2 ++
 tools/qfcc/test/field-alias.r    |   11 +++++++++++
 tools/qfcc/test/self-this.r      |    6 ++++++
 tools/qfcc/test/value.r          |    7 +++++++
 tools/qfcc/test/vector2.r        |   13 +++++++++++++
 8 files changed, 73 insertions(+), 2 deletions(-)

commit 5d52810
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Aug 11 14:23:25 2011 +0900

    Disable single character tokens when parsing old save games.

 nq/source/host_cmd.c |    1 +
 1 file changed, 1 insertion(+)

commit ff857a9
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Aug 11 14:22:27 2011 +0900

    Permit control of single character tokens.

 include/QF/script.h |    4 ++++
 libs/util/script.c  |    2 ++
 2 files changed, 6 insertions(+)

commit 805256f
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Aug 6 21:47:57 2011 +0900

    Use the last used interface address for the socket address.
    
    This allows the correct address to be put in the server info packet
    allowing nq to work on multi-homed hosts. More testing needs to be done to
    ensure nothing is broken, or better yet, a rewrite of the networking code
    to properly associate the information with the packets.

 libs/net/nm/net_udp.c |    7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

commit ae9404c
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Aug 6 20:30:56 2011 +0900

    Obtain the interface on which the packet arrived.
    
    Once I sort out just how to get the information to the right place, this
    should fix a lot of the problems with nq on multi-homed nodes.

 libs/net/nm/net_udp.c |   59 ++++++++++++++++++++++++++++++++++++++++++++++---
 1 file changed, 56 insertions(+), 3 deletions(-)

commit 3088566
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Aug 6 18:57:53 2011 +0900

    Replace get_address() with get_iface_list().

 libs/net/nm/net_udp.c |   71 +++++++++++++++++++++++++++++--------------------
 1 file changed, 42 insertions(+), 29 deletions(-)

commit 6716b2e
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Aug 6 17:21:54 2011 +0900

    Add some disabled test code for interface access.
    
    As part of the work on getting nq to work on multi-homed nodes, I used the
    existing recvmsg code in qw-master to check how things work. I figured it
    might be worth keeping.

 qw/source/master.c |   16 ++++++++++++++++
 1 file changed, 16 insertions(+)

commit 6f0ab84
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Aug 2 17:36:38 2011 +0900

    Some more nq networking debug prints.

 libs/net/net_main.c    |    2 ++
 libs/net/nm/net_dgrm.c |    5 +++++
 nq/source/host.c       |    1 +
 3 files changed, 8 insertions(+)

commit 3898f5f
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Aug 4 20:21:52 2011 +0900

    Debian build fixes from sergio.

 debian/changelog                  |    6 ++++++
 debian/quakeforge-common.install  |    1 -
 debian/quakeforge-common.postinst |    1 -
 debian/quakeforge-dev.install     |    2 --
 4 files changed, 6 insertions(+), 4 deletions(-)

commit eba66b1
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Aug 2 17:32:36 2011 +0900

    Doc tweaks and some whitespace.

 include/netmain.h      |    3 ++-
 libs/net/nm/net_dgrm.c |    6 ++++--
 2 files changed, 6 insertions(+), 3 deletions(-)

commit 76f894a
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Aug 2 15:22:57 2011 +0900

    Add some debug prints for nq networking.

 libs/net/nm/net_dgrm.c |    2 ++
 libs/net/nm/net_udp.c  |    2 ++
 2 files changed, 4 insertions(+)

commit e587675
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Aug 2 15:22:33 2011 +0900

    Document the datagram net driver interface.

 include/net_dgrm.h     |   81 ++++++++++++++++++++++++++++++++++++++++++++++++
 include/net_udp.h      |    6 +++-
 libs/net/nm/net_dgrm.c |   22 +++++++------
 3 files changed, 99 insertions(+), 10 deletions(-)

commit e89532c
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Aug 2 11:29:20 2011 +0900

    Fix a couple of missed view.h->clview.h changes.

 libs/video/renderer/sw32/screen.c     |    2 +-
 libs/video/renderer/sw32/sw32_rmain.c |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 6f413c0
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Aug 2 11:24:51 2011 +0900

    Fix testsound building in mingw.
    
    I had forgotten about $(EXEEXT) :P

 config.d/build_control.m4 |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 8e140bc
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jul 30 17:44:03 2011 +0900

    Use SYS_NET instead of SYS_DEV for networking debug prints.

 libs/net/net_main.c    |    2 +-
 libs/net/nm/net_dgrm.c |   12 ++++++------
 libs/net/nm/net_udp.c  |    2 +-
 libs/net/nm/net_wins.c |    2 +-
 4 files changed, 9 insertions(+), 9 deletions(-)

commit 28610c0
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jul 30 15:03:19 2011 +0900

    Do not try to build testsound when not building sound libs.

 config.d/build_control.m4   |    3 +++
 libs/audio/test/Makefile.am |    4 +++-
 2 files changed, 6 insertions(+), 1 deletion(-)

commit c6e0e09
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jul 30 15:01:16 2011 +0900

    Fix an unterminated array.
    
    That was sneaky. It took building qfcc on an arm to trigger that bug.

 tools/qfcc/source/class.c |    1 +
 1 file changed, 1 insertion(+)

commit bf58ad9
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jul 29 17:21:33 2011 +0900

    And silence a "set but not used" warning.

 libs/util/quakeio.c |    4 ++++
 1 file changed, 4 insertions(+)

commit 056d6a0
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jul 29 16:51:52 2011 +0900

    Do not define HAVE_ZLIB when it is unavailable.
    
    Oops :P

 config.d/compression.m4 |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a5272fa
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jul 29 16:32:35 2011 +0900

    Make the lack of libsamplerate a non-fatal error.
    
    Requiring libsamplerate when not building clients is rather silly. When
    building clients, disable sound if libsamplerate can't be found.

 config.d/sound.m4 |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 77dcd07
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jul 29 14:30:54 2011 +0900

    Remove a dead function.

 include/net_udp.h      |   10 ----------
 include/net_wins.h     |    1 -
 include/netmain.h      |    1 -
 libs/net/nm/net_bsd.c  |    1 -
 libs/net/nm/net_udp.c  |   14 --------------
 libs/net/nm/net_win.c  |    1 -
 libs/net/nm/net_wins.c |   17 -----------------
 7 files changed, 45 deletions(-)

commit bc62988
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jul 29 13:52:42 2011 +0900

    Document the NQ udp driver code.

 include/net_udp.h |  175 ++++++++++++++++++++++++++++++++++++++++++++++++-----
 1 file changed, 159 insertions(+), 16 deletions(-)

commit 50341d0
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jul 29 13:51:58 2011 +0900

    Whitespace.

 libs/net/nm/net_udp.c |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit d6dc09d
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jul 29 13:36:50 2011 +0900

    Re-enable the buglist.

 doc/quakeforge.dox.in |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit b529bae
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jul 29 12:41:46 2011 +0900

    Some more netmain documentation.
    
    I think I now understand enough to be able to start merging the low-level
    networking code.

 include/netmain.h |   69 +++++++++++++++++++++++++++++++++++++----------------
 1 file changed, 49 insertions(+), 20 deletions(-)

commit 07d5b11
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jul 29 10:11:14 2011 +0900

    Clean out some dead code and variables.
    
    We haven't had serial or ipx support for a long time.

 include/QF/skin.h    |    5 +++--
 include/netmain.h    |   17 ---------------
 libs/net/net_main.c  |   58 --------------------------------------------------
 nq/source/host_cmd.c |    2 --
 4 files changed, 3 insertions(+), 79 deletions(-)

commit 1e3f321
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jul 29 09:04:09 2011 +0900

    Do some doc work on progs.

 include/QF/progs.h |  131 +++++++++++++++++++++++++++++++++++++++++++++++++---
 1 file changed, 124 insertions(+), 7 deletions(-)

commit 7d07b31
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jul 26 20:58:19 2011 +0900

    Document the connection protocol defines.
    
    Well, really re-use the existing documentation, but make doxygen do
    something with it. I'm not fully satisfied with the result, but it will do
    for now, and getting more information on what the messages really mean will
    help.

 include/netmain.h |  136 +++++++++++++++++++++++++++++------------------------
 1 file changed, 74 insertions(+), 62 deletions(-)

commit 1d57477
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jul 26 14:15:41 2011 +0900

    Document the "public" functions of NQ's networking code.

 include/net_dgrm.h     |    6 ++
 include/net_loop.h     |    7 ++
 include/net_udp.h      |    7 ++
 include/net_vcr.h      |    7 ++
 include/net_wins.h     |    7 ++
 include/netmain.h      |  249 ++++++++++++++++++++++++++++++++----------------
 libs/net/net_main.c    |   90 +++--------------
 libs/net/nm/net_bsd.c  |    2 +-
 libs/net/nm/net_dgrm.c |    2 +-
 libs/net/nm/net_loop.c |    2 +-
 libs/net/nm/net_udp.c  |    2 +-
 libs/net/nm/net_vcr.c  |    2 +-
 libs/net/nm/net_win.c  |    2 +-
 libs/net/nm/net_wins.c |    2 +-
 14 files changed, 218 insertions(+), 169 deletions(-)

commit ca817fa
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jul 26 11:34:17 2011 +0900

    Fix a typo.

 include/QF/draw.h |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 64881d2
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jul 26 11:29:41 2011 +0900

    Finish the docs for netchan.
    
    Also clean out some unnecessary declarations.

 include/netchan.h   |   84 +++++++++++++++++++++++++++++++++++++++++++++------
 libs/net/net_chan.c |   42 +++++++++-----------------
 2 files changed, 88 insertions(+), 38 deletions(-)

commit c7c646a
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Mon Jul 25 17:19:43 2011 -0400

    Makefile portability fixes
    
    Allow our makefiles to build with non-GNU 'make' implementations.
    Required some renaming of not-really-QuakeC source to .r to get it right.

 doc/Makefile.am                 |    5 +-
 ruamoko/cl_menu/Makefile.am     |   17 +-
 ruamoko/cl_menu/client_menu.qc  |  599 ---------------------------------------
 ruamoko/cl_menu/client_menu.r   |  599 +++++++++++++++++++++++++++++++++++++++
 ruamoko/cl_menu/controls_o.qc   |  516 ---------------------------------
 ruamoko/cl_menu/controls_o.r    |  516 +++++++++++++++++++++++++++++++++
 ruamoko/cl_menu/options.qc      |  475 -------------------------------
 ruamoko/cl_menu/options.r       |  475 +++++++++++++++++++++++++++++++
 ruamoko/cl_menu/options_util.qc |  128 ---------
 ruamoko/cl_menu/options_util.r  |  128 +++++++++
 ruamoko/cl_menu/servlist.qc     |  111 --------
 ruamoko/cl_menu/servlist.r      |  111 ++++++++
 ruamoko/game/Makefile.am        |   13 +-
 ruamoko/gui/Makefile.am         |    6 +-
 ruamoko/lib/Makefile.am         |    6 +-
 ruamoko/scheme/Makefile.am      |   22 +-
 ruamoko/scheme/defs.qc          |   22 --
 ruamoko/scheme/defs.r           |   22 ++
 ruamoko/scheme/main.qc          |   75 -----
 ruamoko/scheme/main.r           |   75 +++++
 20 files changed, 1959 insertions(+), 1962 deletions(-)

commit 30040d4
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Mon Jul 25 16:59:39 2011 -0400

    update doxygen 1.7.4 layout format
    
    They added an "intro" key, which I don't grok yet. When I find out WTF
    it means, I'll probably add some text.

 doc/ruadoc-layout.xml |   27 ++++++++++++++-------------
 1 file changed, 14 insertions(+), 13 deletions(-)

commit 5ef9200
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Mon Jul 25 16:56:27 2011 -0400

    Switch to SVG images for docs.
    
    Doxygen 1.7.3 added support for SVG output from dot, so let's use it.

 doc/doxygen.css       |    6 ++++++
 doc/quakeforge.dox.in |    4 ++--
 ruamoko/Doxyfile.in   |    2 +-
 3 files changed, 9 insertions(+), 3 deletions(-)

commit 6fad9bc
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Mon Jul 25 15:52:24 2011 -0400

    Misc. doc sanitation
    
    Slightly document some of the vector types, and fix some typos.

 include/QF/progs.h  |   10 +++++-----
 include/QF/qtypes.h |    6 +++---
 2 files changed, 8 insertions(+), 8 deletions(-)

commit 49b5940
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Fri Jul 15 13:12:26 2011 -0400

    VM doc cleanups
    
    Clarify that the "return value" macros all access the same location in
    memory, and are just casting it (after a fashion) to the desired type.

 include/QF/progs.h |   40 ++++++++++++++++++++++------------------
 1 file changed, 22 insertions(+), 18 deletions(-)

commit 9d2a3d2
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Mon Jul 11 12:58:56 2011 -0400

    Docs: Re-enable bolding
    
    also, make CODE tags bold, to help them stand out a little more.

 doc/doxygen.css |   11 ++++++++---
 1 file changed, 8 insertions(+), 3 deletions(-)

commit 688e5c7
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jul 23 21:39:13 2011 +0900

    Use ncqport_e on the right field.
    
    Well, now, that was incredibly silly, wasn't it? :P

 include/netchan.h   |    6 +++---
 libs/net/net_chan.c |    2 +-
 qw/include/sv_qtv.h |    4 ++--
 qw/source/sv_main.c |    4 ++--
 qw/source/sv_qtv.c  |    4 ++--
 5 files changed, 10 insertions(+), 10 deletions(-)

commit 9ccd570
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jul 23 21:37:34 2011 +0900

    Fix a problem with linking FLAC libs.

 libs/audio/renderer/Makefile.am |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 3678b61
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jul 23 17:53:06 2011 +0900

    Make a start on documenting netchan.

 include/netchan.h   |  155 ++++++++++++++++++++++++++++++++++++++++-----------
 libs/net/net_chan.c |   46 ---------------
 2 files changed, 123 insertions(+), 78 deletions(-)

commit 2035e65
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jul 23 17:51:07 2011 +0900

    Make the qport flags a little more doc friendly.

 include/netchan.h   |   12 +++++++-----
 libs/net/net_chan.c |    6 +++---
 qtv/source/client.c |    2 +-
 qtv/source/server.c |    4 ++--
 qw/include/sv_qtv.h |    4 ++--
 qw/source/cl_demo.c |    2 +-
 qw/source/cl_main.c |    2 +-
 qw/source/sv_main.c |    8 +++++---
 qw/source/sv_qtv.c  |    6 +++---
 9 files changed, 25 insertions(+), 21 deletions(-)

commit adce93a
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jul 23 16:02:10 2011 +0900

    Change a note to a warning.

 include/netchan.h |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 24a5098
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jul 23 15:58:06 2011 +0900

    Document the public interface to QW's net_udp

 include/netchan.h |   92 ++++++++++++++++++++++++++++++++++++++++++++++-------
 1 file changed, 81 insertions(+), 11 deletions(-)

commit e15771f
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jul 23 15:57:32 2011 +0900

    Nuke a dead function.

 include/netchan.h      |    1 -
 libs/net/nc/net_udp.c  |   32 --------------------------------
 libs/net/nc/net_udp6.c |   31 -------------------------------
 3 files changed, 64 deletions(-)

commit b0c93aa
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jul 23 15:56:43 2011 +0900

    Remove an annoying comment.

 include/netmain.h |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit efa0105
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jul 23 15:56:22 2011 +0900

    Rename some headers to fix doxygen warnings.

 include/Makefile.am                   |   18 +-
 include/clview.h                      |   56 ++++
 include/snd_internal.h                |  574 +++++++++++++++++++++++++++++++++
 include/snd_render.h                  |  574 ---------------------------------
 include/view.h                        |   56 ----
 libs/audio/cd_file.c                  |    2 +-
 libs/audio/renderer/flac.c            |    2 +-
 libs/audio/renderer/midi.c            |    2 +-
 libs/audio/renderer/snd_channels.c    |    2 +-
 libs/audio/renderer/snd_dma.c         |    2 +-
 libs/audio/renderer/snd_jack.c        |    2 +-
 libs/audio/renderer/snd_mem.c         |    2 +-
 libs/audio/renderer/snd_mix.c         |    2 +-
 libs/audio/renderer/snd_resample.c    |    2 +-
 libs/audio/renderer/snd_sfx.c         |    2 +-
 libs/audio/renderer/vorbis.c          |    2 +-
 libs/audio/renderer/wav.c             |    2 +-
 libs/audio/targets/snd_alsa.c         |    2 +-
 libs/audio/targets/snd_disk.c         |    2 +-
 libs/audio/targets/snd_dx.c           |    2 +-
 libs/audio/targets/snd_oss.c          |    2 +-
 libs/audio/targets/snd_sdl.c          |    2 +-
 libs/audio/targets/snd_sgi.c          |    2 +-
 libs/audio/targets/snd_sun.c          |    2 +-
 libs/audio/targets/snd_win.c          |    2 +-
 libs/video/renderer/gl/gl_mod_alias.c |    1 -
 libs/video/renderer/gl/gl_rmain.c     |    2 +-
 libs/video/renderer/gl/gl_screen.c    |    2 +-
 libs/video/renderer/gl/gl_sky.c       |    1 -
 libs/video/renderer/gl/gl_sky_clip.c  |    1 -
 libs/video/renderer/sw/screen.c       |    2 +-
 libs/video/renderer/sw/sw_rmain.c     |    2 +-
 libs/video/targets/vid.c              |    1 -
 nq/source/cl_view.c                   |    2 +-
 nq/source/host.c                      |    2 +-
 nq/source/sv_ded.c                    |    2 +-
 nq/source/sv_user.c                   |    2 +-
 qw/source/cl_ents.c                   |    2 +-
 qw/source/cl_input.c                  |    2 +-
 qw/source/cl_main.c                   |    2 +-
 qw/source/cl_parse.c                  |    2 +-
 qw/source/cl_view.c                   |    2 +-
 42 files changed, 672 insertions(+), 676 deletions(-)

commit b17e37f
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jul 23 14:58:45 2011 +0900

    Remove uneccessary differences between ip4 and ip6 code

 libs/net/nc/net_udp.c  |  148 ++++++++++++++++++++++++++----------------------
 libs/net/nc/net_udp6.c |   19 +++----
 2 files changed, 87 insertions(+), 80 deletions(-)

commit f8d8395
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jul 23 09:55:27 2011 +0900

    Clean up the ipv6 check a little.

 config.d/networking.m4 |   10 ++++++----
 1 file changed, 6 insertions(+), 4 deletions(-)

commit 4dca500
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jul 10 21:29:10 2011 +0900

    Mintor improvment to the QWE newstr().

 qw/source/sv_pr_qwe.c |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 6a026ae
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jul 10 19:12:07 2011 +0900

    Clean up some doxygen warnings.

 doc/qw-download-spec.txt   |    2 +-
 tools/qfcc/include/expr.h  |    2 +-
 tools/qfcc/source/linker.c |    1 +
 3 files changed, 3 insertions(+), 2 deletions(-)

commit 01eb29f
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jul 10 18:58:50 2011 +0900

    Fix the bindings menus.
    
    That was a lot easier than I expected.

 ruamoko/cl_menu/Makefile.am |    4 ++--
 ruamoko/cl_menu/SubMenu.h   |   14 ++++++++++++++
 ruamoko/cl_menu/SubMenu.r   |   39 +++++++++++++++++++++++++++++++++++++++
 ruamoko/cl_menu/menu.plist  |   14 +++++++++++---
 ruamoko/cl_menu/options.qc  |    4 ++--
 5 files changed, 68 insertions(+), 7 deletions(-)

commit b250879
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jul 10 18:58:16 2011 +0900

    Docs for MenuGroup

 ruamoko/cl_menu/MenuGroup.h |   26 +++++++++++++++++++++++---
 1 file changed, 23 insertions(+), 3 deletions(-)

commit 2d34b89
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jul 10 18:57:24 2011 +0900

    Some changes I missed from the previous commit.

 ruamoko/gui/Group.r     |    5 -----
 ruamoko/gui/InputLine.r |   16 ++++++++--------
 2 files changed, 8 insertions(+), 13 deletions(-)

commit efbedf6
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jul 10 17:33:43 2011 +0900

    Make a start on documenting the gui stuff.

 ruamoko/include/gui/Group.h     |   33 +++++-
 ruamoko/include/gui/InputLine.h |  224 ++++++++++++++++++++++++++++++++++++---
 ruamoko/include/gui/Pic.h       |    5 +
 ruamoko/include/gui/Point.h     |    5 +
 ruamoko/include/gui/Rect.h      |    5 +
 ruamoko/include/gui/Size.h      |    5 +
 ruamoko/include/gui/Slider.h    |    5 +
 ruamoko/include/gui/Text.h      |    5 +
 ruamoko/include/gui/View.h      |    8 ++
 9 files changed, 279 insertions(+), 16 deletions(-)

commit c1dc4f7
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Sat Jul 9 23:24:38 2011 -0400

    Fix parameter names in documentation bodies
    
    In \param sections within function/etc. docs, argument names were being
    displayed with the same formatting they are in the prototype...very ugly
    on the background they're on. Make 'em white.

 doc/doxygen.css |    6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit 9be0235
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Sat Jul 9 23:16:34 2011 -0400

    Add stuff from doxygen 1.7.4
    
    New doxygen makes our docs all ugly, let's give 'em a face lift.

 doc/doxygen.css |  313 +++++++++++++++++++++++++++++++++++++++++++++----------
 1 file changed, 260 insertions(+), 53 deletions(-)

commit a46f8e3
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jul 10 08:56:04 2011 +0900

    Convert prototypes to C-style for doxygen.

 ruamoko/cl_menu/controls_o.h   |    4 ++--
 ruamoko/cl_menu/menu.h         |   45 ++++++++++++++++++++--------------------
 ruamoko/cl_menu/options.h      |    4 ++--
 ruamoko/cl_menu/options_util.h |   10 ++++-----
 ruamoko/cl_menu/servlist.h     |    2 +-
 5 files changed, 32 insertions(+), 33 deletions(-)

commit 070eeb2
Author: Antti Harri <iku@openbsd.fi>
Date:   Sun Jul 10 16:24:44 2011 +0300

    Fix previous FLAC pkg-config commit that had some typos.
    While there, restructure and remove duplicate code.

 config.d/compression.m4 |   11 ++++-------
 1 file changed, 4 insertions(+), 7 deletions(-)

commit 15a5f98
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jul 10 21:29:10 2011 +0900

    Mintor improvment to the QWE newstr().

 qw/source/sv_pr_qwe.c |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit d910c14
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jul 10 19:12:07 2011 +0900

    Clean up some doxygen warnings.

 doc/qw-download-spec.txt   |    2 +-
 tools/qfcc/include/expr.h  |    2 +-
 tools/qfcc/source/linker.c |    1 +
 3 files changed, 3 insertions(+), 2 deletions(-)

commit ef8b182
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jul 10 18:58:50 2011 +0900

    Fix the bindings menus.
    
    That was a lot easier than I expected.

 ruamoko/cl_menu/Makefile.am |    4 ++--
 ruamoko/cl_menu/SubMenu.h   |   14 ++++++++++++++
 ruamoko/cl_menu/SubMenu.r   |   39 +++++++++++++++++++++++++++++++++++++++
 ruamoko/cl_menu/menu.plist  |   14 +++++++++++---
 ruamoko/cl_menu/options.qc  |    4 ++--
 5 files changed, 68 insertions(+), 7 deletions(-)

commit 15cb884
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jul 10 18:58:16 2011 +0900

    Docs for MenuGroup

 ruamoko/cl_menu/MenuGroup.h |   26 +++++++++++++++++++++++---
 1 file changed, 23 insertions(+), 3 deletions(-)

commit 7c23817
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jul 10 18:57:24 2011 +0900

    Some changes I missed from the previous commit.

 ruamoko/gui/Group.r     |    5 -----
 ruamoko/gui/InputLine.r |   16 ++++++++--------
 2 files changed, 8 insertions(+), 13 deletions(-)

commit 2c85a3c
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jul 10 17:33:43 2011 +0900

    Make a start on documenting the gui stuff.

 ruamoko/include/gui/Group.h     |   33 +++++-
 ruamoko/include/gui/InputLine.h |  224 ++++++++++++++++++++++++++++++++++++---
 ruamoko/include/gui/Pic.h       |    5 +
 ruamoko/include/gui/Point.h     |    5 +
 ruamoko/include/gui/Rect.h      |    5 +
 ruamoko/include/gui/Size.h      |    5 +
 ruamoko/include/gui/Slider.h    |    5 +
 ruamoko/include/gui/Text.h      |    5 +
 ruamoko/include/gui/View.h      |    8 ++
 9 files changed, 279 insertions(+), 16 deletions(-)

commit 26bfc4b
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Sat Jul 9 23:24:38 2011 -0400

    Fix parameter names in documentation bodies
    
    In \param sections within function/etc. docs, argument names were being
    displayed with the same formatting they are in the prototype...very ugly
    on the background they're on. Make 'em white.

 doc/doxygen.css |    6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit b1f8e7e
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Sat Jul 9 23:16:34 2011 -0400

    Add stuff from doxygen 1.7.4
    
    New doxygen makes our docs all ugly, let's give 'em a face lift.

 doc/doxygen.css |  313 +++++++++++++++++++++++++++++++++++++++++++++----------
 1 file changed, 260 insertions(+), 53 deletions(-)

commit 361e76a
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jul 10 08:56:04 2011 +0900

    Convert prototypes to C-style for doxygen.

 ruamoko/cl_menu/controls_o.h   |    4 ++--
 ruamoko/cl_menu/menu.h         |   45 ++++++++++++++++++++--------------------
 ruamoko/cl_menu/options.h      |    4 ++--
 ruamoko/cl_menu/options_util.h |   10 ++++-----
 ruamoko/cl_menu/servlist.h     |    2 +-
 5 files changed, 32 insertions(+), 33 deletions(-)

commit e56e8ca
Author: Antti Harri <iku@openbsd.fi>
Date:   Sat Jul 9 22:59:49 2011 +0300

    Fix previous FLAC pkg-config commit that had some typos.
    While there, restructure and remove duplicate code.

 config.d/compression.m4 |   11 ++++-------
 1 file changed, 4 insertions(+), 7 deletions(-)

commit 8ac5079
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jul 9 21:16:38 2011 +0900

    Get inputlines mostly working.
    
    It should be only behind-the-scenes updates that are still a problem.

 include/QF/console.h             |    3 +++
 libs/console/bi_inputline.c      |   20 ++++++++++++++------
 libs/console/client.c            |    9 +--------
 libs/console/inputline.c         |    1 +
 ruamoko/cl_menu/CvarStringView.r |    8 ++++++--
 ruamoko/gui/InputLine.r          |   17 ++++++-----------
 ruamoko/include/gui/InputLine.h  |    9 ++-------
 7 files changed, 33 insertions(+), 34 deletions(-)

commit 652b434
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jul 9 09:44:37 2011 +0900

    Rework the inputline wrapper.
    
    Use the resource map code for handle management (much safer).
    Add support for the enter callback (function or method).
    
    Unfortunately, it still doesn't work due to poor design of the inputline
    user data.

 libs/console/bi_inputline.c      |  224 ++++++++++++++++++++++++++------------
 ruamoko/cl_menu/CvarStringView.r |    8 ++
 ruamoko/gui/InputLine.r          |   16 +++
 ruamoko/include/gui/InputLine.h  |    4 +
 4 files changed, 183 insertions(+), 69 deletions(-)

commit 3dd31b7
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jul 9 09:42:11 2011 +0900

    Fix some bugs found while hacking inputlines.

 libs/ruamoko/rua_hash.c  |    2 ++
 libs/ruamoko/rua_plist.c |    3 +++
 libs/ruamoko/rua_qfile.c |    2 ++
 3 files changed, 7 insertions(+)

commit c30e295
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jul 9 09:41:30 2011 +0900

    Correct the pointer declarations in the docs.

 include/QF/progs.h |   20 ++++++++++----------
 1 file changed, 10 insertions(+), 10 deletions(-)

commit 358a844
Author: Antti Harri <iku@openbsd.fi>
Date:   Sat Jul 9 01:23:36 2011 +0300

    Implement --version-info configure switch to override QuakeForge
    library versioning. From Lasse Collin, thanks!

 config.d/versions.m4             |    6 ++++++
 libs/audio/Makefile.am           |    4 ++--
 libs/console/Makefile.am         |    2 +-
 libs/gamecode/engine/Makefile.am |    2 +-
 libs/gib/Makefile.am             |    2 +-
 libs/image/Makefile.am           |    2 +-
 libs/models/Makefile.am          |    6 +++---
 libs/object/Makefile.am          |    2 +-
 libs/ruamoko/Makefile.am         |    2 +-
 libs/util/Makefile.am            |    2 +-
 libs/video/renderer/Makefile.am  |    4 ++--
 libs/video/targets/Makefile.am   |    2 +-
 12 files changed, 21 insertions(+), 15 deletions(-)

commit c482626
Author: Antti Harri <iku@openbsd.fi>
Date:   Fri Jul 8 21:35:04 2011 +0300

    Extend configure check for FLAC to use pkg-config when
    possible.

 config.d/compression.m4 |   13 ++++++++++---
 1 file changed, 10 insertions(+), 3 deletions(-)

commit 838e35a
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jul 7 17:08:21 2011 +0900

    Fix the escape problem for Join Game.
    
    Allowing the menus to override the Escape key was necessary, but there was
    badly written code floating around that broke when that was implemented.
    Oops.

 ruamoko/cl_menu/client_menu.qc |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 01463b0
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jul 6 19:48:27 2011 +0900

    Fix the color view key gobbling bug.

 ruamoko/cl_menu/CvarColorView.r |    6 ++----
 1 file changed, 2 insertions(+), 4 deletions(-)

commit 508fd22
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jul 6 19:21:35 2011 +0900

    Convert the player menu to using the plist.
    
    Various things are decidedly broken:
      * shirt and pants colors cannot be changed
      * shirt and pants color views gobble the cursor keys (cannot leave them)
      * input fields do not get updated if the cvar is changed elsewhere
      * name input field (at least) does not set the new name
    However, at least the escape problem is fixed :)

 ruamoko/cl_menu/menu.plist  |  125 +++++++++++++++++++++++++++++++++
 ruamoko/cl_menu/options.qc  |  164 ++++++-------------------------------------
 ruamoko/cl_menu/plistmenu.r |    3 +
 3 files changed, 148 insertions(+), 144 deletions(-)

commit 4e66a5b
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jul 6 19:17:28 2011 +0900

    Add rua rappers for the cvar alias functions.

 libs/ruamoko/rua_cvar.c |  100 ++++++++++++++++++++++++++++++++++++++++++-----
 ruamoko/include/cvar.h  |    2 +
 ruamoko/lib/cvar.r      |    2 +
 3 files changed, 95 insertions(+), 9 deletions(-)

commit 6114156
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jul 5 21:59:47 2011 +0900

    Add Cvar_RemoveAlias.
    
    Now aliases can be deleted (needed for menus).

 include/QF/cvar.h |    1 +
 libs/util/cvar.c  |   24 ++++++++++++++++++++----
 2 files changed, 21 insertions(+), 4 deletions(-)

commit a729194
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jul 5 20:50:02 2011 +0900

    Fix up Cvar_MakeAlias's error checking.

 include/QF/cvar.h |    2 +-
 libs/util/cvar.c  |   17 ++++++++++++-----
 2 files changed, 13 insertions(+), 6 deletions(-)

commit d2894a6
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jul 5 20:28:57 2011 +0900

    Rename Cvar_AliasGet to Cvar_MakeAliase.

 include/QF/cvar.h   |    2 +-
 libs/util/cvar.c    |    2 +-
 nq/source/cl_main.c |    2 +-
 qw/source/cl_main.c |    2 +-
 4 files changed, 4 insertions(+), 4 deletions(-)

commit a8245e5
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jul 5 19:05:24 2011 +0900

    Fix a memory leak.
    
    The command hash table is shared between all progs engine instances, but it
    was being allocated for every instance. Ensure only one is allocated.

 libs/ruamoko/rua_cmd.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 6484dd1
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jul 4 21:05:42 2011 +0900

    Finish cvar alias support.
    
    Several functions that manipulate cvars were not checking for aliases.

 libs/ruamoko/rua_cvar.c |   16 ++++++++++++++++
 libs/util/cvar.c        |    6 ++++++
 2 files changed, 22 insertions(+)

commit 617e70c
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jun 21 19:52:47 2011 +0900

    Clean up a bunch of bison unused warnings.

 tools/qfcc/source/qc-parse.y |   29 +++++++++++++++++++++++------
 1 file changed, 23 insertions(+), 6 deletions(-)

commit 0f7390d
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jun 19 10:48:02 2011 +0900

    Clean up all the "set but not used" warnings.
    
    gcc on my system is failing to treat this specific warning as an error :/

 libs/gib/regex.c                  |    2 ++
 libs/net/net_chan.c               |    5 ++---
 libs/net/nm/net_dgrm.c            |    6 +++---
 libs/video/renderer/gl/gl_rsurf.c |    3 +--
 libs/video/renderer/r_graph.c     |    9 +++------
 libs/video/renderer/r_light.c     |    4 ++--
 libs/video/renderer/sw/d_edge.c   |    3 ---
 libs/video/renderer/sw32/d_edge.c |    3 ---
 libs/video/targets/in_x11.c       |    4 ++--
 libs/video/targets/vid_fbdev.c    |    5 +++--
 nq/source/sv_pr_cmds.c            |    1 +
 qw/source/cl_ents.c               |    2 --
 qw/source/cl_main.c               |    5 ++---
 qw/source/cl_ngraph.c             |    4 +---
 qw/source/cl_parse.c              |    4 ++--
 qw/source/cl_tent.c               |    1 +
 qw/source/locs.c                  |    3 +--
 qw/source/pmove.c                 |    3 +--
 qw/source/sbar.c                  |    5 ++---
 qw/source/sv_ccmds.c              |    6 +++---
 qw/source/sv_main.c               |    3 ---
 qw/source/sv_pr_cmds.c            |    1 +
 qw/source/sv_pr_cpqw.c            |    1 +
 qw/source/sv_qtv.c                |    6 ++----
 qw/source/sv_recorder.c           |    4 +---
 qw/source/sv_send.c               |    3 +--
 tools/bsp2img/bsp2img.c           |    2 +-
 tools/qfbsp/source/brush.c        |    2 --
 tools/qfcc/source/class.c         |    4 ----
 tools/qfcc/source/linker.c        |    2 --
 tools/qfcc/source/qfprogs.c       |    3 +--
 tools/wav/qfwavinfo.c             |    1 +
 32 files changed, 41 insertions(+), 69 deletions(-)

commit dedda75
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jun 15 17:33:03 2011 +0900

    Just for fun :)

 tools/misc/spin.py |    7 +++++++
 1 file changed, 7 insertions(+)

commit 82e934a
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Tue Jun 14 13:28:51 2011 -0400

    Rualib: nuke some unnecessary classes
    
    List, ListNode, and Stack aren't necessary; all three are obviated by the
    new, richer Array class.

 ruamoko/include/List.h      |   26 --------
 ruamoko/include/ListNode.h  |   49 --------------
 ruamoko/include/Makefile.am |    4 +-
 ruamoko/include/Stack.h     |   49 --------------
 ruamoko/lib/List.r          |  152 -------------------------------------------
 ruamoko/lib/ListNode.r      |   72 --------------------
 ruamoko/lib/Makefile.am     |    8 +--
 ruamoko/lib/Stack.r         |   79 ----------------------
 8 files changed, 6 insertions(+), 433 deletions(-)

commit b18302e
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Tue Jun 14 13:25:03 2011 -0400

    Array: sorta-implement -description
    
    An #if 0'ed out implementation of the -description method, which currently
    returns a Quake string containing whatever the contained objects return
    from -description, between parens and separated by commas (just like plist
    format). Ideally, we'd have string objects interchangeable with primitive
    strings, but having string objects (which are being worked on) should help.

 ruamoko/lib/Array.r |   19 +++++++++++++++++--
 1 file changed, 17 insertions(+), 2 deletions(-)

commit 21c46b9
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Tue Jun 14 13:16:15 2011 -0400

    View: add brief description

 ruamoko/include/gui/View.h |    2 ++
 1 file changed, 2 insertions(+)

commit 8561758
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Tue Jun 14 13:13:33 2011 -0400

    PCX: display some information on bad PCX files
    
    also, minor whitespace on <QF/image.h>

 include/QF/image.h |    5 +----
 libs/image/pcx.c   |    3 ++-
 2 files changed, 3 insertions(+), 5 deletions(-)

commit cb86e09
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Tue Jun 14 13:08:48 2011 -0400

    Rualib: documentation updates.
    
    Add a layout file for Rua docs and create groups for its library functions.

 doc/ruadoc-layout.xml       |  184 +++++++++++++++++++++++++++++++++++++++++++
 ruamoko/Doxyfile.in         |   14 ++--
 ruamoko/include/crudefile.h |    7 ++
 ruamoko/include/debug.h     |    6 +-
 ruamoko/include/entities.h  |   10 +--
 ruamoko/include/math.h      |    9 ++-
 ruamoko/include/physics.h   |   17 +++-
 ruamoko/include/runtime.h   |    7 ++
 8 files changed, 233 insertions(+), 21 deletions(-)

commit 42ab0a7
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jun 14 17:54:53 2011 +0900

    Ensure consize is correct in the software renderers.
    
    The software renderers force the console size to be the same as the window
    size (no scaling), but they weren't telling the console of the resize.
    oops. Fixes the crash when running the software renderers with default
    sizes.

 libs/video/targets/vid_common_sw.c   |    2 ++
 libs/video/targets/vid_common_sw32.c |    2 ++
 2 files changed, 4 insertions(+)

commit c57d252
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jun 14 06:26:10 2011 +0900

    More "set but not used".
    
    Why is finding them so unreliable for me?

 libs/gib/gib_builtin.c |    3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit 607a4be
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jun 13 16:44:30 2011 +0900

    Fix a "set but not used" warning/error.
    
    I'm not sure what I had planned with "list", so I just commented it out
    with FIXMEs.

 libs/util/riff.c |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit b18ff4e
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jun 12 16:34:15 2011 +0900

    Move test-qfs.c into a test directory.
    
    Same as before: avoiding -prefic-pic issues.
    
    Also, catch some minor snafus found in the previous commit. With this, make
    distcheck passes again :)

 config.d/ac_config_files.m4  |    1 +
 libs/models/Makefile.am      |    2 --
 libs/models/test/Makefile.am |    1 +
 libs/util/Makefile.am        |   10 +++------
 libs/util/test-qfs.c         |   48 ------------------------------------------
 libs/util/test/Makefile.am   |   11 ++++++++++
 libs/util/test/test-qfs.c    |   48 ++++++++++++++++++++++++++++++++++++++++++
 7 files changed, 64 insertions(+), 57 deletions(-)

commit c522726
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jun 12 16:12:52 2011 +0900

    Move the testclip program into its own directory.
    
    Same as with the audio test program, this is to avoid issues with
    -prefer-pic.

 config.d/ac_config_files.m4  |    1 +
 libs/models/Makefile.am      |    8 +-
 libs/models/test/Makefile.am |   11 ++
 libs/models/test/testclip.c  |  237 ++++++++++++++++++++++++++++++++++++++++++
 libs/models/test/trace-id.c  |  155 +++++++++++++++++++++++++++
 libs/models/testclip.c       |  237 ------------------------------------------
 libs/models/trace-id.c       |  155 ---------------------------
 7 files changed, 405 insertions(+), 399 deletions(-)

commit 3061270
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jun 11 13:19:31 2011 +0900

    Support jumping off pretty much anything.
    
    See http://forums.inside3d.com/viewtopic.php?t=1675 for inspiration.
    
    As this might break the gameplay of certain maps, the new sv_jump_any
    cvar can be used to disable this feature (bringing back the old behavior).

 nq/include/server.h    |    2 ++
 nq/source/sv_cl_phys.c |    2 +-
 nq/source/sv_main.c    |    1 +
 nq/source/sv_phys.c    |   16 +++++++++++++++-
 4 files changed, 19 insertions(+), 2 deletions(-)

commit 628bd13
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jun 11 13:17:22 2011 +0900

    Fix some warnings in recent gcc.
    
    gcc seems to be getting ever more picky (which is good, really)

 nq/source/sv_phys.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 1ae2e46
Author: Antti Harri <iku@openbsd.fi>
Date:   Sat Jun 4 18:08:56 2011 +0300

    Use -pthread instead of -lpthread on OpenBSD.

 config.d/pthread.m4 |   10 ++++++++++
 1 file changed, 10 insertions(+)

commit d88c09a
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jun 4 18:14:30 2011 +0900

    Fix the crash on timedemo interrupting a timedemo.

 nq/source/cl_demo.c |   30 ++++++++++++++++--------------
 1 file changed, 16 insertions(+), 14 deletions(-)

commit 4720113
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jun 4 17:19:18 2011 +0900

    Make the default cd plugin configurable.
    
    The default default is file, but now distribution maintainers can change it
    if necessary.

 config.d/cdrom.m4  |   43 ++++++++++++++++++++++++++++++++++++++++++-
 config.d/result.m4 |    2 +-
 libs/audio/cd.c    |    2 +-
 3 files changed, 44 insertions(+), 3 deletions(-)

commit 8d1bd58
Author: Antti Harri <iku@openbsd.fi>
Date:   Sat Jun 4 09:47:15 2011 +0300

    snd_dma.c fixes for non-power-of-two values. From Jacob Meuser.

 libs/audio/renderer/snd_dma.c |   18 +++++++++++-------
 1 file changed, 11 insertions(+), 7 deletions(-)

commit 2ecdec9
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jun 3 22:47:32 2011 +0900

    Clean up the demo api a little.
    
    This way, I can be more assured of what might be called from outside
    cl_demo.c.

 nq/include/client.h |    6 +---
 nq/source/cl_demo.c |   77 +++++++++++++++++++++++++++++----------------------
 nq/source/cl_main.c |    6 +---
 3 files changed, 46 insertions(+), 43 deletions(-)

commit 82038bb
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jun 3 22:18:08 2011 +0900

    Remove another stack character buffer.
    
    While it was probably safe (snprintf was being used correctly) I prefer to
    avoid the issue completely and centralize any potential problems.

 nq/source/cl_main.c |    5 +----
 1 file changed, 1 insertion(+), 4 deletions(-)

commit 67c7796
Author: Antti Harri <iku@openbsd.fi>
Date:   Tue May 31 00:05:35 2011 +0300

    Change default music backend from OGG to CD.

 libs/audio/cd.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 98808e3
Author: Antti Harri <iku@openbsd.fi>
Date:   Mon May 30 23:57:14 2011 +0300

    Fix OGG reporting for the CD audio backend and tweak one
    test to be better.

 config.d/cdrom.m4 |   11 ++++++-----
 1 file changed, 6 insertions(+), 5 deletions(-)

commit b5ad92d
Author: Antti Harri <iku@openbsd.fi>
Date:   Sat May 28 15:41:08 2011 +0300

    Fix qfcc on OpenBSD by calling the binary instead of the wrapper.

 config.d/qfcc.m4 |    6 ++++++
 1 file changed, 6 insertions(+)

commit 65789d2
Author: Antti Harri <iku@openbsd.fi>
Date:   Sat May 28 10:47:11 2011 +0300

    Fix PNG build and use AM_CPPFLAGS instead of INCLUDES that is obsolete.

 libs/image/Makefile.am |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit f5da073
Author: Antti Harri <iku@openbsd.fi>
Date:   Sat May 28 10:46:21 2011 +0300

    Add configure switch to disable Sun audio backend.

 config.d/sound.m4 |   25 +++++++++++++++----------
 1 file changed, 15 insertions(+), 10 deletions(-)

commit 9b19f9b
Author: Antti Harri <iku@openbsd.fi>
Date:   Sat May 28 10:45:52 2011 +0300

    Fix a typo in header_files.m4 that makes alloca.h check work again.

 config.d/header_files.m4 |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 74a7e07
Author: Bill Currie <bill@taniwha.org>
Date:   Tue May 10 12:44:44 2011 +0900

    Use AM_CFLAGS instead of CFLAGS.
    
    CFLAGS is meant to be reserved for the user.

 libs/audio/renderer/Makefile.am      |    2 +-
 libs/audio/targets/Makefile.am       |    2 +-
 libs/console/Makefile.am             |    2 +-
 libs/gamecode/engine/Makefile.am     |    2 +-
 libs/gib/Makefile.am                 |    2 +-
 libs/image/Makefile.am               |    2 +-
 libs/models/Makefile.am              |    2 +-
 libs/models/alias/Makefile.am        |    2 +-
 libs/models/brush/Makefile.am        |    2 +-
 libs/models/sprite/Makefile.am       |    2 +-
 libs/net/Makefile.am                 |    2 +-
 libs/net/nc/Makefile.am              |    2 +-
 libs/net/nm/Makefile.am              |    2 +-
 libs/object/Makefile.am              |    2 +-
 libs/ruamoko/Makefile.am             |    2 +-
 libs/util/Makefile.am                |    2 +-
 libs/video/renderer/gl/Makefile.am   |    2 +-
 libs/video/renderer/sw/Makefile.am   |    2 +-
 libs/video/renderer/sw32/Makefile.am |    2 +-
 19 files changed, 19 insertions(+), 19 deletions(-)

commit f17b127
Author: Bill Currie <bill@taniwha.org>
Date:   Tue May 10 11:48:38 2011 +0900

    Undo an accidental commit.

 libs/audio/Makefile.am |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 8202eb6
Author: Bill Currie <bill@taniwha.org>
Date:   Tue May 10 11:41:38 2011 +0900

    Update our copy of libcurl.m4.

 m4/libcurl.m4 |  109 +++++++++++++++++++++++++++++++--------------------------
 1 file changed, 60 insertions(+), 49 deletions(-)

commit 77ccf8a
Author: Bill Currie <bill@taniwha.org>
Date:   Tue May 10 11:32:38 2011 +0900

    Build the audio libs before the test dir.

 libs/audio/Makefile.am |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit f7a95ec
Author: Bill Currie <bill@taniwha.org>
Date:   Tue May 10 11:25:12 2011 +0900

    Move the test program into its own directory.
    
    This is to avoid issues with -prefer-pic (really need to clean things up
    properly).

 config.d/ac_config_files.m4 |    1 +
 libs/audio/Makefile.am      |    8 +--
 libs/audio/test/Makefile.am |    9 ++++
 libs/audio/test/testsound.c |  124 +++++++++++++++++++++++++++++++++++++++++++
 libs/audio/testsound.c      |  124 -------------------------------------------
 5 files changed, 135 insertions(+), 131 deletions(-)

commit d638fdc
Author: Bill Currie <bill@taniwha.org>
Date:   Sat May 7 19:29:03 2011 +0900

    Add a PlaneFlip macro.

 include/QF/mathlib.h         |    6 ++++++
 tools/qfbsp/source/portals.c |   24 ++++++++++--------------
 2 files changed, 16 insertions(+), 14 deletions(-)

commit d3771df
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 4 09:31:18 2011 +0900

    Resolve some inlining issues in recent gcc.

 libs/gamecode/engine/pr_opcode.c |    2 +-
 libs/util/zone.c                 |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit bc2174d
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 4 09:30:38 2011 +0900

    Remove some dead variables reported by Spirit.

 libs/util/qfplist.c |    6 ------
 1 file changed, 6 deletions(-)

commit 8670374
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Apr 22 15:53:29 2011 +0900

    Remove another subversive reference.

 config.d/result.m4 |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 2a2a431
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Apr 17 20:06:20 2011 +0900

    Register a complaint when the map has too many entities.
    
    I was wondering why that parrot was dead.
    
    Not realizing that negke's coag3 map had too many entities really ruined
    the pleasure of playing it, so it's best to treat such situations as an
    error (max_edicts can be bumped up to 32000 if need be, but 2048 is plenty
    for his map).

 libs/gamecode/engine/pr_parse.c |    4 ++++
 1 file changed, 4 insertions(+)

commit 47e55fe
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Apr 17 13:03:22 2011 +0900

    Properly terminate each fisheye quad strip.
    
    The horizontal quad strips need to be rendered individually rather than as
    one single strip. The latter results in ugly triangles crossing the screen.

 libs/video/renderer/gl/gl_rmain.c |    5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

commit b9d21cb
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Apr 16 18:58:05 2011 +0900

    Catch resizes in the camera view.
    
    Avoids a segfault when resizing the window.

 tools/Forge/Bundles/MapEdit/CameraView.h |    1 +
 tools/Forge/Bundles/MapEdit/CameraView.m |   32 +++++++++++++++++++++++++++---
 tools/Forge/Bundles/MapEdit/XYView.m     |    4 ++--
 tools/Forge/Bundles/MapEdit/render.m     |    6 +++---
 4 files changed, 35 insertions(+), 8 deletions(-)

commit 3337dc6
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Apr 16 13:05:28 2011 +0900

    Fix a buffer error.

 tools/Forge/Bundles/MapEdit/EntityClass.m |    7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

commit fb65cd2
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Apr 16 12:17:23 2011 +0900

    Cache needed fonts.
    
    Obtaining a font has become rather expensive in recent gnustep, so cache
    fonts, obtaining new ones only when needed rather than every redraw. Makes
    things snappy again :)

 tools/Forge/Bundles/MapEdit/Clipper.m     |    4 ++--
 tools/Forge/Bundles/MapEdit/KeypairView.h |    1 +
 tools/Forge/Bundles/MapEdit/KeypairView.m |    3 ++-
 tools/Forge/Bundles/MapEdit/TextureView.h |    1 +
 tools/Forge/Bundles/MapEdit/TextureView.m |    3 ++-
 tools/Forge/Bundles/MapEdit/XYView.h      |    4 ++++
 tools/Forge/Bundles/MapEdit/XYView.m      |   14 +++++++++++++-
 tools/Forge/Bundles/MapEdit/ZView.h       |    1 +
 tools/Forge/Bundles/MapEdit/ZView.m       |    7 ++++---
 9 files changed, 30 insertions(+), 8 deletions(-)

commit 36ec375
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Apr 10 14:34:34 2011 +0900

    Support resizing the window.
    
    The resized layout isn't perfect, but at least the usable real estate for
    the xy window grows nicely.

 .../Bundles/MapEdit/MapEdit.gorm/data.classes      |  146 ++++++++++----------
 .../Bundles/MapEdit/MapEdit.gorm/objects.gorm      |  Bin 87785 -> 88166 bytes
 2 files changed, 73 insertions(+), 73 deletions(-)

commit 9e15e2c
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Apr 10 09:14:28 2011 +0900

    Remove a debug print.

 tools/Forge/Bundles/MapEdit/Map.m |    2 --
 1 file changed, 2 deletions(-)

commit c7612dc
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Apr 10 09:08:46 2011 +0900

    Make statement dumps a little more informative.

 tools/qfcc/source/statements.c |    8 +++-----
 1 file changed, 3 insertions(+), 5 deletions(-)

commit fd6e341
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Apr 10 00:29:27 2011 +0900

    Clean up cast_expr() a little bit.

 tools/qfcc/source/expr.c |   23 +++++++----------------
 1 file changed, 7 insertions(+), 16 deletions(-)

commit 6cb3d18
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Apr 9 18:32:29 2011 +0900

    Use a hash table for finding entities.
    
    This gives a major speed boost :)

 tools/Forge/Bundles/MapEdit/Entity.m   |    6 ++
 tools/Forge/Bundles/MapEdit/Map.h      |    8 +++
 tools/Forge/Bundles/MapEdit/Map.m      |  100 +++++++++++++++++++++++++++++---
 tools/Forge/Bundles/MapEdit/SetBrush.m |    6 +-
 4 files changed, 110 insertions(+), 10 deletions(-)

commit 32f3f5c
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Apr 9 14:34:27 2011 +0900

    Use a hash table for epair lookup.
    
    This gives a very minor speedup to drawing large maps.

 tools/Forge/Bundles/MapEdit/Entity.h |    2 +
 tools/Forge/Bundles/MapEdit/Entity.m |   73 +++++++++++++++++++---------------
 2 files changed, 42 insertions(+), 33 deletions(-)

commit b5a4e33
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Apr 9 14:33:21 2011 +0900

    Ignore profiling data.

 .gitignore |    1 +
 1 file changed, 1 insertion(+)

commit 57ed603
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Apr 9 12:42:41 2011 +0900

    Extract values from constant defs.

 tools/qfcc/source/expr.c |   18 ++++++++++++++++--
 1 file changed, 16 insertions(+), 2 deletions(-)

commit cc71486
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Apr 9 11:32:33 2011 +0900

    Support converting to/from unsigned values.

 tools/qfcc/source/value.c |   24 +++++++++++++++++++++++-
 1 file changed, 23 insertions(+), 1 deletion(-)

commit 55cc0f9
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Apr 9 10:07:47 2011 +0900

    Bring back the unsigned type (PROGS version bump)
    
    This is only low-level support (the unsigned keyword still does not work),
    but sufficient to make switch statements using jump tables work.

 include/QF/pr_comp.h             |    4 ++--
 libs/gamecode/engine/pr_debug.c  |    4 ++++
 libs/gamecode/engine/pr_exec.c   |    3 +--
 libs/gamecode/engine/pr_opcode.c |   40 ++++++++++++++++-----------------
 nq/source/sv_progs.c             |    1 +
 qw/source/sv_progs.c             |    1 +
 tools/qfcc/include/expr.h        |    9 ++++++++
 tools/qfcc/include/type.h        |    1 +
 tools/qfcc/source/constfold.c    |   41 ++++++++++++++++++++++++++++++----
 tools/qfcc/source/dot_expr.c     |    3 +++
 tools/qfcc/source/dot_flow.c     |    2 ++
 tools/qfcc/source/expr.c         |   45 ++++++++++++++++++++++++++++++++++----
 tools/qfcc/source/statements.c   |    3 +++
 tools/qfcc/source/switch.c       |    5 ++---
 tools/qfcc/source/type.c         |   12 +++++++++-
 tools/qfcc/source/value.c        |    1 +
 16 files changed, 138 insertions(+), 37 deletions(-)

commit b522853
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Apr 8 17:09:40 2011 +0900

    Ensure the target of def_op relocs gets updated.
    
    These occur only when switch statements use jump tables, thus why the
    problem went unnoticed :/

 tools/qfcc/source/linker.c |    2 ++
 1 file changed, 2 insertions(+)

commit 37b0648
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Apr 8 15:01:56 2011 +0900

    Undo the func field as selector patch.
    
    The support code for the patch is left intact (it will be needed later),
    but idea is too cumbersome for working with existing progs.

 qw/include/sv_progs.h |   32 ++++++++------------------------
 1 file changed, 8 insertions(+), 24 deletions(-)

commit 237f11c
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Apr 8 13:55:26 2011 +0900

    Fix cast expressions.
    
    Casting between ints and floats needs special treatment to get the
    conversion operator, but other casts need to be aliases.

 tools/qfcc/source/expr.c       |    6 +++++-
 tools/qfcc/source/statements.c |   16 ++++++++--------
 2 files changed, 13 insertions(+), 9 deletions(-)

commit c4a3988
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Apr 4 21:31:59 2011 +0900

    Fix defs as constants for vectors and quaternions.

 tools/qfcc/include/qfcc.h |    1 +
 tools/qfcc/source/expr.c  |    8 ++++++++
 2 files changed, 9 insertions(+)

commit 38b25e0
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Apr 3 13:11:50 2011 +0900

    Do not double-allocate space for immediates.
    
    Caused by changed semantics in def creation.

 tools/qfcc/source/value.c |    1 -
 1 file changed, 1 deletion(-)

commit 92ba110
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Apr 3 13:03:48 2011 +0900

    Ensure a field def is emitted for @this.

 tools/qfcc/source/linker.c |   12 ++++++------
 1 file changed, 6 insertions(+), 6 deletions(-)

commit 7f67e6e
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Apr 3 13:03:22 2011 +0900

    Refactor the def handling code a little.

 tools/qfcc/source/linker.c |   80 ++++++++++++++++++++++++++------------------
 1 file changed, 47 insertions(+), 33 deletions(-)

commit 6d0b13d
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Apr 3 13:02:04 2011 +0900

    Resolve types whenever possible.

 tools/qfcc/source/linker.c |    5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit 2c9c1bd
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Apr 3 13:00:48 2011 +0900

    Ensure defs for @self and @this are generated.

 tools/qfcc/source/expr.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 2de7733
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Mar 30 21:21:38 2011 +0900

    Fix initialized variable type handling.
    
    Same problem as initialized constants :P

 tools/qfcc/source/def.c |    5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit 2bacfda
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Mar 30 20:19:31 2011 +0900

    Interpret func fields as selectors for entities with objects.

 include/QF/ruamoko.h   |    3 +++
 libs/ruamoko/rua_obj.c |   21 +++++++++++++++++++++
 qw/include/sv_progs.h  |   32 ++++++++++++++++++++++++--------
 3 files changed, 48 insertions(+), 8 deletions(-)

commit 8e18c76
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Mar 30 19:58:09 2011 +0900

    Make initialized variables defs rather than immediate constants.

 tools/qfcc/source/def.c    |   22 +++++++++++-----------
 tools/qfcc/source/expr.c   |   12 +++++++++++-
 tools/qfcc/source/switch.c |    4 ++--
 3 files changed, 24 insertions(+), 14 deletions(-)

commit 7dbd2ec
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Mar 30 09:33:47 2011 +0900

    Allow field aliasing.
    
    Initializing a field variable to another field will set the new field to
    point to the same location. No type checking is done.
    
    eg:
    .SEL thinkMethod = think;

 tools/qfcc/source/def.c |   46 ++++++++++++++++++++++++++++------------------
 1 file changed, 28 insertions(+), 18 deletions(-)

commit 550fff5
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Mar 30 08:14:17 2011 +0900

    Allow assignments between any field types.

 tools/qfcc/source/type.c |    3 +++
 1 file changed, 3 insertions(+)

commit 75c3653
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Mar 30 08:13:13 2011 +0900

    Implement some missed relocs.

 tools/qfcc/source/obj_file.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 2bddcef
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Mar 29 12:46:49 2011 +0900

    Allow up to 64 faces on a brush.
    
    This is temporary until unlimited faces can be supported, but it's
    sufficient to load mappi.map.

 tools/Forge/Bundles/MapEdit/SetBrush.h |    2 +-
 tools/Forge/Bundles/MapEdit/SetBrush.m |    4 ++++
 2 files changed, 5 insertions(+), 1 deletion(-)

commit 1911cc1
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Mar 27 08:26:42 2011 +0900

    Mingw build fixes.

 tools/qfcc/source/obj_type.c |    4 +++-
 tools/qflmp/lmp.c            |    3 ++-
 2 files changed, 5 insertions(+), 2 deletions(-)

commit c8e1d7b
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Mar 27 08:03:39 2011 +0900

    Fix the API for inputline->enter().
    
    Pass the inputline object rather than the input text, allowing access to
    both user_data and the input text.

 include/QF/console.h     |    5 +++--
 libs/console/client.c    |   14 +++++++++++---
 libs/console/inputline.c |    6 ++++--
 libs/console/server.c    |    8 +++++++-
 4 files changed, 25 insertions(+), 8 deletions(-)

commit 30bd1c0
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Mar 25 18:26:10 2011 +0900

    Create classes for inputing cvar strings and script the network menu.
    
    Hitting enter after inputting text is currently broken, but that's because
    support for it was never put in the inputline wrapper code.

 ruamoko/cl_menu/CvarString.h     |   11 ++++
 ruamoko/cl_menu/CvarString.r     |   15 ++++++
 ruamoko/cl_menu/CvarStringView.h |   21 ++++++++
 ruamoko/cl_menu/CvarStringView.r |   62 +++++++++++++++++++++++
 ruamoko/cl_menu/Makefile.am      |    6 ++-
 ruamoko/cl_menu/MenuGroup.r      |   28 +++++------
 ruamoko/cl_menu/menu.plist       |   56 +++++++++++++++++++++
 ruamoko/cl_menu/options.qc       |  103 +++++---------------------------------
 8 files changed, 195 insertions(+), 107 deletions(-)

commit 84afc45
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Mar 25 18:02:59 2011 +0900

    Allow the menus to overide the Escape key.

 include/QF/console.h  |    2 +-
 libs/console/client.c |   10 ++++++----
 libs/console/menu.c   |   18 +++++++++---------
 3 files changed, 16 insertions(+), 14 deletions(-)

commit 896791b
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Mar 25 16:46:32 2011 +0900

    Correct the spelling of "int" and clean up the mess.

 ruamoko/cl_menu/CrosshairCvar.h  |    2 +-
 ruamoko/cl_menu/CrosshairCvar.r  |    4 +-
 ruamoko/cl_menu/CrosshairView.r  |    2 +-
 ruamoko/cl_menu/CvarColor.h      |    2 +-
 ruamoko/cl_menu/CvarColor.r      |    2 +-
 ruamoko/cl_menu/CvarColorView.r  |    4 +-
 ruamoko/cl_menu/CvarRange.h      |    2 +-
 ruamoko/cl_menu/CvarRange.r      |    2 +-
 ruamoko/cl_menu/CvarRangeView.h  |    2 +-
 ruamoko/cl_menu/CvarRangeView.r  |    4 +-
 ruamoko/cl_menu/CvarToggleView.r |    2 +-
 ruamoko/cl_menu/Frame.h          |    2 +-
 ruamoko/cl_menu/Frame.r          |    2 +-
 ruamoko/cl_menu/HUD.h            |   16 ++++----
 ruamoko/cl_menu/HUD.r            |   14 +++----
 ruamoko/cl_menu/MenuGroup.h      |    6 +--
 ruamoko/cl_menu/MenuGroup.r      |    4 +-
 ruamoko/cl_menu/ProxyView.r      |    2 +-
 ruamoko/cl_menu/client_menu.qc   |   70 ++++++++++++++++-----------------
 ruamoko/cl_menu/controls_o.qc    |   80 +++++++++++++++++++-------------------
 ruamoko/cl_menu/menu.h           |   32 +++++++--------
 ruamoko/cl_menu/menu.r           |   24 ++++++------
 ruamoko/cl_menu/options.h        |    2 +-
 ruamoko/cl_menu/options.qc       |   70 ++++++++++++++++-----------------
 ruamoko/cl_menu/options_util.h   |   10 ++---
 ruamoko/cl_menu/options_util.qc  |   28 ++++++-------
 ruamoko/cl_menu/plistmenu.r      |    6 +--
 ruamoko/cl_menu/servlist.qc      |   12 +++---
 ruamoko/game/World.h             |    2 +-
 ruamoko/game/World.r             |    6 +--
 ruamoko/gui/Group.r              |    4 +-
 ruamoko/gui/InputLine.r          |   22 +++++------
 ruamoko/gui/Point.r              |    2 +-
 ruamoko/gui/Rect.r               |    2 +-
 ruamoko/gui/Size.r               |    2 +-
 ruamoko/gui/Slider.r             |    6 +--
 ruamoko/gui/Text.r               |    2 +-
 ruamoko/gui/View.r               |   10 ++---
 ruamoko/include/Entity.h         |    2 +-
 ruamoko/include/List.h           |    6 +--
 ruamoko/include/PropertyList.h   |   18 ++++-----
 ruamoko/include/Stack.h          |    4 +-
 ruamoko/include/cmd.h            |    6 +--
 ruamoko/include/cvar.h           |    4 +-
 ruamoko/include/draw.h           |   34 ++++++++--------
 ruamoko/include/gib.h            |    4 +-
 ruamoko/include/gui/Group.h      |    2 +-
 ruamoko/include/gui/InputLine.h  |   22 +++++------
 ruamoko/include/gui/Point.h      |    6 +--
 ruamoko/include/gui/Rect.h       |    2 +-
 ruamoko/include/gui/Size.h       |    6 +--
 ruamoko/include/gui/Slider.h     |   10 ++---
 ruamoko/include/gui/View.h       |   18 ++++-----
 ruamoko/include/hash.h           |   12 +++---
 ruamoko/include/key.h            |    8 ++--
 ruamoko/include/math.h           |    4 +-
 ruamoko/include/physics.h        |   10 ++---
 ruamoko/include/plist.h          |   18 ++++-----
 ruamoko/include/qfile.h          |   28 ++++++-------
 ruamoko/include/qfs.h            |   10 ++---
 ruamoko/include/runtime.h        |   20 +++++-----
 ruamoko/include/script.h         |    6 +--
 ruamoko/include/string.h         |    8 ++--
 ruamoko/lib/Array.r              |   14 +++----
 ruamoko/lib/Entity.r             |    6 +--
 ruamoko/lib/List.r               |    4 +-
 ruamoko/lib/Object.r             |   22 +++++------
 ruamoko/lib/PropertyList.r       |   16 ++++----
 ruamoko/lib/Protocol.r           |   10 ++---
 ruamoko/lib/Stack.r              |    2 +-
 ruamoko/lib/cmd.r                |    6 +--
 ruamoko/lib/cvar.r               |    4 +-
 ruamoko/lib/draw.r               |   32 +++++++--------
 ruamoko/lib/gib.r                |    4 +-
 ruamoko/lib/hash.r               |   12 +++---
 ruamoko/lib/key.r                |    8 ++--
 ruamoko/lib/math.r               |    4 +-
 ruamoko/lib/physics.r            |   10 ++---
 ruamoko/lib/plist.r              |   16 ++++----
 ruamoko/lib/qfile.r              |   28 ++++++-------
 ruamoko/lib/qfs.r                |    8 ++--
 ruamoko/lib/script.r             |    6 +--
 ruamoko/lib/string.r             |    8 ++--
 ruamoko/scheme/CompiledCode.h    |   10 ++---
 ruamoko/scheme/CompiledCode.r    |   12 +++---
 ruamoko/scheme/Compiler.h        |    4 +-
 ruamoko/scheme/Compiler.r        |   26 ++++++-------
 ruamoko/scheme/Cons.h            |    2 +-
 ruamoko/scheme/Cons.r            |    4 +-
 ruamoko/scheme/Continuation.h    |    4 +-
 ruamoko/scheme/Continuation.r    |    4 +-
 ruamoko/scheme/Frame.h           |   10 ++---
 ruamoko/scheme/Frame.r           |   10 ++---
 ruamoko/scheme/Instruction.h     |   12 +++---
 ruamoko/scheme/Instruction.r     |    8 ++--
 ruamoko/scheme/Lexer.h           |    4 +-
 ruamoko/scheme/Lexer.r           |    6 +--
 ruamoko/scheme/Machine.r         |    6 +--
 ruamoko/scheme/Number.h          |    8 ++--
 ruamoko/scheme/Number.r          |    6 +--
 ruamoko/scheme/Parser.r          |    4 +-
 ruamoko/scheme/SchemeObject.h    |    6 +--
 ruamoko/scheme/SchemeObject.r    |   20 +++++-----
 ruamoko/scheme/Scope.h           |    4 +-
 ruamoko/scheme/Scope.r           |   14 +++----
 ruamoko/scheme/builtins.r        |   10 ++---
 ruamoko/scheme/defs.h            |   14 +++----
 ruamoko/scheme/defs.qc           |   14 +++----
 ruamoko/scheme/main.qc           |    2 +-
 ruamoko/scheme/state.h           |    2 +-
 tools/qfcc/source/qc-lex.l       |    2 +-
 tools/qwaq/defs.qc               |   14 +++----
 tools/qwaq/main.qc               |    4 +-
 tools/qwaq/test.r                |    2 +-
 114 files changed, 601 insertions(+), 601 deletions(-)

commit 1617f07
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Mar 25 09:59:48 2011 +0900

    Support the default type without segfaulting.

 tools/qfcc/source/qc-parse.y |   20 ++++++++++++++++++++
 1 file changed, 20 insertions(+)

commit 8c1d948
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Mar 24 13:36:36 2011 +0900

    And qfcc finds another bug :)

 ruamoko/lib/ListNode.r |    7 +++++++
 1 file changed, 7 insertions(+)

commit a7cfe3b
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Mar 24 11:55:17 2011 +0900

    Preserve the current class across protocol defs.
    
    It seems that protocol defs are allowed in class implementations, so don't
    let the protocol def kill the current class for the class implementation.

 tools/qfcc/source/qc-parse.y |   13 +++++++++----
 1 file changed, 9 insertions(+), 4 deletions(-)

commit 2be07fd
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Mar 24 11:45:58 2011 +0900

    Keep the the temp string out of progs for sprintf.
    
    There's no need for the string to be in progs memory when printing as the
    end result will be moved into progs memory regardless.

 libs/ruamoko/pr_cmds.c |    4 +---
 1 file changed, 1 insertion(+), 3 deletions(-)

commit 71af121
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Mar 24 11:39:34 2011 +0900

    Detect missing @end tags.
    
    Give a warning when @end is forgotten in class implementations.

 tools/qfcc/source/class.c    |    5 +++++
 tools/qfcc/source/qc-parse.y |   20 ++++++++++++++++++++
 2 files changed, 25 insertions(+)

commit b0d1e78
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Mar 24 11:10:08 2011 +0900

    Treat allocating less than 1 byte as an error.

 libs/gamecode/engine/pr_zone.c |    8 ++++++++
 1 file changed, 8 insertions(+)

commit 1822290
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Mar 24 08:50:32 2011 +0900

    Fix the double offset of inputline text.

 libs/console/client.c           |    6 ++----
 ruamoko/gui/InputLine.r         |    9 ++++-----
 ruamoko/include/gui/InputLine.h |    1 -
 3 files changed, 6 insertions(+), 10 deletions(-)

commit e878ace
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Mar 23 21:35:10 2011 +0900

    Make input lines mostly work.
    
    There is still a problem with the placement of the input line text
    relative to the text box caused by vertical movement being excessive.

 ruamoko/cl_menu/options.qc      |    2 +-
 ruamoko/gui/InputLine.r         |   14 +++++++-------
 ruamoko/include/gui/InputLine.h |    2 +-
 3 files changed, 9 insertions(+), 9 deletions(-)

commit 8d3508c
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Mar 23 21:32:14 2011 +0900

    Allocate space for temp defs using size rather than type.
    
    Statement operands throw away the high level type information, so store
    type size in the operand and use this size for allocating space for temps
    rather than using the low-level type.

 tools/qfcc/include/def.h        |    1 +
 tools/qfcc/include/statements.h |    1 +
 tools/qfcc/source/def.c         |   22 +++++++++++++++++++
 tools/qfcc/source/emit.c        |    9 ++------
 tools/qfcc/source/statements.c  |   46 +++++++++++++++++++--------------------
 5 files changed, 48 insertions(+), 31 deletions(-)

commit 98f5f84
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Mar 23 15:22:01 2011 +0900

    Clean up the leftovers of converting the controls menu.
    
    The bindings menu is still inaccessible, though.

 ruamoko/cl_menu/options.qc |   47 +-------------------------------------------
 1 file changed, 1 insertion(+), 46 deletions(-)

commit 15fc325
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Mar 23 15:19:30 2011 +0900

    Fix the features menu.

 ruamoko/cl_menu/menu.plist |   69 ++++++++++++++++++++++++++++++++++++++++++++
 ruamoko/cl_menu/options.qc |   67 +++++++++---------------------------------
 2 files changed, 82 insertions(+), 54 deletions(-)

commit 9b62c8c
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Mar 22 16:06:47 2011 +0900

    Rename ty_type_e to ty_meta_e and type_t.ty to type_t.meta

 tools/qfcc/include/type.h    |    4 ++--
 tools/qfcc/source/class.c    |    4 ++--
 tools/qfcc/source/linker.c   |    2 +-
 tools/qfcc/source/obj_file.c |    4 ++--
 tools/qfcc/source/obj_type.c |   10 +++++-----
 tools/qfcc/source/struct.c   |   18 +++++++++---------
 tools/qfcc/source/type.c     |   36 ++++++++++++++++++------------------
 7 files changed, 39 insertions(+), 39 deletions(-)

commit d4be914
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Mar 22 15:10:06 2011 +0900

    Fix initialized vector variables.
    
    The whole initialized variable system is wonky, but it will do for now.

 tools/qfcc/source/def.c |    6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit a9eb793
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Mar 22 15:00:46 2011 +0900

    Yay, even more tests :P

 tools/qfcc/test/float-int.r |    7 +++++++
 tools/qfcc/test/ivar.r      |   40 ++++++++++++++++++++++++++++++++++++++++
 tools/qfcc/test/move.r      |   18 ++++++++++++++++--
 tools/qfcc/test/value.r     |    9 +++++++++
 4 files changed, 72 insertions(+), 2 deletions(-)

commit 6a49861
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Mar 22 13:45:44 2011 +0900

    Fix the bogus source file for "redefined" functions.

 tools/qfcc/source/function.c |    1 +
 1 file changed, 1 insertion(+)

commit 7dbd5f6
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Mar 22 13:05:42 2011 +0900

    Fix traditional vector component access.

 tools/qfcc/source/def.c |    8 +++++---
 1 file changed, 5 insertions(+), 3 deletions(-)

commit f1d9570
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Mar 22 12:24:39 2011 +0900

    Fix constant value type handling.
    
    Rename immediate.[ch] to value.[ch] and clean up the mess.
    
    Add convert_value() to convert the type of a value (only scalar types).

 tools/qfcc/include/Makefile.am |    6 +-
 tools/qfcc/include/immediate.h |   42 -----
 tools/qfcc/include/value.h     |   45 +++++
 tools/qfcc/source/Makefile.am  |    8 +-
 tools/qfcc/source/class.c      |    2 +-
 tools/qfcc/source/debug.c      |    2 +-
 tools/qfcc/source/def.c        |    3 +-
 tools/qfcc/source/defspace.c   |    1 -
 tools/qfcc/source/emit.c       |    2 +-
 tools/qfcc/source/expr.c       |    1 -
 tools/qfcc/source/function.c   |    2 +-
 tools/qfcc/source/immediate.c  |  356 -----------------------------------
 tools/qfcc/source/linker.c     |    1 -
 tools/qfcc/source/method.c     |    2 +-
 tools/qfcc/source/obj_file.c   |    2 +-
 tools/qfcc/source/obj_type.c   |    2 +-
 tools/qfcc/source/qc-lex.l     |    2 +-
 tools/qfcc/source/qc-parse.y   |    2 +-
 tools/qfcc/source/qfcc.c       |    2 +-
 tools/qfcc/source/struct.c     |    1 -
 tools/qfcc/source/stub.c       |    2 +-
 tools/qfcc/source/value.c      |  404 ++++++++++++++++++++++++++++++++++++++++
 22 files changed, 469 insertions(+), 421 deletions(-)

commit b812c0e
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Mar 21 21:54:00 2011 +0900

    Disable -Wlogical-op for gcc 4.4 or lower.
    
    It seems to be broken before 4.5.

 config.d/compiling.m4 |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 1219df0
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Mar 21 18:10:58 2011 +0900

    Fix field immediates.
    
    Field immediates need to be treated the same way as pointer immediates when
    merging values.

 tools/qfcc/source/immediate.c |    5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 46093c0
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Mar 21 17:26:49 2011 +0900

    Use the correct meta type for spacial types.
    
    Although vector and quaternion types have symbol tables, they are not
    really structs, so set the meta type to "none", allowing the types to be
    encoded correctly.

 tools/qfcc/source/type.c |    2 ++
 1 file changed, 2 insertions(+)

commit cefe7e2
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Mar 21 17:07:40 2011 +0900

    Use the correct source of defs for field defs.

 tools/qfcc/source/obj_file.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 0c0f436
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Mar 21 17:06:45 2011 +0900

    Make field defs "nosave".
    
    The engine treats fielddefs with DEF_SAVEGLOBAL set as bogus.

 tools/qfcc/source/def.c |    1 +
 1 file changed, 1 insertion(+)

commit bc0cffc
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Mar 21 13:14:14 2011 +0900

    Fix handling of autorelease pools in the menu code.
    
    Create a "menu_pre" function that creates the autorelease pool, change
    menu_post() to release the pool correctly, and make the menu internal code
    require and call menu_pre.

 libs/console/menu.c            |   49 ++++++++++++++++++++++++++++++++--------
 ruamoko/cl_menu/client_menu.qc |   10 +++++++-
 2 files changed, 49 insertions(+), 10 deletions(-)

commit a9e139e
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Mar 21 13:12:30 2011 +0900

    Correct a minor logic error.
    
    We don't want to always add a new autorelease pool, and we certainly want
    one if there are none.

 ruamoko/lib/AutoreleasePool.r |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f5ce9e2
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Mar 20 19:04:18 2011 +0900

    Fix a merge induced error in overloaded functions.

 tools/qfcc/source/function.c |    1 -
 1 file changed, 1 deletion(-)

commit 7c113a1
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Mar 20 15:50:09 2011 +0900

    Make zone errors a little more useful.

 libs/util/zone.c |   38 +++++++++++++++++++++++---------------
 1 file changed, 23 insertions(+), 15 deletions(-)

commit 025c39c
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Mar 20 13:34:28 2011 +0900

    Ensure stdout is flushed in the progs signal_hook()

 libs/gamecode/engine/pr_exec.c |    1 +
 1 file changed, 1 insertion(+)

commit a919e5f
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Mar 20 13:33:42 2011 +0900

    Make class_check_ivars() use class_add_ivars() to add the ivars.
    
    This avoids implementation ivar blocks trashing the ivar offsets in
    derived classes.

 tools/qfcc/source/class.c |   20 ++++++++++----------
 1 file changed, 10 insertions(+), 10 deletions(-)

commit 104c29e
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Mar 20 09:54:38 2011 +0900

    Avoid a segfault when the called function is invalid.
    
    This is most likely to occur when dumping code from qfo files with external
    functions.

 libs/gamecode/engine/pr_debug.c |    3 +++
 1 file changed, 3 insertions(+)

commit f20424a
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Mar 17 20:35:14 2011 +0900

    Make "bad type" output more useful.
    
    Print the four (assumes non-v6) values in hex rather than "bad type".

 libs/gamecode/engine/pr_debug.c |    5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit ebfbd7c
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Mar 17 20:33:38 2011 +0900

    Disable the unsigned comparison instructions.
    
    They need unsigned support, or special treatment, so they have to wait.

 libs/gamecode/engine/pr_opcode.c |   32 ++++++++++++++++----------------
 1 file changed, 16 insertions(+), 16 deletions(-)

commit 8c8a6a4
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Mar 17 20:31:20 2011 +0900

    The function return type is the address of the type descriptor...

 tools/qfcc/source/dump_globals.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 01144d2
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Mar 17 19:58:56 2011 +0900

    Add a new gcc warning option and fix the two bugs it found.

 config.d/compiling.m4         |    1 +
 qw/source/cl_parse.c          |    2 +-
 tools/qfcc/source/constfold.c |    2 +-
 3 files changed, 3 insertions(+), 2 deletions(-)

commit 7b9d701
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Mar 10 20:51:04 2011 +0900

    Fix some missed language changes.

 ruamoko/include/Object.h |    2 +-
 ruamoko/lib/Object.r     |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 5aa0b34
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Mar 10 20:43:53 2011 +0900

    Add the cast statement to the statement block.
    
    *sob*

 tools/qfcc/source/statements.c |    1 +
 1 file changed, 1 insertion(+)

commit f663f58
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Mar 10 20:16:35 2011 +0900

    Fix the missing local defs for builtin functions.

 tools/qfcc/source/function.c |    3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit 899af31
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Mar 10 19:30:21 2011 +0900

    Use the correct type when generating a move expression.

 tools/qfcc/source/expr.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 2129eaa
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Mar 10 19:29:23 2011 +0900

    Dereference moves need movepi rather than movei.

 tools/qfcc/source/statements.c |   64 ++++++++++++++++++++++++++++++----------
 1 file changed, 48 insertions(+), 16 deletions(-)

commit bce3935
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Mar 10 19:28:03 2011 +0900

    Add a void address instruction.

 include/QF/pr_comp.h             |    1 +
 libs/gamecode/engine/pr_exec.c   |    1 +
 libs/gamecode/engine/pr_opcode.c |    5 +++++
 3 files changed, 7 insertions(+)

commit 8d69c5c
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Mar 9 20:34:23 2011 +0900

    More tests

 tools/qfcc/test/entity-field2.r |   13 +++++++++++++
 tools/qfcc/test/entity-struct.r |   30 ++++++++++++++++++++++++++++++
 tools/qfcc/test/forward.r       |   10 ++++++++++
 tools/qfcc/test/local-func.r    |   10 ++++++++++
 tools/qfcc/test/move.r          |   12 ++++++++++++
 tools/qfcc/test/offset.r        |   17 ++++++++++++-----
 tools/qfcc/test/storage.r       |    8 ++++++++
 tools/qfcc/test/vector.r        |   23 +++++++++++++++++++++++
 tools/qfcc/test/void-return.qc  |    4 ++++
 9 files changed, 122 insertions(+), 5 deletions(-)

commit cbbbf87
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Mar 9 15:51:17 2011 +0900

    Resurrect the stats output.

 tools/qfcc/source/obj_file.c |   27 +++++++++++++++++++++++++++
 tools/qfcc/source/qfcc.c     |   20 --------------------
 2 files changed, 27 insertions(+), 20 deletions(-)

commit 8368f57
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Mar 9 11:09:46 2011 +0900

    Close a potential buffer overflow.

 tools/qfcc/include/options.h |    1 +
 tools/qfcc/source/qfcc.c     |   28 +++++++++++++++-------------
 2 files changed, 16 insertions(+), 13 deletions(-)

commit 4d90eba
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Mar 9 11:08:30 2011 +0900

    Remove some unused globals.

 tools/qfcc/source/qfcc.c |   12 ------------
 1 file changed, 12 deletions(-)

commit 2464a89
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Mar 9 10:52:29 2011 +0900

    Preserve relocs across def churning.
    
    Freeing then re-allocating a def to change its storage from external is
    really not the right way to do it, but for now this fixes the loss of the
    relocs. With this, the menus seem to work :)

 tools/qfcc/source/def.c      |   15 +++++++++++++--
 tools/qfcc/source/function.c |    7 ++++++-
 tools/qfcc/source/obj_type.c |    1 +
 tools/qfcc/source/symtab.c   |    1 +
 4 files changed, 21 insertions(+), 3 deletions(-)

commit 39278ba
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Mar 9 10:30:57 2011 +0900

    Explicitly select between direct and indirect moves.

 tools/qfcc/include/expr.h      |    4 +++-
 tools/qfcc/source/constfold.c  |    2 +-
 tools/qfcc/source/expr.c       |   12 ++++++------
 tools/qfcc/source/statements.c |    7 +++++--
 4 files changed, 15 insertions(+), 10 deletions(-)

commit 90de6b0
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Mar 9 10:29:24 2011 +0900

    Add a movepi instruction to support indirect moves of fixed size.

 include/QF/pr_comp.h             |    1 +
 libs/gamecode/engine/pr_exec.c   |    9 +++++++++
 libs/gamecode/engine/pr_opcode.c |    5 +++++
 3 files changed, 15 insertions(+)

commit 18005cc
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Mar 9 10:28:40 2011 +0900

    Rename move to movei.

 include/QF/pr_comp.h             |    2 +-
 libs/gamecode/engine/pr_exec.c   |    2 +-
 libs/gamecode/engine/pr_opcode.c |    4 ++--
 3 files changed, 4 insertions(+), 4 deletions(-)

commit 6c4563b
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Mar 9 10:25:20 2011 +0900

    Change movep's name from <MOVE> to <MOVEP>.

 libs/gamecode/engine/pr_opcode.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit b95cdc3
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Mar 8 22:45:34 2011 +0900

    Set instace_size to the correct size.

 tools/qfcc/source/class.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 4432bc0
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Mar 8 22:44:56 2011 +0900

    Make the offset in zone dumps more useful.

 include/QF/zone.h              |    2 +-
 libs/gamecode/engine/pr_load.c |    4 ++--
 libs/gamecode/engine/pr_zone.c |    3 ++-
 libs/util/zone.c               |   41 +++++++++++++++++++++++++++++++---------
 4 files changed, 37 insertions(+), 13 deletions(-)

commit 55eed1a
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Mar 8 20:55:56 2011 +0900

    Make module dumping a little more informative.

 tools/qfcc/source/dump_modules.c |   11 +++++++----
 1 file changed, 7 insertions(+), 4 deletions(-)

commit 7c770b7
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Mar 8 19:56:02 2011 +0900

    Do not creat field defs for local storage.
    
    This prevents field params and local vars from messing up the real field
    defs.

 tools/qfcc/source/def.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f66e20d
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Mar 8 19:29:36 2011 +0900

    Set the dereferenced type in the field value.

 tools/qfcc/source/expr.c |    1 +
 1 file changed, 1 insertion(+)

commit 7198be5
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Mar 8 19:28:11 2011 +0900

    Treat entities a bit like structures in field_expr ().
    
    Look in the entity field symbol table for the field before looking in the
    normal symbol table. This allows entity fields to be accessed even when
    the current scope has symbol of the same name. However, checking the
    normal symbol table where there is no such field allows for field
    variables when I get around to implementing them.

 tools/qfcc/source/expr.c |   23 +++++++++++++++++------
 tools/qfcc/source/type.c |    1 +
 2 files changed, 18 insertions(+), 6 deletions(-)

commit 505bde3
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Mar 7 20:53:27 2011 +0900

    Fix the handling of @system defs.
    
    When treating a def as external, actually say it is external.

 tools/qfcc/source/linker.c |    1 +
 1 file changed, 1 insertion(+)

commit 8dbf8a9
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Mar 7 20:52:31 2011 +0900

    Be more informative with ext/def internal errors.

 tools/qfcc/source/linker.c |   16 ++++++++++++----
 1 file changed, 12 insertions(+), 4 deletions(-)

commit 6312ccb
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Mar 7 20:51:51 2011 +0900

    Fix storage class blocks.
    
    @extern { defs }; etc

 tools/qfcc/source/qc-parse.y |   46 ++++++++++++++++++++++++++++++------------
 1 file changed, 33 insertions(+), 13 deletions(-)

commit 4db8ebb
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Mar 7 20:04:05 2011 +0900

    Support qcc style local function variables.

 tools/qfcc/source/qc-parse.y |   24 +++++++++++++++++++++---
 1 file changed, 21 insertions(+), 3 deletions(-)

commit 853cc53
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Mar 7 17:49:01 2011 +0900

    FIx the handling of storage class.

 tools/qfcc/source/qc-parse.y |   18 ++++++++++--------
 1 file changed, 10 insertions(+), 8 deletions(-)

commit 7649549
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Mar 7 17:23:52 2011 +0900

    Handle external field declarations.

 tools/qfcc/source/def.c |   86 ++++++++++++++++++++++++++++++++++-------------
 1 file changed, 63 insertions(+), 23 deletions(-)

commit 49e446b
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Mar 7 14:45:50 2011 +0900

    Make field defs global.
    
    It turns out that field defs need to be global after all, so use separate
    field def tables in the linker.

 tools/qfcc/source/def.c    |    2 +-
 tools/qfcc/source/linker.c |   34 +++++++++++++++++++++++-----------
 2 files changed, 24 insertions(+), 12 deletions(-)

commit 041c5d5
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Mar 7 14:04:36 2011 +0900

    Check for the vector being a constant before trying to get its value.

 tools/qfcc/source/constfold.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit c069baf
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Mar 7 14:04:05 2011 +0900

    Support casting from enum to float.

 tools/qfcc/source/expr.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 5a78758
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Mar 7 13:52:28 2011 +0900

    Support return in void functions in v6 code.

 tools/qfcc/source/statements.c |    9 +++++++--
 1 file changed, 7 insertions(+), 2 deletions(-)

commit 1246fd9
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Mar 7 13:36:00 2011 +0900

    Use the correct size when growing a data space.

 tools/qfcc/source/defspace.c |    9 ++++++++-
 1 file changed, 8 insertions(+), 1 deletion(-)

commit 02a70eb
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Mar 7 13:33:02 2011 +0900

    Remove the auxfunction manipulation from the compiler proper.
    
    It was broken code in the first place (realloc and pointers), and is
    redundant with the new linking process.

 tools/qfcc/include/function.h |    3 ++-
 tools/qfcc/source/debug.c     |   14 --------------
 tools/qfcc/source/emit.c      |    2 +-
 tools/qfcc/source/function.c  |   27 ++++-----------------------
 tools/qfcc/source/obj_file.c  |    3 +--
 5 files changed, 8 insertions(+), 41 deletions(-)

commit 16103f9
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Mar 7 10:43:38 2011 +0900

    Fix param mangling for qc style functions.

 tools/qfcc/source/qc-parse.y |   18 +++++++++++++-----
 1 file changed, 13 insertions(+), 5 deletions(-)

commit 29cac0f
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Mar 7 10:21:40 2011 +0900

    Optionally create *_[xyz] symbols for accessing vector components.
    
    "vector-components" in code options controls this feature. The default is
    off for advanced code and on for traditional code. Disabling
    vector-components prevents the comonent names polluting the namespace and
    reduces the number of globals needed for vector fields if the components
    of that field are never used.

 tools/qfcc/doc/man/qfcc.1    |    6 ++++++
 tools/qfcc/include/options.h |    1 +
 tools/qfcc/source/def.c      |   28 ++++++++++++++++++++++++++++
 tools/qfcc/source/options.c  |   10 +++++++++-
 4 files changed, 44 insertions(+), 1 deletion(-)

commit 0b3d001
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Mar 7 10:02:20 2011 +0900

    Implement vector and quaternion component access.

 tools/qfcc/source/expr.c |    7 ++-----
 1 file changed, 2 insertions(+), 5 deletions(-)

commit f0e47f2
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Mar 7 10:01:21 2011 +0900

    Clean up some code duplication.

 tools/qfcc/source/expr.c |   41 +++++++++++++++++++++++++++--------------
 1 file changed, 27 insertions(+), 14 deletions(-)

commit a6f2221
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Mar 7 09:58:51 2011 +0900

    Fix taking the address of normal variables.
    
    Treat them the same as structure variables.

 tools/qfcc/source/expr.c |   11 ++++-------
 1 file changed, 4 insertions(+), 7 deletions(-)

commit 3c1784d
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Mar 7 08:33:30 2011 +0900

    Fold constants on both sides of = to ensure correct expression types.

 tools/qfcc/source/expr.c |    3 +++
 1 file changed, 3 insertions(+)

commit 5b8345e
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Mar 7 08:28:20 2011 +0900

    Do not try to print values from null entities.

 libs/gamecode/engine/pr_debug.c |    5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 66447df
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Mar 6 21:05:25 2011 +0900

    Undo the offset relocation of local defs.
    
    The debug info expects local defs to be 0 based, so once relocations in
    the progs data have been completed, undo the local def offset relocation
    so that the correct offsets will be written to the debug info.

 tools/qfcc/source/obj_file.c |   11 +++++++++++
 1 file changed, 11 insertions(+)

commit b2f0c9a
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Mar 6 21:03:12 2011 +0900

    Dump the local defs for functions when debug info is available.

 tools/qfcc/source/dump_globals.c |  165 +++++++++++++++++++++-----------------
 1 file changed, 92 insertions(+), 73 deletions(-)

commit 3b8a3f8
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Mar 6 21:02:29 2011 +0900

    Remove the vector component skip code from param searches.
    
    Local defs no longer contain the vector comonents.

 libs/gamecode/engine/pr_debug.c |    5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

commit b49d90e
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Mar 6 16:32:51 2011 +0900

    Do not lose the block expression when taking its address.

 tools/qfcc/source/expr.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit c78d15b
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Mar 6 16:05:38 2011 +0900

    Support taking the address of block expressions that have a result.

 tools/qfcc/source/expr.c |    4 ++++
 1 file changed, 4 insertions(+)

commit 993d05b
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Mar 6 15:58:49 2011 +0900

    Support taking the address of alias expressions.
    
    Taking the address of an alias expression undoes the alias but uses the
    aliased type.

 tools/qfcc/source/expr.c |    5 +++++
 1 file changed, 5 insertions(+)

commit b74c644
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Mar 6 15:41:38 2011 +0900

    Perform offset field relocations.

 tools/qfcc/source/obj_file.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 8712d30
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Mar 6 15:41:15 2011 +0900

    Make entity field defs static.
    
    Entity field defs need to be static in order to avoid clashing with their
    field variables.

 tools/qfcc/source/def.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c4e9a45
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Mar 6 15:40:07 2011 +0900

    Do not lose the entity field defs.

 tools/qfcc/source/linker.c |    1 +
 1 file changed, 1 insertion(+)

commit b7aa2f6
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Mar 6 15:39:27 2011 +0900

    Support access to struct fields in a structure in an entity.

 tools/qfcc/source/expr.c |   34 +++++++++++++++++++++++++++++-----
 1 file changed, 29 insertions(+), 5 deletions(-)

commit fe3d228
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Mar 6 15:38:19 2011 +0900

    Maintain a symbol table for entity fields.

 tools/qfcc/include/qfcc.h |    1 +
 tools/qfcc/source/def.c   |    4 ++++
 tools/qfcc/source/qfcc.c  |    2 ++
 3 files changed, 7 insertions(+)

commit c29e025
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Mar 6 15:34:53 2011 +0900

    Make def_field_Ofs reloc dumps more informative.

 tools/qfcc/source/dump_globals.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 02766f0
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Mar 6 15:33:53 2011 +0900

    Do not try to dump def values from spaces with no data.

 tools/qfcc/source/dump_globals.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 1eb759b
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Mar 6 15:33:10 2011 +0900

    Update reloc_names.
    
    I really need to get reloc_names unduplicated.

 tools/qfcc/source/qfprogs.c |    1 +
 1 file changed, 1 insertion(+)

commit d1187f0
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Mar 6 13:41:00 2011 +0900

    Set the edict area size when dumping qfo files.

 tools/qfcc/source/qfprogs.c |    1 +
 1 file changed, 1 insertion(+)

commit 7bfaf10
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Mar 6 13:40:24 2011 +0900

    Set the output file name as early as possible.

 tools/qfcc/source/qfcc.c |    5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 417d1b4
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Mar 6 13:19:20 2011 +0900

    Fix structure copy into and out of entities.

 tools/qfcc/source/expr.c |    6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit dc7a78b
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Mar 6 11:41:01 2011 +0900

    Fix case label type conversions.
    
    The previous method made too many assumptions.

 tools/qfcc/source/switch.c |   19 ++++++++++++-------
 1 file changed, 12 insertions(+), 7 deletions(-)

commit fe4df03
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Mar 6 11:28:54 2011 +0900

    Add is_float ().
    
    For now, it checks just floats, but I might one day add doubles.

 tools/qfcc/include/type.h |    1 +
 tools/qfcc/source/type.c  |    8 +++++++-
 2 files changed, 8 insertions(+), 1 deletion(-)

commit 85bffbc
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Mar 6 11:25:12 2011 +0900

    Add is_integral() to check for integral types (integer, short, enum).

 tools/qfcc/include/type.h |    1 +
 tools/qfcc/source/type.c  |   10 ++++++++--
 2 files changed, 9 insertions(+), 2 deletions(-)

commit 17a9dff
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Mar 6 11:18:19 2011 +0900

    Avoid freeing an operand twice.
    
    Due to the way operands are used, they can be freed twice in dead-statement
    removal. Detect the double-free and ignore it.

 tools/qfcc/source/statements.c |    6 ++++++
 1 file changed, 6 insertions(+)

commit 28f4de9
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Mar 6 00:29:29 2011 +0900

    Fix switch statements so the work in the new scheme.
    
    Convert case labels to be the same type as the switch expression.
    Use alias expressions for the various test expressions.

 tools/qfcc/source/qc-parse.y |    6 +++---
 tools/qfcc/source/switch.c   |   22 ++++++++++++++++++++--
 2 files changed, 23 insertions(+), 5 deletions(-)

commit 8cfa80b
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Mar 5 18:01:37 2011 +0900

    Implement think expressions.

 tools/qfcc/include/expr.h    |    1 +
 tools/qfcc/source/expr.c     |   21 +++++++++++++++++++++
 tools/qfcc/source/qc-parse.y |    2 +-
 3 files changed, 23 insertions(+), 1 deletion(-)

commit 7209c61
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Mar 5 17:23:22 2011 +0900

    Fix initializing local float variables with an integer constant.
    
    Run the assignment expression through fold_constants to handle any
    necessary conversions and error checking.

 tools/qfcc/source/def.c     |    5 +++--
 tools/qfcc/test/int-float.r |    4 ++++
 2 files changed, 7 insertions(+), 2 deletions(-)

commit a3c1f33
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Mar 5 17:22:04 2011 +0900

    Gracefully handle undefined symbols in entity field expressions.

 tools/qfcc/source/expr.c |    2 ++
 1 file changed, 2 insertions(+)

commit fbea276
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Mar 5 17:21:19 2011 +0900

    Yet more tests.

 tools/qfcc/test/linkdef1.r   |    7 +++++++
 tools/qfcc/test/linkdef2.r   |    9 +++++++++
 tools/qfcc/test/linkdef3.r   |   10 ++++++++++
 tools/qfcc/test/test-linkdef |    6 ++++++
 4 files changed, 32 insertions(+)

commit 7314b94
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Mar 5 16:31:32 2011 +0900

    Bring back the offset alias support.
    
    Accidently nuked it when fixing .return etc.

 tools/qfcc/source/emit.c |    7 ++++++-
 1 file changed, 6 insertions(+), 1 deletion(-)

commit e7e8220
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Mar 5 16:25:56 2011 +0900

    Dump code addresses as hex, too.

 tools/qfcc/source/dump_globals.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 2f74e6e
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Mar 5 16:24:53 2011 +0900

    Nuke the old progs global.
    
    It is no longer needed thanks to the new qfo conversion functions.

 tools/qfcc/source/qfprogs.c |    5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

commit fcb567f
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Mar 5 16:00:39 2011 +0900

    Use the correct function number when updating the function def.
    
    Functions are 1 based in progs bug 0 based in qfo files.

 tools/qfcc/source/obj_file.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 535dfad
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Mar 5 15:59:14 2011 +0900

    Emit defs for far data.
    
    They will break when the offsets exceed 64k, but they are needed for
    debugging.

 tools/qfcc/source/obj_file.c |    9 +++++++--
 1 file changed, 7 insertions(+), 2 deletions(-)

commit 97b1cec
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Mar 5 15:40:08 2011 +0900

    Fix line number info.
    
    line number info is now 1 based rather than 0 based (to better detect when
    a function does not have line number info).

 tools/qfcc/source/linker.c   |   14 ++++++++++----
 tools/qfcc/source/obj_file.c |   21 ++++++++++++---------
 tools/qfcc/source/qfcc.c     |    7 +++++++
 3 files changed, 29 insertions(+), 13 deletions(-)

commit 1dea86a
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Mar 5 14:53:41 2011 +0900

    Update debug info loading when dumping qfo files.

 tools/qfcc/source/qfprogs.c |   99 ++++++++++---------------------------------
 1 file changed, 23 insertions(+), 76 deletions(-)

commit cfefd79
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Mar 5 09:21:12 2011 +0900

    Fix the source of bogus string relocs.
    
    Nested aggregate initializers were corrupting themselves.

 tools/qfcc/source/def.c |    3 +++
 1 file changed, 3 insertions(+)

commit 7c95913
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Mar 5 09:07:16 2011 +0900

    Avoid segfaulting with bad string relocs.

 tools/qfcc/source/linker.c |   10 +++++++++-
 1 file changed, 9 insertions(+), 1 deletion(-)

commit 8eb5fd6
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Mar 5 08:41:14 2011 +0900

    Perform the relocations!!!
    
    line numbers seem to be broken, but the code itself looks good.

 tools/qfcc/include/obj_file.h |    2 ++
 tools/qfcc/source/obj_file.c  |   65 ++++++++++++++++++++++++++++++++++++++++-
 2 files changed, 66 insertions(+), 1 deletion(-)

commit fe7be54
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Mar 5 08:39:47 2011 +0900

    Correctly update the offset of code relocs.

 tools/qfcc/source/linker.c |   12 ++++++++++--
 1 file changed, 10 insertions(+), 2 deletions(-)

commit 7fd839a
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Mar 5 08:39:16 2011 +0900

    Handle chains of alias defs so relocs will be emitted.

 tools/qfcc/source/emit.c |   15 +++++++--------
 1 file changed, 7 insertions(+), 8 deletions(-)

commit bbedbf5
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Mar 5 08:37:51 2011 +0900

    Add the .return etc symbols to the symbol table.
    
    This puts their defs into the object file.

 tools/qfcc/source/expr.c |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit c3f1c18
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Mar 5 08:36:55 2011 +0900

    Resolve types of .return etc.

 tools/qfcc/source/linker.c |   78 ++++++++++++++++++++++++++++----------------
 1 file changed, 50 insertions(+), 28 deletions(-)

commit af7bc81
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Mar 5 08:35:56 2011 +0900

    Chain the types for the linker.

 tools/qfcc/source/qfcc.c |    1 +
 1 file changed, 1 insertion(+)

commit 0bd0f78
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Mar 4 23:37:46 2011 +0900

    Update def offsets with their final locations.

 tools/qfcc/source/obj_file.c |   17 ++++++++++++++++-
 1 file changed, 16 insertions(+), 1 deletion(-)

commit 6d02555
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Mar 4 23:31:09 2011 +0900

    Reorganize the offset calculations.
    
    keep the offset calculations separate from the data transfers for better
    clarity in what is happening.

 tools/qfcc/source/obj_file.c |   53 ++++++++++++++++++++++++------------------
 1 file changed, 31 insertions(+), 22 deletions(-)

commit e62163e
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Mar 4 21:46:19 2011 +0900

    Nuke any invalidated relocs.

 tools/qfcc/source/linker.c |   10 +++++++++-
 1 file changed, 9 insertions(+), 1 deletion(-)

commit 2565e0d
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Mar 4 21:29:47 2011 +0900

    Update reloc targets when linking.

 tools/qfcc/source/linker.c |   42 ++++++++++++++++++++++++++++++++----------
 1 file changed, 32 insertions(+), 10 deletions(-)

commit bc78b84
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Mar 4 21:29:10 2011 +0900

    Set the target of string relocs to the string index.

 tools/qfcc/source/dump_globals.c |    5 ++---
 tools/qfcc/source/obj_file.c     |   10 ++++++++--
 2 files changed, 10 insertions(+), 5 deletions(-)

commit 7fb22bd
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Mar 4 21:28:12 2011 +0900

    Make D_STRING() more useful and add D_GETSTR()

 tools/qfcc/include/qfcc.h |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit e04f626
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Mar 4 20:40:01 2011 +0900

    Nuke def_list from defref_t.
    
    It didn't work :/.

 tools/qfcc/source/linker.c |    7 +------
 1 file changed, 1 insertion(+), 6 deletions(-)

commit 5a552d8
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Mar 4 20:29:40 2011 +0900

    Add the null function.

 tools/qfcc/source/obj_file.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 368a382
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Mar 4 20:14:02 2011 +0900

    Redo the offset and size calculations for qfo_to_progs().

 tools/qfcc/source/obj_file.c |   40 ++++++++++++++++++++++++++--------------
 1 file changed, 26 insertions(+), 14 deletions(-)

commit cd12a78
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Mar 4 19:02:47 2011 +0900

    Replace some accidentally deleted code.
    
    Forgot to commit it the first time round, then rebase messed me up and I
    didn't notice until after pushing. *sigh*

 tools/qfcc/source/obj_file.c |   72 ++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 72 insertions(+)

commit 72fae60
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Mar 4 18:45:43 2011 +0900

    Write the function start address to the progs file.
    
    Oops:P

 tools/qfcc/source/obj_file.c |    1 +
 1 file changed, 1 insertion(+)

commit 2211a80
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Mar 4 18:44:35 2011 +0900

    Do not relocate builtin functions.

 tools/qfcc/source/linker.c   |    3 +-
 tools/qfcc/source/obj_file.c |   72 ------------------------------------------
 2 files changed, 2 insertions(+), 73 deletions(-)

commit d6d8b5b
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Mar 4 18:44:02 2011 +0900

    Generate the debug symbol file.

 tools/qfcc/include/obj_file.h |    1 +
 tools/qfcc/source/obj_file.c  |   72 +++++++++++++++++++++++++++
 tools/qfcc/source/qfcc.c      |  108 +++++++++++++++++++++--------------------
 3 files changed, 128 insertions(+), 53 deletions(-)

commit 9a96feb
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Mar 4 14:51:09 2011 +0900

    Fix the hordes of bogus defs.
    
    They were caused by unused external defs, so not processing unused externs
    in the first place is the simplest solution.

 tools/qfcc/source/linker.c |    2 ++
 1 file changed, 2 insertions(+)

commit 7b7f4c7
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Mar 4 14:33:03 2011 +0900

    Correct non-external def processing.

 tools/qfcc/source/linker.c |   40 +++++++++++++++++++++++-----------------
 1 file changed, 23 insertions(+), 17 deletions(-)

commit c5dac6d
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Mar 4 14:26:00 2011 +0900

    Transfer the type encoding.
    
    oops

 tools/qfcc/source/linker.c |    6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit d0b4546
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Mar 4 13:54:29 2011 +0900

    qfprogs isn't yet fully functional...

 tools/qfcc/source/qfprogs.c |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 2992d66
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Mar 4 13:52:32 2011 +0900

    Simplify the tag used for anonymous structs etc.
    
    Hopefully two files with the same file name won't have anonymous stucts on
    the same line.

 tools/qfcc/source/struct.c |   13 ++++++++-----
 1 file changed, 8 insertions(+), 5 deletions(-)

commit e525727
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Mar 4 11:38:33 2011 +0900

    Add a null type descriptor to the linker output.

 tools/qfcc/source/linker.c |    1 +
 1 file changed, 1 insertion(+)

commit 3a828ca
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Mar 4 11:18:56 2011 +0900

    Ensure work spaces are always connected to their data.

 tools/qfcc/source/linker.c |   42 ++++++++++++++++++++++++++++--------------
 1 file changed, 28 insertions(+), 14 deletions(-)

commit 45c3dd6
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Mar 4 08:27:26 2011 +0900

    Some test updates.

 tools/qfcc/test/bool.r         |    8 ++++++++
 tools/qfcc/test/entity-field.r |    9 +++++++++
 2 files changed, 17 insertions(+)

commit 4192ef8
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Mar 4 08:25:50 2011 +0900

    Delay initialization of obj_module_t as long as possible.
    
    This keeps the type descriptor out of progs that never use any
    Objective-QC features.

 tools/qfcc/include/class.h |    1 -
 tools/qfcc/source/class.c  |   21 +++++++++++----------
 tools/qfcc/source/qc-lex.l |   19 +++++++++++++------
 tools/qfcc/source/type.c   |    1 -
 4 files changed, 24 insertions(+), 18 deletions(-)

commit c99f3ab
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Mar 4 00:11:13 2011 +0900

    Add the new header files for make dist.

 tools/qfcc/include/Makefile.am |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit fd24524
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Mar 3 22:32:22 2011 +0900

    More tests.
    
    I really need to sort out some test automation.

 tools/qfcc/test/dead-block.r |    7 +++++++
 tools/qfcc/test/redefined.r  |    2 ++
 tools/qfcc/test/super.r      |   14 ++++++++++++++
 3 files changed, 23 insertions(+)

commit ee9045c
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Mar 3 19:08:26 2011 +0900

    Emit code for jump tables.
    
    With this, the entirety of the ruamoko tree builds (though the progs will
    be broken in various ways: mostly unrelocated references).

 tools/qfcc/source/statements.c |   17 ++++++++++++-----
 1 file changed, 12 insertions(+), 5 deletions(-)

commit a281033
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Mar 3 19:07:37 2011 +0900

    Alais the jump table's array to an integer.
    
    As per the previous commit, I'm not sure this is the right thing to do, but
    it works for now.

 tools/qfcc/source/switch.c |    1 +
 1 file changed, 1 insertion(+)

commit 4794d66
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Mar 3 19:06:17 2011 +0900

    Change jumpb's opa type to integer.
    
    I'm not 100% certain this is correct...

 libs/gamecode/engine/pr_opcode.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 4324486
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Mar 3 18:13:30 2011 +0900

    Give - unary expressions special treatment.
    
    The progs engine has no neg instruction, so need to implement -val as
    nil - val

 tools/qfcc/source/statements.c |   20 ++++++++++++++++++++
 1 file changed, 20 insertions(+)

commit f9e177e
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Mar 3 17:50:46 2011 +0900

    Obtain the label to be removed from the correct place.
    
    This fixes the undetected dead block after "if return else return".

 tools/qfcc/source/statements.c |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit ed901bd
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Mar 3 17:35:06 2011 +0900

    Drop unused labels rather than adding them to the statement block.
    
    However, even unused labels create a new statement block if necessary.

 tools/qfcc/source/statements.c |   10 +++++++---
 1 file changed, 7 insertions(+), 3 deletions(-)

commit b5e7e66
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Mar 3 17:33:53 2011 +0900

    Fix some missed branch/goto expression changes.

 tools/qfcc/source/expr.c   |    3 +++
 tools/qfcc/source/switch.c |    4 ++--
 2 files changed, 5 insertions(+), 2 deletions(-)

commit c5ecc17
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Mar 3 15:28:49 2011 +0900

    Give labels a usage count to detect unused labels.

 tools/qfcc/include/expr.h      |    3 +++
 tools/qfcc/source/expr.c       |   36 ++++++++++++++++++++++++++++--------
 tools/qfcc/source/qc-parse.y   |    4 ++--
 tools/qfcc/source/statements.c |    1 +
 tools/qfcc/source/switch.c     |   14 +++++++-------
 5 files changed, 41 insertions(+), 17 deletions(-)

commit 9064061
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Mar 3 15:02:26 2011 +0900

    Compare symbols using the right method.
    
    That fixme was right :)

 tools/qfcc/source/class.c |   16 +++++++++++++++-
 1 file changed, 15 insertions(+), 1 deletion(-)

commit 610d775
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Mar 3 14:56:21 2011 +0900

    Treat void values as the largest type.
    
    This fixes passing nil through a structure return value.

 tools/qfcc/source/immediate.c |    2 ++
 1 file changed, 2 insertions(+)

commit bad5fdd
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Mar 3 14:44:48 2011 +0900

    Fix overloaded function resolution.
    
    Update the expression symbol pointer, not just the symbol name.

 tools/qfcc/source/function.c |    9 +++++++--
 1 file changed, 7 insertions(+), 2 deletions(-)

commit fff4fc6
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Mar 3 14:02:18 2011 +0900

    Fix value hashing and comparison in switch expressions.

 tools/qfcc/source/switch.c |   19 +++++++++----------
 1 file changed, 9 insertions(+), 10 deletions(-)

commit 74e6b13
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Mar 3 13:47:28 2011 +0900

    Use alias expressions where possible when testing an expression.

 tools/qfcc/source/expr.c |   19 ++++++++++---------
 1 file changed, 10 insertions(+), 9 deletions(-)

commit d937172
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Mar 3 13:46:07 2011 +0900

    Create and use alias operands for alias expressions.
    
    This avoids the alias expression modifying the operand used in other
    expressions.

 tools/qfcc/include/statements.h |    2 ++
 tools/qfcc/source/dot_flow.c    |    2 ++
 tools/qfcc/source/emit.c        |    4 ++++
 tools/qfcc/source/statements.c  |   13 ++++++++-----
 4 files changed, 16 insertions(+), 5 deletions(-)

commit 022fde6
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Mar 3 13:10:07 2011 +0900

    Implement unary expression statements.

 tools/qfcc/source/statements.c |   16 ++++++++++++++--
 1 file changed, 14 insertions(+), 2 deletions(-)

commit 45de732
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Mar 3 11:06:10 2011 +0900

    Implement alias expressions (finally).
    
    Alias expressions are like cast expressions, but never do any conversions.

 tools/qfcc/include/expr.h      |    2 ++
 tools/qfcc/source/dot_expr.c   |    1 +
 tools/qfcc/source/expr.c       |   17 ++++++++++++-----
 tools/qfcc/source/statements.c |   15 ++++++++++++++-
 4 files changed, 29 insertions(+), 6 deletions(-)

commit 59f520f
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Mar 3 10:39:21 2011 +0900

    Fix some parse errors that were lost in the noise.

 ruamoko/cl_menu/controls_o.qc |   10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit 8489943
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Mar 3 10:36:43 2011 +0900

    Support enums in expressions that support scalar types.

 tools/qfcc/source/constfold.c |   47 ++++++++++++++++++++++++++++-------------
 1 file changed, 32 insertions(+), 15 deletions(-)

commit c12211d
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Mar 2 22:46:55 2011 +0900

    Support enum results for boolean expressions.
    
    eg enum BOOL x = a && b;

 tools/qfcc/include/struct.h |    2 ++
 tools/qfcc/source/expr.c    |    2 ++
 tools/qfcc/source/struct.c  |   34 ++++++++++++++++++++++++++++++++++
 3 files changed, 38 insertions(+)

commit c06dd77
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Mar 2 22:28:17 2011 +0900

    Fix expression initializers for arrays and structs.

 tools/qfcc/source/def.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 76f912c
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Mar 2 22:23:24 2011 +0900

    Fix function typedefs.

 tools/qfcc/source/qc-parse.y |    9 +++++++--
 1 file changed, 7 insertions(+), 2 deletions(-)

commit aa4ed00
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Mar 2 22:13:16 2011 +0900

    Fix the message type used to check arguments.

 ruamoko/cl_menu/Makefile.am |    2 +-
 ruamoko/gui/Makefile.am     |    2 +-
 ruamoko/lib/Makefile.am     |    2 +-
 ruamoko/scheme/Makefile.am  |    2 +-
 tools/qfcc/source/expr.c    |    5 ++++-
 5 files changed, 8 insertions(+), 5 deletions(-)

commit 4a99f8d
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Mar 2 20:51:00 2011 +0900

    Write the linker output to progs.dat.
    
    There is much breakage, but qfcc now produces a progs.dat from either
    progs.src or object files. Better yet, the progs.src result is passed
    through the linker, removing much duplicate code.

 tools/qfcc/include/idstuff.h  |    4 +-
 tools/qfcc/include/obj_file.h |    2 +-
 tools/qfcc/source/idstuff.c   |   56 +++---
 tools/qfcc/source/obj_file.c  |   20 +-
 tools/qfcc/source/qfcc.c      |  417 ++++++++++-------------------------------
 tools/qfcc/source/qfprogs.c   |    4 +-
 6 files changed, 151 insertions(+), 352 deletions(-)

commit 29985ef
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Mar 2 20:48:55 2011 +0900

    Expose some linker functions to the rest of the compiler.
    
    They proved to be useful for cleaning up the final compilation stages.

 tools/qfcc/include/linker.h |    7 +++++++
 tools/qfcc/source/linker.c  |   48 ++++++++++++++++++++-----------------------
 2 files changed, 29 insertions(+), 26 deletions(-)

commit 8cdd28f
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Mar 2 19:08:11 2011 +0900

    Use qfo_to_progs() for dumping qfo data.
    
    Yay, less duplicate code, and better yet, qfo_to_progs gets some much
    needed testing :).

 tools/qfcc/source/qfprogs.c |  191 ++++---------------------------------------
 1 file changed, 14 insertions(+), 177 deletions(-)

commit ecb995a
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Mar 2 19:06:43 2011 +0900

    Rewrite qfo_to_progs() to go direct from qfo to progs.dat.
    
    Relocs and debug info is currently broken.

 tools/qfcc/include/obj_file.h |    7 +-
 tools/qfcc/source/obj_file.c  |  207 +++++++++++++++++++++++++++++++++++++++--
 tools/qfcc/source/qfcc.c      |    2 +-
 3 files changed, 203 insertions(+), 13 deletions(-)

commit 824d8bf
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Mar 2 14:21:20 2011 +0900

    Remove some now unnecessary functions.

 tools/qfcc/include/obj_file.h |   63 -----------------------------------------
 tools/qfcc/source/obj_file.c  |   45 -----------------------------
 2 files changed, 108 deletions(-)

commit 065d3e0
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Mar 2 14:03:41 2011 +0900

    Partial linking for a single qfo file now seems to work.

 tools/qfcc/source/linker.c |  180 ++++++++++++++++++++++++++++++++------------
 1 file changed, 133 insertions(+), 47 deletions(-)

commit bfeece3
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Mar 2 12:35:10 2011 +0900

    Fix the bogus declarations of obj_msgSend and obj_msgSend_super.

 tools/qfcc/source/linker.c |   17 +++--------------
 tools/qfcc/source/method.c |    3 +++
 2 files changed, 6 insertions(+), 14 deletions(-)

commit fda46a4
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Mar 2 12:26:53 2011 +0900

    Handle the special defs.

 tools/qfcc/source/linker.c |   77 +++++++++++++++++++++++++++++++++++---------
 1 file changed, 62 insertions(+), 15 deletions(-)

commit 330e76a
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Mar 2 11:29:08 2011 +0900

    Set the correct storage class for struct and enum specifiers.

 tools/qfcc/source/qc-parse.y |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 5431796
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Mar 2 11:14:12 2011 +0900

    Handle relocs.
    
    With this, the building of the work qfo seems to be almost finished, just
    the special defs to go. Next step will be to stitch all the parts of the
    work qfo into a real qfo.
    
    However, still have to fix the relocs for the type descriptors, but they
    are not critical to the linker's functioning.

 tools/qfcc/source/linker.c |   33 +++++++++++++++++++++++++++++++--
 1 file changed, 31 insertions(+), 2 deletions(-)

commit 8669dc3
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Mar 2 11:13:44 2011 +0900

    Add some documentation.

 tools/qfcc/source/linker.c |   36 ++++++++++++++++++++++++++----------
 1 file changed, 26 insertions(+), 10 deletions(-)

commit 65bd215
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Mar 1 15:35:14 2011 +0900

    Minor rearrangements.

 tools/qfcc/source/linker.c |  130 ++++++++++++++++++++++----------------------
 1 file changed, 65 insertions(+), 65 deletions(-)

commit 2cb1c74
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Mar 1 15:18:47 2011 +0900

    More progress on the linker.
    
    Need to finish up defs and handle relocs, and then take care of special
    defs (@self etc), but things are getting very close.

 tools/qfcc/source/linker.c |  159 ++++++++++++++++++++++++++++++++------------
 1 file changed, 116 insertions(+), 43 deletions(-)

commit 9f126ed
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Mar 1 15:18:12 2011 +0900

    Add some quick type access macros.

 tools/qfcc/include/obj_file.h |    4 ++++
 1 file changed, 4 insertions(+)

commit b584a22
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Mar 1 11:07:38 2011 +0900

    Fix external function declarations.
    
    Use spec.storage rather than current_storage.

 tools/qfcc/source/qc-parse.y |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit cce6838
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Mar 1 10:56:03 2011 +0900

    Ensure .ctor is declared static.

 tools/qfcc/source/class.c |    4 ++++
 1 file changed, 4 insertions(+)

commit c36919a
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Mar 1 10:53:29 2011 +0900

    Fix verbosity and diagnostic messages.

 tools/qfcc/source/linker.c |   11 ++++++-----
 1 file changed, 6 insertions(+), 5 deletions(-)

commit cfff2b1
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Mar 1 10:52:27 2011 +0900

    Add defs from near and far data spaces.

 tools/qfcc/source/linker.c |    2 ++
 1 file changed, 2 insertions(+)

commit 2155886
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Mar 1 09:19:04 2011 +0900

    Make defrefs a little more stupid.
    
    Stupid code does little well :P
    
    I forgot that spaces get realloced, and I don't remember why I had the def
    list pointer separate anyway.

 tools/qfcc/source/linker.c |   12 +++++-------
 1 file changed, 5 insertions(+), 7 deletions(-)

commit 1416b99
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Mar 1 09:18:09 2011 +0900

    Ensure the type space pointer is cleared with each object file.

 tools/qfcc/source/linker.c |    1 +
 1 file changed, 1 insertion(+)

commit 3027296
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Mar 1 09:17:32 2011 +0900

    Update the def's type pointer.

 tools/qfcc/source/linker.c |    3 +++
 1 file changed, 3 insertions(+)

commit 1837518
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Mar 1 08:48:58 2011 +0900

    Split the space processing into two passes.
    
    This allows strings and types to be handled before code and data.

 tools/qfcc/source/linker.c |   41 ++++++++++++++++++++++++++++-------------
 1 file changed, 28 insertions(+), 13 deletions(-)

commit eb11a19
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Mar 1 08:46:02 2011 +0900

    Split the type processing into two passes.
    
    This allows all duplicate types to be "merged" before adding any new
    types, thus avoiding any accidental duplication caused by possible
    differences in order between defs and the type descriptors.

 tools/qfcc/source/linker.c |    8 ++++++++
 1 file changed, 8 insertions(+)

commit 05e6f00
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Mar 1 08:16:14 2011 +0900

    Initialize the new type def.
    
    Oops :P

 tools/qfcc/source/linker.c |    3 +++
 1 file changed, 3 insertions(+)

commit 3761cdd
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 28 23:18:07 2011 +0900

    Finally, some real progress on the linker.
    
    There is still much to be done, but this seems to be a workable approach.

 tools/qfcc/source/linker.c |  572 +++++++++++++++++++++++++++++++++++---------
 1 file changed, 461 insertions(+), 111 deletions(-)

commit bad7078
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 28 23:16:59 2011 +0900

    Don't set the space defs pointer if there are no defs.

 tools/qfcc/source/obj_file.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 5d9fbc2
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 28 23:16:19 2011 +0900

    Set the space ids to the destination space.
    
    This is mostly redundant, but it allows qfo spaces to get out of order
    without breaking everything.

 tools/qfcc/source/obj_file.c |    9 +++++++++
 1 file changed, 9 insertions(+)

commit b544196
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 28 23:12:32 2011 +0900

    Change ptrfld to fldptr for consistency with type.h.

 tools/qfcc/include/obj_type.h |    6 +++---
 tools/qfcc/source/obj_type.c  |   10 +++++-----
 2 files changed, 8 insertions(+), 8 deletions(-)

commit 8b661bb
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Feb 27 11:37:01 2011 +0900

    Rename qfo_reloc_t's def to target and correct its usage.

 tools/qfcc/include/obj_file.h    |    2 +-
 tools/qfcc/source/dump_globals.c |   34 +++++++++++++++---------------
 tools/qfcc/source/linker.c       |    2 +-
 tools/qfcc/source/obj_file.c     |   42 +++++++++++++++++++++++++-------------
 4 files changed, 47 insertions(+), 33 deletions(-)

commit c8f1b5b
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Feb 27 00:37:35 2011 +0900

    Fix the missing type encoding for structures.
    
    There should be a better way (probably by doing the encoding as needed
    rather than in chain_type), but this seems to work for now.

 tools/qfcc/source/struct.c |    3 +++
 1 file changed, 3 insertions(+)

commit 438d14d
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Feb 27 00:36:45 2011 +0900

    More or less fix qfprogs when dumping info from qfo files.
    
    Relocations are still broken, but everything seems to be working and
    qfprogs now seems to be generally usable.

 tools/qfcc/source/qfprogs.c |  195 +++++++++++++++++++++++++++----------------
 1 file changed, 124 insertions(+), 71 deletions(-)

commit 4f6d18a
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Feb 27 00:33:16 2011 +0900

    Encode the basic type for functions, fields and pointers.
    
    Very important for distinguishing them from other types.

 tools/qfcc/include/obj_type.h |    4 +++-
 tools/qfcc/source/obj_type.c  |    4 +++-
 2 files changed, 6 insertions(+), 2 deletions(-)

commit 5504331
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Feb 27 00:31:52 2011 +0900

    Fix the QFO_POINTER macro

 tools/qfcc/include/obj_file.h |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 9cf63db
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Feb 26 22:06:22 2011 +0900

    Clean up the create of the obj_module_s structure.

 tools/qfcc/source/class.c |   11 +++--------
 1 file changed, 3 insertions(+), 8 deletions(-)

commit cbfbc0b
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Feb 26 22:05:53 2011 +0900

    Ensure type_ClassPtr is chained before it is used.

 tools/qfcc/source/class.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit a7ae71e
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Feb 25 15:59:23 2011 +0900

    Fix some type encoding problems found using qfprogs.

 tools/qfcc/source/obj_type.c |    4 +++-
 tools/qfcc/source/type.c     |   22 ++++++++++------------
 2 files changed, 13 insertions(+), 13 deletions(-)

commit 58ac212
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Feb 25 13:37:23 2011 +0900

    Fix qfo function dumping.

 tools/qfcc/source/dump_globals.c |   24 +++++++++++++++++-------
 1 file changed, 17 insertions(+), 7 deletions(-)

commit 2b3436b
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Feb 25 13:29:09 2011 +0900

    Fix qfo reloc dumping.

 tools/qfcc/source/dump_globals.c |   66 +++++++++++++++++++++++---------------
 1 file changed, 40 insertions(+), 26 deletions(-)

commit f43eda6
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Feb 25 09:39:07 2011 +0900

    Fix qfo global dumping.

 tools/qfcc/source/dump_globals.c |   58 +++++++++++++++++++++-----------------
 tools/qfcc/source/qfprogs.c      |    1 +
 2 files changed, 33 insertions(+), 26 deletions(-)

commit 65c7d42
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Feb 25 09:38:22 2011 +0900

    Update the qfo access macros for the new format.

 tools/qfcc/include/obj_file.h |   34 ++++++++++++++++++++++------------
 1 file changed, 22 insertions(+), 12 deletions(-)

commit f362e74
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Feb 24 15:24:35 2011 +0900

    Update the header.

 tools/qfcc/source/linker.c |    2 ++
 1 file changed, 2 insertions(+)

commit a106c1f
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Feb 24 15:21:06 2011 +0900

    Add a field for loose relocation records.
    
    Loose relocation records are those that are not bound to a def or a
    function.

 tools/qfcc/include/obj_file.h |    6 ++++--
 tools/qfcc/source/obj_file.c  |    3 +++
 2 files changed, 7 insertions(+), 2 deletions(-)

commit 8f1e2c1
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Feb 24 14:08:42 2011 +0900

    Clean up some fixmes.

 tools/qfcc/source/idstuff.c |   17 ++++++++---------
 tools/qfcc/source/type.c    |   12 +++---------
 2 files changed, 11 insertions(+), 18 deletions(-)

commit c10a551
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Feb 24 13:07:36 2011 +0900

    Rename new_defspace() and defspace_new_loc().

 tools/qfcc/include/defspace.h |    4 ++--
 tools/qfcc/source/def.c       |    2 +-
 tools/qfcc/source/defspace.c  |    6 +++---
 tools/qfcc/source/function.c  |    2 +-
 tools/qfcc/source/immediate.c |    2 +-
 tools/qfcc/source/linker.c    |    8 ++++----
 tools/qfcc/source/obj_type.c  |    2 +-
 tools/qfcc/source/qfcc.c      |   18 +++++++++---------
 tools/qfcc/source/stub.c      |    1 -
 9 files changed, 22 insertions(+), 23 deletions(-)

commit 88cd37a
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Feb 24 13:00:19 2011 +0900

    Header update for the renamed files.

 tools/qfcc/source/dump_globals.c |    2 +-
 tools/qfcc/source/dump_lines.c   |    2 +-
 tools/qfcc/source/dump_modules.c |    2 +-
 tools/qfcc/source/dump_strings.c |    2 +-
 4 files changed, 4 insertions(+), 4 deletions(-)

commit 5efeb7e
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Feb 24 12:59:18 2011 +0900

    Rename some files that have been bugging me.

 tools/qfcc/source/Makefile.am    |    3 +-
 tools/qfcc/source/dump_globals.c |  356 ++++++++++++++++++++++++++++++++++++++
 tools/qfcc/source/dump_lines.c   |   93 ++++++++++
 tools/qfcc/source/dump_modules.c |  218 +++++++++++++++++++++++
 tools/qfcc/source/dump_strings.c |   73 ++++++++
 tools/qfcc/source/globals.c      |  356 --------------------------------------
 tools/qfcc/source/lines.c        |   93 ----------
 tools/qfcc/source/modules.c      |  218 -----------------------
 tools/qfcc/source/strings.c      |   73 --------
 9 files changed, 742 insertions(+), 741 deletions(-)

commit 66b255a
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Feb 24 12:18:35 2011 +0900

    First stage of the linker rewrite.
    
    Strings, code and data spaces are "merged". Various offsets are updated.
    Still to do:
     o  Merge reloc, def, function and line data.
     o  Merge type data.
     o  Update def and function type pointers.
     o  Resolve external defs and check for duplicate defs.
     o  Perform relocations.
     o  anything else I've forgotten :)

 tools/qfcc/source/linker.c   |  781 ++++++++++--------------------------------
 tools/qfcc/source/obj_file.c |    2 +-
 2 files changed, 180 insertions(+), 603 deletions(-)

commit 74497f0
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 23 18:10:38 2011 +0900

    Read qfo object files :)

 tools/qfcc/include/obj_file.h |   13 +++++
 tools/qfcc/source/obj_file.c  |  117 +++++++++++++++++++++++++++++++++++------
 2 files changed, 115 insertions(+), 15 deletions(-)

commit 33810e9
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 23 14:50:10 2011 +0900

    Write out object files in the new format.

 tools/qfcc/include/def.h     |    2 +-
 tools/qfcc/source/obj_file.c |  348 ++++++++++++++++++++++++++++++++++++++----
 2 files changed, 320 insertions(+), 30 deletions(-)

commit 1f7c39b
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 23 14:49:00 2011 +0900

    Chain @va_list's type.
    
    Oops :P

 tools/qfcc/source/type.c |    1 +
 1 file changed, 1 insertion(+)

commit a1ea492
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 23 10:40:35 2011 +0900

    Remove some redundant fields from qfo objects.

 tools/qfcc/include/obj_file.h |   44 +++++++++++------------------------------
 tools/qfcc/source/globals.c   |    4 ++--
 tools/qfcc/source/linker.c    |   22 ++++++++++-----------
 3 files changed, 24 insertions(+), 46 deletions(-)

commit c585a17
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 23 08:04:09 2011 +0900

    Give type data a null pointer.
    
    Pointers to the void type descriptor looked just like null pointers and
    that was terribly confusing. Avoid that confusion by pre-allocating a
    small amount of data in order to reserve space for a null descriptor.

 tools/qfcc/source/qfcc.c |    1 +
 1 file changed, 1 insertion(+)

commit e68e6d0
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 22 15:43:15 2011 +0900

    Create defs for entity fields in the entity space.

 tools/qfcc/source/def.c |    7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

commit e1158a8
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 22 15:41:35 2011 +0900

    Begin work on rewriting obj_file.c for the new format.

 tools/qfcc/include/codespace.h |    1 +
 tools/qfcc/include/defspace.h  |    1 +
 tools/qfcc/include/obj_file.h  |    1 +
 tools/qfcc/include/qfcc.h      |    2 +-
 tools/qfcc/include/strpool.h   |    1 +
 tools/qfcc/source/Makefile.am  |    4 +-
 tools/qfcc/source/obj_file.c   |  633 +++++-----------------------------------
 tools/qfcc/source/obj_stub.c   |  147 ----------
 tools/qfcc/source/strpool.c    |    2 +-
 9 files changed, 81 insertions(+), 711 deletions(-)

commit 64cf073
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 22 13:36:16 2011 +0900

    Encode types to string and qfo representation on creation.

 tools/qfcc/source/obj_type.c |    8 ++++++++
 tools/qfcc/source/qfcc.c     |    2 ++
 tools/qfcc/source/type.c     |   13 +++++++++++++
 3 files changed, 23 insertions(+)

commit a07cd17
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 22 12:23:00 2011 +0900

    Update TODO.
    
    Remove old entries and add some new ones.

 tools/qfcc/TODO |   35 ++++++++++-------------------------
 1 file changed, 10 insertions(+), 25 deletions(-)

commit b50b392
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 22 12:07:31 2011 +0900

    Fix field def allocation for function fields.
    
    Assignment of nil to a field function is permitted, but trying to use one
    as a builtin or as a normal function is treated as an error.
    .void (float y) func;       OK
    .void (float y) bi = #0;    error
    .void (float y) ni = nil;   OK
    .void (float y) co = { };   error

 tools/qfcc/source/qc-parse.y |   27 ++++++++++++++++++++++-----
 1 file changed, 22 insertions(+), 5 deletions(-)

commit 7d1f2c4
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 22 10:43:35 2011 +0900

    Fix field def allocation for non-function fields.

 tools/qfcc/source/def.c |   25 ++++++++++++++++++++++---
 1 file changed, 22 insertions(+), 3 deletions(-)

commit ecbb904
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 22 09:23:04 2011 +0900

    More docs and clearer types.

 tools/qfcc/include/obj_type.h |    9 +++++----
 1 file changed, 5 insertions(+), 4 deletions(-)

commit b7c6c4a
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 22 09:22:04 2011 +0900

    Better variable naming in init_elements().

 tools/qfcc/source/def.c |   12 ++++++------
 1 file changed, 6 insertions(+), 6 deletions(-)

commit 497db3a
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 22 09:20:52 2011 +0900

    Fix the return symbol extraction when appending a return statement.
    
    The code is still icky, though :P

 tools/qfcc/source/statements.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 4fd6bda
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 22 09:19:01 2011 +0900

    Allow nil to be assigned to field variables.
    
    Note, this is the field variable itself, not the field in the entity.
    eg:
    	.integer x = nil;

 tools/qfcc/source/expr.c |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 87b240f
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 22 08:54:01 2011 +0900

    Use special treatment for .float ()foo; functions.
    
    The parser wants to treat .float () foo; as a function returning a float
    field, but qcc treats it as a field holding a function variable.
    Fortuantely, field types are always "simple" (ie, at worst, just more
    field type wrappers around the non-field type), so all that's needed to
    obtain qcc grammar is to reach into the field type layers and do the
    function type calculation based on the non-field type found there.

 tools/qfcc/source/qc-parse.y   |   26 ++++++++++++++++++++------
 tools/qfcc/test/entity-field.r |    9 +++++++++
 2 files changed, 29 insertions(+), 6 deletions(-)

commit 96c6b31
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 21 10:32:20 2011 +0900

    Update qfo version and correct some comments and types.

 tools/qfcc/include/obj_file.h |   16 ++++++++--------
 1 file changed, 8 insertions(+), 8 deletions(-)

commit 4c11304
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 21 08:41:03 2011 +0900

    Documentation tweaks.

 tools/qfcc/include/qfcc.h   |   18 ++++++++++--------
 tools/qfcc/source/strpool.c |    2 +-
 2 files changed, 11 insertions(+), 9 deletions(-)

commit bffc1dd
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Feb 18 20:51:04 2011 +0900

    Clean up objective-qc type encoding.
    
    Structures etc now never encode the fields as well (I might revert that
    at some time). Type parsing has been removed: it has proven unnecessary
    and overly complicated, and the new qfo encoding should be more useful.

 tools/qfcc/include/type.h |    1 -
 tools/qfcc/source/stub.c  |    1 -
 tools/qfcc/source/type.c  |  187 +++++----------------------------------------
 3 files changed, 17 insertions(+), 172 deletions(-)

commit 4152385
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Feb 18 11:50:25 2011 +0900

    Cleaner def and string emittion for types.
    
    Use local defines for emitting defs and strings as everything goes to the
    same locations.

 tools/qfcc/source/obj_type.c |   35 ++++++++++++++++++++---------------
 1 file changed, 20 insertions(+), 15 deletions(-)

commit 7251bc9
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Feb 18 09:06:05 2011 +0900

    Enhanced type encoding.
    
    This creates a compact representation of types as seen by qfcc. This is
    intended mainly for debuggers.

 tools/qfcc/include/Makefile.am |    4 +-
 tools/qfcc/include/obj_type.h  |  105 ++++++++++++++++
 tools/qfcc/include/qfcc.h      |    1 +
 tools/qfcc/include/type.h      |    2 +
 tools/qfcc/source/Makefile.am  |    4 +-
 tools/qfcc/source/obj_type.c   |  257 ++++++++++++++++++++++++++++++++++++++++
 6 files changed, 369 insertions(+), 4 deletions(-)

commit 0f0ed3d
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Feb 18 09:04:33 2011 +0900

    Allow null types in defs again.
    
    However, only at the lowest level. This is needed for my type encoding.

 tools/qfcc/source/def.c |   33 +++++++++++++++++----------------
 1 file changed, 17 insertions(+), 16 deletions(-)

commit ca6dd20
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Feb 18 09:03:04 2011 +0900

    Use the right type for VM pointers.
    
    Probably more of these hiding in the code.

 include/QF/progs.h |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit bceb98e
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Feb 17 15:02:09 2011 +0900

    Create structures for new qfo format.
    
    This breaks a lot of existing code, so that code has been commented out
    for now.

 tools/qfcc/include/obj_file.h |   66 ++++++----
 tools/qfcc/source/globals.c   |  104 +++++++--------
 tools/qfcc/source/linker.c    |  292 ++++++++++++++++++++---------------------
 tools/qfcc/source/qfprogs.c   |   10 +-
 4 files changed, 245 insertions(+), 227 deletions(-)

commit 9c9a71f
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 15 22:43:07 2011 +0900

    Allow defs to specify use of offset relocations.
    
    Access to struct fields in near data can be done using only one operand,
    but offset relocs need to be used. However, as not all defs want offset
    relocs, a flag has been added to the def struct.

 tools/qfcc/include/def.h |    1 +
 tools/qfcc/source/emit.c |    6 +++++-
 2 files changed, 6 insertions(+), 1 deletion(-)

commit d048658
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 15 22:27:13 2011 +0900

    Set the method's function pointer.

 tools/qfcc/source/qc-parse.y |    1 +
 1 file changed, 1 insertion(+)

commit 3721b2e
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 15 22:26:44 2011 +0900

    Method lists are made of methods, not integers :P

 tools/qfcc/source/method.c |   10 +++-------
 1 file changed, 3 insertions(+), 7 deletions(-)

commit c068138
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 15 22:26:09 2011 +0900

    More addresses in hex.

 tools/qfcc/source/modules.c |   10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit 814e36d
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 15 22:25:40 2011 +0900

    Correct an error message and tidy some code.

 tools/qfcc/source/struct.c |    5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 57f735c
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 15 15:02:31 2011 +0900

    Avoid another segfault when debugging.

 libs/gamecode/engine/pr_debug.c |    2 ++
 1 file changed, 2 insertions(+)

commit 4336fc2
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 15 12:38:29 2011 +0900

    Move method function defs into the far data space.
    
    As they are never referenced directly by instructions, there's no need for
    them to be in the near data space, taking precious def locations.

 tools/qfcc/include/function.h |    7 ++++---
 tools/qfcc/source/class.c     |    5 +++--
 tools/qfcc/source/function.c  |   24 +++++++++++++++++-------
 tools/qfcc/source/method.c    |    4 ++--
 tools/qfcc/source/qc-parse.y  |   17 +++++++++--------
 tools/qfcc/source/qp-parse.y  |    8 ++++----
 6 files changed, 39 insertions(+), 26 deletions(-)

commit 5252d72
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 15 12:09:39 2011 +0900

    Correct the type for _OBJ_SELECTOR_TABLE.

 tools/qfcc/source/expr.c   |    3 ++-
 tools/qfcc/source/method.c |    2 +-
 2 files changed, 3 insertions(+), 2 deletions(-)

commit b3da6ef
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 15 12:08:03 2011 +0900

    Allow zero size arrays to match sized arrays of the same type.
    
    This allows externally declared arrays to not specify a size.

 tools/qfcc/source/symtab.c |    9 +++++++--
 1 file changed, 7 insertions(+), 2 deletions(-)

commit b2d4aee
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 15 10:48:05 2011 +0900

    Reimplement selector expressions to work with far data.
    
    They currently execute a lea instruction every method call, but the
    optimizer should take care of that once its written.

 tools/qfcc/source/class.c  |    7 ++-----
 tools/qfcc/source/expr.c   |   17 +++++++++++++----
 tools/qfcc/source/method.c |    9 ++++++++-
 3 files changed, 23 insertions(+), 10 deletions(-)

commit 6bd63f8
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 15 10:47:16 2011 +0900

    Preserve any relocs when converting a def from extern to otherwise.

 tools/qfcc/source/symtab.c |    6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit 62456dc
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 15 09:48:10 2011 +0900

    Yet another test.

 tools/qfcc/test/aggregate.r |    1 +
 1 file changed, 1 insertion(+)

commit 4e86b28
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 15 09:38:44 2011 +0900

    Use the def type rather than expression type to select the init method.
    
    Local defs may be initialized with non-constant expressions, which
    includes function calls. Both function calls and aggregate initializers
    use block expressions.

 tools/qfcc/source/def.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 19f6faf
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 15 09:30:37 2011 +0900

    Fix aggregate initializers.
    
    Initializing arrays and structs seems to be working.

 tools/qfcc/include/expr.h |    2 -
 tools/qfcc/source/def.c   |  128 +++++++++++++++++++++++++++++++++++++++++----
 tools/qfcc/source/expr.c  |    6 ---
 3 files changed, 117 insertions(+), 19 deletions(-)

commit d162838
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 15 09:28:27 2011 +0900

    Resurrect constant_expr().

 tools/qfcc/include/expr.h |   10 ++++++++++
 tools/qfcc/source/expr.c  |   18 ++++++++++++++++++
 2 files changed, 28 insertions(+)

commit bc882dd
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 14 23:31:37 2011 +0900

    Fix the parser side of aggregate initializers.

 tools/qfcc/source/qc-parse.y |   17 ++++++++++++++++-
 1 file changed, 16 insertions(+), 1 deletion(-)

commit 09af401
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 14 23:08:51 2011 +0900

    Reset current_func at the end of each function.

 tools/qfcc/source/qc-parse.y |    3 +++
 1 file changed, 3 insertions(+)

commit 3a1e467
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 14 23:08:18 2011 +0900

    Non-bogus syntax and warning fixes for ruamoko/cl_menu.
    
    Sadly, there are many bogus warnings and other errors. qfcc is still very
    sick :(.

 ruamoko/cl_menu/CrosshairView.h  |    4 +-
 ruamoko/cl_menu/CrosshairView.r  |    4 +-
 ruamoko/cl_menu/CvarColorView.h  |    4 +-
 ruamoko/cl_menu/CvarColorView.r  |    3 +-
 ruamoko/cl_menu/CvarRangeView.h  |   10 ++---
 ruamoko/cl_menu/CvarRangeView.r  |    3 +-
 ruamoko/cl_menu/CvarToggleView.h |    8 ++--
 ruamoko/cl_menu/CvarToggleView.r |    2 +-
 ruamoko/cl_menu/Frame.h          |    2 +-
 ruamoko/cl_menu/HUD.h            |    6 +--
 ruamoko/cl_menu/HUD.r            |   10 ++---
 ruamoko/cl_menu/MenuGroup.r      |    3 +-
 ruamoko/cl_menu/ProxyView.h      |    6 +--
 ruamoko/cl_menu/ProxyView.r      |    4 +-
 ruamoko/cl_menu/client_menu.h    |    2 +-
 ruamoko/cl_menu/client_menu.qc   |   20 ++++-----
 ruamoko/cl_menu/controls_o.qc    |   32 ++++++-------
 ruamoko/cl_menu/options.qc       |   92 +++++++++++++++++++-------------------
 ruamoko/cl_menu/plistmenu.h      |    4 +-
 ruamoko/cl_menu/plistmenu.r      |   49 ++++++++++----------
 ruamoko/cl_menu/servlist.qc      |    4 +-
 21 files changed, 138 insertions(+), 134 deletions(-)

commit 9ac6929
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 14 22:44:08 2011 +0900

    Syntax fixes for ruamoko/game.
    
    This one actually would compile if object files were working.

 ruamoko/game/Axe.h    |    2 +-
 ruamoko/game/Axe.r    |    2 +-
 ruamoko/game/Weapon.h |    2 +-
 ruamoko/game/World.r  |   15 ++++++++-------
 4 files changed, 11 insertions(+), 10 deletions(-)

commit 6af7477
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 14 22:39:43 2011 +0900

    Syntax fixes for ruamoko/scheme.

 ruamoko/scheme/BaseContinuation.r |    8 +-
 ruamoko/scheme/Boolean.r          |    4 +-
 ruamoko/scheme/CompiledCode.h     |   22 +++---
 ruamoko/scheme/CompiledCode.r     |   16 ++--
 ruamoko/scheme/Compiler.h         |   22 +++---
 ruamoko/scheme/Compiler.r         |  156 ++++++++++++++++++-------------------
 ruamoko/scheme/Cons.h             |   20 ++---
 ruamoko/scheme/Cons.r             |   22 +++---
 ruamoko/scheme/Continuation.h     |    6 +-
 ruamoko/scheme/Continuation.r     |   10 +--
 ruamoko/scheme/Error.h            |    4 +-
 ruamoko/scheme/Error.r            |    4 +-
 ruamoko/scheme/Frame.h            |   14 ++--
 ruamoko/scheme/Frame.r            |   10 +--
 ruamoko/scheme/Instruction.h      |    8 +-
 ruamoko/scheme/Instruction.r      |    6 +-
 ruamoko/scheme/Lambda.h           |    8 +-
 ruamoko/scheme/Lambda.r           |    6 +-
 ruamoko/scheme/Lexer.h            |    2 +-
 ruamoko/scheme/Lexer.r            |   10 +--
 ruamoko/scheme/Machine.h          |   28 +++----
 ruamoko/scheme/Machine.r          |   62 +++++++--------
 ruamoko/scheme/Nil.r              |    2 +-
 ruamoko/scheme/Parser.h           |    6 +-
 ruamoko/scheme/Parser.r           |   16 ++--
 ruamoko/scheme/Primitive.h        |    2 +-
 ruamoko/scheme/Primitive.r        |    5 +-
 ruamoko/scheme/Procedure.h        |    2 +-
 ruamoko/scheme/Procedure.r        |    2 +-
 ruamoko/scheme/SchemeObject.h     |    2 +-
 ruamoko/scheme/SchemeObject.r     |    4 +-
 ruamoko/scheme/Scope.h            |   16 ++--
 ruamoko/scheme/Scope.r            |   14 ++--
 ruamoko/scheme/Symbol.h           |   12 +--
 ruamoko/scheme/Symbol.r           |   32 ++++----
 ruamoko/scheme/Void.h             |    2 +-
 ruamoko/scheme/Void.r             |    2 +-
 ruamoko/scheme/builtins.h         |    2 +-
 ruamoko/scheme/builtins.r         |  140 ++++++++++++++++-----------------
 ruamoko/scheme/defs.h             |    2 +-
 ruamoko/scheme/state.h            |   12 +--
 41 files changed, 362 insertions(+), 361 deletions(-)

commit da3ac38
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 14 22:13:55 2011 +0900

    Syntax fixes for ruamoko/gui.
    
    Once aggregate initializers are working, ruamoko/gui will "compile"
    (no object files, and still the bogus integer constant into ... warning).

 ruamoko/gui/Group.r             |    6 +++---
 ruamoko/gui/InputLine.r         |    2 +-
 ruamoko/gui/View.r              |    2 +-
 ruamoko/include/gui/Group.h     |    6 +++---
 ruamoko/include/gui/InputLine.h |    6 +++---
 ruamoko/include/gui/View.h      |    4 ++--
 6 files changed, 13 insertions(+), 13 deletions(-)

commit 5fa3499
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 14 21:45:18 2011 +0900

    Preserve the ivars inheritance chain across build_struct().
    
    build_struct() unlinks the structure symbol table from its parent, but
    that breaks the ivar inheritance chain.

 tools/qfcc/source/qc-parse.y |    7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

commit 5707888
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 14 21:25:55 2011 +0900

    Fix some error-recovery segfaults.

 tools/qfcc/source/class.c    |   12 +++++++-----
 tools/qfcc/source/function.c |    5 ++---
 tools/qfcc/source/qc-parse.y |    2 ++
 3 files changed, 11 insertions(+), 8 deletions(-)

commit f1fccb1
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 14 21:25:08 2011 +0900

    Allow same-type re-declarations of uninitialized variables.
    
    This is especially important for declaring variables that were previously
    declared external.

 tools/qfcc/source/def.c      |   16 ++++++++--------
 tools/qfcc/source/qc-parse.y |    6 +++++-
 2 files changed, 13 insertions(+), 9 deletions(-)

commit b3d5789
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 14 15:46:06 2011 +0900

    More tests.

 tools/qfcc/test/decl.r   |    5 +++++
 tools/qfcc/test/field.r  |    1 +
 tools/qfcc/test/syntax.r |   43 +++++++++++++++++++++++++++++++++++++++++++
 3 files changed, 49 insertions(+)

commit 23b01be
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 14 15:45:31 2011 +0900

    Handle invalid initializers gracefully.

 tools/qfcc/source/def.c |    3 +++
 1 file changed, 3 insertions(+)

commit 4c63a0b
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 14 15:44:01 2011 +0900

    Generate a warning when creating a var with no type.
    
    This makes the internal error in new_def() non-functional, but the warning
    will catch the bug and there's no harm in leaving the test in new_def().

 tools/qfcc/source/def.c |    5 +++++
 1 file changed, 5 insertions(+)

commit ee866ae
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 14 15:21:06 2011 +0900

    Enable the small struct optimization.
    
    For now, anyway. It would probably be much better to handle this sort of
    thing in the optimizer stage.

 tools/qfcc/source/type.c |    7 ++++---
 1 file changed, 4 insertions(+), 3 deletions(-)

commit bcaf368
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 14 15:13:58 2011 +0900

    Fix loading structs into params via an offset pointer.
    
    For certain values of "fix" :/. The code is ugly, but it does the right
    thing: calculate the effect address and use the resulting pointer in a
    move instruction.

 tools/qfcc/source/statements.c |   43 ++++++++++++++++++++++++++++++++--------
 1 file changed, 35 insertions(+), 8 deletions(-)

commit 352be1f
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 14 14:20:05 2011 +0900

    Handle null string pointers.

 tools/qfcc/source/dot_flow.c |    2 ++
 1 file changed, 2 insertions(+)

commit e10d561
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 14 12:59:04 2011 +0900

    Treat small structs as integers (disabled).
    
    This is more to stash away a potential optimization. I need to fix the
    real problem first.

 tools/qfcc/source/type.c |    6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit 6b29568
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 14 11:30:16 2011 +0900

    Set the source file and line when copying an expression.
    
    This fixes the crazy line numbers in the debug info.

 tools/qfcc/source/expr.c |   12 ++++++++++++
 1 file changed, 12 insertions(+)

commit 52010b8
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 14 11:27:05 2011 +0900

    Do not segfault with bogus debug info.

 libs/gamecode/engine/pr_debug.c |   14 +++++++++++---
 1 file changed, 11 insertions(+), 3 deletions(-)

commit fc18ebd
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 14 11:12:53 2011 +0900

    Add the source line number to most node labels.

 tools/qfcc/source/dot_expr.c |   31 ++++++++++++++++++-------------
 1 file changed, 18 insertions(+), 13 deletions(-)

commit 3e59894
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 14 10:35:54 2011 +0900

    Update the def_tail when removing the last def from the space.

 tools/qfcc/source/def.c |    4 ++++
 1 file changed, 4 insertions(+)

commit 1148555
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 14 10:34:56 2011 +0900

    Quote expression names to avoid problems with null pointers.

 tools/qfcc/source/dot_expr.c |   68 ++++++++++++++++++++++--------------------
 1 file changed, 35 insertions(+), 33 deletions(-)

commit c139099
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 14 08:22:57 2011 +0900

    Put another bandaid on the type creation system.
    
    It seems that building types is very fragile: all too easy to fix things
    in one place and break something somewhere else. I guess the type system
    will need a comlete rewrite at some stage.

 tools/qfcc/source/struct.c |    8 ++------
 1 file changed, 2 insertions(+), 6 deletions(-)

commit e3325b1
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Feb 13 21:42:08 2011 +0900

    More tests.

 tools/qfcc/test/local-pointer.r |   12 ++++++++++++
 1 file changed, 12 insertions(+)

commit 595019d
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Feb 13 21:29:24 2011 +0900

    Fix some problems found by the new qfcc.
    
    With this, ruamoko/lib almost compiles (though no object files are output).
    Just some bogus "redeclared" errors and an improperly implemented
    statement that produces an ice.

 ruamoko/lib/ListNode.r     |    1 +
 ruamoko/lib/PropertyList.r |    2 +-
 ruamoko/lib/Stack.r        |    2 +-
 3 files changed, 3 insertions(+), 2 deletions(-)

commit daae028
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Feb 13 21:26:56 2011 +0900

    Work around a warning about passing int constants into ...
    
    I'm not sure why this is happening now when it didn't in the old qfcc,
    but this will take care of the warning for now until I can get around to
    fixing it.

 ruamoko/cl_menu/Makefile.am |    2 +-
 ruamoko/gui/Makefile.am     |    2 +-
 ruamoko/lib/Makefile.am     |    2 +-
 ruamoko/scheme/Makefile.am  |    2 +-
 4 files changed, 4 insertions(+), 4 deletions(-)

commit 1195df9
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Feb 13 21:25:36 2011 +0900

    Update for the new syntax.

 ruamoko/include/List.h         |    4 ++--
 ruamoko/include/ListNode.h     |    2 +-
 ruamoko/include/PropertyList.h |   32 ++++++++++++++++----------------
 ruamoko/include/cmd.h          |    2 +-
 ruamoko/include/draw.h         |    2 +-
 ruamoko/include/entities.h     |    2 +-
 ruamoko/include/gib.h          |    2 +-
 ruamoko/include/hash.h         |   28 ++++++++++++++--------------
 ruamoko/include/qfs.h          |    8 ++++----
 ruamoko/lib/Entity.r           |    3 ++-
 ruamoko/lib/List.r             |   26 +++++++++++++-------------
 ruamoko/lib/PropertyList.r     |   32 ++++++++++++++++----------------
 ruamoko/lib/entities.r         |    2 +-
 ruamoko/lib/gib.r              |    2 +-
 ruamoko/lib/hash.r             |   34 +++++++++++++++++-----------------
 ruamoko/lib/qfile.r            |   34 +++++++++++++++++-----------------
 ruamoko/lib/qfs.r              |   16 ++++++++--------
 17 files changed, 116 insertions(+), 115 deletions(-)

commit e0d6170
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Feb 13 21:06:06 2011 +0900

    And fix build_struct for built-in struct types.
    
    The previous fix broke builtin structs (eg, @param). Calling find_type()
    for built-in structs has proven to be a bad idea :)

 tools/qfcc/source/struct.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit a19b7ec
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Feb 13 20:56:12 2011 +0900

    Make struct decls actually work.
    
    find_type() does type comparisons based on tag name for struct/union/enum
    but when it returns the previous tag (eg, from "struct foo;") the returned
    type has a null symtab pointer, so setting the symtab pointer in the type
    before calling find_type() only throws away the symtab. Thus, since
    find_type() doesn't check the symtab pointer when comparing the types, set
    the symtab pointer after calling find_type().

 tools/qfcc/source/struct.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit acced90
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Feb 13 20:55:33 2011 +0900

    Create the symbol for the struct as early as possible.

 tools/qfcc/source/qc-parse.y |    4 ++++
 1 file changed, 4 insertions(+)

commit b545f72
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Feb 13 20:23:08 2011 +0900

    Report errors for incomplete types and missing fields.

 tools/qfcc/source/expr.c |   15 +++++++++++----
 1 file changed, 11 insertions(+), 4 deletions(-)

commit c336aae
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Feb 13 19:26:20 2011 +0900

    Handle incomplete types gracefully.

 tools/qfcc/source/def.c  |    7 ++++++-
 tools/qfcc/source/type.c |    4 ++++
 2 files changed, 10 insertions(+), 1 deletion(-)

commit ed3f98e
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Feb 13 19:07:30 2011 +0900

    qwaq related compile fixes for the new function syntax rules.

 ruamoko/lib/Object.r |    8 ++++----
 tools/qwaq/defs.qc   |    2 +-
 tools/qwaq/main.qc   |    2 +-
 3 files changed, 6 insertions(+), 6 deletions(-)

commit ef32d1f
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Feb 13 19:02:39 2011 +0900

    Save away some of my tests.

 tools/qfcc/test/cast.r         |    4 +++
 tools/qfcc/test/params.qc      |    9 +++++++
 tools/qfcc/test/struct.r       |   57 ++++++++++++++++++++++++++++++++++++++++
 tools/qfcc/test/test2.qc       |    8 ++++++
 tools/qfcc/test/void-pointer.r |    8 ++++++
 5 files changed, 86 insertions(+)

commit 976ff8a
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Feb 13 17:54:15 2011 +0900

    Allow cast expressions to be lvalues.
    
    These really need to be alias expressions rather than cast expressions
    so the two can be separated as cast expressions should not be lvalues.

 tools/qfcc/source/expr.c |    2 ++
 1 file changed, 2 insertions(+)

commit fa742ce
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Feb 13 17:52:19 2011 +0900

    Handle @self and @this correctly.

 tools/qfcc/source/expr.c |   14 ++++++--------
 1 file changed, 6 insertions(+), 8 deletions(-)

commit 547f361
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Feb 13 17:37:11 2011 +0900

    Allow (void) qc-style functions.

 tools/qfcc/source/qc-parse.y |    6 ++++++
 1 file changed, 6 insertions(+)

commit d75c35b
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Feb 13 17:07:14 2011 +0900

    Allow qc style function params.
    
    Due to ambiguities in the grammar, qc-style function params and c-style
    function params had to be completely separated. This means that qc-style
    functions can not use pointers and must use qc-style function declarations
    for parameters, and c-style functions must use c-style param declarations.
    While this rule is tedious for converting the Ruamoko library, it does
    actually make for a more consistent language.

 tools/qfcc/source/qc-parse.y |   38 ++++++++++++++++++++++++++++++++++++--
 1 file changed, 36 insertions(+), 2 deletions(-)

commit 8a314e9
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Feb 13 16:05:50 2011 +0900

    Class pointers need to be directly addressable.

 tools/qfcc/source/class.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 0b55653
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Feb 13 16:05:09 2011 +0900

    Add a class type to symbols and rework the CLASS_NAME handling.
    
    This fixes the problem with [Array alloc] producing a warning about Class
    not repsonding to -alloc.

 tools/qfcc/include/symtab.h  |    1 +
 tools/qfcc/source/class.c    |    1 +
 tools/qfcc/source/emit.c     |    1 +
 tools/qfcc/source/expr.c     |   15 +++++++++++----
 tools/qfcc/source/qc-lex.l   |    2 +-
 tools/qfcc/source/qc-parse.y |    2 +-
 6 files changed, 16 insertions(+), 6 deletions(-)

commit 3f690ea
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Feb 13 15:28:49 2011 +0900

    Fix another double insertion of a symbol.

 tools/qfcc/source/method.c |    1 -
 1 file changed, 1 deletion(-)

commit 127a1c8
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Feb 13 15:19:55 2011 +0900

    Fix the creation of enum values.

 tools/qfcc/source/struct.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit f24de89
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Feb 13 14:13:32 2011 +0900

    Handle type-modified constants.
    
    The fix for pointers broke constants (particularly, enums). Oops.

 tools/qfcc/source/emit.c |    5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit fa6b8d7
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Feb 13 13:21:00 2011 +0900

    Correctly emit class and category symtab references.

 tools/qfcc/source/class.c |   19 +++++++++++++++----
 1 file changed, 15 insertions(+), 4 deletions(-)

commit c4f364f
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Feb 13 10:09:42 2011 +0900

    Emit pointers properly.
    
    Rename ReuseConstant to emit_value and use emit_value to emit any non-short
    constant. This fixes the null pointer in the call to __obj_exec_class.

 tools/qfcc/include/immediate.h |    4 ++--
 tools/qfcc/source/emit.c       |   10 +---------
 tools/qfcc/source/immediate.c  |   35 +++++++++++++++--------------------
 3 files changed, 18 insertions(+), 31 deletions(-)

commit 1bcf434
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Feb 12 23:00:04 2011 +0900

    Move _OBJ_MODULE to the far data space.

 tools/qfcc/source/class.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d42a379
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Feb 12 22:59:29 2011 +0900

    Dump the contents of a pointer def.

 tools/qfcc/source/globals.c |    9 +++++----
 1 file changed, 5 insertions(+), 4 deletions(-)

commit eede83d
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Feb 12 22:58:50 2011 +0900

    Avoid crashing when a null class pointer is found.

 tools/qfcc/source/modules.c |   11 +++++++++--
 1 file changed, 9 insertions(+), 2 deletions(-)

commit f54ce02
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Feb 12 22:57:37 2011 +0900

    Macros for quaterion access in progs memory.

 include/QF/progs.h |   64 +++++++++++++++++++++++++++++++++++++++++++++++++---
 1 file changed, 61 insertions(+), 3 deletions(-)

commit 3505de6
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Feb 12 22:35:44 2011 +0900

    Point the near and far data spaced into the merged data space.
    
    This lets the relocations work on the final data without having to adjust
    their locations.

 tools/qfcc/source/qfcc.c |    4 ++++
 1 file changed, 4 insertions(+)

commit 181596f
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Feb 12 22:34:38 2011 +0900

    Make relocation records store the space of the relocation.
    
    The space is meaningless for op_* relocations as they are always in the
    code space, but def_* relocations need to know which space holds the
    location to be adjusted.

 tools/qfcc/include/emit.h     |   41 ++++++++++++--------
 tools/qfcc/include/reloc.h    |   53 +++++++++++++++++---------
 tools/qfcc/source/class.c     |    6 +--
 tools/qfcc/source/emit.c      |    2 +-
 tools/qfcc/source/function.c  |    4 +-
 tools/qfcc/source/immediate.c |   17 ++++-----
 tools/qfcc/source/method.c    |    8 +++-
 tools/qfcc/source/reloc.c     |   83 ++++++++++++++++++++++++++++++-----------
 tools/qfcc/source/switch.c    |    5 ++-
 9 files changed, 146 insertions(+), 73 deletions(-)

commit cfdc2e5
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Feb 12 15:55:58 2011 +0900

    Complete the documentation for relocations.
    
    This covers only in-memory storage of relocation records, not object file
    relocations.

 tools/qfcc/include/reloc.h |  149 +++++++++++++++++++++++++++++++++++++++++---
 1 file changed, 141 insertions(+), 8 deletions(-)

commit 8c01497
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Feb 11 18:27:07 2011 +0900

    Give __obj_exec_class a sterner beating.
    
    When linking a def into a defspace, ensure it can be removed. This fixes
    the missing __obj_exec_class def in qwaq.

 tools/qfcc/source/class.c |   11 +++++++----
 tools/qfcc/source/def.c   |    5 +++--
 2 files changed, 10 insertions(+), 6 deletions(-)

commit 75d90d2
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Feb 11 15:48:37 2011 +0900

    Propogate the specifiers through external_decl_list.

 tools/qfcc/source/qc-parse.y |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 0efc759
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Feb 11 15:46:03 2011 +0900

    Catch attempts to create a def with a null type.

 tools/qfcc/source/def.c |    3 +++
 1 file changed, 3 insertions(+)

commit 5f3c187
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Feb 11 15:42:37 2011 +0900

    Put class and category reference/name symbols in the symbol table.
    
    This fixes the undefined defs in qwaq.

 tools/qfcc/source/class.c |  106 +++++++++++++++++++++++++++------------------
 1 file changed, 65 insertions(+), 41 deletions(-)

commit 179c1f7
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Feb 11 15:02:51 2011 +0900

    Support move statements (structure copy).

 tools/qfcc/source/statements.c |   34 ++++++++++++++++++++++++++++++++++
 1 file changed, 34 insertions(+)

commit e19f7e3
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Feb 11 14:40:26 2011 +0900

    Sort out the parameters for QC style functions :)

 tools/qfcc/include/type.h    |    1 +
 tools/qfcc/source/qc-parse.y |    4 ++--
 2 files changed, 3 insertions(+), 2 deletions(-)

commit 370f0b9
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Feb 11 14:01:18 2011 +0900

    Produce cleaner output for a = b op c.

 tools/qfcc/source/statements.c |    3 +++
 1 file changed, 3 insertions(+)

commit d93d8d7
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Feb 11 14:00:36 2011 +0900

    Remove the dirty hack used for accessing params and the return value.
    
    Instead of using the equivalent of *(float*)&.return, now use the
    equivalent of (float).return. No conversion is done in the "cast".
    
    NOTE: this sort of cast should be separated from normal casts.

 tools/qfcc/source/expr.c       |    5 ++++-
 tools/qfcc/source/statements.c |   22 +++++++++++++++++-----
 2 files changed, 21 insertions(+), 6 deletions(-)

commit f5412c2
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Feb 11 11:30:39 2011 +0900

    Remove a fixme.

 tools/qfcc/source/expr.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c185fbb
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Feb 11 11:29:25 2011 +0900

    Set the type of the super structure to the correct type.

 tools/qfcc/source/class.c  |    9 +++++----
 tools/qfcc/source/expr.c   |   12 ++++++------
 tools/qfcc/source/method.c |    2 +-
 3 files changed, 12 insertions(+), 11 deletions(-)

commit 7d2a95e
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Feb 11 10:20:01 2011 +0900

    Mark a few problem spots.

 tools/qfcc/source/statements.c |    4 ++++
 1 file changed, 4 insertions(+)

commit a1d4d4b
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Feb 11 10:01:54 2011 +0900

    Handle block expressions in is_indirect().

 tools/qfcc/source/expr.c |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit b01f960
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Feb 10 15:11:08 2011 +0900

    Disable the subgraphs for now.
    
    They tend to make large trees difficult to read. I might re-enable them
    when I've gotten a better handle on dot.

 tools/qfcc/source/dot_expr.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 2617f9e
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Feb 10 14:55:58 2011 +0900

    Update for the new syntax.
    
    With this, qwaq will compile once I sort out the parameters for QC style
    functions, and some non-executable warnings. However, as those are
    compiler problems, this should be the final qwaq related commit.

 tools/qwaq/main.qc |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit c3a991e
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Feb 10 14:51:52 2011 +0900

    Support nil in initializers.

 tools/qfcc/source/def.c |    2 ++
 1 file changed, 2 insertions(+)

commit 1f8b453
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Feb 10 14:48:06 2011 +0900

    Add some return statments for now.
    
    At the moment, qfcc has no way of knowing that a function will never
    return. This is needed until the time qfcc can know that.

 ruamoko/lib/AutoreleasePool.r |    2 ++
 1 file changed, 2 insertions(+)

commit 5a7650e
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Feb 10 14:47:24 2011 +0900

    Fix a missing return.
    
    Yay, I've wanted this feature in qfcc for many years :).

 tools/qwaq/test.r |    1 +
 1 file changed, 1 insertion(+)

commit adeef4a
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Feb 10 14:43:49 2011 +0900

    Copy named expressions.
    
    Since expressions can be modified, making DAGs this early causes
    corruption of the expression tree.

 tools/qfcc/source/expr.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 6f625e4
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Feb 10 14:26:12 2011 +0900

    Use the correct type when deferencing an offset pointer.

 tools/qfcc/source/statements.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 1099ca0
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Feb 10 14:25:09 2011 +0900

    Dump the offending expression and statement for a bad instruction.

 tools/qfcc/source/emit.c |    5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit 4a41d97
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Feb 10 14:24:31 2011 +0900

    Angle brackets and html :P

 tools/qfcc/source/dot_flow.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 01a7af1
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Feb 10 00:15:19 2011 +0900

    Beat __obj_exec_class into submission.

 tools/qfcc/include/class.h |    1 +
 tools/qfcc/source/class.c  |   29 +++++++++++++++++++----------
 tools/qfcc/source/def.c    |    4 +++-
 tools/qfcc/source/type.c   |   11 ++++++-----
 4 files changed, 29 insertions(+), 16 deletions(-)

commit 006c168
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 9 22:40:16 2011 +0900

    Add the statement for based loads.
    
    Oops :P

 tools/qfcc/source/statements.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit a43946a
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 9 22:13:43 2011 +0900

    Give short values special treatment.
    
    As a short value fits directly into a statement, it needs a fake def that
    holds its value in the def's offset in order for the value to be written to
    the statement.

 tools/qfcc/source/emit.c |    5 +++++
 1 file changed, 5 insertions(+)

commit c7adde8
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 9 22:04:54 2011 +0900

    Fix some case&paste errors.

 tools/qfcc/source/dot_flow.c |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 1b8edc0
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 9 22:02:52 2011 +0900

    Adjust the offsets of ivars in derived classes.
    
    As ivar structs are not independent, their starting offset is not
    necessarily zero (almost never will be for derived classes).

 tools/qfcc/source/class.c |    7 +++++++
 1 file changed, 7 insertions(+)

commit d66a441
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 9 21:45:29 2011 +0900

    Write out the far data space as well as the near.
    
    This causes the Objective-QC structs to be emitted now that they havve been
    moved to the far data space. Relocs are broken, though.

 tools/qfcc/include/qfcc.h |    1 +
 tools/qfcc/source/qfcc.c  |  137 ++++++++++++++++++++++++++++-----------------
 2 files changed, 88 insertions(+), 50 deletions(-)

commit 244d969
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 9 18:32:37 2011 +0900

    Ensure any tail bytes in the strings data are zeroed.

 tools/qfcc/source/qfcc.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 2d5d8ed
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 9 17:16:49 2011 +0900

    Save the caller's address when creating new relocations.

 tools/qfcc/include/reloc.h |    1 +
 tools/qfcc/source/reloc.c  |   10 ++++++++++
 2 files changed, 11 insertions(+)

commit 29c1f7a
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 9 17:15:29 2011 +0900

    Use the correct type object in emit_struct().

 tools/qfcc/source/struct.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 59a683d
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 9 17:12:47 2011 +0900

    Protect the name passed into emit_struct().
    
    The name passed into emit_struct is sometimes created via va(), but the
    struct creation code also uses va. This makes a mess of names.

 tools/qfcc/source/struct.c |    1 +
 1 file changed, 1 insertion(+)

commit 3e1b034
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 9 15:58:32 2011 +0900

    Use EMIT_DEF correctly.

 tools/qfcc/source/class.c |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit e75295b
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 9 10:25:23 2011 +0900

    Make normal C style functions generate code.

 tools/qfcc/source/qc-parse.y |   10 ++++++----
 1 file changed, 6 insertions(+), 4 deletions(-)

commit 55b7f6e
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 9 10:13:08 2011 +0900

    Avoid another segfault when debugging.

 libs/gamecode/engine/pr_debug.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 68cdc90
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 9 10:04:55 2011 +0900

    Give temporary variables unique names.

 tools/qfcc/include/function.h |    1 +
 tools/qfcc/source/emit.c      |    8 ++++++--
 2 files changed, 7 insertions(+), 2 deletions(-)

commit 681ded9
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 9 09:59:43 2011 +0900

    Fix debug line number information.

 tools/qfcc/include/debug.h   |    2 ++
 tools/qfcc/include/expr.h    |    2 --
 tools/qfcc/source/debug.c    |    2 ++
 tools/qfcc/source/emit.c     |   11 +++++++++++
 tools/qfcc/source/expr.c     |    1 -
 tools/qfcc/source/function.c |    2 ++
 6 files changed, 17 insertions(+), 3 deletions(-)

commit 5eff00f
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 9 08:47:01 2011 +0900

    Fix debug information.

 tools/qfcc/source/function.c |   25 ++++++++++++-------------
 tools/qfcc/source/qfcc.c     |   12 ++++++------
 2 files changed, 18 insertions(+), 19 deletions(-)

commit de33cd6
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 9 08:28:20 2011 +0900

    Ensure auxfunction_map is properly initialized.

 libs/gamecode/engine/pr_debug.c |    2 ++
 1 file changed, 2 insertions(+)

commit 71c05bd
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 8 22:39:42 2011 +0900

    Update for the new syntax.
    
    This one compiles to progs even :) (though it looks broken).

 tools/qfcc/test/ptr-array.r |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 81125cf
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 8 22:38:34 2011 +0900

    Creation of .ctor now mostly works.
    
    There seems to be problems with the actual code generation using incorrect
    addresses, but a very simple test file compiles successfully.

 tools/qfcc/source/class.c |   11 +++++++----
 1 file changed, 7 insertions(+), 4 deletions(-)

commit 1647b1e
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 8 22:31:09 2011 +0900

    Check for the correct type in emit_symtab_cat_def_cnt().

 tools/qfcc/source/class.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 9b52c59
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 8 22:28:32 2011 +0900

    Do not try to emit anything when there are no selector references.

 tools/qfcc/source/class.c |    8 ++++++--
 1 file changed, 6 insertions(+), 2 deletions(-)

commit da14c95
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 8 22:26:35 2011 +0900

    Initialize current_symtab in class_init() when necessary.
    
    If an objective-qc symbol is the first token to be read, class_init() is
    called before the parser gets a chance to perform the initialization
    action. However, class_init() setting current_symtab if the first
    objective-qc symbol is seen in a function body would be bad.

 tools/qfcc/source/class.c |    2 ++
 1 file changed, 2 insertions(+)

commit c01f742
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 8 18:25:23 2011 +0900

    Fix some Class vs ClassPtr confusion.

 tools/qfcc/source/class.c |   10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit 0d5ab66
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 8 18:18:34 2011 +0900

    Store the source expression in a statement.
    
    This makes problem reporting more informative.

 tools/qfcc/include/statements.h |    1 +
 tools/qfcc/source/emit.c        |   12 ++++++------
 tools/qfcc/source/statements.c  |   23 ++++++++++++-----------
 3 files changed, 19 insertions(+), 17 deletions(-)

commit faab931
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 8 17:12:01 2011 +0900

    Fix assignment of id to class pointers.

 tools/qfcc/source/type.c |    4 ++++
 1 file changed, 4 insertions(+)

commit 6643c5d
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 8 17:09:27 2011 +0900

    Fix messages to super.

 tools/qfcc/source/class.c |    2 +-
 tools/qfcc/source/expr.c  |   18 ++++++++++--------
 2 files changed, 11 insertions(+), 9 deletions(-)

commit 505e141
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 8 17:08:58 2011 +0900

    Ensure the class symbol is in the symbol table.

 tools/qfcc/source/class.c |    8 ++++++--
 1 file changed, 6 insertions(+), 2 deletions(-)

commit 93a5808
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 8 14:48:26 2011 +0900

    Support direct struct/union field access.

 tools/qfcc/source/expr.c |   12 ++++++++++++
 1 file changed, 12 insertions(+)

commit 3c849b9
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 8 14:45:48 2011 +0900

    Handle union access now that they're detected properly.

 tools/qfcc/include/expr.h       |    2 +-
 tools/qfcc/include/statements.h |    2 ++
 tools/qfcc/source/dot_flow.c    |   13 +++++++++++++
 tools/qfcc/source/emit.c        |    9 +++++++++
 tools/qfcc/source/statements.c  |    6 ++++++
 5 files changed, 31 insertions(+), 1 deletion(-)

commit 204a267
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 8 14:43:57 2011 +0900

    Print the def name for a pointer expr when known.

 tools/qfcc/source/dot_expr.c |   12 +++++++++---
 1 file changed, 9 insertions(+), 3 deletions(-)

commit 3b080fc
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 8 13:27:37 2011 +0900

    Fix an uninitialized variable.

 tools/qfcc/source/statements.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 2594be8
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 8 13:26:49 2011 +0900

    Fix a type-o ;)

 tools/qfcc/source/type.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 8c6fc6f
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 8 08:44:08 2011 +0900

    Fix a double insertion of a symbol.

 tools/qfcc/source/function.c |    1 -
 1 file changed, 1 deletion(-)

commit daa88d8
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 8 08:23:25 2011 +0900

    Fix a type clash warning I'd failed to notice.

 tools/qfcc/source/qc-parse.y |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 35d53d0
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 8 08:20:32 2011 +0900

    Fix typedefs and class names once and for all.
    
    I suspect Holub did them that way as a teaching exercise :P

 tools/qfcc/source/qc-parse.y |   41 ++++++++++-------------------------------
 1 file changed, 10 insertions(+), 31 deletions(-)

commit 7e2173f
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 8 08:16:36 2011 +0900

    Remove some old code.

 tools/qfcc/source/qc-parse.y |   10 +---------
 1 file changed, 1 insertion(+), 9 deletions(-)

commit d6b10c9
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 7 22:16:16 2011 +0900

    Most, if not all, of the fixes needed to get qwaq building.
    
    This is pretty much just changing [] to * and moving [N] to the other side
    of the variable name.

 ruamoko/include/Array.h           |   20 ++++++++++----------
 ruamoko/include/AutoreleasePool.h |    2 +-
 ruamoko/include/Object.h          |    2 +-
 ruamoko/include/Protocol.h        |   10 +++++-----
 ruamoko/include/plist.h           |    2 +-
 ruamoko/include/qfile.h           |    8 ++++----
 ruamoko/include/runtime.h         |   24 ++++++++++++------------
 ruamoko/include/script.h          |    2 +-
 ruamoko/lib/Array+Private.r       |    2 +-
 ruamoko/lib/Array.r               |   24 ++++++++++++------------
 ruamoko/lib/AutoreleasePool.r     |    2 +-
 ruamoko/lib/Object.r              |   30 +++++++++++++++---------------
 ruamoko/lib/Protocol.r            |   22 +++++++++++-----------
 ruamoko/lib/plist.r               |    2 +-
 ruamoko/lib/qfile.r               |    6 +++---
 tools/qwaq/defs.qc                |    2 +-
 16 files changed, 80 insertions(+), 80 deletions(-)

commit 9279965
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 7 22:15:10 2011 +0900

    Implement struct field access via a pointer.

 tools/qfcc/source/expr.c |   13 +++++++++++++
 1 file changed, 13 insertions(+)

commit 7a1a9e3
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 7 21:41:03 2011 +0900

    Better handling of the current storage for function scopes.

 tools/qfcc/source/qc-parse.y |   19 ++++++++++++-------
 1 file changed, 12 insertions(+), 7 deletions(-)

commit ff70177
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 7 21:38:58 2011 +0900

    Fix type handling for local variables.

 tools/qfcc/source/qc-parse.y |    6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit 952a02e
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 7 21:31:37 2011 +0900

    Make print_type() output a newline.

 tools/qfcc/source/type.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a28ac63
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 7 21:29:04 2011 +0900

    Make local declarations support C syntax.

 tools/qfcc/source/qc-parse.y |   46 +++++++++++++++++++++++-------------------
 1 file changed, 25 insertions(+), 21 deletions(-)

commit da4ec3d
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 7 20:50:06 2011 +0900

    Allow typedefs and classes in structs.

 tools/qfcc/source/qc-parse.y |    1 +
 1 file changed, 1 insertion(+)

commit aefd2a2
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 7 20:49:20 2011 +0900

    Make type handling in the grammar more consistent.

 tools/qfcc/source/qc-parse.y |   25 ++++++++++++-------------
 1 file changed, 12 insertions(+), 13 deletions(-)

commit 3c64ae7
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 7 20:48:01 2011 +0900

    Fix overzealous type merging.
    
    Use the type name instead of the symbol table for comparing
    struct/union/enum types.

 tools/qfcc/source/class.c  |    7 ++++---
 tools/qfcc/source/struct.c |    7 ++++---
 tools/qfcc/source/type.c   |    6 +++---
 3 files changed, 11 insertions(+), 9 deletions(-)

commit 265a244
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 7 15:30:49 2011 +0900

    Set the symbol type for structs etc as soon as the tag is created.
    
    Tags (struct/union/enum) are always types.

 tools/qfcc/source/struct.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 65a07ad
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 7 14:56:29 2011 +0900

    Implement offset dereferences.

 tools/qfcc/source/statements.c |    9 +++++++++
 1 file changed, 9 insertions(+)

commit d2b4640
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 7 14:43:07 2011 +0900

    Fix assignment sub-expressions.

 tools/qfcc/source/statements.c |   12 ++++++++++--
 1 file changed, 10 insertions(+), 2 deletions(-)

commit 6fa5bbe
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 7 11:31:23 2011 +0900

    Support constant folding on enums.

 tools/qfcc/source/constfold.c |   45 ++++++++++++++++++++++++++++++++++++-----
 1 file changed, 40 insertions(+), 5 deletions(-)

commit d549e5c
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 7 11:30:56 2011 +0900

    Allow enums to be tested.

 tools/qfcc/source/expr.c |   18 ++++++++++++------
 1 file changed, 12 insertions(+), 6 deletions(-)

commit ef2ad46
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 7 10:55:09 2011 +0900

    Convert complex types to a suitable low-level type.
    
    This takes care of moving structures etc around.

 tools/qfcc/include/type.h      |    1 +
 tools/qfcc/source/statements.c |   13 +++++--------
 tools/qfcc/source/type.c       |   18 ++++++++++++++++++
 3 files changed, 24 insertions(+), 8 deletions(-)

commit b629c12
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 7 10:21:54 2011 +0900

    Do not change the type of the return operand.
    
    Doing so made a mess of returning expressions. It was probably a holdover
    from before getting instructions with void operand types working.

 tools/qfcc/source/statements.c |    4 +---
 1 file changed, 1 insertion(+), 3 deletions(-)

commit 829fb33
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 7 10:10:48 2011 +0900

    Fix converting nil to a pointer type.

 tools/qfcc/source/expr.c |    2 ++
 1 file changed, 2 insertions(+)

commit b8127f7
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 7 09:57:26 2011 +0900

    Do not segfault when printing a pointer value with a bogus type

 tools/qfcc/source/dot_expr.c |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 28ba4b5
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 7 09:56:33 2011 +0900

    Correct a comment.

 tools/qfcc/include/expr.h |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d564e6f
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 7 08:46:12 2011 +0900

    Clean out the old debug prints from emit_function()

 tools/qfcc/source/function.c |   10 ----------
 1 file changed, 10 deletions(-)

commit 7603486
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 7 08:32:52 2011 +0900

    Implement direct ivar access in methods.
    
    A warning needs to be generated for access to ivars in a class method, but
    it seems to work (unable to check due to other errors).

 tools/qfcc/include/class.h   |    6 ++++-
 tools/qfcc/source/class.c    |   50 +++++++++++++++++++++++++++++-------------
 tools/qfcc/source/qc-parse.y |    8 ++++++-
 3 files changed, 47 insertions(+), 17 deletions(-)

commit 3025e04
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 7 08:30:28 2011 +0900

    Partially resurrect field_expr()
    
    For now, only entity.field and ivar access via a pointer have been
    implemented. The rest will come later as needed.

 tools/qfcc/source/expr.c |   39 +++++++++++++++++++++++++++++++++++++--
 1 file changed, 37 insertions(+), 2 deletions(-)

commit 1d108a8
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Feb 6 20:08:54 2011 +0900

    Support emitting symbolic constants.

 tools/qfcc/source/emit.c |   30 +++++++++++++++++-------------
 1 file changed, 17 insertions(+), 13 deletions(-)

commit e4ac92b
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Feb 6 20:08:16 2011 +0900

    Auto-cast between enums and the default type.

 tools/qfcc/source/expr.c       |    3 +++
 tools/qfcc/source/statements.c |    5 ++++-
 2 files changed, 7 insertions(+), 1 deletion(-)

commit 6b7a81f
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Feb 6 20:07:19 2011 +0900

    Run find_type() early on enums and structs.

 tools/qfcc/source/qc-parse.y |    2 +-
 tools/qfcc/source/struct.c   |    2 ++
 2 files changed, 3 insertions(+), 1 deletion(-)

commit d54a96e
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Feb 6 20:05:56 2011 +0900

    Make enum values visible.
    
    Put them in the current symbol table as well as the enum symbol table. The
    latter is really just for keeping track of what values are in the enum.

 tools/qfcc/source/struct.c |    6 ++++++
 1 file changed, 6 insertions(+)

commit 2860a8b
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Feb 6 20:01:55 2011 +0900

    enum too is a scalar.

 tools/qfcc/include/type.h |    1 +
 tools/qfcc/source/type.c  |   14 +++++++++++---
 2 files changed, 12 insertions(+), 3 deletions(-)

commit f2c272f
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Feb 6 16:56:19 2011 +0900

    Make adding a symbol to multiple tables an internal error.

 tools/qfcc/source/class.c    |    2 ++
 tools/qfcc/source/expr.c     |    2 ++
 tools/qfcc/source/function.c |    4 +++-
 tools/qfcc/source/method.c   |    8 ++++++--
 tools/qfcc/source/symtab.c   |    4 +++-
 5 files changed, 16 insertions(+), 4 deletions(-)

commit d7cdf80
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Feb 6 15:41:15 2011 +0900

    Rename id_ivars to object_ivars.

 tools/qfcc/source/class.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit c3c693e
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Feb 6 15:36:21 2011 +0900

    Correct construction of type_id.

 tools/qfcc/source/class.c |   15 ++++++++-------
 tools/qfcc/source/type.c  |    4 ----
 2 files changed, 8 insertions(+), 11 deletions(-)

commit e27f3fd
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Feb 6 15:14:42 2011 +0900

    Copy the method's params into the method symbol.

 tools/qfcc/source/method.c |    1 +
 1 file changed, 1 insertion(+)

commit 00bba1e
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Feb 6 14:37:25 2011 +0900

    Fix creation of uninitialized global variables.

 tools/qfcc/source/qc-parse.y |    8 ++++++--
 1 file changed, 6 insertions(+), 2 deletions(-)

commit 59d3dc6
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Feb 6 14:35:17 2011 +0900

    Check early for assignment of a class pointer to id.

 tools/qfcc/source/type.c |    8 ++++++++
 1 file changed, 8 insertions(+)

commit 2f7b892
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Feb 6 14:33:52 2011 +0900

    Fix passing messages to classes.
    
    Rename class_pointer_def() to class_pointer_symbol() and use it when a
    class name is used as the receiver of a message.

 tools/qfcc/include/class.h   |    2 +-
 tools/qfcc/source/class.c    |   14 ++++++++------
 tools/qfcc/source/qc-parse.y |    5 ++++-
 tools/qfcc/source/symtab.c   |    1 +
 4 files changed, 14 insertions(+), 8 deletions(-)

commit 67957a1
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Feb 5 22:32:23 2011 +0900

    Bring back convert_name(), but siimplified.
    
    It is now mainly for converting __FILE__ etc, handling expression symbols,
    and checking for undefined identifiers.

 tools/qfcc/include/expr.h    |    9 +++++++
 tools/qfcc/source/expr.c     |   59 ++++++++++++++++++++++++++++++++++++++++++
 tools/qfcc/source/qc-parse.y |    2 +-
 tools/qfcc/source/switch.c   |    2 ++
 4 files changed, 71 insertions(+), 1 deletion(-)

commit d03fdc5
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Feb 5 00:04:35 2011 +0900

    Correctly calculate the size of the ivars of a class.
    
    Need to include the size of the super class ivars.

 tools/qfcc/source/type.c |   13 ++++++++++---
 1 file changed, 10 insertions(+), 3 deletions(-)

commit 690ae1c
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Feb 4 23:49:25 2011 +0900

    Fix send_message().

 tools/qfcc/source/method.c |   25 ++++++++++++++++---------
 1 file changed, 16 insertions(+), 9 deletions(-)

commit 29fbc3b
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Feb 4 23:48:58 2011 +0900

    Struct and ivar declarations now seem to work.
    
    However, not bit-fields.

 tools/qfcc/source/qc-parse.y |   14 ++++++++++++--
 1 file changed, 12 insertions(+), 2 deletions(-)

commit 1f6abb2
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Feb 4 23:22:51 2011 +0900

    Minor cleanups to message_expr().
    
    Fix for class names no longer being pointers to the class.

 tools/qfcc/source/expr.c |   16 ++++++++++------
 1 file changed, 10 insertions(+), 6 deletions(-)

commit eff3957
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Feb 4 23:20:37 2011 +0900

    Resurrect the address expression code for arrays etc.
    
    This fixes selector finding.

 tools/qfcc/source/expr.c |   20 ++++++++++++++++++--
 1 file changed, 18 insertions(+), 2 deletions(-)

commit c542e1a
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Feb 4 21:19:52 2011 +0900

    Possibly fix normal methods.

 tools/qfcc/source/qc-parse.y |   25 +++++++++++++++++++++++--
 1 file changed, 23 insertions(+), 2 deletions(-)

commit d9446c5
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Feb 4 19:50:24 2011 +0900

    Fix builtin methods.

 tools/qfcc/include/method.h  |    3 ++-
 tools/qfcc/source/method.c   |   14 +++++++++-----
 tools/qfcc/source/qc-parse.y |   10 ++++++++++
 3 files changed, 21 insertions(+), 6 deletions(-)

commit d0ecbb3
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Feb 4 15:25:21 2011 +0900

    Copy the spec bits and storage class for QC functions.

 tools/qfcc/source/qc-parse.y |    1 +
 1 file changed, 1 insertion(+)

commit f721144
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Feb 4 15:10:47 2011 +0900

    Rewrite emit_ivars to use emit_structure.
    
    The old code was broken anyway :) (it was segfaulting).

 tools/qfcc/source/class.c |  101 ++++++++++++++++++++++++++++-----------------
 1 file changed, 63 insertions(+), 38 deletions(-)

commit acb3c0d
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Feb 4 14:29:47 2011 +0900

    Fix class initialization.

 tools/qfcc/include/class.h |    1 +
 tools/qfcc/source/class.c  |  125 ++++++++++++++++++++++++--------------------
 tools/qfcc/source/qc-lex.l |    2 +-
 tools/qfcc/source/type.c   |    4 +-
 4 files changed, 71 insertions(+), 61 deletions(-)

commit 04b86fc
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Feb 4 12:07:32 2011 +0900

    Move the Objective-QC structs from type.c to class.c

 tools/qfcc/include/class.h |   14 +++++
 tools/qfcc/include/type.h  |   14 +----
 tools/qfcc/source/class.c  |  148 ++++++++++++++++++++++++++++++++++++++++++++
 tools/qfcc/source/type.c   |  137 +---------------------------------------
 4 files changed, 164 insertions(+), 149 deletions(-)

commit 7b22bfb
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Feb 4 08:38:58 2011 +0900

    Better Objective-QC keyword detection.
    
    Use a flag in the keyword struct rather than checking for "@" in the
    keyword. This catches such keywords as "id" and "Protocol" as well.

 tools/qfcc/source/qc-lex.l |  116 ++++++++++++++++++++++----------------------
 1 file changed, 58 insertions(+), 58 deletions(-)

commit 993bee4
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Feb 4 08:26:16 2011 +0900

    Do not count unimplemented methods.
    
    The method emitter skips unimplemented methods, so counting them when
    figuring out how many methods to emit leads to a segfault.

 tools/qfcc/source/method.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit e04ed72
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Feb 4 08:25:27 2011 +0900

    Increment the index when emitting array elements.
    
    Oops :)

 tools/qfcc/source/struct.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d785368
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Feb 3 21:37:15 2011 +0900

    Fix conversion of nil to a real type.

 tools/qfcc/source/expr.c |    1 +
 1 file changed, 1 insertion(+)

commit f44a26e
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Feb 3 21:32:58 2011 +0900

    Fix type chaining when dealing with decls.

 tools/qfcc/source/function.c |   28 +++++++---------
 tools/qfcc/source/type.c     |   74 ++++++++++++++++++++++++++++--------------
 2 files changed, 61 insertions(+), 41 deletions(-)

commit 54c8a10
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Feb 3 21:31:14 2011 +0900

    Don't trip over incomplete structs (again:P)

 tools/qfcc/source/type.c |   12 +++++++-----
 1 file changed, 7 insertions(+), 5 deletions(-)

commit 12d8658
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Feb 3 18:05:46 2011 +0900

    Create a typedef for obj_module_t.

 tools/qfcc/source/class.c |    4 ++++
 tools/qfcc/source/type.c  |    1 -
 2 files changed, 4 insertions(+), 1 deletion(-)

commit b07392b
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Feb 3 18:04:41 2011 +0900

    Allow ivars to use C syntax declarations.

 tools/qfcc/source/qc-parse.y |   16 +++-------------
 1 file changed, 3 insertions(+), 13 deletions(-)

commit dc6296e
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Feb 3 18:03:37 2011 +0900

    Allow ivars to use typedefs and other classes.

 tools/qfcc/source/qc-parse.y |    5 +++++
 1 file changed, 5 insertions(+)

commit 2203903
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Feb 3 18:02:49 2011 +0900

    Temporarily splice the class's ivar chain into the symbol table.
    
    The root class's ivar symbol table needs to be connected to the global
    symbol table while building the current class's ivar symbol table. This
    allows access to other classes and typedefs.

 tools/qfcc/source/qc-parse.y |   14 +++++++++++---
 1 file changed, 11 insertions(+), 3 deletions(-)

commit 79df3d2
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Feb 3 15:21:09 2011 +0900

    Put newly created classes into the symbol table.

 tools/qfcc/source/class.c    |    8 ++++++--
 tools/qfcc/source/qc-parse.y |   15 ++++++++++-----
 tools/qfcc/source/type.c     |    1 +
 3 files changed, 17 insertions(+), 7 deletions(-)

commit 564b7b9
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Feb 3 10:53:59 2011 +0900

    Use abstract_decl instead of type wherever a generic type is needed.

 tools/qfcc/source/qc-parse.y |   27 +++++++++++++++------------
 1 file changed, 15 insertions(+), 12 deletions(-)

commit a208aed
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Feb 3 10:52:42 2011 +0900

    Fix a segfault when encoding incomplete structs.

 tools/qfcc/source/type.c |    8 +++++---
 1 file changed, 5 insertions(+), 3 deletions(-)

commit 22ccd41
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Feb 3 10:52:12 2011 +0900

    Give struct types a name.
    
    Use the struct/union's name (minus "tag ") for the type name.

 tools/qfcc/source/struct.c |    6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit d12cdca
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Feb 3 10:48:12 2011 +0900

    Functions and enums now seem to be working properly.
    
    find_type now operates recursively (depth-first) so built up typechains
    work as expected.
    
    @overload is treated as a specifier (directly as a storage class, similaar
    to typedef).

 tools/qfcc/include/type.h    |    1 +
 tools/qfcc/source/qc-parse.y |  132 +++++++++++++++---------------------------
 tools/qfcc/source/type.c     |   39 ++++++++++++-
 3 files changed, 85 insertions(+), 87 deletions(-)

commit 52799a4
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 2 22:59:08 2011 +0900

    Must merge specifiers :P

 tools/qfcc/source/qc-parse.y |    3 +++
 1 file changed, 3 insertions(+)

commit 4420a71
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 2 22:53:53 2011 +0900

    Ensure structs get added to the symbol table.

 tools/qfcc/source/qc-parse.y |   13 +++++++++++--
 1 file changed, 11 insertions(+), 2 deletions(-)

commit a4eaa2a
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 2 21:58:53 2011 +0900

    Allow typedefed types and classes in parameters.

 tools/qfcc/source/qc-parse.y |    7 ++++++-
 1 file changed, 6 insertions(+), 1 deletion(-)

commit aeecdc8
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 2 21:58:11 2011 +0900

    Get typedef working.

 tools/qfcc/source/qc-parse.y |    8 +++++++-
 1 file changed, 7 insertions(+), 1 deletion(-)

commit cca829a
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 2 21:57:41 2011 +0900

    Remove a stray semicolon from the grammar.

 tools/qfcc/source/qc-parse.y |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 400abe7
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 2 15:15:24 2011 +0900

    Allow freeing of typechains.

 tools/qfcc/include/type.h |    2 ++
 tools/qfcc/source/type.c  |   35 +++++++++++++++++++++++++++++++++++
 2 files changed, 37 insertions(+)

commit 1fe031e
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 2 15:13:34 2011 +0900

    Build C style var/func/abs decl types from the outside in.
    
    QuakeC style are built from the inside out.

 tools/qfcc/source/qc-parse.y |   92 ++++++++++++++++++++++++++----------------
 1 file changed, 58 insertions(+), 34 deletions(-)

commit 7fb8c82
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 2 15:08:59 2011 +0900

    Don't do a find_type on the parsed function.
    
    This is needed for C style declarations, but breaks QuakeC style. The fix
    is to do the find_type once the return type has been filled in.

 tools/qfcc/source/function.c |    7 ++++++-
 1 file changed, 6 insertions(+), 1 deletion(-)

commit 1452da6
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 2 15:07:44 2011 +0900

    Allow types to be built from the outside in.
    
    This is required for C style decl processing.

 tools/qfcc/include/type.h |   12 ++++++++++++
 tools/qfcc/source/type.c  |   36 ++++++++++++++++++++++++++++++++++++
 2 files changed, 48 insertions(+)

commit ac91e93
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 1 21:23:03 2011 +0900

    The big type-system rewrite. Horribly broken :)
    
    While broken, it is good enough to compile modulo.r.
    
    This gives qfcc C's type system with QC specifics bolted on top (rather
    than trying to cram C's type system into QC's). Pointers and arrays now
    use C syntax and semantics (though I think there's a lot of breakage in
    there at the moment). Functions themselves are still dual mode: both QC
    style and C style are available.

 tools/qfcc/source/qc-parse.y |  612 +++++++++++++++++++++++++++---------------
 1 file changed, 394 insertions(+), 218 deletions(-)

commit d11d128
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 1 21:18:39 2011 +0900

    Avoid segfaulting on errors.

 tools/qfcc/source/function.c |    7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

commit 80ce179
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 1 21:18:08 2011 +0900

    Scan the param list for problems with void.

 tools/qfcc/include/function.h |    1 +
 tools/qfcc/source/function.c  |   26 ++++++++++++++++++++++++++
 2 files changed, 27 insertions(+)

commit c530018
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 1 21:15:51 2011 +0900

    Create a struct for representing specifiers.
    
    The specifiers are yet to come (next few commits), but this will be
    necessary when they do.

 tools/qfcc/include/type.h      |   14 ++++++++++++++
 tools/qfcc/source/constfold.c  |    2 +-
 tools/qfcc/source/statements.c |    2 +-
 3 files changed, 16 insertions(+), 2 deletions(-)

commit 917c5f0
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 1 21:12:02 2011 +0900

    Make a var representing the default type.
    
    The default type for vars is integer for ruamoko and float for v6 qc.

 tools/qfcc/include/type.h |    1 +
 tools/qfcc/source/type.c  |    3 +++
 2 files changed, 4 insertions(+)

commit 54c14eb
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jan 30 22:16:59 2011 +0900

    Add "return" to pascal.
    
    I'm still not sure I'll keep it, but it's useful for testing.

 tools/qfcc/source/qp-lex.l   |    2 ++
 tools/qfcc/source/qp-parse.y |    5 +++++
 2 files changed, 7 insertions(+)

commit e7424e1
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jan 30 21:43:56 2011 +0900

    Don't segfault on bare return statements.
    
    I will probably need to do something about the required operand for v6
    progs, but this will do for now.

 tools/qfcc/source/statements.c |    6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit 440a13b
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jan 30 21:42:10 2011 +0900

    Untwist params' knickers for pascal, too.

 tools/qfcc/source/qp-parse.y |   43 +++++++++++++++++++++++++++++++++++-------
 1 file changed, 36 insertions(+), 7 deletions(-)

commit 861ab93
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jan 29 09:56:08 2011 +0900

    Don't type-check against the wrong type :P

 tools/qfcc/source/method.c |    8 ++++++--
 1 file changed, 6 insertions(+), 2 deletions(-)

commit afc6605
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jan 29 09:55:14 2011 +0900

    Don't set the space for external defs.

 tools/qfcc/source/def.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d80a341
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jan 29 09:54:47 2011 +0900

    Fix a segfault when freeing locations.
    
    When chasing linked lists with a double pointer, must check the first
    dereference and not the pointer itself.

 tools/qfcc/source/defspace.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit e1226bd
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jan 28 21:57:04 2011 +0900

    Quaternions aren't vectors :P

 tools/qfcc/source/type.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 2cce903
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jan 28 21:56:17 2011 +0900

    Set the default storage class for local vars.

 tools/qfcc/source/qp-parse.y |    1 +
 1 file changed, 1 insertion(+)

commit bc7d42d
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jan 28 21:39:01 2011 +0900

    Immediate constants now work, though still not shared.

 tools/qfcc/source/emit.c |    9 +++++++--
 1 file changed, 7 insertions(+), 2 deletions(-)

commit 3c95667
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jan 28 21:21:29 2011 +0900

    Print data contents for most simple types.

 tools/qfcc/source/globals.c |   70 +++++++++++++++++++++++++++++++++----------
 1 file changed, 55 insertions(+), 15 deletions(-)

commit 4476074
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jan 28 18:03:26 2011 +0900

    Print more addresses as hex.

 tools/qfcc/source/globals.c |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 4837e0b
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jan 28 15:17:30 2011 +0900

    Fix most of the FIXMEs in qfcc.c.
    
    Functions and defs seem to be relocated correctly. Constants are very
    broken, however.

 tools/qfcc/source/qfcc.c |   57 ++++++++++++++++++++++++----------------------
 1 file changed, 30 insertions(+), 27 deletions(-)

commit 834417b
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jan 28 13:28:45 2011 +0900

    Add "debug" diagnotic printing, and use it.
    
    Debug diagnostics are silent for verbosity levels less than 1.

 tools/qfcc/include/diagnostic.h |    2 ++
 tools/qfcc/source/diagnostic.c  |   27 +++++++++++++++++++++++++++
 tools/qfcc/source/statements.c  |   10 +++++-----
 3 files changed, 34 insertions(+), 5 deletions(-)

commit a37bdd9
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jan 28 13:23:20 2011 +0900

    Free removed sblocks.

 tools/qfcc/source/statements.c |   35 +++++++++++++++++++++++++++++++++++
 1 file changed, 35 insertions(+)

commit 80424f6
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jan 28 11:45:19 2011 +0900

    Ensure functions are always properly terminated.
    
    Control that reaches the end of a function must see a return statement.

 tools/qfcc/source/function.c   |    2 +-
 tools/qfcc/source/statements.c |   36 ++++++++++++++++++++++++++++++++++++
 2 files changed, 37 insertions(+), 1 deletion(-)

commit 9159daf
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jan 28 11:44:19 2011 +0900

    Do simple unreachable block analysis and dead block removal.

 tools/qfcc/source/statements.c |   69 ++++++++++++++++++++++++++++++++++++++++
 1 file changed, 69 insertions(+)

commit 90a2738
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jan 28 11:41:53 2011 +0900

    Add the label to the block to which it refers.

 tools/qfcc/include/statements.h |    2 ++
 tools/qfcc/source/statements.c  |    2 ++
 2 files changed, 4 insertions(+)

commit c158b14
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jan 28 11:40:25 2011 +0900

    Remove the labels list from the pr struct.
    
    I'm not sure they were ever needed.

 tools/qfcc/include/qfcc.h |    1 -
 tools/qfcc/source/expr.c  |    2 --
 tools/qfcc/source/qfcc.c  |    3 ---
 3 files changed, 6 deletions(-)

commit 4738c76
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 27 21:11:32 2011 +0900

    Fix branch label handling.
    
    Conditional branches and goto now go to the correct location.

 tools/qfcc/source/emit.c       |   16 ++++++++++++++++
 tools/qfcc/source/statements.c |    9 ---------
 2 files changed, 16 insertions(+), 9 deletions(-)

commit 95b17d9
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 27 21:10:37 2011 +0900

    Rename add_statement_ref to add_statement_def_ref.

 tools/qfcc/source/emit.c |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit f72d6d6
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 27 21:03:11 2011 +0900

    Fix a typo in the opname for integer modulo.

 libs/gamecode/engine/pr_opcode.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit bd78b8a
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 27 15:39:54 2011 +0900

    Enable more end-of-compilation code.

 tools/qfcc/source/qfcc.c |   24 +++++++++++++-----------
 1 file changed, 13 insertions(+), 11 deletions(-)

commit cdea1d0
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 27 15:06:52 2011 +0900

    Produce code for progs.src mode.
    
    Separate compilation will take fixing object files.
    
    The generated code is broken due to various relocation fixups being
    broken, and float immediates seem to be badly broken.
    
    Debug information is broken too.

 tools/qfcc/include/qfcc.h |    1 -
 tools/qfcc/source/emit.c  |    1 -
 tools/qfcc/source/qfcc.c  |   15 ++++++++-------
 3 files changed, 8 insertions(+), 9 deletions(-)

commit c7bbd40
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 27 14:47:33 2011 +0900

    Give special treatment to opcodes that have void operand types.

 tools/qfcc/source/opcodes.c |   99 ++++++++++++++++++++-----------------------
 1 file changed, 46 insertions(+), 53 deletions(-)

commit 71b5dec
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 27 14:19:04 2011 +0900

    Get assignments to .return working.
    
    I really do not like the mechanism I currently use for handling pointer
    derefences vs pointer assignments, but this will have to do for now until
    I can get qfcc producing code again.

 tools/qfcc/source/statements.c |    9 ++++++++-
 1 file changed, 8 insertions(+), 1 deletion(-)

commit 5610689
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 27 14:17:55 2011 +0900

    The & operator produces a pointer, not void.

 tools/qfcc/source/statements.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 1c3cc57
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 27 14:17:12 2011 +0900

    Pascal variables need defs too.

 tools/qfcc/source/qp-parse.y |   16 ++++++----------
 1 file changed, 6 insertions(+), 10 deletions(-)

commit f532fbc
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 27 09:00:11 2011 +0900

    Convert all integer operands to float for v6 progs.
    
    Converting only opc is no longer enough.

 tools/qfcc/source/opcodes.c |   15 ++++++++++++---
 1 file changed, 12 insertions(+), 3 deletions(-)

commit 1ed1efb
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 27 08:58:50 2011 +0900

    Implement the ROTL macro correctly.
    
    Bit rotation requires unsigned ints.

 tools/qfcc/source/opcodes.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a6e6548
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 27 08:31:51 2011 +0900

    Remove the "test" parameter from test_expr.
    
    The parameter became redundant at some stage.

 tools/qfcc/include/expr.h  |    2 +-
 tools/qfcc/source/expr.c   |   11 ++++-------
 tools/qfcc/source/switch.c |    2 +-
 3 files changed, 6 insertions(+), 9 deletions(-)

commit f7d6039
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 26 22:43:59 2011 +0900

    Set the type for zer_def used by labels.

 tools/qfcc/source/emit.c |    1 +
 1 file changed, 1 insertion(+)

commit 36c99a8
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 26 14:48:22 2011 +0900

    Get function def creation working again.

 tools/qfcc/include/def.h      |    2 ++
 tools/qfcc/include/function.h |    5 ++++
 tools/qfcc/source/emit.c      |   18 ++++++++++--
 tools/qfcc/source/function.c  |   63 +++++++++++++++++++++++++++--------------
 tools/qfcc/source/qc-parse.y  |    6 ++++
 tools/qfcc/source/qp-parse.y  |    1 +
 6 files changed, 71 insertions(+), 24 deletions(-)

commit 5231e8e
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 26 08:01:24 2011 +0900

    Handle .zero, .return and .param* properly.

 tools/qfcc/source/expr.c      |    3 ++-
 tools/qfcc/source/immediate.c |    9 +++------
 tools/qfcc/source/qfcc.c      |    4 ++--
 3 files changed, 7 insertions(+), 9 deletions(-)

commit 4966120
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 25 20:21:41 2011 +0900

    Untwist param's knickers.

 tools/qfcc/source/qc-parse.y |   38 +++++++++++++++++++++++++++++++-------
 1 file changed, 31 insertions(+), 7 deletions(-)

commit 6ce3c5a
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 25 15:46:48 2011 +0900

    Get statments being emitted to the code segment.
    
    The first function seems to work fine, but there's a problems with the
    scope of params causing params to get their knickers in a twist (tangled
    linked list).

 tools/qfcc/include/emit.h       |   11 +++--
 tools/qfcc/include/opcodes.h    |    6 +--
 tools/qfcc/include/statements.h |    2 +-
 tools/qfcc/source/emit.c        |   91 ++++++++++++++++++++++++++++++++++-----
 tools/qfcc/source/function.c    |   21 +++++----
 tools/qfcc/source/immediate.c   |    2 +-
 tools/qfcc/source/opcodes.c     |   57 ++++++------------------
 tools/qfcc/source/statements.c  |    1 +
 8 files changed, 117 insertions(+), 74 deletions(-)

commit fd3b594
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 25 15:45:31 2011 +0900

    Move label relocs to the relevant statement block.

 tools/qfcc/include/statements.h |    2 ++
 tools/qfcc/source/statements.c  |   10 ++++++++++
 2 files changed, 12 insertions(+)

commit 849d013
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 25 15:43:57 2011 +0900

    Allocate space for function parameters.

 tools/qfcc/source/function.c |    2 ++
 1 file changed, 2 insertions(+)

commit f45919d
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 25 15:42:26 2011 +0900

    Need alias defs after all.

 tools/qfcc/include/def.h |    2 ++
 tools/qfcc/source/def.c  |   14 +++++++++++++-
 2 files changed, 15 insertions(+), 1 deletion(-)

commit a648f04
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 25 12:34:45 2011 +0900

    Give functions their own defspace.
    
    The defspace is propogated through the function's sub-scopes.

 tools/qfcc/include/symtab.h  |    1 +
 tools/qfcc/source/function.c |    1 +
 tools/qfcc/source/qc-parse.y |    6 ++++--
 tools/qfcc/source/qfcc.c     |    5 +++--
 4 files changed, 9 insertions(+), 4 deletions(-)

commit 27c5139
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 25 12:14:56 2011 +0900

    Give defspaces some backing memory.
    
    I'm not sure I want all defspaces to have backing memory, but this will do
    for now.

 tools/qfcc/source/defspace.c |    7 ++++++-
 1 file changed, 6 insertions(+), 1 deletion(-)

commit 34ffce5
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 25 12:12:36 2011 +0900

    Ensure current_symtab gets set at the start of parsing.
    
    current_symtab must be set even if the first thing encountered is a syntax
    error.

 tools/qfcc/source/qc-parse.y |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 69b8897
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 25 12:11:51 2011 +0900

    Fix a misplaced !

 tools/qfcc/source/symtab.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 726f293
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 25 12:07:02 2011 +0900

    Allocate space for defs and handle basic initializations.
    
    Block initializers (arrays and structs) are still broken.

 tools/qfcc/include/def.h     |    9 +++++-
 tools/qfcc/source/def.c      |   67 +++++++++++++++++++++++++++++++++++++++
 tools/qfcc/source/qc-parse.y |   72 ++++++++++--------------------------------
 3 files changed, 92 insertions(+), 56 deletions(-)

commit 3070198
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 25 09:36:00 2011 +0900

    Get QC cfunctions and defs working.

 tools/qfcc/source/defspace.c |    1 +
 tools/qfcc/source/qc-parse.y |   27 ++++++++++++++++++++++++++-
 2 files changed, 27 insertions(+), 1 deletion(-)

commit ade2e92
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 25 09:08:11 2011 +0900

    Fix the immediate breakage in immediate handling.

 tools/qfcc/source/immediate.c |    8 ++++++--
 1 file changed, 6 insertions(+), 2 deletions(-)

commit 7e914b8
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 25 08:54:02 2011 +0900

    Fix copyright headers.
    
    Add forgotten templates and fill in the information in places I had
    forgotten. I hope I got the dates right (timezone issues).

 tools/qfcc/include/qfprogs.h    |   31 +++++++++++++++++++++++++++++++
 tools/qfcc/source/disassemble.c |   10 +++++-----
 tools/qfcc/source/globals.c     |   10 +++++-----
 tools/qfcc/source/lines.c       |   10 +++++-----
 tools/qfcc/source/modules.c     |   10 +++++-----
 tools/qfcc/source/qfprogs.c     |   10 +++++-----
 tools/qfcc/source/qp-parse.y    |    8 ++++----
 tools/qfcc/source/strings.c     |   10 +++++-----
 tools/qfcc/source/struct.c      |    2 ++
 tools/qfcc/source/symtab.c      |   35 +++++++++++++++++++++++++++++++++++
 10 files changed, 102 insertions(+), 34 deletions(-)

commit 49b7c2d
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 25 08:29:00 2011 +0900

    Document make_symbol

 tools/qfcc/include/symtab.h |   18 ++++++++++++++++++
 tools/qfcc/source/symtab.c  |    4 ++++
 2 files changed, 22 insertions(+)

commit 0624408
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 24 21:54:57 2011 +0900

    Move the diagnostic functions into their own file.

 tools/qfcc/include/diagnostic.h |   54 ++++++++++++
 tools/qfcc/include/expr.h       |   10 ---
 tools/qfcc/source/Makefile.am   |    4 +-
 tools/qfcc/source/class.c       |    1 +
 tools/qfcc/source/constfold.c   |    1 +
 tools/qfcc/source/debug.c       |    1 +
 tools/qfcc/source/def.c         |    1 +
 tools/qfcc/source/defspace.c    |    1 +
 tools/qfcc/source/diagnostic.c  |  182 +++++++++++++++++++++++++++++++++++++++
 tools/qfcc/source/expr.c        |  139 +-----------------------------
 tools/qfcc/source/function.c    |    1 +
 tools/qfcc/source/grab.c        |    1 +
 tools/qfcc/source/idstuff.c     |    1 +
 tools/qfcc/source/linker.c      |    1 +
 tools/qfcc/source/method.c      |    1 +
 tools/qfcc/source/qc-lex.l      |    1 +
 tools/qfcc/source/qc-parse.y    |    1 +
 tools/qfcc/source/qp-lex.l      |    1 +
 tools/qfcc/source/qp-parse.y    |    1 +
 tools/qfcc/source/reloc.c       |    1 +
 tools/qfcc/source/statements.c  |    1 +
 tools/qfcc/source/strpool.c     |    2 +-
 tools/qfcc/source/struct.c      |    1 +
 tools/qfcc/source/switch.c      |    1 +
 tools/qfcc/source/symtab.c      |    1 +
 tools/qfcc/source/type.c        |    4 +-
 26 files changed, 261 insertions(+), 153 deletions(-)

commit d618e51
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 24 21:31:32 2011 +0900

    Move save_string and make_string into strpool
    
    Might not be the perfect place, but at least they're strongly related.

 tools/qfcc/include/qfcc.h      |   12 ---
 tools/qfcc/include/strpool.h   |   12 +++
 tools/qfcc/source/constfold.c  |    1 +
 tools/qfcc/source/debug.c      |    1 +
 tools/qfcc/source/function.c   |    1 +
 tools/qfcc/source/grab.c       |    1 +
 tools/qfcc/source/options.c    |    1 +
 tools/qfcc/source/qc-lex.l     |    3 +-
 tools/qfcc/source/qc-parse.y   |    1 +
 tools/qfcc/source/qfcc.c       |  204 ---------------------------------------
 tools/qfcc/source/qp-lex.l     |    1 +
 tools/qfcc/source/statements.c |    1 +
 tools/qfcc/source/strpool.c    |  207 ++++++++++++++++++++++++++++++++++++++++
 tools/qfcc/source/symtab.c     |    1 +
 tools/qfcc/source/type.c       |    1 +
 15 files changed, 231 insertions(+), 217 deletions(-)

commit 483cbeb
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 24 21:13:37 2011 +0900

    Fix a few FIXMEs.

 tools/qfcc/source/class.c    |  185 +++++++++++++++++++++++++++---------------
 tools/qfcc/source/expr.c     |    1 +
 tools/qfcc/source/function.c |    4 +-
 tools/qfcc/source/switch.c   |   17 ++--
 tools/qfcc/source/type.c     |   13 ++-
 5 files changed, 136 insertions(+), 84 deletions(-)

commit afc5b28
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 24 15:41:43 2011 +0900

    Simplify def handling, use far data.
    
    Since there is now a proper symbol table, defs are now just references to
    memory locations and the symbol table takes care of duplicates.
    
    Also, start using far data for ObjQC structures.
    
    The qfo functions have been stubbed out until I figure out what to do with
    object files in the new scheme.

 tools/qfcc/include/class.h    |    2 +-
 tools/qfcc/include/def.h      |   72 ++-------
 tools/qfcc/include/defspace.h |    4 +-
 tools/qfcc/include/emit.h     |   16 +-
 tools/qfcc/include/expr.h     |    2 +-
 tools/qfcc/include/function.h |    3 -
 tools/qfcc/include/method.h   |    2 +
 tools/qfcc/include/qfcc.h     |   25 +--
 tools/qfcc/include/reloc.h    |   56 +++----
 tools/qfcc/include/struct.h   |    6 +
 tools/qfcc/include/symtab.h   |   17 +-
 tools/qfcc/source/Makefile.am |    4 +-
 tools/qfcc/source/class.c     |  273 +++++++++++++++++++------------
 tools/qfcc/source/def.c       |  353 +++--------------------------------------
 tools/qfcc/source/defspace.c  |    2 +-
 tools/qfcc/source/expr.c      |   25 ++-
 tools/qfcc/source/function.c  |   14 --
 tools/qfcc/source/idstuff.c   |    6 +-
 tools/qfcc/source/immediate.c |   30 ++--
 tools/qfcc/source/method.c    |  200 ++++++++++++++---------
 tools/qfcc/source/obj_file.c  |   96 ++++++-----
 tools/qfcc/source/obj_stub.c  |  147 +++++++++++++++++
 tools/qfcc/source/qfcc.c      |   27 ++--
 tools/qfcc/source/reloc.c     |  122 +++++++-------
 tools/qfcc/source/struct.c    |   80 +++++++++-
 tools/qfcc/source/stub.c      |    1 -
 tools/qfcc/source/switch.c    |    6 +-
 tools/qfcc/source/symtab.c    |   24 +++
 28 files changed, 810 insertions(+), 805 deletions(-)

commit ce02fe8
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jan 23 12:59:30 2011 +0900

    Fix the order of paramenters in the tree output.
    
    Also get call nodes looking a little better.

 tools/qfcc/source/dot_expr.c |   41 ++++++++++++++++++++++++++++-------------
 1 file changed, 28 insertions(+), 13 deletions(-)

commit a79b6f0
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jan 23 11:53:08 2011 +0900

    Partially implement casts.

 tools/qfcc/source/statements.c |   14 ++++++++++++--
 1 file changed, 12 insertions(+), 2 deletions(-)

commit bf626c9
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jan 23 11:13:56 2011 +0900

    Fix some simple fixmes

 tools/qfcc/source/expr.c |    8 +++-----
 1 file changed, 3 insertions(+), 5 deletions(-)

commit 20b14af
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jan 23 11:12:58 2011 +0900

    Add "is_math" type check and use for unary +/-.

 tools/qfcc/include/type.h |    1 +
 tools/qfcc/source/expr.c  |    8 ++++++--
 tools/qfcc/source/type.c  |   13 +++++++++++++
 3 files changed, 20 insertions(+), 2 deletions(-)

commit 341f370
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jan 23 11:12:05 2011 +0900

    Rename is_math() to is_math_op().

 tools/qfcc/include/expr.h |    2 +-
 tools/qfcc/source/expr.c  |   12 +++++++-----
 2 files changed, 8 insertions(+), 6 deletions(-)

commit dea6771
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jan 22 16:41:31 2011 +0900

    Create type_nil for passing nil into ...

 tools/qfcc/include/type.h |    2 ++
 tools/qfcc/source/expr.c  |    2 +-
 2 files changed, 3 insertions(+), 1 deletion(-)

commit 4ac80c2
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jan 22 15:52:57 2011 +0900

    Get qfcc running again.
    
    It segs when it tries to link, but that's because a real object file has
    not been created yet. However, I can get my tree and flow diagrams :)

 tools/qfcc/source/qc-lex.l   |    2 +-
 tools/qfcc/source/qc-parse.y |   41 ++++++++++++++++++++++++++++++-----------
 tools/qfcc/source/qfcc.c     |    1 +
 tools/qfcc/source/qp-parse.y |    1 -
 4 files changed, 32 insertions(+), 13 deletions(-)

commit 55d3d17
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jan 22 15:52:01 2011 +0900

    Add a missing break.
    
    "return" falling through to "goto" was bad news :)

 tools/qfcc/source/statements.c |    1 +
 1 file changed, 1 insertion(+)

commit d5f669a
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jan 21 23:42:50 2011 +0900

    Nuke temp reference counting.
    
    The whole reason for this crazy developement branch :)

 tools/qfcc/include/expr.h     |   31 -------------------------------
 tools/qfcc/source/constfold.c |    6 ------
 tools/qfcc/source/expr.c      |   35 -----------------------------------
 3 files changed, 72 deletions(-)

commit 3b462e1
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jan 22 11:39:05 2011 +0900

    Produce flow diagrams of the basic blocks.

 tools/qfcc/include/statements.h |    1 +
 tools/qfcc/source/Makefile.am   |    2 +-
 tools/qfcc/source/dot_flow.c    |  206 +++++++++++++++++++++++++++++++++++++++
 tools/qfcc/source/statements.c  |    1 +
 4 files changed, 209 insertions(+), 1 deletion(-)

commit 246778b
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jan 22 11:36:56 2011 +0900

    Use function pointer tables instead of switch.
    
    This seems to be better for complicated code. switch seems to be better
    suited for relatively simple code.

 tools/qfcc/source/dot_expr.c |  410 +++++++++++++++++++++++++-----------------
 1 file changed, 243 insertions(+), 167 deletions(-)

commit 2f09efe
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jan 21 20:31:40 2011 +0900

    Break out print_expr into its own file.

 tools/qfcc/source/Makefile.am |    3 +-
 tools/qfcc/source/dot_expr.c  |  288 +++++++++++++++++++++++++++++++++++++++++
 tools/qfcc/source/expr.c      |  238 ----------------------------------
 3 files changed, 290 insertions(+), 239 deletions(-)

commit bcb2667
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jan 21 19:40:46 2011 +0900

    Possibly get vector calls working.

 tools/qfcc/source/statements.c |   54 ++++++++++++++++++++++++++++++----------
 1 file changed, 41 insertions(+), 13 deletions(-)

commit 52b561f
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jan 21 19:07:58 2011 +0900

    Nuke bind expressions.
    
    Since I'm planning on implementing CSE and other optimizations, they're
    rather redundant (and I'm having trouble getting them to work).

 tools/qfcc/include/expr.h      |   12 -----------
 tools/qfcc/source/constfold.c  |   44 ++++++++++++++++------------------------
 tools/qfcc/source/expr.c       |   36 +++++++-------------------------
 tools/qfcc/source/statements.c |   22 --------------------
 tools/qfcc/source/switch.c     |    2 +-
 5 files changed, 26 insertions(+), 90 deletions(-)

commit 0d01930
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jan 21 18:50:17 2011 +0900

    Link a bool to its block rather than the block's head.
    
    This makes the flow make a little more sense.

 tools/qfcc/source/expr.c |    3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit 977c48d
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jan 21 15:57:53 2011 +0900

    Make operator type overrides clear.

 tools/qfcc/source/statements.c |    4 ++++
 1 file changed, 4 insertions(+)

commit aec9f25
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jan 21 15:53:31 2011 +0900

    Get calls mostly working.
    
    Bind seems to be broken, but parameters seem to be being set correctly.

 tools/qfcc/source/statements.c |  100 ++++++++++++++++++++++++++++------------
 1 file changed, 71 insertions(+), 29 deletions(-)

commit 5c5fa67
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jan 21 15:34:42 2011 +0900

    Minor tweaks of the expression tree output.

 tools/qfcc/source/expr.c |    9 +++------
 1 file changed, 3 insertions(+), 6 deletions(-)

commit 96fae58
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jan 21 11:27:40 2011 +0900

    Implement bind expressions.

 tools/qfcc/source/statements.c |   22 ++++++++++++++++++++++
 1 file changed, 22 insertions(+)

commit 4a24393
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jan 21 11:26:43 2011 +0900

    Temp expressions now use operands instead of defs.

 tools/qfcc/include/expr.h      |    2 +-
 tools/qfcc/source/def.c        |    4 ++--
 tools/qfcc/source/statements.c |    7 +++++--
 3 files changed, 8 insertions(+), 5 deletions(-)

commit 2998e57
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jan 21 10:59:16 2011 +0900

    Get very basic deref assignments working.
    
    More complicated expressions will not work yet.

 tools/qfcc/source/statements.c |   66 +++++++++++++++++++++++++++++++++++-----
 1 file changed, 58 insertions(+), 8 deletions(-)

commit ff6e258
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jan 21 10:57:47 2011 +0900

    Handle block sub-expressions that produce results.

 tools/qfcc/source/statements.c |   12 +++++++++++-
 1 file changed, 11 insertions(+), 1 deletion(-)

commit 16e013f
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jan 21 10:54:40 2011 +0900

    Allow the operand to override the symbol's type.

 tools/qfcc/include/statements.h |    3 ++-
 tools/qfcc/source/statements.c  |    8 ++++++--
 2 files changed, 8 insertions(+), 3 deletions(-)

commit 3f2793e
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 20 23:26:13 2011 +0900

    Get a lot of statements being generated.

 tools/qfcc/source/statements.c |  459 +++++++++++++++++++++++++++++-----------
 1 file changed, 338 insertions(+), 121 deletions(-)

commit e45ea4b
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 20 18:07:24 2011 +0900

    Move the statement printing near the top of the file.

 tools/qfcc/source/statements.c |  144 ++++++++++++++++++++--------------------
 1 file changed, 72 insertions(+), 72 deletions(-)

commit 35b7278
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 20 15:36:10 2011 +0900

    Re-disable the next-edge constraints.
    
    This gives a flatter layout.

 tools/qfcc/source/expr.c |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 08e387e
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 20 15:33:13 2011 +0900

    Slight improvement to branch instruction nodes/labels.

 tools/qfcc/source/expr.c |   11 ++++++++++-
 1 file changed, 10 insertions(+), 1 deletion(-)

commit f8cc347
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 20 14:00:41 2011 +0900

    Print expressions as dot files.
    
    While the resulting images can be a little confusing, they're much easier
    to read than my cryptic postfix notation.

 tools/qfcc/include/expr.h     |    1 +
 tools/qfcc/source/constfold.c |    2 +-
 tools/qfcc/source/expr.c      |  198 +++++++++++++++++++++++++++--------------
 3 files changed, 131 insertions(+), 70 deletions(-)

commit 0594609
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 19 22:25:43 2011 +0900

    Get the label from the right expression.

 tools/qfcc/source/statements.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 5deda9c
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 19 22:19:26 2011 +0900

    Clean out ex_def as ex_symbol replaces it.

 tools/qfcc/include/expr.h      |   17 ----
 tools/qfcc/include/idstuff.h   |    8 +-
 tools/qfcc/include/qfcc.h      |    2 +
 tools/qfcc/source/class.c      |   44 ++++-----
 tools/qfcc/source/constfold.c  |    2 +-
 tools/qfcc/source/expr.c       |  195 +++++++++-------------------------------
 tools/qfcc/source/idstuff.c    |   24 +----
 tools/qfcc/source/immediate.c  |    2 +-
 tools/qfcc/source/method.c     |    3 +
 tools/qfcc/source/qc-parse.y   |    2 +-
 tools/qfcc/source/qfcc.c       |   16 ++--
 tools/qfcc/source/qp-parse.y   |    5 +-
 tools/qfcc/source/statements.c |    2 -
 tools/qfcc/source/struct.c     |    1 -
 tools/qfcc/source/switch.c     |    7 +-
 15 files changed, 86 insertions(+), 244 deletions(-)

commit b5424bc
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 19 15:47:45 2011 +0900

    Start work on getting expressions converted to internal statements.

 tools/qfcc/include/expr.h       |    4 +-
 tools/qfcc/include/statements.h |   71 +++++++
 tools/qfcc/source/Makefile.am   |    4 +-
 tools/qfcc/source/expr.c        |   14 ++
 tools/qfcc/source/function.c    |   53 ++---
 tools/qfcc/source/obj_file.c    |    6 +-
 tools/qfcc/source/qfcc.c        |    6 +-
 tools/qfcc/source/statements.c  |  406 +++++++++++++++++++++++++++++++++++++++
 tools/qfcc/source/stub.c        |    2 +-
 9 files changed, 514 insertions(+), 52 deletions(-)

commit cac2e04
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 19 11:35:34 2011 +0900

    Avoid namespace issues with dstatements.

 include/QF/pr_comp.h           |    2 +-
 tools/qfcc/include/codespace.h |    6 +++---
 2 files changed, 4 insertions(+), 4 deletions(-)

commit f2ef24d
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 19 11:09:54 2011 +0900

    Make symbols use the new value struct for constants.

 tools/qfcc/include/symtab.h |    5 ++++-
 tools/qfcc/source/expr.c    |   18 +++++++++---------
 tools/qfcc/source/struct.c  |    6 +++---
 tools/qfcc/source/switch.c  |    2 +-
 tools/qfcc/source/type.c    |    2 +-
 5 files changed, 18 insertions(+), 15 deletions(-)

commit e08efe0
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 19 08:41:24 2011 +0900

    Move the constant expression values into their own struct.

 tools/qfcc/include/expr.h     |   67 ++--
 tools/qfcc/source/class.c     |    4 +-
 tools/qfcc/source/constfold.c |  386 +++++++++----------
 tools/qfcc/source/expr.c      |  844 +++++++++++++++++++----------------------
 tools/qfcc/source/function.c  |    9 +-
 tools/qfcc/source/immediate.c |   61 ++-
 tools/qfcc/source/method.c    |    4 +-
 tools/qfcc/source/qc-lex.l    |    2 +-
 tools/qfcc/source/qc-parse.y  |    5 +-
 tools/qfcc/source/qfcc.c      |    6 +-
 tools/qfcc/source/qp-parse.y  |    2 +-
 tools/qfcc/source/struct.c    |    6 +-
 tools/qfcc/source/switch.c    |   70 ++--
 13 files changed, 703 insertions(+), 763 deletions(-)

commit ff6e1b4
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 19 08:38:09 2011 +0900

    Get functions attempting to generate code.
    
    However, the statements are only printed as expressions.

 tools/qfcc/include/function.h |    3 ++-
 tools/qfcc/source/function.c  |   17 ++++++++---------
 tools/qfcc/source/qp-parse.y  |   21 +++++++++++----------
 3 files changed, 21 insertions(+), 20 deletions(-)

commit 33db650
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 18 22:22:18 2011 +0900

    Add QuatInverse to calculate 1/q.
    
    There's still no direct quaternion division because I don't know if the
    definition of q1/q2 is (1/q2)*q1 or q1*(1/q2) (it does make a difference).

 include/QF/mathlib.h |    3 ++-
 libs/util/mathlib.c  |   21 ++++++++++++++++-----
 2 files changed, 18 insertions(+), 6 deletions(-)

commit 87ce9f5
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 18 12:37:12 2011 +0900

    Get basic function creation working.
    
    Even more FIXMEs, but the pascal parser can now create functions. The
    function records even get emitted.

 tools/qfcc/include/function.h |   20 ++---
 tools/qfcc/source/class.c     |    4 +-
 tools/qfcc/source/expr.c      |   24 ++---
 tools/qfcc/source/function.c  |  198 ++++++++++++++++++++++++-----------------
 tools/qfcc/source/obj_file.c  |   68 +++++++-------
 tools/qfcc/source/qfcc.c      |   30 +++----
 tools/qfcc/source/qp-parse.y  |   24 ++---
 7 files changed, 199 insertions(+), 169 deletions(-)

commit 8fb1b49
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 18 10:46:42 2011 +0900

    Add support for function symbols.

 tools/qfcc/include/symtab.h |    2 ++
 1 file changed, 2 insertions(+)

commit b186173
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 18 08:59:44 2011 +0900

    Fix a segfault in structure finalization.

 tools/qfcc/source/struct.c |   11 ++++++-----
 1 file changed, 6 insertions(+), 5 deletions(-)

commit 21c0c96
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 18 08:58:43 2011 +0900

    Initialize data before types.
    
    This is needed for string data. It might be better to init saved strings
    separately, but this works for now.

 tools/qfcc/source/qfcc.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 3fe7a72
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 18 08:56:47 2011 +0900

    Handle unnamed structures in make_structure.
    
    Symbols may not have null names.

 tools/qfcc/source/struct.c |    6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit b76a5c5
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 17 22:44:58 2011 +0900

    Add my QuakePascal test program.
    
    Trivial as it is...

 tools/qfcc/test/gcd.pas |   15 +++++++++++++++
 1 file changed, 15 insertions(+)

commit ea38958
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 17 22:33:33 2011 +0900

    Rewrite much to use symbols and symtabs. Gut emit.c. Massive breakage.
    
    That which isn't rewritten is horribly broken. However, this does include a
    nice mechanism for building QC structs for emitting data.
    
    emit.c has been gutted in the spirit of "throw one away".
    
    There is much work to be done to get even variables emitted, let alone
    code. Things should be a little more fun from here on.

 tools/qfcc/include/class.h    |   20 +-
 tools/qfcc/include/def.h      |    1 -
 tools/qfcc/include/expr.h     |   26 +-
 tools/qfcc/include/function.h |   26 +-
 tools/qfcc/include/qfcc.h     |    1 -
 tools/qfcc/include/struct.h   |   72 +--
 tools/qfcc/include/symtab.h   |   31 +-
 tools/qfcc/include/type.h     |   21 +-
 tools/qfcc/source/Makefile.am |    8 +-
 tools/qfcc/source/class.c     |  191 ++++----
 tools/qfcc/source/def.c       |    7 +-
 tools/qfcc/source/emit.c      |  851 +--------------------------------
 tools/qfcc/source/expr.c      |  533 +++++++--------------
 tools/qfcc/source/function.c  |   26 +-
 tools/qfcc/source/idstuff.c   |    1 +
 tools/qfcc/source/immediate.c |    5 +-
 tools/qfcc/source/linker.c    |   11 +-
 tools/qfcc/source/method.c    |   39 +-
 tools/qfcc/source/obj_file.c  |    1 +
 tools/qfcc/source/qc-lex.l    |   46 +-
 tools/qfcc/source/qc-parse.y  | 1056 ++++++++++++-----------------------------
 tools/qfcc/source/qfcc.c      |   11 +-
 tools/qfcc/source/qp-lex.l    |    6 +-
 tools/qfcc/source/qp-parse.y  |   52 +-
 tools/qfcc/source/reloc.c     |    1 +
 tools/qfcc/source/struct.c    |  376 +++++----------
 tools/qfcc/source/stub.c      |    1 +
 tools/qfcc/source/switch.c    |    1 -
 tools/qfcc/source/symtab.c    |    3 +-
 tools/qfcc/source/type.c      |  481 +++++++++----------
 30 files changed, 1103 insertions(+), 2802 deletions(-)

commit 85de101
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 17 12:06:15 2011 +0900

    Break out the defspace code.
    
    This also makes some improvements to the free block handling code.

 tools/qfcc/include/def.h      |   17 +---
 tools/qfcc/include/defspace.h |   52 ++++++++++++
 tools/qfcc/source/def.c       |  118 ++-------------------------
 tools/qfcc/source/defspace.c  |  180 +++++++++++++++++++++++++++++++++++++++++
 4 files changed, 241 insertions(+), 126 deletions(-)

commit d3a98af
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 17 12:09:44 2011 +0900

    Make internal_error globally available.

 tools/qfcc/include/expr.h     |    9 ++++++---
 tools/qfcc/source/constfold.c |   25 +++++++++----------------
 tools/qfcc/source/expr.c      |   41 +++++++++++++++++++++++++++++++----------
 3 files changed, 46 insertions(+), 29 deletions(-)

commit 537b930
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 17 12:04:41 2011 +0900

    Add new_symbol_type to ease creation of typed symbols.
    
    This is inteded for code generation functions that need to create
    variables and structures.

 tools/qfcc/include/symtab.h |   11 +++++++++++
 tools/qfcc/source/symtab.c  |    9 +++++++++
 2 files changed, 20 insertions(+)

commit ffea505
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jan 14 12:10:28 2011 +0900

    Cleanup QC's constant handling based on QP.

 tools/qfcc/source/qc-lex.l   |  127 +++++++++++++++++++-----------------------
 tools/qfcc/source/qc-parse.y |   34 +++--------
 2 files changed, 66 insertions(+), 95 deletions(-)

commit c38ea0b
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jan 14 12:07:40 2011 +0900

    Correct the spelling of "nil".

 ruamoko/cl_menu/client_menu.qc |   10 +++++-----
 ruamoko/cl_menu/controls_o.qc  |    2 +-
 ruamoko/cl_menu/options.qc     |    6 +++---
 ruamoko/cl_menu/plistmenu.r    |    8 ++++----
 ruamoko/game/World.r           |    4 ++--
 ruamoko/gui/View.r             |    2 +-
 ruamoko/lib/Array.r            |   14 +++++++-------
 ruamoko/lib/AutoreleasePool.r  |    2 +-
 ruamoko/lib/Entity.r           |    2 +-
 ruamoko/lib/List.r             |   18 +++++++++---------
 ruamoko/lib/ListNode.r         |    4 ++--
 ruamoko/lib/Object.r           |   10 +++++-----
 ruamoko/lib/PropertyList.r     |    6 +++---
 ruamoko/lib/Protocol.r         |    4 ++--
 ruamoko/lib/Stack.r            |    4 ++--
 ruamoko/scheme/CompiledCode.r  |    8 ++++----
 ruamoko/scheme/Compiler.r      |    2 +-
 ruamoko/scheme/Cons.r          |   10 +++++-----
 ruamoko/scheme/Error.r         |    2 +-
 ruamoko/scheme/Instruction.r   |    4 ++--
 ruamoko/scheme/Lexer.r         |    2 +-
 ruamoko/scheme/Machine.r       |   16 ++++++++--------
 ruamoko/scheme/Parser.r        |    2 +-
 ruamoko/scheme/SchemeObject.r  |   16 ++++++++--------
 ruamoko/scheme/Scope.r         |    2 +-
 ruamoko/scheme/Symbol.r        |    2 +-
 ruamoko/scheme/builtins.r      |    6 +++---
 ruamoko/scheme/main.qc         |    4 ++--
 tools/qfcc/source/qc-lex.l     |    2 +-
 29 files changed, 87 insertions(+), 87 deletions(-)

commit c0b8d0f
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 13 16:34:25 2011 +0900

    Test __PRETTY_FUNCTION__ in methods, too.

 tools/qwaq/test.r |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit c4d19e6
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 13 16:22:27 2011 +0900

    Get __PRETTY_FUNCTION__ working for overloaded functions.

 tools/qfcc/source/function.c |   11 ++++++++++-
 tools/qfcc/test/file-line.r  |   27 +++++++++++++++++++++++++++
 2 files changed, 37 insertions(+), 1 deletion(-)

commit 0c9522b
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 13 16:21:31 2011 +0900

    Fix overloaded functions.

 tools/qfcc/source/function.c |    1 +
 1 file changed, 1 insertion(+)

commit b4dd1b0
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 13 15:30:46 2011 +0900

    Add some diagnostic variables.
    
    __PRETTY_FUNCTION__ __FUNCTION__ __LINE__ and __FILE__

 tools/qfcc/source/expr.c |   19 +++++++++++++++++++
 1 file changed, 19 insertions(+)

commit fb8b3d1
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 13 14:58:16 2011 +0900

    Rework the lexer and parser to use symbols instead of defs.
    
    Currently parses the test program just fine, but code generation is very
    very broken.

 tools/qfcc/include/qfcc.h    |    1 +
 tools/qfcc/source/qp-lex.l   |   84 ++++++---
 tools/qfcc/source/qp-parse.y |  401 ++++++++++++++----------------------------
 3 files changed, 197 insertions(+), 289 deletions(-)

commit 8f71986
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 13 14:54:24 2011 +0900

    Add symbol expressions (like def expressions).
    
    They will eventually replace def expressions. Currently quite broken.

 tools/qfcc/include/expr.h |    8 ++++++++
 tools/qfcc/source/emit.c  |    6 ++++++
 tools/qfcc/source/expr.c  |   28 ++++++++++++++++++++++++++++
 3 files changed, 42 insertions(+)

commit 008f4e1
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 13 14:50:25 2011 +0900

    Don't return .return in advanced mode.

 tools/qfcc/source/emit.c |    5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit 5b8725c
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 13 14:48:38 2011 +0900

    Rewrite the symbol (table) management in light of actual usage.

 tools/qfcc/include/symtab.h |   93 +++++++++++++++-------------------------
 tools/qfcc/source/symtab.c  |  100 +++++++++++++++++--------------------------
 2 files changed, 73 insertions(+), 120 deletions(-)

commit ac14db7
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 13 14:45:53 2011 +0900

    Create a function to ease param list building.
    
    This is especially useful for QuakePascal, but it will mean I'll be able to
    get rid of the parameter reversals in Ruamoko later on.

 tools/qfcc/include/function.h |    8 ++++++--
 tools/qfcc/source/function.c  |   22 ++++++++++++++++++++++
 2 files changed, 28 insertions(+), 2 deletions(-)

commit 258c896
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 13 14:33:16 2011 +0900

    Create a function to build if/else blocks.

 tools/qfcc/include/expr.h |    1 +
 tools/qfcc/source/expr.c  |   40 ++++++++++++++++++++++++++++++++++++++++
 2 files changed, 41 insertions(+)

commit 638f444
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 13 00:46:46 2011 +0900

    More return code cleanup.
    
    Don't use the true void return in traditional mode.
    Prefer the true void return over "done" at the end of functions.
    Don't emit the above if the last emitted statement is a return and there is
    no label at the end of the function.

 tools/qfcc/source/emit.c     |    2 +-
 tools/qfcc/source/function.c |   14 ++++++++++++--
 2 files changed, 13 insertions(+), 3 deletions(-)

commit 3c99913
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 13 00:29:56 2011 +0900

    Add a "void return" instruction.
    
    I got fed up with always having to explicty return something.

 include/QF/pr_comp.h             |    4 +++-
 libs/gamecode/engine/pr_exec.c   |    2 ++
 libs/gamecode/engine/pr_opcode.c |    6 ++++++
 tools/qfcc/include/opcodes.h     |    1 +
 tools/qfcc/source/emit.c         |    5 ++++-
 tools/qfcc/source/opcodes.c      |    3 +++
 tools/qfcc/source/qp-parse.y     |    9 ++++-----
 7 files changed, 23 insertions(+), 7 deletions(-)

commit 9ce9b70
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 12 23:39:59 2011 +0900

    Add variadic functions.
    
    Already extending QuakePascal, and many basics aren't there yet :P

 tools/qfcc/source/qp-lex.l   |    2 ++
 tools/qfcc/source/qp-parse.y |   13 ++++++++++++-
 2 files changed, 14 insertions(+), 1 deletion(-)

commit 02b3dde
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 12 23:35:56 2011 +0900

    Make QuakePascal programs runnable.
    
    Generate a mini-main function (".main", to avoid namespace pollution) that
    calls the function named by "program", and make qwaq check for ".main" as
    well as "main". If both are present, ".main" will take priority.

 tools/qfcc/source/qp-parse.y |   20 ++++++++++++++++++++
 tools/qwaq/main.c            |    3 ++-
 2 files changed, 22 insertions(+), 1 deletion(-)

commit 332b7da
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 12 23:34:15 2011 +0900

    Minor header cleanup.

 tools/qfcc/source/qp-parse.y |    5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

commit 96ba460
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 12 23:33:51 2011 +0900

    Fix the micro-optimization that avoided emitting x = x
    
    The check was broken by alias defs. If a def is aliased, the alias must be
    checked.

 tools/qfcc/source/emit.c |   10 ++++++++--
 1 file changed, 8 insertions(+), 2 deletions(-)

commit c787923
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 11 12:11:54 2011 +0900

    Forgot to remove that print_expr.

 tools/qfcc/source/expr.c |    1 -
 1 file changed, 1 deletion(-)

commit 08bf7e2
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 11 12:07:48 2011 +0900

    Produce nicer code for post-op.
    
    The temp notice is still there for arrays (that's caused by issues in
    constfold.c, not easily fixilbe), but it's harmless and correct (and nice)
    code is much more important.

 tools/qfcc/source/expr.c |   24 +++++++++++++++---------
 1 file changed, 15 insertions(+), 9 deletions(-)

commit ad787ae
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 11 12:06:40 2011 +0900

    Set the expression type to the correct value for addresses.

 tools/qfcc/source/expr.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 21d7c78
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 11 12:05:29 2011 +0900

    Allow deep copying of expression trees.
    
    Certain expression types (eg labels) are created fresh.

 tools/qfcc/include/expr.h |    7 ++++
 tools/qfcc/source/expr.c  |   97 +++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 104 insertions(+)

commit c73ac30
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 11 10:55:51 2011 +0900

    Turns out decrementing the users was very very bad.

 tools/qfcc/source/constfold.c |   60 ++++++++++++++++++++---------------------
 1 file changed, 30 insertions(+), 30 deletions(-)

commit 099eb2d
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 11 09:07:56 2011 +0900

    Ignore the new files.

 .gitignore |    8 ++++++++
 1 file changed, 8 insertions(+)

commit 4af5dad
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 11 08:49:43 2011 +0900

    More math identities.
    
    I forgot about 0 for multiplication and division. Detects division by zero.

 tools/qfcc/source/constfold.c |   34 ++++++++++++++++++++++++++++++++++
 1 file changed, 34 insertions(+)

commit 5b43fc1
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 11 08:47:52 2011 +0900

    Improve interaction between temps and const_folding.
    
    Unfortunately, this seems to overdo the decrementing, so it could be
    dangerous, but the ruamoko directory builds properly.

 tools/qfcc/source/constfold.c |   48 ++++++++++++++++++++---------------------
 1 file changed, 24 insertions(+), 24 deletions(-)

commit abe4711
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 11 08:44:43 2011 +0900

    Make inc/dec_users return the the expression.
    
    Just for convenience.

 tools/qfcc/include/expr.h |    6 ++++--
 tools/qfcc/source/expr.c  |    6 ++++--
 2 files changed, 8 insertions(+), 4 deletions(-)

commit 18ae178
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 11 08:43:34 2011 +0900

    Make new_vector_expr and new_quaternion_expr const-correct.

 tools/qfcc/include/expr.h |    4 ++--
 tools/qfcc/source/expr.c  |    4 ++--
 2 files changed, 4 insertions(+), 4 deletions(-)

commit 1350319
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 11 08:41:40 2011 +0900

    Add quat_origin convenience constant.
    
    Same as vec3_origin in that all elements are zero.

 include/QF/mathlib.h |    1 +
 libs/util/mathlib.c  |    2 ++
 2 files changed, 3 insertions(+)

commit 4da2657
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 11 08:07:04 2011 +0900

    Fix most of the notice spam (hacky).
    
    The implementation and declaration of OP_DONE disagree (not sure what to do
    about it yet), so give it special treatment when emitting.

 tools/qfcc/source/emit.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit f2fb853
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 10 13:29:51 2011 +0900

    Fix for parallel make.

 ruamoko/cl_menu/Makefile.am |    1 +
 1 file changed, 1 insertion(+)

commit ded7414
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 10 13:23:39 2011 +0900

    Add some missing static declarations.

 tools/qflmp/lmp.c |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 5f70e27
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 10 13:23:12 2011 +0900

    Quaternions use quaternion_val, not vector_val :P

 tools/qfcc/source/constfold.c |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit cbe2457
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 10 12:24:07 2011 +0900

    Install the symbol file so menus can be debugged.

 ruamoko/cl_menu/Makefile.am |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit cd38bd7
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 10 12:19:44 2011 +0900

    Swap the order of scale and base for calculating the array index.
    
    fold_constants doesn't like dags very much, but it can do the right thing
    if the expressions are in the right order. This is merely a workaround
    until I get to work on the code generator itself.

 tools/qfcc/source/expr.c |    5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 5864c19
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 10 11:44:22 2011 +0900

    Property list tests are working.

 tools/qwaq/main.c  |    2 +-
 tools/qwaq/main.qc |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit d327c86
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 10 11:40:15 2011 +0900

    Get messages working again.

 tools/qfcc/source/class.c |    4 ++--
 tools/qfcc/source/expr.c  |   12 +++---------
 2 files changed, 5 insertions(+), 11 deletions(-)

commit 9e06220
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 10 11:11:08 2011 +0900

    Missed a class -> class pointer change.

 ruamoko/lib/Protocol.r |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit cb0bc72
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 10 09:21:42 2011 +0900

    Resurect the debugging messages in rua_obj.c
    
    Yet another debug flag: SYS_RUA_OBJ

 include/QF/sys.h       |    8 ++--
 libs/ruamoko/rua_obj.c |   99 ++++++++++++++++++++++++++++++++++++++++++++----
 tools/qwaq/main.c      |    1 +
 3 files changed, 98 insertions(+), 10 deletions(-)

commit aac8185
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 10 00:00:18 2011 +0900

    Print some addresses in hex.

 tools/qfcc/source/globals.c |    8 ++++++--
 1 file changed, 6 insertions(+), 2 deletions(-)

commit 6ebee4a
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jan 9 23:59:10 2011 +0900

    Get the type of Method right.
    
    It's a direct structure rather than a pointer.

 ruamoko/include/runtime.h  |    6 +++---
 ruamoko/lib/Object.r       |    6 +++---
 tools/qfcc/source/method.c |    2 +-
 tools/qfcc/source/type.c   |    5 ++---
 4 files changed, 9 insertions(+), 10 deletions(-)

commit ba27db6
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jan 9 23:23:54 2011 +0900

    Use some math identities to eliminate operations on non-constants.

 tools/qfcc/source/constfold.c |   58 +++++++++++++++++++++++++++++++++++++++++
 1 file changed, 58 insertions(+)

commit 6650b35
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jan 9 20:53:39 2011 +0900

    Make PR_Get_Param_Def aware of @args.

 libs/gamecode/engine/pr_debug.c |   13 +++++++++----
 1 file changed, 9 insertions(+), 4 deletions(-)

commit 75ec6bf
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jan 9 19:41:24 2011 +0900

    Clean out some unnecessary types from the progs engine and clean up the mess.
    
    This is a nasty commit, sorry, but 99% of the commit is interdependent.

 include/QF/pr_comp.h              |   40 +--
 libs/gamecode/engine/pr_debug.c   |   12 -
 libs/gamecode/engine/pr_exec.c    |   40 ---
 libs/gamecode/engine/pr_opcode.c  |  270 +++++-------------
 nq/source/sv_progs.c              |    7 +-
 qw/source/sv_progs.c              |    7 +-
 ruamoko/cl_menu/CrosshairView.h   |    4 +-
 ruamoko/cl_menu/CrosshairView.r   |    4 +-
 ruamoko/cl_menu/CvarColorView.h   |    4 +-
 ruamoko/cl_menu/CvarColorView.r   |    2 +-
 ruamoko/cl_menu/CvarRangeView.h   |   10 +-
 ruamoko/cl_menu/CvarRangeView.r   |    2 +-
 ruamoko/cl_menu/CvarToggleView.h  |    8 +-
 ruamoko/cl_menu/CvarToggleView.r  |    2 +-
 ruamoko/cl_menu/Frame.h           |    2 +-
 ruamoko/cl_menu/HUD.h             |    6 +-
 ruamoko/cl_menu/HUD.r             |   10 +-
 ruamoko/cl_menu/MenuGroup.r       |    4 +-
 ruamoko/cl_menu/ProxyView.h       |    6 +-
 ruamoko/cl_menu/ProxyView.r       |    4 +-
 ruamoko/cl_menu/client_menu.h     |    2 +-
 ruamoko/cl_menu/client_menu.qc    |   10 +-
 ruamoko/cl_menu/controls_o.qc     |   26 +-
 ruamoko/cl_menu/options.qc        |   72 ++---
 ruamoko/cl_menu/plistmenu.h       |    4 +-
 ruamoko/cl_menu/plistmenu.r       |   46 +--
 ruamoko/cl_menu/servlist.qc       |    4 +-
 ruamoko/game/Axe.h                |    2 +-
 ruamoko/game/Axe.r                |    2 +-
 ruamoko/game/Weapon.h             |    2 +-
 ruamoko/game/World.r              |   12 +-
 ruamoko/gui/Group.r               |    6 +-
 ruamoko/gui/View.r                |    2 +-
 ruamoko/include/Array.h           |   12 +-
 ruamoko/include/AutoreleasePool.h |    2 +-
 ruamoko/include/ListNode.h        |    2 +-
 ruamoko/include/Object.h          |    2 +-
 ruamoko/include/PropertyList.h    |   32 +--
 ruamoko/include/Protocol.h        |    2 +-
 ruamoko/include/gui/Group.h       |    6 +-
 ruamoko/include/gui/InputLine.h   |    2 +-
 ruamoko/include/gui/View.h        |    4 +-
 ruamoko/lib/Array.r               |   14 +-
 ruamoko/lib/AutoreleasePool.r     |    2 +-
 ruamoko/lib/Entity.r              |    2 +-
 ruamoko/lib/Object.r              |    4 +-
 ruamoko/lib/PropertyList.r        |   32 +--
 ruamoko/lib/Protocol.r            |    2 +-
 ruamoko/scheme/BaseContinuation.r |    8 +-
 ruamoko/scheme/Boolean.r          |    4 +-
 ruamoko/scheme/CompiledCode.h     |   14 +-
 ruamoko/scheme/CompiledCode.r     |   12 +-
 ruamoko/scheme/Compiler.h         |   22 +-
 ruamoko/scheme/Compiler.r         |  156 +++++-----
 ruamoko/scheme/Cons.h             |   20 +-
 ruamoko/scheme/Cons.r             |   22 +-
 ruamoko/scheme/Continuation.h     |    2 +-
 ruamoko/scheme/Continuation.r     |    6 +-
 ruamoko/scheme/Error.h            |    4 +-
 ruamoko/scheme/Error.r            |    4 +-
 ruamoko/scheme/Frame.h            |   14 +-
 ruamoko/scheme/Frame.r            |   10 +-
 ruamoko/scheme/Instruction.h      |    6 +-
 ruamoko/scheme/Instruction.r      |    4 +-
 ruamoko/scheme/Lambda.h           |    8 +-
 ruamoko/scheme/Lambda.r           |    6 +-
 ruamoko/scheme/Lexer.h            |    2 +-
 ruamoko/scheme/Lexer.r            |   10 +-
 ruamoko/scheme/Machine.h          |   24 +-
 ruamoko/scheme/Machine.r          |   70 ++---
 ruamoko/scheme/Nil.r              |    2 +-
 ruamoko/scheme/Parser.h           |    6 +-
 ruamoko/scheme/Parser.r           |   16 +-
 ruamoko/scheme/Primitive.h        |    2 +-
 ruamoko/scheme/Primitive.r        |    4 +-
 ruamoko/scheme/Procedure.h        |    2 +-
 ruamoko/scheme/Procedure.r        |    2 +-
 ruamoko/scheme/SchemeObject.h     |    2 +-
 ruamoko/scheme/SchemeObject.r     |    4 +-
 ruamoko/scheme/Scope.h            |   16 +-
 ruamoko/scheme/Scope.r            |   14 +-
 ruamoko/scheme/Symbol.h           |   12 +-
 ruamoko/scheme/Symbol.r           |   28 +-
 ruamoko/scheme/Void.h             |    2 +-
 ruamoko/scheme/Void.r             |    2 +-
 ruamoko/scheme/builtins.h         |    2 +-
 ruamoko/scheme/builtins.r         |  140 ++++-----
 ruamoko/scheme/state.h            |    8 +-
 tools/qfcc/include/Makefile.am    |    8 +-
 tools/qfcc/include/codespace.h    |   47 +++
 tools/qfcc/include/def.h          |    1 +
 tools/qfcc/include/emit.h         |   12 -
 tools/qfcc/include/expr.h         |    5 +
 tools/qfcc/include/type.h         |   54 +++-
 tools/qfcc/source/Makefile.am     |    6 +-
 tools/qfcc/source/class.c         |   40 +--
 tools/qfcc/source/codespace.c     |   83 ++++++
 tools/qfcc/source/constfold.c     |  398 +++-----------------------
 tools/qfcc/source/def.c           |   14 +-
 tools/qfcc/source/emit.c          |   97 +++----
 tools/qfcc/source/expr.c          |  383 +++++++++++++------------
 tools/qfcc/source/function.c      |   63 +++--
 tools/qfcc/source/idstuff.c       |    2 +-
 tools/qfcc/source/immediate.c     |    7 +-
 tools/qfcc/source/linker.c        |    6 +-
 tools/qfcc/source/method.c        |   39 ++-
 tools/qfcc/source/obj_file.c      |    6 +-
 tools/qfcc/source/qc-lex.l        |    2 +-
 tools/qfcc/source/qfcc.c          |    4 +-
 tools/qfcc/source/qfprogs.c       |    8 -
 tools/qfcc/source/qp-parse.y      |   10 +-
 tools/qfcc/source/reloc.c         |    1 +
 tools/qfcc/source/struct.c        |    5 +-
 tools/qfcc/source/stub.c          |    1 +
 tools/qfcc/source/switch.c        |    6 +-
 tools/qfcc/source/type.c          |  566 ++++++++++++++++++++++---------------
 116 files changed, 1523 insertions(+), 1797 deletions(-)

commit c69ac1f
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jan 8 23:35:46 2011 +0900

    Don't segfault when build_builtin_function detects an error.

 tools/qfcc/source/qc-parse.y |    6 ++++--
 tools/qfcc/source/qp-parse.y |    6 ++++--
 2 files changed, 8 insertions(+), 4 deletions(-)

commit 806d911
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jan 7 08:30:52 2011 +0900

    Support both (* *) and // style comments.

 tools/qfcc/source/qp-lex.l |    4 ++++
 1 file changed, 4 insertions(+)

commit a17e73c
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 6 23:13:18 2011 +0900

    Generate code.
    
    It's now time to work on the revamp of the symbols, trees, etc.

 tools/qfcc/source/qp-parse.y |  252 ++++++++++++++++++++++++++++++++++++++----
 1 file changed, 228 insertions(+), 24 deletions(-)

commit e34f7ca
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 6 21:55:07 2011 +0900

    Use op instead of integer_val for ADDOP etc.

 tools/qfcc/source/qp-lex.l   |    2 +-
 tools/qfcc/source/qp-parse.y |    4 ++--
 2 files changed, 3 insertions(+), 3 deletions(-)

commit edaa623
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 6 20:27:32 2011 +0900

    Get functions/procedures emitted.
    
    No actual code is emitted, though.

 tools/qfcc/source/qp-parse.y |  101 ++++++++++++++++++++++++++++++++++++++----
 1 file changed, 93 insertions(+), 8 deletions(-)

commit 7401657
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 6 20:24:59 2011 +0900

    Need frame grabbing after all.

 tools/qfcc/source/qp-lex.l |   18 ++++++++++++++++--
 1 file changed, 16 insertions(+), 2 deletions(-)

commit 129a360
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 6 20:24:06 2011 +0900

    Fix a typo that broke procedure declarations.

 tools/qfcc/source/qp-lex.l |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 7971b08
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 6 20:22:30 2011 +0900

    Break out the begin_function code into its own function.

 tools/qfcc/include/function.h |    2 ++
 tools/qfcc/source/function.c  |   26 ++++++++++++++++++++++++++
 tools/qfcc/source/qc-parse.y  |   30 +++++++-----------------------
 3 files changed, 35 insertions(+), 23 deletions(-)

commit c5d0acf
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 6 20:21:20 2011 +0900

    Allow arrays to have ranges (not fully implmented)

 tools/qfcc/include/type.h |    2 ++
 tools/qfcc/source/type.c  |   13 +++++++++++++
 2 files changed, 15 insertions(+)

commit 25c36a5
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 6 18:48:54 2011 +0900

    -f and -F were reversed in the usage.

 tools/qfcc/source/qfprogs.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit fed8246
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 6 16:32:53 2011 +0900

    The first stages of Quake-Pascal.
    
    At present, this parses a subset of the pascal language with a few type
    extensions. There is already work on the type system.

 tools/qfcc/source/Makefile.am |   15 ++-
 tools/qfcc/source/qp-lex.l    |  242 +++++++++++++++++++++++++++++++++++++
 tools/qfcc/source/qp-parse.y  |  268 +++++++++++++++++++++++++++++++++++++++++
 3 files changed, 521 insertions(+), 4 deletions(-)

commit ae4ca52
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 6 16:31:44 2011 +0900

    Make function.h more independent.

 tools/qfcc/include/function.h |    3 +++
 1 file changed, 3 insertions(+)

commit 66ac560
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 6 16:30:25 2011 +0900

    Break out the frame macro code from qc-lex.l

 tools/qfcc/include/grab.h     |   41 ++++++++++++
 tools/qfcc/source/Makefile.am |    7 +-
 tools/qfcc/source/grab.c      |  148 +++++++++++++++++++++++++++++++++++++++++
 tools/qfcc/source/qc-lex.l    |  135 ++++++-------------------------------
 4 files changed, 214 insertions(+), 117 deletions(-)

commit 2b539ee
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 6 15:17:49 2011 +0900

    Add include for stdlib.h
    
    This is needed for size_t when hash.h is the first file included.

 include/QF/hash.h |    1 +
 1 file changed, 1 insertion(+)

commit a09f02d
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 6 14:57:40 2011 +0900

    Break out the debug and string functions from qc-lex.l.

 tools/qfcc/include/debug.h |    3 +
 tools/qfcc/include/qfcc.h  |    2 +
 tools/qfcc/source/debug.c  |   66 ++++++++++++
 tools/qfcc/source/qc-lex.l |  250 +-------------------------------------------
 tools/qfcc/source/qfcc.c   |  182 ++++++++++++++++++++++++++++++++
 5 files changed, 255 insertions(+), 248 deletions(-)

commit 695f71e
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 6 09:23:46 2011 +0900

    Get clost to the look I wanted for symtab_flat_copy's graph.

 tools/qfcc/include/symtab.h |   18 +++++++++---------
 1 file changed, 9 insertions(+), 9 deletions(-)

commit 782a4c9
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 5 19:09:49 2011 +0900

    New symbol table code.

 tools/qfcc/include/Makefile.am |    2 +-
 tools/qfcc/include/symtab.h    |  199 ++++++++++++++++++++++++++++++++++++++++
 tools/qfcc/source/Makefile.am  |    3 +-
 tools/qfcc/source/symtab.c     |  155 +++++++++++++++++++++++++++++++
 4 files changed, 357 insertions(+), 2 deletions(-)

commit d764ef8
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Sun Jan 9 04:34:35 2011 -0500

    write "color" PCX files (stupid bug)

 include/QF/pcx.h |    2 +-
 libs/image/pcx.c |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit dfbbda3
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Sun Jan 9 04:33:51 2011 -0500

    New tool: qflmp
    
    Stupid little lump tool, converts from lmp to pcx and back.
    
    qflmp -h for help.

 config.d/ac_config_files.m4 |    1 +
 config.d/build_control.m4   |   11 +-
 tools/Makefile.am           |    2 +-
 tools/qflmp/Makefile.am     |   26 +++
 tools/qflmp/lmp.c           |  437 +++++++++++++++++++++++++++++++++++++++++++
 tools/qflmp/lmp.h           |  197 +++++++++++++++++++
 6 files changed, 672 insertions(+), 2 deletions(-)

commit 68b5db8
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Sun Jan 9 04:06:50 2011 -0500

    Document PCX read/write functions & struct

 include/QF/pcx.h |   51 ++++++++++++++++++++++++++++++++++++++-------------
 libs/image/pcx.c |    2 +-
 2 files changed, 39 insertions(+), 14 deletions(-)

commit 4090674
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Sun Jan 9 04:05:57 2011 -0500

    LoadPCX(): Turn convert argument into a qboolean.

 include/QF/pcx.h |    2 +-
 libs/image/pcx.c |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit af8c1e4
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Sun Jan 9 03:06:25 2011 -0500

    Enable RLE coding for PCX output
    
    Pulled from DarkPlaces's lmp2pcx tool, which I have just been made aware
    of.

 libs/image/pcx.c |   19 ++++++++++++-------
 1 file changed, 12 insertions(+), 7 deletions(-)

commit e819ea3
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Sun Jan 9 00:55:40 2011 -0500

    QFimage: Don't use qfs_filesize when loading images
    
    Use Qfilesize() to get the size of a read file, don't count on quakefs's
    global qfs_filesize variable pointing at the right file.

 libs/image/pcx.c |   11 ++++++-----
 libs/image/tga.c |    7 ++++---
 2 files changed, 10 insertions(+), 8 deletions(-)

commit fbdbcfa
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 5 13:10:57 2011 +0900

    Remove deprecated @argc and @argv

 tools/qfcc/source/qc-lex.l   |    2 --
 tools/qfcc/source/qc-parse.y |   21 +--------------------
 2 files changed, 1 insertion(+), 22 deletions(-)

commit a834bff
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 4 22:25:26 2011 +0900

    Get the Makefile find command right for boostrap clean.

 bootstrap |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a85c071
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 4 21:21:19 2011 +0900

    Nuke libQFbuiltins.
    
    The gib and "common" builtins are now part of libQFruamoko.

 config.d/ac_config_files.m4        |    1 -
 config.d/build_control.m4          |    2 +-
 libs/console/Makefile.am           |    2 +-
 libs/gamecode/Makefile.am          |    2 +-
 libs/gamecode/builtins/Makefile.am |   10 -
 libs/gamecode/builtins/bi_gib.c    |  201 -----------
 libs/gamecode/builtins/pr_cmds.c   |  672 ------------------------------------
 libs/ruamoko/Makefile.am           |    3 +-
 libs/ruamoko/bi_gib.c              |  201 +++++++++++
 libs/ruamoko/pr_cmds.c             |  672 ++++++++++++++++++++++++++++++++++++
 nq/source/Makefile.am              |    1 -
 qw/source/Makefile.am              |    2 -
 12 files changed, 878 insertions(+), 891 deletions(-)

commit a27ea05
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 3 18:11:46 2011 +0900

    Add a test for calling class methods.

 tools/qfcc/test/class-method.r |   30 ++++++++++++++++++++++++++++++
 1 file changed, 30 insertions(+)

commit 02f78e4
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 3 16:19:05 2011 +0900

    More expression docs.

 tools/qfcc/include/expr.h |   21 ++++++++++++++++-----
 tools/qfcc/source/expr.c  |    6 ++++++
 2 files changed, 22 insertions(+), 5 deletions(-)

commit 5627e43
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Dec 31 18:26:42 2010 +0900

    Use the method's selector rather than its def name in error messages.

 tools/qfcc/include/function.h |    3 ++-
 tools/qfcc/include/method.h   |    1 +
 tools/qfcc/source/class.c     |    2 +-
 tools/qfcc/source/expr.c      |    2 +-
 tools/qfcc/source/function.c  |    6 ++++--
 tools/qfcc/source/method.c    |    6 ++++++
 tools/qfcc/source/qc-parse.y  |   27 ++++++++++++++++-----------
 7 files changed, 31 insertions(+), 16 deletions(-)

commit a1f36a9
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Dec 31 17:28:46 2010 +0900

    Make new_function take a def rather than a name.
    
    Moves into new_function some code that should have been there in the first
    place.

 tools/qfcc/include/function.h |    2 +-
 tools/qfcc/source/class.c     |    3 +--
 tools/qfcc/source/function.c  |    8 ++++----
 tools/qfcc/source/qc-parse.y  |    5 ++---
 4 files changed, 8 insertions(+), 10 deletions(-)

commit 4c69a97
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Dec 31 16:06:54 2010 +0900

    Allow normal declarations within a class implementation.
    
    I had always been under the assumption that such was illegal in
    Objective-C, but after working on Forge, I now know otherwise.

 tools/qfcc/source/qc-parse.y |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit dc5bafb
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Dec 31 16:01:09 2010 +0900

    Minimal error recovery.
    
    No more bailing on the first syntax error. While the recovery is not
    perfect (things can get right twisted), qfcc will now continue parsing
    after a syntax error.

 tools/qfcc/source/qc-parse.y |    4 ++++
 1 file changed, 4 insertions(+)

commit a4635d7
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Dec 31 15:56:31 2010 +0900

    Slightly more informative error locations.
    
    Inside a class or protocol definition is not "at top level" ;)

 tools/qfcc/source/expr.c     |    3 +++
 tools/qfcc/source/qc-parse.y |    5 ++++-
 2 files changed, 7 insertions(+), 1 deletion(-)

commit 530e8fa
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Dec 31 15:44:54 2010 +0900

    Rework class_type_t to be more useful.
    
    This allows current_class to refer to procols as well (for error
    reporting).

 tools/qfcc/include/class.h |   12 +-
 tools/qfcc/source/class.c  |  313 +++++++++++++++++++++++++++-----------------
 tools/qfcc/source/expr.c   |   17 +--
 tools/qfcc/source/method.c |   11 +-
 4 files changed, 212 insertions(+), 141 deletions(-)

commit f738ef5
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 30 16:05:50 2010 +0900

    Remove redundant RETURN statement rule.
    
    The same effect can be achieved with one rule using opt_expr.

 tools/qfcc/source/qc-parse.y |    6 +-----
 1 file changed, 1 insertion(+), 5 deletions(-)

commit 5804271
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 30 16:05:06 2010 +0900

    A little more documentation for expressions.

 tools/qfcc/include/expr.h |   65 +++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 65 insertions(+)

commit 526564b
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 29 17:38:54 2010 +0900

    New default plugin directory.
    
    Change the default plugin directory from ${libdir}/quakeforge to
    ${libdir}/quakeforge/plugins as this seems to be fairly standard.

 config.d/paths.m4 |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 999252c
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Thu Dec 30 07:15:22 2010 -0500

    Fix the same (ancient!) bug in ipv4 code...
    
    Don't read the address of the peer until we know we've actually read
    a packet.

 libs/net/nc/net_udp.c |    5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

commit e6b7560
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Thu Dec 30 06:39:04 2010 -0500

    Debian: enable ipv6 by default

 debian/rules |    1 +
 1 file changed, 1 insertion(+)

commit 1b23c47
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Thu Dec 30 06:38:20 2010 -0500

    Fix unknown family msgs
    
    Found the source of all the bogus "unknown address family" messages --
    reading the returned address of an errored read. D'oh!

 libs/net/nc/net_udp6.c |    9 +++++----
 1 file changed, 5 insertions(+), 4 deletions(-)

commit 9e05753
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Thu Dec 30 05:01:58 2010 -0500

    Net debugging
    
    Add a SYS_NET developer mask for debugging network, and use it.

 include/QF/sys.h       |    1 +
 libs/net/nc/net_udp6.c |    8 +++++---
 2 files changed, 6 insertions(+), 3 deletions(-)

commit e96cbbd
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Thu Dec 30 04:58:49 2010 -0500

    Captain Whitespace(tm) is back.
    
    Don't judge me... :)

 libs/net/nc/net_udp6.c |   31 ++++++++++++-------------------
 1 file changed, 12 insertions(+), 19 deletions(-)

commit 5cfce58
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Thu Dec 30 04:46:44 2010 -0500

    ipv4 formatting changes
    
    IPv4 addresses should be formatted identically to how we're used to seeing
    them, without the brackets that denote an IPv6 address and separate it from
    the port specification.

 libs/net/nc/net_udp6.c |   55 ++++++++++++++++++++++++++++++++++++++++++------
 1 file changed, 49 insertions(+), 6 deletions(-)

commit e7462d0
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Thu Dec 30 04:34:15 2010 -0500

    Call freeaddrinfo() when done with the address info.

 libs/net/nc/net_udp6.c |    1 +
 1 file changed, 1 insertion(+)

commit e89fb3a
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Thu Dec 30 04:30:16 2010 -0500

    Nuke a structure I didn't need.

 libs/net/nc/net_udp6.c |    6 ------
 1 file changed, 6 deletions(-)

commit 0a21f6a
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Thu Dec 30 03:43:46 2010 -0500

    Move a comment where it belongs

 libs/net/nc/net_udp6.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 87dd61a
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Thu Dec 30 03:42:22 2010 -0500

    Fix IPv4 interaction
    
    Can now talk to IPv4 hosts again.

 libs/net/nc/net_udp6.c |   12 +++++-------
 1 file changed, 5 insertions(+), 7 deletions(-)

commit 878a9cf
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Wed Dec 29 07:47:15 2010 -0500

    ipv6: builds and works now, still can't interact with ipv4 clients/servers

 libs/net/nc/net_udp6.c |   64 ++++++++++++++++--------------------------------
 1 file changed, 21 insertions(+), 43 deletions(-)

commit fdb4d88
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Wed Dec 29 06:58:14 2010 -0500

    ipv6: start cleaning up strict-aliasing problems.

 libs/net/nc/net_udp6.c |   69 +++++++++++++++++++++++++++++++++++++++---------
 1 file changed, 57 insertions(+), 12 deletions(-)

commit cdf5ef2
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Wed Dec 29 06:36:43 2010 -0500

    ipv6: Fix glibc defines

 libs/net/nc/net_udp6.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit ec11282
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Tue Dec 28 15:03:58 2010 -0500

    fix worldspawn sky keys in NQ.
    
    sky/skyname/qlsky rather than sky/skyname/skyname :)

 nq/source/cl_parse.c |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 9f596df
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Tue Dec 28 15:02:56 2010 -0500

    QW skybox handling
    
    Since we clip the world properly even with skyboxes active, and the
    'skybox' serverinfo doesn't do anything in any other engine I know of,
    nuke the 'skybox' serverinfo entirely and use a nice short semi-standard
    name ("sky") for the serverinfo containing the map's preferred skybox
    (as potentially modified by the .ent file on the server).

 qw/source/cl_main.c  |    3 ++-
 qw/source/sv_progs.c |   13 +++++--------
 2 files changed, 7 insertions(+), 9 deletions(-)

commit 8394b12
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Tue Dec 28 14:57:43 2010 -0500

    ignore the qwtv eps/png files.

 .gitignore |    2 ++
 1 file changed, 2 insertions(+)

commit 3090a64
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Dec 28 10:28:46 2010 +0900

    Use the correct param for the full_new path.
    
    This fixes the broken downloads.
    
    *taniwha dons a brown paper bag.

 libs/util/quakefs.c |    6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit 6e18c3d
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Dec 28 09:08:51 2010 +0900

    Make qfs developer prints a little more controllable.

 include/QF/sys.h    |    9 ++++++---
 libs/util/quakefs.c |   38 +++++++++++++++++++-------------------
 2 files changed, 25 insertions(+), 22 deletions(-)

commit 7946fec
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Dec 28 07:42:08 2010 +0900

    More cString cleanups.
    
    I don't know that fileSystemRepresentation is any better than cString for
    general usage (due to wchar on windows).

 tools/Forge/Bundles/MapEdit/EntityClass.m |    4 +++-
 tools/Forge/Bundles/MapEdit/Map.m         |    2 +-
 tools/Forge/Bundles/MapEdit/QuakeEd.m     |    7 +++++--
 3 files changed, 9 insertions(+), 4 deletions(-)

commit d29e8de
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Dec 27 12:11:07 2010 +0900

    Use Qprintf for writing maps, and fileSystemRepresentation to get the path.

 tools/Forge/Bundles/MapEdit/Entity.h   |    3 ++-
 tools/Forge/Bundles/MapEdit/Entity.m   |   10 +++++-----
 tools/Forge/Bundles/MapEdit/Map.h      |    2 +-
 tools/Forge/Bundles/MapEdit/Map.m      |   22 +++++++++++++---------
 tools/Forge/Bundles/MapEdit/QuakeEd.m  |    8 ++++----
 tools/Forge/Bundles/MapEdit/SetBrush.h |    3 ++-
 tools/Forge/Bundles/MapEdit/SetBrush.m |   15 +++++----------
 7 files changed, 32 insertions(+), 31 deletions(-)

commit dc99bc1
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Dec 27 23:12:46 2010 +0900

    Make sure the r_skyname serverinfo key gets cleared on map change.
    
    This ensures that the map's sky is always used unless the client itself has
    set its r_skyname cvar.  The server's r_skyname cvar is now the default
    name for the skybox for when the map does not specify one. The map's sky
    worldspawn field overrides this. The r_skyname cvar is no longer a
    serverinfo cvar.

 qw/source/cl_main.c  |    5 ++---
 qw/source/sv_progs.c |   12 ++++++++----
 2 files changed, 10 insertions(+), 7 deletions(-)

commit 1f0851c
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Dec 27 10:31:54 2010 +0900

    Fix QFS_FilelistFill for pak files.
    
    Forgot to ensure the path separator was included in the fnmatch param. This
    fixes the broken *list commands.

 libs/util/quakefs.c |    9 +++++----
 1 file changed, 5 insertions(+), 4 deletions(-)

commit fd96376
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Dec 27 10:03:37 2010 +0900

    Forget skybox, it's r_skyname we want.
    
    skybox has been irrelevent since I did that zclip hack for
    skyboxes/skydome.

 qw/source/cl_main.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit fdd59b9
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Dec 27 09:34:24 2010 +0900

    Support entity files in the client too.
    
    I'd forgotten about .ent files when I wrote the client side map parsing
    (fog/sky) support.

 nq/source/cl_parse.c |   24 +++++++++++++++++++++---
 1 file changed, 21 insertions(+), 3 deletions(-)

commit 97e8ab7
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Dec 26 22:33:04 2010 +0900

    A bunch more NSString and NSFileManager usage.
    
    It does make for cleaner could, though it would have been nice if NSData
    was null terminated :P

 tools/Forge/Bundles/MapEdit/Dict.h        |    2 +-
 tools/Forge/Bundles/MapEdit/Dict.m        |   22 ++++++++--------------
 tools/Forge/Bundles/MapEdit/EntityClass.m |   18 +++++++-----------
 tools/Forge/Bundles/MapEdit/Map.h         |    2 +-
 tools/Forge/Bundles/MapEdit/Map.m         |   19 ++++++++++---------
 tools/Forge/Bundles/MapEdit/Project.h     |    2 --
 tools/Forge/Bundles/MapEdit/Project.m     |   16 ++++++----------
 tools/Forge/Bundles/MapEdit/QuakeEd.m     |   10 ++++------
 tools/Forge/Bundles/MapEdit/XYView.m      |    9 ++-------
 tools/Forge/Bundles/MapEdit/ZView.m       |    5 +----
 10 files changed, 40 insertions(+), 65 deletions(-)

commit 8e13a83
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Dec 26 21:07:55 2010 +0900

    Use NSFileManager methods instead of access().
    
    This even fixes a bug where an inaccessible bspSound was being opened.

 tools/Forge/Bundles/MapEdit/Preferences.m |    4 ++--
 tools/Forge/Bundles/MapEdit/Project.m     |    3 ++-
 2 files changed, 4 insertions(+), 3 deletions(-)

commit f105fbd
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Dec 26 20:36:47 2010 +0900

    Use NS* classes for QUAKED directory scanning.
    
    The scanning of actual files is still done using normal C strings, but now
    everything up to (but not including) opening the file is handled by *step.

 tools/Forge/Bundles/MapEdit/EntityClass.h |    4 +--
 tools/Forge/Bundles/MapEdit/EntityClass.m |   38 ++++++++++++++++-------------
 tools/Forge/Bundles/MapEdit/Things.m      |    4 +--
 3 files changed, 25 insertions(+), 21 deletions(-)

commit 232c676
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Dec 26 19:06:39 2010 +0900

    Get the QUAKED text for nullclass right.
    
    ? is not a character that's lexed out by the script class.
    This fixes the segfault when loading a map when no entities are defined
    (ie, the mod's source code could not be found for QUAKED).

 tools/Forge/Bundles/MapEdit/EntityClass.m |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 70783e4
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Dec 25 20:31:14 2010 +0900

    Disable all sound calls if jack could not be contacted.
    
    This fixes the file handle leak when jack is unavailable.

 libs/audio/renderer/snd_jack.c |   89 ++++++++++++++++++++++++++++++++++++----
 1 file changed, 82 insertions(+), 7 deletions(-)

commit 90fcbef
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Dec 25 19:53:09 2010 +0900

    Don't use entity_t's next for linking static enitities.

 include/QF/render.h  |    1 +
 qw/source/cl_demo.c  |    2 +-
 qw/source/cl_parse.c |    2 +-
 3 files changed, 3 insertions(+), 2 deletions(-)

commit 14480fd
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Dec 25 19:47:31 2010 +0900

    Move the call to R_ClearEnts to the renderer.
    
    This fixes the hang on certain maps in qw-client.

 libs/video/renderer/gl/gl_rmain.c     |    2 +-
 libs/video/renderer/sw/sw_rmisc.c     |    2 +-
 libs/video/renderer/sw32/sw32_rmisc.c |    2 +-
 nq/source/cl_main.c                   |    2 --
 qw/source/cl_ents.c                   |    1 -
 qw/source/cl_main.c                   |    1 -
 6 files changed, 3 insertions(+), 7 deletions(-)

commit e65d1a7
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Dec 25 18:49:08 2010 +0900

    Remove a redundant assignment.

 libs/video/renderer/r_efrag.c |    3 ---
 1 file changed, 3 deletions(-)

commit 9defba8
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Sat Dec 25 04:45:39 2010 -0500

    Get rid of plugin versioning (again).
    
    automake needs -avoid-version to be in Makefile.am, otherwise it doesn't
    make libtool do the right thing...or something. My head hurts. ;)

 config.d/build_control.m4       |    4 ++--
 libs/audio/Makefile.am          |    3 +--
 libs/audio/renderer/Makefile.am |    3 +--
 libs/audio/targets/Makefile.am  |    3 +--
 libs/console/Makefile.am        |    3 +--
 5 files changed, 6 insertions(+), 10 deletions(-)

commit 7161000
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Sat Dec 25 02:32:44 2010 -0500

    Stop running ldconfig so damn much.
    
    Also, more nuked files -- and see, I remembered there's a makefile in
    this dir... :)

 debian/Makefile.am                     |   34 ++++++++++++++++++--------------
 debian/quakeforge-alsa.postinst        |    1 -
 debian/quakeforge-alsa.prerm           |    1 -
 debian/quakeforge-common.postinst      |    5 -----
 debian/quakeforge-glx.undocumented     |    2 --
 debian/quakeforge-libs-gl.postinst     |    9 ---------
 debian/quakeforge-libs-sw.postinst     |    9 ---------
 debian/quakeforge-oss.postinst         |    1 -
 debian/quakeforge-oss.prerm            |    1 -
 debian/quakeforge-sdl.undocumented     |    2 --
 debian/quakeforge-servers.undocumented |    3 ---
 debian/quakeforge-sgl.undocumented     |    2 --
 debian/quakeforge-stub.postinst        |    1 -
 debian/quakeforge-svga.suid            |    1 -
 debian/quakeforge-svga.undocumented    |    2 --
 debian/quakeforge-x11.undocumented     |    2 --
 16 files changed, 19 insertions(+), 57 deletions(-)

commit dea8f54
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Dec 25 14:04:17 2010 +0900

    Fix for make dist.

 debian/Makefile.am |   32 ++++++++++++++++----------------
 1 file changed, 16 insertions(+), 16 deletions(-)

commit 485bff6
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Fri Dec 24 17:12:58 2010 -0500

    Clean up lintian warnings/errors
    
    After this, should mostly be sonames and no-man-pages problems.

 debian/changelog                 |    7 +++++++
 debian/copyright                 |   12 +++++++-----
 debian/quakeforge-alsa.prerm     |    2 +-
 debian/quakeforge-common.postrm  |   17 -----------------
 debian/quakeforge-libs-gl.postrm |   17 -----------------
 debian/quakeforge-libs-sw.postrm |   17 -----------------
 debian/quakeforge-oss.prerm      |    2 +-
 debian/rules                     |    3 +--
 8 files changed, 17 insertions(+), 60 deletions(-)

commit 8653f9d
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Fri Dec 24 16:23:52 2010 -0500

    Add a man page for zpak
    
    It's lame, but so is zpak :)

 RPM/quakeforge.spec.in          |    1 +
 debian/quakeforge-utils.install |    1 +
 tools/pak/Makefile.am           |    4 +--
 tools/pak/zpak.1                |   57 +++++++++++++++++++++++++++++++++++++++
 4 files changed, 61 insertions(+), 2 deletions(-)

commit b874c28
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Fri Dec 24 15:49:45 2010 -0500

    debian: fill out control
    
    Clean up some lintian warnings, move some packages into more appropriate
    sections.

 debian/control |   58 +++++++++++++++++++++++++++++++-------------------------
 1 file changed, 32 insertions(+), 26 deletions(-)

commit e1843f6
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Fri Dec 24 15:47:55 2010 -0500

    debian: Don't do make .shlibs for plugins

 debian/rules |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit af8e202
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Fri Dec 24 13:55:26 2010 -0500

    Tweak Debian package build
    
    dh_strip -Xqfcc causes qfcc itself to not get stripped -- explicitly
    disallow stripping of only lib/qfcc
    
    Also, disable Werror in debian builds and make sure quakeforge-stub looks
    in the same place the engine will.

 debian/quakeforge-stub.postinst |    8 ++++----
 debian/rules                    |    3 ++-
 2 files changed, 6 insertions(+), 5 deletions(-)

commit 42ba169
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Fri Dec 24 13:52:07 2010 -0500

    tell dpkg-source we're using source format 1.0

 debian/source/format |    1 +
 1 file changed, 1 insertion(+)

commit 3f5f085
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Fri Dec 24 13:51:43 2010 -0500

    Set up (almost) the right dependencies.
    
    add DGA / vidmode dev packages, libcurl-dev (may need to pick one explicitly though)

 debian/control |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 526f132
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Dec 24 20:08:24 2010 +0900

    Minor tweaks.

 tools/build_scripts/qf-build |    9 +++++++--
 1 file changed, 7 insertions(+), 2 deletions(-)

commit 22072ee
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Dec 24 19:51:07 2010 +0900

    Update for the new qfcc headers/libs location.

 RPM/quakeforge.spec.in          |    4 ++--
 debian/qfcc.install             |    3 +--
 debian/rules                    |    2 +-
 tools/build_scripts/qf-win32.py |    3 +--
 4 files changed, 5 insertions(+), 7 deletions(-)

commit 07163e7
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Dec 24 19:48:31 2010 +0900

    Fix for make dist.

 debian/Makefile.am |   31 ++++++++++++++++---------------
 1 file changed, 16 insertions(+), 15 deletions(-)

commit c5edbf1
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Dec 24 19:39:12 2010 +0900

    Move ruamoko libs and headers into ${prefix}/lib/qfcc

 config.d/qfcc.m4            |    8 ++++----
 pkg-config/qfcc.pc.in       |    4 ++--
 ruamoko/gui/Makefile.am     |    2 +-
 ruamoko/include/Makefile.am |    2 +-
 ruamoko/lib/Makefile.am     |    2 +-
 ruamoko/scheme/Makefile.am  |    2 +-
 6 files changed, 10 insertions(+), 10 deletions(-)

commit b184739
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Fri Dec 24 05:09:14 2010 -0500

    Use qfcc's new unsigned constant qualifier for UINT_MAX

 ruamoko/include/runtime.h |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d2a093a
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Fri Dec 24 05:08:29 2010 -0500

    Debian updates
    
    debhelper changed a lot... :)

 .gitignore                         |    3 +
 debian/changelog                   |    6 ++
 debian/control                     |   35 ++++----
 debian/qfcc.install                |    7 ++
 debian/quakeforge-alsa.install     |    1 +
 debian/quakeforge-common.install   |   18 ++++
 debian/quakeforge-common.shlibs    |   11 ---
 debian/quakeforge-dev.install      |   26 ++++++
 debian/quakeforge-glx.install      |    2 +
 debian/quakeforge-jack.install     |    1 +
 debian/quakeforge-libs-gl.install  |    2 +
 debian/quakeforge-libs-gl.shlibs   |    2 -
 debian/quakeforge-libs-sw.install  |    2 +
 debian/quakeforge-libs-sw.shlibs   |    2 -
 debian/quakeforge-maptools.install |    5 ++
 debian/quakeforge-oss.install      |    1 +
 debian/quakeforge-sdl.install      |    4 +
 debian/quakeforge-servers.install  |    4 +
 debian/quakeforge-sgl.install      |    2 +
 debian/quakeforge-utils.install    |    6 ++
 debian/quakeforge-x11.install      |    2 +
 debian/rules                       |  162 +++++++++++-------------------------
 22 files changed, 162 insertions(+), 142 deletions(-)

commit bbc8154
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Fri Dec 24 02:35:21 2010 -0500

    joystick fixes
    
    Make /dev/input/js0 the default joy_device, and temporarily bump max
    buttons to 18 (until I kill the maximums entirely)

 include/QF/joystick.h    |    2 +-
 libs/video/targets/joy.c |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 493466a
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Fri Dec 24 01:42:25 2010 -0500

    X targets don't need X_PRE_LIBS

 nq/source/Makefile.am |    4 ++--
 qw/source/Makefile.am |    4 ++--
 2 files changed, 4 insertions(+), 4 deletions(-)

commit 02068f7
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Fri Dec 24 01:38:39 2010 -0500

    Don't override a pre-set CFLAGS
    
    Debian has optimization/debug requirements, so allow dpkg-buildpackage to
    set CFLAGS and have it be respected.

 config.d/compiling.m4 |   14 ++++++++++++--
 1 file changed, 12 insertions(+), 2 deletions(-)

commit 81d927c
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Fri Dec 24 01:34:54 2010 -0500

    rename Runtime.h -- it's not a class.

 ruamoko/include/Array.h     |    4 +--
 ruamoko/include/Makefile.am |    4 +--
 ruamoko/include/Object.h    |    2 +-
 ruamoko/include/Runtime.h   |   77 -------------------------------------------
 ruamoko/include/runtime.h   |   77 +++++++++++++++++++++++++++++++++++++++++++
 ruamoko/lib/Array.r         |    2 +-
 6 files changed, 83 insertions(+), 83 deletions(-)

commit 1a76784
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Dec 24 17:35:33 2010 +0900

    Sort the options in the switch.
    
    Should make finding them a little easier.

 tools/qfcc/source/qfprogs.c |   28 ++++++++++++++--------------
 1 file changed, 14 insertions(+), 14 deletions(-)

commit d6b3d48
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Dec 24 17:33:57 2010 +0900

    Finally, help output for qfprogs.
    
    Nothing great, but better than nothing.

 tools/qfcc/source/qfprogs.c |   50 ++++++++++++++++++++++++++++++++-----------
 1 file changed, 38 insertions(+), 12 deletions(-)

commit ce64227
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Dec 24 17:33:09 2010 +0900

    Fix for debian wildmidi.
    
    This might break lenny :/

 libs/audio/renderer/midi.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f4d8b82
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Dec 24 17:08:48 2010 +0900

    Rearrange the options into alpha order.

 tools/qfcc/source/qfprogs.c |   26 ++++++++++++++++++++------
 1 file changed, 20 insertions(+), 6 deletions(-)

commit 51b98ee
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Dec 24 10:54:16 2010 +0900

    Correct some errors.

 tools/build_scripts/qf-win32.py |   12 ++++++------
 1 file changed, 6 insertions(+), 6 deletions(-)

commit 33e9fbb
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Dec 24 10:41:09 2010 +0900

    Win32 packaging improvements.

 tools/build_scripts/qf-release  |    6 ++--
 tools/build_scripts/qf-win32.py |   61 +++++++++++++++++++++++++++------------
 2 files changed, 47 insertions(+), 20 deletions(-)

commit a57717e
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Dec 24 09:51:07 2010 +0900

    Update my release script.

 tools/build_scripts/qf-release |   42 +++++++++++++++++++++-------------------
 1 file changed, 22 insertions(+), 20 deletions(-)

commit 732745c
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Dec 24 08:32:17 2010 +0900

    Get the zip dist targets working.
    
    The icon had changed names and a new icon was added. zip didn't appreciate
    that.

 Makefile.am |    9 ++++++---
 1 file changed, 6 insertions(+), 3 deletions(-)

commit 28740bb
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 23 19:32:28 2010 +0900

    Add unsigned integer constant support.

 tools/qfcc/source/qc-lex.l   |   27 ++++++++++++++++++---------
 tools/qfcc/source/qc-parse.y |    3 +++
 2 files changed, 21 insertions(+), 9 deletions(-)

commit 7934e29
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 23 16:51:02 2010 +0900

    Fix up my big build script.

 tools/build_scripts/qf-build |   42 +++++++++++++++++++++++++-----------------
 1 file changed, 25 insertions(+), 17 deletions(-)

commit 99e8ef6
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 23 16:48:40 2010 +0900

    Distribute and use bootstrap.
    
    deb building relies on boostrap now (mostly to ensure there's no messy
    autoconf files).

 Makefile.am  |    2 +-
 debian/rules |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 54ebf64
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 23 16:17:50 2010 +0900

    Forgot to remove rpmrc (no longer needed)

 RPM/Makefile.am |    4 ++--
 RPM/rpmrc       |    1 -
 2 files changed, 2 insertions(+), 3 deletions(-)

commit a5e5df7
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 23 15:56:59 2010 +0900

    Get rpms building again.
    
    Need to make packages for jack, qtv and maybe sdl32, but that can wait.

 RPM/build_rpm.in       |   19 +++++++++----------
 RPM/quakeforge.spec.in |   22 +++++++++++-----------
 RPM/rpmrc              |    2 +-
 3 files changed, 21 insertions(+), 22 deletions(-)

commit 906187f
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 23 15:56:03 2010 +0900

    Make sure SND_OUTPUT_DEFAULT is always defined.

 config.d/build_control.m4 |    5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

commit 32f7cd8
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 23 13:18:18 2010 +0900

    Get HTTP support (libcurl) working with mingw.

 m4/libcurl.m4                  |    2 +-
 tools/cross/cross-configure.sh |    6 ++++--
 2 files changed, 5 insertions(+), 3 deletions(-)

commit 2229c75
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 23 11:45:08 2010 +0900

    Update cross-build scripts.
    
    They're hard-coded for my current setup, but easy to fix.

 tools/cross/cross-configure.sh |   12 +++++-------
 tools/cross/cross-make.sh      |    7 ++++---
 2 files changed, 9 insertions(+), 10 deletions(-)

commit de04e1b
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 23 11:40:16 2010 +0900

    Lots of win32 (mingw cross) build fixes.
    
    HTTP (curl) support is missing, but everything else builds.

 include/winquake.h             |    6 ------
 libs/audio/targets/snd_dx.c    |   11 ++++++-----
 libs/audio/targets/snd_win.c   |    7 ++++---
 libs/audio/testsound.c         |    5 +++++
 libs/console/server.c          |   11 +++++++++--
 libs/net/nc/net_udp.c          |    8 ++++++--
 libs/net/nm/net_dgrm.c         |    3 ++-
 libs/net/nm/net_wins.c         |    9 +++++----
 libs/util/bspfile.c            |    7 ++++---
 libs/util/sys.c                |    2 +-
 libs/video/targets/vid_wgl.c   |    5 +++--
 nq/source/sys_sdl.c            |    2 +-
 nq/source/sys_wind.c           |    2 +-
 qtv/source/qtv.c               |    4 ++++
 qw/include/server.h            |    2 +-
 qw/source/cl_sys_sdl.c         |    2 +-
 qw/source/cl_sys_win.c         |    2 +-
 qw/source/master.c             |    4 ++++
 qw/source/sv_main.c            |    8 ++++----
 qw/source/sv_qtv.c             |    2 +-
 qw/source/sv_sys_win.c         |    2 +-
 tools/qflight/source/qflight.c |    2 +-
 tools/qfvis/source/qfvis.c     |    6 +++---
 23 files changed, 68 insertions(+), 44 deletions(-)

commit 17b37e9
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 23 11:38:00 2010 +0900

    Remove some no longer necessary evil hacks.

 config.d/windows.m4 |    6 ------
 1 file changed, 6 deletions(-)

commit 8a96e91
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 23 11:36:58 2010 +0900

    Fix -lpthread vs -pthread detection.
    
    -lpthread needs to be in LIBS, not LDFLAGS

 config.d/pthread.m4 |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 0173ba0
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 23 09:47:05 2010 +0900

    Prefer int over long for (u)int32_t.
    
    WHen int and long are the same size, it feels better to use int. More
    importantly, it keeps things simple for linux builds vs mingw builds.

 include/pstdint.h |   32 ++++++++++++++++----------------
 1 file changed, 16 insertions(+), 16 deletions(-)

commit 29adc2e
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 23 09:43:34 2010 +0900

    Add a todo item.
    
    I'd forgotten I wanted to do playback, but was reminded by OneManClan when
    he asked about it in a general sense.

 doc/qtv.txt |    1 +
 1 file changed, 1 insertion(+)

commit 75f2102
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 22 13:10:27 2010 +0900

    Do the incoming/outgoing sequence checks before doing anything.
    
    This fixes the bogus ping times found while checking out klik with qqshka.

 qw/source/sv_user.c |   17 ++++++++++-------
 1 file changed, 10 insertions(+), 7 deletions(-)

commit 087fe00
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 22 08:56:32 2010 +0900

    Add the need to check client delta updates.

 doc/qtv.txt |    1 +
 1 file changed, 1 insertion(+)

commit 676e9a2
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Dec 21 18:15:31 2010 +0900

    Add some info to the qtv status bar.
    
    For now, server and client counts.

 qtv/include/client.h   |    2 ++
 qtv/include/qtv.h      |    3 ++
 qtv/include/server.h   |    2 ++
 qtv/source/Makefile.am |    2 +-
 qtv/source/client.c    |    3 ++
 qtv/source/qtv.c       |    9 +++++
 qtv/source/sbar.c      |   94 ++++++++++++++++++++++++++++++++++++++++++++++++
 qtv/source/server.c    |    3 ++
 8 files changed, 117 insertions(+), 1 deletion(-)

commit 7853366
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Dec 21 17:15:56 2010 +0900

    Document the server connection commands.

 doc/qtv.txt |   11 +++++++++--
 1 file changed, 9 insertions(+), 2 deletions(-)

commit 9a037c8
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Dec 21 16:44:05 2010 +0900

    Some more qtv docs (mostly overview/status).

 doc/qtv.txt           |   45 +++++++++++++++++++++++++++++++++++++++++++++
 doc/quakeforge.dox.in |    1 +
 doc/quakeforge.txt    |    1 +
 qtv/include/qtv.h     |    3 ++-
 4 files changed, 49 insertions(+), 1 deletion(-)

commit 03322f2
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Dec 21 09:44:04 2010 +0900

    Document qtv connection management.

 qtv/include/connection.h |   38 ++++++++++++++++++++++++++++++++++++--
 1 file changed, 36 insertions(+), 2 deletions(-)

commit 1018203
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Dec 21 09:25:17 2010 +0900

    Begin documenting qtv.

 doc/Makefile.am       |    7 +++++--
 doc/quakeforge.dox.in |    1 +
 qtv/include/qtv.h     |   46 ++++++++++++++++++++++++++++++++++++++++++----
 3 files changed, 48 insertions(+), 6 deletions(-)

commit 92714b1
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Dec 21 09:23:59 2010 +0900

    Make some functions static.
    
    They don't need to be public.

 qtv/include/qtv.h |    2 --
 qtv/source/qtv.c  |    4 ++--
 2 files changed, 2 insertions(+), 4 deletions(-)

commit 1b2a5d6
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Dec 21 09:21:30 2010 +0900

    Make documentation of static functions configurable.
    
    Deek doesn't want docs for static functions, but I do. When two developers
    disagree on something like this, there's only one thing to do :)

 configure.ac          |    9 +++++++++
 doc/quakeforge.dox.in |    2 +-
 2 files changed, 10 insertions(+), 1 deletion(-)

commit 98da73a
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Dec 21 09:19:39 2010 +0900

    Move the qtv(qwtv) overview to the common doc directory.

 doc/qtv/qwtv.fig |  433 ++++++++++++++++++++++++++++++++++++++++++++++++++++++
 qtv/doc/qwtv.fig |  433 ------------------------------------------------------
 2 files changed, 433 insertions(+), 433 deletions(-)

commit 0d1d3a9
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Dec 20 21:31:41 2010 +0900

    Make sure HAVE_PNG gets set no matter how png is detected.

 config.d/compression.m4 |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit d272775
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Dec 19 11:35:47 2010 +0900

    Reverse the colors for pre.fragment
    
    This makes verbatime blocks easier on my eyes.

 doc/doxygen.css |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 6c631c6
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Dec 19 11:35:18 2010 +0900

    Start documenting qfcc.

 tools/qfcc/include/expr.h |  427 +++++++++++++++++++++++++++++++++++++--------
 tools/qfcc/include/qfcc.h |   37 +++-
 2 files changed, 393 insertions(+), 71 deletions(-)

commit 52e844e
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Dec 19 11:23:33 2010 +0900

    Produce slightly better v6 modulo code for complex inputs.
    
    I'm having problems with temp defs, but I imagine this code is rarely used
    so I won't worry about it for now. It will, however, make a good test case
    for when I rework emit.c after I do some reading.

 tools/qfcc/source/expr.c |    9 +++++++--
 1 file changed, 7 insertions(+), 2 deletions(-)

commit b90833d
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Dec 19 11:19:23 2010 +0900

    v6 modulo test

 .gitignore               |    4 ++++
 tools/qfcc/test/.gdbinit |    2 ++
 tools/qfcc/test/modulo.r |   38 ++++++++++++++++++++++++++++++++++++++
 3 files changed, 44 insertions(+)

commit fa08e4a
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Dec 19 11:16:04 2010 +0900

    Print users info when dumping statements.

 tools/qfcc/source/emit.c |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit f5706f9
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Dec 19 11:15:13 2010 +0900

    Make control of expression dumping less of a hassle.

 tools/qfcc/source/function.c |   17 ++++++++++++-----
 1 file changed, 12 insertions(+), 5 deletions(-)

commit 889bbd3
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Dec 18 22:19:25 2010 +0900

    Explicitly link testsound against libQFutil.

 libs/audio/Makefile.am |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d981968
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Dec 18 16:08:35 2010 +0900

    v6 modulo implementation now produces good code.
    
    At least for simple inputs, anyway. That needs to be tested next.

 tools/qfcc/source/expr.c |   25 +++++++++++++++----------
 1 file changed, 15 insertions(+), 10 deletions(-)

commit 00e50c0
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Dec 18 15:22:22 2010 +0900

    Rewrite the v6 modulo implementation.
    
    While trying to understand bind expressions, I discovered that the v6
    modulo code was incorrect. This version is correct but uses one too many
    temps. That's next.

 tools/qfcc/source/expr.c |   24 +++++++++++-------------
 1 file changed, 11 insertions(+), 13 deletions(-)

commit cdb9783
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Thu Dec 16 06:46:59 2010 -0500

    Actually commit the new header...
    
    @#$@$#^%^

 ruamoko/include/Runtime.h |   77 +++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 77 insertions(+)

commit ff57b96
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Thu Dec 16 06:42:28 2010 -0500

    Add Runtime header for obj* stuff.
    
    Also, move lots of stuff out of the Object header.

 ruamoko/include/Array.h     |    1 +
 ruamoko/include/Makefile.am |    2 +-
 ruamoko/include/Object.h    |   64 +------------------------------------------
 ruamoko/lib/Array.r         |    1 +
 4 files changed, 4 insertions(+), 64 deletions(-)

commit 7cb2ce3
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Thu Dec 16 06:23:52 2010 -0500

    whitespace, clean up AutoreleasePool warnings
    
    d'oh! How did I forget to include that header?

 ruamoko/include/AutoreleasePool.h |    2 +-
 ruamoko/lib/AutoreleasePool.r     |    6 +++---
 2 files changed, 4 insertions(+), 4 deletions(-)

commit 061f56e
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Thu Dec 16 06:22:33 2010 -0500

    Add missing methods
    
    Array: Implement -indexOfObject: and -indexOfObjectIdenticalTo:

 ruamoko/include/Array.h |   39 +++++++++++++++++++++++++++++
 ruamoko/lib/Array.r     |   63 ++++++++++++++++++++++++++++++++++++++++++++---
 2 files changed, 98 insertions(+), 4 deletions(-)

commit 4968b65
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Thu Dec 16 06:20:58 2010 -0500

    Minor doc updates
    
    Reveal more Rua documentation that I had already written years ago, and
    clean up Array a little.

 ruamoko/include/Array.h     |    7 +--
 ruamoko/include/math.h      |  109 ++++++++++++++++++++++++-------------------
 ruamoko/lib/Array+Private.h |    7 +++
 3 files changed, 72 insertions(+), 51 deletions(-)

commit a8e3d5d
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Thu Dec 16 06:16:29 2010 -0500

    Doc fixes
    
    Tweak colors, add borders around some images, remove static definitions
    from engine docs.

 doc/Makefile.am       |    3 +++
 doc/doxygen.css       |   62 +++++++++++++++++++++++++++++--------------------
 doc/quakeforge.dox.in |   26 ++++++++++++++-------
 ruamoko/Makefile.am   |    3 +++
 4 files changed, 61 insertions(+), 33 deletions(-)

commit 096d7f5
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 16 20:14:06 2010 +0900

    Turn on -Wall -Wno-integer-divide
    
    This will break Array.r until Deek gets his changes in.

 ruamoko/cl_menu/Makefile.am |    2 +-
 ruamoko/game/Makefile.am    |    2 +-
 ruamoko/gui/Makefile.am     |    2 +-
 ruamoko/lib/Makefile.am     |    2 +-
 4 files changed, 4 insertions(+), 4 deletions(-)

commit 8197d34
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 16 20:11:25 2010 +0900

    Objective-C warnings documentation from gcc.

 tools/qfcc/doc/warnings.txt |   38 ++++++++++++++++++++++++++++++++++++++
 1 file changed, 38 insertions(+)

commit 699799b
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 16 20:04:08 2010 +0900

    Don't warn when adding a new method to an implementation.
    
    Methods defined in the implementation but not declared in the interface are
    just fine.

 tools/qfcc/source/class.c |    6 ------
 1 file changed, 6 deletions(-)

commit 6d494bf
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 16 20:01:49 2010 +0900

    Fix a slew of warnings found by -Wall.
    
    -Wall still isn't used yet due to a missing method in Array, and
    overzealous warnings in qfcc, but this covers the necessary fixes.

 ruamoko/cl_menu/CvarRangeView.h   |    1 +
 ruamoko/cl_menu/CvarToggleView.h  |    1 +
 ruamoko/cl_menu/CvarToggleView.r  |    1 +
 ruamoko/cl_menu/MenuGroup.h       |    2 +
 ruamoko/cl_menu/MenuGroup.r       |    2 +-
 ruamoko/cl_menu/MouseToggle.h     |    4 +-
 ruamoko/cl_menu/RunToggle.h       |    4 +-
 ruamoko/cl_menu/client_menu.qc    |    4 +-
 ruamoko/cl_menu/options.qc        |    9 ++--
 ruamoko/cl_menu/plistmenu.r       |   10 ++--
 ruamoko/game/Axe.r                |    3 +-
 ruamoko/game/tempent.r            |    2 +-
 ruamoko/lib/AutoreleasePool.r     |    1 +
 ruamoko/lib/Entity.r              |    8 +++-
 ruamoko/lib/PropertyList.r        |   22 ++++-----
 ruamoko/scheme/BaseContinuation.r |    3 +-
 ruamoko/scheme/Compiler.h         |    4 ++
 ruamoko/scheme/Compiler.r         |   94 ++++++++++++++++++-------------------
 ruamoko/scheme/Cons.r             |    4 +-
 ruamoko/scheme/Continuation.h     |    1 +
 ruamoko/scheme/Continuation.r     |    4 +-
 ruamoko/scheme/Machine.h          |    1 +
 ruamoko/scheme/Machine.r          |   22 ++++-----
 ruamoko/scheme/Makefile.am        |    2 +-
 ruamoko/scheme/Number.h           |    1 +
 ruamoko/scheme/Primitive.r        |    1 +
 ruamoko/scheme/Procedure.r        |    1 +
 ruamoko/scheme/SchemeObject.h     |    1 +
 ruamoko/scheme/SchemeObject.r     |   22 ++++-----
 ruamoko/scheme/Scope.h            |    2 +-
 ruamoko/scheme/Scope.r            |    2 +-
 ruamoko/scheme/Symbol.h           |    1 +
 ruamoko/scheme/builtins.r         |   92 ++++++++++++++++++------------------
 33 files changed, 181 insertions(+), 151 deletions(-)

commit eace5b3
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 16 16:41:16 2010 +0900

    Get message checking working properly.

 tools/qfcc/source/class.c |   10 +++++++---
 tools/qfcc/source/expr.c  |   21 +++++++++++++++++----
 2 files changed, 24 insertions(+), 7 deletions(-)

commit 8bb507f
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 16 11:46:25 2010 +0900

    Alias "show_fps" to "hud_fps".
    
    "show_fps" is the quakeworld standard, so that's what most people expect to
    use.

 nq/source/cl_main.c |    1 +
 qw/source/cl_main.c |    1 +
 2 files changed, 2 insertions(+)

commit 23d3407
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 16 11:34:39 2010 +0900

    Change a few defaults as suggested by bigfoot.
    
    in_dga -> 0 (until X is fixed)
    gl_multitexture -> 1 (why was this 0? not enough support back then?)
    cl_usleep -> 1 (seems to be ok)
    host_mem_size -> 40 (even 32 isn't enough these days)
    rate -> 10000 (we're not in the modem era any more)
    cl_mem_size -> 32 (16 is not enough, 32 sounds better than 24)

 libs/video/targets/in_x11.c        |    2 +-
 libs/video/targets/vid_common_gl.c |    2 +-
 nq/source/host.c                   |    4 ++--
 qw/source/cl_main.c                |    6 +++---
 4 files changed, 7 insertions(+), 7 deletions(-)

commit 12da412
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 16 09:34:29 2010 +0900

    Get entity alpha (mostly) working.
    
    I'm not sure if bsp model rendering is correct (backside issues), but
    enities now sport transparency. Good test map:
    http://www.celephais.net/board/view_thread.php?id=60157&

 nq/include/protocol.h  |    2 +-
 nq/include/sv_progs.h  |    4 ++++
 nq/source/cl_main.c    |    2 ++
 nq/source/sv_main.c    |   38 +++++++++++++-------------------------
 nq/source/sv_pr_cmds.c |   18 ++++++++----------
 nq/source/sv_progs.c   |    3 +++
 6 files changed, 31 insertions(+), 36 deletions(-)

commit 765807d
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 15 11:19:06 2010 +0900

    Make sdl's sound parameters easy to tweak.

 libs/audio/targets/snd_sdl.c |   34 +++++++++++++++++++++++-----------
 1 file changed, 23 insertions(+), 11 deletions(-)

commit d265bbf
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 15 11:09:26 2010 +0900

    Support any sample rate.

 libs/audio/targets/snd_alsa.c |   13 +++----------
 1 file changed, 3 insertions(+), 10 deletions(-)

commit df65679
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 15 10:21:04 2010 +0900

    Remove support for alsa 0.9.
    
    It's way obsolete and I doubt we'll ever need it again. I do wonder what to
    do abut sun, sgi etc.

 config.d/build_control.m4         |   10 +-
 config.d/header_files.m4          |    2 +-
 config.d/sound.m4                 |   35 ----
 libs/audio/targets/Makefile.am    |   10 +-
 libs/audio/targets/snd_alsa_0_9.c |  402 -------------------------------------
 5 files changed, 5 insertions(+), 454 deletions(-)

commit 52eb6a6
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 15 18:47:17 2010 +0900

    "realtime" is a client var, not a server var.
    
    The correct var in the server is sv.time.

 nq/source/sv_main.c |    6 +++---
 nq/source/sv_phys.c |    4 ++--
 2 files changed, 5 insertions(+), 5 deletions(-)

commit 64f801f
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 15 08:51:43 2010 +0900

    whitespace

 nq/source/world.c |    1 -
 1 file changed, 1 deletion(-)

commit 775f8e9
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 15 08:33:20 2010 +0900

    Rotating bsp model support.
    
    This is based on the code presented on
    http://forums.inside3d.com/viewtopic.php?t=2376 (and updates linked from
    that thread), but with modifications for hopefully supporting rotating
    trains (and not duplicating big fuctions).
    
    For now, only nq. qw will come after some more testing.

 nq/source/sv_phys.c |   48 +++++++++++++++++++++++++++--------
 nq/source/world.c   |   69 +++++++++++++++++++++++++++++++++++++++++++++------
 2 files changed, 100 insertions(+), 17 deletions(-)

commit 0e677ce
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Dec 14 08:58:38 2010 +0900

    Give nw qw's timedemo statistics.

 nq/source/cl_demo.c |   69 +++++++++++++++++++++++++++++++++++++++++++++------
 qw/source/cl_demo.c |    2 +-
 2 files changed, 63 insertions(+), 8 deletions(-)

commit 28338bc
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Mon Dec 13 13:20:26 2010 -0500

    Turn off timestamping in HTML docs
    
    The pointless deltas were slowing rsync down more than I'd like, and it's
    not as if that information is all THAT useful. Nuke it.

 doc/quakeforge.dox.in |    2 +-
 ruamoko/Doxyfile.in   |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit e3f6e74
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Dec 14 00:19:52 2010 +0900

    And do the same fix in qw (oops).

 qw/source/cl_tent.c |    2 ++
 1 file changed, 2 insertions(+)

commit 05be745
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Dec 14 00:13:13 2010 +0900

    Free the explosion objects when clearing tents.
    
    This fixes the hang after a few (3 or 4) play/timedemo runs of bigass1. Now
    23 runs (and counting) seems to work well, though there seems to be a
    memory leak somewhere.

 nq/source/cl_tent.c |    2 ++
 1 file changed, 2 insertions(+)

commit 9b9a60a
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Dec 13 19:11:48 2010 +0900

    Make the -mem suggestion a little more realistic.
    
    16M hasn't been enough for a long time.

 libs/util/zone.c |    7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

commit a87ba3d
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Dec 13 19:10:05 2010 +0900

    Fix qwaq for the recent Array(Private) tweaks.

 tools/qwaq/progs.src.in |    1 +
 1 file changed, 1 insertion(+)

commit 4ab92c0
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Dec 13 18:01:21 2010 +0900

    fix a bogus parameter name

 include/QF/script.h |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d9e97e2
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Mon Dec 13 03:27:36 2010 -0500

    Doxygen formatting updates
    
    Doxygen-produced HTML docs now look a lot more like the web site, and
    are now more attractive in general. :)

 doc/doxygen.css       |  673 +++++++++++++++++++++++++++++++++++++++++++++++++
 doc/quakeforge.dox.in |    8 +-
 ruamoko/Doxyfile.in   |    6 +-
 3 files changed, 680 insertions(+), 7 deletions(-)

commit d898936
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Dec 12 22:55:53 2010 +0900

    Tweak an "only".
    
    *twitch*

 ruamoko/lib/Array+Private.r |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 736c9a3
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Dec 12 20:44:46 2010 +0900

    Create a reference to Array(Private).
    
    This is the real fix for the problem worked around by 5c8cb8fe.

 ruamoko/lib/Array.r |    2 ++
 1 file changed, 2 insertions(+)

commit c262229
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Dec 12 20:43:28 2010 +0900

    Revert "Move private Array methods into main file"
    
    This reverts commit 5c8cb8fec89d2dcab1eb4129e7f447b4442f6c3b.
    
    The fix comes next.

 ruamoko/lib/Array+Private.r |    2 --
 ruamoko/lib/Array.r         |   34 ----------------------------------
 2 files changed, 36 deletions(-)

commit 4481ba9
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Dec 12 20:27:56 2010 +0900

    Allow explicit references to classes and categories.
    
    Use "@reference ClassName;" or "@reference ClassName(CategoryName);" to
    create a refence to the class or category, forcing the defining object file
    to be linked into the program when the object file is part of a library.

 tools/qfcc/include/class.h   |    2 ++
 tools/qfcc/source/class.c    |   23 ++++++++++++++++++++++-
 tools/qfcc/source/qc-lex.l   |    1 +
 tools/qfcc/source/qc-parse.y |   19 ++++++++++++++++++-
 tools/qfcc/test/reference.r  |    2 ++
 5 files changed, 45 insertions(+), 2 deletions(-)

commit 15ba409
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Sun Dec 12 05:45:12 2010 -0500

    Doc fixes.
    
    Document some more Array methods, mark the private methods as private in
    the docs.

 ruamoko/include/Array.h     |   29 ++++++++++++++++++++++++++---
 ruamoko/lib/Array+Private.h |    3 +++
 2 files changed, 29 insertions(+), 3 deletions(-)

commit 4a8ff8a
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Sun Dec 12 05:41:52 2010 -0500

    A little strictness: error out in some nasty conditions.

 ruamoko/lib/Array.r |   30 +++++++++++++++++-------------
 1 file changed, 17 insertions(+), 13 deletions(-)

commit f86e933
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Sun Dec 12 05:40:24 2010 -0500

    Array API fixes
    
    NQ menus work now.

 ruamoko/cl_menu/HUD.r         |    2 +-
 ruamoko/cl_menu/controls_o.qc |    6 +++---
 ruamoko/cl_menu/plistmenu.r   |    2 +-
 ruamoko/gui/Group.r           |    2 +-
 ruamoko/scheme/CompiledCode.r |    4 ++--
 ruamoko/scheme/Scope.r        |    2 +-
 6 files changed, 9 insertions(+), 9 deletions(-)

commit 5c8cb8f
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Sun Dec 12 05:39:17 2010 -0500

    Move private Array methods into main file
    
    #if 0 out the "normal" implementation, so that it doesn't hurt. When it
    becomes possible to have the private Array methods separate, remove them
    from the main file and remove the #if 0 block from Array+Private.r.

 ruamoko/lib/Array+Private.r |    2 ++
 ruamoko/lib/Array.r         |   34 ++++++++++++++++++++++++++++++++++
 2 files changed, 36 insertions(+)

commit 2c84ae4
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Dec 12 15:37:26 2010 +0900

    Don't let casting in constfold increment users.
    
    This fixes Deek's temp notice. No new notices have shown up, so this should
    be the correct fix. The constant folding code no longer calls cast_expr
    directly, but rather uses an internal wrapper that decrements users after
    cast_expr increments it, resulting in a no-op.

 tools/qfcc/source/constfold.c |   37 ++++++++++++++++++++++---------------
 tools/qfcc/test/ptr-array.r   |   13 +++++++++++++
 2 files changed, 35 insertions(+), 15 deletions(-)

commit c08c072
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Dec 12 14:20:23 2010 +0900

    Make ruamoko docs build properly in out-of-tree builds.

 ruamoko/Doxyfile.in |   18 +++++++++---------
 1 file changed, 9 insertions(+), 9 deletions(-)

commit 22dd7cd
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Sun Dec 12 00:16:33 2010 -0500

    Avoid wasting a local and giving the compiler a minor aneurysm
    
    qfcc doesn't yet like foo[bar++] = baz; let's be nice and not give it
    indigestion.

 ruamoko/lib/Array.r |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 0371a82
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Sat Dec 11 23:49:48 2010 -0500

    Damn, documented wrong method.

 ruamoko/include/AutoreleasePool.h |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f13c45a
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Sat Dec 11 23:45:48 2010 -0500

    kill extra reference to Array in docs

 ruamoko/lib/Array+Private.h |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 537915f
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Sat Dec 11 23:45:19 2010 -0500

    Ruamoko: Document AutoreleasePool

 ruamoko/include/AutoreleasePool.h |   42 ++++++++++++++++++++++++++++++++++++-
 1 file changed, 41 insertions(+), 1 deletion(-)

commit b45ff85
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Sat Dec 11 23:44:11 2010 -0500

    Add doxyfile for Ruamoko lib
    
    Whee, Rua docs!

 .gitignore                  |    1 +
 config.d/ac_config_files.m4 |    1 +
 ruamoko/Doxyfile.in         | 1504 +++++++++++++++++++++++++++++++++++++++++++
 ruamoko/Makefile.am         |    3 +
 4 files changed, 1509 insertions(+)

commit 8d05b07
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Sat Dec 11 23:32:04 2010 -0500

    remove empty -release in AutoreleasePool.

 ruamoko/lib/AutoreleasePool.r |    6 ------
 1 file changed, 6 deletions(-)

commit 180450e
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Sat Dec 11 23:23:55 2010 -0500

    declare ARP_FreeAllPools() @extern

 ruamoko/include/AutoreleasePool.h |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c58a728
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Sat Dec 11 20:27:51 2010 -0500

    Update users of Array to new API

 ruamoko/cl_menu/HUD.r          |    8 ++++----
 ruamoko/cl_menu/MenuGroup.r    |    8 ++++----
 ruamoko/cl_menu/client_menu.qc |    2 +-
 ruamoko/cl_menu/controls_o.qc  |   14 +++++++-------
 ruamoko/gui/Group.r            |    4 ++--
 ruamoko/scheme/CompiledCode.r  |    4 ++--
 6 files changed, 20 insertions(+), 20 deletions(-)

commit 505076a
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Sat Dec 11 20:25:09 2010 -0500

    rewrite Array, AutoreleasePool
    
    This version is a bit more useful, and we should be able to get rid of the
    Stack class. Also, the Ruamoko parts of the autorelease system should be
    almost ready now.

 .gitignore                        |    1 +
 ruamoko/include/Array.h           |  222 +++++++++++++++++++--
 ruamoko/include/AutoreleasePool.h |    2 +
 ruamoko/lib/Array+Private.h       |   32 +++
 ruamoko/lib/Array+Private.r       |   33 +++
 ruamoko/lib/Array.r               |  398 +++++++++++++++++++++++++++++--------
 ruamoko/lib/AutoreleasePool.r     |   60 +++---
 ruamoko/lib/Makefile.am           |    5 +-
 8 files changed, 613 insertions(+), 140 deletions(-)

commit 4bd37e7
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Wed Dec 1 18:04:18 2010 -0500

    Switch to C-style function declarations.
    
    Doxygen hates the QuakeC-style function prototypes we use, so switch to the
    C-style prototypes.

 ruamoko/include/Object.h     |  127 +++++++++++++++---------------
 ruamoko/include/cbuf.h       |    8 +-
 ruamoko/include/cmd.h        |    8 +-
 ruamoko/include/crudefile.h  |   12 +--
 ruamoko/include/cvar.h       |   18 ++---
 ruamoko/include/debug.h      |  107 ++++++++++----------------
 ruamoko/include/draw.h       |   22 +++---
 ruamoko/include/entities.h   |  174 ++++++++++++++++++------------------------
 ruamoko/include/file.h       |    2 +-
 ruamoko/include/gib.h        |    4 +-
 ruamoko/include/hash.h       |   34 ++++-----
 ruamoko/include/infokey.h    |    4 +-
 ruamoko/include/key.h        |    8 +-
 ruamoko/include/math.h       |   56 +++++++-------
 ruamoko/include/message.h    |   28 +++----
 ruamoko/include/nq_message.h |    2 +-
 ruamoko/include/physics.h    |   32 ++++----
 ruamoko/include/plist.h      |   40 +++++-----
 ruamoko/include/qfile.h      |   34 ++++-----
 ruamoko/include/qfs.h        |   16 ++--
 ruamoko/include/qw_message.h |    2 +-
 ruamoko/include/qw_physics.h |    4 +-
 ruamoko/include/qw_sys.h     |    2 +-
 ruamoko/include/server.h     |   20 ++---
 ruamoko/include/sound.h      |    2 +-
 ruamoko/include/string.h     |   34 ++++-----
 ruamoko/include/sv_sound.h   |    4 +-
 ruamoko/include/system.h     |   26 +++----
 ruamoko/lib/debug.r          |   10 ++-
 ruamoko/lib/entities.r       |   18 ++++-
 ruamoko/lib/plist.r          |   40 +++++-----
 31 files changed, 438 insertions(+), 460 deletions(-)

commit de8a9cd
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Dec 11 15:35:03 2010 +0900

    More debian package build tweaks.
    
    Clean out libtool links from m4/.
    Remove redundant dependency on automake1.8.
    Add dependencies for libjack-dev and libwildmidi-dev.
    
    More work needs to be done on package contents, but things do build.

 bootstrap      |    2 ++
 debian/control |    2 +-
 debian/rules   |    2 ++
 3 files changed, 5 insertions(+), 1 deletion(-)

commit 774f049
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Dec 11 12:09:30 2010 +0900

    Fix garbage at edges of conchar characters.
    
    Move the texture coordinates in 1/4 of a pixel. To avoid unnecessary
    calculations, pre-caclulate the character cell texture coordinates and
    blast them into the the texture coordinate array.

 libs/video/renderer/gl/gl_draw.c |   60 +++++++++++++++++++++++++++-----------
 1 file changed, 43 insertions(+), 17 deletions(-)

commit 8919aec
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Dec 10 21:40:36 2010 +0900

    Get global fog working in mtex mode.

 libs/video/renderer/gl/gl_mod_alias.c |    6 +++++-
 libs/video/renderer/gl/gl_rmain.c     |   13 ++++++++++---
 libs/video/renderer/gl/gl_rmisc.c     |    1 +
 libs/video/renderer/gl/gl_rsurf.c     |    6 +++---
 4 files changed, 19 insertions(+), 7 deletions(-)

commit d470094
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Dec 10 18:13:48 2010 +0900

    Flip the nodes when flipping the plane.

 tools/qfbsp/include/brush.h |    3 ++-
 tools/qfbsp/source/brush.c  |   16 +++++++++++-----
 tools/qfbsp/source/qfbsp.c  |    7 ++++---
 3 files changed, 17 insertions(+), 9 deletions(-)

commit ce96e6b
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Dec 10 17:15:47 2010 +0900

    The beginnings of fog support.
    
    gl_fog.c is taken from fitzquake with only minor modifications to get it
    into QF. Other than worldspawn/network parsing, it's not used yet.

 include/QF/GL/qf_funcs_list.h        |    6 +-
 include/QF/render.h                  |   13 ++
 libs/video/renderer/gl/Makefile.am   |    2 +-
 libs/video/renderer/gl/gl_fog.c      |  342 ++++++++++++++++++++++++++++++++++
 libs/video/renderer/sw/Makefile.am   |    2 +-
 libs/video/renderer/sw/sw_fog.c      |   43 +++++
 libs/video/renderer/sw32/Makefile.am |    6 +-
 libs/video/renderer/sw32/sw32_fog.c  |   43 +++++
 nq/source/cl_parse.c                 |    4 +-
 9 files changed, 452 insertions(+), 9 deletions(-)

commit 6114495
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Dec 10 14:40:13 2010 +0900

    Don't try to load skys named "".
    
    This makes 'loadsky ""' and 'loadsky none' equivalent.

 libs/video/renderer/gl/gl_sky.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 9ba7088
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Dec 10 14:12:15 2010 +0900

    Prefer positive Z axis for 45 degree canonical planes.

 tools/qfbsp/source/brush.c |   12 ++++++------
 1 file changed, 6 insertions(+), 6 deletions(-)

commit ba2a583
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Dec 10 12:42:37 2010 +0900

    Normalize the clip plane before adding it to the bsp.

 tools/qfbsp/include/brush.h |   10 ++++++++++
 tools/qfbsp/source/brush.c  |   16 +++++-----------
 tools/qfbsp/source/qfbsp.c  |   13 ++++++++-----
 3 files changed, 23 insertions(+), 16 deletions(-)

commit aad204e
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Dec 10 13:00:42 2010 +0900

    Set the skybox from the map's worldspawn sky field.

 nq/include/client.h  |    3 +++
 nq/source/cl_main.c  |    4 ++++
 nq/source/cl_parse.c |   29 +++++++++++++++++++++++++++++
 3 files changed, 36 insertions(+)

commit 4af6c8c
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Dec 10 12:58:32 2010 +0900

    Catch and ignore sky and fog fields.
    
    This way, we won't get spammed with "not a field" messages on map load.

 nq/source/sv_progs.c |    5 +++++
 1 file changed, 5 insertions(+)

commit c4f71c0
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Dec 10 12:50:38 2010 +0900

    Move r_skyname handling from R_NewMap to R_LoadSkys.
    
    r_skyname now acts as the default sky to use when no sky name is specified
    by other means ("none" is still no sky). 'loadsky foo' will load the
    "foo*" sky textures, 'loadsky none' gives the default sky, and 'loadsky
    ""' causes uses r_skyname.

 libs/video/renderer/gl/gl_rmisc.c |    7 -------
 libs/video/renderer/gl/gl_sky.c   |    3 +++
 2 files changed, 3 insertions(+), 7 deletions(-)

commit 8e557e8
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Dec 10 12:46:54 2010 +0900

    Break out the guts of Ed_LoadFromFile into ED_Parse.
    
    ED_Parse does not support progs privided parsing (at this stage, anyway),
    but this will allow clients to easily get at the entities in a map.

 include/QF/progs.h              |    1 +
 libs/gamecode/engine/pr_parse.c |   37 ++++++++++++++++++++++++-------------
 2 files changed, 25 insertions(+), 13 deletions(-)

commit 843823d
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Fri Dec 10 17:07:06 2010 +0900

    testsound depends on libQFutil

 libs/audio/Makefile.am |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 51009cd
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 9 21:35:21 2010 +0900

    Clear the server progs data when loading progs.
    
    The baseline data doesn't matter so much, but the pointer fields relied on
    the progs engine clearing them. I forgot about this :/

 nq/source/sv_progs.c |    2 ++
 qw/source/sv_progs.c |    2 ++
 2 files changed, 4 insertions(+)

commit 87acf89
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 9 18:32:21 2010 +0900

    lots of whitespace

 qw/include/sv_progs.h |  224 ++++++++++++++++++++++++-------------------------
 1 file changed, 112 insertions(+), 112 deletions(-)

commit bc91faf
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 9 15:30:08 2010 +0900

    Change back to storing the leafnum.
    
    Still unlimited, of course :)

 nq/include/sv_progs.h |    2 +-
 nq/source/sv_main.c   |    3 +--
 nq/source/world.c     |    2 +-
 qw/include/sv_progs.h |    2 +-
 qw/source/sv_ents.c   |    6 ++----
 qw/source/world.c     |    2 +-
 6 files changed, 7 insertions(+), 10 deletions(-)

commit 64be913
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 9 15:21:20 2010 +0900

    Some more package information

 INSTALL |   40 +++++++++++++++++++++++++++++++++++-----
 1 file changed, 35 insertions(+), 5 deletions(-)

commit 3ae2ef8
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 9 14:27:36 2010 +0900

    Remove non-progs data from edict_t.
    
    All data that is irrelevant to the progs engine itself has been removed
    from edict_t and moved into the sv_progs code.

 include/QF/progs.h    |   18 ++++--------------
 nq/include/sv_progs.h |   20 +++++++++++++++++++-
 nq/source/sv_main.c   |   14 +++-----------
 nq/source/sv_progs.c  |   10 ++++++++++
 nq/source/world.c     |   26 +++++++++++++-------------
 qw/include/sv_progs.h |   20 ++++++++++++++++++--
 qw/source/sv_ents.c   |    8 ++++----
 qw/source/sv_init.c   |   49 +++++++++++++++++++------------------------------
 qw/source/sv_progs.c  |   14 ++++++++++++++
 qw/source/world.c     |   26 +++++++++++++-------------
 10 files changed, 117 insertions(+), 88 deletions(-)

commit 9deb178
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 9 13:35:11 2010 +0900

    Some documentation fixups.

 include/QF/progs.h |  483 ++++++++++++++++++++++++++--------------------------
 1 file changed, 244 insertions(+), 239 deletions(-)

commit a062c75
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 9 13:34:37 2010 +0900

    white space

 nq/source/sv_cl_phys.c |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 1291766
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 9 08:52:40 2010 +0900

    Remove all "cosmetic" differences between nq and qw sv_phys.c

 nq/include/server.h |    2 ++
 nq/source/sv_phys.c |    5 +++--
 qw/include/server.h |    4 +++-
 qw/source/sv_phys.c |    6 +++---
 4 files changed, 11 insertions(+), 6 deletions(-)

commit 6e87c4c
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 8 21:59:23 2010 +0900

    Make sure the level name does not over write the secrets count.

 nq/source/sbar.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 9b9fde2
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 8 21:20:35 2010 +0900

    Move the EndFrame function "pointer" into the sv_funcs struct.

 nq/include/sv_progs.h |    3 ++-
 nq/source/sv_phys.c   |    4 ++--
 nq/source/sv_progs.c  |    4 +---
 3 files changed, 5 insertions(+), 6 deletions(-)

commit 33d768b
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 8 15:48:05 2010 +0900

    Get nq and qw sv_phys.c mostly into sync.
    
    nq's SV_CheckVelocity will be a little different (spherical rather than
    cubical), but sv_maxvelocity defaults high enough for it to not matter to
    most players. It might even improve play.
    
    The remaining differences need some careful thought before the physics
    merge is done.

 nq/source/sv_phys.c |   19 ++++++++++---------
 qw/source/sv_phys.c |   27 +++++++++++++++++----------
 2 files changed, 27 insertions(+), 19 deletions(-)

commit a893d8e
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 8 12:55:07 2010 +0900

    Get nq and qw world.c into sync (again:P)

 nq/include/server.h |    8 ++
 nq/source/world.c   |  215 ++++++++++++++++++++++++++++++++++++---------------
 qw/source/world.c   |   79 +++++++++++++------
 3 files changed, 215 insertions(+), 87 deletions(-)

commit e46b52a
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 8 09:20:43 2010 +0900

    Plug the edict_leaf memory leak.

 include/world.h     |    2 ++
 nq/source/sv_main.c |    1 +
 nq/source/world.c   |   52 +++++++++++++++++++++++++++++++++++++++++----------
 qw/source/sv_init.c |    1 +
 qw/source/world.c   |   52 +++++++++++++++++++++++++++++++++++++++++----------
 5 files changed, 88 insertions(+), 20 deletions(-)

commit 31cf4b0
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 8 08:44:52 2010 +0900

    Use a linked list for the leafs in which the entity is positioned.
    
    This allows the pvs to be used on an antity no matter how many leafs the
    entity is touching. Seems to work nicely, but it will leak memory every
    time a map is loaded.

 include/QF/progs.h  |    9 ++++++---
 nq/source/sv_main.c |    9 ++++++---
 nq/source/world.c   |   48 ++++++++++++++++++++++++++++++++++++++++--------
 qw/source/sv_ents.c |   26 +++++++++++++++-----------
 qw/source/world.c   |   48 ++++++++++++++++++++++++++++++++++++++++--------
 5 files changed, 107 insertions(+), 33 deletions(-)

commit a0828dd
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Dec 7 15:41:57 2010 +0900

    Clean up bsp limits.
    
    Delete all bogus bsp limits, fixing the code that depended on them.
    Document those limits that are dictated by the format.

 include/QF/bspfile.h           |   39 +++++++------------------
 tools/qfbsp/include/map.h      |   11 +++----
 tools/qfbsp/include/surfaces.h |    6 +++-
 tools/qfbsp/source/brush.c     |    2 +-
 tools/qfbsp/source/map.c       |   63 ++++++++++++++++++++++++++++------------
 tools/qfbsp/source/readbsp.c   |   10 +++----
 tools/qfbsp/source/region.c    |   21 +++++---------
 tools/qfbsp/source/surfaces.c  |   19 +++++++-----
 tools/qfbsp/source/writebsp.c  |   21 ++++++--------
 9 files changed, 98 insertions(+), 94 deletions(-)

commit 0bd960d
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Dec 7 13:54:54 2010 +0900

    Move IDPAKHEADER to where it belongs.
    
    It's not used anywhere, but it doesn't belong with the bsp types.

 include/QF/bspfile.h |    3 ---
 include/QF/pak.h     |    3 +++
 2 files changed, 3 insertions(+), 3 deletions(-)

commit 3b0dbd2
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Dec 6 21:24:49 2010 +0900

    make distcheck fixes

 Makefile.am                 |    2 +-
 config.d/ac_config_files.m4 |    3 +++
 include/Makefile.am         |    7 +++----
 ruamoko/cl_menu/Makefile.am |    8 ++++----
 vc2005/Makefile.am          |   24 ++++++++++++++++++++++++
 vc2008/Makefile.am          |   24 ++++++++++++++++++++++++
 6 files changed, 59 insertions(+), 9 deletions(-)

commit 981622f
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Dec 6 15:30:56 2010 +0900

    Make MOD_TraceLine behave "correctly".
    
    MOD_TraceLine now behaves the same as id's SV_RecursiveHullCheck (from
    WinQuake). This means that even if the trace would escape from solid space
    into non-solid space, the trace is treated as allsolid if it crosses from
    one solid space to another before hitting the empty space.
    
    trace-id.c is used only for establishing the behaviour of id's code.

 .gitignore              |    1 +
 libs/models/Makefile.am |   11 ++-
 libs/models/testclip.c  |  237 +++++++++++++++++++++++++++++++++++++++++++++++
 libs/models/trace-id.c  |  155 +++++++++++++++++++++++++++++++
 libs/models/trace.c     |   54 ++++++-----
 5 files changed, 432 insertions(+), 26 deletions(-)

commit c2af789
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Dec 5 14:56:32 2010 +0900

    Revert "make droptofloor continue the trace if it starts solid"
    
    This reverts commit 10232acdfe83fe131b70105fc7cdf25193df5670.
    
    The problem was really in the trace code, but it got fixed by "accident"
    when I had similar problems in hipnotic a couple of years later. Now to
    figure out just what the trace could really should be doing.

 include/world.h        |    2 --
 libs/models/trace.c    |    3 +++
 qw/source/sv_pr_cmds.c |   24 ++++++++----------------
 3 files changed, 11 insertions(+), 18 deletions(-)

commit 31640dd
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Dec 5 14:52:20 2010 +0900

    Clean out the last traces of my boxclip code.
    
    I've been experiencing funny trace issues while playing Soul of Evil. While
    I think the boxclip dregs shouldn't be causing problems, it's probably best
    to clean them out properly before trying to fix anything.

 libs/models/trace.c |   73 ++++++++++++---------------------------------------
 1 file changed, 17 insertions(+), 56 deletions(-)

commit b1b1a02
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Dec 4 23:37:58 2010 +0900

    Get entity allocation and freeing working correctly.
    
    This fixes the missing static entities.

 libs/video/renderer/r_ent.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 9bce163
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Dec 4 22:41:44 2010 +0900

    Revert "Tidy up CL_RelinkEntities a little bit."
    
    This reverts commit ad7e7e45fef2ad3bda3e2ed11521748a3bb6d8d0.
    
    The cleanup broke entity linking, but fixing it would just duplicate the
    previous tests, so might as well revert. Cleaning up the interpolation code
    is probably a better approach.

 nq/source/cl_main.c |   24 +++++++++++++++---------
 1 file changed, 15 insertions(+), 9 deletions(-)

commit cd660f6
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Dec 3 20:30:01 2010 +0900

    Fix smoke trails that were broken by the efrags commit.
    
    The efrags system's usage of ent->visframe clashes with that of
    CL_LinkPacketEntities. As the latter is rather bogus, and potentially
    visible entities are always inserted into the map (causing ent->efrag to be
    non-null), a null ent->efrag is a good indication that the entity is newly
    visible.

 qw/source/cl_ents.c |    3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit a4b97e9
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Dec 3 18:21:07 2010 +0900

    Dynamic entity allocation. Unlimited static entities.
    
    Entities can now be allocated dynamically. They are freed whenever a new
    map is loaded.
    
    Use the dynamic entities for static entities.

 include/QF/render.h                   |    2 ++
 libs/video/renderer/gl/gl_rmisc.c     |    2 ++
 libs/video/renderer/r_ent.c           |   52 +++++++++++++++++++++++++++++++++
 libs/video/renderer/sw/sw_rmain.c     |    2 ++
 libs/video/renderer/sw32/sw32_rmain.c |    2 ++
 nq/include/client.h                   |    4 ---
 nq/source/cl_main.c                   |    1 -
 nq/source/cl_parse.c                  |    9 ++----
 qw/include/client.h                   |    5 +---
 qw/source/cl_demo.c                   |    4 +--
 qw/source/cl_main.c                   |    1 -
 qw/source/cl_parse.c                  |   12 ++++++--
 12 files changed, 74 insertions(+), 22 deletions(-)

commit 3b08ac8
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Dec 3 17:15:11 2010 +0900

    Unlink the entity's efrags when removing the entity.

 qw/source/cl_ents.c |    2 ++
 1 file changed, 2 insertions(+)

commit a6941e2
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Dec 3 14:54:39 2010 +0900

    Eliminate MAX_VISEDICTS. Unlimited visible entities.
    
    The renderer can now render as many entities as can be crammed into the
    currently visible set of nodes.

 include/QF/render.h                   |    4 +++-
 include/r_local.h                     |    3 +--
 libs/video/renderer/gl/gl_lightmap.c  |    5 +++--
 libs/video/renderer/gl/gl_rmain.c     |   25 +++++++++++--------------
 libs/video/renderer/r_efrag.c         |    6 +-----
 libs/video/renderer/r_ent.c           |   20 +++++++++-----------
 libs/video/renderer/sw/sw_rmain.c     |   14 ++++++++------
 libs/video/renderer/sw32/sw32_rmain.c |   14 ++++++++------
 qw/source/cl_ents.c                   |   28 ++++++++++++++--------------
 9 files changed, 58 insertions(+), 61 deletions(-)

commit abe0c50
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Dec 3 14:10:53 2010 +0900

    Use efrags with packet entities.
    
    This fixes brush models in the software renderers.

 qw/source/cl_ents.c |  143 ++++++++++++++++++++++++++++-----------------------
 1 file changed, 78 insertions(+), 65 deletions(-)

commit f98b002
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Dec 3 13:28:58 2010 +0900

    Make R_StoreEfrags const-correct.
    
    R_StoreEfrags does not need to modify its parameter or anything to which
    it directly refers, so make the pointer single-level and constant.

 include/r_local.h                    |    2 +-
 libs/video/renderer/gl/gl_rsurf.c    |    2 +-
 libs/video/renderer/r_efrag.c        |   13 +++----------
 libs/video/renderer/sw/sw_rbsp.c     |    4 ++--
 libs/video/renderer/sw32/sw32_rbsp.c |    4 ++--
 5 files changed, 9 insertions(+), 16 deletions(-)

commit 79796c1
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 2 17:11:33 2010 +0900

    Split out the MVD Playerinfo parsing into its own function.

 qw/source/cl_ents.c |  119 +++++++++++++++++++++++++++++----------------------
 1 file changed, 67 insertions(+), 52 deletions(-)

commit ad7e7e4
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 2 15:12:17 2010 +0900

    Tidy up CL_RelinkEntities a little bit.

 nq/source/cl_main.c |   24 +++++++++---------------
 1 file changed, 9 insertions(+), 15 deletions(-)

commit 085b0f4
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 2 08:31:48 2010 +0900

    Remove R_SplitEntityOnNode2
    
    When R_AddEfrags is used (as is the case in nq), this function is
    redundant. Brush models in qw are currently broken (invisible), but that's
    just a matter of getting qw to use R_AddEfrags instead of R_NewEntity.
    
    This removal should speed up the software renderers a little bit.

 include/r_local.h                     |    3 ---
 libs/video/renderer/r_efrag.c         |   43 +++------------------------------
 libs/video/renderer/sw/sw_rmain.c     |   16 +++---------
 libs/video/renderer/sw32/sw32_rmain.c |   17 +++----------
 4 files changed, 10 insertions(+), 69 deletions(-)

commit d24837a
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 1 17:15:28 2010 +0900

    Make nails use temp entities.
    
    While reading the code, I noticed the comment stating that qw projectiles
    (nails) are really temp entities, so I decided to make that true. The
    client now supports unlimited projectiles.

 qw/source/cl_ents.c |   82 ---------------------------------------------------
 qw/source/cl_tent.c |   65 ++++++++++++++++++++++++++++++++++++++--
 2 files changed, 62 insertions(+), 85 deletions(-)

commit 532e79b
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 1 08:11:45 2010 +0900

    Limit the amount of time that MVDs can skip.
    
    Trying to cover very long times will probably cause more problems than it
    fixes, so limit the length of time. Two seconds aught to be enough for
    now. Need to look into proper handling of prevtime.

 qw/source/sv_recorder.c |    2 ++
 1 file changed, 2 insertions(+)

commit c416e15
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 1 08:04:24 2010 +0900

    Get the format of the time hack packet correct.
    
    dem_read has a length word, which I had failed to see at the time. It
    seems that mvd's don't mind a zero length packets.

 qw/source/sv_recorder.c |    6 ++----
 1 file changed, 2 insertions(+), 4 deletions(-)

commit b1e5a5f
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 30 22:35:17 2010 +0900

    Make sure netchan is initialized on time.
    
    Connecting to a server sv_timeout seconds after program start was failing
    to to the connection instantly timing out.

 qtv/source/server.c |    1 +
 1 file changed, 1 insertion(+)

commit e8f18a6
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 30 14:05:31 2010 +0900

    More NEWS updates.

 NEWS |   30 +++++++++++++++++++++++++++---
 1 file changed, 27 insertions(+), 3 deletions(-)

commit e32e8f3
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Nov 29 19:50:59 2010 +0900

    Give nq cl_usleep.
    
    Cuts nq-glx' cpu usage to about 25% on my system. However, the default is
    off.

 nq/source/host.c |   34 ++++++++++++++++++++++++++++------
 1 file changed, 28 insertions(+), 6 deletions(-)

commit d8eb3aa
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Nov 29 14:26:33 2010 +0900

    Move the desktop files into their own directory.

 Makefile.am                           |    3 +-
 config.d/ac_config_files.m4           |    1 +
 desktop/Makefile.am                   |   49 +++++++++++++++++++++++++++++++++
 desktop/quakeforge-nq-glx.desktop     |   18 ++++++++++++
 desktop/quakeforge-nq-sdl.desktop     |   18 ++++++++++++
 desktop/quakeforge-nq-sdl32.desktop   |   18 ++++++++++++
 desktop/quakeforge-nq-sgl.desktop     |   18 ++++++++++++
 desktop/quakeforge-nq-x11.desktop     |   18 ++++++++++++
 desktop/quakeforge-qw-glx.desktop     |   18 ++++++++++++
 desktop/quakeforge-qw-sdl.desktop     |   18 ++++++++++++
 desktop/quakeforge-qw-sdl32.desktop   |   18 ++++++++++++
 desktop/quakeforge-qw-sgl.desktop     |   18 ++++++++++++
 desktop/quakeforge-qw-x11.desktop     |   18 ++++++++++++
 nq/source/Makefile.am                 |    6 ----
 nq/source/quakeforge-nq-glx.desktop   |   18 ------------
 nq/source/quakeforge-nq-sdl.desktop   |   18 ------------
 nq/source/quakeforge-nq-sdl32.desktop |   18 ------------
 nq/source/quakeforge-nq-sgl.desktop   |   18 ------------
 nq/source/quakeforge-nq-x11.desktop   |   18 ------------
 qw/source/Makefile.am                 |    6 ----
 qw/source/quakeforge-qw-glx.desktop   |   18 ------------
 qw/source/quakeforge-qw-sdl.desktop   |   18 ------------
 qw/source/quakeforge-qw-sdl32.desktop |   18 ------------
 qw/source/quakeforge-qw-sgl.desktop   |   18 ------------
 qw/source/quakeforge-qw-x11.desktop   |   18 ------------
 25 files changed, 232 insertions(+), 193 deletions(-)

commit 0e737ca
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Nov 29 12:54:26 2010 +0900

    Fix some "a" -> "an".

 include/QF/progs.h |   14 +++++++-------
 1 file changed, 7 insertions(+), 7 deletions(-)

commit 8831a10
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Nov 29 09:36:21 2010 +0900

    Create and use mclipnode_t.
    
    I didn't realize this was a critical part of fitzquake's large map
    support. This should fix the non-solid brush entities in Conflagrant
    Rodent.

 include/QF/model.h              |    9 +++++++--
 include/world.h                 |    2 +-
 libs/models/brush/model_brush.c |    5 +++--
 libs/models/clip_hull.c         |    6 +++---
 libs/models/trace.c             |    2 +-
 nq/source/world.c               |    6 +++---
 qw/source/pmovetst.c            |    6 +++---
 qw/source/world.c               |    6 +++---
 8 files changed, 24 insertions(+), 18 deletions(-)

commit 85c693d
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Nov 29 09:34:11 2010 +0900

    whitespace

 include/QF/model.h |   60 ++++++++++++++++++----------------------------------
 1 file changed, 20 insertions(+), 40 deletions(-)

commit 763ae71
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Nov 29 09:03:56 2010 +0900

    Remove the hull_t defines.
    
    Nothing uses them...

 include/QF/model.h |    1 -
 include/asm_i386.h |   10 ----------
 2 files changed, 11 deletions(-)

commit 995a8d3
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Nov 29 08:51:29 2010 +0900

    Don't use assembly code for SV_HullPointContents.
    
    This is the only assembly code dependent on the size of dclipnode_t.
    Removing it paves the way for fixing clipnodes in large maps.

 include/QF/bspfile.h  |    1 -
 include/asm_i386.h    |   10 ----
 nq/source/Makefile.am |   13 +----
 nq/source/world.c     |    6 +-
 nq/source/worlda.S    |  150 -------------------------------------------------
 qw/source/Makefile.am |   18 ++----
 qw/source/world.c     |    6 +-
 qw/source/worlda.S    |  150 -------------------------------------------------
 8 files changed, 11 insertions(+), 343 deletions(-)

commit 2eda619
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Nov 29 08:37:47 2010 +0900

    Disable checking for XMMS by default.
    
    I got tired of seeing the noise about XMMS' config script not being
    installed making it seem like XMMS is important to QF. It might be useful,
    but it's certainly not important enoug for a scary looking message.

 config.d/cdrom.m4 |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 478ef21
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Oct 12 18:26:24 2010 +0900

    Add some view opacity.

 tools/Forge/Bundles/MapEdit/CameraView.m    |    5 +++++
 tools/Forge/Bundles/MapEdit/KeypairView.m   |    5 +++++
 tools/Forge/Bundles/MapEdit/PopScrollView.m |    5 +++++
 tools/Forge/Bundles/MapEdit/TextureView.m   |    5 +++++
 tools/Forge/Bundles/MapEdit/XYView.m        |    5 +++++
 tools/Forge/Bundles/MapEdit/ZScrollView.m   |    5 +++++
 tools/Forge/Bundles/MapEdit/ZView.m         |    5 +++++
 7 files changed, 35 insertions(+)

commit 83dc8c2
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Oct 11 21:13:34 2010 +0900

    Remove some unused files.

 tools/Forge/Bundles/MapEdit/DictList.h |   16 --
 tools/Forge/Bundles/MapEdit/DictList.m |   63 --------
 tools/Forge/Bundles/MapEdit/misc.m     |  264 --------------------------------
 tools/Forge/Bundles/MapEdit/qedefs.h   |   59 -------
 4 files changed, 402 deletions(-)

commit 0e8d6d8
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Oct 11 21:11:33 2010 +0900

    Do a bit of comment cleanup.

 tools/Forge/Bundles/MapEdit/CameraView.m       |   48 ++++++-------------
 tools/Forge/Bundles/MapEdit/Clipper.m          |    2 +-
 tools/Forge/Bundles/MapEdit/Dict.m             |   14 ------
 tools/Forge/Bundles/MapEdit/DictList.m         |    7 +--
 tools/Forge/Bundles/MapEdit/Entity.m           |    4 +-
 tools/Forge/Bundles/MapEdit/EntityClass.m      |    4 +-
 tools/Forge/Bundles/MapEdit/InspectorControl.m |    4 --
 tools/Forge/Bundles/MapEdit/Map.m              |    4 +-
 tools/Forge/Bundles/MapEdit/Preferences.m      |   19 --------
 tools/Forge/Bundles/MapEdit/Project.m          |   36 +-------------
 tools/Forge/Bundles/MapEdit/QuakeEd.m          |   40 +++++-----------
 tools/Forge/Bundles/MapEdit/SetBrush.m         |   12 ++---
 tools/Forge/Bundles/MapEdit/TexturePalette.m   |   34 +-------------
 tools/Forge/Bundles/MapEdit/Things.m           |   12 -----
 tools/Forge/Bundles/MapEdit/XYView.m           |   45 +++++-------------
 tools/Forge/Bundles/MapEdit/ZView.m            |   59 +++++++++--------------
 tools/Forge/Bundles/MapEdit/render.m           |   60 +++++++-----------------
 17 files changed, 93 insertions(+), 311 deletions(-)

commit ff41feb
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Oct 11 09:52:10 2010 +0900

    Allow entity copying too.

 tools/Forge/Bundles/MapEdit/Entity.m |   25 +++++++++++++++++++++++++
 1 file changed, 25 insertions(+)

commit cb970bd
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Oct 11 09:19:09 2010 +0900

    Can now copy brushes.
    
    Implement SetBrush's copyWithZone:

 tools/Forge/Bundles/MapEdit/SetBrush.m |   22 ++++++++++++++++++++++
 1 file changed, 22 insertions(+)

commit 74d959e
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Sun Oct 10 06:20:20 2010 -0400

    Cope gracefully with wadfiles we can't handle
    
    This is a weird little diff. We're doing a lot of gymnastics here so that
    we don't have to crash (killing any loaded unsaved work!) when we find a
    wadfile we don't know how to deal with.

 tools/Forge/Bundles/MapEdit/TexturePalette.m |   54 +++++++++++++++++---------
 1 file changed, 36 insertions(+), 18 deletions(-)

commit 6702f04
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Oct 10 18:47:27 2010 +0900

    Fix key resetting.
    
    Make sure we don't add a new key-pair when the key already exists, and if
    the existing value has the same pointer as the "new" value, do nothing.

 tools/Forge/Bundles/MapEdit/Entity.m |    3 +++
 1 file changed, 3 insertions(+)

commit 694a405
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Oct 10 18:31:14 2010 +0900

    Make sure unterminated lump names don't cause propblems when comparing.

 libs/util/wadfile.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit f7412e8
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Oct 10 18:21:30 2010 +0900

    Ensure the string to be hashed is terminated.

 libs/util/wadfile.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit ff94a0f
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Oct 10 17:07:48 2010 +0900

    Can now select textures.

 tools/Forge/Bundles/MapEdit/TextureView.m |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 47117f1
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Sun Oct 10 03:55:01 2010 -0400

    return the actual string
    
    Oops. I returned a text field instead of the string in it. :)

 tools/Forge/Bundles/MapEdit/Project.m |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 877067d
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Sun Oct 10 03:37:43 2010 -0400

    Export the base directory of the open project
    
    Project -baseDirectoryPath returns the absolute path to the directory from
    which the .qpr file was loaded.

 tools/Forge/Bundles/MapEdit/Project.h        |    1 +
 tools/Forge/Bundles/MapEdit/Project.m        |    5 +++++
 tools/Forge/Bundles/MapEdit/TexturePalette.m |    3 ++-
 3 files changed, 8 insertions(+), 1 deletion(-)

commit 22885a4
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Oct 10 15:52:18 2010 +0900

    Correctly initialize the path variables.
    
    Use the current project file, not the default.

 tools/Forge/Bundles/MapEdit/Project.m |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c95ef59
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Sun Oct 10 02:31:55 2010 -0400

    Ignore all *.a files, testsound
    
    the ruamoko/ dir had some .a libs that needed ignoring, and
    libs/audio/testsound should be ignored too.

 .gitignore |    5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

commit 0d0e7bf
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Sun Oct 10 02:24:35 2010 -0400

    TexturePalette.m: microscopic update
    
    remove a bogus comment, clarify a printf call, add parens around a ternary
    test.

 tools/Forge/Bundles/MapEdit/TexturePalette.m |    6 ++----
 1 file changed, 2 insertions(+), 4 deletions(-)

commit ba508fa
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Sun Oct 10 01:51:22 2010 -0400

    TexturePalette: Prevent NULL dereference
    
    Keep the app from crashing on a wad that doesn't have any palette at all.

 tools/Forge/Bundles/MapEdit/TexturePalette.m |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit d75f5f3
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Oct 10 13:07:28 2010 +0900

    Fix brush selection.
    
    The great cleanup caused a few vital returns to disappear (they probably
    went to the same place a lot of my lego did).

 tools/Forge/Bundles/MapEdit/SetBrush.m |    3 +++
 1 file changed, 3 insertions(+)

commit 946a06b
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Oct 9 21:57:18 2010 +0900

    Don't crash if the palette entry is not first.
    
    Instead, swap the palette entry and the first entry (only in memory).

 tools/Forge/Bundles/MapEdit/TexturePalette.m |   16 ++++++++++++++--
 1 file changed, 14 insertions(+), 2 deletions(-)

commit 78a816d
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Oct 9 21:56:04 2010 +0900

    Correct miptex byte-count scaling factor.

 tools/wad/wad.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 845202e
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Oct 9 16:10:49 2010 +0900

    Make wad files type size-safe.

 include/QF/wadfile.h |   12 ++++++------
 1 file changed, 6 insertions(+), 6 deletions(-)

commit 1928780
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Oct 9 15:34:03 2010 +0900

    Support Quests' map format.
    
    This is mostly because I have a few maps in this format.

 tools/Forge/Bundles/MapEdit/SetBrush.m |   77 +++++++++++++++++++++++++++-----
 1 file changed, 67 insertions(+), 10 deletions(-)

commit ae1d524
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Oct 9 15:04:40 2010 +0900

    Got the value/key backwards.

 tools/Forge/Bundles/MapEdit/Preferences.m |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c264469
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Oct 9 10:02:05 2010 +0900

    Even more conversions to NSString

 tools/Forge/Bundles/MapEdit/Preferences.h |    2 +-
 tools/Forge/Bundles/MapEdit/Preferences.m |  107 +++++++++--------------------
 2 files changed, 33 insertions(+), 76 deletions(-)

commit 12d79ba
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Oct 9 09:49:35 2010 +0900

    More conversions to NSString

 tools/Forge/Bundles/MapEdit/Preferences.h    |    8 ++---
 tools/Forge/Bundles/MapEdit/Preferences.m    |   48 ++++++++++++--------------
 tools/Forge/Bundles/MapEdit/Project.m        |    8 ++---
 tools/Forge/Bundles/MapEdit/TexturePalette.m |    2 +-
 4 files changed, 31 insertions(+), 35 deletions(-)

commit fd000b8
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Oct 7 17:58:26 2010 +0900

    Do a lot of conversions to NSString.

 tools/Forge/Bundles/MapEdit/Project.h |   20 ++++----
 tools/Forge/Bundles/MapEdit/Project.m |   38 +++++++--------
 tools/Forge/Bundles/MapEdit/QuakeEd.h |    6 +--
 tools/Forge/Bundles/MapEdit/QuakeEd.m |   85 ++++++++++++++++-----------------
 tools/Forge/Bundles/MapEdit/Things.m  |   16 +++----
 5 files changed, 80 insertions(+), 85 deletions(-)

commit 2ac2f5f
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Oct 5 23:48:56 2010 +0900

    Change path_projectinfo to NSString.

 tools/Forge/Bundles/MapEdit/Preferences.m |    4 +---
 tools/Forge/Bundles/MapEdit/Project.h     |    6 +++---
 tools/Forge/Bundles/MapEdit/Project.m     |   33 ++++++++++++++---------------
 3 files changed, 20 insertions(+), 23 deletions(-)

commit 1180a54
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Oct 5 23:48:06 2010 +0900

    It seems I forgot to commit this with the plist changes.

 tools/Forge/Bundles/MapEdit/Project.h |   26 ++++------
 tools/Forge/Bundles/MapEdit/Project.m |   87 +++------------------------------
 2 files changed, 15 insertions(+), 98 deletions(-)

commit b28ba46
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Oct 4 19:44:37 2010 +0900

    Fix wad loading when loading the map.
    
    This broke with the fix for the entity inspector.

 tools/Forge/Bundles/MapEdit/Map.m |    7 ++++---
 1 file changed, 4 insertions(+), 3 deletions(-)

commit da2c87f
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Oct 4 19:43:33 2010 +0900

    Use QF's property lists for the project file.

 tools/Forge/Bundles/MapEdit/Dict.h      |   21 +-
 tools/Forge/Bundles/MapEdit/Dict.m      |  452 +++----------------------------
 tools/Forge/Bundles/MapEdit/GNUmakefile |    4 +-
 tools/Forge/Bundles/MapEdit/Project.h   |    6 +-
 tools/Forge/Bundles/MapEdit/Project.m   |   37 +--
 tools/Forge/Bundles/MapEdit/quake.qpr   |   90 +++++-
 6 files changed, 150 insertions(+), 460 deletions(-)

commit 24fad61
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Oct 2 21:00:15 2010 +0900

    First step in cleaning up Dict.

 tools/Forge/Bundles/MapEdit/Dict.h |    6 +-
 tools/Forge/Bundles/MapEdit/Dict.m |  113 ++++++++++++++----------------------
 2 files changed, 45 insertions(+), 74 deletions(-)

commit 5c0fb3e
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Oct 2 20:35:22 2010 +0900

    Correct an error message.

 tools/Forge/Bundles/MapEdit/Entity.m |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 6c96402
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Oct 1 19:00:10 2010 +0900

    Get the button icons set properly.
    
    There are still issues with the way gorm does things, but this works for
    now.

 tools/Forge/Bundles/MapEdit/MapEdit.gorm/objects.gorm |  Bin 93436 -> 87785 bytes
 1 file changed, 0 insertions(+), 0 deletions(-)

commit 6025640
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Fri Oct 1 05:51:43 2010 -0400

    install images into Resources
    
    Install the button icons into the app when we make it.

 tools/Forge/Bundles/MapEdit/GNUmakefile |   16 +++++++++++++++-
 1 file changed, 15 insertions(+), 1 deletion(-)

commit edf5f6e
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Wed Sep 29 18:46:34 2010 -0400

    find $GNUSTEP_MAKEFILES
    
    Enable locating the GNUstep makefiles using the various schemes available
    (in order of reliability), eventually reaching a hardcoded default.

 tools/Forge/Bundles/MapEdit/GNUmakefile                |    2 ++
 tools/Forge/Bundles/MapEdit/GNUmakefile.bundle         |    2 ++
 tools/Forge/Bundles/MapEdit/GNUmakefile.find-makefiles |   13 +++++++++++++
 3 files changed, 17 insertions(+)

commit 0e86828
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Wed Sep 29 18:42:57 2010 -0400

    ignore core files

 .gitignore |    1 +
 1 file changed, 1 insertion(+)

commit 0e5cd14
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Wed Sep 29 16:09:11 2010 -0400

    tactical whitespace bomb
    
    Add return-type information to all methods, split up lines properly where
    I could find them, and ran the whole thing through uncrustify. Looks purty
    now. :)

 tools/Forge/Bundles/MapEdit/CameraView.h       |   66 +--
 tools/Forge/Bundles/MapEdit/CameraView.m       |  301 +++++-----
 tools/Forge/Bundles/MapEdit/Clipper.h          |   16 +-
 tools/Forge/Bundles/MapEdit/Clipper.m          |  106 ++--
 tools/Forge/Bundles/MapEdit/Dict.h             |   42 +-
 tools/Forge/Bundles/MapEdit/Dict.m             |  281 ++++-----
 tools/Forge/Bundles/MapEdit/DictList.h         |   10 +-
 tools/Forge/Bundles/MapEdit/DictList.m         |   30 +-
 tools/Forge/Bundles/MapEdit/Entity.h           |   42 +-
 tools/Forge/Bundles/MapEdit/Entity.m           |  235 ++++----
 tools/Forge/Bundles/MapEdit/EntityClass.h      |   42 +-
 tools/Forge/Bundles/MapEdit/EntityClass.m      |  104 ++--
 tools/Forge/Bundles/MapEdit/InspectorControl.h |   26 +-
 tools/Forge/Bundles/MapEdit/InspectorControl.m |    6 +-
 tools/Forge/Bundles/MapEdit/KeypairView.h      |   14 +-
 tools/Forge/Bundles/MapEdit/KeypairView.m      |   43 +-
 tools/Forge/Bundles/MapEdit/Map.h              |   82 +--
 tools/Forge/Bundles/MapEdit/Map.m              |  693 +++++++++++------------
 tools/Forge/Bundles/MapEdit/PopScrollView.h    |   11 +-
 tools/Forge/Bundles/MapEdit/PopScrollView.m    |   59 +-
 tools/Forge/Bundles/MapEdit/Preferences.h      |   84 ++-
 tools/Forge/Bundles/MapEdit/Preferences.m      |  185 +++---
 tools/Forge/Bundles/MapEdit/Project.h          |  167 +++---
 tools/Forge/Bundles/MapEdit/Project.m          |  316 ++++++-----
 tools/Forge/Bundles/MapEdit/QuakeEd.h          |  128 ++---
 tools/Forge/Bundles/MapEdit/QuakeEd.m          |  562 +++++++++---------
 tools/Forge/Bundles/MapEdit/QuakeEd_main.m     |   13 +-
 tools/Forge/Bundles/MapEdit/SetBrush.h         |  128 ++---
 tools/Forge/Bundles/MapEdit/SetBrush.m         |  723 ++++++++++++------------
 tools/Forge/Bundles/MapEdit/Storage.h          |   62 +-
 tools/Forge/Bundles/MapEdit/Storage.m          |  143 ++---
 tools/Forge/Bundles/MapEdit/TexturePalette.h   |  137 +++--
 tools/Forge/Bundles/MapEdit/TexturePalette.m   |  442 +++++++--------
 tools/Forge/Bundles/MapEdit/TextureView.h      |   10 +-
 tools/Forge/Bundles/MapEdit/TextureView.m      |   51 +-
 tools/Forge/Bundles/MapEdit/Things.h           |   45 +-
 tools/Forge/Bundles/MapEdit/Things.m           |  209 ++++---
 tools/Forge/Bundles/MapEdit/XYView.h           |   61 +-
 tools/Forge/Bundles/MapEdit/XYView.m           |  720 ++++++++++++-----------
 tools/Forge/Bundles/MapEdit/ZScrollView.h      |    9 +-
 tools/Forge/Bundles/MapEdit/ZScrollView.m      |   40 +-
 tools/Forge/Bundles/MapEdit/ZView.h            |   43 +-
 tools/Forge/Bundles/MapEdit/ZView.m            |  400 ++++++-------
 tools/Forge/Bundles/MapEdit/misc.m             |   93 ++-
 tools/Forge/Bundles/MapEdit/qedefs.h           |   41 +-
 tools/Forge/Bundles/MapEdit/render.h           |   22 +-
 tools/Forge/Bundles/MapEdit/render.m           |  131 ++---
 47 files changed, 3558 insertions(+), 3616 deletions(-)

commit a4eec40
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Tue Sep 28 15:49:54 2010 -0400

    Remove -read:/-write from Storage
    
    Apparently GS doesn't do TypedStream any more...

 tools/Forge/Bundles/MapEdit/Storage.h |    3 ---
 tools/Forge/Bundles/MapEdit/Storage.m |   27 ---------------------------
 2 files changed, 30 deletions(-)

commit cdc79ae
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Tue Sep 28 15:43:35 2010 -0400

    Add type information, don't return self most of the time
    
    Start "modernizing" the code base; old code is based heavily in the
    Smalltalk style, where everything that doesn't return a different object
    returns self. This can be useful, but it isn't what is usually done these
    days. Also, add type information (which didn't exist in "the old days" --
    an object was an "id", not a "Foo *") to help with debugging.

 tools/Forge/Bundles/MapEdit/CameraView.h       |    4 +-
 tools/Forge/Bundles/MapEdit/CameraView.m       |   12 +-
 tools/Forge/Bundles/MapEdit/Clipper.h          |    8 +-
 tools/Forge/Bundles/MapEdit/Clipper.m          |   16 +--
 tools/Forge/Bundles/MapEdit/Entity.h           |   17 +--
 tools/Forge/Bundles/MapEdit/Entity.m           |   60 ++++----
 tools/Forge/Bundles/MapEdit/InspectorControl.h |   79 ++++++-----
 tools/Forge/Bundles/MapEdit/InspectorControl.m |  139 +++++++++---------
 tools/Forge/Bundles/MapEdit/Map.m              |   10 +-
 tools/Forge/Bundles/MapEdit/QuakeEd.m          |    4 +-
 tools/Forge/Bundles/MapEdit/SetBrush.h         |   70 ++++-----
 tools/Forge/Bundles/MapEdit/SetBrush.m         |  179 +++++++++---------------
 tools/Forge/Bundles/MapEdit/ZView.m            |    8 +-
 13 files changed, 269 insertions(+), 337 deletions(-)

commit 7dc5d26
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Mon Sep 27 14:09:02 2010 -0400

    SetBrush: signed/unsigned fix

 tools/Forge/Bundles/MapEdit/SetBrush.m |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit dbab154
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Mon Sep 27 14:06:22 2010 -0400

    Comment an #if 0
    
    Looks like John Carmack was going to implement "reference" .qpr directories,
    where they would contain a reference to the "real" base path, but never got
    it finished. Make a note in the source to explain the "dead" code.

 tools/Forge/Bundles/MapEdit/Project.m |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 4d63d20
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Mon Sep 27 14:01:07 2010 -0400

    signed/unsigned and some const-correctness

 tools/Forge/Bundles/MapEdit/Dict.h               |    2 +-
 tools/Forge/Bundles/MapEdit/Dict.m               |    6 +++---
 tools/Forge/Bundles/MapEdit/DictList.m           |    4 ++--
 tools/Forge/Bundles/MapEdit/Entity.m             |    3 ++-
 tools/Forge/Bundles/MapEdit/EntityClass.m        |    6 +++---
 tools/Forge/Bundles/MapEdit/GNUmakefile.preamble |    4 ++--
 tools/Forge/Bundles/MapEdit/Map.m                |    2 +-
 tools/Forge/Bundles/MapEdit/Project.m            |    2 +-
 tools/Forge/Bundles/MapEdit/QuakeEd.m            |   10 +++++-----
 tools/Forge/Bundles/MapEdit/Storage.m            |    8 ++++----
 10 files changed, 24 insertions(+), 23 deletions(-)

commit 646422d
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Sep 28 22:17:31 2010 +0900

    Get the timing right when setting the wad file in worldspawn.

 tools/Forge/Bundles/MapEdit/Map.m |   12 ++++++++----
 1 file changed, 8 insertions(+), 4 deletions(-)

commit 9396053
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Sep 28 22:17:07 2010 +0900

    Do error checking when trying to load a wad file.

 tools/Forge/Bundles/MapEdit/TexturePalette.h |    2 --
 tools/Forge/Bundles/MapEdit/TexturePalette.m |   17 +++++++++++++----
 2 files changed, 13 insertions(+), 6 deletions(-)

commit 997df6c
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Sep 28 21:40:11 2010 +0900

    Char buffer audit.
    
    Get rid of most static char buffers. The few remaining are either in file
    structs or messy code that needs further analysis.

 tools/Forge/Bundles/MapEdit/Dict.m           |   22 ++++-------
 tools/Forge/Bundles/MapEdit/Entity.m         |   52 ++++++++++++--------------
 tools/Forge/Bundles/MapEdit/EntityClass.m    |    4 +-
 tools/Forge/Bundles/MapEdit/Preferences.m    |   12 +++---
 tools/Forge/Bundles/MapEdit/Project.m        |   20 +++++-----
 tools/Forge/Bundles/MapEdit/QuakeEd.m        |    2 +-
 tools/Forge/Bundles/MapEdit/TexturePalette.m |   40 ++++++++++----------
 tools/Forge/Bundles/MapEdit/Things.m         |   37 ++++++++----------
 8 files changed, 85 insertions(+), 104 deletions(-)

commit 1b7be81
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Sep 28 18:41:38 2010 +0900

    Do a const-correct run.

 tools/Forge/Bundles/MapEdit/Dict.h           |   22 +++++-----
 tools/Forge/Bundles/MapEdit/Dict.m           |   29 ++++++-------
 tools/Forge/Bundles/MapEdit/DictList.h       |    4 +-
 tools/Forge/Bundles/MapEdit/DictList.m       |    4 +-
 tools/Forge/Bundles/MapEdit/Entity.h         |    9 ++--
 tools/Forge/Bundles/MapEdit/Entity.m         |    5 +--
 tools/Forge/Bundles/MapEdit/EntityClass.h    |    8 ++--
 tools/Forge/Bundles/MapEdit/EntityClass.m    |   14 +++----
 tools/Forge/Bundles/MapEdit/Map.h            |    4 +-
 tools/Forge/Bundles/MapEdit/Map.m            |    4 +-
 tools/Forge/Bundles/MapEdit/Preferences.h    |    2 +-
 tools/Forge/Bundles/MapEdit/Preferences.m    |    2 +-
 tools/Forge/Bundles/MapEdit/Project.h        |   37 ++++++++--------
 tools/Forge/Bundles/MapEdit/Project.m        |   58 +++++++++++++-------------
 tools/Forge/Bundles/MapEdit/QuakeEd.h        |    8 ++--
 tools/Forge/Bundles/MapEdit/QuakeEd.m        |   11 +++--
 tools/Forge/Bundles/MapEdit/Storage.h        |   16 ++++---
 tools/Forge/Bundles/MapEdit/TexturePalette.h |   15 +++----
 tools/Forge/Bundles/MapEdit/TexturePalette.m |   17 ++++----
 tools/Forge/Bundles/MapEdit/Things.h         |    2 +-
 tools/Forge/Bundles/MapEdit/Things.m         |    6 +--
 21 files changed, 131 insertions(+), 146 deletions(-)

commit 62c73b3
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Sep 28 00:29:16 2010 +0900

    Fix the tangled mess of entity connections.
    
    What was the person who wrote valueForQKey thinking? Make the function
    const-correct and bubble the changes through the code.

 tools/Forge/Bundles/MapEdit/Entity.h         |    4 ++--
 tools/Forge/Bundles/MapEdit/Entity.m         |   17 +++++++----------
 tools/Forge/Bundles/MapEdit/EntityClass.h    |    2 +-
 tools/Forge/Bundles/MapEdit/EntityClass.m    |    2 +-
 tools/Forge/Bundles/MapEdit/Map.m            |   13 +++++++------
 tools/Forge/Bundles/MapEdit/Project.h        |    2 +-
 tools/Forge/Bundles/MapEdit/Project.m        |    2 +-
 tools/Forge/Bundles/MapEdit/SetBrush.m       |    8 ++++----
 tools/Forge/Bundles/MapEdit/TexturePalette.h |    4 ++--
 tools/Forge/Bundles/MapEdit/TexturePalette.m |    4 ++--
 tools/Forge/Bundles/MapEdit/Things.m         |    6 +++---
 11 files changed, 31 insertions(+), 33 deletions(-)

commit 3574668
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Sep 28 00:02:24 2010 +0900

    Connect the region filtering switch.
    
    Region filtering now seems to work. Also added a tool tip.

 tools/Forge/Bundles/MapEdit/MapEdit.gorm/objects.gorm |  Bin 93418 -> 93436 bytes
 1 file changed, 0 insertions(+), 0 deletions(-)

commit d8773fd
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Sep 27 23:17:03 2010 +0900

    Get the entity flags switches into the right initial stage.

 tools/Forge/Bundles/MapEdit/Things.m |    7 +++++++
 1 file changed, 7 insertions(+)

commit 68190bd
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Sep 27 22:06:37 2010 +0900

    Echo the output to stdout as well as the output box.

 tools/Forge/Bundles/MapEdit/QuakeEd.m |    1 +
 1 file changed, 1 insertion(+)

commit 1aae3c8
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Sep 27 21:59:25 2010 +0900

    Get the inspector button displaying properly.

 tools/Forge/Bundles/MapEdit/InspectorControl.m        |    4 +---
 tools/Forge/Bundles/MapEdit/MapEdit.gorm/objects.gorm |  Bin 93345 -> 93418 bytes
 2 files changed, 1 insertion(+), 3 deletions(-)

commit bb3ea99
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Sep 27 20:53:52 2010 +0900

    Fix texture names.

 tools/Forge/Bundles/MapEdit/TexturePalette.m |   24 +++++++++++++++++++-----
 1 file changed, 19 insertions(+), 5 deletions(-)

commit dcc4187
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Sep 27 19:42:28 2010 +0900

    Get the timing write for when to restore the rects.

 tools/Forge/Bundles/MapEdit/CameraView.m |   11 +++++++----
 tools/Forge/Bundles/MapEdit/QuakeEd.h    |    5 +++++
 tools/Forge/Bundles/MapEdit/QuakeEd.m    |   17 ++++++++++++++++-
 tools/Forge/Bundles/MapEdit/XYView.m     |   25 ++++++++++++++-----------
 tools/Forge/Bundles/MapEdit/ZView.m      |   10 ++++++----
 5 files changed, 48 insertions(+), 20 deletions(-)

commit 9cc66c3
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 26 22:45:26 2010 +0900

    A bit more code cleanup.

 tools/Forge/Bundles/MapEdit/CameraView.m   |   20 ++++-----------
 tools/Forge/Bundles/MapEdit/Project.m      |    1 -
 tools/Forge/Bundles/MapEdit/QuakeEd_main.m |    1 -
 tools/Forge/Bundles/MapEdit/SetBrush.m     |    2 +-
 tools/Forge/Bundles/MapEdit/XYView.m       |   37 +++++++++++-----------------
 tools/Forge/Bundles/MapEdit/ZView.m        |   16 +++---------
 6 files changed, 25 insertions(+), 52 deletions(-)

commit 1e6cdb4
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 26 22:43:24 2010 +0900

    Replace PS*instance.
    
    It's a little flakey (doesn't always do the right thing), but it's a good
    start. I'd like to do much smaller rectangles, and get the timing right.

 tools/Forge/Bundles/MapEdit/QuakeEd.h |    3 ++
 tools/Forge/Bundles/MapEdit/QuakeEd.m |   52 ++++++++++++++++++++++++---------
 2 files changed, 41 insertions(+), 14 deletions(-)

commit 73a8234
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 26 16:26:12 2010 +0900

    Get the inspector button mostly working thanks to Deek's help.

 tools/Forge/Bundles/MapEdit/InspectorControl.h |    4 ++--
 tools/Forge/Bundles/MapEdit/InspectorControl.m |   15 ++++-----------
 2 files changed, 6 insertions(+), 13 deletions(-)

commit 7c3e6b8
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 26 16:24:00 2010 +0900

    Rectirect Sys_Printf's output to the command output box.

 .../Bundles/MapEdit/MapEdit.gorm/objects.gorm      |  Bin 93338 -> 93345 bytes
 tools/Forge/Bundles/MapEdit/QuakeEd.m              |   25 +++++++++++++-------
 2 files changed, 16 insertions(+), 9 deletions(-)

commit 3a6e5ea
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Sep 25 22:30:40 2010 +0900

    Fix a string comparision mistake.
    
    This snuck in with the parser changes.

 tools/qflight/source/entities.c |    9 +++++----
 1 file changed, 5 insertions(+), 4 deletions(-)

commit 4ed7290
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Sep 25 19:24:12 2010 +0900

    Fix an uninitizized variable.

 tools/qfvis/source/soundphs.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit cfa13f1
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Sep 25 11:58:53 2010 +0900

    Work around a method type mismatch in GNUstep.

 tools/Forge/Bundles/MapEdit/TexturePalette.h |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c1fac2c
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Sep 24 23:17:25 2010 +0900

    Hopefully fix the flush control and second screen placement.

 tools/Forge/Bundles/MapEdit/QuakeEd.m |   10 ++++++----
 tools/Forge/Bundles/MapEdit/XYView.m  |    4 ++++
 tools/Forge/Bundles/MapEdit/ZView.m   |    4 ++++
 3 files changed, 14 insertions(+), 4 deletions(-)

commit ec98bb3
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Sep 24 20:46:24 2010 +0900

    Get help working (for what it is worth).

 tools/Forge/Bundles/MapEdit/GNUmakefile               |    2 +-
 tools/Forge/Bundles/MapEdit/InspectorControl.h        |    2 ++
 tools/Forge/Bundles/MapEdit/InspectorControl.m        |    9 ++++++++-
 tools/Forge/Bundles/MapEdit/MapEdit.gorm/data.classes |    1 +
 tools/Forge/Bundles/MapEdit/MapEdit.gorm/objects.gorm |  Bin 93294 -> 93338 bytes
 5 files changed, 12 insertions(+), 2 deletions(-)

commit 4b1202d
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Sep 24 20:46:06 2010 +0900

    Remove debugging code.

 tools/Forge/Bundles/MapEdit/TextureView.m |    6 ++----
 1 file changed, 2 insertions(+), 4 deletions(-)

commit 73b89ba
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Sep 24 20:44:07 2010 +0900

    Do not use PS* functions.

 tools/Forge/Bundles/MapEdit/Clipper.m |   54 ++++++++++++----------
 tools/Forge/Bundles/MapEdit/XYView.m  |   45 ++++++++++++-------
 tools/Forge/Bundles/MapEdit/ZView.h   |    2 +
 tools/Forge/Bundles/MapEdit/ZView.m   |   79 ++++++++++++++++++++-------------
 4 files changed, 109 insertions(+), 71 deletions(-)

commit 4dd0bf5
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Sep 24 00:09:52 2010 +0900

    Get TextureView working.

 tools/Forge/Bundles/MapEdit/TexturePalette.m |    2 +-
 tools/Forge/Bundles/MapEdit/TextureView.m    |   50 ++++++++++++--------------
 2 files changed, 24 insertions(+), 28 deletions(-)

commit 950af62
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Sep 23 22:56:07 2010 +0900

    Get the Z checker working.

 tools/Forge/Bundles/MapEdit/SetBrush.m |   42 ++++++++++++--------------------
 1 file changed, 15 insertions(+), 27 deletions(-)

commit 6509a24
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Sep 23 22:09:58 2010 +0900

    KeypairView now seems to work properly.

 tools/Forge/Bundles/MapEdit/KeypairView.m |   34 +++++++++++++++--------------
 1 file changed, 18 insertions(+), 16 deletions(-)

commit c023695
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Sep 23 17:29:52 2010 +0900

    Don't change the font size when scaling the views.
    
    This keeps the displayed size of the text constant (text size is independent of bounds/frame scaling)

 tools/Forge/Bundles/MapEdit/XYView.m |    2 +-
 tools/Forge/Bundles/MapEdit/ZView.m  |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 6be1f51
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Sep 23 17:24:21 2010 +0900

    Get the keyboard controls working.

 tools/Forge/Bundles/MapEdit/CameraView.m |   20 +++++-------
 tools/Forge/Bundles/MapEdit/QuakeEd.m    |   49 +++++++++++++-----------------
 2 files changed, 28 insertions(+), 41 deletions(-)

commit 27fdf21
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Sep 23 13:29:12 2010 +0900

    Modernize the camera eye glyph drawing.

 tools/Forge/Bundles/MapEdit/CameraView.h |    4 ++
 tools/Forge/Bundles/MapEdit/CameraView.m |   93 ++++++++++++++++++++----------
 2 files changed, 67 insertions(+), 30 deletions(-)

commit 91751d9
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Sep 22 22:18:13 2010 +0900

    Get scaling working in the Z view as well.

 tools/Forge/Bundles/MapEdit/XYView.h |    4 +
 tools/Forge/Bundles/MapEdit/XYView.m |   71 ++++++++---------
 tools/Forge/Bundles/MapEdit/ZView.m  |  142 ++++++++++++++--------------------
 3 files changed, 95 insertions(+), 122 deletions(-)

commit a020172
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Sep 22 17:49:30 2010 +0900

    Finally have the scaling working perfectly(?).
    
    I had to hack around problems in GNUstep's bounds implementation (I don't
    know if they're bugs or design limitations), but the fix was just a matter
    of making sure the bounds matrix was correct: force the scale to 1 before
    adjusting bounds, and then make sure the translation is scaled afterwards.

 tools/Forge/Bundles/MapEdit/XYView.m |   17 +++++++++--------
 1 file changed, 9 insertions(+), 8 deletions(-)

commit e2f8490
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Sep 21 23:07:21 2010 +0900

    Get scale changes halfway working.
    
    Translation is still wrong, but changing scale to (eg) 200% and back to
    100% works correctly.

 tools/Forge/Bundles/MapEdit/XYView.m |  177 ++++++++++++++++++----------------
 1 file changed, 92 insertions(+), 85 deletions(-)

commit 7f5a680
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Sep 20 03:06:35 2010 +0900

    slow progress in getting things to work

 .../Bundles/MapEdit/MapEdit.gorm/objects.gorm      |  Bin 93396 -> 93294 bytes
 tools/Forge/Bundles/MapEdit/PopScrollView.m        |    5 +-
 tools/Forge/Bundles/MapEdit/XYView.h               |    4 +-
 tools/Forge/Bundles/MapEdit/XYView.m               |   76 +++++++++++---------
 tools/Forge/Bundles/MapEdit/ZScrollView.m          |    8 ++-
 tools/Forge/Bundles/MapEdit/ZView.h                |    3 +-
 tools/Forge/Bundles/MapEdit/ZView.m                |   54 +++++++-------
 7 files changed, 80 insertions(+), 70 deletions(-)

commit a229f20
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 19 17:28:28 2010 +0900

    Get textures sortof displaying.

 tools/Forge/Bundles/MapEdit/TextureView.m |   12 +++++++-----
 1 file changed, 7 insertions(+), 5 deletions(-)

commit e15b963
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 19 17:05:34 2010 +0900

    Correct alert panel handling.

 tools/Forge/Bundles/MapEdit/Project.m |   10 +++++++---
 tools/Forge/Bundles/MapEdit/QuakeEd.m |    8 +++++---
 2 files changed, 12 insertions(+), 6 deletions(-)

commit 0d5bd77
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 19 17:04:37 2010 +0900

    Get the textureView connection right.

 tools/Forge/Bundles/MapEdit/MapEdit.gorm/objects.gorm |  Bin 93459 -> 93396 bytes
 1 file changed, 0 insertions(+), 0 deletions(-)

commit 752ff7d
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 19 17:04:03 2010 +0900

    Don't segfault when unable to open a file.

 tools/Forge/Bundles/MapEdit/Map.m     |    2 ++
 tools/Forge/Bundles/MapEdit/QuakeEd.m |    2 ++
 2 files changed, 4 insertions(+)

commit 43d2d96
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Sep 17 14:30:46 2010 +0900

    Get the sizes of the inspectors reasonable.
    
    The inspector popup button is funky (need to select the desirned inspector
    twice), but it can be made to work.

 tools/Forge/Bundles/MapEdit/InspectorControl.m        |    2 +-
 tools/Forge/Bundles/MapEdit/MapEdit.gorm/objects.gorm |  Bin 93245 -> 93459 bytes
 2 files changed, 1 insertion(+), 1 deletion(-)

commit 0de8e38
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Sep 14 23:10:20 2010 +0900

    Get the inspectors showing.
    
    Still can't change them via the pop-up menu, though.

 tools/Forge/Bundles/MapEdit/InspectorControl.h        |    1 -
 tools/Forge/Bundles/MapEdit/InspectorControl.m        |    8 +++++---
 tools/Forge/Bundles/MapEdit/MapEdit.gorm/objects.gorm |  Bin 93151 -> 93245 bytes
 3 files changed, 5 insertions(+), 4 deletions(-)

commit 3193374
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Sep 14 22:29:43 2010 +0900

    Accidently commited a failed experiment.

 tools/Forge/Bundles/MapEdit/GNUmakefile |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 7d5af7c
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Sep 14 22:17:35 2010 +0900

    Finish the gorm file, for certain values of finished.

 tools/Forge/Bundles/MapEdit/Clipper.m              |    7 ++--
 tools/Forge/Bundles/MapEdit/GNUmakefile            |    4 +--
 tools/Forge/Bundles/MapEdit/InspectorControl.m     |   11 ++++--
 tools/Forge/Bundles/MapEdit/KeypairView.m          |    3 +-
 .../Bundles/MapEdit/MapEdit.gorm/data.classes      |   38 ++++++++++++++++++++
 .../Bundles/MapEdit/MapEdit.gorm/objects.gorm      |  Bin 49503 -> 93151 bytes
 tools/Forge/Bundles/MapEdit/Project.m              |    3 +-
 tools/Forge/Bundles/MapEdit/TextureView.m          |    2 +-
 tools/Forge/Bundles/MapEdit/Things.m               |    7 ++--
 tools/Forge/Bundles/MapEdit/XYView.m               |    3 +-
 tools/Forge/Bundles/MapEdit/ZView.m                |    3 +-
 11 files changed, 59 insertions(+), 22 deletions(-)

commit b215a5e
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 12 22:40:50 2010 +0900

    Camera view seems to work moderately well.

 tools/Forge/Bundles/MapEdit/MapEdit.gorm/data.classes |   10 ++++++++++
 tools/Forge/Bundles/MapEdit/MapEdit.gorm/objects.gorm |  Bin 39400 -> 49503 bytes
 tools/Forge/Bundles/MapEdit/QuakeEd.m                 |    6 +++++-
 tools/Forge/Bundles/MapEdit/TexturePalette.m          |   10 ++++------
 4 files changed, 19 insertions(+), 7 deletions(-)

commit f8ce05d
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 12 19:57:34 2010 +0900

    Entity loading from maps seems to work.

 tools/Forge/Bundles/MapEdit/Entity.m |    6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit f6ebcd4
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 12 19:47:44 2010 +0900

    Use QF's wadfile support.
    
    Still fragile, but it can load wad files.

 tools/Forge/Bundles/MapEdit/TexturePalette.m |   77 +++++++++-----------------
 1 file changed, 27 insertions(+), 50 deletions(-)

commit 972e98e
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 12 19:46:41 2010 +0900

    Get QUAKED comments working.

 tools/Forge/Bundles/MapEdit/EntityClass.m |   21 +++++++++++----------
 1 file changed, 11 insertions(+), 10 deletions(-)

commit c820735
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 12 18:12:02 2010 +0900

    Get progs source scanning working.
    
    Of course, this is if the environment is set up just right, but it's
    another step towards something to fix.

 tools/Forge/Bundles/MapEdit/EntityClass.m          |    3 +-
 .../Bundles/MapEdit/MapEdit.gorm/data.classes      |   78 ++++++++++++
 .../Bundles/MapEdit/MapEdit.gorm/objects.gorm      |  Bin 35451 -> 39400 bytes
 tools/Forge/Bundles/MapEdit/Preferences.m          |   12 +-
 tools/Forge/Bundles/MapEdit/Project.m              |   15 ++-
 tools/Forge/Bundles/MapEdit/SetBrush.m             |  125 ++++++++++----------
 tools/Forge/Bundles/MapEdit/Things.m               |    1 +
 7 files changed, 160 insertions(+), 74 deletions(-)

commit a2ab1c8
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 12 16:40:32 2010 +0900

    A little more progress: loading a map does not seg.

 .../Bundles/MapEdit/MapEdit.gorm/data.classes      |   83 ++++++++++++++++++++
 .../Bundles/MapEdit/MapEdit.gorm/objects.gorm      |  Bin 34091 -> 35451 bytes
 tools/Forge/Bundles/MapEdit/QuakeEd.m              |    2 -
 3 files changed, 83 insertions(+), 2 deletions(-)

commit 0e42593
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 12 16:25:25 2010 +0900

    Get map loading sort-of working.
    
    Segfaults, but the Map class can now be instantiated.

 tools/Forge/Bundles/MapEdit/DictList.h      |    1 +
 tools/Forge/Bundles/MapEdit/DictList.m      |    6 ++++-
 tools/Forge/Bundles/MapEdit/Entity.h        |    1 +
 tools/Forge/Bundles/MapEdit/Entity.m        |    8 ++++--
 tools/Forge/Bundles/MapEdit/EntityClass.h   |    1 +
 tools/Forge/Bundles/MapEdit/EntityClass.m   |    6 ++++-
 tools/Forge/Bundles/MapEdit/GNUmakefile     |    4 ++-
 tools/Forge/Bundles/MapEdit/Map.h           |    1 +
 tools/Forge/Bundles/MapEdit/Map.m           |   11 +++++----
 tools/Forge/Bundles/MapEdit/QuakeEd.m       |    4 ++-
 tools/Forge/Bundles/MapEdit/THING+NSArray.m |   35 +++++++++++++++++++++++++++
 11 files changed, 67 insertions(+), 11 deletions(-)

commit 4fdc34e
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 12 14:31:59 2010 +0900

    Get some screen updates happening.

 tools/Forge/Bundles/MapEdit/CameraView.m           |    2 +-
 tools/Forge/Bundles/MapEdit/GNUmakefile            |    2 +-
 .../Bundles/MapEdit/MapEdit.gorm/objects.gorm      |  Bin 31825 -> 34091 bytes
 tools/Forge/Bundles/MapEdit/QuakeEd.h              |    8 +--
 tools/Forge/Bundles/MapEdit/QuakeEd.m              |   68 +++++++++-----------
 tools/Forge/Bundles/MapEdit/QuakeEd_main.m         |   22 +++++++
 tools/Forge/Bundles/MapEdit/XYView.m               |    5 +-
 tools/Forge/Bundles/MapEdit/ZView.m                |   17 ++---
 8 files changed, 70 insertions(+), 54 deletions(-)

commit ef7492f
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Sun Sep 12 00:42:12 2010 -0400

    correct fix for ForgeBundle protocol issue

 tools/Forge/Controller.m |    3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit 3dcfd69
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Sun Sep 12 00:41:10 2010 -0400

    Update makefile's add'l install dirs
    
    This rule would create the raw path /Library/Forge three times...fix it to
    create Forge dirs with the new scheme.

 tools/Forge/GNUmakefile.preamble |    7 ++++---
 1 file changed, 4 insertions(+), 3 deletions(-)

commit e959a6e
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 12 11:13:35 2010 +0900

    Add \n to Sys_Printf calls.

 tools/Forge/Bundles/MapEdit/CameraView.m     |   19 +++++----
 tools/Forge/Bundles/MapEdit/Clipper.m        |    2 +-
 tools/Forge/Bundles/MapEdit/Map.m            |   54 +++++++++++++-------------
 tools/Forge/Bundles/MapEdit/Preferences.m    |    2 +-
 tools/Forge/Bundles/MapEdit/Project.m        |    2 +-
 tools/Forge/Bundles/MapEdit/QuakeEd.m        |   22 +++++------
 tools/Forge/Bundles/MapEdit/TexturePalette.m |    4 +-
 tools/Forge/Bundles/MapEdit/XYView.m         |   22 +++++------
 tools/Forge/Bundles/MapEdit/ZView.m          |   13 +++----
 9 files changed, 69 insertions(+), 71 deletions(-)

commit 9ffcc86
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 12 10:58:19 2010 +0900

    Make the menus and do some connections.

 tools/Forge/Bundles/MapEdit/MapEdit.gorm/objects.gorm |  Bin 24723 -> 31825 bytes
 1 file changed, 0 insertions(+), 0 deletions(-)

commit fdede64
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 12 10:55:28 2010 +0900

    ignore app files

 .gitignore |    1 +
 1 file changed, 1 insertion(+)

commit 7f41d15
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 12 10:16:12 2010 +0900

    Make it run.
    
    Fix some bad memory handling in XYView and ZView, and remove the unset
    CustomView.

 tools/Forge/Bundles/MapEdit/MapEdit.gorm/objects.gorm |  Bin 24849 -> 24723 bytes
 tools/Forge/Bundles/MapEdit/XYView.m                  |    1 -
 tools/Forge/Bundles/MapEdit/ZView.m                   |    1 -
 3 files changed, 2 deletions(-)

commit 44942df
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 12 08:43:55 2010 +0900

    Fixes for building with QF.

 tools/Forge/Bundles/MapEdit/Preferences.m    |    3 +-
 tools/Forge/Bundles/MapEdit/Project.m        |    2 +-
 tools/Forge/Bundles/MapEdit/QuakeEd.m        |   27 ++++++++---------
 tools/Forge/Bundles/MapEdit/TexturePalette.m |    8 +++---
 tools/Forge/Bundles/MapEdit/XYView.m         |   40 +++++++++++---------------
 tools/Forge/Bundles/MapEdit/ZView.m          |   14 ++++-----
 6 files changed, 44 insertions(+), 50 deletions(-)

commit 9ec5310
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 12 08:14:08 2010 +0900

    Again, whitespace.

 tools/Forge/Bundles/MapEdit/CameraView.h       |    3 ++-
 tools/Forge/Bundles/MapEdit/Clipper.h          |    3 ++-
 tools/Forge/Bundles/MapEdit/DictList.h         |    2 +-
 tools/Forge/Bundles/MapEdit/InspectorControl.h |    3 ++-
 tools/Forge/Bundles/MapEdit/Map.h              |    3 ++-
 tools/Forge/Bundles/MapEdit/PopScrollView.h    |    3 ++-
 tools/Forge/Bundles/MapEdit/Preferences.h      |    3 ++-
 tools/Forge/Bundles/MapEdit/Project.h          |    3 ++-
 tools/Forge/Bundles/MapEdit/QuakeEd.h          |    3 ++-
 tools/Forge/Bundles/MapEdit/SetBrush.h         |    3 ++-
 tools/Forge/Bundles/MapEdit/Storage.h          |    3 ++-
 tools/Forge/Bundles/MapEdit/TextureView.h      |    3 ++-
 12 files changed, 23 insertions(+), 12 deletions(-)

commit 6500333
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 12 08:13:39 2010 +0900

    For now, build an app rather than a bundle.

 tools/Forge/Bundles/MapEdit/GNUmakefile          |   63 +++++++++++++++++-----
 tools/Forge/Bundles/MapEdit/GNUmakefile.bundle   |   27 ++++++++++
 tools/Forge/Bundles/MapEdit/GNUmakefile.preamble |    2 +-
 3 files changed, 77 insertions(+), 15 deletions(-)

commit f257548
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 12 01:43:03 2010 +0900

    Fix some bitrot.
    
    I'm not happy with the fix in Controller.m, but I'm not sure what the best
    way to fix it is.

 tools/Forge/Bundles/MainPrefs/MainPrefs.m |    1 +
 tools/Forge/Controller.m                  |    3 ++-
 2 files changed, 3 insertions(+), 1 deletion(-)

commit 81a3eaf
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 12 01:42:05 2010 +0900

    Initial Gorm file for MapEdit.

 .../Bundles/MapEdit/MapEdit.gorm/DownArrow.tiff    |  Bin 0 -> 256 bytes
 .../Bundles/MapEdit/MapEdit.gorm/UpArrow.tiff      |  Bin 0 -> 258 bytes
 .../Bundles/MapEdit/MapEdit.gorm/data.classes      |  106 ++++++++++++++++++++
 tools/Forge/Bundles/MapEdit/MapEdit.gorm/data.info |  Bin 0 -> 184 bytes
 .../Forge/Bundles/MapEdit/MapEdit.gorm/i_90d.tiff  |  Bin 0 -> 1346 bytes
 .../Forge/Bundles/MapEdit/MapEdit.gorm/i_add.tiff  |  Bin 0 -> 1346 bytes
 .../Bundles/MapEdit/MapEdit.gorm/i_brushes.tiff    |  Bin 0 -> 1346 bytes
 .../Bundles/MapEdit/MapEdit.gorm/i_fliph.tiff      |  Bin 0 -> 1346 bytes
 .../Bundles/MapEdit/MapEdit.gorm/i_flipv.tiff      |  Bin 0 -> 1346 bytes
 .../Bundles/MapEdit/MapEdit.gorm/i_quakeed.tiff    |  Bin 0 -> 29799 bytes
 .../Forge/Bundles/MapEdit/MapEdit.gorm/i_sub.tiff  |  Bin 0 -> 1346 bytes
 .../Bundles/MapEdit/MapEdit.gorm/objects.gorm      |  Bin 0 -> 24849 bytes
 .../Forge/Bundles/MapEdit/MapEdit.gorm/short.tiff  |  Bin 0 -> 1346 bytes
 tools/Forge/Bundles/MapEdit/MapEdit.gorm/tall.tiff |  Bin 0 -> 1346 bytes
 14 files changed, 106 insertions(+)

commit b5f5ad6
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 12 01:41:18 2010 +0900

    Whitespace.

 tools/Forge/Bundles/MapEdit/CameraView.h       |   19 ++----
 tools/Forge/Bundles/MapEdit/Dict.h             |   41 +++++--------
 tools/Forge/Bundles/MapEdit/DictList.h         |    3 +-
 tools/Forge/Bundles/MapEdit/Entity.h           |    9 ++-
 tools/Forge/Bundles/MapEdit/EntityClass.h      |    6 +-
 tools/Forge/Bundles/MapEdit/InspectorControl.h |   11 ++--
 tools/Forge/Bundles/MapEdit/KeypairView.h      |    4 +-
 tools/Forge/Bundles/MapEdit/Map.h              |    4 +-
 tools/Forge/Bundles/MapEdit/SetBrush.h         |   77 ++++++------------------
 tools/Forge/Bundles/MapEdit/TexturePalette.h   |    3 +-
 tools/Forge/Bundles/MapEdit/Things.h           |    3 +-
 tools/Forge/Bundles/MapEdit/XYView.h           |    8 +--
 tools/Forge/Bundles/MapEdit/ZScrollView.h      |    6 +-
 tools/Forge/Bundles/MapEdit/ZView.h            |    3 +-
 14 files changed, 75 insertions(+), 122 deletions(-)

commit 7ebb7c5
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Sep 11 23:47:05 2010 +0900

    Remove unused file.

 tools/Forge/Bundles/MapEdit/Brush.h |   56 -----------------------------------
 1 file changed, 56 deletions(-)

commit e93bb3f
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Sep 11 23:44:09 2010 +0900

    Remove some redundant files.
    
    Use the functions provided by QuakeForge.

 tools/Forge/Bundles/MapEdit/cmdlib.c  |  611 ---------------------------------
 tools/Forge/Bundles/MapEdit/cmdlib.h  |   62 ----
 tools/Forge/Bundles/MapEdit/mathlib.c |   93 -----
 tools/Forge/Bundles/MapEdit/mathlib.h |   31 --
 4 files changed, 797 deletions(-)

commit e845744
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Sep 11 23:37:47 2010 +0900

    Can't use UserPath, so remove these.

 tools/Forge/Bundles/MapEdit/UserPath.h |   80 ------------
 tools/Forge/Bundles/MapEdit/UserPath.m |  217 --------------------------------
 2 files changed, 297 deletions(-)

commit 6e3df2c
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Sep 11 21:08:21 2010 +0900

    Possibly get preferences working.

 tools/Forge/Bundles/MapEdit/Preferences.h |    6 +-
 tools/Forge/Bundles/MapEdit/Preferences.m |   97 ++++++++++++++++++-----------
 2 files changed, 63 insertions(+), 40 deletions(-)

commit 3e3d8cc
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Sep 11 20:30:01 2010 +0900

    clean up some XXXs

 tools/Forge/Bundles/MapEdit/CameraView.m  |   19 +++++++------------
 tools/Forge/Bundles/MapEdit/Clipper.m     |    7 +++++--
 tools/Forge/Bundles/MapEdit/KeypairView.m |    9 +++++----
 tools/Forge/Bundles/MapEdit/Map.m         |    3 +--
 tools/Forge/Bundles/MapEdit/TextureView.m |    2 +-
 tools/Forge/Bundles/MapEdit/ZView.m       |    3 ++-
 6 files changed, 21 insertions(+), 22 deletions(-)

commit c1e2d4c
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Sep 11 19:06:04 2010 +0900

    And the header files.

 tools/Forge/Bundles/MapEdit/Brush.h            |   64 ++++---
 tools/Forge/Bundles/MapEdit/CameraView.h       |  101 ++++++-----
 tools/Forge/Bundles/MapEdit/Clipper.h          |   34 ++--
 tools/Forge/Bundles/MapEdit/Dict.h             |   81 +++++----
 tools/Forge/Bundles/MapEdit/DictList.h         |   12 +-
 tools/Forge/Bundles/MapEdit/Entity.h           |   41 +++--
 tools/Forge/Bundles/MapEdit/EntityClass.h      |   52 +++---
 tools/Forge/Bundles/MapEdit/InspectorControl.h |  103 ++++++-----
 tools/Forge/Bundles/MapEdit/KeypairView.h      |   10 +-
 tools/Forge/Bundles/MapEdit/Map.h              |   85 +++++----
 tools/Forge/Bundles/MapEdit/PopScrollView.h    |   14 +-
 tools/Forge/Bundles/MapEdit/Preferences.h      |   95 +++++-----
 tools/Forge/Bundles/MapEdit/Project.h          |  160 +++++++++--------
 tools/Forge/Bundles/MapEdit/QuakeEd.h          |  132 +++++++-------
 tools/Forge/Bundles/MapEdit/SetBrush.h         |  230 ++++++++++++++----------
 tools/Forge/Bundles/MapEdit/Storage.h          |   74 ++++----
 tools/Forge/Bundles/MapEdit/TexturePalette.h   |  153 ++++++++--------
 tools/Forge/Bundles/MapEdit/TextureView.h      |   14 +-
 tools/Forge/Bundles/MapEdit/Things.h           |   52 +++---
 tools/Forge/Bundles/MapEdit/UserPath.h         |   71 ++++----
 tools/Forge/Bundles/MapEdit/XYView.h           |   72 ++++----
 tools/Forge/Bundles/MapEdit/ZScrollView.h      |   14 +-
 tools/Forge/Bundles/MapEdit/ZView.h            |   51 +++---
 tools/Forge/Bundles/MapEdit/cmdlib.h           |   66 +++----
 tools/Forge/Bundles/MapEdit/mathlib.h          |   20 +--
 tools/Forge/Bundles/MapEdit/qedefs.h           |   24 +--
 tools/Forge/Bundles/MapEdit/render.h           |   24 +--
 27 files changed, 954 insertions(+), 895 deletions(-)

commit d23300d
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Sep 11 19:03:41 2010 +0900

    Pass .m files through indent.
    
    The result isn't perfect, but it cleans up the whitespace and makes the
    code more consistent with the rest of the project.

 tools/Forge/Bundles/MapEdit/CameraView.m       |  835 ++++++------
 tools/Forge/Bundles/MapEdit/Clipper.m          |  178 ++-
 tools/Forge/Bundles/MapEdit/Dict.m             |  601 +++++----
 tools/Forge/Bundles/MapEdit/DictList.m         |   62 +-
 tools/Forge/Bundles/MapEdit/Entity.m           |  409 +++---
 tools/Forge/Bundles/MapEdit/EntityClass.m      |  145 +--
 tools/Forge/Bundles/MapEdit/InspectorControl.m |   70 +-
 tools/Forge/Bundles/MapEdit/KeypairView.m      |   99 +-
 tools/Forge/Bundles/MapEdit/Map.m              | 1005 +++++++-------
 tools/Forge/Bundles/MapEdit/PopScrollView.m    |   49 +-
 tools/Forge/Bundles/MapEdit/Preferences.m      |  232 ++--
 tools/Forge/Bundles/MapEdit/Project.m          |  485 ++++---
 tools/Forge/Bundles/MapEdit/QuakeEd.m          |  955 +++++++-------
 tools/Forge/Bundles/MapEdit/QuakeEd_main.m     |    4 +-
 tools/Forge/Bundles/MapEdit/SetBrush.m         | 1660 ++++++++++++------------
 tools/Forge/Bundles/MapEdit/Storage.m          |  337 +++--
 tools/Forge/Bundles/MapEdit/TexturePalette.m   |  803 ++++++------
 tools/Forge/Bundles/MapEdit/TextureView.m      |  167 ++-
 tools/Forge/Bundles/MapEdit/Things.m           |  285 ++--
 tools/Forge/Bundles/MapEdit/UserPath.m         |  244 ++--
 tools/Forge/Bundles/MapEdit/XYView.m           | 1216 +++++++++--------
 tools/Forge/Bundles/MapEdit/ZScrollView.m      |   40 +-
 tools/Forge/Bundles/MapEdit/ZView.m            |  727 +++++------
 tools/Forge/Bundles/MapEdit/misc.m             |  218 ++--
 tools/Forge/Bundles/MapEdit/render.m           |  593 ++++-----
 25 files changed, 5507 insertions(+), 5912 deletions(-)

commit d3a12ee
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Sep 11 17:35:25 2010 +0900

    Finally, everything does compile.
    
    However, it still won't work (no gorm, commented code, ...).
    
    Borrow an old implementation of the Storage class until I figure out just
    what it's being used for.

 tools/Forge/Bundles/MapEdit/Dict.h             |    2 +
 tools/Forge/Bundles/MapEdit/Dict.m             |   10 +-
 tools/Forge/Bundles/MapEdit/DictList.h         |    4 +-
 tools/Forge/Bundles/MapEdit/DictList.m         |   13 +-
 tools/Forge/Bundles/MapEdit/GNUmakefile        |    2 +-
 tools/Forge/Bundles/MapEdit/InspectorControl.m |   44 ++--
 tools/Forge/Bundles/MapEdit/Preferences.h      |    2 +
 tools/Forge/Bundles/MapEdit/Preferences.m      |   65 +++---
 tools/Forge/Bundles/MapEdit/Project.m          |   91 ++++----
 tools/Forge/Bundles/MapEdit/QuakeEd.m          |  211 ++++++++++--------
 tools/Forge/Bundles/MapEdit/QuakeEd_main.m     |   18 +-
 tools/Forge/Bundles/MapEdit/SetBrush.m         |    9 +-
 tools/Forge/Bundles/MapEdit/Storage.h          |   85 +++++++
 tools/Forge/Bundles/MapEdit/Storage.m          |  284 ++++++++++++++++++++++++
 tools/Forge/Bundles/MapEdit/TexturePalette.m   |   70 +++---
 tools/Forge/Bundles/MapEdit/TextureView.h      |    2 +
 tools/Forge/Bundles/MapEdit/TextureView.m      |   30 +--
 17 files changed, 695 insertions(+), 247 deletions(-)

commit ddc493d
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Sep 9 23:13:15 2010 +0900

    Add the rest of the files which I know to build.

 tools/Forge/Bundles/MapEdit/GNUmakefile          |    2 +-
 tools/Forge/Bundles/MapEdit/GNUmakefile.preamble |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 767d871
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Sep 9 20:46:38 2010 +0900

    Make MapEdit (QuakeEd) compile.
    
    It won't work yet as there's no gorm file and there's code that has been
    commented out, but it finally compiles.

 tools/Forge/Bundles/MapEdit/CameraView.h     |    6 +-
 tools/Forge/Bundles/MapEdit/CameraView.m     |   75 +++--
 tools/Forge/Bundles/MapEdit/Clipper.h        |    6 +
 tools/Forge/Bundles/MapEdit/Clipper.m        |   12 +-
 tools/Forge/Bundles/MapEdit/Entity.h         |   23 +-
 tools/Forge/Bundles/MapEdit/Entity.m         |  144 ++++-----
 tools/Forge/Bundles/MapEdit/EntityClass.h    |    7 +-
 tools/Forge/Bundles/MapEdit/EntityClass.m    |  184 ++++++------
 tools/Forge/Bundles/MapEdit/GNUmakefile      |    2 +-
 tools/Forge/Bundles/MapEdit/KeypairView.h    |    2 +
 tools/Forge/Bundles/MapEdit/KeypairView.m    |    5 +-
 tools/Forge/Bundles/MapEdit/Map.h            |    4 +
 tools/Forge/Bundles/MapEdit/Map.m            |  128 ++++----
 tools/Forge/Bundles/MapEdit/PopScrollView.m  |    2 +-
 tools/Forge/Bundles/MapEdit/QuakeEd.h        |    4 +-
 tools/Forge/Bundles/MapEdit/QuakeEd.m        |    4 +-
 tools/Forge/Bundles/MapEdit/SetBrush.h       |   10 +-
 tools/Forge/Bundles/MapEdit/SetBrush.m       |  132 ++++-----
 tools/Forge/Bundles/MapEdit/TexturePalette.h |    4 +
 tools/Forge/Bundles/MapEdit/TexturePalette.m |    5 +-
 tools/Forge/Bundles/MapEdit/Things.h         |    2 +
 tools/Forge/Bundles/MapEdit/Things.m         |   61 ++--
 tools/Forge/Bundles/MapEdit/UserPath.m       |   14 +-
 tools/Forge/Bundles/MapEdit/XYView.h         |    7 +-
 tools/Forge/Bundles/MapEdit/XYView.m         |  402 +++++++++++++-------------
 tools/Forge/Bundles/MapEdit/ZScrollView.h    |    2 +-
 tools/Forge/Bundles/MapEdit/ZScrollView.m    |   22 +-
 tools/Forge/Bundles/MapEdit/ZView.h          |    5 +-
 tools/Forge/Bundles/MapEdit/ZView.m          |  115 ++++----
 tools/Forge/Bundles/MapEdit/misc.m           |    1 -
 tools/Forge/Bundles/MapEdit/render.h         |    4 +
 tools/Forge/Bundles/MapEdit/render.m         |   85 +++---
 32 files changed, 789 insertions(+), 690 deletions(-)

commit 43a9232
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Sep 9 20:44:32 2010 +0900

    Add a function for retreiving the parsed token.
    
    Saves having to reach into the token's dstring (script->token->str was
    getting annoying).

 include/QF/script.h |    5 +++++
 libs/util/script.c  |    6 ++++++
 2 files changed, 11 insertions(+)

commit ac88c86
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 5 15:35:22 2010 +0900

    Scripts now treat {}()': as single character tokens.

 libs/util/script.c              |    9 ++++++++-
 tools/qfbsp/source/map.c        |    3 ++-
 tools/qfcc/source/qfcc.c        |    3 ++-
 tools/qflight/source/entities.c |    4 ++--
 4 files changed, 14 insertions(+), 5 deletions(-)

commit 032f16d
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Sep 1 19:37:10 2010 +0900

    Some compile fixes.
    
    Not enough, but covers Object->NSObject and header file protection.

 tools/Forge/Bundles/MapEdit/CameraView.h       |    4 ++++
 tools/Forge/Bundles/MapEdit/Clipper.h          |    5 ++++-
 tools/Forge/Bundles/MapEdit/Dict.h             |    4 ++++
 tools/Forge/Bundles/MapEdit/DictList.h         |    4 ++++
 tools/Forge/Bundles/MapEdit/Entity.h           |    4 +++-
 tools/Forge/Bundles/MapEdit/EntityClass.h      |    6 +++++-
 tools/Forge/Bundles/MapEdit/InspectorControl.h |    6 +++++-
 tools/Forge/Bundles/MapEdit/KeypairView.h      |    4 ++++
 tools/Forge/Bundles/MapEdit/Map.h              |    4 ++++
 tools/Forge/Bundles/MapEdit/PopScrollView.h    |    5 +++++
 tools/Forge/Bundles/MapEdit/Preferences.h      |    6 +++++-
 tools/Forge/Bundles/MapEdit/Project.h          |    6 +++++-
 tools/Forge/Bundles/MapEdit/QuakeEd.h          |    3 +++
 tools/Forge/Bundles/MapEdit/SetBrush.h         |    6 ++++--
 tools/Forge/Bundles/MapEdit/TexturePalette.h   |    6 +++++-
 tools/Forge/Bundles/MapEdit/TextureView.h      |    5 ++++-
 tools/Forge/Bundles/MapEdit/Things.h           |    6 +++++-
 tools/Forge/Bundles/MapEdit/UserPath.h         |    5 +++++
 tools/Forge/Bundles/MapEdit/XYView.h           |    4 ++++
 tools/Forge/Bundles/MapEdit/ZScrollView.h      |    5 +++++
 tools/Forge/Bundles/MapEdit/ZView.h            |    3 +++
 tools/Forge/Bundles/MapEdit/qedefs.h           |    3 +++
 tools/Forge/Bundles/MapEdit/render.h           |    4 ++++
 23 files changed, 97 insertions(+), 11 deletions(-)

commit 32bf4ae
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Nov 28 14:36:21 2010 +0900

    get the message name right

 ruamoko/cl_menu/client_menu.qc |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 98a5d59
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Nov 28 11:28:44 2010 +0900

    Don't read past the end of a sub-file.
    
    This fixes a libvobis streaming problem with vorbis files within pak files.

 libs/util/quakeio.c |   45 +++++++++++++++++++++++++++++++++++++++++++--
 1 file changed, 43 insertions(+), 2 deletions(-)

commit 341726a
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Nov 28 11:18:07 2010 +0900

    Reimplement Qgets using Qgetc.

 libs/util/quakeio.c |   31 ++++++++++++++-----------------
 1 file changed, 14 insertions(+), 17 deletions(-)

commit 813e201
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Nov 27 20:52:41 2010 +0900

    Some basic documentation on the QuakeForge file system.

 doc/filesystem.txt    |   52 +++++++++++++++++++++++++++++++++++++++++++++++++
 doc/quakeforge.dox.in |    1 +
 doc/quakeforge.txt    |    1 +
 3 files changed, 54 insertions(+)

commit 185e21e
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Nov 27 16:53:17 2010 +0900

    Tweak some developer cvar usage.

 libs/audio/renderer/flac.c   |   10 ++++------
 libs/audio/renderer/vorbis.c |    9 ++++-----
 libs/gib/gib_init.c          |    3 ++-
 libs/util/cmd.c              |    5 +++--
 libs/util/zone.c             |    2 +-
 5 files changed, 14 insertions(+), 15 deletions(-)

commit 9900aa3
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Nov 27 16:19:04 2010 +0900

    Fix vid_fullscreen for modern X window managers.
    
    We are now compliant with wm-spec 1.4, so fullscreen toggling should always
    work.

 libs/video/targets/context_x11.c |   76 +++++++++++++++++++-------------------
 1 file changed, 37 insertions(+), 39 deletions(-)

commit e53ff2a
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Nov 27 15:10:34 2010 +0900

    A bit of house keeping.

 libs/video/targets/context_x11.c  |   10 ++++++++
 libs/video/targets/vid.c          |    3 +++
 libs/video/targets/vid_3dfxsvga.c |    2 --
 libs/video/targets/vid_fbdev.c    |    1 -
 libs/video/targets/vid_glx.c      |   38 ++++++++++++----------------
 libs/video/targets/vid_sdl.c      |    2 --
 libs/video/targets/vid_sdl32.c    |    2 --
 libs/video/targets/vid_sgl.c      |    2 --
 libs/video/targets/vid_svgalib.c  |    1 -
 libs/video/targets/vid_wgl.c      |    2 --
 libs/video/targets/vid_x11.c      |   49 ++++++++++++-------------------------
 11 files changed, 44 insertions(+), 68 deletions(-)

commit dd87274
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Nov 27 09:25:29 2010 +0900

    DGA mouse tweaks.
    
     o  Check the return value of XF86DGADirectVideo.
     o  Use input_grabbed instead of in_grab for checking whether to enable dga
        mouse and other grabbed actions.

 libs/video/targets/in_x11.c |   38 +++++++++++++++++++++-----------------
 1 file changed, 21 insertions(+), 17 deletions(-)

commit f315957
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Nov 27 08:48:00 2010 +0900

    Add and used SYS_VID for video/targets masked prints.

 include/QF/sys.h                   |    1 +
 libs/video/targets/context_x11.c   |    6 ++--
 libs/video/targets/dga_check.c     |    8 ++---
 libs/video/targets/in_common.c     |    2 +-
 libs/video/targets/in_svgalib.c    |    8 ++---
 libs/video/targets/in_win.c        |    2 +-
 libs/video/targets/in_x11.c        |    2 +-
 libs/video/targets/joy.c           |    6 ++--
 libs/video/targets/joy_linux.c     |    4 +--
 libs/video/targets/qfgl_ext.c      |    6 ++--
 libs/video/targets/vid.c           |    4 +--
 libs/video/targets/vid_3dfxsvga.c  |   10 +++---
 libs/video/targets/vid_common_gl.c |   60 ++++++++++++++++++------------------
 libs/video/targets/vid_fbdev.c     |    2 +-
 libs/video/targets/vid_glx.c       |    4 +--
 libs/video/targets/vid_sgl.c       |    2 +-
 libs/video/targets/vid_svgalib.c   |    2 +-
 libs/video/targets/vid_x11.c       |   26 ++++++++--------
 18 files changed, 78 insertions(+), 77 deletions(-)

commit c526b61
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Nov 27 07:25:47 2010 +0900

    Tweak server connection handling.
    
    Add some \n to the strings and do a Host_Error when the server is using a
    "bad" protocol version.

 nq/source/cl_parse.c |    2 +-
 nq/source/sv_main.c  |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit cacd2fb
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Nov 26 09:22:04 2010 +0900

    FiztQuake's lerping system.
    
    Seems to be mostly working. I get some funny results for zombies, but that
    might be moving and turning at the same time causing issues.

 include/QF/render.h                   |   26 ++-
 libs/video/renderer/gl/gl_draw.c      |   60 +++++
 libs/video/renderer/gl/gl_mod_alias.c |  395 ++++++++++++++++++---------------
 nq/include/protocol.h                 |    4 -
 nq/source/cl_main.c                   |   21 +-
 nq/source/cl_parse.c                  |   56 ++---
 nq/source/cl_tent.c                   |    2 +-
 qw/source/cl_ents.c                   |    2 +-
 qw/source/cl_tent.c                   |    2 +-
 9 files changed, 342 insertions(+), 226 deletions(-)

commit 31c13d9
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Aug 24 09:53:54 2010 +0900

    Protocol 666/large map support from FitzQuake.
    
    Alpha and lerping aren't implemented yet, but things seem to be working. I
    can load and play oms2.bsp (Conflagrant Rodent).

 include/QF/bspfile.h                 |    3 +-
 include/QF/msg.h                     |    4 +-
 include/QF/qdefs.h                   |    3 -
 include/netmain.h                    |    2 +-
 include/snd_render.h                 |    2 +-
 libs/models/brush/model_brush.c      |   76 +++++++--
 libs/util/msg.c                      |   32 +++-
 libs/video/renderer/gl/gl_sky.c      |    2 +-
 libs/video/renderer/sw/sw_rsky.c     |    4 +-
 libs/video/renderer/sw32/sw32_rsky.c |    4 +-
 nq/include/client.h                  |    6 +-
 nq/include/game.h                    |   13 +-
 nq/include/protocol.h                |  103 +++++++-----
 nq/include/server.h                  |    6 +-
 nq/source/cl_input.c                 |    3 +-
 nq/source/cl_main.c                  |    6 +-
 nq/source/cl_parse.c                 |  303 +++++++++++++++++++++++----------
 nq/source/host.c                     |    3 +
 nq/source/sv_main.c                  |  307 ++++++++++++++++++++++++++++------
 nq/source/sv_phys.c                  |   27 ++-
 nq/source/sv_pr_cmds.c               |   69 +++++++-
 nq/source/sv_user.c                  |    5 +-
 qtv/include/server.h                 |    1 +
 qw/include/client.h                  |    1 +
 qw/include/server.h                  |    1 +
 25 files changed, 758 insertions(+), 228 deletions(-)

commit 8c4fe2f
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 23 14:09:30 2010 +0900

    Rename Sys_DPrintf to Sys_MaskPrintf.
    
    We now have finer runtime control over what gets printed. Need to do a
    SYS_DEV audit, creating new masks as apropriate.

 include/QF/sys.h                       |    5 +-
 libs/audio/cd_linux.c                  |   41 ++++++++--------
 libs/audio/cd_sdl.c                    |   11 +++--
 libs/audio/cd_sgi.c                    |   18 +++----
 libs/audio/cd_win.c                    |   33 +++++++------
 libs/audio/cd_xmms.c                   |    2 +-
 libs/audio/renderer/flac.c             |    6 +--
 libs/audio/renderer/midi.c             |    2 +-
 libs/audio/renderer/snd_channels.c     |    6 +--
 libs/audio/renderer/snd_mem.c          |    8 ++--
 libs/audio/renderer/vorbis.c           |    6 +--
 libs/audio/renderer/wav.c              |    4 +-
 libs/audio/targets/snd_win.c           |    2 +-
 libs/gamecode/engine/pr_builtins.c     |    5 +-
 libs/gamecode/engine/pr_load.c         |    2 +-
 libs/gib/gib_tree.c                    |    4 +-
 libs/image/tga.c                       |    2 +-
 libs/models/alias/gl_mesh.c            |    6 +--
 libs/models/alias/gl_model_alias.c     |    4 +-
 libs/models/brush/gl_model_brush.c     |    7 +--
 libs/models/gl_model_fullbright.c      |    2 +-
 libs/models/model.c                    |    2 +-
 libs/models/trace.c                    |    2 +-
 libs/net/net_main.c                    |    4 +-
 libs/net/nm/net_dgrm.c                 |   10 ++--
 libs/net/nm/net_udp.c                  |    2 +-
 libs/net/nm/net_wins.c                 |    2 +-
 libs/object/garbage.c                  |   12 +++--
 libs/qw/msg_backbuf.c                  |    5 +-
 libs/ruamoko/rua_obj.c                 |    4 +-
 libs/util/cmd.c                        |    3 +-
 libs/util/cvar.c                       |    8 ++--
 libs/util/plugin.c                     |    7 +--
 libs/util/quakefs.c                    |   46 +++++++++---------
 libs/util/sys.c                        |    4 +-
 libs/util/zone.c                       |   12 ++---
 libs/video/renderer/gl/gl_draw.c       |    5 +-
 libs/video/renderer/gl/gl_dyn_part.c   |   16 ++++---
 libs/video/renderer/gl/gl_mod_alias.c  |   13 +++--
 libs/video/renderer/gl/gl_mod_sprite.c |    5 +-
 libs/video/renderer/gl/gl_rmain.c      |    8 ++--
 libs/video/renderer/gl/gl_rmisc.c      |    2 +-
 libs/video/renderer/gl/gl_screen.c     |    6 +--
 libs/video/renderer/gl/gl_skin.c       |    4 +-
 libs/video/renderer/gl/gl_sky.c        |    4 +-
 libs/video/renderer/r_progs.c          |    2 +-
 libs/video/renderer/sw/d_surf.c        |    2 +-
 libs/video/renderer/sw/sw_ralias.c     |    8 ++--
 libs/video/renderer/sw/sw_rpart.c      |    3 +-
 libs/video/renderer/sw32/d_surf.c      |    2 +-
 libs/video/renderer/sw32/sw32_ralias.c |    8 ++--
 libs/video/renderer/sw32/sw32_rpart.c  |    3 +-
 libs/video/targets/context_x11.c       |   17 ++++---
 libs/video/targets/dga_check.c         |   13 ++---
 libs/video/targets/in_common.c         |    2 +-
 libs/video/targets/in_svgalib.c        |   13 ++---
 libs/video/targets/in_win.c            |    5 +-
 libs/video/targets/in_x11.c            |    2 +-
 libs/video/targets/joy.c               |    6 +--
 libs/video/targets/joy_linux.c         |    4 +-
 libs/video/targets/qfgl_ext.c          |    6 +--
 libs/video/targets/vid.c               |    4 +-
 libs/video/targets/vid_3dfxsvga.c      |   11 +++--
 libs/video/targets/vid_common_gl.c     |   81 ++++++++++++++++++--------------
 libs/video/targets/vid_fbdev.c         |    2 +-
 libs/video/targets/vid_glx.c           |    5 +-
 libs/video/targets/vid_sgl.c           |    3 +-
 libs/video/targets/vid_svgalib.c       |    2 +-
 libs/video/targets/vid_x11.c           |   38 +++++++++------
 nq/source/cl_main.c                    |    9 ++--
 nq/source/cl_parse.c                   |    2 +-
 nq/source/host.c                       |    4 +-
 nq/source/sv_cl_phys.c                 |    8 ++--
 nq/source/sv_main.c                    |    7 +--
 nq/source/sv_progs.c                   |    2 +-
 nq/source/sv_user.c                    |    3 +-
 qtv/source/client.c                    |   11 +++--
 qw/source/cl_ents.c                    |    8 ++--
 qw/source/cl_main.c                    |   14 +++---
 qw/source/cl_parse.c                   |   31 ++++++------
 qw/source/crudefile.c                  |    4 +-
 qw/source/pmove.c                      |    2 +-
 qw/source/sv_init.c                    |    4 +-
 qw/source/sv_main.c                    |    7 +--
 qw/source/sv_pr_cmds.c                 |    2 +-
 qw/source/sv_progs.c                   |    2 +-
 qw/source/sv_qtv.c                     |    3 +-
 qw/source/sv_user.c                    |   13 ++---
 88 files changed, 409 insertions(+), 331 deletions(-)

commit 92f84e9
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 23 12:48:53 2010 +0900

    Unlimited loaded models.

 libs/models/model.c |   41 ++++++++++++++++++++++++-----------------
 1 file changed, 24 insertions(+), 17 deletions(-)

commit 525e20e
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 23 10:48:10 2010 +0900

    Bring QW's unlimited beams/explosions into NQ.

 nq/source/cl_main.c |    1 +
 nq/source/cl_tent.c |  357 +++++++++++++++++++++++++++++----------------------
 qw/source/cl_tent.c |   42 +++---
 3 files changed, 221 insertions(+), 179 deletions(-)

commit abc17c1
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 23 10:40:54 2010 +0900

    New cvar commands from fitzquake.

 include/QF/cvar.h |   30 +++++++-------
 libs/util/cvar.c  |  114 +++++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 130 insertions(+), 14 deletions(-)

commit d6ceaef
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Nov 24 20:42:07 2010 +0900

    Whee, 64bit cpus and sizeof.

 libs/util/zone.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 7ce1fc3
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Nov 24 14:43:16 2010 +0900

    Break out all the classes into their own files.

 ruamoko/cl_menu/CrosshairCvar.h  |   11 +
 ruamoko/cl_menu/CrosshairCvar.r  |   16 ++
 ruamoko/cl_menu/CrosshairView.h  |   15 ++
 ruamoko/cl_menu/CrosshairView.r  |   42 ++++
 ruamoko/cl_menu/CvarColor.h      |   12 ++
 ruamoko/cl_menu/CvarColor.r      |   25 +++
 ruamoko/cl_menu/CvarColorView.h  |   17 ++
 ruamoko/cl_menu/CvarColorView.r  |   51 +++++
 ruamoko/cl_menu/CvarObject.h     |   13 ++
 ruamoko/cl_menu/CvarObject.r     |   24 +++
 ruamoko/cl_menu/CvarRange.h      |   17 ++
 ruamoko/cl_menu/CvarRange.r      |   43 ++++
 ruamoko/cl_menu/CvarRangeView.h  |   22 ++
 ruamoko/cl_menu/CvarRangeView.r  |   74 +++++++
 ruamoko/cl_menu/CvarToggle.h     |   11 +
 ruamoko/cl_menu/CvarToggle.r     |   15 ++
 ruamoko/cl_menu/CvarToggleView.h |   19 ++
 ruamoko/cl_menu/CvarToggleView.r |   57 +++++
 ruamoko/cl_menu/Makefile.am      |    6 +-
 ruamoko/cl_menu/MenuGroup.h      |   14 ++
 ruamoko/cl_menu/MenuGroup.r      |   66 ++++++
 ruamoko/cl_menu/MouseToggle.h    |   10 +
 ruamoko/cl_menu/MouseToggle.r    |   19 ++
 ruamoko/cl_menu/ProxyView.h      |   14 ++
 ruamoko/cl_menu/ProxyView.r      |   34 +++
 ruamoko/cl_menu/RunToggle.h      |    9 +
 ruamoko/cl_menu/RunToggle.r      |   21 ++
 ruamoko/cl_menu/options.qc       |    5 +
 ruamoko/cl_menu/options_util.h   |  101 ---------
 ruamoko/cl_menu/options_util.qc  |  444 +-------------------------------------
 30 files changed, 682 insertions(+), 545 deletions(-)

commit 2b3ba06
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Nov 24 13:32:08 2010 +0900

    Break out the menu plist parser into its own file.

 ruamoko/cl_menu/Makefile.am |    2 +-
 ruamoko/cl_menu/options.qc  |  149 +----------------------------------
 ruamoko/cl_menu/plistmenu.h |    9 +++
 ruamoko/cl_menu/plistmenu.r |  179 +++++++++++++++++++++++++++++++++++++++++++
 4 files changed, 191 insertions(+), 148 deletions(-)

commit e471ddf
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Nov 24 13:15:19 2010 +0900

    Use the new file based property list API.
    
    Also eleminate the menu_plist global (the plist does not hang around).

 ruamoko/cl_menu/client_menu.qc |    7 +-----
 ruamoko/cl_menu/options.h      |    6 ------
 ruamoko/cl_menu/options.qc     |   46 ++++++++++++++++++----------------------
 3 files changed, 22 insertions(+), 37 deletions(-)

commit addbcaa
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Nov 24 13:12:41 2010 +0900

    Add PL_GetFromFile builtin.
    
    This is an extension "wrapper" (no such C function). This allows ruamoko
    programs to read property lists without worrying about the memory required
    to store the string for the property list being read.

 libs/ruamoko/rua_plist.c       |   24 ++++++++++++++++++++++++
 ruamoko/include/PropertyList.h |    1 +
 ruamoko/include/plist.h        |    3 +++
 ruamoko/lib/PropertyList.r     |    5 +++++
 ruamoko/lib/plist.r            |    1 +
 5 files changed, 34 insertions(+)

commit defc2a2
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Nov 24 13:10:25 2010 +0900

    Add QFile_GetHandle()
    
    This allows other rua builtins to make use of ruamoko files.

 include/rua_internal.h   |    1 +
 libs/ruamoko/rua_qfile.c |    8 ++++++++
 2 files changed, 9 insertions(+)

commit 857f8eb
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Nov 24 12:34:42 2010 +0900

    Get the plist controls menu mostly working.
    
    The bindings menu is currently inaccessible.

 ruamoko/cl_menu/menu.plist |    8 +++++
 ruamoko/cl_menu/options.qc |   81 +++++++-------------------------------------
 2 files changed, 21 insertions(+), 68 deletions(-)

commit 9c3c1b9
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Nov 24 11:49:38 2010 +0900

    Use @param instead of id to pass objects within the menu parser.
    
    This allows mixed types (eg, objects and Rects). To be passed around. This
    sorts out the changes needed for the conversion of Rect from object to
    struct.

 ruamoko/cl_menu/Makefile.am |    2 +-
 ruamoko/cl_menu/options.qc  |   69 ++++++++++++++++++++++++++++++-------------
 2 files changed, 49 insertions(+), 22 deletions(-)

commit 730082a
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Nov 24 11:46:45 2010 +0900

    Make Group set its position (and those of its subviews) correctly.

 ruamoko/cl_menu/options_util.qc |   12 ++++++------
 ruamoko/gui/Group.r             |   12 +++++++++---
 ruamoko/include/gui/Group.h     |    1 -
 3 files changed, 15 insertions(+), 10 deletions(-)

commit e9fea12
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Nov 24 11:45:49 2010 +0900

    Must return self in -autorelease

 ruamoko/lib/Object.r |    1 +
 1 file changed, 1 insertion(+)

commit 023d3c8
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Nov 24 11:43:00 2010 +0900

    Source formatting.

 tools/qfcc/source/idstuff.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit fc2a6e0
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Nov 24 11:41:08 2010 +0900

    Don't be so spammy with file errors.
    
    Record a file even if it could not be found. This way, the error message
    gets printed once per file rather than every time.

 libs/gamecode/engine/pr_debug.c |   48 ++++++++++++++++++++-------------------
 1 file changed, 25 insertions(+), 23 deletions(-)

commit 3878b76
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Nov 22 14:05:48 2010 +0900

    Start using autorelease.
    
    Much more testing is required (oh, but for qc-valgrind), but there is now
    a ~945kB block of free data in the menu progs heap :).
    
    Also, correct the printed size of the memory block to not include the
    block header size.

 libs/util/zone.c               |    2 +-
 ruamoko/cl_menu/options.qc     |    2 +-
 ruamoko/include/PropertyList.h |    2 +-
 ruamoko/lib/PropertyList.r     |   10 +++++-----
 4 files changed, 8 insertions(+), 8 deletions(-)

commit 4518e6a
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Nov 22 13:26:23 2010 +0900

    First stab at implementing autorelease.
    
    It's probably nowhere near right, but probably ok for now (I need to study
    the GNUStep code). I'm unhappy with the menu code hook, but it will have
    to do for now.

 libs/console/menu.c               |   39 +++++++++++++++++++++++++++++++----
 ruamoko/cl_menu/client_menu.qc    |    6 ++++++
 ruamoko/include/AutoreleasePool.h |    5 +++--
 ruamoko/lib/AutoreleasePool.r     |   41 ++++++++++++++++++++++---------------
 ruamoko/lib/Object.r              |   11 ++++++----
 tools/qwaq/progs.src.in           |    2 ++
 6 files changed, 78 insertions(+), 26 deletions(-)

commit 7acf8c0
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Nov 22 13:28:42 2010 +0900

    Must retain before release.

 ruamoko/lib/Array.r |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 5fc4ef6
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Nov 19 13:39:20 2010 +0900

    Rewrite ruamoko plist support to use handles.
    
    The plist code was written long before I thought of resource handles, and
    then it was forgotten. This is much nicer and safer than storing C
    pointers in progs memory space (*shudder*).

 libs/ruamoko/rua_plist.c |  299 +++++++++++++++++++++++++++++++++++++---------
 ruamoko/include/plist.h  |    6 +-
 ruamoko/lib/plist.r      |    2 +
 tools/qwaq/main.qc       |   10 +-
 4 files changed, 258 insertions(+), 59 deletions(-)

commit 763cec3
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Nov 19 00:06:53 2010 +0900

    Some spelling/grammar corrections.

 include/QF/qfplist.h     |   14 +++++++-------
 libs/ruamoko/rua_qfile.c |    2 +-
 2 files changed, 8 insertions(+), 8 deletions(-)

commit 9a3f4d5
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Nov 18 10:44:25 2010 +0900

    Handle method parameters that use incomplete types.
    
    Compare the method's type pointers rather than the type strings as the pointer
    won't change with the struct is completed.

 tools/qfcc/source/method.c |    3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit e28ee03
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Nov 18 09:02:12 2010 +0900

    Gracefully handle returning NIL though a bad type.

 tools/qfcc/source/expr.c |    2 ++
 tools/qfcc/test/nil.r    |   17 +++++++++++++++++
 2 files changed, 19 insertions(+)

commit c460e3c
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Nov 17 18:59:39 2010 +0900

    Fix setBasePos to get the pos from a view.
    
    This fixes Group for the Point/Size/Rect change.

 ruamoko/gui/Group.r        |    3 ++-
 ruamoko/gui/View.r         |   11 +++++++++--
 ruamoko/include/gui/View.h |    2 +-
 3 files changed, 12 insertions(+), 4 deletions(-)

commit 67beaf4
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Nov 17 18:49:39 2010 +0900

    Nil is a constant, so allow it in global initializers.

 tools/qfcc/include/expr.h     |    3 ++-
 tools/qfcc/source/emit.c      |    4 ++--
 tools/qfcc/source/expr.c      |   23 +++++++++++++----------
 tools/qfcc/source/immediate.c |    2 ++
 tools/qfcc/source/qc-lex.l    |    8 +++++---
 tools/qfcc/source/qc-parse.y  |   15 +++++++--------
 tools/qfcc/source/switch.c    |    2 +-
 tools/qfcc/test/enum.r        |    2 ++
 tools/qfcc/test/imp.r         |    3 +++
 tools/qfcc/test/nil.r         |    1 +
 10 files changed, 38 insertions(+), 25 deletions(-)

commit b0879ba
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Nov 17 15:50:07 2010 +0900

    Convert Point, Size and Rect to structs.
    
    Group and the menu plist parser are currently broken.

 ruamoko/cl_menu/Frame.h         |    4 +-
 ruamoko/cl_menu/Frame.r         |    4 +-
 ruamoko/cl_menu/HUD.h           |   11 ++---
 ruamoko/cl_menu/HUD.r           |   29 +++++++------
 ruamoko/cl_menu/client_menu.qc  |    4 +-
 ruamoko/cl_menu/options.qc      |   30 ++++++-------
 ruamoko/cl_menu/options_util.qc |    7 ++--
 ruamoko/cl_menu/servlist.qc     |    2 +-
 ruamoko/gui/Group.r             |    3 +-
 ruamoko/gui/InputLine.r         |    3 +-
 ruamoko/gui/Point.r             |   63 ++++------------------------
 ruamoko/gui/Rect.r              |   88 +++++----------------------------------
 ruamoko/gui/Size.r              |   73 ++++----------------------------
 ruamoko/gui/View.r              |    3 +-
 ruamoko/include/gui/InputLine.h |    3 --
 ruamoko/include/gui/Point.h     |   27 ++++--------
 ruamoko/include/gui/Rect.h      |   23 +++-------
 ruamoko/include/gui/Size.h      |   30 ++++---------
 ruamoko/include/gui/View.h      |    5 +--
 19 files changed, 99 insertions(+), 313 deletions(-)

commit 799d46f
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Nov 17 14:45:35 2010 +0900

    Check for incomplete types and better param/return size checking.

 tools/qfcc/source/expr.c     |    8 +++++++-
 tools/qfcc/source/function.c |   34 ++++++++++++++++++++++++++++++----
 2 files changed, 37 insertions(+), 5 deletions(-)

commit a623fb5
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Nov 17 14:42:21 2010 +0900

    Proper support for empty structs and unions.
    
    They now have a single private, void, unnamed member, resulting in a size of
    1 word. This makes empty structs useful for typed opaque handles.

 tools/qfcc/source/qc-parse.y |   16 ++++++++++++----
 tools/qfcc/source/struct.c   |    1 -
 2 files changed, 12 insertions(+), 5 deletions(-)

commit e5e560c
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Nov 17 00:26:41 2010 +0900

    Ensure struct params are small enough to fit in the param slots.

 tools/qfcc/source/function.c |    4 ++++
 1 file changed, 4 insertions(+)

commit 624a163
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Nov 24 15:47:33 2010 +0900

    Make bootstrap clean a little smarter.
    
    It doesn't delete config.h[.in] or Makefile in the directories in which
    they are not generated.

 bootstrap |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit d0370f7
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Nov 21 15:23:41 2010 +0900

    zixthree's Microsoft Visual C++ 2005 Express Support
    
    + Support for VC++ 2005 Express.
    - MFC dependency for quakeforge.rc.
    + VC++ 2005 compatible icon, choose Vista or XP icon depending on SDK target OS.
    ! Renamed E_POINTER macro to E_PTR (was in conflict with Windows macro).
    ! Fixed HAVE_SNPRINTF and HAVE__SNPRINTF macros.
    ! Fixed HAVE_VSNPRINTF and HAVE__VSNPRINTF config macros.
    + Added explicit dependency to gdi32.lib and user32.lib when using Express.
    ! Changed -0x80000000 to INT_MIN
    ! Added return value when running *_Error for Visual C++ compiler.
    ! Function method_free wasn't freeing _meth parameter.
    + Added a Visual Studio solution specific to Express to remedy unsupported features.
    ! Renamed solution files to reflect their associated Visual Studio flavor.
    ! Updated vc2005/readme.txt to reflect changes and notify incompatibility with Wave preprocessor.

 include/win32/resources/icon1.ico             |  Bin 78101 -> 0 bytes
 include/win32/resources/icon1Vista.ico        |  Bin 0 -> 78101 bytes
 include/win32/resources/icon1XP.ico           |  Bin 0 -> 314038 bytes
 vc2005/QuakeForge-VS8-Express.sln             |  935 ++++++++++++++++++++
 vc2005/QuakeForge-VS8.sln                     |  966 +++++++++++++++++++++
 vc2005/QuakeForge.sln                         |  966 ---------------------
 vc2005/nq-sdl/nq-sdl.vcproj                   | 1122 ++++++++++++------------
 vc2005/qw-client-sdl32/qw-client-sdl32.vcproj | 1134 ++++++++++++-------------
 vc2005/sound/sound.vcproj                     | 1026 +++++++++++-----------
 9 files changed, 3542 insertions(+), 2607 deletions(-)

commit d4ae231
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Nov 21 14:27:43 2010 +0900

    sezero's NET_SendToAll fix
    
    Here's a patch to NET_SendToAll() which was always
    broken: it never skipped non-connected clients.
    Depending on the compiler, it would wait the whole
    5 seconds of its blocktime before it gave up.
    While there, changed its blocktime argument to
    double (the comparison is against a double.)

 include/netmain.h   |    2 +-
 libs/net/net_main.c |   10 ++++------
 nq/source/host.c    |    2 +-
 nq/source/sv_main.c |    2 +-
 4 files changed, 7 insertions(+), 9 deletions(-)

commit 1dfb914
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Nov 21 14:25:32 2010 +0900

    fix an oopsie (rebase!!)

 libs/audio/renderer/snd_channels.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 4cec187
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Nov 21 14:18:15 2010 +0900

    zixthree's wav file patch
    
    Wav file were not read correctly when encoutering most chunk type beside the ones used by QuakeForge.
    
    This patch will fix the riff loader code so that unused but defined chunk are skipped. Most wav files should now be loaded correctly fixing some silent sound effect.
    
    Also fixed a typo in wav loader and reordered wav validity check so that format is checked first. The data chunk could be inexistant on some weird format and so an invalid format is a more helpful error text.
    
    ! Fix: Skip unsupported chunk in riff loader instead of rejecting riff file.
    ! Fix: typo in Microsoft name.
    ! Fix: ordering of wav validity to enable more helpful error text.

 libs/audio/renderer/wav.c |   10 +++++-----
 libs/util/riff.c          |   21 +++++++++++++++++++++
 2 files changed, 26 insertions(+), 5 deletions(-)

commit 99e87b0
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Nov 21 14:08:18 2010 +0900

    zixthree's stereo swap patch.
    
    Modified slightly for formatting and cleaner swapping.

 libs/audio/renderer/snd_channels.c |    6 ++++++
 1 file changed, 6 insertions(+)

commit 6771e7b
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Nov 21 13:55:03 2010 +0900

    sezero's win32 Sys_ConsoleInput patch.

 libs/util/sys.c |    9 +++++++--
 1 file changed, 7 insertions(+), 2 deletions(-)

commit 204c509
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Nov 21 10:06:56 2010 +0900

    sezero's "Bad old_size value in Z_Realloc()" patch.

 libs/util/zone.c |    2 ++
 1 file changed, 2 insertions(+)

commit 49ea878
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Nov 21 09:56:31 2010 +0900

    Slightly more informative progress.
    
    Display per-thread current portal number. Will get messy if there are more threads than the screen width can handle.

 tools/qfvis/source/qfvis.c |   40 ++++++++++++++++++++++++++++++++++++++--
 1 file changed, 38 insertions(+), 2 deletions(-)

commit 15b423c
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Nov 20 14:32:27 2010 +0900

    Track 0 is used to stop the BGM

 libs/audio/cd_file.c |    2 ++
 1 file changed, 2 insertions(+)

commit 3309f48
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Nov 20 14:12:40 2010 +0900

    Don't require pr_boundscheck for quoth.
    
    I don't know about other FTEqcc compiled progs, but quoth doesn't try to do
    anything clever (all its denormals are either vars of the wrong type, or
    -0.0).

 libs/gamecode/engine/pr_debug.c  |    7 +++++-
 libs/gamecode/engine/pr_opcode.c |   48 +++++++++++++++++++++++---------------
 2 files changed, 35 insertions(+), 20 deletions(-)

commit 9d6fd32
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Nov 20 09:02:56 2010 +0900

    Ensure the the progs data is aligned.
    
    Some QuakeC compilers (eg, FTE) insert a data chunk between the progs
    header and the rest of the progs data. Unfortunately, FTE does not maintain
    the assumed 32-bit alignment.

 libs/gamecode/engine/pr_load.c |   38 +++++++++++++++++++++-----------------
 1 file changed, 21 insertions(+), 17 deletions(-)

commit 2f50470
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Nov 20 00:31:34 2010 +0900

    Print data being loaded from an entity.

 libs/gamecode/engine/pr_debug.c  |   18 ++++++++++++++++++
 libs/gamecode/engine/pr_opcode.c |   22 ++++++++++++----------
 2 files changed, 30 insertions(+), 10 deletions(-)

commit 232d2f7
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 16 08:38:27 2010 +0900

    Fix an undefined operation thanks to spirit of the domain quaddicted.com.

 libs/video/renderer/sw32/draw.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 3b26777
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 16 00:53:44 2010 +0900

    Get qf debian stable compatible again.
    
    Had to backtrack on the libtool version, (and the init line), but I might be
    able to make it a little nicer later.

 bootstrap    |   26 +++++++++++++-------------
 configure.ac |    5 +++--
 2 files changed, 16 insertions(+), 15 deletions(-)

commit f8f54fa
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 16 00:53:12 2010 +0900

    Update the build dependencies.

 debian/control |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 82687d1
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 16 00:49:01 2010 +0900

    Update for git (vs cvs?!?)

 debian/rules |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 6260130
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 16 00:45:48 2010 +0900

    Fix borked autoconf of dga/vidmode headers.

 libs/video/targets/dga_check.c |    6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit 37fb8d2
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Nov 14 20:46:29 2010 +0900

    Don't open a streamed sfx when there's no sound driver.
    
    This happens when qf fails to connect to jackd (possibly other times).
    There is probably a better solution to the problem, but not opening a
    stream when the sample rate is reported as 0 definitely fixes the inifinite
    recursion in read_samples().

 libs/audio/renderer/snd_sfx.c |    5 +++++
 1 file changed, 5 insertions(+)

commit 824e33c
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Nov 14 19:22:47 2010 +0900

    Fix a sizeof braino.
    
    Somebody (probably me) got a little over-happy with sizeof.

 libs/util/quakeio.c |    5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit f63e505
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Nov 14 19:21:16 2010 +0900

    Don't realloc the string pointer table.
    
    This causes a bit of memory waste, but avoids breaking the pointers in the
    string hash table.

 libs/gamecode/engine/pr_strings.c |    2 --
 1 file changed, 2 deletions(-)

commit e6b783a
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Nov 13 14:36:33 2010 +0900

    Don't touch the watchpoint conditional when printing.

 libs/gamecode/engine/pr_debug.c |   33 ++++++++++++++++++---------------
 1 file changed, 18 insertions(+), 15 deletions(-)

commit 2ef291b
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Oct 18 17:53:04 2010 +0900

    Make mdl.py work on 64 bit machines.

 tools/misc/mdl.py |   14 +++++++-------
 1 file changed, 7 insertions(+), 7 deletions(-)

commit 0c4b2f9
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Oct 16 22:09:18 2010 +0900

    Add the default extension when no output file is specified.

 tools/qfbsp/source/readbsp.c |    1 +
 1 file changed, 1 insertion(+)

commit 98fa427
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Oct 16 16:16:58 2010 +0900

    Add the extract-hull option to the usage output.

 tools/qfbsp/source/options.c |    1 +
 1 file changed, 1 insertion(+)

commit ff49239
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Oct 16 14:17:09 2010 +0900

    Fix shared config files.
    
    We've allowed a single level of parent directy access in quake path names
    for a long time, but this got broken by qfs_expand_path. Thus, make
    qfs_expand_path allow a certain number of parent directory levels (usually
    0 or 1).

 libs/util/quakefs.c |   11 ++++++-----
 1 file changed, 6 insertions(+), 5 deletions(-)

commit 985c27b
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Oct 12 19:33:27 2010 +0900

    Some more brush documentation.

 tools/qfbsp/include/brush.h |    6 ++++++
 tools/qfbsp/source/brush.c  |   27 +++++++++++++++++++++++----
 2 files changed, 29 insertions(+), 4 deletions(-)

commit ef7958d
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Sep 2 13:01:45 2010 +0900

    Lots of const correctness.

 include/QF/bspfile.h           |   26 +++++++++++++-------------
 libs/util/bspfile.c            |   26 +++++++++++++-------------
 tools/qfbsp/include/brush.h    |    2 +-
 tools/qfbsp/include/draw.h     |   16 ++++++++--------
 tools/qfbsp/include/map.h      |    6 +++---
 tools/qfbsp/include/winding.h  |    6 +++---
 tools/qfbsp/include/writebsp.h |    4 ++--
 tools/qfbsp/source/brush.c     |   25 ++++++++++++-------------
 tools/qfbsp/source/map.c       |   12 ++++++------
 tools/qfbsp/source/merge.c     |    2 +-
 tools/qfbsp/source/nodraw.c    |   16 ++++++++--------
 tools/qfbsp/source/outside.c   |   18 +++++++++---------
 tools/qfbsp/source/portals.c   |   19 ++++++++++---------
 tools/qfbsp/source/readbsp.c   |   16 ++++++++--------
 tools/qfbsp/source/solidbsp.c  |   11 ++++++-----
 tools/qfbsp/source/surfaces.c  |    6 +++---
 tools/qfbsp/source/tjunc.c     |   10 +++++-----
 tools/qfbsp/source/winding.c   |    6 +++---
 tools/qfbsp/source/writebsp.c  |   14 +++++++-------
 19 files changed, 121 insertions(+), 120 deletions(-)

commit f4bff1d
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Sep 2 13:01:17 2010 +0900

    Make some code more readable.

 tools/qfbsp/source/qfbsp.c |    8 ++------
 1 file changed, 2 insertions(+), 6 deletions(-)

commit 16e067c
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Sep 2 06:38:13 2010 +0900

    More portal documentation.

 tools/qfbsp/include/portals.h |    6 ++++++
 tools/qfbsp/source/portals.c  |   30 +++++++++++++++++++++---------
 2 files changed, 27 insertions(+), 9 deletions(-)

commit 538956c
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Sep 2 06:37:13 2010 +0900

    Make parts of CutNodePortals_r() easier to read.

 tools/qfbsp/source/portals.c |    9 +++++----
 1 file changed, 5 insertions(+), 4 deletions(-)

commit ab70ec2
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Sep 1 14:11:24 2010 +0900

    Sort the group names.

 doc/quakeforge.dox.in |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 08c6a18
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Sep 1 12:06:37 2010 +0900

    Documentation for writebsp.

 tools/qfbsp/include/writebsp.h |   37 +++++++++++++++++++++++++
 tools/qfbsp/source/writebsp.c  |   59 +++++++++++++++++++++++++++++-----------
 2 files changed, 80 insertions(+), 16 deletions(-)

commit d90a630
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Sep 1 11:54:38 2010 +0900

    Call AddAnimatingTextures only once rather than for every wad file.

 tools/qfbsp/source/writebsp.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit fcd1897
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Sep 1 10:06:54 2010 +0900

    Create the qfbsp doxygen modules.
    
    Also, make doxygen extract static functions as well, so qfbsp's docs can be
    more complete.

 doc/quakeforge.dox.in          |    2 +-
 tools/qfbsp/include/brush.h    |    7 +++++++
 tools/qfbsp/include/bsp5.h     |   10 ++++++++++
 tools/qfbsp/include/csg4.h     |    7 +++++++
 tools/qfbsp/include/draw.h     |    7 +++++++
 tools/qfbsp/include/map.h      |    7 +++++++
 tools/qfbsp/include/merge.h    |    7 +++++++
 tools/qfbsp/include/options.h  |    8 ++++++++
 tools/qfbsp/include/outside.h  |    7 +++++++
 tools/qfbsp/include/portals.h  |    7 +++++++
 tools/qfbsp/include/readbsp.h  |    7 +++++++
 tools/qfbsp/include/region.h   |    7 +++++++
 tools/qfbsp/include/solidbsp.h |    7 +++++++
 tools/qfbsp/include/surfaces.h |    7 +++++++
 tools/qfbsp/include/tjunc.h    |    7 +++++++
 tools/qfbsp/include/winding.h  |    7 +++++++
 tools/qfbsp/include/writebsp.h |    7 +++++++
 tools/qfbsp/source/brush.c     |    6 ++++++
 tools/qfbsp/source/csg4.c      |    6 ++++++
 tools/qfbsp/source/map.c       |    6 ++++++
 tools/qfbsp/source/merge.c     |    6 ++++++
 tools/qfbsp/source/nodraw.c    |    6 ++++++
 tools/qfbsp/source/options.c   |    6 ++++++
 tools/qfbsp/source/outside.c   |    6 ++++++
 tools/qfbsp/source/portals.c   |    8 +++++++-
 tools/qfbsp/source/qfbsp.c     |    6 ++++++
 tools/qfbsp/source/readbsp.c   |    6 ++++++
 tools/qfbsp/source/region.c    |    6 ++++++
 tools/qfbsp/source/solidbsp.c  |    6 ++++++
 tools/qfbsp/source/surfaces.c  |    6 ++++++
 tools/qfbsp/source/tjunc.c     |    6 ++++++
 tools/qfbsp/source/winding.c   |    6 ++++++
 tools/qfbsp/source/writebsp.c  |    6 ++++++
 33 files changed, 214 insertions(+), 2 deletions(-)

commit bfc6c9e
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Sep 1 10:06:01 2010 +0900

    Document the smart-leak function.

 tools/qfbsp/source/outside.c |   10 ++++++----
 1 file changed, 6 insertions(+), 4 deletions(-)

commit 93517d4
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Sep 1 09:52:39 2010 +0900

    Finish the port of smart leak files.
    
    This comes from the OpenQuartz version of qbsp.

 tools/qfbsp/include/options.h |    1 +
 tools/qfbsp/source/options.c  |    4 ++++
 tools/qfbsp/source/outside.c  |   51 +++++++++++++++++++++++++++++++++++++++++
 3 files changed, 56 insertions(+)

commit 142defe
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Aug 31 21:54:48 2010 +0900

    Parameter consistency fixes.
    
    Make the params for FreeWinding and CopyWinding consistent with those in
    qfbsp. This fixes some doxygen warnings while I think about how best to
    handle the duplicate code.

 tools/qfvis/include/vis.h  |    4 ++--
 tools/qfvis/source/qfvis.c |   12 ++++++------
 2 files changed, 8 insertions(+), 8 deletions(-)

commit ad8b082
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Aug 31 10:56:15 2010 +0900

    Make some vector code easier to read.

 tools/qfbsp/source/writebsp.c |   10 ++--------
 1 file changed, 2 insertions(+), 8 deletions(-)

commit 44776f1
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Aug 31 10:46:38 2010 +0900

    Documentation for winding.

 tools/qfbsp/include/winding.h |   72 +++++++++++++++++++++++++++++++++++++++++
 tools/qfbsp/source/winding.c  |   19 -----------
 2 files changed, 72 insertions(+), 19 deletions(-)

commit a8bd522
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Aug 30 23:19:42 2010 +0900

    Documentation for tjunc.

 tools/qfbsp/include/tjunc.h |    4 +++
 tools/qfbsp/source/tjunc.c  |   72 ++++++++++++++++++++++++++++++++++++++++---
 2 files changed, 71 insertions(+), 5 deletions(-)

commit f758cac
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Aug 30 20:56:44 2010 +0900

    Make FindEdge easier to read.

 tools/qfbsp/source/tjunc.c |   20 ++------------------
 1 file changed, 2 insertions(+), 18 deletions(-)

commit fc0e0f4
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Aug 30 20:13:07 2010 +0900

    Documentation for surfaces.

 tools/qfbsp/include/surfaces.h |   16 ++++++++++++
 tools/qfbsp/source/surfaces.c  |   56 ++++++++++++++++++++++++----------------
 2 files changed, 50 insertions(+), 22 deletions(-)

commit f3e7a7c
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Aug 30 17:34:41 2010 +0900

    Documentation for solidbsp.

 tools/qfbsp/include/solidbsp.h |   13 ++++++-
 tools/qfbsp/source/solidbsp.c  |   82 ++++++++++++++++++++++++++--------------
 2 files changed, 65 insertions(+), 30 deletions(-)

commit 4b1b838
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Aug 30 16:58:40 2010 +0900

    More braces and whitespace.

 tools/qfbsp/source/solidbsp.c |   19 +++++++++++--------
 tools/qfbsp/source/surfaces.c |    2 +-
 tools/qfbsp/source/tjunc.c    |   23 +++++++++++++----------
 3 files changed, 25 insertions(+), 19 deletions(-)

commit 313677e
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Aug 30 16:09:34 2010 +0900

    Add some braces and a bit of whitespace

 tools/qfbsp/source/solidbsp.c |    8 +++++---
 1 file changed, 5 insertions(+), 3 deletions(-)

commit 6918960
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Aug 30 16:08:04 2010 +0900

    Some docs for bsp5.h

 tools/qfbsp/include/bsp5.h |   36 ++++++++++++++++++------------------
 1 file changed, 18 insertions(+), 18 deletions(-)

commit 68dda63
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Aug 30 15:12:20 2010 +0900

    Documentation for region.

 tools/qfbsp/include/region.h |    4 ++++
 tools/qfbsp/source/region.c  |    4 ++--
 2 files changed, 6 insertions(+), 2 deletions(-)

commit 00b6352
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Aug 30 14:45:20 2010 +0900

    Document the readbsp code.

 tools/qfbsp/include/readbsp.h |   14 ++++++++++++++
 1 file changed, 14 insertions(+)

commit 34d6053
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Aug 30 14:21:52 2010 +0900

    Document the portals code.

 tools/qfbsp/include/portals.h |   31 ++++++++++++---
 tools/qfbsp/source/portals.c  |   83 ++++++++++++++++++++++++++++++++---------
 2 files changed, 92 insertions(+), 22 deletions(-)

commit cc098fa
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Aug 30 12:04:45 2010 +0900

    Documentation for outside.

 tools/qfbsp/include/outside.h |   11 ++++++++++
 tools/qfbsp/source/outside.c  |   48 ++++++++++++++++++++++++++++++++++++-----
 2 files changed, 54 insertions(+), 5 deletions(-)

commit a92bd6d
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Aug 29 20:35:43 2010 +0900

    Document the merge code

 tools/qfbsp/include/merge.h |   33 ++++++++++++++++++++++++++++++++-
 tools/qfbsp/source/merge.c  |   26 +++++++++++++++-----------
 2 files changed, 47 insertions(+), 12 deletions(-)

commit 6ce7c50
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Aug 29 20:34:59 2010 +0900

    Make NewFaceFromFace const-correct

 tools/qfbsp/include/csg4.h |    2 +-
 tools/qfbsp/source/csg4.c  |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 6c89883
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Aug 29 18:31:04 2010 +0900

    Lots of csg4 documentation

 tools/qfbsp/include/csg4.h |   43 +++++++++++++++++++-
 tools/qfbsp/source/csg4.c  |   96 +++++++++++++++++++++++---------------------
 2 files changed, 93 insertions(+), 46 deletions(-)

commit 17e5813
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Aug 29 18:29:08 2010 +0900

    Make a block of code a little easier to read.

 tools/qfbsp/source/csg4.c |    6 ++----
 1 file changed, 2 insertions(+), 4 deletions(-)

commit a5c96cb
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Aug 29 12:43:07 2010 +0900

    More documentation and move some functions.

 tools/qfbsp/include/brush.h    |    6 +++
 tools/qfbsp/include/bsp5.h     |   46 +++++++++++------------
 tools/qfbsp/include/portals.h  |   19 ++++++++++
 tools/qfbsp/include/surfaces.h |   38 +++++++++++++++++++
 tools/qfbsp/source/brush.c     |   12 ++++++
 tools/qfbsp/source/csg4.c      |    3 +-
 tools/qfbsp/source/merge.c     |    1 +
 tools/qfbsp/source/portals.c   |   27 +++++++++++++-
 tools/qfbsp/source/qfbsp.c     |   81 ----------------------------------------
 tools/qfbsp/source/region.c    |    2 +-
 tools/qfbsp/source/surfaces.c  |   47 +++++++++++++++++++++++
 tools/qfbsp/source/tjunc.c     |    2 +-
 12 files changed, 175 insertions(+), 109 deletions(-)

commit 2e6eb41
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Aug 28 22:04:58 2010 +0900

    Some documentation for the map parser.

 tools/qfbsp/include/map.h |   56 +++++++++++++++++++++++++++++++++++++++++----
 1 file changed, 52 insertions(+), 4 deletions(-)

commit 5cf5c1e
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 27 22:12:13 2010 +0900

    lots of whitespace

 tools/qfbsp/include/brush.h   |   14 +++---
 tools/qfbsp/include/bsp5.h    |  100 +++++++++++++++++++++--------------------
 tools/qfbsp/include/map.h     |   56 +++++++++++------------
 tools/qfbsp/include/options.h |   36 +++++++--------
 tools/qfbsp/include/portals.h |    6 +--
 tools/qfbsp/include/winding.h |    4 +-
 tools/qfbsp/source/brush.c    |    4 +-
 tools/qfbsp/source/merge.c    |    2 +-
 tools/qfbsp/source/options.c  |    6 +--
 tools/qfbsp/source/qfbsp.c    |    2 +-
 tools/qfbsp/source/writebsp.c |    4 +-
 11 files changed, 116 insertions(+), 118 deletions(-)

commit 5c0a55d
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 27 21:46:06 2010 +0900

    Add some documentation for the brush code.

 tools/qfbsp/include/brush.h |   17 +++++++++++++++++
 tools/qfbsp/source/brush.c  |   18 +++++++++++++-----
 2 files changed, 30 insertions(+), 5 deletions(-)

commit 9a4c9c5
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 27 21:43:53 2010 +0900

    Fix bbox calculation for rotating brush entities.

 tools/qfbsp/source/brush.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit b91568b
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 27 21:41:04 2010 +0900

    More non-canonical checks in PlaneTypeForNormal.

 tools/qfbsp/source/brush.c |   13 +++++++++----
 1 file changed, 9 insertions(+), 4 deletions(-)

commit c9eb679
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 27 21:38:09 2010 +0900

    Make PlaneTypeForNormal const-correct.

 tools/qfbsp/include/brush.h |    2 +-
 tools/qfbsp/source/brush.c  |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 9a30968
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Aug 23 11:58:49 2010 +0900

    type size correctness

 libs/models/model.c |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit cd159e1
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Aug 23 11:56:43 2010 +0900

    Use LoadBSPMem to load brush models.
    
    Now that Mod_LoadBrushModel uses bspfile.[ch], the engine uses the same
    code as the tools to work with bsp files.

 include/QF/bspfile.h               |   19 +++-
 include/QF/model.h                 |    2 +-
 libs/models/brush/gl_model_brush.c |   22 ++--
 libs/models/brush/model_brush.c    |  196 +++++++++++++++---------------------
 libs/models/brush/sw_model_brush.c |    8 +-
 libs/models/null_model.c           |    2 +-
 libs/util/bspfile.c                |   34 ++++---
 7 files changed, 138 insertions(+), 145 deletions(-)

commit 7fca218
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Aug 23 09:50:42 2010 +0900

    fix some errors found by valgrind

 tools/bsp2img/bsp2img.c |   10 ++++++----
 1 file changed, 6 insertions(+), 4 deletions(-)

commit db89865
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Aug 23 09:49:45 2010 +0900

    make LoadBSPFile own the memory for the bsp data

 libs/util/bspfile.c |    1 +
 1 file changed, 1 insertion(+)

commit 719ca15
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Aug 23 09:40:01 2010 +0900

    make LoadBSPMem work in-place
    
    LoadBSPMem now modifies the passed in buffer rathern than allocating new
    memory. One step closer to cleaning up brush model loading.

 libs/util/bspfile.c |   50 +++++++++++++++++++++++++-------------------------
 1 file changed, 25 insertions(+), 25 deletions(-)

commit 56fb4d9
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Aug 23 09:04:21 2010 +0900

    allow safe bsp freeing
    
    any memory the bsp thinks it does not own will not be freed

 include/QF/bspfile.h       |   21 ++++++++++--
 libs/util/bspfile.c        |   82 +++++++++++++++++++++++++++++++-------------
 tools/qfbsp/source/qfbsp.c |    4 +++
 3 files changed, 82 insertions(+), 25 deletions(-)

commit cec8e09
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Aug 23 08:21:32 2010 +0900

    white space cleanup

 include/QF/bspfile.h |  298 +++++++++++++++++++++++++-------------------------
 1 file changed, 148 insertions(+), 150 deletions(-)

commit 99d8ea2
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Aug 22 22:32:16 2010 +0900

    fix uninitialized data
    
    In the process of testing the changes to WriteBSPFile, it was found that
    the data being supplied to it contained uninitialized values.

 tools/qfbsp/source/writebsp.c |    5 +++++
 1 file changed, 5 insertions(+)

commit 1d86e71
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Aug 22 22:29:26 2010 +0900

    make WriteBSPFile take a const bsp_t *
    
    This means that the supplied bsp can now be reused, as it should be.

 include/QF/bspfile.h |    5 +++-
 libs/util/bspfile.c  |   75 +++++++++++++++++++++++++++++++++-----------------
 2 files changed, 54 insertions(+), 26 deletions(-)

commit f4042c5
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Aug 22 08:40:31 2010 +0900

    Make the bsp disk data structures type size independent.
    
    However, this assumes float is always 32 bits.
    
    Also use size_t for the *size fields in bsp_t and clean up the mess.

 include/QF/bspfile.h           |   94 ++++++++++++++++++++--------------------
 libs/util/bspfile.c            |   38 ++++++++--------
 tools/qflight/source/qflight.c |    2 +-
 tools/qfvis/source/qfvis.c     |    4 +-
 4 files changed, 69 insertions(+), 69 deletions(-)

commit 8808eba
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Oct 13 20:50:45 2010 +0900

    add VectorSet macro
    
    VectorSet(a,b,c,d) -> vec3_t d = (a, b, c)
    
    This should be useful.

 include/QF/mathlib.h |    6 ++++++
 1 file changed, 6 insertions(+)

commit 13b5dad
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Oct 12 18:26:24 2010 +0900

    Add some view opacity.

 tools/Forge/Bundles/MapEdit/CameraView.m    |    5 +++++
 tools/Forge/Bundles/MapEdit/KeypairView.m   |    5 +++++
 tools/Forge/Bundles/MapEdit/PopScrollView.m |    5 +++++
 tools/Forge/Bundles/MapEdit/TextureView.m   |    5 +++++
 tools/Forge/Bundles/MapEdit/XYView.m        |    5 +++++
 tools/Forge/Bundles/MapEdit/ZScrollView.m   |    5 +++++
 tools/Forge/Bundles/MapEdit/ZView.m         |    5 +++++
 7 files changed, 35 insertions(+)

commit 74de76f
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Oct 11 21:13:34 2010 +0900

    Remove some unused files.

 tools/Forge/Bundles/MapEdit/DictList.h |   16 --
 tools/Forge/Bundles/MapEdit/DictList.m |   63 --------
 tools/Forge/Bundles/MapEdit/misc.m     |  264 --------------------------------
 tools/Forge/Bundles/MapEdit/qedefs.h   |   59 -------
 4 files changed, 402 deletions(-)

commit 9daf527
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Oct 11 21:11:33 2010 +0900

    Do a bit of comment cleanup.

 tools/Forge/Bundles/MapEdit/CameraView.m       |   48 ++++++-------------
 tools/Forge/Bundles/MapEdit/Clipper.m          |    2 +-
 tools/Forge/Bundles/MapEdit/Dict.m             |   14 ------
 tools/Forge/Bundles/MapEdit/DictList.m         |    7 +--
 tools/Forge/Bundles/MapEdit/Entity.m           |    4 +-
 tools/Forge/Bundles/MapEdit/EntityClass.m      |    4 +-
 tools/Forge/Bundles/MapEdit/InspectorControl.m |    4 --
 tools/Forge/Bundles/MapEdit/Map.m              |    4 +-
 tools/Forge/Bundles/MapEdit/Preferences.m      |   19 --------
 tools/Forge/Bundles/MapEdit/Project.m          |   36 +-------------
 tools/Forge/Bundles/MapEdit/QuakeEd.m          |   40 +++++-----------
 tools/Forge/Bundles/MapEdit/SetBrush.m         |   12 ++---
 tools/Forge/Bundles/MapEdit/TexturePalette.m   |   34 +-------------
 tools/Forge/Bundles/MapEdit/Things.m           |   12 -----
 tools/Forge/Bundles/MapEdit/XYView.m           |   45 +++++-------------
 tools/Forge/Bundles/MapEdit/ZView.m            |   59 +++++++++--------------
 tools/Forge/Bundles/MapEdit/render.m           |   60 +++++++-----------------
 17 files changed, 93 insertions(+), 311 deletions(-)

commit a998746
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Oct 11 09:52:10 2010 +0900

    Allow entity copying too.

 tools/Forge/Bundles/MapEdit/Entity.m |   25 +++++++++++++++++++++++++
 1 file changed, 25 insertions(+)

commit 1945da9
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Oct 11 09:19:09 2010 +0900

    Can now copy brushes.
    
    Implement SetBrush's copyWithZone:

 tools/Forge/Bundles/MapEdit/SetBrush.m |   22 ++++++++++++++++++++++
 1 file changed, 22 insertions(+)

commit 708c874
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Sun Oct 10 06:20:20 2010 -0400

    Cope gracefully with wadfiles we can't handle
    
    This is a weird little diff. We're doing a lot of gymnastics here so that
    we don't have to crash (killing any loaded unsaved work!) when we find a
    wadfile we don't know how to deal with.

 tools/Forge/Bundles/MapEdit/TexturePalette.m |   54 +++++++++++++++++---------
 1 file changed, 36 insertions(+), 18 deletions(-)

commit 670d915
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Oct 10 18:47:27 2010 +0900

    Fix key resetting.
    
    Make sure we don't add a new key-pair when the key already exists, and if
    the existing value has the same pointer as the "new" value, do nothing.

 tools/Forge/Bundles/MapEdit/Entity.m |    3 +++
 1 file changed, 3 insertions(+)

commit 3f08268
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Oct 10 18:31:14 2010 +0900

    Make sure unterminated lump names don't cause propblems when comparing.

 libs/util/wadfile.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 1902ca6
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Oct 10 18:21:30 2010 +0900

    Ensure the string to be hashed is terminated.

 libs/util/wadfile.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 7414fcf
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Oct 10 17:07:48 2010 +0900

    Can now select textures.

 tools/Forge/Bundles/MapEdit/TextureView.m |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 942a6ba
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Sun Oct 10 03:55:01 2010 -0400

    return the actual string
    
    Oops. I returned a text field instead of the string in it. :)

 tools/Forge/Bundles/MapEdit/Project.m |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 34cf3f7
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Sun Oct 10 03:37:43 2010 -0400

    Export the base directory of the open project
    
    Project -baseDirectoryPath returns the absolute path to the directory from
    which the .qpr file was loaded.

 tools/Forge/Bundles/MapEdit/Project.h        |    1 +
 tools/Forge/Bundles/MapEdit/Project.m        |    5 +++++
 tools/Forge/Bundles/MapEdit/TexturePalette.m |    3 ++-
 3 files changed, 8 insertions(+), 1 deletion(-)

commit b2cdede
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Oct 10 15:52:18 2010 +0900

    Correctly initialize the path variables.
    
    Use the current project file, not the default.

 tools/Forge/Bundles/MapEdit/Project.m |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 75b6331
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Sun Oct 10 02:31:55 2010 -0400

    Ignore all *.a files, testsound
    
    the ruamoko/ dir had some .a libs that needed ignoring, and
    libs/audio/testsound should be ignored too.

 .gitignore |    5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

commit 0bb30fc
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Sun Oct 10 02:24:35 2010 -0400

    TexturePalette.m: microscopic update
    
    remove a bogus comment, clarify a printf call, add parens around a ternary
    test.

 tools/Forge/Bundles/MapEdit/TexturePalette.m |    6 ++----
 1 file changed, 2 insertions(+), 4 deletions(-)

commit 92b735f
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Sun Oct 10 01:51:22 2010 -0400

    TexturePalette: Prevent NULL dereference
    
    Keep the app from crashing on a wad that doesn't have any palette at all.

 tools/Forge/Bundles/MapEdit/TexturePalette.m |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 8f92076
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Oct 10 13:07:28 2010 +0900

    Fix brush selection.
    
    The great cleanup caused a few vital returns to disappear (they probably
    went to the same place a lot of my lego did).

 tools/Forge/Bundles/MapEdit/SetBrush.m |    3 +++
 1 file changed, 3 insertions(+)

commit 7dca7e8
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Oct 10 10:05:01 2010 +0900

    Doc/boostrap tweaks.
    
    Mention git instead of subversion, add libsamplerate to the requirements
    and it turns out autoconf 2.65 is good enough.

 INSTALL      |    4 ++--
 bootstrap    |    4 ++--
 configure.ac |    2 +-
 3 files changed, 5 insertions(+), 5 deletions(-)

commit 29d544d
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Oct 9 21:57:18 2010 +0900

    Don't crash if the palette entry is not first.
    
    Instead, swap the palette entry and the first entry (only in memory).

 tools/Forge/Bundles/MapEdit/TexturePalette.m |   16 ++++++++++++++--
 1 file changed, 14 insertions(+), 2 deletions(-)

commit 0082b93
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Oct 9 21:56:04 2010 +0900

    Correct miptex byte-count scaling factor.

 tools/wad/wad.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit faf63e6
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Oct 9 16:10:49 2010 +0900

    Make wad files type size-safe.

 include/QF/wadfile.h |   12 ++++++------
 1 file changed, 6 insertions(+), 6 deletions(-)

commit f59eec4
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Oct 9 15:34:03 2010 +0900

    Support Quests' map format.
    
    This is mostly because I have a few maps in this format.

 tools/Forge/Bundles/MapEdit/SetBrush.m |   77 +++++++++++++++++++++++++++-----
 1 file changed, 67 insertions(+), 10 deletions(-)

commit f9ffb30
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Oct 9 15:04:40 2010 +0900

    Got the value/key backwards.

 tools/Forge/Bundles/MapEdit/Preferences.m |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 186657c
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Oct 9 10:02:05 2010 +0900

    Even more conversions to NSString

 tools/Forge/Bundles/MapEdit/Preferences.h |    2 +-
 tools/Forge/Bundles/MapEdit/Preferences.m |  107 +++++++++--------------------
 2 files changed, 33 insertions(+), 76 deletions(-)

commit 958b878
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Oct 9 09:49:35 2010 +0900

    More conversions to NSString

 tools/Forge/Bundles/MapEdit/Preferences.h    |    8 ++---
 tools/Forge/Bundles/MapEdit/Preferences.m    |   48 ++++++++++++--------------
 tools/Forge/Bundles/MapEdit/Project.m        |    8 ++---
 tools/Forge/Bundles/MapEdit/TexturePalette.m |    2 +-
 4 files changed, 31 insertions(+), 35 deletions(-)

commit 33a4f58
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Oct 7 17:58:26 2010 +0900

    Do a lot of conversions to NSString.

 tools/Forge/Bundles/MapEdit/Project.h |   20 ++++----
 tools/Forge/Bundles/MapEdit/Project.m |   38 +++++++--------
 tools/Forge/Bundles/MapEdit/QuakeEd.h |    6 +--
 tools/Forge/Bundles/MapEdit/QuakeEd.m |   85 ++++++++++++++++-----------------
 tools/Forge/Bundles/MapEdit/Things.m  |   16 +++----
 5 files changed, 80 insertions(+), 85 deletions(-)

commit 7ec21cb
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Oct 5 23:48:56 2010 +0900

    Change path_projectinfo to NSString.

 tools/Forge/Bundles/MapEdit/Preferences.m |    4 +---
 tools/Forge/Bundles/MapEdit/Project.h     |    6 +++---
 tools/Forge/Bundles/MapEdit/Project.m     |   33 ++++++++++++++---------------
 3 files changed, 20 insertions(+), 23 deletions(-)

commit 00d33cc
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Oct 5 23:48:06 2010 +0900

    It seems I forgot to commit this with the plist changes.

 tools/Forge/Bundles/MapEdit/Project.h |   26 ++++------
 tools/Forge/Bundles/MapEdit/Project.m |   87 +++------------------------------
 2 files changed, 15 insertions(+), 98 deletions(-)

commit 3593274
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Oct 4 19:44:37 2010 +0900

    Fix wad loading when loading the map.
    
    This broke with the fix for the entity inspector.

 tools/Forge/Bundles/MapEdit/Map.m |    7 ++++---
 1 file changed, 4 insertions(+), 3 deletions(-)

commit 05a8b98
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Oct 4 19:43:33 2010 +0900

    Use QF's property lists for the project file.

 tools/Forge/Bundles/MapEdit/Dict.h      |   21 +-
 tools/Forge/Bundles/MapEdit/Dict.m      |  452 +++----------------------------
 tools/Forge/Bundles/MapEdit/GNUmakefile |    4 +-
 tools/Forge/Bundles/MapEdit/Project.h   |    6 +-
 tools/Forge/Bundles/MapEdit/Project.m   |   37 +--
 tools/Forge/Bundles/MapEdit/quake.qpr   |   90 +++++-
 6 files changed, 150 insertions(+), 460 deletions(-)

commit 1a994ab
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Oct 2 21:00:15 2010 +0900

    First step in cleaning up Dict.

 tools/Forge/Bundles/MapEdit/Dict.h |    6 +-
 tools/Forge/Bundles/MapEdit/Dict.m |  113 ++++++++++++++----------------------
 2 files changed, 45 insertions(+), 74 deletions(-)

commit 57e6bf8
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Oct 2 20:35:22 2010 +0900

    Correct an error message.

 tools/Forge/Bundles/MapEdit/Entity.m |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 5cc5daf
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Oct 1 19:00:10 2010 +0900

    Get the button icons set properly.
    
    There are still issues with the way gorm does things, but this works for
    now.

 tools/Forge/Bundles/MapEdit/MapEdit.gorm/objects.gorm |  Bin 93436 -> 87785 bytes
 1 file changed, 0 insertions(+), 0 deletions(-)

commit 102cf9b
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Fri Oct 1 05:51:43 2010 -0400

    install images into Resources
    
    Install the button icons into the app when we make it.

 tools/Forge/Bundles/MapEdit/GNUmakefile |   16 +++++++++++++++-
 1 file changed, 15 insertions(+), 1 deletion(-)

commit 5588d9d
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Wed Sep 29 18:46:34 2010 -0400

    find $GNUSTEP_MAKEFILES
    
    Enable locating the GNUstep makefiles using the various schemes available
    (in order of reliability), eventually reaching a hardcoded default.

 tools/Forge/Bundles/MapEdit/GNUmakefile                |    2 ++
 tools/Forge/Bundles/MapEdit/GNUmakefile.bundle         |    2 ++
 tools/Forge/Bundles/MapEdit/GNUmakefile.find-makefiles |   13 +++++++++++++
 3 files changed, 17 insertions(+)

commit 19c3049
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Wed Sep 29 18:42:57 2010 -0400

    ignore core files

 .gitignore |    1 +
 1 file changed, 1 insertion(+)

commit fb785c3
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Wed Sep 29 16:09:11 2010 -0400

    tactical whitespace bomb
    
    Add return-type information to all methods, split up lines properly where
    I could find them, and ran the whole thing through uncrustify. Looks purty
    now. :)

 tools/Forge/Bundles/MapEdit/CameraView.h       |   66 +--
 tools/Forge/Bundles/MapEdit/CameraView.m       |  301 +++++-----
 tools/Forge/Bundles/MapEdit/Clipper.h          |   16 +-
 tools/Forge/Bundles/MapEdit/Clipper.m          |  106 ++--
 tools/Forge/Bundles/MapEdit/Dict.h             |   42 +-
 tools/Forge/Bundles/MapEdit/Dict.m             |  281 ++++-----
 tools/Forge/Bundles/MapEdit/DictList.h         |   10 +-
 tools/Forge/Bundles/MapEdit/DictList.m         |   30 +-
 tools/Forge/Bundles/MapEdit/Entity.h           |   42 +-
 tools/Forge/Bundles/MapEdit/Entity.m           |  235 ++++----
 tools/Forge/Bundles/MapEdit/EntityClass.h      |   42 +-
 tools/Forge/Bundles/MapEdit/EntityClass.m      |  104 ++--
 tools/Forge/Bundles/MapEdit/InspectorControl.h |   26 +-
 tools/Forge/Bundles/MapEdit/InspectorControl.m |    6 +-
 tools/Forge/Bundles/MapEdit/KeypairView.h      |   14 +-
 tools/Forge/Bundles/MapEdit/KeypairView.m      |   43 +-
 tools/Forge/Bundles/MapEdit/Map.h              |   82 +--
 tools/Forge/Bundles/MapEdit/Map.m              |  693 +++++++++++------------
 tools/Forge/Bundles/MapEdit/PopScrollView.h    |   11 +-
 tools/Forge/Bundles/MapEdit/PopScrollView.m    |   59 +-
 tools/Forge/Bundles/MapEdit/Preferences.h      |   84 ++-
 tools/Forge/Bundles/MapEdit/Preferences.m      |  185 +++---
 tools/Forge/Bundles/MapEdit/Project.h          |  167 +++---
 tools/Forge/Bundles/MapEdit/Project.m          |  316 ++++++-----
 tools/Forge/Bundles/MapEdit/QuakeEd.h          |  128 ++---
 tools/Forge/Bundles/MapEdit/QuakeEd.m          |  562 +++++++++---------
 tools/Forge/Bundles/MapEdit/QuakeEd_main.m     |   13 +-
 tools/Forge/Bundles/MapEdit/SetBrush.h         |  128 ++---
 tools/Forge/Bundles/MapEdit/SetBrush.m         |  723 ++++++++++++------------
 tools/Forge/Bundles/MapEdit/Storage.h          |   62 +-
 tools/Forge/Bundles/MapEdit/Storage.m          |  143 ++---
 tools/Forge/Bundles/MapEdit/TexturePalette.h   |  137 +++--
 tools/Forge/Bundles/MapEdit/TexturePalette.m   |  442 +++++++--------
 tools/Forge/Bundles/MapEdit/TextureView.h      |   10 +-
 tools/Forge/Bundles/MapEdit/TextureView.m      |   51 +-
 tools/Forge/Bundles/MapEdit/Things.h           |   45 +-
 tools/Forge/Bundles/MapEdit/Things.m           |  209 ++++---
 tools/Forge/Bundles/MapEdit/XYView.h           |   61 +-
 tools/Forge/Bundles/MapEdit/XYView.m           |  720 ++++++++++++-----------
 tools/Forge/Bundles/MapEdit/ZScrollView.h      |    9 +-
 tools/Forge/Bundles/MapEdit/ZScrollView.m      |   40 +-
 tools/Forge/Bundles/MapEdit/ZView.h            |   43 +-
 tools/Forge/Bundles/MapEdit/ZView.m            |  400 ++++++-------
 tools/Forge/Bundles/MapEdit/misc.m             |   93 ++-
 tools/Forge/Bundles/MapEdit/qedefs.h           |   41 +-
 tools/Forge/Bundles/MapEdit/render.h           |   22 +-
 tools/Forge/Bundles/MapEdit/render.m           |  131 ++---
 47 files changed, 3558 insertions(+), 3616 deletions(-)

commit 77e6624
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Tue Sep 28 15:49:54 2010 -0400

    Remove -read:/-write from Storage
    
    Apparently GS doesn't do TypedStream any more...

 tools/Forge/Bundles/MapEdit/Storage.h |    3 ---
 tools/Forge/Bundles/MapEdit/Storage.m |   27 ---------------------------
 2 files changed, 30 deletions(-)

commit ec0c37e
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Tue Sep 28 15:43:35 2010 -0400

    Add type information, don't return self most of the time
    
    Start "modernizing" the code base; old code is based heavily in the
    Smalltalk style, where everything that doesn't return a different object
    returns self. This can be useful, but it isn't what is usually done these
    days. Also, add type information (which didn't exist in "the old days" --
    an object was an "id", not a "Foo *") to help with debugging.

 tools/Forge/Bundles/MapEdit/CameraView.h       |    4 +-
 tools/Forge/Bundles/MapEdit/CameraView.m       |   12 +-
 tools/Forge/Bundles/MapEdit/Clipper.h          |    8 +-
 tools/Forge/Bundles/MapEdit/Clipper.m          |   16 +--
 tools/Forge/Bundles/MapEdit/Entity.h           |   17 +--
 tools/Forge/Bundles/MapEdit/Entity.m           |   60 ++++----
 tools/Forge/Bundles/MapEdit/InspectorControl.h |   79 ++++++-----
 tools/Forge/Bundles/MapEdit/InspectorControl.m |  139 +++++++++---------
 tools/Forge/Bundles/MapEdit/Map.m              |   10 +-
 tools/Forge/Bundles/MapEdit/QuakeEd.m          |    4 +-
 tools/Forge/Bundles/MapEdit/SetBrush.h         |   70 ++++-----
 tools/Forge/Bundles/MapEdit/SetBrush.m         |  179 +++++++++---------------
 tools/Forge/Bundles/MapEdit/ZView.m            |    8 +-
 13 files changed, 269 insertions(+), 337 deletions(-)

commit 7db4cef
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Mon Sep 27 14:09:02 2010 -0400

    SetBrush: signed/unsigned fix

 tools/Forge/Bundles/MapEdit/SetBrush.m |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 32c1bae
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Mon Sep 27 14:06:22 2010 -0400

    Comment an #if 0
    
    Looks like John Carmack was going to implement "reference" .qpr directories,
    where they would contain a reference to the "real" base path, but never got
    it finished. Make a note in the source to explain the "dead" code.

 tools/Forge/Bundles/MapEdit/Project.m |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ad6e799
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Mon Sep 27 14:01:07 2010 -0400

    signed/unsigned and some const-correctness

 tools/Forge/Bundles/MapEdit/Dict.h               |    2 +-
 tools/Forge/Bundles/MapEdit/Dict.m               |    6 +++---
 tools/Forge/Bundles/MapEdit/DictList.m           |    4 ++--
 tools/Forge/Bundles/MapEdit/Entity.m             |    3 ++-
 tools/Forge/Bundles/MapEdit/EntityClass.m        |    6 +++---
 tools/Forge/Bundles/MapEdit/GNUmakefile.preamble |    4 ++--
 tools/Forge/Bundles/MapEdit/Map.m                |    2 +-
 tools/Forge/Bundles/MapEdit/Project.m            |    2 +-
 tools/Forge/Bundles/MapEdit/QuakeEd.m            |   10 +++++-----
 tools/Forge/Bundles/MapEdit/Storage.m            |    8 ++++----
 10 files changed, 24 insertions(+), 23 deletions(-)

commit 3515816
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Sep 28 22:17:31 2010 +0900

    Get the timing right when setting the wad file in worldspawn.

 tools/Forge/Bundles/MapEdit/Map.m |   12 ++++++++----
 1 file changed, 8 insertions(+), 4 deletions(-)

commit cdf42a8
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Sep 28 22:17:07 2010 +0900

    Do error checking when trying to load a wad file.

 tools/Forge/Bundles/MapEdit/TexturePalette.h |    2 --
 tools/Forge/Bundles/MapEdit/TexturePalette.m |   17 +++++++++++++----
 2 files changed, 13 insertions(+), 6 deletions(-)

commit d13e2ae
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Sep 28 21:40:11 2010 +0900

    Char buffer audit.
    
    Get rid of most static char buffers. The few remaining are either in file
    structs or messy code that needs further analysis.

 tools/Forge/Bundles/MapEdit/Dict.m           |   22 ++++-------
 tools/Forge/Bundles/MapEdit/Entity.m         |   52 ++++++++++++--------------
 tools/Forge/Bundles/MapEdit/EntityClass.m    |    4 +-
 tools/Forge/Bundles/MapEdit/Preferences.m    |   12 +++---
 tools/Forge/Bundles/MapEdit/Project.m        |   20 +++++-----
 tools/Forge/Bundles/MapEdit/QuakeEd.m        |    2 +-
 tools/Forge/Bundles/MapEdit/TexturePalette.m |   40 ++++++++++----------
 tools/Forge/Bundles/MapEdit/Things.m         |   37 ++++++++----------
 8 files changed, 85 insertions(+), 104 deletions(-)

commit 7c2709e
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Sep 28 18:41:38 2010 +0900

    Do a const-correct run.

 tools/Forge/Bundles/MapEdit/Dict.h           |   22 +++++-----
 tools/Forge/Bundles/MapEdit/Dict.m           |   29 ++++++-------
 tools/Forge/Bundles/MapEdit/DictList.h       |    4 +-
 tools/Forge/Bundles/MapEdit/DictList.m       |    4 +-
 tools/Forge/Bundles/MapEdit/Entity.h         |    9 ++--
 tools/Forge/Bundles/MapEdit/Entity.m         |    5 +--
 tools/Forge/Bundles/MapEdit/EntityClass.h    |    8 ++--
 tools/Forge/Bundles/MapEdit/EntityClass.m    |   14 +++----
 tools/Forge/Bundles/MapEdit/Map.h            |    4 +-
 tools/Forge/Bundles/MapEdit/Map.m            |    4 +-
 tools/Forge/Bundles/MapEdit/Preferences.h    |    2 +-
 tools/Forge/Bundles/MapEdit/Preferences.m    |    2 +-
 tools/Forge/Bundles/MapEdit/Project.h        |   37 ++++++++--------
 tools/Forge/Bundles/MapEdit/Project.m        |   58 +++++++++++++-------------
 tools/Forge/Bundles/MapEdit/QuakeEd.h        |    8 ++--
 tools/Forge/Bundles/MapEdit/QuakeEd.m        |   11 +++--
 tools/Forge/Bundles/MapEdit/Storage.h        |   16 ++++---
 tools/Forge/Bundles/MapEdit/TexturePalette.h |   15 +++----
 tools/Forge/Bundles/MapEdit/TexturePalette.m |   17 ++++----
 tools/Forge/Bundles/MapEdit/Things.h         |    2 +-
 tools/Forge/Bundles/MapEdit/Things.m         |    6 +--
 21 files changed, 131 insertions(+), 146 deletions(-)

commit a794752
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Sep 28 00:29:16 2010 +0900

    Fix the tangled mess of entity connections.
    
    What was the person who wrote valueForQKey thinking? Make the function
    const-correct and bubble the changes through the code.

 tools/Forge/Bundles/MapEdit/Entity.h         |    4 ++--
 tools/Forge/Bundles/MapEdit/Entity.m         |   17 +++++++----------
 tools/Forge/Bundles/MapEdit/EntityClass.h    |    2 +-
 tools/Forge/Bundles/MapEdit/EntityClass.m    |    2 +-
 tools/Forge/Bundles/MapEdit/Map.m            |   13 +++++++------
 tools/Forge/Bundles/MapEdit/Project.h        |    2 +-
 tools/Forge/Bundles/MapEdit/Project.m        |    2 +-
 tools/Forge/Bundles/MapEdit/SetBrush.m       |    8 ++++----
 tools/Forge/Bundles/MapEdit/TexturePalette.h |    4 ++--
 tools/Forge/Bundles/MapEdit/TexturePalette.m |    4 ++--
 tools/Forge/Bundles/MapEdit/Things.m         |    6 +++---
 11 files changed, 31 insertions(+), 33 deletions(-)

commit 0d37832
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Sep 28 00:02:24 2010 +0900

    Connect the region filtering switch.
    
    Region filtering now seems to work. Also added a tool tip.

 tools/Forge/Bundles/MapEdit/MapEdit.gorm/objects.gorm |  Bin 93418 -> 93436 bytes
 1 file changed, 0 insertions(+), 0 deletions(-)

commit 583ab06
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Sep 27 23:17:03 2010 +0900

    Get the entity flags switches into the right initial stage.

 tools/Forge/Bundles/MapEdit/Things.m |    7 +++++++
 1 file changed, 7 insertions(+)

commit d8858c2
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Sep 27 22:06:37 2010 +0900

    Echo the output to stdout as well as the output box.

 tools/Forge/Bundles/MapEdit/QuakeEd.m |    1 +
 1 file changed, 1 insertion(+)

commit 8057e6d
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Sep 27 21:59:25 2010 +0900

    Get the inspector button displaying properly.

 tools/Forge/Bundles/MapEdit/InspectorControl.m        |    4 +---
 tools/Forge/Bundles/MapEdit/MapEdit.gorm/objects.gorm |  Bin 93345 -> 93418 bytes
 2 files changed, 1 insertion(+), 3 deletions(-)

commit 3e9f72e
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Sep 27 20:53:52 2010 +0900

    Fix texture names.

 tools/Forge/Bundles/MapEdit/TexturePalette.m |   24 +++++++++++++++++++-----
 1 file changed, 19 insertions(+), 5 deletions(-)

commit 530ed45
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Sep 27 19:42:28 2010 +0900

    Get the timing write for when to restore the rects.

 tools/Forge/Bundles/MapEdit/CameraView.m |   11 +++++++----
 tools/Forge/Bundles/MapEdit/QuakeEd.h    |    5 +++++
 tools/Forge/Bundles/MapEdit/QuakeEd.m    |   17 ++++++++++++++++-
 tools/Forge/Bundles/MapEdit/XYView.m     |   25 ++++++++++++++-----------
 tools/Forge/Bundles/MapEdit/ZView.m      |   10 ++++++----
 5 files changed, 48 insertions(+), 20 deletions(-)

commit 9d316bd
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 26 22:45:26 2010 +0900

    A bit more code cleanup.

 tools/Forge/Bundles/MapEdit/CameraView.m   |   20 ++++-----------
 tools/Forge/Bundles/MapEdit/Project.m      |    1 -
 tools/Forge/Bundles/MapEdit/QuakeEd_main.m |    1 -
 tools/Forge/Bundles/MapEdit/SetBrush.m     |    2 +-
 tools/Forge/Bundles/MapEdit/XYView.m       |   37 +++++++++++-----------------
 tools/Forge/Bundles/MapEdit/ZView.m        |   16 +++---------
 6 files changed, 25 insertions(+), 52 deletions(-)

commit d894034
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 26 22:43:24 2010 +0900

    Replace PS*instance.
    
    It's a little flakey (doesn't always do the right thing), but it's a good
    start. I'd like to do much smaller rectangles, and get the timing right.

 tools/Forge/Bundles/MapEdit/QuakeEd.h |    3 ++
 tools/Forge/Bundles/MapEdit/QuakeEd.m |   52 ++++++++++++++++++++++++---------
 2 files changed, 41 insertions(+), 14 deletions(-)

commit 35c7916
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 26 16:26:12 2010 +0900

    Get the inspector button mostly working thanks to Deek's help.

 tools/Forge/Bundles/MapEdit/InspectorControl.h |    4 ++--
 tools/Forge/Bundles/MapEdit/InspectorControl.m |   15 ++++-----------
 2 files changed, 6 insertions(+), 13 deletions(-)

commit 36342da
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 26 16:24:00 2010 +0900

    Rectirect Sys_Printf's output to the command output box.

 .../Bundles/MapEdit/MapEdit.gorm/objects.gorm      |  Bin 93338 -> 93345 bytes
 tools/Forge/Bundles/MapEdit/QuakeEd.m              |   25 +++++++++++++-------
 2 files changed, 16 insertions(+), 9 deletions(-)

commit fe9fdd7
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Aug 21 19:41:45 2010 +0900

    add VectorSet macro
    
    VectorSet(a,b,c,d) -> vec3_t d = (a, b, c)
    
    This should be useful.

 include/QF/mathlib.h |    6 ++++++
 1 file changed, 6 insertions(+)

commit 610f32e
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Sep 25 22:30:40 2010 +0900

    Fix a string comparision mistake.
    
    This snuck in with the parser changes.

 tools/qflight/source/entities.c |    9 +++++----
 1 file changed, 5 insertions(+), 4 deletions(-)

commit 994469f
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Sep 25 19:24:12 2010 +0900

    Fix an uninitizized variable.

 tools/qfvis/source/soundphs.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 1875a9d
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Sep 25 11:58:53 2010 +0900

    Work around a method type mismatch in GNUstep.

 tools/Forge/Bundles/MapEdit/TexturePalette.h |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 1235c3b
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Sep 24 23:17:25 2010 +0900

    Hopefully fix the flush control and second screen placement.

 tools/Forge/Bundles/MapEdit/QuakeEd.m |   10 ++++++----
 tools/Forge/Bundles/MapEdit/XYView.m  |    4 ++++
 tools/Forge/Bundles/MapEdit/ZView.m   |    4 ++++
 3 files changed, 14 insertions(+), 4 deletions(-)

commit d87b338
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Sep 24 20:46:24 2010 +0900

    Get help working (for what it is worth).

 tools/Forge/Bundles/MapEdit/GNUmakefile               |    2 +-
 tools/Forge/Bundles/MapEdit/InspectorControl.h        |    2 ++
 tools/Forge/Bundles/MapEdit/InspectorControl.m        |    9 ++++++++-
 tools/Forge/Bundles/MapEdit/MapEdit.gorm/data.classes |    1 +
 tools/Forge/Bundles/MapEdit/MapEdit.gorm/objects.gorm |  Bin 93294 -> 93338 bytes
 5 files changed, 12 insertions(+), 2 deletions(-)

commit b48ce84
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Sep 24 20:46:06 2010 +0900

    Remove debugging code.

 tools/Forge/Bundles/MapEdit/TextureView.m |    6 ++----
 1 file changed, 2 insertions(+), 4 deletions(-)

commit b141de8
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Sep 24 20:44:07 2010 +0900

    Do not use PS* functions.

 tools/Forge/Bundles/MapEdit/Clipper.m |   54 ++++++++++++----------
 tools/Forge/Bundles/MapEdit/XYView.m  |   45 ++++++++++++-------
 tools/Forge/Bundles/MapEdit/ZView.h   |    2 +
 tools/Forge/Bundles/MapEdit/ZView.m   |   79 ++++++++++++++++++++-------------
 4 files changed, 109 insertions(+), 71 deletions(-)

commit 940d961
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Sep 24 00:09:52 2010 +0900

    Get TextureView working.

 tools/Forge/Bundles/MapEdit/TexturePalette.m |    2 +-
 tools/Forge/Bundles/MapEdit/TextureView.m    |   50 ++++++++++++--------------
 2 files changed, 24 insertions(+), 28 deletions(-)

commit 3c33652
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Sep 23 22:56:07 2010 +0900

    Get the Z checker working.

 tools/Forge/Bundles/MapEdit/SetBrush.m |   42 ++++++++++++--------------------
 1 file changed, 15 insertions(+), 27 deletions(-)

commit f1c49a6
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Sep 23 22:09:58 2010 +0900

    KeypairView now seems to work properly.

 tools/Forge/Bundles/MapEdit/KeypairView.m |   34 +++++++++++++++--------------
 1 file changed, 18 insertions(+), 16 deletions(-)

commit 1561eac
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Sep 23 17:29:52 2010 +0900

    Don't change the font size when scaling the views.
    
    This keeps the displayed size of the text constant (text size is independent of bounds/frame scaling)

 tools/Forge/Bundles/MapEdit/XYView.m |    2 +-
 tools/Forge/Bundles/MapEdit/ZView.m  |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 1262dee
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Sep 23 17:24:21 2010 +0900

    Get the keyboard controls working.

 tools/Forge/Bundles/MapEdit/CameraView.m |   20 +++++-------
 tools/Forge/Bundles/MapEdit/QuakeEd.m    |   49 +++++++++++++-----------------
 2 files changed, 28 insertions(+), 41 deletions(-)

commit f7fbb66
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Sep 23 13:29:12 2010 +0900

    Modernize the camera eye glyph drawing.

 tools/Forge/Bundles/MapEdit/CameraView.h |    4 ++
 tools/Forge/Bundles/MapEdit/CameraView.m |   93 ++++++++++++++++++++----------
 2 files changed, 67 insertions(+), 30 deletions(-)

commit b2eb402
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Sep 22 22:18:13 2010 +0900

    Get scaling working in the Z view as well.

 tools/Forge/Bundles/MapEdit/XYView.h |    4 +
 tools/Forge/Bundles/MapEdit/XYView.m |   71 ++++++++---------
 tools/Forge/Bundles/MapEdit/ZView.m  |  142 ++++++++++++++--------------------
 3 files changed, 95 insertions(+), 122 deletions(-)

commit d4d8c50
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Sep 22 17:49:30 2010 +0900

    Finally have the scaling working perfectly(?).
    
    I had to hack around problems in GNUstep's bounds implementation (I don't
    know if they're bugs or design limitations), but the fix was just a matter
    of making sure the bounds matrix was correct: force the scale to 1 before
    adjusting bounds, and then make sure the translation is scaled afterwards.

 tools/Forge/Bundles/MapEdit/XYView.m |   17 +++++++++--------
 1 file changed, 9 insertions(+), 8 deletions(-)

commit ad0cd00
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Sep 21 23:07:21 2010 +0900

    Get scale changes halfway working.
    
    Translation is still wrong, but changing scale to (eg) 200% and back to
    100% works correctly.

 tools/Forge/Bundles/MapEdit/XYView.m |  177 ++++++++++++++++++----------------
 1 file changed, 92 insertions(+), 85 deletions(-)

commit 380460b
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Sep 20 03:06:35 2010 +0900

    slow progress in getting things to work

 .../Bundles/MapEdit/MapEdit.gorm/objects.gorm      |  Bin 93396 -> 93294 bytes
 tools/Forge/Bundles/MapEdit/PopScrollView.m        |    5 +-
 tools/Forge/Bundles/MapEdit/XYView.h               |    4 +-
 tools/Forge/Bundles/MapEdit/XYView.m               |   76 +++++++++++---------
 tools/Forge/Bundles/MapEdit/ZScrollView.m          |    8 ++-
 tools/Forge/Bundles/MapEdit/ZView.h                |    3 +-
 tools/Forge/Bundles/MapEdit/ZView.m                |   54 +++++++-------
 7 files changed, 80 insertions(+), 70 deletions(-)

commit e5625e1
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 19 17:28:28 2010 +0900

    Get textures sortof displaying.

 tools/Forge/Bundles/MapEdit/TextureView.m |   12 +++++++-----
 1 file changed, 7 insertions(+), 5 deletions(-)

commit 5f99251
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 19 17:05:34 2010 +0900

    Correct alert panel handling.

 tools/Forge/Bundles/MapEdit/Project.m |   10 +++++++---
 tools/Forge/Bundles/MapEdit/QuakeEd.m |    8 +++++---
 2 files changed, 12 insertions(+), 6 deletions(-)

commit f049f98
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 19 17:04:37 2010 +0900

    Get the textureView connection right.

 tools/Forge/Bundles/MapEdit/MapEdit.gorm/objects.gorm |  Bin 93459 -> 93396 bytes
 1 file changed, 0 insertions(+), 0 deletions(-)

commit c85a0b2
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 19 17:04:03 2010 +0900

    Don't segfault when unable to open a file.

 tools/Forge/Bundles/MapEdit/Map.m     |    2 ++
 tools/Forge/Bundles/MapEdit/QuakeEd.m |    2 ++
 2 files changed, 4 insertions(+)

commit 25798e3
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Sep 17 14:30:46 2010 +0900

    Get the sizes of the inspectors reasonable.
    
    The inspector popup button is funky (need to select the desirned inspector
    twice), but it can be made to work.

 tools/Forge/Bundles/MapEdit/InspectorControl.m        |    2 +-
 tools/Forge/Bundles/MapEdit/MapEdit.gorm/objects.gorm |  Bin 93245 -> 93459 bytes
 2 files changed, 1 insertion(+), 1 deletion(-)

commit 2e30db9
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Sep 14 23:10:20 2010 +0900

    Get the inspectors showing.
    
    Still can't change them via the pop-up menu, though.

 tools/Forge/Bundles/MapEdit/InspectorControl.h        |    1 -
 tools/Forge/Bundles/MapEdit/InspectorControl.m        |    8 +++++---
 tools/Forge/Bundles/MapEdit/MapEdit.gorm/objects.gorm |  Bin 93151 -> 93245 bytes
 3 files changed, 5 insertions(+), 4 deletions(-)

commit 3af9f1b
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Sep 14 22:29:43 2010 +0900

    Accidently commited a failed experiment.

 tools/Forge/Bundles/MapEdit/GNUmakefile |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 077def9
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Sep 14 22:17:35 2010 +0900

    Finish the gorm file, for certain values of finished.

 tools/Forge/Bundles/MapEdit/Clipper.m              |    7 ++--
 tools/Forge/Bundles/MapEdit/GNUmakefile            |    4 +--
 tools/Forge/Bundles/MapEdit/InspectorControl.m     |   11 ++++--
 tools/Forge/Bundles/MapEdit/KeypairView.m          |    3 +-
 .../Bundles/MapEdit/MapEdit.gorm/data.classes      |   38 ++++++++++++++++++++
 .../Bundles/MapEdit/MapEdit.gorm/objects.gorm      |  Bin 49503 -> 93151 bytes
 tools/Forge/Bundles/MapEdit/Project.m              |    3 +-
 tools/Forge/Bundles/MapEdit/TextureView.m          |    2 +-
 tools/Forge/Bundles/MapEdit/Things.m               |    7 ++--
 tools/Forge/Bundles/MapEdit/XYView.m               |    3 +-
 tools/Forge/Bundles/MapEdit/ZView.m                |    3 +-
 11 files changed, 59 insertions(+), 22 deletions(-)

commit 6ede64c
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 12 22:40:50 2010 +0900

    Camera view seems to work moderately well.

 tools/Forge/Bundles/MapEdit/MapEdit.gorm/data.classes |   10 ++++++++++
 tools/Forge/Bundles/MapEdit/MapEdit.gorm/objects.gorm |  Bin 39400 -> 49503 bytes
 tools/Forge/Bundles/MapEdit/QuakeEd.m                 |    6 +++++-
 tools/Forge/Bundles/MapEdit/TexturePalette.m          |   10 ++++------
 4 files changed, 19 insertions(+), 7 deletions(-)

commit 27ad18d
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 12 19:57:34 2010 +0900

    Entity loading from maps seems to work.

 tools/Forge/Bundles/MapEdit/Entity.m |    6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit 60d4612
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 12 19:47:44 2010 +0900

    Use QF's wadfile support.
    
    Still fragile, but it can load wad files.

 tools/Forge/Bundles/MapEdit/TexturePalette.m |   77 +++++++++-----------------
 1 file changed, 27 insertions(+), 50 deletions(-)

commit 692d4b9
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 12 19:46:41 2010 +0900

    Get QUAKED comments working.

 tools/Forge/Bundles/MapEdit/EntityClass.m |   21 +++++++++++----------
 1 file changed, 11 insertions(+), 10 deletions(-)

commit 37c2e09
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 12 18:12:02 2010 +0900

    Get progs source scanning working.
    
    Of course, this is if the environment is set up just right, but it's
    another step towards something to fix.

 tools/Forge/Bundles/MapEdit/EntityClass.m          |    3 +-
 .../Bundles/MapEdit/MapEdit.gorm/data.classes      |   78 ++++++++++++
 .../Bundles/MapEdit/MapEdit.gorm/objects.gorm      |  Bin 35451 -> 39400 bytes
 tools/Forge/Bundles/MapEdit/Preferences.m          |   12 +-
 tools/Forge/Bundles/MapEdit/Project.m              |   15 ++-
 tools/Forge/Bundles/MapEdit/SetBrush.m             |  125 ++++++++++----------
 tools/Forge/Bundles/MapEdit/Things.m               |    1 +
 7 files changed, 160 insertions(+), 74 deletions(-)

commit 7b03cd4
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 12 16:40:32 2010 +0900

    A little more progress: loading a map does not seg.

 .../Bundles/MapEdit/MapEdit.gorm/data.classes      |   83 ++++++++++++++++++++
 .../Bundles/MapEdit/MapEdit.gorm/objects.gorm      |  Bin 34091 -> 35451 bytes
 tools/Forge/Bundles/MapEdit/QuakeEd.m              |    2 -
 3 files changed, 83 insertions(+), 2 deletions(-)

commit eba4402
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 12 16:25:25 2010 +0900

    Get map loading sort-of working.
    
    Segfaults, but the Map class can now be instantiated.

 tools/Forge/Bundles/MapEdit/DictList.h      |    1 +
 tools/Forge/Bundles/MapEdit/DictList.m      |    6 ++++-
 tools/Forge/Bundles/MapEdit/Entity.h        |    1 +
 tools/Forge/Bundles/MapEdit/Entity.m        |    8 ++++--
 tools/Forge/Bundles/MapEdit/EntityClass.h   |    1 +
 tools/Forge/Bundles/MapEdit/EntityClass.m   |    6 ++++-
 tools/Forge/Bundles/MapEdit/GNUmakefile     |    4 ++-
 tools/Forge/Bundles/MapEdit/Map.h           |    1 +
 tools/Forge/Bundles/MapEdit/Map.m           |   11 +++++----
 tools/Forge/Bundles/MapEdit/QuakeEd.m       |    4 ++-
 tools/Forge/Bundles/MapEdit/THING+NSArray.m |   35 +++++++++++++++++++++++++++
 11 files changed, 67 insertions(+), 11 deletions(-)

commit 68a55ea
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 12 14:31:59 2010 +0900

    Get some screen updates happening.

 tools/Forge/Bundles/MapEdit/CameraView.m           |    2 +-
 tools/Forge/Bundles/MapEdit/GNUmakefile            |    2 +-
 .../Bundles/MapEdit/MapEdit.gorm/objects.gorm      |  Bin 31825 -> 34091 bytes
 tools/Forge/Bundles/MapEdit/QuakeEd.h              |    8 +--
 tools/Forge/Bundles/MapEdit/QuakeEd.m              |   68 +++++++++-----------
 tools/Forge/Bundles/MapEdit/QuakeEd_main.m         |   22 +++++++
 tools/Forge/Bundles/MapEdit/XYView.m               |    5 +-
 tools/Forge/Bundles/MapEdit/ZView.m                |   17 ++---
 8 files changed, 70 insertions(+), 54 deletions(-)

commit 2d40339
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Sun Sep 12 00:42:12 2010 -0400

    correct fix for ForgeBundle protocol issue

 tools/Forge/Controller.m |    3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit f980ae0
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Sun Sep 12 00:41:10 2010 -0400

    Update makefile's add'l install dirs
    
    This rule would create the raw path /Library/Forge three times...fix it to
    create Forge dirs with the new scheme.

 tools/Forge/GNUmakefile.preamble |    7 ++++---
 1 file changed, 4 insertions(+), 3 deletions(-)

commit f5169fa
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 12 11:13:35 2010 +0900

    Add \n to Sys_Printf calls.

 tools/Forge/Bundles/MapEdit/CameraView.m     |   19 +++++----
 tools/Forge/Bundles/MapEdit/Clipper.m        |    2 +-
 tools/Forge/Bundles/MapEdit/Map.m            |   54 +++++++++++++-------------
 tools/Forge/Bundles/MapEdit/Preferences.m    |    2 +-
 tools/Forge/Bundles/MapEdit/Project.m        |    2 +-
 tools/Forge/Bundles/MapEdit/QuakeEd.m        |   22 +++++------
 tools/Forge/Bundles/MapEdit/TexturePalette.m |    4 +-
 tools/Forge/Bundles/MapEdit/XYView.m         |   22 +++++------
 tools/Forge/Bundles/MapEdit/ZView.m          |   13 +++----
 9 files changed, 69 insertions(+), 71 deletions(-)

commit 923f977
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 12 10:58:19 2010 +0900

    Make the menus and do some connections.

 tools/Forge/Bundles/MapEdit/MapEdit.gorm/objects.gorm |  Bin 24723 -> 31825 bytes
 1 file changed, 0 insertions(+), 0 deletions(-)

commit cb9c911
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 12 10:55:28 2010 +0900

    ignore app files

 .gitignore |    1 +
 1 file changed, 1 insertion(+)

commit 3eadc28
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 12 10:16:12 2010 +0900

    Make it run.
    
    Fix some bad memory handling in XYView and ZView, and remove the unset
    CustomView.

 tools/Forge/Bundles/MapEdit/MapEdit.gorm/objects.gorm |  Bin 24849 -> 24723 bytes
 tools/Forge/Bundles/MapEdit/XYView.m                  |    1 -
 tools/Forge/Bundles/MapEdit/ZView.m                   |    1 -
 3 files changed, 2 deletions(-)

commit e4f78ab
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 12 08:43:55 2010 +0900

    Fixes for building with QF.

 tools/Forge/Bundles/MapEdit/Preferences.m    |    3 +-
 tools/Forge/Bundles/MapEdit/Project.m        |    2 +-
 tools/Forge/Bundles/MapEdit/QuakeEd.m        |   27 ++++++++---------
 tools/Forge/Bundles/MapEdit/TexturePalette.m |    8 +++---
 tools/Forge/Bundles/MapEdit/XYView.m         |   40 +++++++++++---------------
 tools/Forge/Bundles/MapEdit/ZView.m          |   14 ++++-----
 6 files changed, 44 insertions(+), 50 deletions(-)

commit 8ffe20e
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 12 08:14:08 2010 +0900

    Again, whitespace.

 tools/Forge/Bundles/MapEdit/CameraView.h       |    3 ++-
 tools/Forge/Bundles/MapEdit/Clipper.h          |    3 ++-
 tools/Forge/Bundles/MapEdit/DictList.h         |    2 +-
 tools/Forge/Bundles/MapEdit/InspectorControl.h |    3 ++-
 tools/Forge/Bundles/MapEdit/Map.h              |    3 ++-
 tools/Forge/Bundles/MapEdit/PopScrollView.h    |    3 ++-
 tools/Forge/Bundles/MapEdit/Preferences.h      |    3 ++-
 tools/Forge/Bundles/MapEdit/Project.h          |    3 ++-
 tools/Forge/Bundles/MapEdit/QuakeEd.h          |    3 ++-
 tools/Forge/Bundles/MapEdit/SetBrush.h         |    3 ++-
 tools/Forge/Bundles/MapEdit/Storage.h          |    3 ++-
 tools/Forge/Bundles/MapEdit/TextureView.h      |    3 ++-
 12 files changed, 23 insertions(+), 12 deletions(-)

commit 4d3cd61
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 12 08:13:39 2010 +0900

    For now, build an app rather than a bundle.

 tools/Forge/Bundles/MapEdit/GNUmakefile          |   63 +++++++++++++++++-----
 tools/Forge/Bundles/MapEdit/GNUmakefile.bundle   |   27 ++++++++++
 tools/Forge/Bundles/MapEdit/GNUmakefile.preamble |    2 +-
 3 files changed, 77 insertions(+), 15 deletions(-)

commit 0a9a42e
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 12 01:43:03 2010 +0900

    Fix some bitrot.
    
    I'm not happy with the fix in Controller.m, but I'm not sure what the best
    way to fix it is.

 tools/Forge/Bundles/MainPrefs/MainPrefs.m |    1 +
 tools/Forge/Controller.m                  |    3 ++-
 2 files changed, 3 insertions(+), 1 deletion(-)

commit 83182dc
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 12 01:42:05 2010 +0900

    Initial Gorm file for MapEdit.

 .../Bundles/MapEdit/MapEdit.gorm/DownArrow.tiff    |  Bin 0 -> 256 bytes
 .../Bundles/MapEdit/MapEdit.gorm/UpArrow.tiff      |  Bin 0 -> 258 bytes
 .../Bundles/MapEdit/MapEdit.gorm/data.classes      |  106 ++++++++++++++++++++
 tools/Forge/Bundles/MapEdit/MapEdit.gorm/data.info |  Bin 0 -> 184 bytes
 .../Forge/Bundles/MapEdit/MapEdit.gorm/i_90d.tiff  |  Bin 0 -> 1346 bytes
 .../Forge/Bundles/MapEdit/MapEdit.gorm/i_add.tiff  |  Bin 0 -> 1346 bytes
 .../Bundles/MapEdit/MapEdit.gorm/i_brushes.tiff    |  Bin 0 -> 1346 bytes
 .../Bundles/MapEdit/MapEdit.gorm/i_fliph.tiff      |  Bin 0 -> 1346 bytes
 .../Bundles/MapEdit/MapEdit.gorm/i_flipv.tiff      |  Bin 0 -> 1346 bytes
 .../Bundles/MapEdit/MapEdit.gorm/i_quakeed.tiff    |  Bin 0 -> 29799 bytes
 .../Forge/Bundles/MapEdit/MapEdit.gorm/i_sub.tiff  |  Bin 0 -> 1346 bytes
 .../Bundles/MapEdit/MapEdit.gorm/objects.gorm      |  Bin 0 -> 24849 bytes
 .../Forge/Bundles/MapEdit/MapEdit.gorm/short.tiff  |  Bin 0 -> 1346 bytes
 tools/Forge/Bundles/MapEdit/MapEdit.gorm/tall.tiff |  Bin 0 -> 1346 bytes
 14 files changed, 106 insertions(+)

commit 0f426c1
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 12 01:41:18 2010 +0900

    Whitespace.

 tools/Forge/Bundles/MapEdit/CameraView.h       |   19 ++----
 tools/Forge/Bundles/MapEdit/Dict.h             |   41 +++++--------
 tools/Forge/Bundles/MapEdit/DictList.h         |    3 +-
 tools/Forge/Bundles/MapEdit/Entity.h           |    9 ++-
 tools/Forge/Bundles/MapEdit/EntityClass.h      |    6 +-
 tools/Forge/Bundles/MapEdit/InspectorControl.h |   11 ++--
 tools/Forge/Bundles/MapEdit/KeypairView.h      |    4 +-
 tools/Forge/Bundles/MapEdit/Map.h              |    4 +-
 tools/Forge/Bundles/MapEdit/SetBrush.h         |   77 ++++++------------------
 tools/Forge/Bundles/MapEdit/TexturePalette.h   |    3 +-
 tools/Forge/Bundles/MapEdit/Things.h           |    3 +-
 tools/Forge/Bundles/MapEdit/XYView.h           |    8 +--
 tools/Forge/Bundles/MapEdit/ZScrollView.h      |    6 +-
 tools/Forge/Bundles/MapEdit/ZView.h            |    3 +-
 14 files changed, 75 insertions(+), 122 deletions(-)

commit 4d8088e
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Sep 11 23:47:05 2010 +0900

    Remove unused file.

 tools/Forge/Bundles/MapEdit/Brush.h |   56 -----------------------------------
 1 file changed, 56 deletions(-)

commit 3094e47
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Sep 11 23:44:09 2010 +0900

    Remove some redundant files.
    
    Use the functions provided by QuakeForge.

 tools/Forge/Bundles/MapEdit/cmdlib.c  |  611 ---------------------------------
 tools/Forge/Bundles/MapEdit/cmdlib.h  |   62 ----
 tools/Forge/Bundles/MapEdit/mathlib.c |   93 -----
 tools/Forge/Bundles/MapEdit/mathlib.h |   31 --
 4 files changed, 797 deletions(-)

commit 0b39795
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Sep 11 23:37:47 2010 +0900

    Can't use UserPath, so remove these.

 tools/Forge/Bundles/MapEdit/UserPath.h |   80 ------------
 tools/Forge/Bundles/MapEdit/UserPath.m |  217 --------------------------------
 2 files changed, 297 deletions(-)

commit 8cf5dc2
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Sep 11 21:08:21 2010 +0900

    Possibly get preferences working.

 tools/Forge/Bundles/MapEdit/Preferences.h |    6 +-
 tools/Forge/Bundles/MapEdit/Preferences.m |   97 ++++++++++++++++++-----------
 2 files changed, 63 insertions(+), 40 deletions(-)

commit 40e39ca
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Sep 11 20:30:01 2010 +0900

    clean up some XXXs

 tools/Forge/Bundles/MapEdit/CameraView.m  |   19 +++++++------------
 tools/Forge/Bundles/MapEdit/Clipper.m     |    7 +++++--
 tools/Forge/Bundles/MapEdit/KeypairView.m |    9 +++++----
 tools/Forge/Bundles/MapEdit/Map.m         |    3 +--
 tools/Forge/Bundles/MapEdit/TextureView.m |    2 +-
 tools/Forge/Bundles/MapEdit/ZView.m       |    3 ++-
 6 files changed, 21 insertions(+), 22 deletions(-)

commit 0f48dd0
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Sep 11 19:06:04 2010 +0900

    And the header files.

 tools/Forge/Bundles/MapEdit/Brush.h            |   64 ++++---
 tools/Forge/Bundles/MapEdit/CameraView.h       |  101 ++++++-----
 tools/Forge/Bundles/MapEdit/Clipper.h          |   34 ++--
 tools/Forge/Bundles/MapEdit/Dict.h             |   81 +++++----
 tools/Forge/Bundles/MapEdit/DictList.h         |   12 +-
 tools/Forge/Bundles/MapEdit/Entity.h           |   41 +++--
 tools/Forge/Bundles/MapEdit/EntityClass.h      |   52 +++---
 tools/Forge/Bundles/MapEdit/InspectorControl.h |  103 ++++++-----
 tools/Forge/Bundles/MapEdit/KeypairView.h      |   10 +-
 tools/Forge/Bundles/MapEdit/Map.h              |   85 +++++----
 tools/Forge/Bundles/MapEdit/PopScrollView.h    |   14 +-
 tools/Forge/Bundles/MapEdit/Preferences.h      |   95 +++++-----
 tools/Forge/Bundles/MapEdit/Project.h          |  160 +++++++++--------
 tools/Forge/Bundles/MapEdit/QuakeEd.h          |  132 +++++++-------
 tools/Forge/Bundles/MapEdit/SetBrush.h         |  230 ++++++++++++++----------
 tools/Forge/Bundles/MapEdit/Storage.h          |   74 ++++----
 tools/Forge/Bundles/MapEdit/TexturePalette.h   |  153 ++++++++--------
 tools/Forge/Bundles/MapEdit/TextureView.h      |   14 +-
 tools/Forge/Bundles/MapEdit/Things.h           |   52 +++---
 tools/Forge/Bundles/MapEdit/UserPath.h         |   71 ++++----
 tools/Forge/Bundles/MapEdit/XYView.h           |   72 ++++----
 tools/Forge/Bundles/MapEdit/ZScrollView.h      |   14 +-
 tools/Forge/Bundles/MapEdit/ZView.h            |   51 +++---
 tools/Forge/Bundles/MapEdit/cmdlib.h           |   66 +++----
 tools/Forge/Bundles/MapEdit/mathlib.h          |   20 +--
 tools/Forge/Bundles/MapEdit/qedefs.h           |   24 +--
 tools/Forge/Bundles/MapEdit/render.h           |   24 +--
 27 files changed, 954 insertions(+), 895 deletions(-)

commit 931900f
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Sep 11 19:03:41 2010 +0900

    Pass .m files through indent.
    
    The result isn't perfect, but it cleans up the whitespace and makes the
    code more consistent with the rest of the project.

 tools/Forge/Bundles/MapEdit/CameraView.m       |  835 ++++++------
 tools/Forge/Bundles/MapEdit/Clipper.m          |  178 ++-
 tools/Forge/Bundles/MapEdit/Dict.m             |  601 +++++----
 tools/Forge/Bundles/MapEdit/DictList.m         |   62 +-
 tools/Forge/Bundles/MapEdit/Entity.m           |  409 +++---
 tools/Forge/Bundles/MapEdit/EntityClass.m      |  145 +--
 tools/Forge/Bundles/MapEdit/InspectorControl.m |   70 +-
 tools/Forge/Bundles/MapEdit/KeypairView.m      |   99 +-
 tools/Forge/Bundles/MapEdit/Map.m              | 1005 +++++++-------
 tools/Forge/Bundles/MapEdit/PopScrollView.m    |   49 +-
 tools/Forge/Bundles/MapEdit/Preferences.m      |  232 ++--
 tools/Forge/Bundles/MapEdit/Project.m          |  485 ++++---
 tools/Forge/Bundles/MapEdit/QuakeEd.m          |  955 +++++++-------
 tools/Forge/Bundles/MapEdit/QuakeEd_main.m     |    4 +-
 tools/Forge/Bundles/MapEdit/SetBrush.m         | 1660 ++++++++++++------------
 tools/Forge/Bundles/MapEdit/Storage.m          |  337 +++--
 tools/Forge/Bundles/MapEdit/TexturePalette.m   |  803 ++++++------
 tools/Forge/Bundles/MapEdit/TextureView.m      |  167 ++-
 tools/Forge/Bundles/MapEdit/Things.m           |  285 ++--
 tools/Forge/Bundles/MapEdit/UserPath.m         |  244 ++--
 tools/Forge/Bundles/MapEdit/XYView.m           | 1216 +++++++++--------
 tools/Forge/Bundles/MapEdit/ZScrollView.m      |   40 +-
 tools/Forge/Bundles/MapEdit/ZView.m            |  727 +++++------
 tools/Forge/Bundles/MapEdit/misc.m             |  218 ++--
 tools/Forge/Bundles/MapEdit/render.m           |  593 ++++-----
 25 files changed, 5507 insertions(+), 5912 deletions(-)

commit b336ba7
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Sep 11 17:35:25 2010 +0900

    Finally, everything does compile.
    
    However, it still won't work (no gorm, commented code, ...).
    
    Borrow an old implementation of the Storage class until I figure out just
    what it's being used for.

 tools/Forge/Bundles/MapEdit/Dict.h             |    2 +
 tools/Forge/Bundles/MapEdit/Dict.m             |   10 +-
 tools/Forge/Bundles/MapEdit/DictList.h         |    4 +-
 tools/Forge/Bundles/MapEdit/DictList.m         |   13 +-
 tools/Forge/Bundles/MapEdit/GNUmakefile        |    2 +-
 tools/Forge/Bundles/MapEdit/InspectorControl.m |   44 ++--
 tools/Forge/Bundles/MapEdit/Preferences.h      |    2 +
 tools/Forge/Bundles/MapEdit/Preferences.m      |   65 +++---
 tools/Forge/Bundles/MapEdit/Project.m          |   91 ++++----
 tools/Forge/Bundles/MapEdit/QuakeEd.m          |  211 ++++++++++--------
 tools/Forge/Bundles/MapEdit/QuakeEd_main.m     |   18 +-
 tools/Forge/Bundles/MapEdit/SetBrush.m         |    9 +-
 tools/Forge/Bundles/MapEdit/Storage.h          |   85 +++++++
 tools/Forge/Bundles/MapEdit/Storage.m          |  284 ++++++++++++++++++++++++
 tools/Forge/Bundles/MapEdit/TexturePalette.m   |   70 +++---
 tools/Forge/Bundles/MapEdit/TextureView.h      |    2 +
 tools/Forge/Bundles/MapEdit/TextureView.m      |   30 +--
 17 files changed, 695 insertions(+), 247 deletions(-)

commit 71dab80
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Sep 9 23:13:15 2010 +0900

    Add the rest of the files which I know to build.

 tools/Forge/Bundles/MapEdit/GNUmakefile          |    2 +-
 tools/Forge/Bundles/MapEdit/GNUmakefile.preamble |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 44dd62d
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Sep 9 20:46:38 2010 +0900

    Make MapEdit (QuakeEd) compile.
    
    It won't work yet as there's no gorm file and there's code that has been
    commented out, but it finally compiles.

 tools/Forge/Bundles/MapEdit/CameraView.h     |    6 +-
 tools/Forge/Bundles/MapEdit/CameraView.m     |   75 +++--
 tools/Forge/Bundles/MapEdit/Clipper.h        |    6 +
 tools/Forge/Bundles/MapEdit/Clipper.m        |   12 +-
 tools/Forge/Bundles/MapEdit/Entity.h         |   23 +-
 tools/Forge/Bundles/MapEdit/Entity.m         |  144 ++++-----
 tools/Forge/Bundles/MapEdit/EntityClass.h    |    7 +-
 tools/Forge/Bundles/MapEdit/EntityClass.m    |  184 ++++++------
 tools/Forge/Bundles/MapEdit/GNUmakefile      |    2 +-
 tools/Forge/Bundles/MapEdit/KeypairView.h    |    2 +
 tools/Forge/Bundles/MapEdit/KeypairView.m    |    5 +-
 tools/Forge/Bundles/MapEdit/Map.h            |    4 +
 tools/Forge/Bundles/MapEdit/Map.m            |  128 ++++----
 tools/Forge/Bundles/MapEdit/PopScrollView.m  |    2 +-
 tools/Forge/Bundles/MapEdit/QuakeEd.h        |    4 +-
 tools/Forge/Bundles/MapEdit/QuakeEd.m        |    4 +-
 tools/Forge/Bundles/MapEdit/SetBrush.h       |   10 +-
 tools/Forge/Bundles/MapEdit/SetBrush.m       |  132 ++++-----
 tools/Forge/Bundles/MapEdit/TexturePalette.h |    4 +
 tools/Forge/Bundles/MapEdit/TexturePalette.m |    5 +-
 tools/Forge/Bundles/MapEdit/Things.h         |    2 +
 tools/Forge/Bundles/MapEdit/Things.m         |   61 ++--
 tools/Forge/Bundles/MapEdit/UserPath.m       |   14 +-
 tools/Forge/Bundles/MapEdit/XYView.h         |    7 +-
 tools/Forge/Bundles/MapEdit/XYView.m         |  402 +++++++++++++-------------
 tools/Forge/Bundles/MapEdit/ZScrollView.h    |    2 +-
 tools/Forge/Bundles/MapEdit/ZScrollView.m    |   22 +-
 tools/Forge/Bundles/MapEdit/ZView.h          |    5 +-
 tools/Forge/Bundles/MapEdit/ZView.m          |  115 ++++----
 tools/Forge/Bundles/MapEdit/misc.m           |    1 -
 tools/Forge/Bundles/MapEdit/render.h         |    4 +
 tools/Forge/Bundles/MapEdit/render.m         |   85 +++---
 32 files changed, 789 insertions(+), 690 deletions(-)

commit 7dc1ccd
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Sep 9 20:44:32 2010 +0900

    Add a function for retreiving the parsed token.
    
    Saves having to reach into the token's dstring (script->token->str was
    getting annoying).

 include/QF/script.h |    5 +++++
 libs/util/script.c  |    6 ++++++
 2 files changed, 11 insertions(+)

commit 827d0d0
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 5 15:35:22 2010 +0900

    Scripts now treat {}()': as single character tokens.

 libs/util/script.c              |    9 ++++++++-
 tools/qfbsp/source/map.c        |    3 ++-
 tools/qfcc/source/qfcc.c        |    3 ++-
 tools/qflight/source/entities.c |    4 ++--
 4 files changed, 14 insertions(+), 5 deletions(-)

commit fe4bf28
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Sep 1 19:37:10 2010 +0900

    Some compile fixes.
    
    Not enough, but covers Object->NSObject and header file protection.

 tools/Forge/Bundles/MapEdit/CameraView.h       |    4 ++++
 tools/Forge/Bundles/MapEdit/Clipper.h          |    5 ++++-
 tools/Forge/Bundles/MapEdit/Dict.h             |    4 ++++
 tools/Forge/Bundles/MapEdit/DictList.h         |    4 ++++
 tools/Forge/Bundles/MapEdit/Entity.h           |    4 +++-
 tools/Forge/Bundles/MapEdit/EntityClass.h      |    6 +++++-
 tools/Forge/Bundles/MapEdit/InspectorControl.h |    6 +++++-
 tools/Forge/Bundles/MapEdit/KeypairView.h      |    4 ++++
 tools/Forge/Bundles/MapEdit/Map.h              |    4 ++++
 tools/Forge/Bundles/MapEdit/PopScrollView.h    |    5 +++++
 tools/Forge/Bundles/MapEdit/Preferences.h      |    6 +++++-
 tools/Forge/Bundles/MapEdit/Project.h          |    6 +++++-
 tools/Forge/Bundles/MapEdit/QuakeEd.h          |    3 +++
 tools/Forge/Bundles/MapEdit/SetBrush.h         |    6 ++++--
 tools/Forge/Bundles/MapEdit/TexturePalette.h   |    6 +++++-
 tools/Forge/Bundles/MapEdit/TextureView.h      |    5 ++++-
 tools/Forge/Bundles/MapEdit/Things.h           |    6 +++++-
 tools/Forge/Bundles/MapEdit/UserPath.h         |    5 +++++
 tools/Forge/Bundles/MapEdit/XYView.h           |    4 ++++
 tools/Forge/Bundles/MapEdit/ZScrollView.h      |    5 +++++
 tools/Forge/Bundles/MapEdit/ZView.h            |    3 +++
 tools/Forge/Bundles/MapEdit/qedefs.h           |    3 +++
 tools/Forge/Bundles/MapEdit/render.h           |    4 ++++
 23 files changed, 97 insertions(+), 11 deletions(-)

commit f666f8d
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Sep 25 23:07:06 2010 +0900

    Get the lib dependency for testsound right.
    
    No need for $(top_builddir) when the lib is in the same directory. Fixes
    parallel builds.

 libs/audio/Makefile.am |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 19a558a
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Aug 31 22:07:49 2010 +0900

    Fix a doxygen warning

 include/QF/quakefs.h |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit fcd9c3e
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Aug 31 21:15:40 2010 +0900

    Fix a stray doxygen control comment.

 include/QF/sys.h |    3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit 42faad9
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Aug 24 16:01:01 2010 +0900

    Move expand_squiggle() from quakefs to sys, and rename to Sys_ExpandSquiggle.
    
    Hopefully the final resting place of this function.

 include/QF/quakefs.h |   15 ---------------
 include/QF/sys.h     |   14 ++++++++++++++
 libs/util/cmd.c      |    2 +-
 libs/util/quakefs.c  |   39 ++-------------------------------------
 libs/util/sys.c      |   36 ++++++++++++++++++++++++++++++++++++
 5 files changed, 53 insertions(+), 53 deletions(-)

commit e9bd9a4
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 25 08:21:07 2010 +0900

    Move QFS_CreatePath() to Sys_CreatePath().

 include/QF/quakefs.h |    1 -
 include/QF/sys.h     |   11 +++++++++++
 libs/util/pakfile.c  |    5 +++--
 libs/util/quakefs.c  |   22 ++--------------------
 libs/util/sys.c      |   18 ++++++++++++++++++
 tools/wad/wad.c      |    4 ++--
 6 files changed, 36 insertions(+), 25 deletions(-)

commit 4f62065
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 25 13:13:13 2010 +0900

    Document quakefs.h

 include/QF/quakefs.h |  298 +++++++++++++++++++++++++++++++++++++++++++++++---
 libs/util/quakefs.c  |    5 -
 2 files changed, 284 insertions(+), 19 deletions(-)

commit f1943eb
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 25 12:04:58 2010 +0900

    Fix some path compression bugs.

 libs/util/quakefs.c  |   13 ++++++++++++-
 libs/util/test-qfs.c |    1 +
 2 files changed, 13 insertions(+), 1 deletion(-)

commit 550b094
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 25 11:25:38 2010 +0900

    Unit testing for QFS_CompressPath

 libs/util/Makefile.am |    7 +++++++
 libs/util/test-qfs.c  |   47 +++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 54 insertions(+)

commit 05c57f2
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 25 09:58:02 2010 +0900

    Nuke a comment.

 libs/util/quakefs.c |    5 -----
 1 file changed, 5 deletions(-)

commit c6be3c4
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 25 09:57:44 2010 +0900

    Make the names of static functions canonical.

 libs/util/quakefs.c |   64 +++++++++++++++++++++++++--------------------------
 1 file changed, 31 insertions(+), 33 deletions(-)

commit bbf2ac0
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 25 08:26:31 2010 +0900

    Avoid creating // in path names.

 libs/util/quakefs.c |  200 ++++++++++++++++++++++++++++++++++-----------------
 1 file changed, 135 insertions(+), 65 deletions(-)

commit ba8ca13
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 25 08:25:23 2010 +0900

    Change QFS_Gamedir()'s parameter from dir to gamedir.

 include/QF/quakefs.h |    2 +-
 libs/util/quakefs.c  |    4 ++--
 2 files changed, 3 insertions(+), 3 deletions(-)

commit 745bdfa
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 25 08:23:59 2010 +0900

    Eliminate QFS_LoadHunkFile().
    
    It is unused, and part of the group of functions I wish to remove from QF.

 include/QF/quakefs.h |    3 --
 libs/util/quakefs.c  |  128 --------------------------------------------------
 2 files changed, 131 deletions(-)

commit ea22ec1
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Aug 24 21:06:50 2010 +0900

    Add documentation for the directory configuration.

 doc/dirconf.txt       |  109 +++++++++++++++++++++++++++++++++++++++++++++++++
 doc/quakeforge.dox.in |    1 +
 doc/quakeforge.txt    |    1 +
 3 files changed, 111 insertions(+)

commit cbee789
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Aug 24 22:42:00 2010 +0900

    Change ProgPath to ModelPath and dir.progs to dir.models.
    
    The default is still $path/progs, as that is what is expected by the
    game-code.

 include/QF/quakefs.h |    2 +-
 libs/util/quakefs.c  |   14 +++++++-------
 qw/source/cl_parse.c |    2 +-
 3 files changed, 9 insertions(+), 9 deletions(-)

commit cf40f50
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Aug 24 16:50:33 2010 +0900

    Nuke QFS_WriteBuffers.
    
    This function is too dangerous for my liking, and it's now unnecessary
    since qfs has been locked down.

 include/QF/quakefs.h |    1 -
 libs/image/tga.c     |   11 +++++++++--
 libs/util/quakefs.c  |   29 -----------------------------
 3 files changed, 9 insertions(+), 32 deletions(-)

commit 031055a
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Aug 24 16:48:49 2010 +0900

    Move the qfs_* cvars out of quakefs.h
    
    The qfs cvars are all private.

 include/QF/quakefs.h |    3 ---
 libs/util/quakefs.c  |    6 +++---
 2 files changed, 3 insertions(+), 6 deletions(-)

commit 0cc4bc8
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Aug 24 16:47:39 2010 +0900

    Move searchpath out of quakefs.h.
    
    It's not needed, nor should it be used, anywhere else.

 include/QF/quakefs.h |    7 -------
 libs/util/quakefs.c  |    8 +++++++-
 2 files changed, 7 insertions(+), 8 deletions(-)

commit 478394e
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Aug 24 16:33:22 2010 +0900

    Nuke MAX_GAMEDIR_CALLBACKS
    
    The number of gamedir callbacks is now unlimited.

 include/QF/quakefs.h |    2 --
 libs/util/quakefs.c  |   13 ++++++++++---
 2 files changed, 10 insertions(+), 5 deletions(-)

commit a51e888
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Aug 24 16:20:07 2010 +0900

    Nuke MAX_OSPATH and clean up the mess.

 include/QF/quakefs.h                  |    7 ++--
 libs/console/client.c                 |   17 ++++----
 libs/util/quakefs.c                   |   43 +++++++++++--------
 libs/video/renderer/gl/gl_dyn_part.c  |   11 +++--
 libs/video/renderer/sw/sw_rpart.c     |   18 +++++++-
 libs/video/renderer/sw32/sw32_rpart.c |   18 +++++++-
 nq/include/client.h                   |    4 +-
 nq/source/cl_demo.c                   |   38 ++++++++---------
 nq/source/host_cmd.c                  |   16 ++++----
 qw/include/client.h                   |    2 +-
 qw/source/cl_demo.c                   |   73 +++++++++++++++++----------------
 qw/source/cl_main.c                   |   17 ++++----
 qw/source/cl_parse.c                  |    2 +-
 qw/source/cl_screen.c                 |    3 +-
 qw/source/cl_slist.c                  |    5 ++-
 qw/source/locs.c                      |   10 ++---
 qw/source/sbar.c                      |    2 +-
 qw/source/sv_demo.c                   |    4 +-
 tools/qfbsp/source/readbsp.c          |   21 ++++------
 tools/qflight/include/options.h       |    2 +-
 tools/qflight/source/options.c        |    5 ++-
 tools/qflight/source/qflight.c        |   20 ++++-----
 tools/qfmodelgen/source/modelgen.c    |   18 ++++----
 tools/qfvis/include/options.h         |    2 +-
 tools/qfvis/source/options.c          |    6 ++-
 tools/qfvis/source/qfvis.c            |   17 ++++----
 26 files changed, 202 insertions(+), 179 deletions(-)

commit baede61
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Aug 24 15:56:33 2010 +0900

    New function: dstring_strdup
    
    I got tired of always doing dstring_newstr/dstring_copy, so I thought it
    was time to wrap it. dstring_strdup is the dstring equivalent of strdup.

 include/QF/dstring.h |    9 +++++++--
 libs/util/dstring.c  |    8 ++++++++
 2 files changed, 15 insertions(+), 2 deletions(-)

commit fcdd046
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Aug 23 12:21:40 2010 +0900

    Add some docs for expand_squiggle.

 include/QF/quakefs.h |   13 ++++++++++++-
 1 file changed, 12 insertions(+), 1 deletion(-)

commit 9bae615
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Mon Aug 23 03:43:05 2010 -0400

    regularize the changelog rule, make it work for out-of-tree.

 Makefile.am |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 3c76768
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Mon Aug 23 03:21:30 2010 -0400

    Clean up 'make changelog'
    
    We need more information in the changelog, and we need some checking to
    make sure the .git dir exists before trying to generate it.

 Makefile.am |   18 +++++++++++++++---
 1 file changed, 15 insertions(+), 3 deletions(-)

commit b537544
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Sun Aug 22 23:53:06 2010 -0400

    Guess I had it pretty-much right already.
    
    Rename TOPDIR to TOPSRC, can't get around requiring it and it's more
    descriptive this way anyway. Also, revert the use of the m4_esyscmd()
    macro in configure. It's kinda cool, but I'll come up with a better way
    to do it.

 configure.ac          |    6 ++---
 doc/configure.ac      |    6 ++---
 doc/quakeforge.dox.in |   67 +++++++++++++++++++++++++------------------------
 3 files changed, 40 insertions(+), 39 deletions(-)

commit 42a2e84
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Aug 23 12:16:36 2010 +0900

    much better charchart image
    
    generated directly from the conchars data rather than an in-game hack. 2x
    actual size.

 doc/charchart.png |  Bin 56140 -> 13183 bytes
 1 file changed, 0 insertions(+), 0 deletions(-)

commit 06cbb94
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Aug 21 13:09:53 2010 +0900

    "make dist" fixes
    
    Since we're using git now, having a rule to make ChangeLog is reasonable.
    
    Also, forgot the remove mention of qfcc.lsm.in when I nuked the file.

 Makefile.am            |    5 ++---
 tools/qfcc/Makefile.am |    2 --
 2 files changed, 2 insertions(+), 5 deletions(-)

commit b68d774
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Aug 21 13:03:39 2010 +0900

    add a file to "bootstrap clean"
    
    yylwrap showed up, so it needs to be nuked with other non-repo files

 bootstrap |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 5a6e66b
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Aug 21 13:01:35 2010 +0900

    hopefully, correct plugin linking options
    
    how we got away with this for so long is beyond me, but it seems libtool
    really wants -rpath even for plugins (otherwise it refuses to install them)

 libs/audio/Makefile.am          |    2 +-
 libs/audio/renderer/Makefile.am |    2 +-
 libs/audio/targets/Makefile.am  |    4 ++--
 libs/console/Makefile.am        |    2 +-
 4 files changed, 5 insertions(+), 5 deletions(-)

commit e08807d
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 20 14:35:53 2010 +0900

    ignore all generated files in pkg-config

 .gitignore |    3 +++
 1 file changed, 3 insertions(+)

commit 2185a3d
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 20 14:13:23 2010 +0900

    Remove almost all of my boxclip developement.
    
    This is to prevent others accidently getting headaches from my code.

 configure.ac            |   11 --
 libs/models/Makefile.am |    6 -
 libs/models/testclip.c  |  428 -----------------------------------------------
 libs/models/trace.c     |  350 --------------------------------------
 nq/source/sv_cl_phys.c  |    4 -
 nq/source/sv_phys.c     |    9 -
 nq/source/world.c       |   18 +-
 7 files changed, 1 insertion(+), 825 deletions(-)

commit fd24170
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 20 13:21:22 2010 +0900

    get the behavior or PL_NewData correct
    
    It taking ownership of the data was the correct behavior, so go back to that.

 include/QF/qfplist.h |    5 +++--
 libs/util/qfplist.c  |    5 ++---
 2 files changed, 5 insertions(+), 5 deletions(-)

commit a744caa
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 20 13:10:37 2010 +0900

    The public api of qfplist is now fully documented.
    
    Evertyhing that can or should be private now is, and all public functions
    are documented.

 include/QF/qfplist.h |  110 +++++++++++++++++++++-----------------------------
 libs/util/qfplist.c  |   48 +++++++++++++++++++++-
 2 files changed, 94 insertions(+), 64 deletions(-)

commit 1442273
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 20 12:58:37 2010 +0900

    more opaque correctness

 libs/audio/cd_file.c              |   12 ++---
 libs/util/quakefs.c               |   99 ++++++++++++++++++++-----------------
 tools/qflight/source/properties.c |   32 +++++-------
 3 files changed, 73 insertions(+), 70 deletions(-)

commit fb72aaf
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 20 12:33:07 2010 +0900

    Start giving some structure to the non-code docs.
    
    Use subpage instead of ref. This actually moves the so-referenced pages out
    of "Related Pages". I imagine they'll form a tree in the menu, but I don't have
    that config here.

 doc/quakeforge.txt |   12 ++++++------
 1 file changed, 6 insertions(+), 6 deletions(-)

commit f55c203
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 20 11:57:47 2010 +0900

    use the plist api correctly
    
    don't work directly with the plist data. the structs that enabled that will
    go away shortly.

 libs/util/quakefs.c |   47 +++++++++++++++++++++++++++++------------------
 1 file changed, 29 insertions(+), 18 deletions(-)

commit aede8e4
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 20 11:45:23 2010 +0900

    ancient in-joke
    
    don't want to lose this

 doc/ideas/quack.fig |   60 +++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 60 insertions(+)

commit abf3972
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 20 11:31:59 2010 +0900

    get --disable-optimize and --disable-debug working again
    
    LT_INIT messes with CFLAGS, so do a save/restore around the invocation

 config.d/compiling.m4 |   31 +++++++++++++++++--------------
 configure.ac          |   10 +++++++---
 2 files changed, 24 insertions(+), 17 deletions(-)

commit 16e482e
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Thu Aug 19 12:59:16 2010 -0400

    Proof of concept for making docs build without main configure
    
    We need to figure out a way to make docs in unusual places, like in the
    SourceForge shell environment -- which doesn't have an extremely recent
    autotools. This is an extremely stripped-down automake/autoconf setup that
    provides the bare minimum needed to AC_SUBST variables.
    
    It's dirty and hacky, but it kinda works.

 .gitignore            |    9 +-
 configure.ac          |    4 +-
 doc/configure.ac      |   26 ++++++
 doc/docstrap          |    2 +
 doc/quakeforge.dox.in |  239 +++++++++++--------------------------------------
 5 files changed, 93 insertions(+), 187 deletions(-)

commit 8c7dd60
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Thu Aug 19 11:04:21 2010 -0400

    Simplify .gitignore file

 .gitignore |  441 +++---------------------------------------------------------
 1 file changed, 17 insertions(+), 424 deletions(-)

commit e236c1d
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Aug 19 23:32:37 2010 +0900

    get the style of list that I wanted

 doc/surround-sound.txt |   20 +++++-----
 doc/timestamps.txt     |   98 ++++++++++++++++++++++++------------------------
 2 files changed, 61 insertions(+), 57 deletions(-)

commit a0ac228
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Aug 19 22:12:56 2010 +0900

    dot is in graphviz

 INSTALL |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 7052f8c
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Aug 19 21:29:29 2010 +0900

    make the connection sequency pretty
    
    (for certain values of pretty). we now require mscgen to build docs.

 INSTALL         |    4 ++--
 doc/connect.txt |   67 ++++++++++++++++++++++++++++++++-----------------------
 2 files changed, 41 insertions(+), 30 deletions(-)

commit 43114f5
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Aug 19 20:03:50 2010 +0900

    link the existing documentation into the doxygen docs

 doc/bind.txt             |    7 ++++++
 doc/cshifts.txt          |   28 ++++++++++++++---------
 doc/faq.txt              |   14 ++++++------
 doc/quakeforge.dox.in    |   13 ++++++++---
 doc/quakeforge.txt       |   11 +++++++--
 doc/qw-cap-spec.txt      |   23 ++++++++++++-------
 doc/qw-download-spec.txt |   29 +++++++++++++++---------
 doc/surround-sound.txt   |   23 +++++++++++--------
 doc/timestamps.txt       |   56 +++++++++++++++++++++++++---------------------
 9 files changed, 127 insertions(+), 77 deletions(-)

commit 6697716
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Aug 19 15:01:43 2010 +0900

    split up and modernize configure.ac
    
    Most of the guts of configure.ac have been moved to config.d and are then
    brought in by m4_include. This will make maintaining configure.ac much easier.
    
    Also drop use of PROGRAM and VERSION, using PACKAGE_NAME, PACKAGE_VERSION, and
    on occasion, PACKAGE_STRING instead, and clean out some old files we no longer
    need.

 bootstrap                             |   14 +-
 config.d/ac_config_files.m4           |   91 ++
 config.d/asm.m4                       |   26 +
 config.d/build_control.m4             |  588 ++++++++
 config.d/cdrom.m4                     |   83 ++
 config.d/compiling.m4                 |  244 ++++
 config.d/compression.m4               |   87 ++
 config.d/cross_compile.m4             |   27 +
 config.d/curses.m4                    |   19 +
 config.d/fbdev.m4                     |   37 +
 config.d/header_files.m4              |   93 ++
 config.d/joystick.m4                  |   25 +
 config.d/library_functions.m4         |   71 +
 config.d/mgl.m4                       |   38 +
 config.d/networking.m4                |   79 ++
 config.d/paths.m4                     |  117 ++
 config.d/programs.m4                  |   36 +
 config.d/pthread.m4                   |   20 +
 config.d/qfcc.m4                      |   40 +
 config.d/result.m4                    |   31 +
 config.d/rpm.m4                       |    2 +
 config.d/sdl.m4                       |   45 +
 config.d/sound.m4                     |  272 ++++
 config.d/svga.m4                      |   35 +
 config.d/system_services.m4           |    7 +
 config.d/typedefs_structs_compiler.m4 |  148 ++
 config.d/versions.m4                  |   21 +
 config.d/windows.m4                   |   32 +
 config.d/x11.m4                       |   66 +
 configure.ac                          | 2485 +--------------------------------
 libs/util/zone.c                      |    2 +-
 libs/video/renderer/r_cvar.c          |    2 +-
 libs/video/targets/context_sdl.c      |    4 +-
 libs/video/targets/context_x11.c      |    4 +-
 libs/video/targets/keys.c             |    2 +-
 libs/video/targets/vid_glx.c          |    4 +-
 libs/video/targets/vid_wgl.c          |    4 +-
 libs/video/targets/vid_x11.c          |    4 +-
 nq/source/host.c                      |    7 +-
 nq/source/host_cmd.c                  |    8 +-
 qtv/source/qtv.c                      |    4 +-
 qtv/source/server.c                   |    2 +-
 quakeforge.lsm.in                     |   18 -
 qw/source/cl_main.c                   |   13 +-
 qw/source/sv_main.c                   |   11 +-
 qw/source/teamplay.c                  |    2 +-
 tools/pak/pak.c                       |    2 +-
 tools/qfbsp/source/options.c          |    2 +-
 tools/qfcc/qfcc.lsm.in                |   19 -
 tools/qfcc/source/options.c           |    2 +-
 tools/qflight/source/options.c        |    2 +-
 tools/qfvis/source/options.c          |    2 +-
 tools/texpaint/texturepaint.c         |    2 +-
 tools/wad/wad.c                       |    2 +-
 54 files changed, 2472 insertions(+), 2531 deletions(-)

commit 0f63aaf
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 18 21:53:43 2010 +0900

    correct host/target issues
    
    host is the system on which qf will run, target is for compilers (though qfcc
    is a compiler, it has but one target).

 configure.ac |   10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit a703956
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 18 17:52:13 2010 +0900

    split up most of bsp5.h and get things compiling again

 include/world.h                 |    2 +-
 tools/qfbsp/include/Makefile.am |    4 +-
 tools/qfbsp/include/brush.h     |   54 +++++++
 tools/qfbsp/include/bsp5.h      |  160 +------------------
 tools/qfbsp/include/csg4.h      |   42 +++++
 tools/qfbsp/include/draw.h      |   52 +++++++
 tools/qfbsp/include/map.h       |   13 +-
 tools/qfbsp/include/merge.h     |   31 ++++
 tools/qfbsp/include/options.h   |    6 +-
 tools/qfbsp/include/outside.h   |   29 ++++
 tools/qfbsp/include/portals.h   |   42 +++++
 tools/qfbsp/include/readbsp.h   |   32 ++++
 tools/qfbsp/include/region.h    |   30 ++++
 tools/qfbsp/include/solidbsp.h  |   38 +++++
 tools/qfbsp/include/surfaces.h  |   45 ++++++
 tools/qfbsp/include/tjunc.h     |   30 ++++
 tools/qfbsp/include/winding.h   |   44 ++++++
 tools/qfbsp/include/writebsp.h  |   40 +++++
 tools/qfbsp/source/Makefile.am  |    3 +-
 tools/qfbsp/source/brush.c      |    4 +
 tools/qfbsp/source/csg4.c       |    6 +
 tools/qfbsp/source/map.c        |    3 +-
 tools/qfbsp/source/merge.c      |    5 +
 tools/qfbsp/source/nodraw.c     |   12 +-
 tools/qfbsp/source/outside.c    |    5 +
 tools/qfbsp/source/portals.c    |    4 +
 tools/qfbsp/source/qfbsp.c      |  290 ++---------------------------------
 tools/qfbsp/source/readbsp.c    |    4 +
 tools/qfbsp/source/region.c     |    5 +-
 tools/qfbsp/source/solidbsp.c   |    6 +
 tools/qfbsp/source/surfaces.c   |    4 +
 tools/qfbsp/source/tjunc.c      |    3 +
 tools/qfbsp/source/winding.c    |  322 +++++++++++++++++++++++++++++++++++++++
 tools/qfbsp/source/writebsp.c   |    2 +
 34 files changed, 922 insertions(+), 450 deletions(-)

commit 4449f10
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Aug 15 05:15:47 2010 +0000

    get alsa and sdl working, though sdl seems to be mono only

 libs/audio/renderer/snd_dma.c |    4 ++--
 libs/audio/targets/snd_alsa.c |    2 +-
 libs/audio/targets/snd_oss.c  |    2 +-
 libs/audio/testsound.c        |    6 +++---
 4 files changed, 7 insertions(+), 7 deletions(-)

commit bc4a3e7
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Aug 14 02:48:53 2010 +0000

    d'oh, bogus $

 libs/audio/renderer/Makefile.am |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 81ac779
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Aug 14 02:38:19 2010 +0000

    forgot to add libsamplerate to the default renderer

 libs/audio/renderer/Makefile.am |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a9511cb
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 13 05:17:18 2010 +0000

    print the "message" of the map when displying the map name and time

 nq/source/host_cmd.c |    4 +++-
 qw/source/sv_ccmds.c |    4 +++-
 2 files changed, 6 insertions(+), 2 deletions(-)

commit cc69723
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 13 01:48:48 2010 +0000

    bah, forgot that libsamplerate doesn't check for errors

 libs/audio/renderer/flac.c   |    2 +-
 libs/audio/renderer/midi.c   |    2 +-
 libs/audio/renderer/vorbis.c |    2 +-
 libs/audio/renderer/wav.c    |    2 +-
 4 files changed, 4 insertions(+), 4 deletions(-)

commit 54fc922
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 13 01:48:20 2010 +0000

    better error checking while reading streamed data

 include/snd_render.h          |    6 ++++--
 libs/audio/renderer/flac.c    |    7 ++++++-
 libs/audio/renderer/midi.c    |    4 +++-
 libs/audio/renderer/snd_mem.c |    5 +++--
 libs/audio/renderer/snd_mix.c |   10 ++++++++--
 libs/audio/renderer/vorbis.c  |    4 +++-
 libs/audio/renderer/wav.c     |    4 +++-
 7 files changed, 30 insertions(+), 10 deletions(-)

commit 140bd64
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Aug 12 02:38:53 2010 +0000

    make a local copy of the surround-sound channel assignents.
    
    As found in the Vorbis documentation.

 doc/surround-sound.txt |   10 ++++++++++
 1 file changed, 10 insertions(+)

commit ce56584
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Aug 12 02:28:27 2010 +0000

    add support for up to 8 channels in sound effect files
    
    The sounds are down-mixed to 2 channels (qf does not (yet) support more than
    2 channel output), but this allows pretty much anything to be used for a
    source of music. Only 5.1 (6 channel), stereo and mono have been tested, but
    the others should work (any issues would be mis-interpretation/implementation
    of the channel layout).

 include/snd_render.h          |   18 ++--
 libs/audio/renderer/flac.c    |    2 +-
 libs/audio/renderer/snd_mix.c |  195 +++++++++++++++++++++++++++++++++++++++--
 libs/audio/renderer/vorbis.c  |    2 +-
 libs/audio/renderer/wav.c     |    2 +-
 5 files changed, 200 insertions(+), 19 deletions(-)

commit 96f1573
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 11 23:48:08 2010 +0000

    doc tweaks

 doc/mapformat.txt     |    4 ++--
 doc/quakeforge.dox.in |    2 +-
 2 files changed, 3 insertions(+), 3 deletions(-)

commit a314bae
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 11 23:47:48 2010 +0000

    for now, require libsamplerate.
    
    I really don't feel like implementing a fallback right now.

 configure.ac |   11 +++++++----
 1 file changed, 7 insertions(+), 4 deletions(-)

commit b162061
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 11 23:47:31 2010 +0000

    reset the "resampler" when seeking

 include/snd_render.h               |    5 +++++
 libs/audio/renderer/snd_resample.c |   15 +++++++++++++++
 libs/audio/renderer/snd_sfx.c      |    2 +-
 3 files changed, 21 insertions(+), 1 deletion(-)

commit 22e8698
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 11 23:47:03 2010 +0000

    resampling now works
    
    However, no fallback for when libsamplerate is missing.

 include/snd_render.h               |   51 ++++++++++++++----------
 libs/audio/renderer/flac.c         |   17 ++++----
 libs/audio/renderer/midi.c         |   55 +++++++++++++++-----------
 libs/audio/renderer/snd_mem.c      |   37 ++++--------------
 libs/audio/renderer/snd_resample.c |   76 +++++++++++++++++++++++++-----------
 libs/audio/renderer/snd_sfx.c      |   15 +++++--
 libs/audio/renderer/vorbis.c       |   44 +++++++++++++++------
 libs/audio/renderer/wav.c          |   50 +++++++++++++++++-------
 8 files changed, 216 insertions(+), 129 deletions(-)

commit 1c985bc
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 11 23:46:28 2010 +0000

    bah, forgot these

 include/snd_render.h               |    7 +++----
 libs/audio/Makefile.am             |    6 ++++++
 libs/audio/renderer/snd_channels.c |    5 +++--
 libs/audio/renderer/snd_mem.c      |   11 ++++++++++-
 libs/audio/renderer/snd_resample.c |   11 +++++------
 libs/audio/renderer/snd_sfx.c      |    1 -
 6 files changed, 27 insertions(+), 14 deletions(-)

commit 3499f52
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 11 23:45:56 2010 +0000

    add a test app and a workaround for the clicking in the resamled stream
    
    the proper fix for the clicking is to either use SRC's callback resampler or
    fix snd_mem.c to handle not getting the samples it expects, but I think the
    callback will be better in the long run.

 libs/audio/testsound.c |  119 ++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 119 insertions(+)

commit 0e3b395
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 11 23:45:32 2010 +0000

    ok, non-resampled flacs now work beautifully

 libs/audio/renderer/flac.c |    5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 7502cd9
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 11 23:45:09 2010 +0000

    making slow progress on sound quality
    
    streamed oggs playback cleaning when not resampling, but flacs are still crap

 include/snd_render.h               |   14 +++++---
 libs/audio/renderer/flac.c         |   12 ++++---
 libs/audio/renderer/snd_mem.c      |    2 --
 libs/audio/renderer/snd_resample.c |   70 +++++++++++++++++++++++++++++-------
 libs/audio/renderer/snd_sfx.c      |    8 ++---
 libs/audio/renderer/vorbis.c       |    1 +
 libs/audio/renderer/wav.c          |    1 +
 7 files changed, 79 insertions(+), 29 deletions(-)

commit 65a748f
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 11 23:44:34 2010 +0000

    floating point mixer now working
    
    the resampler is being badly abused for streams, and it's not yet properly
    autoconfiscated, but things are working. Better yet, at the correct pitch and
    speed.

 include/snd_render.h               |   63 ++++---
 libs/audio/renderer/Makefile.am    |    2 +-
 libs/audio/renderer/flac.c         |   95 +++-------
 libs/audio/renderer/midi.c         |   17 +-
 libs/audio/renderer/snd_dma.c      |  108 ++---------
 libs/audio/renderer/snd_jack.c     |   13 +-
 libs/audio/renderer/snd_mem.c      |   41 ++---
 libs/audio/renderer/snd_mix.c      |  121 +++---------
 libs/audio/renderer/snd_resample.c |  354 +++---------------------------------
 libs/audio/renderer/snd_sfx.c      |   32 +---
 libs/audio/renderer/vorbis.c       |   51 +++---
 libs/audio/renderer/wav.c          |   38 ++--
 12 files changed, 221 insertions(+), 714 deletions(-)

commit de35661
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 11 23:43:54 2010 +0000

    hopefully correct comment

 include/snd_render.h |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 2bb2d14
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 11 23:43:35 2010 +0000

    make "sample counts" frame based rather than mono sample based
    
    that was always horribly confusing

 include/QF/sound.h            |    4 +++-
 include/snd_render.h          |    5 +++--
 libs/audio/renderer/snd_dma.c |   50 ++++++++++++++++++++---------------------
 libs/audio/targets/snd_alsa.c |   20 ++++++++---------
 libs/audio/targets/snd_disk.c |    4 ++--
 libs/audio/targets/snd_oss.c  |   47 +++++++++++++++++++++-----------------
 libs/audio/targets/snd_sdl.c  |   36 ++++++++++++++---------------
 7 files changed, 86 insertions(+), 80 deletions(-)

commit 3b76c59
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 11 23:42:59 2010 +0000

    goofed on the HAVE_MIDI test

 configure.ac |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d0906f1
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 11 23:42:42 2010 +0000

    conditionally build the sound format support files
    
    Rather than using an ifdef around the entire code, get autoconf to do the work
    for us. For one thing, this allows doxygen to produce decent docs. It also
    makes for less compalation when building without support for various formats.

 configure.ac                    |   27 ++++++++++++++-------------
 libs/audio/renderer/Makefile.am |   33 +++++++++++++++++++++++++++++----
 libs/audio/renderer/flac.c      |    4 ----
 libs/audio/renderer/midi.c      |    3 ---
 libs/audio/renderer/vorbis.c    |    4 ----
 5 files changed, 43 insertions(+), 28 deletions(-)

commit d045045
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 11 23:42:14 2010 +0000

    get the grouping right

 tools/qfcc/include/obj_file.h |   36 ++++++++++++++++++------------------
 1 file changed, 18 insertions(+), 18 deletions(-)

commit 4c7b2bb
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 11 23:41:50 2010 +0000

    update for recent doxygen
    
    removes warnings about obsolete options, but introduces a couple of weird
    include path type warnings

 doc/quakeforge.dox.in | 1571 ++++++++++++++++++++++++++++++++++---------------
 1 file changed, 1097 insertions(+), 474 deletions(-)

commit f04bc64
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 11 23:41:30 2010 +0000

    clean up a bunch of doxygen warnings

 doc/quakeforge.dox.in         |    2 +-
 tools/qfcc/include/obj_file.h |   15 +++++++++++++--
 2 files changed, 14 insertions(+), 3 deletions(-)

commit c0a8c6c
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 11 23:41:04 2010 +0000

    properly prefix all functions, static or not
    
    makes doxygen produce better docs

 libs/audio/renderer/flac.c   |   88 ++++++++++++++++++++++++------------------
 libs/audio/renderer/midi.c   |    4 +-
 libs/audio/renderer/vorbis.c |   20 +++++-----
 libs/audio/renderer/wav.c    |    4 +-
 4 files changed, 64 insertions(+), 52 deletions(-)

commit ac44950
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 11 23:40:35 2010 +0000

    sanitize the code by using defines for old flac libs

 libs/audio/renderer/flac.c |  103 ++++++++++++--------------------------------
 1 file changed, 27 insertions(+), 76 deletions(-)

commit 3d6d731
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 11 23:40:11 2010 +0000

    ignore vim's .swp files

 .gitignore |    1 +
 1 file changed, 1 insertion(+)

commit 46a067b
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Aug 8 03:02:55 2010 +0000

    Do proper error handling when loading sound files.
    
    This fixes the segfault grg got when trying to play a 5.1 channel file.

 include/snd_render.h          |   15 ++++++++++-----
 libs/audio/renderer/flac.c    |    8 ++++----
 libs/audio/renderer/midi.c    |    7 ++++---
 libs/audio/renderer/snd_mem.c |   26 ++++++++++++++++----------
 libs/audio/renderer/snd_sfx.c |    5 ++++-
 libs/audio/renderer/vorbis.c  |    8 ++++----
 libs/audio/renderer/wav.c     |    6 +++---
 7 files changed, 45 insertions(+), 30 deletions(-)

commit 0bbb805
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Aug 8 01:58:17 2010 +0000

    fix a case&paste error pointed out by grg

 libs/video/targets/vid_glx.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 0dfff8f
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Aug 7 10:42:09 2010 +0000

    ignore stuff

 .gitignore                               |  847 +++++++++++++++++++++++++++++-
 RPM/.gitignore                           |    5 -
 debian/.gitignore                        |   24 -
 doc/.gitignore                           |    6 -
 doc/man/.gitignore                       |    2 -
 hw/.gitignore                            |    3 -
 hw/include/.gitignore                    |    3 -
 hw/source/.gitignore                     |   14 -
 include/.gitignore                       |    6 -
 include/QF/.gitignore                    |    3 -
 libs/.gitignore                          |    3 -
 libs/audio/.gitignore                    |    7 -
 libs/audio/cd/.gitignore                 |    7 -
 libs/audio/renderer/.gitignore           |    7 -
 libs/audio/targets/.gitignore            |    7 -
 libs/console/.gitignore                  |    7 -
 libs/gamecode/.gitignore                 |    8 -
 libs/gamecode/builtins/.gitignore        |    8 -
 libs/gamecode/engine/.gitignore          |    8 -
 libs/gib/.gitignore                      |    7 -
 libs/image/.gitignore                    |    7 -
 libs/models/.gitignore                   |    7 -
 libs/models/alias/.gitignore             |    7 -
 libs/models/brush/.gitignore             |    7 -
 libs/models/sprite/.gitignore            |    7 -
 libs/net/.gitignore                      |    7 -
 libs/net/nc/.gitignore                   |    7 -
 libs/net/nm/.gitignore                   |    7 -
 libs/object/.gitignore                   |    7 -
 libs/qw/.gitignore                       |    9 -
 libs/ruamoko/.gitignore                  |    8 -
 libs/util/.gitignore                     |    7 -
 libs/video/.gitignore                    |    3 -
 libs/video/renderer/.gitignore           |    9 -
 libs/video/renderer/gl/.gitignore        |    9 -
 libs/video/renderer/sw/.gitignore        |    9 -
 libs/video/renderer/sw32/.gitignore      |    7 -
 libs/video/targets/.gitignore            |    9 -
 nq/.gitignore                            |    3 -
 nq/include/.gitignore                    |    6 -
 nq/source/.gitignore                     |   25 -
 qtv/.gitignore                           |    3 -
 qtv/include/.gitignore                   |    7 -
 qtv/source/.gitignore                    |   15 -
 qw/.gitignore                            |    3 -
 qw/include/.gitignore                    |    7 -
 qw/source/.gitignore                     |   36 --
 ruamoko/.gitignore                       |    7 -
 ruamoko/cl_menu/.gitignore               |    8 -
 ruamoko/game/.gitignore                  |   10 -
 ruamoko/gui/.gitignore                   |    9 -
 ruamoko/include/.gitignore               |    8 -
 ruamoko/lib/.gitignore                   |    9 -
 ruamoko/scheme/.gitignore                |    9 -
 tools/.gitignore                         |    3 -
 tools/Forge/.gitignore                   |    5 -
 tools/Forge/Bundles/MainPrefs/.gitignore |    7 -
 tools/Forge/Bundles/MapEdit/.gitignore   |    7 -
 tools/bsp2img/.gitignore                 |    6 -
 tools/carne/.gitignore                   |    6 -
 tools/cross/.gitignore                   |    4 -
 tools/gas2masm/.gitignore                |    1 -
 tools/gl_stub/.gitignore                 |    1 -
 tools/pak/.gitignore                     |    9 -
 tools/qfbsp/.gitignore                   |    4 -
 tools/qfbsp/include/.gitignore           |    3 -
 tools/qfbsp/source/.gitignore            |    6 -
 tools/qfcc/.gitignore                    |   11 -
 tools/qfcc/doc/.gitignore                |    4 -
 tools/qfcc/doc/man/.gitignore            |    2 -
 tools/qfcc/include/.gitignore            |    6 -
 tools/qfcc/source/.gitignore             |   10 -
 tools/qflight/.gitignore                 |    3 -
 tools/qflight/include/.gitignore         |    3 -
 tools/qflight/source/.gitignore          |    6 -
 tools/qfmodelgen/.gitignore              |    3 -
 tools/qfmodelgen/include/.gitignore      |    3 -
 tools/qfmodelgen/source/.gitignore       |    6 -
 tools/qfvis/.gitignore                   |    4 -
 tools/qfvis/include/.gitignore           |    3 -
 tools/qfvis/source/.gitignore            |    6 -
 tools/quaketoascii/.gitignore            |    1 -
 tools/qwaq/.gitignore                    |    9 -
 tools/texpaint/.gitignore                |   11 -
 tools/wad/.gitignore                     |    9 -
 tools/wav/.gitignore                     |    9 -
 86 files changed, 823 insertions(+), 628 deletions(-)

commit 4f748a0
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Aug 7 07:22:31 2010 +0000

    Fix aclocal.m4 rebuild problems.
    
    aclocal needs to always be told where the directory is, not just during
    bootstrap.

 Makefile.am |    2 ++
 1 file changed, 2 insertions(+)

commit 6830bd4
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 6 03:03:17 2010 +0000

    while neat, inlining the code was a bit too much

 doc/quakeforge.dox.in |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit cfb457c
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 6 01:58:57 2010 +0000

    add detection of libsamplerate. not used yet

 configure.ac |   29 +++++++++++++++++++++++++++++
 1 file changed, 29 insertions(+)

commit adee45d
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 6 01:58:12 2010 +0000

    add a comment about the valid range of samples

 libs/audio/renderer/snd_jack.c |    1 +
 1 file changed, 1 insertion(+)

commit 397312b
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 6 01:13:47 2010 +0000

    enable source code browsing

 doc/quakeforge.dox.in |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 98a0da7
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 6 00:41:42 2010 +0000

    Prefill the sfx stream buffer to ensure the decoders have allocated any memory they might need. Problem found using jack_interposer (http://repo.or.cz/w/jack_interposer.git).

 libs/audio/renderer/snd_sfx.c |    4 +---
 1 file changed, 1 insertion(+), 3 deletions(-)

commit dabb720
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Aug 5 07:23:06 2010 +0000

    be a little more honest (don't say "Playing" until we actually can)

 libs/audio/cd_file.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 6e2a8f1
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Aug 5 07:20:50 2010 +0000

    Do not allow sounds to start when we have no connection to the jack server. This fixes the shutdown hang when the connection to the server is lost.

 libs/audio/renderer/snd_jack.c |   29 ++++++++++++++++++++++++++---
 1 file changed, 26 insertions(+), 3 deletions(-)

commit e9a1e55
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Aug 5 03:57:48 2010 +0000

    send multiple almost empty packets when a server frame is too long

 qw/source/sv_recorder.c |   13 +++++++++++--
 1 file changed, 11 insertions(+), 2 deletions(-)

commit 7ef81ca
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Aug 5 03:39:26 2010 +0000

    and the rest of the changes before actually working on the new parser

 tools/qfbsp/source/map.c |   11 ++++++++++-
 1 file changed, 10 insertions(+), 1 deletion(-)

commit 9a4258b
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Aug 5 03:30:13 2010 +0000

    rename "map" to "map_script" in anticipation of a better map parser

 tools/qfbsp/source/map.c |  154 +++++++++++++++++++++++-----------------------
 1 file changed, 77 insertions(+), 77 deletions(-)

commit 98cf61d
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Aug 5 02:52:56 2010 +0000

    get the boxclipping debug code in semi-permanently (conditional, of course)

 nq/source/sv_cl_phys.c |    4 ++++
 nq/source/sv_phys.c    |    9 +++++++++
 nq/source/world.c      |   17 ++++++++++++++++-
 3 files changed, 29 insertions(+), 1 deletion(-)

commit ace5e7a
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Aug 5 02:38:47 2010 +0000

    oops

 libs/video/targets/vid_glx.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 17d8461
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Aug 5 02:36:51 2010 +0000

    found a test file lurking around

 tools/qfcc/test/local.r |    7 +++++++
 1 file changed, 7 insertions(+)

commit 970dd0b
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Aug 5 02:35:16 2010 +0000

    avoid the old dga headers if we can (they're now deprecated)

 configure.ac                   |   18 ++++++++++++++----
 libs/video/targets/dga_check.c |   11 ++++++++---
 libs/video/targets/in_x11.c    |    6 +++++-
 libs/video/targets/vid_glx.c   |    8 ++++++--
 4 files changed, 33 insertions(+), 10 deletions(-)

commit 96a507e
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Aug 5 01:58:39 2010 +0000

    Disable svga support when not building for 32-bit x86 (for now, anyway).

 configure.ac |   58 ++++++++++++++++++++++++++++++++--------------------------
 1 file changed, 32 insertions(+), 26 deletions(-)

commit 3e0aaea
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 28 13:37:51 2010 +0000

    more build fixes from Despair (parallel make, this time)

 libs/models/Makefile.am |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c1b12ed
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 27 12:21:50 2010 +0000

    fix a couple of gcc 4.5 issues that Despair pointed out (I don't have it yet)

 libs/gamecode/engine/pr_debug.c |    3 ++-
 libs/gamecode/engine/pr_exec.c  |    2 +-
 2 files changed, 3 insertions(+), 2 deletions(-)

commit 81e3a63
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Apr 26 12:41:04 2010 +0000

    check for a bad read when reading the command byte of a connectionless packet

 qw/source/cl_main.c |    2 ++
 1 file changed, 2 insertions(+)

commit eb636ea
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Mar 12 10:51:07 2010 +0000

    win32 fixes and vc2008 build files from phrosty

 libs/console/console.c                        |    4 +-
 libs/net/nc/net_udp.c                         |    6 +-
 libs/net/nc/net_udp6.c                        |    2 +-
 vc2008/QuakeForge.sln                         |  966 +++++++++++++++++++++++++
 vc2008/bsp2img/bsp2img.vcproj                 |  562 ++++++++++++++
 vc2008/builtins/builtins.vcproj               |  474 ++++++++++++
 vc2008/clean.ps1                              |    3 +
 vc2008/common/common.vcproj                   |  490 +++++++++++++
 vc2008/console/console.vcproj                 |  494 +++++++++++++
 vc2008/console_client/console_client.vcproj   |  482 ++++++++++++
 vc2008/console_server/console_server.vcproj   |  470 ++++++++++++
 vc2008/engine/engine.vcproj                   |  510 +++++++++++++
 vc2008/gib/gib.vcproj                         |  538 ++++++++++++++
 vc2008/hw-master/hw-master.vcproj             |  562 ++++++++++++++
 vc2008/image/image.vcproj                     |  482 ++++++++++++
 vc2008/include/config.h                       |  740 +++++++++++++++++++
 vc2008/models-sw/models-sw.vcproj             |  512 +++++++++++++
 vc2008/models/models.vcproj                   |  490 +++++++++++++
 vc2008/modelsgl/modelsgl.vcproj               |  522 +++++++++++++
 vc2008/net-main/net-main.vcproj               |  488 +++++++++++++
 vc2008/net/net.vcproj                         |  474 ++++++++++++
 vc2008/nq-common/nq-common.vcproj             |  516 +++++++++++++
 vc2008/nq-sdl/nq-sdl.vcproj                   |  556 ++++++++++++++
 vc2008/nq-sdl32/nq-sdl32.vcproj               |  562 ++++++++++++++
 vc2008/nq-server/nq-server.vcproj             |  566 +++++++++++++++
 vc2008/nq-sgl/nq-sgl.vcproj                   |  562 ++++++++++++++
 vc2008/nq-wgl/nq-wgl.vcproj                   |  562 ++++++++++++++
 vc2008/nq/nq.vcproj                           |  544 ++++++++++++++
 vc2008/pak/pak.vcproj                         |  566 +++++++++++++++
 vc2008/qfbsp/qfbsp.vcproj                     |  632 ++++++++++++++++
 vc2008/qfcc/FlexBison.rules                   |  246 +++++++
 vc2008/qfcc/qfcc.vcproj                       |  965 ++++++++++++++++++++++++
 vc2008/qfclient/qfclient.vcproj               |  626 ++++++++++++++++
 vc2008/qflight/qflight.vcproj                 |  620 ++++++++++++++++
 vc2008/qfmodelgen/qfmodelgen.vcproj           |  578 +++++++++++++++
 vc2008/qfprogs/qfprogs.vcproj                 |  590 +++++++++++++++
 vc2008/qfserver/qfserver.vcproj               |  672 +++++++++++++++++
 vc2008/qfvis/qfvis.vcproj                     |  588 +++++++++++++++
 vc2008/qfwavinfo/qfwavinfo.vcproj             |  562 ++++++++++++++
 vc2008/qtv/qtv.vcproj                         |  594 +++++++++++++++
 vc2008/qw-client-sdl/qw-client-sdl.vcproj     |  558 ++++++++++++++
 vc2008/qw-client-sdl32/qw-client-sdl32.vcproj |  562 ++++++++++++++
 vc2008/qw-client-sgl/qw-client-sgl.vcproj     |  562 ++++++++++++++
 vc2008/qw-client-wgl/qw-client-wgl.vcproj     |  558 ++++++++++++++
 vc2008/qw-master/qw-master.vcproj             |  562 ++++++++++++++
 vc2008/qw/qw.vcproj                           |  474 ++++++++++++
 vc2008/readme.txt                             |   25 +
 vc2008/ruamoko/ruamoko.vcproj                 |  518 +++++++++++++
 vc2008/sound/sound.vcproj                     |  514 +++++++++++++
 vc2008/util/util.vcproj                       |  618 ++++++++++++++++
 vc2008/video-sdl/video-sdl.vcproj             |  472 ++++++++++++
 vc2008/video-sgl/video-sgl.vcproj             |  468 ++++++++++++
 vc2008/video-sw/video-sw.vcproj               |  596 +++++++++++++++
 vc2008/video-sw32/video-sw32.vcproj           |  572 +++++++++++++++
 vc2008/video-wgl/video-wgl.vcproj             |  472 ++++++++++++
 vc2008/video/video.vcproj                     |  538 ++++++++++++++
 vc2008/videogl/videogl.vcproj                 |  556 ++++++++++++++
 vc2008/wad/wad.vcproj                         |  574 +++++++++++++++
 58 files changed, 29572 insertions(+), 5 deletions(-)

commit 51a32f4
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 22 13:44:52 2010 +0000

    minor comment about scoping in traditional mode

 tools/qfcc/source/qc-parse.y |    2 ++
 1 file changed, 2 insertions(+)

commit fac9853
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 22 13:11:41 2010 +0000

    make sure def->space points to the space the def's location is allocated from to ensure that freeing the location works properly (fixes the bogus address triggered by prozaccoop: thanks, phrosty)

 tools/qfcc/source/def.c |    3 +++
 1 file changed, 3 insertions(+)

commit 56d01ce
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Feb 20 12:01:49 2010 +0000

    found an uncontrollable warning

 tools/qfcc/doc/man/qfcc.1    |    3 +++
 tools/qfcc/include/options.h |    1 +
 tools/qfcc/source/options.c  |    6 ++++++
 tools/qfcc/source/qc-parse.y |    2 +-
 4 files changed, 11 insertions(+), 1 deletion(-)

commit 6a63263
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Mon Jan 25 03:47:34 2010 +0000

    Fix up aclocal includes properly, using an include dir.

 acinclude.m4 |    9 ---------
 bootstrap    |    2 +-
 2 files changed, 1 insertion(+), 10 deletions(-)

commit 7b9a682
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jan 16 02:05:05 2010 +0000

    Make qfpreqcc a little noisier when qfcc can't be run.

 tools/qfcc/source/qfpreqcc |   17 +++++++++++++----
 1 file changed, 13 insertions(+), 4 deletions(-)

commit 60c3b13
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 13 06:53:38 2010 +0000

    don't cause the clien to segfault while changing levels

 qtv/source/sv_parse.c |   18 +++++++++++++++++-
 1 file changed, 17 insertions(+), 1 deletion(-)

commit 2822b47
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 13 06:53:10 2010 +0000

    we don't need any evil hacks around here :)
    
    It seems the cursor hack hasn't been needed for a while. Also get rid of some
    crazy function redirection and bogus comments

 qw/source/sv_main.c |   17 ++---------------
 1 file changed, 2 insertions(+), 15 deletions(-)

commit b49614a
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 13 06:52:42 2010 +0000

    a bit of ncurses related cleanup
    
    doesn't fix the corrupted input line when the output window is busy, but that
    might be a gnome-terminal bug (seems to be ok on the linux console)

 libs/console/server.c |   14 +++++---------
 1 file changed, 5 insertions(+), 9 deletions(-)

commit 37e52ba
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 13 06:52:15 2010 +0000

    map changes now work through a proxy

 qtv/include/client.h  |    2 +-
 qtv/include/server.h  |    4 +++-
 qtv/source/client.c   |   14 +++++++++-----
 qtv/source/server.c   |   14 ++++++++++++--
 qtv/source/sv_parse.c |    8 +++++++-
 5 files changed, 32 insertions(+), 10 deletions(-)

commit 3a3b55f
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 13 06:51:39 2010 +0000

    never forward certain svc types
    
    svc_stufftext needs to be filtered (not yet done)

 qtv/source/sv_parse.c |    9 +++++++++
 1 file changed, 9 insertions(+)

commit 6a8f14c
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 13 06:51:13 2010 +0000

    nuke another \ in command handling

 libs/console/console.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 70cc488
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 13 06:50:44 2010 +0000

    I think I finally got the protocol side of map changes right
    
    "pause" qtv recorders while changing maps
    send changing/reconnect via the qtv extensions

 qtv/source/server.c      |    5 +++--
 qtv/source/sv_parse.c    |    3 +++
 qw/include/sv_qtv.h      |    2 ++
 qw/include/sv_recorder.h |    2 ++
 qw/source/cl_main.c      |    2 +-
 qw/source/sv_ccmds.c     |    3 +++
 qw/source/sv_main.c      |    3 ++-
 qw/source/sv_qtv.c       |   50 +++++++++++++++++++++++++++++++++++++++++++---
 qw/source/sv_recorder.c  |   20 ++++++++++++++++++-
 qw/source/sv_send.c      |   10 ----------
 10 files changed, 82 insertions(+), 18 deletions(-)

commit d53190f
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 13 06:49:55 2010 +0000

    handle timeouts and server shutdown

 qtv/source/server.c |   19 +++++++++++++------
 1 file changed, 13 insertions(+), 6 deletions(-)

commit 8ac7a71
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 13 06:49:28 2010 +0000

    don't create a new recorder when we already have one
    
    this seems to fix the weird behaviour when changing maps

 qtv/source/server.c |    2 +-
 qw/source/sv_qtv.c  |    5 +++--
 2 files changed, 4 insertions(+), 3 deletions(-)

commit bb6619d
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 13 06:48:54 2010 +0000

    docs and a bit of cleanup
    
    delete core files with boostrap clean
    fix the placement of a comment
    simple docs for the standard client connection process (no mention of
    downloads)

 bootstrap           |    1 +
 doc/connect.txt     |   28 ++++++++++++++++++++++++++++
 qw/source/sv_user.c |   18 +++++++++---------
 3 files changed, 38 insertions(+), 9 deletions(-)

commit b05e9ea
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 13 06:48:20 2010 +0000

    add a recorder count to the status bar
    
    ... and this found the problem with the weird qtv behaviour on map change:
    changing maps causes the server to add a new connection for the proxy. oops

 qw/include/sv_recorder.h |    1 +
 qw/source/sv_recorder.c  |   11 +++++++++++
 qw/source/sv_sbar.c      |   20 ++++++++++++++++++++
 3 files changed, 32 insertions(+)

commit edabbd5
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 13 06:47:48 2010 +0000

    fix inputline updates when tab completion produces a large list
    
      o never use stdscr: curses does not support overlapping windows. though
        stdscr was used only for getting the screen size, this is not necessary as
        the TIOCGWINSZ can be used instead.
      o batch the prints generated by tab comletion to avoid frequent updates of
        the screen. this seems to have fixed the corrupted output of the inputline

 libs/console/server.c |   49 +++++++++++++++++++++++++++++++++----------------
 1 file changed, 33 insertions(+), 16 deletions(-)

commit e35ca56
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 13 06:47:21 2010 +0000

    wrap the call to Con_BasicCompleteCommandLine in a local function

 libs/console/server.c |   10 +++++++++-
 1 file changed, 9 insertions(+), 1 deletion(-)

commit df7c5b2
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 13 06:46:54 2010 +0000

    cleanup Con_BasicCompleteCommandLine a tiny bit
    
    remove an unnecessary strdup/free and fix a strncpy bug

 libs/console/complete.c |   13 +++++--------
 1 file changed, 5 insertions(+), 8 deletions(-)

commit 701652b
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 13 06:46:26 2010 +0000

    progress on getting map changing to work with qtv
    
    subsequent map changes are still behaving strangely, but signon buffer
    handling is now much better.

 qtv/include/qtv.h     |    1 +
 qtv/source/qtv.c      |    3 +++
 qtv/source/server.c   |   53 ++++++++++++++++++++++++++++++++++++++++++++++--
 qtv/source/sv_parse.c |   54 +++++++++++++++++++++++++------------------------
 qw/source/sv_qtv.c    |    7 ++++---
 5 files changed, 87 insertions(+), 31 deletions(-)

commit 53cd9be
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 13 06:45:43 2010 +0000

    Progress on map changing with qtv clients
    
    Rename SV_DemoSendMessages to SVR_SendMessages, and make sure SVR_SendMessages
    and SV_qtvSendMessages get called when SV_SendMessagesToAll is called.

 libs/net/net_chan.c      |    7 ++++---
 qw/include/sv_recorder.h |    2 +-
 qw/source/sv_main.c      |    2 +-
 qw/source/sv_pr_qwe.c    |    2 +-
 qw/source/sv_qtv.c       |    7 +++++--
 qw/source/sv_recorder.c  |    6 +++---
 qw/source/sv_send.c      |   10 ++++++++++
 7 files changed, 25 insertions(+), 11 deletions(-)

commit 465d557
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 13 06:44:57 2010 +0000

    Don't lose sv.recorders on map change
    
    This fixes the "reconnect" (or anything else, for that matter) not being sent
    to qtv proxies after loading a level while the procies are connected.

 qw/source/sv_init.c |    6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit b61a336
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 13 06:44:29 2010 +0000

    Don't spew "not recording a demo" when changing maps with a qtv
    
    Just because recorders exist doesn't mean a demo is being recorded: add a flag
    for such.

 qw/include/server.h  |    1 +
 qw/source/sv_ccmds.c |    2 +-
 qw/source/sv_demo.c  |    5 +++++
 qw/source/sv_main.c  |    2 +-
 4 files changed, 8 insertions(+), 2 deletions(-)

commit 907efe0
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 13 06:43:54 2010 +0000

    use "must" instead of "should"

 qw/source/game.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a6822c8
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 13 06:43:27 2010 +0000

    fix some bitrot in qtv
    
    qtv_print was calling Sys_Printf, which uses qtv_print which...
    
    Con_Printf is now the correct function to call here.

 qtv/source/qtv.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 7827086
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 13 06:42:59 2010 +0000

    make sure we actually have a stack frame

 libs/gamecode/engine/pr_strings.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 997102f
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 13 06:42:26 2010 +0000

    audit the usage of "only"
    
    There are still a few iffy places (notably around certain prepositions), but
    the relevant sentences are now much easier to read.

 INSTALL                                      |    2 +-
 NEWS                                         |    6 +++---
 README.cygwin                                |    2 +-
 configure.ac                                 |    2 +-
 debian/control                               |    2 +-
 doc/bind.txt                                 |    2 +-
 doc/data/docs/install                        |    4 ++--
 doc/data/docs/install.quake                  |    4 ++--
 doc/data/docs/install.quake2                 |    2 +-
 doc/data/docs/readme                         |    4 ++--
 doc/data/docs/readme.glquake                 |    6 +++---
 doc/data/docs/readme.squake                  |    2 +-
 doc/data/docs/readme.x11                     |    2 +-
 doc/gib/GIB.lyx                              |    6 +++---
 doc/old/QF-HOWTO                             |    2 +-
 doc/old/glqnotes.txt                         |   10 +++++-----
 doc/old/wqreadme.txt                         |   24 ++++++++++++------------
 include/QF/cvar.h                            |    2 +-
 include/QF/model.h                           |    2 +-
 include/QF/qfplist.h                         |    2 +-
 include/QF/vid.h                             |    2 +-
 include/d_iface.h                            |    2 +-
 include/d_local.h                            |    2 +-
 include/qw/protocol.h                        |    4 ++--
 include/sbar.h                               |    2 +-
 libs/audio/cd_file.c                         |    2 +-
 libs/audio/renderer/midi.c                   |    2 +-
 libs/audio/targets/snd_dx.c                  |    2 +-
 libs/gamecode/engine/pr_strings.c            |    2 +-
 libs/gib/gib_buffer.c                        |    2 +-
 libs/net/net_chan.c                          |    2 +-
 libs/net/nm/net_wins.c                       |    2 +-
 libs/util/cvar.c                             |    2 +-
 libs/util/plugin.c                           |    2 +-
 libs/util/quakefs.c                          |    6 +++---
 libs/util/zone.c                             |    4 ++--
 libs/video/renderer/gl/gl_skin.c             |    4 ++--
 libs/video/renderer/gl/gl_textures.c         |    2 +-
 libs/video/renderer/sw/nonintel.c            |    4 ++--
 libs/video/renderer/sw/sw_graph.c            |    2 +-
 libs/video/renderer/sw/sw_redge.c            |    2 +-
 libs/video/renderer/sw/sw_rsky.c             |    4 ++--
 libs/video/renderer/sw/sw_rsurf.c            |    2 +-
 libs/video/renderer/sw32/sw32_graph.c        |    2 +-
 libs/video/renderer/sw32/sw32_redge.c        |    2 +-
 libs/video/renderer/sw32/sw32_rsky.c         |    4 ++--
 libs/video/targets/context_x11.c             |    2 +-
 libs/video/targets/joy_win.c                 |    2 +-
 nq/include/protocol.h                        |    2 +-
 nq/include/server.h                          |    4 ++--
 nq/source/cl_input.c                         |    2 +-
 nq/source/cl_parse.c                         |    2 +-
 nq/source/cl_view.c                          |    6 +++---
 nq/source/host.c                             |    4 ++--
 nq/source/sbar.c                             |    2 +-
 nq/source/skin.c                             |    4 ++--
 nq/source/sv_cl_phys.c                       |    2 +-
 nq/source/sv_main.c                          |   10 +++++-----
 nq/source/sv_phys.c                          |    4 ++--
 nq/source/sv_pr_cmds.c                       |    6 +++---
 nq/source/sys_unix.c                         |    2 +-
 qtv/source/client.c                          |    2 +-
 qw/include/client.h                          |    2 +-
 qw/include/server.h                          |    6 +++---
 qw/source/cl_ents.c                          |    4 ++--
 qw/source/cl_input.c                         |    2 +-
 qw/source/cl_main.c                          |    6 +++---
 qw/source/cl_parse.c                         |    4 ++--
 qw/source/cl_view.c                          |    4 ++--
 qw/source/locs.c                             |    4 ++--
 qw/source/pmove.c                            |    2 +-
 qw/source/sv_ccmds.c                         |    6 +++---
 qw/source/sv_ents.c                          |    4 ++--
 qw/source/sv_init.c                          |    4 ++--
 qw/source/sv_main.c                          |   21 +++++++++++----------
 qw/source/sv_phys.c                          |    4 ++--
 qw/source/sv_pr_cmds.c                       |    6 +++---
 qw/source/sv_pr_cpqw.c                       |    2 +-
 qw/source/sv_send.c                          |    8 ++++----
 qw/source/sv_user.c                          |    4 ++--
 ruamoko/cl_menu/options_util.qc              |    2 +-
 tools/Forge/Bundles/MapEdit/CameraView.m     |    2 +-
 tools/Forge/Bundles/MapEdit/Map.m            |    2 +-
 tools/Forge/Bundles/MapEdit/QuakeEd.gmodel   |    2 +-
 tools/Forge/Bundles/MapEdit/QuakeEd.m        |    2 +-
 tools/Forge/Bundles/MapEdit/TexturePalette.m |    2 +-
 tools/Forge/Bundles/MapEdit/help.txt         |    2 +-
 tools/Forge/Documentation/help.txt           |    2 +-
 tools/cvs2cl/TODO                            |    2 +-
 tools/cvs2cl/cvs2cl.pl                       |    2 +-
 tools/qfbsp/include/bsp5.h                   |   10 +++++-----
 tools/qfbsp/source/portals.c                 |    2 +-
 tools/qfbsp/source/qfbsp.c                   |    6 +++---
 tools/qfbsp/source/writebsp.c                |    2 +-
 tools/qfcc/doc/man/qfcc.1                    |    4 ++--
 tools/qfcc/doc/qcc.txt                       |    2 +-
 tools/qfcc/doc/qfcc.lyx                      |    2 +-
 tools/qfcc/include/options.h                 |    2 +-
 tools/qfcc/include/reloc.h                   |    2 +-
 tools/qfcc/source/expr.c                     |    6 +++---
 tools/qfcc/source/options.c                  |    6 +++---
 tools/qfcc/test/defs.h                       |    2 +-
 tools/qflight/source/ltface.c                |    2 +-
 tools/qfmodelgen/source/modelgen.c           |    8 ++++----
 tools/qfvis/source/flow.c                    |    2 +-
 tools/texpaint/gladesrc.h                    |    4 ++--
 vc2005/qfcc/FlexBison.rules                  |    2 +-
 107 files changed, 195 insertions(+), 194 deletions(-)

commit 0a203c0
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 13 06:36:54 2010 +0000

    qccx (etc) "integer" autodetection.
    
    Check for usage of denormal floats and if found, either bail with a
    descriptive error message or give a mild warning that things will probably
    break. This avoids the possibility of things like RuneQuake getting "lucky"
    and doing real harm, and certainly avoids the segfaults.

 include/QF/progs.h               |    1 +
 libs/gamecode/engine/pr_load.c   |    2 ++
 libs/gamecode/engine/pr_opcode.c |   24 +++++++++++++++++++++++-
 3 files changed, 26 insertions(+), 1 deletion(-)

commit 00e590f
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 13 06:36:16 2010 +0000

    Really nail down the args param in rua_obj_msg_sendv().

 include/QF/progs.h             |    3 +++
 libs/gamecode/engine/pr_exec.c |    4 ++--
 libs/gamecode/engine/pr_load.c |    2 +-
 libs/ruamoko/rua_obj.c         |    8 ++++----
 4 files changed, 10 insertions(+), 7 deletions(-)

commit dbe0c76
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 13 06:35:33 2010 +0000

    fix the placement of the "paused" icon

 libs/video/renderer/r_screen.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 01452ce
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 13 06:35:04 2010 +0000

    no -P for qccx escapes

 tools/qfcc/doc/man/qfcc.1 |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 8abb9a6
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 13 06:34:32 2010 +0000

    remove support for an optional = in struct/union declarations

 libs/ruamoko/rua_obj.c          |    1 +
 ruamoko/cl_menu/controls_o.qc   |    2 +-
 ruamoko/include/draw.h          |    2 +-
 ruamoko/include/gui/InputLine.h |    4 ++--
 ruamoko/include/hash.h          |    2 +-
 ruamoko/include/qfile.h         |    2 +-
 ruamoko/include/qfs.h           |    2 +-
 ruamoko/lib/List.r              |    2 +-
 ruamoko/scheme/state.h          |    2 +-
 tools/qfcc/source/qc-parse.y    |    9 ++-------
 10 files changed, 12 insertions(+), 16 deletions(-)

commit 21b3a87
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 13 06:33:31 2010 +0000

    more todos

 tools/qfcc/TODO |    2 ++
 1 file changed, 2 insertions(+)

commit 00f9d48
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 13 06:33:03 2010 +0000

    be a little more paranoid

 libs/ruamoko/rua_obj.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit a18b019
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 13 06:32:37 2010 +0000

    add some qfcc todos

 tools/qfcc/TODO |    8 ++++++--
 1 file changed, 6 insertions(+), 2 deletions(-)

commit 0d4a293
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 13 06:32:10 2010 +0000

    forgot to check for errors

 tools/qfcc/source/expr.c |    2 ++
 1 file changed, 2 insertions(+)

commit ae4fc31
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 13 06:31:41 2010 +0000

    allow '*pointer' expressions

 tools/qfcc/include/expr.h    |    1 +
 tools/qfcc/source/expr.c     |   10 ++++++++++
 tools/qfcc/source/qc-parse.y |    1 +
 3 files changed, 12 insertions(+)

commit 22776f9
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 13 06:31:06 2010 +0000

    get double indirection working
    
    do not try to optimize the output of the sub-dereference in a dereference

 tools/qfcc/source/emit.c |    5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit dc3fc29
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 13 06:30:36 2010 +0000

    fix a bunch of comments

 include/QF/progs.h |   39 ++++++++++++++++++---------------------
 1 file changed, 18 insertions(+), 21 deletions(-)

commit 5c788d8
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 13 06:30:07 2010 +0000

    state.f is not an id instruction

 libs/gamecode/engine/pr_opcode.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 916aa6f
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 13 06:29:36 2010 +0000

    give nq debugging abilities and minimize the differences between nq and qw

 nq/source/host.c     |    2 --
 nq/source/sv_progs.c |   45 +++++++++++++++++++++++++++++++--------------
 qw/source/sv_progs.c |   38 +++++++++++++++++++++-----------------
 3 files changed, 52 insertions(+), 33 deletions(-)

commit ff61dbb
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 13 06:29:01 2010 +0000

    fix some sillies with QFS_FileList
    
    Use dynamic strings instead of temp strings for the list

 libs/ruamoko/rua_qfs.c |   12 +++++++++---
 ruamoko/include/qfs.h  |    5 ++++-
 2 files changed, 13 insertions(+), 4 deletions(-)

commit 6eae016
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 13 06:28:28 2010 +0000

    minor cleanups
    
    fix some comments, cleanup some whitespace, and don't explicitly call
    PR_RelocateBuiltins as it is called (indirectly) by PR_LoadProgs.

 include/QF/progs.h   |    2 +-
 nq/source/sv_progs.c |    2 --
 qw/source/sv_progs.c |    4 ++--
 3 files changed, 3 insertions(+), 5 deletions(-)

commit 334f12e
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 13 06:27:48 2010 +0000

    fix some problems found by the new qfcc warning :)

 ruamoko/cl_menu/client_menu.qc  |    6 +++---
 ruamoko/cl_menu/options_util.qc |    2 +-
 2 files changed, 4 insertions(+), 4 deletions(-)

commit e0d6695
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 13 06:27:19 2010 +0000

    plug a memory leak
    
    the progs memory was never being freed between maps because the pointer was
    being cleared at the start of PR_LoadProgsFile.

 libs/gamecode/engine/pr_load.c |   27 ++++++++++++++-------------
 1 file changed, 14 insertions(+), 13 deletions(-)

commit ad5459b
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 13 06:26:50 2010 +0000

    mention the "no-" prefix in the code options section

 tools/qfcc/doc/man/qfcc.1 |    2 ++
 1 file changed, 2 insertions(+)

commit ccb8faf
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 13 06:26:18 2010 +0000

    produce a warning for the likes of "x - x & y"

 tools/qfcc/include/expr.h |    1 +
 tools/qfcc/source/expr.c  |   38 +++++++++++++++++++++++++++++---------
 2 files changed, 30 insertions(+), 9 deletions(-)

commit 128faf7
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 13 06:25:38 2010 +0000

    give sprintf a real prototype

 ruamoko/include/string.h |    2 +-
 ruamoko/lib/string.r     |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 40fefff
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 13 06:25:06 2010 +0000

    fix incorrect users for temps resulting from casting the result of ?:
    
    There are probably other situations, but I'll fix them as they show up.

 tools/qfcc/include/expr.h     |    1 +
 tools/qfcc/source/constfold.c |    9 ++++++++-
 tools/qfcc/source/expr.c      |    9 +++++++++
 3 files changed, 18 insertions(+), 1 deletion(-)

commit d558444
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 13 06:24:29 2010 +0000

    make temp def problems a little easier to understand
    
     o  set return_address whenever a temp def is requested, no only when it is
        actually created.
     o  make the notices about temp reference counting problems a little more
        readable and include the name of the temp

 tools/qfcc/source/def.c |   12 +++++++-----
 1 file changed, 7 insertions(+), 5 deletions(-)

commit 06a46c2
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 13 06:23:59 2010 +0000

    change the return types of the new functions from float to integer

 nq/source/sv_pr_cmds.c |   12 ++++++------
 1 file changed, 6 insertions(+), 6 deletions(-)

commit c2dcc20
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 13 06:23:32 2010 +0000

    allow (constant) expressions in array declarators

 tools/qfcc/source/qc-parse.y |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit a6c5049
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 13 06:23:02 2010 +0000

    get \8 and \9 right

 tools/qfcc/source/qc-lex.l |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 401040c
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 13 06:22:33 2010 +0000

    document the gold digits

 tools/qfcc/doc/man/qfcc.1 |   10 ++++++++--
 1 file changed, 8 insertions(+), 2 deletions(-)

commit 07b61aa
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 13 06:22:01 2010 +0000

    missed \0-9 for the gold numbers from qccx

 tools/qfcc/source/qc-lex.l |   22 ++++++++++++++--------
 tools/qfcc/source/struct.c |    2 +-
 2 files changed, 15 insertions(+), 9 deletions(-)

commit 36fe939
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 13 06:21:29 2010 +0000

    don't hang when processing \{N} escape sequences and fix a comment

 include/QF/progs.h         |    2 +-
 tools/qfcc/source/qc-lex.l |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 15c46c3
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 13 06:20:52 2010 +0000

    Add some functions that runequake "needs".
    
    These replace the CL_* related groveling.

 nq/source/sv_pr_cmds.c |   99 ++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 99 insertions(+)

commit 090527e
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 13 06:20:22 2010 +0000

    silence some debug output

 tools/qfcc/source/expr.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 5d69772
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 13 06:19:50 2010 +0000

    implement bounds checking on all opcodes

 libs/gamecode/engine/pr_exec.c   |   92 ++++++++++++++++++++++++++++++--------
 libs/gamecode/engine/pr_opcode.c |   23 +++++++++-
 2 files changed, 95 insertions(+), 20 deletions(-)

commit c3f47ef
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Dec 25 07:59:25 2009 +0000

    add --qccx-escapes to resolve the conflicts in escape sequences and document the escape sequences supported by qfcc.

 tools/qfcc/doc/man/qfcc.1    |   89 ++++++++++++++++++++++++++++++++++++++++++
 tools/qfcc/include/options.h |    1 +
 tools/qfcc/source/options.c  |    7 ++++
 tools/qfcc/source/qc-lex.l   |   32 +++++++++------
 4 files changed, 116 insertions(+), 13 deletions(-)

commit fb5b0dc
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 24 07:46:28 2009 +0000

    Check for .git as well as .svn when autosetting -Werror

 configure.ac |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit cb5bd43
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 24 07:33:24 2009 +0000

    warning fix from shortcircuit

 libs/video/targets/vid_3dfxsvga.c |    5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

commit d3e3230
Author: Thad Ward <coderjoe@grnet.com>
Date:   Thu Dec 24 07:25:49 2009 +0000

    How are the line-ends wrong on this?

commit 8ee4da8
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 24 07:15:18 2009 +0000

    Part of my box-clipping efforts

 doc/clipping/hit_corner_1.fig  |   29 +++++++++++++++++++++++++++++
 doc/clipping/miss_corner_1.fig |   27 +++++++++++++++++++++++++++
 doc/clipping/miss_corner_2.fig |   27 +++++++++++++++++++++++++++
 3 files changed, 83 insertions(+)

commit f315a12
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 24 06:35:15 2009 +0000

    attempt to handle jack shutdown. this should avoid locking up on client shutdown when jack disappears

 libs/audio/renderer/snd_jack.c |   24 +++++++++++++++++++++++-
 1 file changed, 23 insertions(+), 1 deletion(-)

commit bf04589
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 24 05:46:16 2009 +0000

    conheight proved to be eaiser than expected (d'oh, don't know why I couldn't see the obvious)

 libs/video/targets/vid.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a5f0fbc
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 24 05:33:41 2009 +0000

    Proper widescreen support. The GL renderer now respects the pixel aspect calculated by the vid init code. Also, a new cvar: vid_aspect. The format is width:height and the values may be any float greater than 0. The default is 4:3, but any units may be used.

 libs/video/renderer/gl/gl_rmain.c |    2 +-
 libs/video/targets/vid.c          |   29 ++++++++++++++++++++++++++++-
 2 files changed, 29 insertions(+), 2 deletions(-)

commit 58c167e
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 23 11:21:34 2009 +0000

    correct a bogus comment

 include/QF/vid.h |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 4b0320f
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 23 08:20:29 2009 +0000

    glx, gly, glwidth and glheight are now gone too. also GL_BeginRendering

 include/QF/GL/qf_screen.h             |   34 ---------------------------------
 include/QF/GL/qf_vid.h                |    1 -
 include/QF/Makefile.am                |    4 ++--
 libs/video/renderer/gl/gl_draw.c      |    3 +--
 libs/video/renderer/gl/gl_mod_alias.c |    1 -
 libs/video/renderer/gl/gl_rmain.c     |   11 +++--------
 libs/video/renderer/gl/gl_rmisc.c     |   10 ----------
 libs/video/renderer/gl/gl_screen.c    |    9 +++------
 libs/video/targets/vid_common_gl.c    |    8 --------
 9 files changed, 9 insertions(+), 72 deletions(-)

commit ee0de1b
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 23 08:05:03 2009 +0000

    got it right this time

 libs/video/renderer/gl/gl_rmain.c |    5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit c294560
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 23 07:57:07 2009 +0000

    oops

 libs/video/renderer/gl/gl_rmain.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 8ddfdf0
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 23 07:53:05 2009 +0000

    with the changes in size handling, viewport setup becomes much simpler

 libs/video/renderer/gl/gl_rmain.c |   20 ++------------------
 1 file changed, 2 insertions(+), 18 deletions(-)

commit f2004ab
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 23 07:00:42 2009 +0000

    nuke scr_width and scr_height

 include/QF/vid.h                   |    1 -
 libs/video/targets/context_x11.c   |   19 ++++++++++---------
 libs/video/targets/vid.c           |    7 +++----
 libs/video/targets/vid_3dfxsvga.c  |    4 ++--
 libs/video/targets/vid_common_gl.c |    4 ++--
 libs/video/targets/vid_fbdev.c     |    4 ++--
 libs/video/targets/vid_glx.c       |    6 +++---
 libs/video/targets/vid_sgl.c       |    4 ++--
 8 files changed, 24 insertions(+), 25 deletions(-)

commit a2fa2d4
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 23 06:29:11 2009 +0000

    fix viewsize interaction with the cleaned up screen size handling

 include/gl_draw.h                  |    1 +
 libs/video/renderer/gl/gl_draw.c   |   23 +++++++++++++++--------
 libs/video/renderer/gl/gl_screen.c |    2 ++
 3 files changed, 18 insertions(+), 8 deletions(-)

commit e0cfe79
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 23 06:28:11 2009 +0000

    fix a bogus range check. this could have caused an infinite loop

 libs/video/renderer/r_cvar.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 97f54e2
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 23 02:08:49 2009 +0000

    fix the broken sdl/sdl32 hud

 libs/console/client.c          |    4 ++--
 libs/video/targets/vid_sdl.c   |    3 ++-
 libs/video/targets/vid_sdl32.c |    3 ++-
 3 files changed, 6 insertions(+), 4 deletions(-)

commit 018a0b3
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 23 01:26:14 2009 +0000

    fix the missing crosshair

 libs/video/renderer/gl/gl_draw.c |    4 ++--
 libs/video/renderer/sw/draw.c    |    4 ++--
 libs/video/renderer/sw32/draw.c  |    4 ++--
 3 files changed, 6 insertions(+), 6 deletions(-)

commit 28601c8
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Dec 22 13:12:03 2009 +0000

    more screen size cleanup

 libs/video/renderer/gl/gl_draw.c     |    8 ++++----
 libs/video/renderer/sw/draw.c        |   18 +++++++++---------
 libs/video/renderer/sw32/draw.c      |   26 +++++++++++++-------------
 libs/video/targets/vid_3dfxsvga.c    |    4 ----
 libs/video/targets/vid_common_sw.c   |    4 ++++
 libs/video/targets/vid_common_sw32.c |    4 ++++
 libs/video/targets/vid_glx.c         |    4 ----
 libs/video/targets/vid_sdl.c         |    4 ++--
 libs/video/targets/vid_sdl32.c       |    4 ++--
 libs/video/targets/vid_sgl.c         |   14 --------------
 libs/video/targets/vid_svgalib.c     |    2 --
 libs/video/targets/vid_x11.c         |    2 --
 12 files changed, 38 insertions(+), 56 deletions(-)

commit 0647a15
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Dec 22 12:28:55 2009 +0000

    Apply witukind's XDG support patch

 configure.ac                          |   38 +++++++++++++++++++++++++++++++--
 nq/source/Makefile.am                 |    6 ++++++
 nq/source/quakeforge-nq-glx.desktop   |   18 ++++++++++++++++
 nq/source/quakeforge-nq-sdl.desktop   |   18 ++++++++++++++++
 nq/source/quakeforge-nq-sdl32.desktop |   18 ++++++++++++++++
 nq/source/quakeforge-nq-sgl.desktop   |   18 ++++++++++++++++
 nq/source/quakeforge-nq-x11.desktop   |   18 ++++++++++++++++
 qw/source/Makefile.am                 |    6 ++++++
 qw/source/quakeforge-qw-glx.desktop   |   18 ++++++++++++++++
 qw/source/quakeforge-qw-sdl.desktop   |   18 ++++++++++++++++
 qw/source/quakeforge-qw-sdl32.desktop |   18 ++++++++++++++++
 qw/source/quakeforge-qw-sgl.desktop   |   18 ++++++++++++++++
 qw/source/quakeforge-qw-x11.desktop   |   18 ++++++++++++++++
 13 files changed, 228 insertions(+), 2 deletions(-)

commit 5d15c70
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Dec 22 06:02:53 2009 +0000

    progress in cleaning up the screen size mess

 libs/console/client.c             |   10 +++++-----
 libs/video/targets/vid.c          |    2 ++
 libs/video/targets/vid_3dfxsvga.c |   13 -------------
 libs/video/targets/vid_fbdev.c    |    3 ---
 libs/video/targets/vid_glx.c      |    6 ------
 libs/video/targets/vid_sdl.c      |    1 -
 libs/video/targets/vid_sdl32.c    |    1 -
 libs/video/targets/vid_sgl.c      |    1 -
 libs/video/targets/vid_svgalib.c  |    1 -
 libs/video/targets/vid_x11.c      |    2 --
 nq/source/sbar.c                  |   14 +++++++-------
 qw/source/cl_ngraph.c             |   12 ++++++------
 qw/source/sbar.c                  |    8 ++++----
 13 files changed, 24 insertions(+), 50 deletions(-)

commit 4a7b8f8
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Dec 21 14:07:43 2009 +0000

    don't look up aux function info when we don't have it

 libs/gamecode/engine/pr_debug.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c9484af
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Dec 21 14:03:33 2009 +0000

    don't seg when extracting conchars (it's not really a miptex)

 tools/wad/wad.c |   17 +++++++++++++++++
 1 file changed, 17 insertions(+)

commit 52b2631
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Dec 21 12:36:12 2009 +0000

    sanitize con_width and con_height handling. con_height cvar was being ignored.

 libs/video/targets/vid.c     |    8 +++++---
 libs/video/targets/vid_glx.c |    6 ------
 2 files changed, 5 insertions(+), 9 deletions(-)

commit b6a4fc1
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Dec 21 10:10:45 2009 +0000

    fix the glaring error of the sw renderer's aspect ratio. still not quite right for non-4:3 screens, but it's better.

 libs/video/renderer/sw/sw_rmain.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 236e89e
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Dec 21 06:03:19 2009 +0000

    newest x11 seems to not define X_XF86VidModeGetGamma. thanks to witukind

 libs/video/targets/context_x11.c |    2 --
 1 file changed, 2 deletions(-)

commit dcf5932
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Dec 21 05:53:00 2009 +0000

    fix for new bison (must be explicit with the type of $$ in mid-rule actions)

 tools/qfcc/source/qc-parse.y |   52 ++++++++++++++++++++++++++++--------------
 1 file changed, 35 insertions(+), 17 deletions(-)

commit c8b7622
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Dec 20 12:19:16 2009 +0000

    reduce the amount of memory wasted when generating the output file

 tools/qfcc/source/obj_file.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit c542138
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Dec 20 11:54:19 2009 +0000

    more not-really initialized data

 tools/qfcc/source/obj_file.c |    2 +-
 tools/qfcc/source/qfcc.c     |   10 ++++++++--
 2 files changed, 9 insertions(+), 3 deletions(-)

commit 1dc4683
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Dec 20 11:09:58 2009 +0000

    ensure all instructions are fully initialized.

 tools/qfcc/source/emit.c |    1 +
 1 file changed, 1 insertion(+)

commit bf61415
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Dec 20 07:28:03 2009 +0000

    properly expand $libdir so qfcc can find the libs

 configure.ac |    8 +++++---
 1 file changed, 5 insertions(+), 3 deletions(-)

commit 6858a5f
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Dec 20 06:05:51 2009 +0000

    clean out the old zlib hack. seems to be not necessary any more

 configure.ac |   31 +------------------------------
 1 file changed, 1 insertion(+), 30 deletions(-)

commit 36a9ccb
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Dec 20 05:59:22 2009 +0000

    memcpy->memmove pointed out by Philippe Troin

 libs/net/nm/net_loop.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 8166af6
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Dec 20 05:58:16 2009 +0000

    oss patch from Philippe Troin

 libs/audio/targets/snd_oss.c |   89 +++++++++++++++++++-----------------------
 1 file changed, 41 insertions(+), 48 deletions(-)

commit 61366f0
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Dec 20 05:41:08 2009 +0000

    fbdev patch from Philippe Troin

 libs/video/targets/vid_fbdev.c |   15 ++++++++++++---
 1 file changed, 12 insertions(+), 3 deletions(-)

commit 4ff2cb8
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Dec 20 05:34:41 2009 +0000

    bigscreen patch from Philippe Troin

 include/d_ifacea.h                    |    2 +-
 include/r_shared.h                    |    4 ++--
 libs/video/renderer/sw/d_scan.c       |    4 ++--
 libs/video/renderer/sw32/d_scan.c     |   12 ++++++------
 libs/video/renderer/sw32/sw32_rmain.c |    2 +-
 nq/source/host.c                      |    2 +-
 6 files changed, 13 insertions(+), 13 deletions(-)

commit 2e0b507
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Dec 20 04:17:24 2009 +0000

    update

 NEWS |   36 ++++++++++++++++++++++++++++++++++++
 1 file changed, 36 insertions(+)

commit b14fccc
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Dec 19 10:54:23 2009 +0000

    get qf compiling with gcc 4.4

 include/QF/wadfile.h             |    2 +-
 include/netchan.h                |   10 +---------
 libs/net/net_chan.c              |   10 ++++++++++
 libs/net/nm/net_dgrm.c           |   40 ++++++++++----------------------------
 libs/net/nm/net_udp.c            |   12 ++++++++----
 libs/video/renderer/gl/gl_draw.c |    6 ++++--
 nq/source/sbar.c                 |    2 +-
 nq/source/sv_phys.c              |    2 ++
 qw/source/sbar.c                 |    2 +-
 qw/source/sv_main.c              |    5 ++++-
 qw/source/sv_phys.c              |    4 +++-
 tools/qfmodelgen/source/lbmlib.c |    6 +++---
 12 files changed, 48 insertions(+), 53 deletions(-)

commit 51932ee
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Dec 19 04:45:01 2009 +0000

    --enable-boxclip configure option and some more tweaks, I guess (been too long)

 configure.ac           |   11 ++
 libs/models/testclip.c |   31 +++-
 libs/models/trace.c    |  459 ++++++++++++++++++++----------------------------
 3 files changed, 232 insertions(+), 269 deletions(-)

commit 5df7fe5
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Apr 10 23:59:48 2009 +0000

    printf bogosity fixes from Dabb

 libs/net/nm/net_dgrm.c |    2 +-
 nq/source/sv_main.c    |    2 +-
 qw/source/sv_pr_cmds.c |    2 +-
 3 files changed, 3 insertions(+), 3 deletions(-)

commit a26cd68
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Mar 22 00:31:44 2009 +0000

    more tests, more progress. just need to fix a regression that popped up while fixing the new test (18)

 libs/models/testclip.c |   63 +++++++++++++++++++++++++++++++++++++++++++
 libs/models/trace.c    |   70 ++++++++++++++++++++++++++++++++++++------------
 2 files changed, 116 insertions(+), 17 deletions(-)

commit dd27143
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Mar 20 15:01:18 2009 +0000

    finally got the failing test I wanted

 libs/models/testclip.c |    8 ++++++--
 1 file changed, 6 insertions(+), 2 deletions(-)

commit 21c12ad
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Mar 20 11:57:36 2009 +0000

    damn, it failing was because I was using the wrong hull. now, why does the engine fail here?

 libs/models/testclip.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 7dae886
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Mar 20 11:55:47 2009 +0000

    label "expect" and "got" lines

 libs/models/testclip.c |    6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit 1f1375f
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Mar 20 11:51:59 2009 +0000

    add another (currently failing) testcase

 libs/models/testclip.c |    3 +++
 1 file changed, 3 insertions(+)

commit 384ad30
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Mar 20 11:38:04 2009 +0000

    correct the last 4 edges. all existing testcases now pass.

 libs/models/trace.c |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit fea4189
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Mar 20 11:20:59 2009 +0000

    complete rewrite of validate_solid. also, put the trace points on the other side of the split plane. Just one more set of related tests to fix.

 libs/models/testclip.c |   54 ++++++++++++------
 libs/models/trace.c    |  142 ++++++++++++++++++++++++++++++++++++------------
 2 files changed, 143 insertions(+), 53 deletions(-)

commit 0ff4165
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Mar 20 03:40:30 2009 +0000

    why didn't I do this earlier?

 libs/models/testclip.c |    1 +
 libs/models/trace.c    |    2 +-
 2 files changed, 2 insertions(+), 1 deletion(-)

commit f59f2dc
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Mar 20 03:33:03 2009 +0000

    some more progress with box clipping and much a saner test harness

 libs/models/Makefile.am |    2 +-
 libs/models/testclip.c  |  257 ++++++++++++++++++++++++++++++++---------------
 libs/models/trace.c     |  148 ++++++++++++++++++++-------
 3 files changed, 288 insertions(+), 119 deletions(-)

commit e992eda
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Mar 19 04:56:44 2009 +0000

    that fixed the test case (why isn't sgn a standard function? :P)

 libs/models/trace.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 3be88c3
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Mar 19 03:16:24 2009 +0000

    still disabled since it's still broken, but progress has been made. Fortunately, some of the breakage shows up as a regression in the testcases.

 libs/models/testclip.c |  118 +++++++++++++++++++++++++++++++++++++++---------
 libs/models/trace.c    |   89 ++++++++++++++++++++++++++++--------
 2 files changed, 167 insertions(+), 40 deletions(-)

commit e2355aa
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Mar 18 03:28:34 2009 +0000

    add --extract-hull which produces C structures for the clipping hull (currently only hull 0)

 tools/qfbsp/include/bsp5.h    |    1 +
 tools/qfbsp/include/options.h |    1 +
 tools/qfbsp/source/options.c  |    5 ++++
 tools/qfbsp/source/qfbsp.c    |    2 ++
 tools/qfbsp/source/readbsp.c  |   53 +++++++++++++++++++++++++++++++++++++++++
 5 files changed, 62 insertions(+)

commit 0b1cc3d
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Mar 18 00:26:34 2009 +0000

    Support Japanese keyoards (yay, I can finally toggle the console :P)

 include/QF/keys.h           |   22 +++++++++++++++
 libs/video/targets/in_x11.c |   64 +++++++++++++++++++++++++++++++++++++++++++
 libs/video/targets/keys.c   |   21 ++++++++++++++
 3 files changed, 107 insertions(+)

commit 59c0776
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Mar 16 11:49:52 2009 +0000

    Fix the annoying "Unknown interpreter 'id'" error. It was both bogus and a symptom of other problems (also fixed).

 include/QF/console.h   |    1 -
 libs/console/client.c  |    7 +++++--
 libs/console/console.c |   40 +++++++++++++++++++---------------------
 nq/source/host.c       |    1 -
 qw/source/cl_main.c    |    1 -
 5 files changed, 24 insertions(+), 26 deletions(-)

commit 0af43cf
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 8 07:48:08 2009 +0000

    make the resampling state a little more self-contained. this should make

 include/snd_render.h               |   16 +++--
 libs/audio/renderer/flac.c         |    4 +-
 libs/audio/renderer/snd_mem.c      |   23 ++-----
 libs/audio/renderer/snd_resample.c |  134 +++++++++++++++++++++++-------------
 libs/audio/renderer/snd_sfx.c      |   20 ++++--
 libs/audio/renderer/vorbis.c       |    4 +-
 libs/audio/renderer/wav.c          |    4 +-
 7 files changed, 126 insertions(+), 79 deletions(-)

commit bfee029
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 1 22:55:10 2008 +0000

    set current_func while building the init function to avoid issues with code expecting current_func to be set.

 tools/qfcc/source/class.c |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 9ac1543
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 1 13:54:24 2008 +0000

    More docs.
    
    Enhance qfprogs qfo debugging.
    
    Make sure functions marked as extern don't emit anything. Fixes the segfault
    when building klik.

 include/QF/progs.h            |    2 +-
 tools/qfcc/include/function.h |    1 +
 tools/qfcc/include/obj_file.h |   60 ++++++++++++++++++++++++++++++++++++++---
 tools/qfcc/include/qfprogs.h  |    1 +
 tools/qfcc/include/reloc.h    |   46 +++++++++++++++++++------------
 tools/qfcc/source/emit.c      |    3 ++-
 tools/qfcc/source/function.c  |   14 ++++++----
 tools/qfcc/source/globals.c   |   47 +++++++++++++++++++++++---------
 tools/qfcc/source/linker.c    |   19 ++++++++++---
 tools/qfcc/source/obj_file.c  |   36 ++++++++++++-------------
 tools/qfcc/source/qc-parse.y  |   15 +++++++----
 tools/qfcc/source/qfprogs.c   |    2 +-
 12 files changed, 178 insertions(+), 68 deletions(-)

commit d52df3a
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 1 00:48:18 2008 +0000

    missed this when fixing things for Hikaru

 libs/net/nm/net_vcr.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 23e3fc0
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 1 00:47:38 2008 +0000

    document most of obj_file.h (and a few other doc tweaks)

 include/QF/progs.h            |    2 +-
 tools/qfcc/include/def.h      |   60 +++----
 tools/qfcc/include/obj_file.h |  374 ++++++++++++++++++++++++++++++++++++-----
 tools/qfcc/include/qfcc.h     |   15 +-
 4 files changed, 375 insertions(+), 76 deletions(-)

commit 22caa5b
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jul 28 01:31:20 2008 +0000

    and some more

 libs/net/nm/net_vcr.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit ba6e3c6
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jul 28 01:26:56 2008 +0000

    hopefully fix type punning for gcc 4.2

 libs/net/nm/net_vcr.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit fe95805
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jul 19 05:40:57 2008 +0000

    various gcc 4.3 fixes

 libs/gamecode/engine/pr_strings.c     |    2 +-
 libs/net/nm/net_vcr.c                 |   13 +++++++++----
 libs/video/renderer/gl/gl_lightmap.c  |    4 ++--
 libs/video/renderer/gl/gl_mod_alias.c |    4 ++--
 libs/video/renderer/gl/gl_skin.c      |    4 ++--
 libs/video/targets/fbset_modes_l.l    |    3 ++-
 libs/video/targets/vid_fbdev.c        |    6 +++++-
 tools/bsp2img/bsp2img.c               |    3 ++-
 tools/qfbsp/source/map.c              |    2 +-
 tools/qfbsp/source/region.c           |    4 ++--
 tools/qfcc/source/expr.c              |    2 +-
 tools/qfcc/source/qc-lex.l            |    5 +++--
 tools/qfmodelgen/source/trilib.c      |    8 ++++----
 13 files changed, 36 insertions(+), 24 deletions(-)

commit d4b8097
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jul 19 04:25:38 2008 +0000

    patch from shortcircuit to make bootstrap report all missing tools in the one run.

 bootstrap |   30 +++++++++++++-----------------
 1 file changed, 13 insertions(+), 17 deletions(-)

commit 470bccc
Author: Timothy C. McGrath <tmhikaru@gmail.com>
Date:   Sun Dec 16 15:43:21 2007 +0000

    Make the help output less darn confusing for werror.

 configure.ac |    5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit e3b47c9
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Nov 25 04:44:53 2007 +0000

    This should make stdint stuff work better in general (can't test properly due to my mingw setup being borked)

 include/pstdint.h                      |  682 ++++++++++++++++++++++++++++++++
 include/win32/stdint.h                 |   19 +-
 libs/video/renderer/sw/d_fill.c        |    4 -
 libs/video/renderer/sw/d_polyse.c      |    4 -
 libs/video/renderer/sw/d_scan.c        |    4 -
 libs/video/renderer/sw/sw_ralias.c     |    4 -
 libs/video/renderer/sw/sw_rdraw.c      |    4 -
 libs/video/renderer/sw/sw_redge.c      |    4 -
 libs/video/renderer/sw/sw_rmain.c      |    3 -
 libs/video/renderer/sw32/d_edge.c      |    4 -
 libs/video/renderer/sw32/d_polyse.c    |    4 -
 libs/video/renderer/sw32/d_scan.c      |    4 -
 libs/video/renderer/sw32/sw32_ralias.c |    4 -
 libs/video/renderer/sw32/sw32_rdraw.c  |    4 -
 libs/video/renderer/sw32/sw32_redge.c  |    4 -
 libs/video/renderer/sw32/sw32_rmain.c  |    3 -
 qw/source/sv_recorder.c                |    1 -
 17 files changed, 683 insertions(+), 73 deletions(-)

commit 1a307e3
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Nov 7 08:19:17 2007 +0000

    Con_Printf actually has a use after all: it prints to the console /only/ (no redirects, etc)

 include/QF/console.h   |    1 +
 libs/console/console.c |   13 +++++++++++++
 qw/source/sv_send.c    |    3 ++-
 3 files changed, 16 insertions(+), 1 deletion(-)

commit 2b81eae
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 6 12:40:38 2007 +0000

    console.h include cleanup

 include/winquake.h                   |    1 -
 libs/gamecode/builtins/Makefile.am   |    2 +-
 libs/models/sprite/gl_model_sprite.c |    1 -
 libs/net/nc/net_udp.c                |    1 -
 libs/net/nc/net_udp6.c               |    1 -
 libs/net/net_chan.c                  |    1 -
 libs/net/net_main.c                  |    1 -
 libs/net/nm/net_dgrm.c               |    1 -
 libs/net/nm/net_loop.c               |    1 -
 libs/net/nm/net_udp.c                |    1 -
 libs/net/nm/net_wins.c               |    1 -
 libs/video/renderer/r_efrag.c        |    1 -
 libs/video/renderer/r_ent.c          |    1 -
 libs/video/renderer/r_part.c         |    1 -
 libs/video/targets/in_sdl.c          |    1 -
 libs/video/targets/joy_null.c        |    1 -
 libs/video/targets/vid_3dfxsvga.c    |    1 +
 libs/video/targets/vid_svgalib.c     |    1 +
 libs/video/targets/vid_wgl.c         |    1 +
 19 files changed, 4 insertions(+), 16 deletions(-)

commit 6d6dc27
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 6 10:39:49 2007 +0000

    make startup and shutdown a little quieter

 libs/video/renderer/gl/gl_draw.c       |    4 +-
 libs/video/renderer/gl/gl_dyn_part.c   |   10 ++---
 libs/video/renderer/gl/gl_mod_alias.c  |    8 ++--
 libs/video/renderer/gl/gl_mod_sprite.c |    4 +-
 libs/video/renderer/gl/gl_rmain.c      |    6 +--
 libs/video/renderer/gl/gl_rmisc.c      |    2 +-
 libs/video/renderer/gl/gl_screen.c     |    6 +--
 libs/video/renderer/gl/gl_skin.c       |    4 +-
 libs/video/targets/dga_check.c         |    8 ++--
 libs/video/targets/in_common.c         |    2 +-
 libs/video/targets/in_svgalib.c        |   10 ++---
 libs/video/targets/in_x11.c            |    2 +-
 libs/video/targets/joy.c               |    6 +--
 libs/video/targets/joy_linux.c         |    4 +-
 libs/video/targets/keys.c              |    4 +-
 libs/video/targets/vid_3dfxsvga.c      |   10 ++---
 libs/video/targets/vid_common_gl.c     |   68 ++++++++++++++++----------------
 libs/video/targets/vid_fbdev.c         |    4 +-
 libs/video/targets/vid_glx.c           |    4 +-
 libs/video/targets/vid_sgl.c           |    2 +-
 20 files changed, 84 insertions(+), 84 deletions(-)

commit d669349
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 6 10:17:14 2007 +0000

    nuke Con_Printf and Con_DPrintf and use Sys_* instead

 hw/source/master.c                      |   54 ++++++------
 include/QF/console.h                    |    2 -
 libs/console/client.c                   |   14 ++--
 libs/console/complete.c                 |   13 +--
 libs/console/console.c                  |   31 +------
 libs/console/list.c                     |    3 +-
 libs/console/menu.c                     |    6 +-
 libs/console/server.c                   |    4 +-
 libs/models/alias/gl_model_alias.c      |    3 +-
 libs/models/brush/gl_model_brush.c      |    4 +-
 libs/models/trace.c                     |    4 +-
 libs/net/nc/net_udp.c                   |   18 ++--
 libs/net/nc/net_udp6.c                  |   20 ++---
 libs/net/net_chan.c                     |   10 +--
 libs/net/net_main.c                     |   42 +++++-----
 libs/net/nm/net_dgrm.c                  |   64 +++++++-------
 libs/net/nm/net_loop.c                  |    4 +-
 libs/net/nm/net_udp.c                   |    6 +-
 libs/net/nm/net_wins.c                  |   14 ++--
 libs/qw/msg_backbuf.c                   |   10 +--
 libs/util/cmd.c                         |    2 +-
 libs/util/quakefs.c                     |    4 +-
 libs/video/renderer/gl/gl_draw.c        |    5 +-
 libs/video/renderer/gl/gl_dyn_part.c    |   15 ++--
 libs/video/renderer/gl/gl_lightmap.c    |    3 +-
 libs/video/renderer/gl/gl_mod_alias.c   |    7 +-
 libs/video/renderer/gl/gl_mod_sprite.c  |    6 +-
 libs/video/renderer/gl/gl_rmain.c       |    7 +-
 libs/video/renderer/gl/gl_rmisc.c       |    5 +-
 libs/video/renderer/gl/gl_screen.c      |    7 +-
 libs/video/renderer/gl/gl_skin.c        |    4 +-
 libs/video/renderer/gl/gl_sky.c         |    8 +-
 libs/video/renderer/gl/gl_textures.c    |   13 ++-
 libs/video/renderer/r_progs.c           |    4 +-
 libs/video/renderer/r_screen.c          |    3 +-
 libs/video/renderer/sw/draw.c           |    3 +-
 libs/video/renderer/sw/screen.c         |    5 +-
 libs/video/renderer/sw/sw_ralias.c      |    7 +-
 libs/video/renderer/sw/sw_rbsp.c        |    5 +-
 libs/video/renderer/sw/sw_rmain.c       |    5 +-
 libs/video/renderer/sw/sw_rmisc.c       |   15 ++--
 libs/video/renderer/sw/sw_rpart.c       |   12 +--
 libs/video/renderer/sw/sw_rsprite.c     |    3 +-
 libs/video/renderer/sw32/draw.c         |    3 +-
 libs/video/renderer/sw32/screen.c       |    9 +-
 libs/video/renderer/sw32/sw32_ralias.c  |    7 +-
 libs/video/renderer/sw32/sw32_rbsp.c    |    5 +-
 libs/video/renderer/sw32/sw32_rmain.c   |    5 +-
 libs/video/renderer/sw32/sw32_rmisc.c   |   15 ++--
 libs/video/renderer/sw32/sw32_rpart.c   |   12 +--
 libs/video/renderer/sw32/sw32_rsprite.c |    3 +-
 libs/video/targets/context_sdl.c        |    4 +-
 libs/video/targets/context_x11.c        |    9 +-
 libs/video/targets/dga_check.c          |   10 +--
 libs/video/targets/in_common.c          |    4 +-
 libs/video/targets/in_svgalib.c         |    7 +-
 libs/video/targets/in_win.c             |   19 ++---
 libs/video/targets/in_x11.c             |    5 +-
 libs/video/targets/joy.c                |    8 +-
 libs/video/targets/joy_linux.c          |    6 +-
 libs/video/targets/joy_win.c            |   26 +++---
 libs/video/targets/keys.c               |   34 ++++----
 libs/video/targets/old_keys.c           |    4 +-
 libs/video/targets/qfgl_ext.c           |   11 ++-
 libs/video/targets/vid.c                |    5 +-
 libs/video/targets/vid_3dfxsvga.c       |   11 ++-
 libs/video/targets/vid_common_gl.c      |   61 +++++++-------
 libs/video/targets/vid_fbdev.c          |    2 +-
 libs/video/targets/vid_glx.c            |    4 +-
 libs/video/targets/vid_sgl.c            |    2 +-
 libs/video/targets/vid_svgalib.c        |    7 +-
 libs/video/targets/vid_wgl.c            |    3 +-
 libs/video/targets/vid_x11.c            |   28 +++----
 nq/source/cl_cmd.c                      |    4 +-
 nq/source/cl_demo.c                     |   29 ++++---
 nq/source/cl_input.c                    |    6 +-
 nq/source/cl_main.c                     |   19 +++--
 nq/source/cl_parse.c                    |   26 +++---
 nq/source/cl_tent.c                     |    3 +-
 nq/source/com.c                         |    4 +-
 nq/source/host.c                        |   24 +++---
 nq/source/host_cmd.c                    |   76 ++++++++---------
 nq/source/host_skin.c                   |    7 +-
 nq/source/skin.c                        |    5 +-
 nq/source/sv_cl_phys.c                  |    9 +-
 nq/source/sv_ded.c                      |    5 +-
 nq/source/sv_main.c                     |   13 ++-
 nq/source/sv_phys.c                     |    7 +-
 nq/source/sv_pr_cmds.c                  |   11 ++-
 nq/source/sv_progs.c                    |    8 +-
 nq/source/sv_user.c                     |    9 +-
 nq/source/sys_unix.c                    |    3 +-
 qtv/source/client.c                     |    4 +-
 qtv/source/qtv.c                        |   10 +--
 qw/source/cl_cam.c                      |    5 +-
 qw/source/cl_cmd.c                      |    6 +-
 qw/source/cl_demo.c                     |   49 ++++++-----
 qw/source/cl_ents.c                     |   20 ++---
 qw/source/cl_http.c                     |    6 +-
 qw/source/cl_input.c                    |    4 +-
 qw/source/cl_main.c                     |  138 +++++++++++++++----------------
 qw/source/cl_parse.c                    |   85 +++++++++----------
 qw/source/cl_screen.c                   |    7 +-
 qw/source/cl_skin.c                     |   12 +--
 qw/source/cl_slist.c                    |   35 ++++----
 qw/source/cl_sys_win.c                  |    3 +-
 qw/source/com.c                         |    3 +-
 qw/source/crudefile.c                   |    7 +-
 qw/source/game.c                        |    8 +-
 qw/source/locs.c                        |   17 ++--
 qw/source/net_packetlog.c               |    7 +-
 qw/source/pmove.c                       |    8 +-
 qw/source/skin.c                        |    5 +-
 qw/source/sv_ccmds.c                    |    2 +-
 qw/source/sv_demo.c                     |   12 +--
 qw/source/sv_init.c                     |    4 +-
 qw/source/sv_main.c                     |    6 +-
 qw/source/sv_phys.c                     |    7 +-
 qw/source/sv_pr_cmds.c                  |    2 +-
 qw/source/sv_pr_cpqw.c                  |    2 +-
 qw/source/sv_pr_qwe.c                   |    2 +-
 qw/source/sv_progs.c                    |    2 +-
 qw/source/sv_qtv.c                      |    3 +-
 qw/source/sv_recorder.c                 |    3 +-
 qw/source/sv_send.c                     |    3 +-
 qw/source/sv_user.c                     |    6 +-
 qw/source/teamplay.c                    |   23 +++---
 127 files changed, 756 insertions(+), 831 deletions(-)

commit 2968942
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Nov 5 22:33:49 2007 +0000

    unlimited beams and explosions, and fix a few bugs missed due to testing the wrong version :P

 qw/source/cl_tent.c |  201 ++++++++++++++++++++++++++++-----------------------
 1 file changed, 109 insertions(+), 92 deletions(-)

commit 2211f6f
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Mon Nov 5 11:32:15 2007 +0000

    Codingstyle cleanup.

 libs/gib/gib_builtin.c |   41 +++++++++++++++++++----------------------
 1 file changed, 19 insertions(+), 22 deletions(-)

commit 87248b9
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Nov 5 11:25:38 2007 +0000

    beams can now be any length, and first step to unlimited beams and explosions

 qw/source/cl_tent.c |  133 ++++++++++++++++++++++++++++++++++-----------------
 1 file changed, 89 insertions(+), 44 deletions(-)

commit c04d9ef
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Oct 13 11:32:10 2007 +0000

    plug a potential (though unlikely) memory leak

 libs/gamecode/engine/pr_parse.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 5c73d81
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Oct 13 07:55:58 2007 +0000

    Python style long strings ("""...""") now supported for parsing. Any such strings will be written out as standard strings with escaped quotes when writing the plist.

 include/QF/qfplist.h |    6 ++++--
 libs/util/qfplist.c  |   14 +++++++++++++-
 2 files changed, 17 insertions(+), 3 deletions(-)

commit 5294a97
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Oct 13 07:14:47 2007 +0000

    make sure the \ gets written for all escapes, not just octals

 libs/util/qfplist.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 3b906fa
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Oct 9 10:29:40 2007 +0000

    must remember to nuke MAX_STATIC_ENTITIES

 TODO                 |    1 +
 qw/source/cl_parse.c |    2 +-
 2 files changed, 2 insertions(+), 1 deletion(-)

commit 7c4a072
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Oct 8 09:50:02 2007 +0000

    clean out unused functions

 tools/qfbsp/include/bsp5.h    |    4 +---
 tools/qfbsp/include/map.h     |    1 -
 tools/qfbsp/include/options.h |    1 -
 tools/qfbsp/source/map.c      |    9 ---------
 tools/qfbsp/source/options.c  |    2 +-
 tools/qfbsp/source/qfbsp.c    |    5 -----
 tools/qfbsp/source/surfaces.c |   26 --------------------------
 7 files changed, 2 insertions(+), 46 deletions(-)

commit e9340b0
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Oct 6 03:53:02 2007 +0000

    there, now I have at least some clue :)

 doc/mapformat.txt |   42 ++++++++++++++++++++++++++++++++----------
 1 file changed, 32 insertions(+), 10 deletions(-)

commit dd90267
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Oct 6 03:19:21 2007 +0000

    initial docs for the map files because I never did quite understand the texture information. (still don't, but once I doc it, it won't matter if I forget it:)

 doc/cliptest.map      |  260 +++++++++++++++++++++++++++++++++++++++++++++++++
 doc/mapformat.txt     |   64 ++++++++++++
 doc/quakeforge.dox.in |    1 +
 3 files changed, 325 insertions(+)

commit e15fae2
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Sep 29 23:28:41 2007 +0000

    well, it finally seems to work, but q1 maps (especially start's ramp to e3) are not such that they're particulary playable due to being designed for point clipping. so still disabled until something can be sorted out.

 libs/models/testclip.c |   22 +++++-
 libs/models/trace.c    |  201 ++++++++++++++++++++++++++++++------------------
 2 files changed, 145 insertions(+), 78 deletions(-)

commit 0ee9e1c
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 23 08:33:26 2007 +0000

    more accurate expects and don't recurse for non-crossings

 libs/models/testclip.c |   14 +++++++-------
 libs/models/trace.c    |   32 ++++++++++++++++----------------
 2 files changed, 23 insertions(+), 23 deletions(-)

commit 3d79256
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 23 05:41:17 2007 +0000

    closer still. have problems with allsolid traces and flags in general

 libs/models/trace.c |  100 +++++++--------------------------------------------
 1 file changed, 13 insertions(+), 87 deletions(-)

commit 973a30b
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 23 05:40:08 2007 +0000

    show inwater as well (though irrelevant for test map)

 libs/models/testclip.c |   18 +++++++++---------
 1 file changed, 9 insertions(+), 9 deletions(-)

commit 9f70186
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 23 04:07:39 2007 +0000

    a little easier to see what's expected

 libs/models/testclip.c |   29 +++++++++++++++++------------
 1 file changed, 17 insertions(+), 12 deletions(-)

commit 0234b7e
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 23 03:48:05 2007 +0000

    nice little test of box clipping. doesn't get installed :)

 libs/models/Makefile.am |    6 +++
 libs/models/testclip.c  |  116 +++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 122 insertions(+)

commit f7faad1
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Sep 21 14:04:30 2007 +0000

    didn't quite get that checkin right

 libs/models/trace.c |    6 ++----
 1 file changed, 2 insertions(+), 4 deletions(-)

commit 36f5edb
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Sep 21 13:58:07 2007 +0000

    still disabled, but it's mostly working now. serves me right for blindly following the q2 code :P (it be buggy)

 libs/models/trace.c |    8 +++++---
 1 file changed, 5 insertions(+), 3 deletions(-)

commit 19f0d23
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Sep 21 12:44:19 2007 +0000

    it's disabled, but my box clipping is getting close

 libs/models/trace.c |  152 +++++++++++++++++++++++++++++++++++++++++++++++----
 1 file changed, 142 insertions(+), 10 deletions(-)

commit 7ceea13
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Sep 21 10:43:27 2007 +0000

    fix an overflow bug

 libs/util/dstring.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit e38bf6d
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Sep 21 09:01:21 2007 +0000

    fix a signed/unsigned comparison warning

 libs/video/targets/in_x11.c |    5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 37ad41e
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Sep 17 11:24:42 2007 +0000

    MOD_TraceLine doesn't need to return anything...

 include/world.h     |    4 ++--
 libs/models/trace.c |   10 +++++-----
 2 files changed, 7 insertions(+), 7 deletions(-)

commit 2881b4b
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 16 07:55:44 2007 +0000

    make MOD_TraceLine recursive again so I can work on box clipping without losing so much hair

 libs/models/trace.c |   99 +++++++++++++++++++++++++++++++++++++++++++++++----
 nq/source/world.c   |    6 ++--
 2 files changed, 95 insertions(+), 10 deletions(-)

commit ac99aaf
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 16 07:03:12 2007 +0000

    use "#line N file" instead of "# N file" (seems to be more portable)

 tools/qfcc/source/qfcc.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 0177971
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 16 02:03:53 2007 +0000

    spelling error :P

 qw/source/sv_pr_cpqw.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 3f1479c
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 16 01:52:57 2007 +0000

    make UserInfoChanged used in cpqw (should this be global?)

 qw/source/sv_pr_cpqw.c |    1 +
 1 file changed, 1 insertion(+)

commit 7c542dd
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 16 01:21:47 2007 +0000

    make sv_maxvelocity spherical rather than cubical

 qw/source/sv_phys.c |   10 ----------
 1 file changed, 10 deletions(-)

commit acbc955
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Sep 15 10:09:08 2007 +0000

    restart command

 qw/source/sv_ccmds.c |   42 ++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 42 insertions(+)

commit 3431fea
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Sep 15 07:58:39 2007 +0000

    Make sure initialized locals that are treated as constants don't get relocated. Fixes the airfist bug in prozac

 tools/qfcc/source/immediate.c |    1 +
 tools/qfcc/source/qfcc.c      |    2 ++
 2 files changed, 3 insertions(+)

commit 3e50aae
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Sep 15 07:47:31 2007 +0000

    "print" command for dumping values in the progs and add return type info to the debugging information

 include/QF/pr_debug.h            |    4 +-
 include/QF/progs.h               |    1 +
 libs/gamecode/engine/pr_debug.c  |  143 +++++++++++++++++++++++++-------------
 libs/gamecode/engine/pr_opcode.c |    3 +-
 qw/source/sv_pr_cmds.c           |    2 +-
 qw/source/sv_progs.c             |    7 ++
 tools/qfcc/source/lines.c        |    8 +--
 tools/qfcc/source/obj_file.c     |    3 +-
 tools/qfcc/source/qc-parse.y     |    1 +
 9 files changed, 116 insertions(+), 56 deletions(-)

commit 01b71c4
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Sep 15 07:44:31 2007 +0000

    fix some issues when using --advanced with v6only

 tools/qfcc/source/qfcc.c |    4 ++--
 tools/qfcc/source/type.c |   16 ++++++++++------
 2 files changed, 12 insertions(+), 8 deletions(-)

commit d1e2b6b
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Sep 15 04:20:45 2007 +0000

    make the raw particle creation functions available and use them for creating the location marker effect rather than WizSpikeEffect

 include/d_iface.h                     |    8 +++++-
 include/r_dynamic.h                   |    8 ++++++
 libs/video/renderer/gl/gl_dyn_part.c  |   24 +++++++++++++++---
 libs/video/renderer/sw/sw_rpart.c     |   45 +++++++++++++++++++++++++++++++++
 libs/video/renderer/sw32/sw32_rpart.c |   45 +++++++++++++++++++++++++++++++++
 qw/source/cl_ents.c                   |    9 ++++++-
 6 files changed, 133 insertions(+), 6 deletions(-)

commit 755820d
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Sep 15 02:55:16 2007 +0000

    don't segfault when trying to use the loc command without a map loaded

 qw/source/teamplay.c |    6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit e8cce4f
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Sep 15 01:50:29 2007 +0000

    make sv_progs changeable

 nq/source/sv_progs.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 1571f09
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sun Sep 9 14:47:15 2007 +0000

    Const mismatch fix in net_udp6.c, plus whitespace in net_udp.c

 libs/net/nc/net_udp.c  |    3 +--
 libs/net/nc/net_udp6.c |    2 +-
 2 files changed, 2 insertions(+), 3 deletions(-)

commit 9c9f79d
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jul 3 10:30:13 2007 +0000

    provide the ability to control which jack server to connect to

 libs/audio/renderer/snd_jack.c |    7 ++++++-
 1 file changed, 6 insertions(+), 1 deletion(-)

commit 2c10c42
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jun 22 10:27:42 2007 +0000

    don't try to build the console plugins when not building anything that needs them.

 configure.ac |   23 +++++++++++++++++++++--
 1 file changed, 21 insertions(+), 2 deletions(-)

commit ca0bbd9
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jun 9 13:44:06 2007 +0000

    correctly save and restore the parameters when calling +initialize. fixes the segfault in the qwaq test.

 include/QF/progs.h                |   13 +++++++++++++
 libs/gamecode/engine/pr_exec.c    |   33 +++++++++++++++++++++++++++++++++
 libs/gamecode/engine/pr_resolve.c |    4 ++++
 libs/ruamoko/rua_obj.c            |   11 +++++++----
 tools/qwaq/main.c                 |    2 +-
 tools/qwaq/main.qc                |    2 +-
 6 files changed, 59 insertions(+), 6 deletions(-)

commit 4973a38
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jun 9 09:43:21 2007 +0000

    speed up PF_VarString a little

 libs/gamecode/builtins/pr_cmds.c |   14 +++++++++-----
 tools/qwaq/main.c                |    2 ++
 tools/qwaq/main.qc               |    3 ++-
 3 files changed, 13 insertions(+), 6 deletions(-)

commit d93670d
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jun 9 07:48:44 2007 +0000

    cleanup some cruft

 include/snd_render.h               |    9 -----
 libs/audio/renderer/snd_mem.c      |    3 +-
 libs/audio/renderer/snd_resample.c |   65 ------------------------------------
 3 files changed, 1 insertion(+), 76 deletions(-)

commit 1a601ee
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jun 9 06:55:15 2007 +0000

    make the command/cvar searching case sensitive

 libs/util/cmd.c  |   10 +++++-----
 libs/util/cvar.c |   12 ++++++------
 2 files changed, 11 insertions(+), 11 deletions(-)

commit f850815
Author: Timothy C. McGrath <tmhikaru@gmail.com>
Date:   Thu May 31 14:22:54 2007 +0000

    Fix from raorn for broken compiling.

 libs/audio/Makefile.am |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 6cfaa8a
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 31 10:31:21 2007 +0000

    fix a missing dep (fixes parallel make)

 libs/audio/Makefile.am |    1 +
 1 file changed, 1 insertion(+)

commit a024055
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 31 06:31:22 2007 +0000

    opps, that was part of raorn's linker patches

 configure.ac             |    3 +--
 libs/Makefile.am         |    2 +-
 libs/console/Makefile.am |    4 ++--
 3 files changed, 4 insertions(+), 5 deletions(-)

commit c6d7a19
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 31 06:30:46 2007 +0000

    Move all the cd plugins into the audio subdir so things can be built in the correct order (as cd_file depends on libQFsound).

 libs/audio/Makefile.am          |   42 ++-
 libs/audio/cd/Makefile.am       |   38 ---
 libs/audio/cd/cd_file.c         |  519 -------------------------------------
 libs/audio/cd/cd_linux.c        |  496 -----------------------------------
 libs/audio/cd/cd_sdl.c          |  331 ------------------------
 libs/audio/cd/cd_sgi.c          |  406 -----------------------------
 libs/audio/cd/cd_win.c          |  541 ---------------------------------------
 libs/audio/cd/cd_xmms.c         |  536 --------------------------------------
 libs/audio/cd_file.c            |  519 +++++++++++++++++++++++++++++++++++++
 libs/audio/cd_linux.c           |  496 +++++++++++++++++++++++++++++++++++
 libs/audio/cd_sdl.c             |  331 ++++++++++++++++++++++++
 libs/audio/cd_sgi.c             |  406 +++++++++++++++++++++++++++++
 libs/audio/cd_win.c             |  541 +++++++++++++++++++++++++++++++++++++++
 libs/audio/cd_xmms.c            |  536 ++++++++++++++++++++++++++++++++++++++
 libs/audio/renderer/Makefile.am |    4 +-
 libs/audio/targets/Makefile.am  |   10 +-
 16 files changed, 2875 insertions(+), 2877 deletions(-)

commit 425fed1
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 31 06:06:52 2007 +0000

    don't depend on libQFcd

 libs/audio/cd/cd_linux.c |   18 +++++++++---------
 libs/audio/cd/cd_sdl.c   |    6 +++---
 2 files changed, 12 insertions(+), 12 deletions(-)

commit ce2ba56
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 31 05:58:33 2007 +0000

    gcc 4.2 clean

 include/netchan.h                  |    4 ++--
 libs/audio/targets/snd_alsa.c      |    6 ++++--
 libs/gib/gib_builtin.c             |   15 ++++++++-------
 libs/net/nc/net_udp.c              |    2 +-
 qtv/source/server.c                |    2 +-
 qw/source/sbar.c                   |    2 +-
 tools/qfmodelgen/source/modelgen.c |    5 +++--
 7 files changed, 20 insertions(+), 16 deletions(-)

commit e6a5994
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 30 22:06:47 2007 +0000

    patch from raorn for new flac

 libs/audio/renderer/flac.c |   93 ++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 93 insertions(+)

commit 201f01b
Author: Bill Currie <bill@taniwha.org>
Date:   Sat May 26 23:18:46 2007 +0000

    hopefully speed up byte swaps

 include/QF/qendian.h               |   37 ++++++++++++++++++++++++++++++------
 libs/audio/renderer/snd_resample.c |   30 ++++++++++++-----------------
 libs/util/qendian.c                |   12 ++++++------
 tools/qfmodelgen/source/lbmlib.c   |    6 +++---
 4 files changed, 52 insertions(+), 33 deletions(-)

commit 6884f97
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 23 10:45:33 2007 +0000

    allow marcher.bsp to work (initially, anyway)

 libs/video/renderer/gl/gl_rsurf.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 253795c
Author: Bill Currie <bill@taniwha.org>
Date:   Mon May 21 21:40:59 2007 +0000

    better handling of missing sound files. fixes the seg when the cd track isn't available.

 libs/audio/cd/cd_file.c       |   13 ++++++++-----
 libs/audio/renderer/snd_mem.c |    9 ++++++++-
 2 files changed, 16 insertions(+), 6 deletions(-)

commit 1be73a5
Author: Bill Currie <bill@taniwha.org>
Date:   Mon May 21 21:39:59 2007 +0000

    don't seg when non-jack isn't available either :P

 libs/audio/renderer/snd_channels.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit cfb13ea
Author: Bill Currie <bill@taniwha.org>
Date:   Mon May 21 11:20:36 2007 +0000

    behave properly when using jack but jackd isn't there

 libs/audio/renderer/snd_channels.c |    5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit 2becf1d
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 17 10:14:25 2007 +0000

    make sure HAVE_JACK gets defined when it should

 configure.ac |    1 +
 1 file changed, 1 insertion(+)

commit 4d1a927
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 16 21:21:30 2007 +0000

    thought I tested this...

 qw/source/sv_user.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 8911a79
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 16 10:00:19 2007 +0000

    check return code for UserInfoChanged too. 0: normal processing (server sends changes to clients) 1: server doesn't send changes to clients

 qw/source/sv_user.c |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit e477580
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 16 09:48:56 2007 +0000

    more vc patches from phrosty

 vc2005/builtins/builtins.vcproj             |    4 --
 vc2005/console_client/console_client.vcproj |    4 ++
 vc2005/include/config.h                     |    7 ++--
 vc2005/qw-client-wgl/qw-client-wgl.vcproj   |   56 +++++++++++++--------------
 vc2005/sound/sound.vcproj                   |    4 ++
 5 files changed, 40 insertions(+), 35 deletions(-)

commit 866eaa2
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 16 09:23:54 2007 +0000

    don't segfault when there are holes in the texture list

 libs/models/brush/model_brush.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 85c5594
Author: Bill Currie <bill@taniwha.org>
Date:   Tue May 15 10:58:19 2007 +0000

    allow the progs to signal whether they handled the info change or not

 qw/source/sv_user.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 411d651
Author: Bill Currie <bill@taniwha.org>
Date:   Tue May 15 07:51:04 2007 +0000

    make duplicate macros behave the same as qcc in traditional mode (ie, bump the number anyway)

 tools/qfcc/source/qc-lex.l |    2 ++
 1 file changed, 2 insertions(+)

commit fee656e
Author: Bill Currie <bill@taniwha.org>
Date:   Tue May 15 07:36:56 2007 +0000

    warn about (and otherwise ignore) duplicate frame macros

 tools/qfcc/source/qc-lex.l |    5 +++++
 1 file changed, 5 insertions(+)

commit 79fdf8d
Author: Bill Currie <bill@taniwha.org>
Date:   Tue May 15 07:25:47 2007 +0000

    allow .imm symbols to be written in traditional mode

 tools/qfcc/source/qfcc.c |    1 +
 1 file changed, 1 insertion(+)

commit ecaa002
Author: Bill Currie <bill@taniwha.org>
Date:   Mon May 14 11:16:41 2007 +0000

    fix items in walls in hipnotic

 libs/models/trace.c |   11 +++++++++++
 1 file changed, 11 insertions(+)

commit 680bc22
Author: Bill Currie <bill@taniwha.org>
Date:   Sun May 13 09:02:51 2007 +0000

    better error reporting for redefines

 tools/qfcc/source/def.c      |    4 ++++
 tools/qfcc/source/function.c |    3 +--
 2 files changed, 5 insertions(+), 2 deletions(-)

commit a521a78
Author: Bill Currie <bill@taniwha.org>
Date:   Sun May 13 08:39:07 2007 +0000

    catch more uninitialized variables

 tools/qfcc/source/expr.c     |    3 +--
 tools/qfcc/source/qc-parse.y |   14 +++++++++-----
 2 files changed, 10 insertions(+), 7 deletions(-)

commit c81c074
Author: Bill Currie <bill@taniwha.org>
Date:   Sun May 13 08:20:19 2007 +0000

    mark used constants as used

 tools/qfcc/source/expr.c |   20 ++++++++++++--------
 1 file changed, 12 insertions(+), 8 deletions(-)

commit b356f1c
Author: Bill Currie <bill@taniwha.org>
Date:   Sun May 13 07:06:59 2007 +0000

    remove some debug

 tools/qfcc/source/qc-parse.y |    4 ----
 1 file changed, 4 deletions(-)

commit f4d4065
Author: Bill Currie <bill@taniwha.org>
Date:   Sun May 13 06:21:54 2007 +0000

    make initialized locals behave similarly to qcc in traditional mode (note, they're not exactly the same)

 tools/qfcc/source/qc-parse.y |  118 ++++++++++++++++++++++++++----------------
 1 file changed, 72 insertions(+), 46 deletions(-)

commit bffd9f2
Author: Bill Currie <bill@taniwha.org>
Date:   Sun May 13 05:14:32 2007 +0000

    more sounds in menus

 ruamoko/cl_menu/client_menu.qc |   55 ++++++++++++++++++++++++++++++++++++++++
 ruamoko/cl_menu/controls_o.qc  |    6 ++---
 ruamoko/cl_menu/menu.h         |    4 +--
 ruamoko/cl_menu/menu.r         |    4 +--
 ruamoko/cl_menu/options.qc     |    4 +--
 5 files changed, 64 insertions(+), 9 deletions(-)

commit 0301cd6
Author: Bill Currie <bill@taniwha.org>
Date:   Sun May 13 04:21:37 2007 +0000

    fix hud scaling

 libs/video/renderer/gl/gl_draw.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 66ab415
Author: Bill Currie <bill@taniwha.org>
Date:   Sun May 13 04:03:04 2007 +0000

    make the menu plist reading more efficient

 ruamoko/cl_menu/options.qc |    6 ++----
 1 file changed, 2 insertions(+), 4 deletions(-)

commit d996c36
Author: Bill Currie <bill@taniwha.org>
Date:   Sun May 13 03:56:08 2007 +0000

    massively speedup savegame scanning (and bump the menu progs memory size again :/)

 libs/console/menu.c            |    2 +-
 libs/ruamoko/rua_qfile.c       |   19 +++++++++++++++++++
 ruamoko/cl_menu/client_menu.qc |    6 +++---
 ruamoko/include/qfile.h        |    1 +
 ruamoko/lib/qfile.r            |    1 +
 5 files changed, 25 insertions(+), 4 deletions(-)

commit b1b7c49
Author: Bill Currie <bill@taniwha.org>
Date:   Sun May 13 03:34:49 2007 +0000

    plug a memory leak when saving games

 nq/source/host_cmd.c |    5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit ece4df2
Author: Bill Currie <bill@taniwha.org>
Date:   Sun May 13 03:27:54 2007 +0000

    make that a factor of ~400.

 libs/util/qfplist.c |   57 +++++++++++++++++++++++++++++++++++++--------------
 1 file changed, 42 insertions(+), 15 deletions(-)

commit a72f204
Author: Bill Currie <bill@taniwha.org>
Date:   Sun May 13 03:13:01 2007 +0000

    speed up PL_WritePropertyList by ~3x.

 include/QF/dstring.h |   16 +++++++++++
 libs/util/dstring.c  |   19 +++++++++++++
 libs/util/qfplist.c  |   74 ++++++++++++++++++++++++++++----------------------
 3 files changed, 76 insertions(+), 33 deletions(-)

commit b5809ea
Author: Bill Currie <bill@taniwha.org>
Date:   Sun May 13 01:29:29 2007 +0000

    this /should/ fix the scaling of high-res hud items

 libs/video/renderer/gl/gl_draw.c |   38 +++++++++++++++++++-------------------
 1 file changed, 19 insertions(+), 19 deletions(-)

commit aca80a7
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 9 10:55:02 2007 +0000

    fix the gold-key/radiation-symbol bug in rock2

 libs/models/brush/model_brush.c |   28 ++++++++++++++++++++++++++++
 1 file changed, 28 insertions(+)

commit 06157dc
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 9 10:37:12 2007 +0000

    link the client console plugin against ruamoko. how I got away with this for so long is beyond me

 libs/console/Makefile.am |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 787a9bc
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 9 10:08:35 2007 +0000

    forgot to increment the tail number (would have made a mess of maps with more than one duplicate of a texture name)

 tools/qfbsp/source/readbsp.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 3528e80
Author: Bill Currie <bill@taniwha.org>
Date:   Tue May 8 11:21:56 2007 +0000

    a little more info on bad models/solid settings

 qw/source/world.c |   10 ++++++++--
 1 file changed, 8 insertions(+), 2 deletions(-)

commit 01f7bd4
Author: Bill Currie <bill@taniwha.org>
Date:   Tue May 8 10:49:54 2007 +0000

    slightly cleaner

 libs/audio/renderer/snd_channels.c |   16 ++++------------
 1 file changed, 4 insertions(+), 12 deletions(-)

commit fd6a856
Author: Bill Currie <bill@taniwha.org>
Date:   Tue May 8 09:33:24 2007 +0000

    clean out some old debug code that's confusing me

 libs/audio/renderer/snd_channels.c |   17 ++++++++++++-----
 1 file changed, 12 insertions(+), 5 deletions(-)

commit 2149aef
Author: Bill Currie <bill@taniwha.org>
Date:   Tue May 8 03:24:49 2007 +0000

    not so sure that one's needed

 tools/qfcc/source/expr.c |   10 ----------
 1 file changed, 10 deletions(-)

commit 4d86c40
Author: Bill Currie <bill@taniwha.org>
Date:   Tue May 8 03:20:15 2007 +0000

    handle float conditionals

 libs/gamecode/engine/pr_debug.c |    2 ++
 1 file changed, 2 insertions(+)

commit 5798c9d
Author: Bill Currie <bill@taniwha.org>
Date:   Tue May 8 02:54:50 2007 +0000

    wasn't catching the precedence inversion in (x - x & y) even though it was caught for (x & y - x).

 tools/qfcc/source/expr.c |   24 ++++++++++++++++++++++++
 1 file changed, 24 insertions(+)

commit 57bd43f
Author: Bill Currie <bill@taniwha.org>
Date:   Tue May 8 02:25:01 2007 +0000

    make the watchpoint (optionally) conditional

 include/QF/progs.h              |    2 ++
 libs/gamecode/engine/pr_debug.c |   25 +++++++++++++++++++++----
 libs/gamecode/engine/pr_exec.c  |    4 +++-
 3 files changed, 26 insertions(+), 5 deletions(-)

commit fe4a4a9
Author: Bill Currie <bill@taniwha.org>
Date:   Tue May 8 02:04:47 2007 +0000

    "hardware" (haha) watch points (one!) in progs. only catches changes done by progs, and the expression parser is as flaky as anything, but it's better than nothing :)

 include/QF/progs.h              |    2 ++
 libs/gamecode/engine/pr_debug.c |   65 ++++++++++++++++++++++++++++++++++++++-
 libs/gamecode/engine/pr_exec.c  |    9 ++++++
 qw/source/sv_progs.c            |    7 +++++
 4 files changed, 82 insertions(+), 1 deletion(-)

commit 0e78c3f
Author: Bill Currie <bill@taniwha.org>
Date:   Mon May 7 23:44:45 2007 +0000

    make STORAGEX lower priority than UNARY so casts work

 tools/qfcc/source/qc-parse.y |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit b167bc3
Author: Bill Currie <bill@taniwha.org>
Date:   Mon May 7 23:10:54 2007 +0000

    fix a segfault when doing backtraces without debug info

 libs/gamecode/engine/pr_debug.c |    2 ++
 1 file changed, 2 insertions(+)

commit 3c78eaa
Author: Bill Currie <bill@taniwha.org>
Date:   Mon May 7 21:50:31 2007 +0000

    should fix hikaru's seg

 libs/audio/renderer/snd_channels.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 9609fe8
Author: Bill Currie <bill@taniwha.org>
Date:   Mon May 7 15:04:06 2007 +0000

    bloody hell

 tools/qfcc/source/qc-parse.y |    5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

commit 839c00b
Author: Bill Currie <bill@taniwha.org>
Date:   Mon May 7 14:58:53 2007 +0000

    back out the large packet/entity related patches. they've provent to be troublesome and it seems FTE has a better solution.

 include/netchan.h            |    8 ++------
 include/qw/msg_backbuf.h     |    3 ---
 include/qw/protocol.h        |    1 -
 libs/qw/msg_backbuf.c        |    4 +---
 qtv/include/client.h         |    2 +-
 qtv/source/client.c          |    3 +--
 qw/include/server.h          |    2 --
 qw/source/cl_main.c          |    4 +---
 qw/source/sv_ents.c          |    2 +-
 qw/source/sv_main.c          |   22 ++--------------------
 qw/source/sv_send.c          |    1 -
 tools/qfcc/source/qc-parse.y |    5 +++--
 12 files changed, 12 insertions(+), 45 deletions(-)

commit 097be5a
Author: Bill Currie <bill@taniwha.org>
Date:   Mon May 7 14:03:36 2007 +0000

    fix file handle leak

 libs/audio/renderer/snd_channels.c |   15 ++++++++-------
 1 file changed, 8 insertions(+), 7 deletions(-)

commit beb5438
Author: Bill Currie <bill@taniwha.org>
Date:   Mon May 7 13:02:35 2007 +0000

    fix messed up build order by putting bi_inputline.c where it really belongs

 libs/console/Makefile.am              |    2 +-
 libs/console/bi_inputline.c           |  242 +++++++++++++++++++++++++++++++++
 libs/gamecode/builtins/Makefile.am    |    4 +-
 libs/gamecode/builtins/bi_inputline.c |  242 ---------------------------------
 libs/gamecode/builtins/pr_cmds.c      |    1 -
 5 files changed, 245 insertions(+), 246 deletions(-)

commit dd1adc0
Author: Bill Currie <bill@taniwha.org>
Date:   Mon May 7 12:20:38 2007 +0000

    remove S_TouchSound: it doesn't seem to be necessary

 include/QF/plugin/snd_render.h |    2 --
 include/QF/sound.h             |    6 ------
 include/snd_render.h           |    6 ------
 libs/audio/renderer/snd_dma.c  |    1 -
 libs/audio/renderer/snd_jack.c |    1 -
 libs/audio/renderer/snd_sfx.c  |   13 -------------
 libs/audio/snd.c               |    7 -------
 nq/source/cl_parse.c           |    1 -
 8 files changed, 37 deletions(-)

commit 8f365c4
Author: Bill Currie <bill@taniwha.org>
Date:   Mon May 7 12:18:54 2007 +0000

    that wasn't supposed to go in

 tools/qfcc/source/qc-parse.y |    5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

commit 72daa2f
Author: Bill Currie <bill@taniwha.org>
Date:   Mon May 7 12:17:12 2007 +0000

    add some sounds to the menus (not yet finished)

 include/QF/sound.h              |    6 ++++
 include/rua_internal.h          |    1 +
 libs/Makefile.am                |    4 ++-
 libs/audio/Makefile.am          |    2 +-
 libs/audio/snd_progs.c          |   62 +++++++++++++++++++++++++++++++++++++++
 libs/console/Makefile.am        |    2 +-
 libs/console/menu.c             |    2 ++
 ruamoko/cl_menu/options_util.qc |    9 ++++++
 ruamoko/game/Axe.r              |    2 +-
 ruamoko/include/Makefile.am     |    2 +-
 ruamoko/include/sound.h         |   15 +---------
 ruamoko/include/sv_sound.h      |   19 ++++++++++++
 ruamoko/lib/Makefile.am         |    7 +++--
 ruamoko/lib/sound.r             |    3 +-
 ruamoko/lib/sv_sound.r          |    4 +++
 tools/qfcc/source/qc-parse.y    |    5 ++--
 16 files changed, 119 insertions(+), 26 deletions(-)

commit c2894dc
Author: Bill Currie <bill@taniwha.org>
Date:   Mon May 7 12:09:10 2007 +0000

    make backbuf max size tunable (for the big packets)

 include/qw/msg_backbuf.h |    3 +++
 libs/qw/msg_backbuf.c    |    4 +++-
 qtv/source/client.c      |    1 +
 qw/source/sv_main.c      |   10 ++++++++--
 4 files changed, 15 insertions(+), 3 deletions(-)

commit 32733ef
Author: Bill Currie <bill@taniwha.org>
Date:   Mon May 7 11:16:29 2007 +0000

    set time and self when calling ClientCommand

 qw/source/sv_pr_cpqw.c |    3 +++
 1 file changed, 3 insertions(+)

commit 7af2378
Author: Bill Currie <bill@taniwha.org>
Date:   Mon May 7 05:20:24 2007 +0000

    turn on graph generation in the doxygen output. very slow, but the diagrams are worth it. Also make the data member of sfx_t a union rather than void so doxygen can see the relationships (and gets rid of a bunch of casts that I never liked anyway).

 doc/quakeforge.dox.in         |    2 +-
 include/QF/sound.h            |    5 ++++-
 include/snd_render.h          |    2 +-
 libs/audio/renderer/flac.c    |    4 ++--
 libs/audio/renderer/midi.c    |    4 ++--
 libs/audio/renderer/snd_mem.c |   22 +++++++++++-----------
 libs/audio/renderer/snd_sfx.c |    8 ++++----
 libs/audio/renderer/vorbis.c  |    4 ++--
 libs/audio/renderer/wav.c     |    4 ++--
 9 files changed, 29 insertions(+), 26 deletions(-)

commit 6a019f1
Author: Bill Currie <bill@taniwha.org>
Date:   Mon May 7 02:06:03 2007 +0000

    make sure all miptex entries have a unique name in the generated wad file so no textures get lost when extracting.

 tools/qfbsp/source/readbsp.c |   32 ++++++++++++++++++++++++++++----
 1 file changed, 28 insertions(+), 4 deletions(-)

commit 243e816
Author: Bill Currie <bill@taniwha.org>
Date:   Mon May 7 01:04:47 2007 +0000

    extract miptex "properly": lays out all 4 mip levels in the one image, rather than producing a mess :)

 tools/wad/wad.c |   38 +++++++++++++++++++++++++++++++++-----
 1 file changed, 33 insertions(+), 5 deletions(-)

commit b5592b3
Author: Bill Currie <bill@taniwha.org>
Date:   Sun May 6 11:50:49 2007 +0000

    optionally treat tracks as playlists

 libs/audio/cd/cd_file.c |  124 ++++++++++++++++++++++++++++++++---------------
 1 file changed, 84 insertions(+), 40 deletions(-)

commit 2ee461f
Author: Bill Currie <bill@taniwha.org>
Date:   Sun May 6 08:35:28 2007 +0000

    this seems to fix the sound cutouts. I /think/ this is the correct fix as cached sfxs are shared and thus nulling the buffer pointer isn't a particularly good idea for every release.

 libs/audio/renderer/snd_channels.c |    2 +-
 libs/audio/renderer/snd_mem.c      |    5 ++++-
 libs/audio/renderer/snd_mix.c      |    8 +++++---
 3 files changed, 10 insertions(+), 5 deletions(-)

commit 7ba4163
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Apr 28 08:49:07 2007 +0000

    snax's fixes to clean up most of the shift/reduce conflicts

 tools/qfcc/source/qc-parse.y |   18 +++++++++++++-----
 1 file changed, 13 insertions(+), 5 deletions(-)

commit 3deee30
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Apr 28 08:48:01 2007 +0000

    check for uninitialized variables in return statements

 tools/qfcc/source/expr.c |    1 +
 1 file changed, 1 insertion(+)

commit a376e6f
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Apr 28 05:40:22 2007 +0000

    make control of progdefs.h generation saner

 tools/qfcc/include/options.h |    1 +
 tools/qfcc/source/options.c  |   30 ++++++++++++++++++++++--------
 tools/qfcc/source/qfcc.c     |    4 ++--
 3 files changed, 25 insertions(+), 10 deletions(-)

commit e8e2d3a
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Apr 28 05:20:47 2007 +0000

    make "local" optional

 tools/qfcc/source/qc-parse.y |    3 ++-
 tools/qfcc/test/membarray.r  |    2 +-
 2 files changed, 3 insertions(+), 2 deletions(-)

commit cfd71b8
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Apr 28 05:17:55 2007 +0000

    clean up some warnings that I think I wasn't testing for

 tools/qfcc/test/fold.r      |    2 +-
 tools/qfcc/test/membarray.r |    2 +-
 tools/qfcc/test/message.r   |    2 +-
 3 files changed, 3 insertions(+), 3 deletions(-)

commit b963665
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Apr 28 02:16:47 2007 +0000

    don't stop a trace on transition from solid to non-solid. this fixes the grapple problem in prozaccoop, but really the bug is in the progs but this is a faster fix for now until I decide whether I want to stop a trace on transition or not, or whether to make it optional.

 libs/models/trace.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ab5536e
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Apr 28 01:40:08 2007 +0000

    strip any trailing whitespace from source lines. strips off trailing \r from dos files :)

 libs/gamecode/engine/pr_debug.c |    7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

commit 52f7bd4
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Apr 19 07:36:12 2007 +0000

    MAX_ENTITIES patch from phrosty

 include/netchan.h     |    8 ++++++--
 include/qw/protocol.h |    1 +
 qtv/include/client.h  |    2 +-
 qtv/source/client.c   |    2 +-
 qw/include/server.h   |    2 ++
 qw/source/cl_main.c   |    4 +++-
 qw/source/sv_ents.c   |    2 +-
 qw/source/sv_main.c   |   16 ++++++++++++++--
 qw/source/sv_send.c   |    1 +
 9 files changed, 30 insertions(+), 8 deletions(-)

commit bf15d0c
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Apr 12 10:53:38 2007 +0000

    docs on advanced/traditional

 tools/qfcc/doc/man/qfcc.1 |   37 +++++++++++++++++++++++++++++++++----
 1 file changed, 33 insertions(+), 4 deletions(-)

commit cfeb14f
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Apr 12 09:39:42 2007 +0000

    warn when local variables are redecalred in the same scope. This won't normally cause problems, but it can save a lot of grief when converting traditional quakec code.

 tools/qfcc/source/qc-parse.y |   23 +++++++++++++++++++----
 1 file changed, 19 insertions(+), 4 deletions(-)

commit 8c31f12
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Apr 12 07:42:22 2007 +0000

    cover the two compilation modes

 tools/qfcc/doc/man/qfcc.1 |   70 ++++++++++++++++++++++++++++++++-------------
 1 file changed, 50 insertions(+), 20 deletions(-)

commit 93ee2e4
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Apr 11 22:03:36 2007 +0000

    more vc2005 patches from phrosty

 libs/audio/renderer/snd_channels.c            |   10 +-
 libs/video/renderer/sw/d_fill.c               |    6 +-
 libs/video/renderer/sw/d_polyse.c             |    6 +-
 libs/video/renderer/sw/d_scan.c               |    8 +-
 libs/video/renderer/sw/draw.c                 |   14 +-
 libs/video/renderer/sw/screen.c               |    2 +-
 libs/video/renderer/sw/sw_graph.c             |    2 +-
 libs/video/renderer/sw/sw_ralias.c            |    6 +-
 libs/video/renderer/sw/sw_rdraw.c             |   14 +-
 libs/video/renderer/sw/sw_redge.c             |    6 +-
 libs/video/renderer/sw/sw_rmain.c             |   11 +-
 libs/video/renderer/sw32/d_edge.c             |    6 +-
 libs/video/renderer/sw32/d_polyse.c           |    6 +-
 libs/video/renderer/sw32/d_scan.c             |   10 +-
 libs/video/renderer/sw32/sw32_ralias.c        |    6 +-
 libs/video/renderer/sw32/sw32_rdraw.c         |   14 +-
 libs/video/renderer/sw32/sw32_redge.c         |    6 +-
 libs/video/renderer/sw32/sw32_rmain.c         |   11 +-
 tools/qfcc/source/cpp.c                       |    3 +
 tools/qfcc/source/qfcc.c                      |    3 +
 vc2005/QuakeForge.sln                         |  446 ++++++++++--
 vc2005/console_client/console_client.vcproj   |    2 +-
 vc2005/console_server/console_server.vcproj   |    2 +-
 vc2005/include/config.h                       |    7 +-
 vc2005/models-sw/models-sw.vcproj             |  511 +++++++++++++
 vc2005/modelsgl/modelsgl.vcproj               |    2 +-
 vc2005/net/net.vcproj                         |    7 -
 vc2005/nq-sdl/nq-sdl.vcproj                   |  561 ++++++++++++++
 vc2005/nq-sdl32/nq-sdl32.vcproj               |  567 +++++++++++++++
 vc2005/nq-sgl/nq-sgl.vcproj                   |  567 +++++++++++++++
 vc2005/nq-wgl/nq-wgl.vcproj                   |   80 --
 vc2005/nq/nq.vcproj                           |  543 ++++++++++++++
 vc2005/qfcc/FlexBison.rules                   |  246 +++++++
 vc2005/qfcc/qfcc.vcproj                       |  970 +++++++++++++++++++++++++
 vc2005/qfclient/qfclient.vcproj               |  158 +---
 vc2005/qfserver/qfserver.vcproj               |   40 +
 vc2005/qw-client-sdl/qw-client-sdl.vcproj     |  563 ++++++++++++++
 vc2005/qw-client-sdl32/qw-client-sdl32.vcproj |  567 +++++++++++++++
 vc2005/qw-client-sgl/qw-client-sgl.vcproj     |  567 +++++++++++++++
 vc2005/qw-client-wgl/qw-client-wgl.vcproj     |  563 ++++++++++++++
 vc2005/readme.txt                             |   12 +
 vc2005/video-sdl/video-sdl.vcproj             |  471 ++++++++++++
 vc2005/video-sgl/video-sgl.vcproj             |  467 ++++++++++++
 vc2005/video-sw/video-sw.vcproj               |  595 +++++++++++++++
 vc2005/video-sw32/video-sw32.vcproj           |  571 +++++++++++++++
 vc2005/video-wgl/video-wgl.vcproj             |  471 ++++++++++++
 vc2005/video/video.vcproj                     |  112 +--
 vc2005/videogl/videogl.vcproj                 |  555 ++++++++++++++
 48 files changed, 9939 insertions(+), 434 deletions(-)

commit 8353bb5
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Apr 11 15:10:00 2007 +0000

    add a section on compilation modes. only half done, though

 tools/qfcc/doc/man/qfcc.1 |  128 ++++++++++++++++++++++++++++++++-------------
 1 file changed, 93 insertions(+), 35 deletions(-)

commit 7c938b3
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Apr 11 12:04:53 2007 +0000

    follow some of the roff rules...

 tools/qfcc/doc/man/qfcc.1 |  254 +++++++++++++++++++++++++--------------------
 1 file changed, 143 insertions(+), 111 deletions(-)

commit bac4096
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Apr 11 10:48:04 2007 +0000

    some doc improvements as pointed out by Hikaru and add --relocatable to the long options

 tools/qfcc/doc/man/qfcc.1   |   23 +++++++++++++----------
 tools/qfcc/source/options.c |   31 ++++++++++++++++---------------
 2 files changed, 29 insertions(+), 25 deletions(-)

commit 82aaa87
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Apr 10 14:53:44 2007 +0000

    fast access to code, warning and notice help.

 tools/qfcc/doc/man/qfcc.1   |    2 +-
 tools/qfcc/source/options.c |   52 ++++++++++++++++++++++++++++++++++++++++++-
 2 files changed, 52 insertions(+), 2 deletions(-)

commit 992aa04
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Apr 10 14:03:34 2007 +0000

    Forgot to coorect the adjustment of the def's offset (yet I knew I was supposed to :P)

 tools/qfcc/source/globals.c |    3 ++-
 tools/qfcc/source/qfcc.c    |    2 +-
 2 files changed, 3 insertions(+), 2 deletions(-)

commit f48d418
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Apr 10 13:11:42 2007 +0000

    *sigh*

 tools/qfcc/source/options.c |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 15dc16f
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Apr 10 13:10:53 2007 +0000

    put in stubs for help for -C, -W and -N

 tools/qfcc/source/options.c |   32 +++++++++++++++++++++++++++++++-
 1 file changed, 31 insertions(+), 1 deletion(-)

commit 2e6ecd9
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Apr 10 13:01:45 2007 +0000

    d'oh

 tools/qfcc/include/options.h |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 52d178b
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Apr 10 13:00:21 2007 +0000

    Add a code generation option, "local-merging", to control qfcc's merging of local variable blocks into one block. Defaults to on for advanced mode and off for traditional.

 tools/qfcc/doc/man/qfcc.1    |  110 ++++++++++++++++++++++++++++----------
 tools/qfcc/include/def.h     |    1 +
 tools/qfcc/include/options.h |    3 +-
 tools/qfcc/source/def.c      |    9 +++-
 tools/qfcc/source/expr.c     |   11 ++--
 tools/qfcc/source/options.c  |  121 +++++++++++++++++++++++-------------------
 tools/qfcc/source/qfcc.c     |   17 ++++--
 7 files changed, 176 insertions(+), 96 deletions(-)

commit d08e1fe
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Apr 10 09:45:57 2007 +0000

    make PR_StackTrace visible

 libs/gamecode/engine/pr_debug.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 4c4281c
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Apr 10 09:10:09 2007 +0000

    because builtin functions now get their params dumped to the debug symbols, @va_list needs to be initialized.

 tools/qfcc/source/type.c |   10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit 48449a9
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Apr 10 08:32:58 2007 +0000

    fix an uninitialized warning on some versions of gcc

 libs/gamecode/engine/pr_debug.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 30744a5
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Apr 10 07:40:03 2007 +0000

    find the other place def_func relocs get emitted. I keep forgetting about the .y file when grepping source :P

 tools/qfcc/source/qc-parse.y |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 3b7c83a
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Apr 9 14:32:47 2007 +0000

    uncomment some lines that shouldn't have been commented (doesn't fix the bug, though)

 tools/qfcc/source/linker.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 845b5ab
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Apr 9 14:25:44 2007 +0000

    don't write alias defs to the qfo

 tools/qfcc/source/obj_file.c |   10 +++++++---
 1 file changed, 7 insertions(+), 3 deletions(-)

commit 642bb0f
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Apr 9 14:06:12 2007 +0000

    don't create a reloc for an external function

 tools/qfcc/source/function.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit e53e994
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Apr 9 13:33:59 2007 +0000

    spew a lot of guff about relocs

 tools/qfcc/include/qfprogs.h |    6 ++-
 tools/qfcc/source/globals.c  |   92 ++++++++++++++++++++++++++++++++++++++++++
 tools/qfcc/source/qfprogs.c  |   23 +++++++----
 3 files changed, 112 insertions(+), 9 deletions(-)

commit a66cbb5
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Apr 9 09:00:40 2007 +0000

    PR_ResolveGlobals needs to be visible

 libs/gamecode/engine/pr_resolve.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 3cd0122
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Apr 9 08:56:23 2007 +0000

    don't try to fix up function refs too early. fixes klik's segfault on firing

 tools/qfcc/source/globals.c |    5 ++++-
 tools/qfcc/source/linker.c  |    2 +-
 2 files changed, 5 insertions(+), 2 deletions(-)

commit 61d349e
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Apr 9 08:55:24 2007 +0000

    bah, the other part of that commit :P

 libs/gamecode/engine/pr_debug.c |    4 ++--
 libs/gamecode/engine/pr_edict.c |    3 +--
 libs/gamecode/engine/pr_parse.c |    2 +-
 3 files changed, 4 insertions(+), 5 deletions(-)

commit 59498cd
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Apr 9 08:55:05 2007 +0000

    make the edict macros consistent in return type

 include/QF/progs.h |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a9678f1
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Apr 9 07:47:51 2007 +0000

    dump globals direct from qfo

 tools/qfcc/include/qfprogs.h |    2 ++
 tools/qfcc/source/globals.c  |   43 +++++++++++++++++++++++++++++++++++++-----
 tools/qfcc/source/qfprogs.c  |    2 +-
 3 files changed, 41 insertions(+), 6 deletions(-)

commit cd6ee38
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Apr 9 06:18:14 2007 +0000

    remove debuging prints

 libs/gamecode/engine/pr_debug.c |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 48fdd0c
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Apr 9 06:16:34 2007 +0000

    record the params for builtins, too.

 tools/qfcc/source/disassemble.c |    2 +-
 tools/qfcc/source/qc-parse.y    |   39 +++++++++++++++++++++++++++++++--------
 tools/qfcc/source/qfprogs.c     |    2 +-
 3 files changed, 33 insertions(+), 10 deletions(-)

commit b5e6aa4
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Apr 9 06:16:03 2007 +0000

    for pr_debug 1, don't dump disassembly when tracing, just source lines. pr_debug >= 2 forces disassembly. detailed disassembly now on pr_debug >= 3 figure out the types of arguments in a function call

 include/QF/progs.h                |    1 +
 libs/gamecode/engine/pr_debug.c   |   81 +++++++++++++++++++++++++++++++++----
 libs/gamecode/engine/pr_opcode.c  |   54 +++++++++++++------------
 libs/gamecode/engine/pr_resolve.c |    4 +-
 4 files changed, 106 insertions(+), 34 deletions(-)

commit 3663c58
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Apr 9 00:52:36 2007 +0000

    add pkg-config file for qfcc

 configure.ac           |    3 ++-
 pkg-config/Makefile.am |    4 ++--
 pkg-config/qfcc.pc.in  |    9 +++++++++
 3 files changed, 13 insertions(+), 3 deletions(-)

commit 7925e16
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Apr 9 00:22:17 2007 +0000

    audit the usage of view_draw. It is really meant for draw callbacks, not direct usage by the application.

 include/QF/view.h     |    4 ++++
 libs/console/client.c |    2 +-
 libs/console/server.c |    4 ++--
 qw/source/sbar.c      |    2 +-
 4 files changed, 8 insertions(+), 4 deletions(-)

commit 2894182
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Apr 9 00:10:10 2007 +0000

    The status bar in the quakeworld server curses console finally does something. Currently only cpu usage, but as a proof-of-concept, it more than does its job.

 include/Makefile.am         |    4 +-
 include/QF/plugin/console.h |    1 +
 include/sv_console.h        |   18 ++++++
 libs/console/server.c       |  128 ++++++++++++++++++++++++++++++-------------
 qw/include/Makefile.am      |    3 +-
 qw/include/server.h         |    1 +
 qw/source/Makefile.am       |    2 +-
 qw/source/sv_main.c         |    3 +
 qw/source/sv_sbar.c         |   82 +++++++++++++++++++++++++++
 9 files changed, 201 insertions(+), 41 deletions(-)

commit 0aaab83
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Apr 8 10:06:49 2007 +0000

    seems nobody tried to run nq-server on a 64 bit system...

 nq/source/sys_unixd.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 1d2a7e2
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Apr 8 09:01:07 2007 +0000

    add z order comments

 include/QF/view.h |    6 ++++++
 1 file changed, 6 insertions(+)

commit ab01262
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Apr 8 08:48:13 2007 +0000

    document the view api

 include/QF/console.h |    3 +
 include/QF/view.h    |  169 +++++++++++++++++++++++++++++++++++++++++++++-----
 2 files changed, 155 insertions(+), 17 deletions(-)

commit 626dad4
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Apr 8 08:47:47 2007 +0000

    set the new view's coordinates based on it being a root view.

 libs/console/view.c |   29 +++++++++++++++--------------
 1 file changed, 15 insertions(+), 14 deletions(-)

commit 1cccd00
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Apr 8 05:47:32 2007 +0000

    silly me. totally misused the result of PR_NewMutableString

 qw/source/sv_pr_cpqw.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 593198e
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Apr 8 05:28:21 2007 +0000

    terminate the builtins table

 qw/source/sv_pr_cpqw.c |    1 +
 1 file changed, 1 insertion(+)

commit d7eda4c
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Apr 8 04:46:52 2007 +0000

    FL_FINDABLE_NONSOLID support in findradius

 qw/source/sv_pr_cmds.c |   10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit 318046e
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Apr 8 04:21:30 2007 +0000

    some white space

 qw/source/sv_pr_qwe.c |   44 ++++++++++++++++++++++----------------------
 1 file changed, 22 insertions(+), 22 deletions(-)

commit f309ac7
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Apr 8 04:10:53 2007 +0000

    add ClientCommand support

 qw/source/sv_pr_cpqw.c |   54 ++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 54 insertions(+)

commit 2700f40
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Apr 8 01:22:00 2007 +0000

    make PR_FreeTempStrings not free a string that looks like it's being returned, but rather transfer it to the parent stack frame.

 libs/gamecode/engine/pr_strings.c |   31 +++++++++++++++++++------------
 1 file changed, 19 insertions(+), 12 deletions(-)

commit 3e92ac5
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Apr 8 00:56:35 2007 +0000

    fix another bug caused by the function table changes

 libs/gamecode/engine/pr_debug.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit e27b2a9
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Apr 8 00:00:35 2007 +0000

    use PR_CatStrings for strcat and padstr. ironicly, this should work better for now, and definitely will by the time I'm done.

 libs/gamecode/engine/pr_strings.c |    2 +-
 qw/source/sv_pr_cpqw.c            |   38 ++++++++++++++-----------------------
 2 files changed, 15 insertions(+), 25 deletions(-)

commit eaa79af
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Apr 7 13:52:26 2007 +0000

    send nails2 to the mvd and qtv recorders, NOT to the client. d'oh

 qw/source/sv_ents.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 662bc6e
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Apr 7 13:35:36 2007 +0000

    traceline enhancements from cpqw

 qw/include/server.h |    9 +++
 qw/source/world.c   |  190 +++++++++++++++++++++++++++++++++++----------------
 2 files changed, 142 insertions(+), 57 deletions(-)

commit 9509d0f
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Apr 7 12:35:03 2007 +0000

    make qfo files typesize safe

 tools/qfcc/include/obj_file.h |   62 ++++++++++++++++++++---------------------
 tools/qfcc/source/emit.c      |    2 +-
 tools/qfcc/source/linker.c    |   19 +++++++------
 tools/qfcc/source/obj_file.c  |    2 +-
 4 files changed, 43 insertions(+), 42 deletions(-)

commit ce0e0d4
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Apr 7 12:17:01 2007 +0000

    don't try to open the dirconf file if it hasn't been specified

 libs/util/quakefs.c |   13 ++++++++-----
 1 file changed, 8 insertions(+), 5 deletions(-)

commit eae3910
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Apr 7 11:31:19 2007 +0000

    undefine BUILTIN before defining it (boost's preprocessor didn't like that)

 ruamoko/include/debug.h    |    2 ++
 ruamoko/include/entities.h |    2 ++
 2 files changed, 4 insertions(+)

commit 2399e79
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Apr 7 10:24:34 2007 +0000

    open all files in binary mode. ^Z is evil :P

 tools/qfcc/source/cpp.c     |   10 +++++-----
 tools/qfcc/source/idstuff.c |    6 +++---
 tools/qfcc/source/qfcc.c    |    6 +++---
 3 files changed, 11 insertions(+), 11 deletions(-)

commit a6104bc
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Apr 7 10:15:17 2007 +0000

    open input and output files in binary mode so ^Z doesn't bite us on windows

 tools/qfcc/source/qfpreqcc |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 323052b
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Apr 7 07:44:07 2007 +0000

    survive across gamedir changes

 include/snd_render.h               |    5 +++-
 libs/audio/renderer/snd_channels.c |   45 +++++++++++++++++++++++++++++-------
 libs/audio/renderer/snd_dma.c      |    3 ++-
 libs/audio/renderer/snd_jack.c     |    9 +++++++-
 4 files changed, 51 insertions(+), 11 deletions(-)

commit 447a3e8
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Apr 7 06:51:36 2007 +0000

    fix some nasty catches I was experiencing. I don't know why my logic didn't work, but it definitely didn't.

 libs/models/trace.c |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit c6ea999
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Apr 7 05:50:29 2007 +0000

    whee, finally. stateful console mode :) nukes cl_chatmode.

 TODO                        |    2 +-
 include/QF/console.h        |    1 +
 include/QF/plugin/console.h |    2 ++
 libs/console/client.c       |   82 +++++++++++++++++++++----------------------
 libs/console/console.c      |   24 +++++++++++++
 libs/console/server.c       |   47 +++++++++++++++++++------
 6 files changed, 104 insertions(+), 54 deletions(-)

commit f621570
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Apr 7 05:36:06 2007 +0000

    that /looked/ wrong :/

 libs/console/inputline.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d8b7016
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Apr 7 05:06:42 2007 +0000

    various cleanups (ow, my eyes hurt)

 libs/console/complete.c  |   84 +++++++++++++++++++++-------------------------
 libs/console/filelist.c  |   44 +++++++++++++-----------
 libs/console/inputline.c |   14 ++++----
 libs/console/list.c      |    6 ++--
 libs/console/menu.c      |   14 ++++----
 libs/console/pr_keys.c   |    2 +-
 6 files changed, 81 insertions(+), 83 deletions(-)

commit cbcd203
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Apr 7 05:02:09 2007 +0000

    add a few more tests to break

 tools/qfcc/test/break.r |   11 +++++++++++
 1 file changed, 11 insertions(+)

commit 25bf40a
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Apr 7 04:58:27 2007 +0000

    finish the break overloading and add some more tests (really need to get these automated)

 tools/qfcc/source/qc-parse.y   |    3 ++-
 tools/qfcc/test/break.r        |    9 +++++++++
 tools/qfcc/test/vector_float.r |    8 ++++++++
 3 files changed, 19 insertions(+), 1 deletion(-)

commit 5a78bf1
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Apr 7 02:14:22 2007 +0000

    use VISIBLE instead of __attribute__ ((visibility ("default"))) directly

 libs/console/complete.c  |    3 +--
 libs/console/console.c   |   44 ++++++++++++++++----------------------------
 libs/console/filelist.c  |   15 +++++----------
 libs/console/inputline.c |   12 ++++--------
 libs/console/list.c      |    2 +-
 libs/console/view.c      |   24 ++++++++----------------
 6 files changed, 35 insertions(+), 65 deletions(-)

commit 124506f
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Apr 7 01:41:23 2007 +0000

    Fix the access alignment bug on 64 bit archs.

 include/QF/progs.h                 |   18 +++++++++++------
 libs/gamecode/engine/pr_builtins.c |   39 +++++++++++++++++++++++++-----------
 libs/gamecode/engine/pr_debug.c    |   12 ++++++-----
 libs/gamecode/engine/pr_exec.c     |   10 ++++-----
 nq/source/sv_pr_cmds.c             |    7 ++-----
 qw/source/sv_pr_cmds.c             |    7 ++-----
 tools/qfcc/source/disassemble.c    |   24 ++++++++++++++++++----
 7 files changed, 75 insertions(+), 42 deletions(-)

commit b203512
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Apr 7 01:02:14 2007 +0000

    don't complain about _fields not being found

 nq/source/sv_progs.c |    2 ++
 qw/source/sv_progs.c |    2 ++
 2 files changed, 4 insertions(+)

commit c4d81cd
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Apr 6 23:13:29 2007 +0000

    use a proper charset instead of \w (too iffy on what it is)

 tools/qfcc/source/qfpreqcc |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 5baa605
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Apr 6 22:25:16 2007 +0000

    give windows spawn*p* :P

 tools/qfcc/source/qfpreqcc |   63 ++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 63 insertions(+)

commit 9e9318a
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Apr 6 22:03:28 2007 +0000

    use spawn instead of fork/exec/wait

 tools/qfcc/source/qfpreqcc |    5 +----
 1 file changed, 1 insertion(+), 4 deletions(-)

commit bc1c68d
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Apr 6 21:36:20 2007 +0000

    add malloc.h vor vc

 qw/source/sv_pr_cpqw.c |    3 +++
 1 file changed, 3 insertions(+)

commit 3f3450d
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Apr 6 14:13:25 2007 +0000

    fix a wrong name

 tools/qfcc/source/qfcc.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 15e17b7
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Apr 6 13:59:05 2007 +0000

    cpqw support. set sv_progs_ext to "cpcw" to activate its mapping

 qw/include/sv_pr_cpqw.h |   36 +++
 qw/include/sv_progs.h   |    1 +
 qw/source/Makefile.am   |    4 +-
 qw/source/sv_pr_cpqw.c  |  742 +++++++++++++++++++++++++++++++++++++++++++++++
 qw/source/sv_progs.c    |    7 +-
 5 files changed, 787 insertions(+), 3 deletions(-)

commit f6924f3
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Apr 6 12:02:34 2007 +0000

    report the line of the previous declaration of the function

 tools/qfcc/include/function.h |    2 ++
 tools/qfcc/source/function.c  |    7 ++++++-
 2 files changed, 8 insertions(+), 1 deletion(-)

commit a6388ee
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Apr 6 11:46:21 2007 +0000

    overload "break" and allow break to be used in --traditional

 tools/qfcc/source/qc-lex.l   |    2 +-
 tools/qfcc/source/qc-parse.y |    1 +
 2 files changed, 2 insertions(+), 1 deletion(-)

commit 6d21c50
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Apr 6 11:27:03 2007 +0000

    handle #line (hopefully)

 tools/qfcc/source/qc-lex.l |    1 +
 1 file changed, 1 insertion(+)

commit 966c337
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Apr 6 11:05:52 2007 +0000

    use the def's declaration line rather than the function's when reporting auto-initialization

 tools/qfcc/source/expr.c |    5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit c560744
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Apr 6 11:01:34 2007 +0000

    "use" parent defs

 tools/qfcc/source/emit.c |    4 ++++
 1 file changed, 4 insertions(+)

commit 240eab4
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Apr 6 09:44:08 2007 +0000

    cleanup the tempfile from a failed preprocessor run on progs.src

 tools/qfcc/source/qfcc.c |   15 +++++++++++----
 1 file changed, 11 insertions(+), 4 deletions(-)

commit 26e15db
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Apr 6 09:27:56 2007 +0000

    handle comments and conditionals in preprogs.src

 tools/qfcc/source/qfpreqcc |  117 +++++++++++++++++++++++++++-----------------
 1 file changed, 72 insertions(+), 45 deletions(-)

commit 0476508
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Apr 6 08:56:37 2007 +0000

    really warn only once for each uninitialized variable

 tools/qfcc/include/def.h |    1 +
 tools/qfcc/source/expr.c |    4 ++--
 2 files changed, 3 insertions(+), 2 deletions(-)

commit e7f478b
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Apr 6 08:41:33 2007 +0000

    by default, don't use cpp when compiling the output of qfpreqcc

 tools/qfcc/source/qfpreqcc |    7 +++++++
 1 file changed, 7 insertions(+)

commit 5a8143a
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Apr 6 08:23:07 2007 +0000

    support float = vector and vector = float for traditional

 tools/qfcc/source/expr.c |   17 ++++++++++++++---
 1 file changed, 14 insertions(+), 3 deletions(-)

commit eb99439
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Apr 6 08:19:58 2007 +0000

    handle . in frame macro names

 tools/qfcc/source/qc-lex.l |    5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit bff92d9
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Apr 6 08:19:20 2007 +0000

    properly handle strings in comments and comments in strings

 tools/qfcc/source/qfpreqcc |   34 +++++++++++++++++++++++++++-------
 1 file changed, 27 insertions(+), 7 deletions(-)

commit 6bbf54c
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Apr 6 07:12:47 2007 +0000

    handle /* */ comments better

 tools/qfcc/source/qfpreqcc |   28 ++++++++++++++++++++++++----
 1 file changed, 24 insertions(+), 4 deletions(-)

commit 0e4fb6c
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Apr 6 07:11:38 2007 +0000

    no-cpp implies no-single-cpp

 tools/qfcc/source/options.c |    2 ++
 1 file changed, 2 insertions(+)

commit 8079c99
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Apr 6 06:31:47 2007 +0000

    catch nested /* in comments

 tools/qfcc/source/qc-lex.l |    1 +
 1 file changed, 1 insertion(+)

commit ff0144f
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Apr 6 05:52:20 2007 +0000

    bring in the cleanups from my start at preqcc stuff (I don't know if that will ever go in, though, I'm thinking maybe it should be external)

 tools/qfcc/source/qc-lex.l |   91 +++++++++++++++++++++-----------------------
 1 file changed, 44 insertions(+), 47 deletions(-)

commit df2bebd
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Apr 6 01:09:58 2007 +0000

    more vc build patches from phrosy

 include/QF/qtypes.h                         |    2 +-
 include/win32/stdint.h                      |   19 +
 libs/net/nc/net_udp6.c                      |    2 -
 libs/net/net_main.c                         |   18 +-
 nq/source/sys_wind.c                        |    2 +-
 tools/bsp2img/bsp2img.c                     |    4 +
 tools/qfcc/source/strings.c                 |    1 -
 tools/qfcc/source/stub.c                    |    4 +
 tools/qfmodelgen/source/lbmlib.c            |    2 +
 tools/qfmodelgen/source/modelgen.c          |    2 +
 tools/qfmodelgen/source/trilib.c            |    4 +
 tools/wav/qfwavinfo.c                       |    4 +
 vc2005/QuakeForge.sln                       |  412 +++++++++++++++--
 vc2005/bsp2img/bsp2img.vcproj               |  567 +++++++++++++++++++++++
 vc2005/builtins/builtins.vcproj             |  145 +++++-
 vc2005/common/common.vcproj                 |  147 +++++-
 vc2005/console/console.vcproj               |  145 +++++-
 vc2005/console_client/console_client.vcproj |  145 +++++-
 vc2005/console_server/console_server.vcproj |  145 +++++-
 vc2005/engine/engine.vcproj                 |  145 +++++-
 vc2005/gib/gib.vcproj                       |  145 +++++-
 vc2005/hw-master/hw-master.vcproj           |  567 +++++++++++++++++++++++
 vc2005/image/image.vcproj                   |  145 +++++-
 vc2005/include/config.h                     |   20 +-
 vc2005/models/models.vcproj                 |  145 +++++-
 vc2005/modelsgl/modelsgl.vcproj             |  145 +++++-
 vc2005/net-main/net-main.vcproj             |  487 ++++++++++++++++++++
 vc2005/net/net.vcproj                       |  154 ++++++-
 vc2005/nq-common/nq-common.vcproj           |  515 +++++++++++++++++++++
 vc2005/nq-server/nq-server.vcproj           |  571 +++++++++++++++++++++++
 vc2005/nq-wgl/nq-wgl.vcproj                 |  647 +++++++++++++++++++++++++++
 vc2005/pak/pak.vcproj                       |  571 +++++++++++++++++++++++
 vc2005/qfbsp/qfbsp.vcproj                   |  189 +++++++-
 vc2005/qfclient/qfclient.vcproj             |  191 +++++++-
 vc2005/qflight/qflight.vcproj               |  189 +++++++-
 vc2005/qfmodelgen/qfmodelgen.vcproj         |  583 ++++++++++++++++++++++++
 vc2005/qfprogs/qfprogs.vcproj               |  595 ++++++++++++++++++++++++
 vc2005/qfserver/qfserver.vcproj             |  191 +++++++-
 vc2005/qfvis/qfvis.vcproj                   |  189 +++++++-
 vc2005/qfwavinfo/qfwavinfo.vcproj           |  567 +++++++++++++++++++++++
 vc2005/qtv/qtv.vcproj                       |  599 +++++++++++++++++++++++++
 vc2005/qw-master/qw-master.vcproj           |  567 +++++++++++++++++++++++
 vc2005/qw/qw.vcproj                         |  145 +++++-
 vc2005/readme.txt                           |   15 +
 vc2005/ruamoko/ruamoko.vcproj               |  145 +++++-
 vc2005/sound/sound.vcproj                   |  145 +++++-
 vc2005/util/util.vcproj                     |  149 +++++-
 vc2005/video/video.vcproj                   |  145 +++++-
 vc2005/wad/wad.vcproj                       |  579 ++++++++++++++++++++++++
 49 files changed, 11086 insertions(+), 124 deletions(-)

commit 5b761ba
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Apr 6 00:47:41 2007 +0000

    make progs related code a little more consistent with its int type usage

 include/QF/pr_comp.h               |    6 +-
 include/QF/progs.h                 |   12 +-
 libs/gamecode/engine/pr_builtins.c |    2 +-
 libs/gamecode/engine/pr_debug.c    |   12 +-
 libs/gamecode/engine/pr_edict.c    |   24 ++--
 libs/gamecode/engine/pr_exec.c     |   16 +--
 libs/gamecode/engine/pr_load.c     |    8 +-
 libs/gamecode/engine/pr_opcode.c   |    6 +-
 libs/gamecode/engine/pr_parse.c    |    4 +-
 libs/gamecode/engine/pr_strings.c  |   22 +--
 nq/include/sv_progs.h              |  274 ++++++++++++++++++------------------
 nq/source/sv_progs.c               |    2 +-
 qw/include/sv_progs.h              |  170 +++++++++++-----------
 qw/source/sv_pr_qwe.c              |    2 +-
 qw/source/sv_progs.c               |    2 +-
 15 files changed, 281 insertions(+), 281 deletions(-)

commit 3825418
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Apr 4 12:30:49 2007 +0000

    other than floats, progs should now be int size safe

 include/QF/pr_comp.h               |   90 +++++++++++++++++++-----------------
 include/QF/pr_debug.h              |   36 ++++++++-------
 include/QF/pr_obj.h                |   28 +++++------
 include/QF/progs.h                 |   38 ++++++++-------
 include/QF/qtypes.h                |    1 +
 libs/gamecode/engine/pr_builtins.c |    2 +-
 libs/gamecode/engine/pr_debug.c    |   78 +++++++++++++++----------------
 libs/gamecode/engine/pr_edict.c    |   13 +++---
 libs/gamecode/engine/pr_opcode.c   |    2 +-
 libs/gamecode/engine/pr_resolve.c  |    8 ++--
 libs/gamecode/engine/pr_zone.c     |    4 +-
 11 files changed, 156 insertions(+), 144 deletions(-)

commit 6ca2a6d
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Apr 4 12:11:41 2007 +0000

    fix a missed param in the docs

 include/snd_render.h |    1 +
 1 file changed, 1 insertion(+)

commit acc5e87
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Apr 4 11:40:00 2007 +0000

    missed this one

 tools/qflight/include/threads.h |    4 ----
 1 file changed, 4 deletions(-)

commit 0382b05
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Apr 4 11:22:48 2007 +0000

    various unsigned long -> uintptr_t conversions

 qtv/source/connection.c        |    2 +-
 tools/build_scripts/qf-release |    3 +--
 tools/qfcc/source/class.c      |    2 +-
 tools/qfcc/source/def.c        |    2 +-
 tools/qfcc/source/immediate.c  |    2 +-
 tools/qfcc/source/linker.c     |    4 ++--
 tools/qfcc/source/method.c     |    6 +++---
 tools/qfcc/source/opcodes.c    |    4 ++--
 tools/qfcc/source/qfprogs.c    |    2 +-
 tools/qfcc/source/switch.c     |    4 ++--
 10 files changed, 15 insertions(+), 16 deletions(-)

commit fcf464e
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Apr 4 09:23:10 2007 +0000

    make riff int-size safe

 include/QF/riff.h |   43 +++++++++++++++++++++++--------------------
 libs/util/riff.c  |   15 ++++++++-------
 2 files changed, 31 insertions(+), 27 deletions(-)

commit de265f2
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Apr 4 09:12:41 2007 +0000

    bail on unkown chunks so crap at the end of a wav does cause us to go nuts

 libs/util/riff.c |   10 ++++------
 1 file changed, 4 insertions(+), 6 deletions(-)

commit ac02c36
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Apr 4 08:27:49 2007 +0000

    interim linux compile fixes for the in64 fixes (hah)

 include/QF/hash.h       |    2 ++
 include/QF/sys.h        |    1 +
 qw/source/sv_recorder.c |    3 ++-
 3 files changed, 5 insertions(+), 1 deletion(-)

commit d8b91af
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Apr 4 07:53:46 2007 +0000

    and the icon that was supposed to be in the patch

 include/win32/resources/icon1.ico |  Bin 4710 -> 78101 bytes
 1 file changed, 0 insertions(+), 0 deletions(-)

commit ff132bb
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Apr 4 07:48:14 2007 +0000

    64bit windows patch from phrosty

 include/QF/hash.h                           |    2 +-
 include/QF/link.h                           |    2 +-
 include/QF/sys.h                            |    2 +-
 libs/audio/cd/cd_win.c                      |   34 +++---
 libs/audio/renderer/snd_dma.c               |    2 +-
 libs/gamecode/engine/pr_builtins.c          |    2 +-
 libs/gamecode/engine/pr_opcode.c            |    2 +-
 libs/gib/gib_execute.c                      |    2 +-
 libs/gib/regex.c                            |    2 +-
 libs/ruamoko/rua_hash.c                     |   40 +++---
 libs/ruamoko/rua_obj.c                      |   14 +--
 libs/ruamoko/rua_plist.c                    |    4 +-
 libs/util/hash.c                            |   12 +-
 libs/util/sys.c                             |    2 +-
 libs/util/wadfile.c                         |    2 +-
 qw/include/server.h                         |    2 +-
 qw/source/sv_recorder.c                     |    2 +-
 qw/source/sv_user.c                         |    6 +-
 tools/qfbsp/source/qfbsp.c                  |   13 +-
 tools/qfvis/source/qfvis.c                  |    8 +-
 vc2005/QuakeForge.sln                       |   86 +++++++++++++
 vc2005/builtins/builtins.vcproj             |  143 ++++++++++++++++++++++
 vc2005/clean.ps1                            |    2 +-
 vc2005/common/common.vcproj                 |  143 ++++++++++++++++++++++
 vc2005/console/console.vcproj               |  143 ++++++++++++++++++++++
 vc2005/console_client/console_client.vcproj |  143 ++++++++++++++++++++++
 vc2005/console_server/console_server.vcproj |  143 ++++++++++++++++++++++
 vc2005/engine/engine.vcproj                 |  143 ++++++++++++++++++++++
 vc2005/gib/gib.vcproj                       |  143 ++++++++++++++++++++++
 vc2005/image/image.vcproj                   |  143 ++++++++++++++++++++++
 vc2005/include/config.h                     |   14 ++-
 vc2005/models/models.vcproj                 |  143 ++++++++++++++++++++++
 vc2005/modelsgl/modelsgl.vcproj             |  143 ++++++++++++++++++++++
 vc2005/net/net.vcproj                       |  143 ++++++++++++++++++++++
 vc2005/qfbsp/qfbsp.vcproj                   |  174 +++++++++++++++++++++++++++
 vc2005/qfclient/qfclient.vcproj             |  174 +++++++++++++++++++++++++++
 vc2005/qflight/qflight.vcproj               |  174 +++++++++++++++++++++++++++
 vc2005/qfserver/qfserver.vcproj             |  174 +++++++++++++++++++++++++++
 vc2005/qfvis/qfvis.vcproj                   |  174 +++++++++++++++++++++++++++
 vc2005/qw/qw.vcproj                         |  143 ++++++++++++++++++++++
 vc2005/ruamoko/ruamoko.vcproj               |  143 ++++++++++++++++++++++
 vc2005/sound/sound.vcproj                   |  143 ++++++++++++++++++++++
 vc2005/util/util.vcproj                     |  143 ++++++++++++++++++++++
 vc2005/video/video.vcproj                   |  143 ++++++++++++++++++++++
 44 files changed, 3335 insertions(+), 80 deletions(-)

commit 51a7392
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Apr 3 22:47:42 2007 +0000

    fix both the black skins and phrosty's overzealous memcpy bugs

 nq/source/skin.c |   11 +++++++----
 qw/source/skin.c |   11 +++++++----
 2 files changed, 14 insertions(+), 8 deletions(-)

commit 3cb9e08
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Mar 31 23:36:13 2007 +0000

    make -nocdaudio wor

 libs/audio/cd.c        |    5 +++++
 libs/audio/cd/cd_sgi.c |    3 ---
 2 files changed, 5 insertions(+), 3 deletions(-)

commit 72af804
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Mar 31 15:27:36 2007 +0000

    nested include reporting

 tools/qfcc/include/expr.h  |    4 +--
 tools/qfcc/include/qfcc.h  |    8 ++++++
 tools/qfcc/source/expr.c   |   16 +++++++++---
 tools/qfcc/source/qc-lex.l |   61 +++++++++++++++++++++++++++++++++++++++-----
 4 files changed, 77 insertions(+), 12 deletions(-)

commit 5e98c49
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Mar 31 15:26:58 2007 +0000

    chase down a runaway else

 tools/qfcc/source/cpp.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 90129fc
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Mar 31 13:54:09 2007 +0000

    add $frame_reset grab command to reset the frame macro counter and sneak the command in before each file in the single-cpp script. This fixes the bogus animations in nq (and anything else, for that matter)

 tools/qfcc/source/qc-lex.l |    4 ++++
 tools/qfcc/source/qfcc.c   |    1 +
 2 files changed, 5 insertions(+)

commit 03e1d6c
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Mar 30 09:02:36 2007 +0000

    re-implement the comment lexer using states to re-learn how things work prior to implementing preqcc support

 tools/qfcc/source/qc-lex.l |   25 +++++++++----------------
 1 file changed, 9 insertions(+), 16 deletions(-)

commit 542c1bb
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Mar 30 07:41:17 2007 +0000

    new cache scheme now works properly. next step: shuffle blocks to the top of the heap before locking them

 libs/util/zone.c |   54 +++++++++++++++++++++++++++++++++++-------------------
 1 file changed, 35 insertions(+), 19 deletions(-)

commit 4cab5b9
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Mar 28 13:09:49 2007 +0000

    new cache allocation scheme. still a couple warts, but at least now there's something to work with, and more importantly, there won't be cache movement anywhere near as often.

 include/QF/zone.h |    2 +-
 libs/util/zone.c  |  392 +++++++++++++++++++++++++++--------------------------
 2 files changed, 200 insertions(+), 194 deletions(-)

commit e5b9725
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Mar 28 09:52:01 2007 +0000

    take a chainsaw to the existing code, cleaning out anything that's obviously unnecessary. preparation for the cache re-write

 include/QF/zone.h |   45 ++-------
 libs/util/zone.c  |  272 +++++++----------------------------------------------
 2 files changed, 40 insertions(+), 277 deletions(-)

commit 82e732b
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Tue Mar 27 09:41:04 2007 +0000

    Don't automatically append a space when results are from a custom completion handler

 libs/console/complete.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 20422dd
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Tue Mar 27 07:20:26 2007 +0000

    remove ao.m4 :)

 acinclude.m4 |    1 -
 m4/ao.m4     |  112 ----------------------------------------------------------
 2 files changed, 113 deletions(-)

commit 39c5bd0
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Tue Mar 27 07:08:22 2007 +0000

    Clean up aclocal stuff.

 acinclude.m4             | 1299 +---------------------------------------------
 configure.ac             |    4 +-
 m4/acx_pthread.m4        |  280 ++++++++++
 m4/ao.m4                 |  112 ++++
 m4/ax_c___attribute__.m4 |   69 +++
 m4/ax_create_stdint_h.m4 |  734 ++++++++++++++++++++++++++
 m4/libFLAC.m4            |  104 ++++
 m4/libOggFLAC.m4         |  104 ++++
 m4/libcurl.m4            |  239 +++++++++
 m4/ogg.m4                |  102 ++++
 m4/pkg.m4                |  157 ++++++
 m4/quakeforge.m4         |  155 ++++++
 m4/sdl.m4                |  181 +++++++
 m4/vorbis.m4             |  122 +++++
 m4/xmms.m4               |  148 ++++++
 15 files changed, 2519 insertions(+), 1291 deletions(-)

commit 8d5b5fd
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Mar 27 06:15:57 2007 +0000

    cleanup of channel stopping and fix cd_file's pause/resume

 include/snd_render.h               |    2 +-
 libs/audio/cd/cd_file.c            |    9 ++--
 libs/audio/renderer/snd_channels.c |  104 +++++++++++++++++-------------------
 libs/audio/renderer/snd_mix.c      |    2 +
 4 files changed, 54 insertions(+), 63 deletions(-)

commit f2dc7bd
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Mar 27 04:12:04 2007 +0000

    Cleanup SND_StaticSound a bit.

 libs/audio/renderer/snd_channels.c |   15 ++++++---------
 1 file changed, 6 insertions(+), 9 deletions(-)

commit 5d73a80
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Mar 27 03:49:42 2007 +0000

    use ch->sfx in one place only. doesn't really fix anything though.

 libs/audio/renderer/snd_mix.c |   23 ++++++++++++-----------
 1 file changed, 12 insertions(+), 11 deletions(-)

commit 72a1aeb
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Mar 27 03:43:52 2007 +0000

    d'oh

 libs/audio/renderer/snd_mem.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit e994e62
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Mar 27 03:42:11 2007 +0000

    I'm getting pretty annoyed with this cache-release bug :P

 libs/audio/renderer/snd_mem.c |    8 +++++++-
 1 file changed, 7 insertions(+), 1 deletion(-)

commit 3bc7921
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Mar 27 00:50:08 2007 +0000

    plug a potential channel leak

 libs/audio/renderer/snd_channels.c |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 522b069
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Mar 27 00:49:20 2007 +0000

    wow, wasn't thinking well with that one. fixes the seg with the default renderer

 libs/audio/renderer/snd_mix.c |    3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit b987d5e
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Mar 26 13:30:56 2007 +0000

    mixer is a bit more reliable, but still getting cut-offs :(

 libs/audio/renderer/snd_mix.c |   42 +++++++++++++++++------------------------
 1 file changed, 17 insertions(+), 25 deletions(-)

commit 9704087
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Mar 26 11:49:54 2007 +0000

    opps, that wasn't meant to go in

 libs/audio/renderer/snd_channels.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit f2e5244
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Mar 26 11:44:52 2007 +0000

    reduce a lot of duplicated code. should have done it this way in the first place. anyway, now I can get on with fixing the cut-off bug (I hope).

 include/snd_render.h               |   45 ++------
 libs/audio/renderer/flac.c         |    1 +
 libs/audio/renderer/snd_channels.c |    4 +-
 libs/audio/renderer/snd_mix.c      |  218 ++++++++++++------------------------
 libs/audio/renderer/snd_resample.c |    6 -
 libs/audio/renderer/snd_sfx.c      |    1 +
 libs/audio/renderer/vorbis.c       |    1 +
 libs/audio/renderer/wav.c          |    1 +
 8 files changed, 86 insertions(+), 191 deletions(-)

commit fd8f530
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Mar 26 09:06:50 2007 +0000

    make valgrind stop crying wolf

 libs/util/quakefs.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit b936159
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Mar 25 08:30:06 2007 +0000

    remove some debug

 libs/audio/renderer/snd_channels.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 1d1982f
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Mar 25 08:12:43 2007 +0000

    more improvements to the sound offsetting

 include/QF/sound.h                 |    1 +
 libs/audio/renderer/snd_channels.c |   45 +++++++++++++++---------------------
 libs/audio/renderer/snd_sfx.c      |    3 +++
 3 files changed, 23 insertions(+), 26 deletions(-)

commit 2f7d686
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Mar 25 08:11:52 2007 +0000

    make things a little quieter (less likely to clip)

 libs/audio/renderer/snd_jack.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit f2d7630
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Mar 25 07:45:13 2007 +0000

    better sound offsetting

 libs/audio/renderer/snd_channels.c |   26 ++++++++-------
 libs/audio/renderer/snd_mix.c      |   63 ++++++++++++++++++++++++++++--------
 2 files changed, 63 insertions(+), 26 deletions(-)

commit 33a7c39
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Mar 25 06:48:19 2007 +0000

    allow initially silent channels to be active incase they are later audible

 libs/audio/renderer/snd_channels.c |    3 ---
 1 file changed, 3 deletions(-)

commit 0a14226
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Mar 25 06:42:14 2007 +0000

    ensure silent channels get freed

 libs/audio/renderer/snd_mix.c |   38 ++++++++++++++++++++++++++------------
 1 file changed, 26 insertions(+), 12 deletions(-)

commit ab11912
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Mar 25 05:47:53 2007 +0000

    fix the scrag = fiend bug

 nq/source/host_cmd.c |    1 +
 1 file changed, 1 insertion(+)

commit c20a553
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Mar 25 04:15:18 2007 +0000

    free entities that didn't get initialized (lost this in the format conversion)

 libs/gamecode/engine/pr_parse.c |    4 ++++
 1 file changed, 4 insertions(+)

commit d5f886c
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Mar 25 03:50:18 2007 +0000

    forgot to read lightstyles

 nq/source/host_cmd.c |   30 ++++++++++++++++++++++--------
 1 file changed, 22 insertions(+), 8 deletions(-)

commit 6e77198
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Mar 25 02:01:10 2007 +0000

    handle the new save files properly

 ruamoko/cl_menu/client_menu.qc |   25 +++++++++++++++++++++++--
 1 file changed, 23 insertions(+), 2 deletions(-)

commit 4a421db
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Mar 25 02:00:38 2007 +0000

    scaning the new save files needs a lot more memory

 libs/console/menu.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 6678e67
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Mar 25 01:02:03 2007 +0000

    clamp the default renderer to 44100 too, and spew messages when running out of channels.

 libs/audio/renderer/snd_channels.c |   10 +++++++---
 libs/audio/renderer/snd_dma.c      |    4 ++++
 2 files changed, 11 insertions(+), 3 deletions(-)

commit 3609a22
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Mar 24 14:20:36 2007 +0000

    forgot this

 qw/include/cl_parse.h |    1 +
 1 file changed, 1 insertion(+)

commit 12535ec
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Mar 24 14:20:20 2007 +0000

    error checking :)

 qw/source/cl_http.c  |   20 +++++++++++++++++---
 qw/source/cl_parse.c |   17 ++++++++++++++++-
 2 files changed, 33 insertions(+), 4 deletions(-)

commit a4f9363
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Mar 24 13:57:07 2007 +0000

    get the basics of http download working. need error checking.

 qw/source/cl_main.c  |    7 +++--
 qw/source/cl_parse.c |   75 +++++++++++++++++++++++++++++---------------------
 2 files changed, 49 insertions(+), 33 deletions(-)

commit d7b84e3
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Mar 24 13:56:14 2007 +0000

    http redirect is similar to file not found

 qw/source/sv_user.c |    4 ++++
 1 file changed, 4 insertions(+)

commit 58112a6
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Mar 24 12:28:47 2007 +0000

    fix a couple of missed VISIBLE tags

 libs/util/sys.c                   |    2 +-
 libs/video/targets/vid_3dfxsvga.c |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit cc6ec57
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Mar 24 11:46:41 2007 +0000

    fix a weird naming issue that caused uninitialized error (weird mostly because it snuck past me)

 libs/audio/renderer/midi.c |    5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

commit 8871765
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Mar 24 11:43:08 2007 +0000

    require gcc4 for the inline limit stuff (doesn't work in certain 3.4 versions)

 configure.ac |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 932c9e7
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Mar 24 11:33:21 2007 +0000

    fix incorrect braces

 configure.ac |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit dc09b6e
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Mar 24 11:28:22 2007 +0000

    this should fix the jack test

 configure.ac |   11 +++--------
 1 file changed, 3 insertions(+), 8 deletions(-)

commit 605d7bd
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Mar 24 11:11:42 2007 +0000

    fix Hikaru's broken build (older gcc)

 acinclude.m4 |   12 ++++++++++--
 configure.ac |    5 +++--
 2 files changed, 13 insertions(+), 4 deletions(-)

commit 984d42d
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Mar 24 11:11:19 2007 +0000

    fix an unitialized variable (won't fix the bug, though)

 libs/audio/renderer/snd_channels.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit da1b11f
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Mar 24 10:42:34 2007 +0000

    I'm tired of the cache bug, but it hides nicely behind gamedir changes, so I'll just leave it for now with a FIXME

 libs/audio/renderer/snd_channels.c |    3 +++
 1 file changed, 3 insertions(+)

commit 32c1127
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Mar 24 10:38:16 2007 +0000

    that was a bit of a mistake, but it did highlight bugs :)

 qw/source/cl_parse.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 784673a
Author: Timothy C. McGrath <tmhikaru@gmail.com>
Date:   Sat Mar 24 10:17:05 2007 +0000

    Update FAQ so people who get stumped by trying to build svn and get configure syntax errors will know what to do. Hikaru

 doc/faq.txt |    8 ++++++++
 1 file changed, 8 insertions(+)

commit 02c41fe
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Mar 24 10:13:10 2007 +0000

    make gamedir change a two phase operation so things can be done both before and after the cache is flushed. (still having problems with cached sounds, though)

 include/QF/draw.h                  |    4 ----
 include/QF/quakefs.h               |    5 ++++-
 libs/audio/cd/cd_file.c            |    5 +++--
 libs/audio/renderer/snd_channels.c |   38 +++++++++++++++++-------------------
 libs/audio/renderer/snd_sfx.c      |    2 +-
 libs/net/nc/net_udp.c              |    6 ++++--
 libs/util/quakefs.c                |    7 ++++---
 libs/video/renderer/gl/gl_draw.c   |    6 ++++--
 libs/video/renderer/sw/draw.c      |    6 ------
 libs/video/renderer/sw32/draw.c    |    6 ------
 qw/source/cl_main.c                |    4 +++-
 qw/source/cl_tent.c                |    6 ++++--
 12 files changed, 45 insertions(+), 50 deletions(-)

commit 54139a1
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Mar 24 08:37:04 2007 +0000

    don't try to release an sfx when the cache has been flushed: our held sfx gets ripped out from underneath us.

 libs/audio/renderer/snd_mem.c |    5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit e6c4817
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Mar 23 14:52:10 2007 +0000

    fix lack of rendering in demos

 qw/source/cl_skin.c |   12 +++++++-----
 1 file changed, 7 insertions(+), 5 deletions(-)

commit b8c11cc
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Mar 23 14:41:53 2007 +0000

    bah, that line was needed after all. still don't know why (it shouldn't be)

 libs/audio/renderer/snd_channels.c |    1 +
 1 file changed, 1 insertion(+)

commit 7add93e
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Mar 23 14:22:59 2007 +0000

    forgot to make Cache_ReadLock visible

 libs/util/zone.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 407e362
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Mar 23 13:39:02 2007 +0000

    patch from phrosty to fix the borked svn update

 vc2005/QuakeForge.sln                       |  178 -------
 vc2005/builtins/builtins.vcproj             |  193 -------
 vc2005/clean.ps1                            |    7 +-
 vc2005/common/common.vcproj                 |  205 --------
 vc2005/console/console.vcproj               |  209 --------
 vc2005/console_client/console_client.vcproj |  193 -------
 vc2005/console_server/console_server.vcproj |  185 -------
 vc2005/engine/engine.vcproj                 |  225 ---------
 vc2005/gib/gib.vcproj                       |  253 ----------
 vc2005/image/image.vcproj                   |  197 --------
 vc2005/include/config.h                     |  726 ---------------------------
 vc2005/models/models.vcproj                 |  205 --------
 vc2005/modelsgl/modelsgl.vcproj             |  237 ---------
 vc2005/net/net.vcproj                       |  189 -------
 vc2005/qfbsp/qfbsp.vcproj                   |  288 -----------
 vc2005/qfclient/qfclient.vcproj             |  408 ---------------
 vc2005/qflight/qflight.vcproj               |  276 ----------
 vc2005/qfserver/qfserver.vcproj             |  288 -----------
 vc2005/qfvis/qfvis.vcproj                   |  244 ---------
 vc2005/qw/qw.vcproj                         |  189 -------
 vc2005/ruamoko/ruamoko.vcproj               |  233 ---------
 vc2005/sound/sound.vcproj                   |  225 ---------
 vc2005/util/util.vcproj                     |  333 ------------
 vc2005/video/video.vcproj                   |  345 -------------
 24 files changed, 1 insertion(+), 6030 deletions(-)

commit 6ff7c05
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Fri Mar 23 13:13:26 2007 +0000

    shamblerdimension lart

 libs/console/console.c |   22 +++++++++-------------
 1 file changed, 9 insertions(+), 13 deletions(-)

commit 657baba
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Mar 23 13:09:09 2007 +0000

    always call QFS_Gamedir on receipt of the server info

 qw/source/cl_parse.c |    3 +--
 qw/source/cl_tent.c  |    1 -
 2 files changed, 1 insertion(+), 3 deletions(-)

commit 818756a
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Mar 23 12:36:55 2007 +0000

    add a debug function

 include/QF/zone.h |    1 +
 libs/util/zone.c  |    6 ++++++
 2 files changed, 7 insertions(+)

commit 4ccb667
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Mar 23 12:33:04 2007 +0000

    fix the "Cache_Release: already released!" error

 libs/audio/renderer/snd_channels.c |   12 +++++++++---
 1 file changed, 9 insertions(+), 3 deletions(-)

commit 81a57bb
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Mar 22 23:20:57 2007 +0000

    patch from phrosty for vc2005 support. includes fixes for a bunch of gcc-isms that crept in over the years.

 include/QF/plugin/cd.h                      |    1 +
 include/QF/plugin/input.h                   |    1 +
 include/win32/dirent.h                      |   27 +-
 libs/audio/renderer/snd_mem.c               |    4 +
 libs/console/complete.c                     |    8 +-
 libs/console/console.c                      |    5 +-
 libs/console/filelist.c                     |    2 +-
 libs/console/inputline.c                    |    2 +-
 libs/gamecode/engine/pr_parse.c             |    6 +-
 libs/gib/exp.c                              |    4 +
 libs/gib/gib_builtin.c                      |    6 +-
 libs/gib/gib_classes.c                      |   76 +-
 libs/gib/gib_execute.c                      |    2 +-
 libs/gib/gib_function.c                     |   89 +-
 libs/gib/gib_semantics.c                    |    4 +
 libs/gib/gib_thread.c                       |   22 +-
 libs/gib/regex.c                            |   16 +-
 libs/ruamoko/rua_obj.c                      |    4 +
 libs/ruamoko/rua_string.c                   |    4 +
 libs/util/cbuf.c                            |    4 +-
 libs/util/dirent.c                          |   22 +
 libs/util/llist.c                           |    3 +-
 libs/util/pakfile.c                         |    2 +
 libs/util/qfplist.c                         |    6 +-
 libs/util/quakefs.c                         |   16 +-
 libs/util/quakeio.c                         |    9 +-
 libs/util/sizebuf.c                         |    9 +-
 libs/util/sys.c                             |    6 +
 libs/util/wadfile.c                         |    2 +
 libs/util/zone.c                            |    2 +-
 libs/video/renderer/gl/gl_rmain.c           |   68 +-
 libs/video/renderer/gl/gl_sky.c             |    2 +-
 libs/video/renderer/gl/gl_sky_clip.c        |    4 +
 libs/video/targets/old_keys.c               |    4 +
 libs/video/targets/vtxarray.c               |   16 +-
 qw/source/cl_chat.c                         |  125 +--
 qw/source/cl_demo.c                         |    2 +
 qw/source/cl_main.c                         |    4 +
 qw/source/cl_tent.c                         |    1 +
 qw/source/sv_demo.c                         |    2 +
 qw/source/sv_main.c                         |    4 +-
 qw/source/sv_recorder.c                     |    2 +
 tools/qfbsp/source/qfbsp.c                  |    3 +
 tools/qflight/source/noise.c                |    3 +
 tools/qflight/source/vis.c                  |    3 +
 vc2005/QuakeForge.sln                       |  356 +++++++
 vc2005/builtins/builtins.vcproj             |  386 +++++++
 vc2005/clean.ps1                            |    8 +
 vc2005/common/common.vcproj                 |  410 ++++++++
 vc2005/console/console.vcproj               |  418 ++++++++
 vc2005/console_client/console_client.vcproj |  386 +++++++
 vc2005/console_server/console_server.vcproj |  370 +++++++
 vc2005/engine/engine.vcproj                 |  450 +++++++++
 vc2005/gib/gib.vcproj                       |  506 ++++++++++
 vc2005/image/image.vcproj                   |  394 ++++++++
 vc2005/include/config.h                     | 1452 +++++++++++++++++++++++++++
 vc2005/models/models.vcproj                 |  410 ++++++++
 vc2005/modelsgl/modelsgl.vcproj             |  474 +++++++++
 vc2005/net/net.vcproj                       |  378 +++++++
 vc2005/qfbsp/qfbsp.vcproj                   |  576 +++++++++++
 vc2005/qfclient/qfclient.vcproj             |  816 +++++++++++++++
 vc2005/qflight/qflight.vcproj               |  552 ++++++++++
 vc2005/qfserver/qfserver.vcproj             |  576 +++++++++++
 vc2005/qfvis/qfvis.vcproj                   |  488 +++++++++
 vc2005/qw/qw.vcproj                         |  378 +++++++
 vc2005/ruamoko/ruamoko.vcproj               |  466 +++++++++
 vc2005/sound/sound.vcproj                   |  450 +++++++++
 vc2005/util/util.vcproj                     |  666 ++++++++++++
 vc2005/video/video.vcproj                   |  690 +++++++++++++
 69 files changed, 12433 insertions(+), 230 deletions(-)

commit 9d165f3
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Mar 22 08:27:54 2007 +0000

    fix lost channels (fixes both running out of channels and non-stop loops)

 libs/audio/renderer/snd_channels.c |    1 -
 1 file changed, 1 deletion(-)

commit f71d3da
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Mar 22 07:37:18 2007 +0000

    rename http to download is the spec is fairly generic

 doc/qw-cap-spec.txt      |    2 +-
 doc/qw-download-spec.txt |   93 ++++++++++++++++++++++++++++++++++++++++++++++
 doc/qw-http-spec.txt     |   93 ----------------------------------------------
 3 files changed, 94 insertions(+), 94 deletions(-)

commit 04639c7
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Mar 21 14:37:16 2007 +0000

    remove some stuff I forgot about

 libs/audio/renderer/snd_channels.c |   14 ++++----------
 1 file changed, 4 insertions(+), 10 deletions(-)

commit 2d6f8c6
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Mar 21 13:05:23 2007 +0000

    compress // to /

 libs/util/quakefs.c |    7 ++++++-
 1 file changed, 6 insertions(+), 1 deletion(-)

commit 5a1c57f
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Mar 21 12:56:43 2007 +0000

    better channel selection: don't bother. having problems with looped sounds that can't be stopped and getting the wrong sfx at times.

 libs/audio/renderer/snd_channels.c |  154 +++++++++++++++++++++---------------
 1 file changed, 90 insertions(+), 64 deletions(-)

commit 62df1f2
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Mar 21 12:50:41 2007 +0000

    fix some missing symbols

 libs/audio/renderer/snd_dma.c      |    8 --------
 libs/audio/renderer/snd_jack.c     |    2 --
 libs/audio/renderer/snd_mix.c      |    4 ++++
 libs/audio/renderer/snd_resample.c |    3 +++
 4 files changed, 7 insertions(+), 10 deletions(-)

commit 1fc20e7
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Mar 21 12:05:10 2007 +0000

    external documentation of *cap info key

 doc/qw-cap-spec.txt |   27 +++++++++++++++++++++++++++
 1 file changed, 27 insertions(+)

commit 4276d92
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Mar 21 11:56:25 2007 +0000

    update cap flag comments to reflect http being implemented

 qw/source/cl_main.c |   12 ++++++------
 1 file changed, 6 insertions(+), 6 deletions(-)

commit 4fd2c3d
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Mar 21 11:53:56 2007 +0000

    add EXT to the challenge string as a generic marker for the clients to send "*cap" etc.

 qw/source/cl_main.c |    2 ++
 qw/source/sv_main.c |    2 +-
 2 files changed, 3 insertions(+), 1 deletion(-)

commit f0a4c4a
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Mar 21 11:41:34 2007 +0000

    remove a bogus "done" and use 1 instead of 2 (holdover from a previous itteration of the code)

 libs/audio/renderer/snd_mix.c |    3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit 7252ef1
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Mar 21 11:39:01 2007 +0000

    allow the mixer to run even when sound blocked. prevents sounds piling up

 libs/audio/renderer/snd_jack.c |   15 +++++++--------
 1 file changed, 7 insertions(+), 8 deletions(-)

commit b8712f2
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Mar 21 11:35:45 2007 +0000

    check that newname isn't "" rather than that it isn't null (never will be)

 qw/source/cl_parse.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit aae9157
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Mar 21 11:23:11 2007 +0000

    add the data block

 doc/qw-http-spec.txt |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit b460656
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Mar 21 11:18:12 2007 +0000

    basic specs for the http extension to downloads (as a bonus, includes the specs for the gzipped downloads, as such).

 doc/qw-http-spec.txt |   91 ++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 91 insertions(+)

commit 20b8dce
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Mar 21 09:33:46 2007 +0000

    cleanup the shutdown list in a manner that won't cause problems in a nested shutdown

 libs/util/sys.c |   10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit 1e6bc5f
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Wed Mar 21 01:41:15 2007 +0000

    More intelligent completion

 libs/console/complete.c |   14 ++++----------
 1 file changed, 4 insertions(+), 10 deletions(-)

commit 0c237cc
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Tue Mar 20 21:31:07 2007 +0000

    Allow cbuf interpreter to handle completion finding. Enhance completion logic a bit.

 include/QF/cbuf.h       |    1 +
 include/QF/cmd.h        |    9 ++++++
 libs/console/complete.c |   80 +++++++++++++++++++++++++++++++++++++++--------
 libs/util/cmd.c         |   10 +-----
 libs/util/idparse.c     |    1 +
 5 files changed, 79 insertions(+), 22 deletions(-)

commit c3e081a
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Mar 20 21:17:49 2007 +0000

    check downloadurl correctly

 qw/source/cl_main.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ca37474
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Mar 20 14:41:54 2007 +0000

    remove the magic numbers from the download protocol

 include/qw/protocol.h |    4 ++++
 qw/source/cl_parse.c  |    6 +++---
 qw/source/sv_user.c   |    6 +++---
 3 files changed, 10 insertions(+), 6 deletions(-)

commit af20e26
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Mar 20 14:37:50 2007 +0000

    server side of http transfer support (untested)

 qw/source/sv_user.c |   40 ++++++++++++++++++++++++++++++++--------
 1 file changed, 32 insertions(+), 8 deletions(-)

commit fa011b5
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Mar 20 14:16:43 2007 +0000

    client side of http transfer support (untested)

 configure.ac                |    3 +
 include/QF/plugin/console.h |    2 +-
 libs/console/client.c       |    4 +-
 qw/include/Makefile.am      |    2 +-
 qw/include/cl_http.h        |   41 +++++++++++
 qw/include/cl_parse.h       |    1 +
 qw/include/client.h         |    5 +-
 qw/source/Makefile.am       |   22 +++---
 qw/source/cl_http.c         |  129 +++++++++++++++++++++++++++++++++++
 qw/source/cl_main.c         |   23 +++++--
 qw/source/cl_parse.c        |  159 +++++++++++++++++++++++++++----------------
 11 files changed, 312 insertions(+), 79 deletions(-)

commit 03e5ae1
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Mar 20 13:37:38 2007 +0000

    print noisy reminder to fix resampler

 libs/audio/renderer/snd_jack.c |    4 ++++
 1 file changed, 4 insertions(+)

commit 988898c
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Mar 20 13:29:10 2007 +0000

    fix segfault when setting ambient_level to 0

 libs/audio/renderer/snd_channels.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 4c234c2
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Mar 20 13:23:17 2007 +0000

    ensure entities are cleared at map change (fixes segfault)

 qw/source/cl_main.c |   10 ++++++++++
 1 file changed, 10 insertions(+)

commit b6e52fa
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Tue Mar 20 05:55:29 2007 +0000

    Avoid duplicate entries when enumerating a directory

 libs/util/quakefs.c |   15 ++++++++++++++-
 1 file changed, 14 insertions(+), 1 deletion(-)

commit e52940a
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Mar 19 22:20:13 2007 +0000

    add snd_force_unblock as an attempt to work around stuck sound on focus changes

 libs/audio/renderer/snd_dma.c  |    9 +++++++++
 libs/audio/renderer/snd_jack.c |   11 +++++++++++
 2 files changed, 20 insertions(+)

commit c3e8b5d
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Mon Mar 19 10:43:29 2007 +0000

    Add naive QFS_IsDirectory and QFS_FilelistEnumerate until more intelligent pak handling is added

 include/QF/quakefs.h |    3 ++
 libs/util/quakefs.c  |  108 ++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 111 insertions(+)

commit 48e7b65
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Mar 18 22:09:51 2007 +0000

    don't seg on shutdown when jackd wasn't there

 libs/audio/renderer/snd_jack.c |   10 ++++++----
 1 file changed, 6 insertions(+), 4 deletions(-)

commit a2b1cc7
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Mar 18 21:56:14 2007 +0000

    I think I found the correct place for the state change

 qw/source/cl_parse.c |    1 -
 qw/source/cl_skin.c  |    1 +
 2 files changed, 1 insertion(+), 1 deletion(-)

commit 0f1cd87
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Mar 18 13:29:58 2007 +0000

    cleaner sfx handling in dynamic sounds

 libs/audio/renderer/snd_channels.c |    9 +++------
 libs/audio/renderer/snd_dma.c      |    1 +
 2 files changed, 4 insertions(+), 6 deletions(-)

commit d9b7ccd
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Mar 18 13:07:20 2007 +0000

    seems to fix going from start to e1m1 in nq

 libs/audio/renderer/snd_channels.c |    5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit d67cbea
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Mar 18 12:54:59 2007 +0000

    bring cd_file in line with the new sound api

 include/QF/plugin/snd_render.h     |    2 ++
 include/QF/sound.h                 |    5 +++++
 libs/audio/cd/cd_file.c            |   26 ++++++++++----------------
 libs/audio/renderer/snd_channels.c |   11 +++++++----
 libs/audio/renderer/snd_dma.c      |    1 +
 libs/audio/renderer/snd_jack.c     |    1 +
 libs/audio/snd.c                   |    7 +++++++
 7 files changed, 33 insertions(+), 20 deletions(-)

commit a3ceb05
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Mar 18 12:53:59 2007 +0000

    be a little more verbose

 libs/util/zone.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 9baefa9
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Mar 18 11:58:54 2007 +0000

    write 0s to the buffer when sound is blocked

 libs/audio/renderer/snd_jack.c |    8 ++++++--
 1 file changed, 6 insertions(+), 2 deletions(-)

commit bbdca84
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Mar 18 11:20:47 2007 +0000

    channel leak plugged

 include/snd_render.h               |    5 +++++
 libs/audio/renderer/snd_channels.c |   36 ++++++++++++++++++++++++++++++++++--
 libs/audio/renderer/snd_jack.c     |   10 ++++++----
 3 files changed, 45 insertions(+), 6 deletions(-)

commit 1315d41
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Mar 18 10:45:29 2007 +0000

    found the missing retain

 libs/audio/renderer/snd_channels.c |    6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit b320778
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Mar 18 10:42:16 2007 +0000

    hmm, how did that happen? ah well

 libs/util/quakefs.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 5a0e246
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Mar 18 10:32:01 2007 +0000

    whee, lockless channel management. still have a problem with unbalanced retain/release, though.

 include/QF/sound.h                 |    1 +
 include/snd_render.h               |   41 +++++++--
 libs/audio/renderer/snd_channels.c |  166 +++++++++++++++++++++++++-----------
 libs/audio/renderer/snd_mem.c      |   20 ++++-
 libs/audio/renderer/snd_mix.c      |   17 ++--
 libs/audio/renderer/snd_resample.c |    2 +-
 libs/audio/renderer/snd_sfx.c      |    5 ++
 7 files changed, 185 insertions(+), 67 deletions(-)

commit 25fdbda
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Sun Mar 18 07:12:45 2007 +0000

    More C++ compatibility fixes

 include/QF/quakefs.h |    2 +-
 libs/util/quakefs.c  |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit e6e28d3
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Sun Mar 18 07:12:23 2007 +0000

    Be verbose about the interpreter changing

 libs/console/console.c |    5 +++++
 1 file changed, 5 insertions(+)

commit 39d8a90
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Sun Mar 18 03:48:09 2007 +0000

    Allow interpreter providers for the console to be registered and allow on-the-fly interpreter switching.

 include/QF/cmd.h       |    4 ++++
 libs/console/console.c |   24 +++++++++++++++++++++++
 libs/util/cmd.c        |   51 ++++++++++++++++++++++++++++++++++++++++++++++++
 3 files changed, 79 insertions(+)

commit 659d952
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Mar 18 03:37:37 2007 +0000

    hopefully fix both the "get stuck waiting for 3d" bug and the null worldmodel bug.

 qw/source/cl_parse.c |    1 +
 qw/source/cl_pred.c  |   13 -------------
 2 files changed, 1 insertion(+), 13 deletions(-)

commit e74a8a7
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Mar 18 02:27:33 2007 +0000

    make the param names agree with the header file

 libs/util/quakeio.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit ab310cb
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Sun Mar 18 02:16:10 2007 +0000

    Allow compatibility with C++

 include/QF/qtypes.h  |   13 ++++++++-----
 include/QF/quakeio.h |    2 +-
 2 files changed, 9 insertions(+), 6 deletions(-)

commit 7043dd1
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Mar 18 01:51:37 2007 +0000

    forgot to do midi's stream_open

 libs/audio/renderer/midi.c |   41 ++---------------------------------------
 1 file changed, 2 insertions(+), 39 deletions(-)

commit 44aaec4
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Mar 18 01:44:46 2007 +0000

    make the cache/stream setup code common.

 include/snd_render.h          |   45 +++++++++++++++++++---
 libs/audio/renderer/flac.c    |   77 +++++---------------------------------
 libs/audio/renderer/midi.c    |   11 +-----
 libs/audio/renderer/snd_sfx.c |   83 +++++++++++++++++++++++++++++++++++++++++
 libs/audio/renderer/vorbis.c  |   76 +++++--------------------------------
 libs/audio/renderer/wav.c     |   70 +++-------------------------------
 6 files changed, 149 insertions(+), 213 deletions(-)

commit 8205ac4
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Mar 18 01:15:57 2007 +0000

    this should fix the asla seg

 libs/audio/snd.c |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit fc29386
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Sat Mar 17 21:06:00 2007 +0000

    Fix visibility of VectorNormalize and other math functions

 include/QF/mathlib.h |    6 ++++++
 1 file changed, 6 insertions(+)

commit 3a6ab1a
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Mar 17 09:33:21 2007 +0000

    enable blocking control (doesn't fix the thread problems, though)

 libs/audio/renderer/snd_jack.c |   42 ++++++++++++++++++++++++++++------------
 1 file changed, 30 insertions(+), 12 deletions(-)

commit ee12f44
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Mar 17 07:28:32 2007 +0000

    d'oh. anyway, with midi, sounds great (so long as jackd isn't suffering xruns)

 libs/audio/renderer/snd_jack.c |    2 --
 1 file changed, 2 deletions(-)

commit b4cb4af
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Mar 17 07:18:01 2007 +0000

    oops, didn't have wildmidi installed, so this bitrotted a bit

 libs/audio/renderer/midi.c |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 916a698
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Mar 17 07:05:24 2007 +0000

    it makes noise, but dies due to caching bugs

 include/snd_render.h           |    6 ++
 libs/audio/renderer/snd_dma.c  |  112 +++++++++++++++++++++++++++++++++
 libs/audio/renderer/snd_jack.c |   22 +++++++
 libs/audio/renderer/snd_mix.c  |  135 ++++------------------------------------
 4 files changed, 152 insertions(+), 123 deletions(-)

commit 9691afb
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Mar 17 06:20:52 2007 +0000

    connects to jack server and auto-wires the ports

 libs/audio/renderer/Makefile.am |   11 ++--
 libs/audio/renderer/snd_dma.c   |   15 +----
 libs/audio/renderer/snd_jack.c  |  122 ++++++++++++++++++++++-----------------
 libs/audio/renderer/snd_mem.c   |   10 ++++
 4 files changed, 85 insertions(+), 73 deletions(-)

commit ec49387
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Mar 17 03:23:39 2007 +0000

    update the year

 doc/template.c |    2 +-
 doc/template.h |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 973cf9a
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Mar 17 03:14:41 2007 +0000

    forgot to add these

 libs/audio/renderer/snd_channels.c |  561 ++++++++++++++++++++++++++++++++++++
 libs/audio/renderer/snd_jack.c     |  185 ++++++++++++
 libs/audio/renderer/snd_sfx.c      |  170 +++++++++++
 3 files changed, 916 insertions(+)

commit cde6e60
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Mar 17 03:10:45 2007 +0000

    most of the hacking needed to break out the common code from snd_dma.c

 configure.ac                    |   27 ++
 include/QF/plugin/cd.h          |    1 -
 include/QF/plugin/console.h     |    1 -
 include/QF/plugin/general.h     |    1 -
 include/QF/plugin/input.h       |    1 -
 include/QF/plugin/snd_output.h  |    1 -
 include/QF/plugin/snd_render.h  |    3 +-
 include/QF/sound.h              |    4 +-
 include/snd_render.h            |  110 ++++++-
 libs/audio/renderer/Makefile.am |   10 +-
 libs/audio/renderer/snd_dma.c   |  677 ++-------------------------------------
 libs/audio/renderer/snd_mix.c   |    3 +-
 libs/audio/snd.c                |    4 +-
 nq/source/cl_main.c             |    2 +-
 nq/source/cl_parse.c            |    2 +-
 qw/source/cl_main.c             |    8 +-
 16 files changed, 176 insertions(+), 679 deletions(-)

commit 0105754
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Mar 10 14:17:52 2007 +0000

    clean out some no-op functions

 include/QF/plugin/snd_render.h |    6 --
 include/QF/sound.h             |   15 ---
 libs/audio/renderer/snd_dma.c  |  204 +++++++++++++++-------------------------
 libs/audio/snd.c               |   21 -----
 nq/source/cl_parse.c           |    2 -
 5 files changed, 76 insertions(+), 172 deletions(-)

commit 99c0954
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Mar 10 12:00:59 2007 +0000

    the big dso visibility patch :). Sure, we have to have unique names for static builds, but with controlled visibitly we should get faster program loads (although this isn't C++, so it's not as bad) and complex plugins are cleaner.

 configure.ac                           |   22 ++++++-
 include/QF/mathlib.h                   |    1 -
 include/QF/plugin.h                    |    2 +-
 libs/audio/Makefile.am                 |    2 +-
 libs/audio/cd.c                        |   12 ++--
 libs/audio/cd/Makefile.am              |    2 +-
 libs/audio/renderer/Makefile.am        |    2 +-
 libs/audio/snd.c                       |   42 +++++++-------
 libs/audio/targets/Makefile.am         |    2 +-
 libs/console/Makefile.am               |    2 +-
 libs/console/buffer.c                  |    6 +-
 libs/console/complete.c                |    1 +
 libs/console/console.c                 |   17 +++++-
 libs/console/filelist.c                |    5 ++
 libs/console/inputline.c               |    4 ++
 libs/console/list.c                    |    2 +-
 libs/console/view.c                    |    8 +++
 libs/gamecode/builtins/Makefile.am     |    2 +-
 libs/gamecode/builtins/bi_gib.c        |    2 +-
 libs/gamecode/builtins/bi_inputline.c  |    4 +-
 libs/gamecode/builtins/pr_cmds.c       |    6 +-
 libs/gamecode/engine/Makefile.am       |    2 +-
 libs/gamecode/engine/pr_builtins.c     |    6 +-
 libs/gamecode/engine/pr_debug.c        |   10 ++--
 libs/gamecode/engine/pr_edict.c        |   12 ++--
 libs/gamecode/engine/pr_exec.c         |   10 ++--
 libs/gamecode/engine/pr_load.c         |   16 +++---
 libs/gamecode/engine/pr_opcode.c       |    8 +--
 libs/gamecode/engine/pr_parse.c        |   16 +++---
 libs/gamecode/engine/pr_resolve.c      |   10 ++--
 libs/gamecode/engine/pr_resource.c     |    6 +-
 libs/gamecode/engine/pr_strings.c      |   22 +++----
 libs/gamecode/engine/pr_zone.c         |    6 +-
 libs/gib/Makefile.am                   |    2 +-
 libs/gib/gib_buffer.c                  |    2 +-
 libs/gib/gib_builtin.c                 |   14 ++---
 libs/gib/gib_init.c                    |    2 +-
 libs/gib/gib_parse.c                   |    2 +-
 libs/gib/gib_thread.c                  |    6 +-
 libs/image/Makefile.am                 |    2 +-
 libs/image/image.c                     |    2 +-
 libs/image/pcx.c                       |    4 +-
 libs/image/png.c                       |    8 +--
 libs/image/tga.c                       |    2 +-
 libs/models/Makefile.am                |    2 +-
 libs/models/alias/Makefile.am          |    2 +-
 libs/models/alias/gl_model_alias.c     |    2 +-
 libs/models/brush/Makefile.am          |    2 +-
 libs/models/brush/gl_model_brush.c     |    2 +-
 libs/models/brush/model_brush.c        |    6 +-
 libs/models/brush/sw_model_brush.c     |    2 +-
 libs/models/clip_hull.c                |    4 +-
 libs/models/gl_model_fullbright.c      |    2 +-
 libs/models/model.c                    |   14 ++---
 libs/models/sprite/Makefile.am         |    2 +-
 libs/models/trace.c                    |    2 +-
 libs/net/Makefile.am                   |    2 +-
 libs/net/nc/Makefile.am                |    2 +-
 libs/net/nm/Makefile.am                |    2 +-
 libs/object/Makefile.am                |    2 +-
 libs/ruamoko/Makefile.am               |    2 +-
 libs/ruamoko/rua_cbuf.c                |    2 +-
 libs/ruamoko/rua_init.c                |    2 +-
 libs/util/Makefile.am                  |    4 +-
 libs/util/bspfile.c                    |   36 ++++++------
 libs/util/buildnum.c                   |    2 +-
 libs/util/cbuf.c                       |   26 ++++-----
 libs/util/checksum.c                   |    4 +-
 libs/util/cmd.c                        |   36 ++++++------
 libs/util/crc.c                        |    8 +--
 libs/util/cvar.c                       |   42 +++++++-------
 libs/util/dstring.c                    |   48 ++++++++--------
 libs/util/hash.c                       |   36 ++++++------
 libs/util/idparse.c                    |    6 +-
 libs/util/info.c                       |   20 +++----
 libs/util/link.c                       |    8 +--
 libs/util/llist.c                      |   28 ++++-----
 libs/util/mathlib.c                    |   60 +++++++++----------
 libs/util/mdfour.c                     |    8 +--
 libs/util/msg.c                        |   54 +++++++++---------
 libs/util/pakfile.c                    |   18 +++---
 libs/util/plugin.c                     |    8 +--
 libs/util/qargs.c                      |   10 ++--
 libs/util/qendian.c                    |   16 +++---
 libs/util/qfplist.c                    |   38 ++++++-------
 libs/util/quakefs.c                    |   64 ++++++++++-----------
 libs/util/quakeio.c                    |   42 +++++++-------
 libs/util/riff.c                       |    4 +-
 libs/util/script.c                     |   12 ++--
 libs/util/sizebuf.c                    |   10 ++--
 libs/util/sys.c                        |   44 +++++++-------
 libs/util/va.c                         |    4 +-
 libs/util/ver_check.c                  |    2 +-
 libs/util/wad.c                        |    6 +-
 libs/util/wadfile.c                    |   18 +++---
 libs/util/zone.c                       |   44 +++++++-------
 libs/video/renderer/gl/Makefile.am     |    2 +-
 libs/video/renderer/gl/gl_draw.c       |   28 ++++-----
 libs/video/renderer/gl/gl_dyn_part.c   |    4 +-
 libs/video/renderer/gl/gl_graph.c      |    2 +-
 libs/video/renderer/gl/gl_rmain.c      |   14 ++---
 libs/video/renderer/gl/gl_rmisc.c      |    6 +-
 libs/video/renderer/gl/gl_screen.c     |    4 +-
 libs/video/renderer/gl/gl_skin.c       |   12 ++--
 libs/video/renderer/gl/gl_textures.c   |    2 +-
 libs/video/renderer/sw/Makefile.am     |    4 +-
 libs/video/renderer/sw/d_sprite.c      |    2 +-
 libs/video/renderer/sw/draw.c          |   30 +++++-----
 libs/video/renderer/sw/sw_ralias.c     |    2 +-
 libs/video/renderer/sw/sw_rmain.c      |    2 +-
 libs/video/renderer/sw32/Makefile.am   |    2 +-
 libs/video/renderer/sw32/d_sprite.c    |    2 +-
 libs/video/renderer/sw32/d_surf.c      |    2 +-
 libs/video/renderer/sw32/draw.c        |   28 ++++-----
 libs/video/renderer/sw32/screen.c      |    4 +-
 libs/video/renderer/sw32/sw32_graph.c  |    2 +-
 libs/video/renderer/sw32/sw32_ralias.c |    2 +-
 libs/video/renderer/sw32/sw32_rmain.c  |   22 +++----
 libs/video/renderer/sw32/sw32_rpart.c  |    4 +-
 libs/video/renderer/sw32/sw32_skin.c   |   12 ++--
 libs/video/targets/in_common.c         |    6 +-
 libs/video/targets/joy.c               |   10 ++--
 libs/video/targets/keys.c              |   14 ++---
 libs/video/targets/qfgl_ext.c          |    6 +-
 libs/video/targets/vid.c               |    4 +-
 libs/video/targets/vid_common_gl.c     |   98 ++++++++++++++++----------------
 libs/video/targets/vid_common_sw32.c   |    6 +-
 libs/video/targets/vid_glx.c           |    2 +-
 libs/video/targets/vid_sdl32.c         |    6 +-
 libs/video/targets/vid_sgl.c           |    2 +-
 130 files changed, 763 insertions(+), 723 deletions(-)

commit 58523be
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Mar 10 07:30:12 2007 +0000

    oops

 libs/audio/snd.c |    1 +
 1 file changed, 1 insertion(+)

commit 17875be
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Mar 10 07:22:32 2007 +0000

    move the handling of -nosound out of the plugin so it can control loading of the plugin

 libs/audio/renderer/snd_dma.c |    6 ------
 libs/audio/snd.c              |    3 +++
 2 files changed, 3 insertions(+), 6 deletions(-)

commit d8f6d8a
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Mar 10 06:38:24 2007 +0000

    split out the resample code from the memory code

 libs/audio/renderer/Makefile.am    |    3 +-
 libs/audio/renderer/snd_mem.c      |  392 --------------------------------
 libs/audio/renderer/snd_resample.c |  441 ++++++++++++++++++++++++++++++++++++
 3 files changed, 443 insertions(+), 393 deletions(-)

commit 81a5a90
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Mar 10 06:31:50 2007 +0000

    all static data now

 libs/audio/renderer/snd_mix.c |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit b0543b9
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Mar 10 06:17:09 2007 +0000

    asm's been ditched for sound...

 libs/audio/renderer/Makefile.am |    5 -----
 1 file changed, 5 deletions(-)

commit 1508874
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Mar 10 06:01:28 2007 +0000

    realized this really is mostly general

 include/snd_render.h |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit b8d3579
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Mar 10 05:54:27 2007 +0000

    interface docs done. yay

 include/snd_render.h |  219 ++++++++++++++++++++++++++++++++++++++++++++------
 1 file changed, 195 insertions(+), 24 deletions(-)

commit d4719db
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Mar 10 04:21:32 2007 +0000

    a bunch of docs for snd_render.h and a some cleanup of namepace and old cruft

 include/QF/sound.h                |   27 +----
 include/asm_i386.h                |   33 ------
 include/qw/protocol.h             |    2 +
 include/snd_render.h              |  206 ++++++++++++++++++++++++-------------
 libs/audio/renderer/flac.c        |    2 +-
 libs/audio/renderer/snd_dma.c     |  122 +++++++++++-----------
 libs/audio/renderer/snd_mem.c     |   12 +--
 libs/audio/renderer/snd_mix.c     |   48 ++++-----
 libs/audio/renderer/vorbis.c      |    2 +-
 libs/audio/renderer/wav.c         |    2 +-
 libs/audio/targets/snd_alsa.c     |    6 +-
 libs/audio/targets/snd_alsa_0_9.c |    4 +-
 libs/audio/targets/snd_disk.c     |    4 +-
 libs/audio/targets/snd_dx.c       |    5 +-
 libs/audio/targets/snd_oss.c      |    5 +-
 libs/audio/targets/snd_sdl.c      |    5 +-
 libs/audio/targets/snd_sgi.c      |    6 +-
 libs/audio/targets/snd_sun.c      |    6 +-
 libs/audio/targets/snd_win.c      |    5 +-
 nq/include/protocol.h             |    2 +
 20 files changed, 255 insertions(+), 249 deletions(-)

commit 6f017f1
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Mar 10 01:06:00 2007 +0000

    add some documentation to QF/sound.h and move renderer private stuff into snd_render.h

 include/QF/sound.h   |  136 +++++++++++++++++++++++++++++++++++++++++---------
 include/snd_render.h |   21 ++++++++
 2 files changed, 134 insertions(+), 23 deletions(-)

commit 286d688
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Fri Mar 9 10:58:26 2007 +0000

    Add the re-discovered missing QF logo Blender data file.

 doc/qf-logo.blend |  Bin 0 -> 33208 bytes
 1 file changed, 0 insertions(+), 0 deletions(-)

commit ce3f73d
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Mar 9 10:28:52 2007 +0000

    more build-deps

 debian/control |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 0c63ac0
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Mar 8 22:40:40 2007 +0000

    update build deps and correct quakeforge-sdl's arch

 debian/control |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 2b0c82c
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Mar 8 13:54:56 2007 +0000

    update for svn and debian mingw

 tools/build_scripts/qf-release |   51 +++++++++++++++++++++++++++++++---------
 1 file changed, 40 insertions(+), 11 deletions(-)

commit 3a178c3
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Mar 8 13:44:03 2007 +0000

    update for debian mingw packages

 tools/cross/cross-configure.sh |    8 ++++----
 tools/cross/cross-make.sh      |    2 +-
 2 files changed, 5 insertions(+), 5 deletions(-)

commit 8fd3754
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Mar 8 13:25:21 2007 +0000

    fix some unpackaged files

 RPM/quakeforge.spec.in |   16 ++++++++++++++++
 1 file changed, 16 insertions(+)

commit cfc293c
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Mar 8 13:12:41 2007 +0000

    fix for moved man path

 RPM/quakeforge.spec.in |   14 +++++++-------
 1 file changed, 7 insertions(+), 7 deletions(-)

commit e25d7b2
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Mar 8 13:03:09 2007 +0000

    fix a missing header from the distribution

 include/Makefile.am |   11 ++++++-----
 1 file changed, 6 insertions(+), 5 deletions(-)

commit a4839df
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Mar 8 11:33:03 2007 +0000

    more extractable config info that might be of use to the user

 configure.ac                |    2 ++
 pkg-config/quakeforge.pc.in |    5 +++++
 2 files changed, 7 insertions(+)

commit b0c1294
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Mar 8 11:31:59 2007 +0000

    remove some ancient build flags

 tools/build_scripts/qf-build   |    2 +-
 tools/build_scripts/qf-release |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 48ba407
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Mar 7 14:28:51 2007 +0000

    my old build scripts (handy test for checking into sf, too:)

 tools/build_scripts/qf-build      |   65 +++++++++++++++++++++++++
 tools/build_scripts/qf-build-cron |    2 +
 tools/build_scripts/qf-release    |   91 ++++++++++++++++++++++++++++++++++
 tools/build_scripts/qf-snapshot   |   14 ++++++
 tools/build_scripts/qf-win32.py   |   97 +++++++++++++++++++++++++++++++++++++
 5 files changed, 269 insertions(+)

commit b4ff94a
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Mar 7 06:43:21 2007 +0000

    (initial) pkg-config stuff for the main package

 Makefile.am                 |    2 +-
 configure.ac                |    4 ++++
 pkg-config/Makefile.am      |    5 +++++
 pkg-config/quakeforge.pc.in |   12 ++++++++++++
 4 files changed, 22 insertions(+), 1 deletion(-)

commit b1b87b4
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Mar 7 04:58:21 2007 +0000

    add some comments about documentation (what little there is:/)

 INSTALL |    9 +++++++++
 1 file changed, 9 insertions(+)

commit deadb4d
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Feb 9 09:29:46 2007 +0000

    make sure trace.fraction is initialized

 qw/source/cl_cam.c |    1 +
 1 file changed, 1 insertion(+)

commit c3bb363
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Feb 9 09:25:03 2007 +0000

    add controls settings (don't know if they work, or are used, but again, don't want to lose it)

 ruamoko/cl_menu/menu.plist |  136 ++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 136 insertions(+)

commit 7d18320
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Feb 9 09:21:51 2007 +0000

    not strictly accurate, but don't want to lose it

 doc/charchart.png |  Bin 0 -> 56140 bytes
 1 file changed, 0 insertions(+), 0 deletions(-)

commit 476dbce
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jan 7 01:19:33 2007 +0000

    seems MIPTEX means mipable textures, not the format

 tools/wad/wad.c |   38 +++++++++++++++++++++++++++-----------
 1 file changed, 27 insertions(+), 11 deletions(-)

commit 99e05d2
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jan 6 21:31:03 2007 +0000

    warning cleanup patch from raorn

 libs/audio/targets/snd_oss.c       |   18 +++++++++++-------
 libs/util/quakeio.c                |    6 +++---
 libs/util/sys.c                    |    8 +++++---
 libs/video/targets/fbset.c         |    2 ++
 libs/video/targets/vid_fbdev.c     |    3 ++-
 qw/source/sv_main.c                |    2 +-
 tools/qfbsp/source/qfbsp.c         |    6 ++++--
 tools/qfmodelgen/source/modelgen.c |    3 ++-
 8 files changed, 30 insertions(+), 18 deletions(-)

commit 24ab92e
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Dec 25 01:21:52 2006 +0000

    things seem to be working nicely in point mode

 libs/models/trace.c |   31 ++++++++++++-------------------
 1 file changed, 12 insertions(+), 19 deletions(-)

commit 9a7e4bc
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Dec 24 08:01:39 2006 +0000

    fix some comments

 libs/models/trace.c |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 8dce95b
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Dec 24 06:34:12 2006 +0000

    do some renaming of variables to save my sanity

 libs/models/trace.c |   85 +++++++++++++++++++++++++++------------------------
 1 file changed, 45 insertions(+), 40 deletions(-)

commit 46a74c8
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Dec 24 05:05:27 2006 +0000

    don't go through the back side of walls

 libs/models/trace.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit bcdf710
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Dec 24 04:34:08 2006 +0000

    bah, missed those 0s

 libs/models/trace.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 7624f2e
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Dec 24 03:46:12 2006 +0000

    still disabled, but put the box tracing code in the shared code

 libs/models/trace.c |   62 +++++++++++++++---
 nq/source/world.c   |  175 +--------------------------------------------------
 2 files changed, 53 insertions(+), 184 deletions(-)

commit 45d467d
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Dec 24 03:13:29 2006 +0000

    box tracing (instead of point). Currently disabled because it doesn't work right just yet. However, when it is working, it will let us do things like crouching, crawling, arbitrary sized objects (including players), etc.

 include/QF/model.h              |    1 +
 include/world.h                 |   12 +-
 libs/models/brush/model_brush.c |    7 +-
 nq/source/sv_pr_cmds.c          |    2 +-
 nq/source/world.c               |  313 +++++++++++++++++++++++++--------------
 qw/source/sv_pr_cmds.c          |    2 +-
 qw/source/world.c               |    6 +-
 tools/qfbsp/source/map.c        |    2 +-
 8 files changed, 221 insertions(+), 124 deletions(-)

commit b3a2759
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Dec 24 03:03:41 2006 +0000

    oops, missed that somehow

 libs/models/trace.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit a483f86
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Dec 24 03:01:15 2006 +0000

    use the vector/plane macros to clean up the code a bit

 libs/models/trace.c |   38 ++++++++++++--------------------------
 1 file changed, 12 insertions(+), 26 deletions(-)

commit 33f08b6
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 20 12:08:57 2006 +0000

    add QFS_Open and QFS_WOpen

 libs/ruamoko/rua_qfs.c |   32 ++++++++++++++++++++++++++++++++
 ruamoko/include/qfs.h  |    2 ++
 ruamoko/lib/qfs.r      |    2 ++
 3 files changed, 36 insertions(+)

commit de5bf80
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 20 11:33:40 2006 +0000

    release the item after removing it from the array, rather than before

 ruamoko/lib/Array.r |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 165600a
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 20 10:32:34 2006 +0000

    fix a very severe d'oh (specifying width caused a segfault)

 libs/gamecode/engine/pr_strings.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit acd4906
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 20 08:45:49 2006 +0000

    why did we ever decide not to support %d?

 libs/gamecode/engine/pr_strings.c |    2 ++
 1 file changed, 2 insertions(+)

commit 4dba10d
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Dec 19 14:15:27 2006 +0000

    support %c for sprintf and make sprintf return a return string rather than a temp string

 libs/gamecode/builtins/pr_cmds.c  |    4 ++--
 libs/gamecode/engine/pr_strings.c |    5 +++++
 2 files changed, 7 insertions(+), 2 deletions(-)

commit d084264
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Dec 19 12:17:42 2006 +0000

    don't barf on protocols that are used by multiple classes in the same object file.

 libs/ruamoko/rua_obj.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit e52633c
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Dec 19 11:53:18 2006 +0000

    make protocol dump info more readable

 tools/qfcc/source/modules.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 961f30f
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Dec 18 13:11:26 2006 +0000

    correct some harmless c&p errors

 include/QF/qfplist.h |    5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

commit 809ce1f
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Dec 16 14:00:00 2006 +0000

    fix some leak issues

 ruamoko/lib/Entity.r |    7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

commit 68e7b31
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Dec 16 13:59:29 2006 +0000

    add finding elements

 ruamoko/include/Array.h |    1 +
 ruamoko/lib/Array.r     |    9 +++++++++
 2 files changed, 10 insertions(+)

commit 0bd92e4
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Dec 16 11:45:47 2006 +0000

    fix an interal error caused by losing the error state

 tools/qfcc/source/constfold.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 48d9d96
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Dec 16 08:09:10 2006 +0000

    don't try to create multiple objects for the same protocol

 tools/qfcc/source/class.c |    5 +++++
 1 file changed, 5 insertions(+)

commit 904197c
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Dec 11 09:26:45 2006 +0000

    allow assignment of arrays to poitners

 tools/qfcc/source/expr.c   |    6 +++++-
 tools/qfcc/source/method.c |    2 ++
 tools/qfcc/source/type.c   |    5 +++++
 3 files changed, 12 insertions(+), 1 deletion(-)

commit e9f49ca
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Dec 11 09:26:07 2006 +0000

    allow static local vars

 tools/qfcc/source/qc-parse.y |    8 +++++++-
 1 file changed, 7 insertions(+), 1 deletion(-)

commit 3f3ec64
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Dec 9 08:44:10 2006 +0000

    bare printf doesn't give very desirable results

 libs/gamecode/engine/pr_strings.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit b2b1cf8
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Dec 9 08:43:18 2006 +0000

    fix a nasty varargs bug

 qw/source/sv_main.c |   17 ++++++-----------
 1 file changed, 6 insertions(+), 11 deletions(-)

commit 70ec984
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Dec 9 06:00:36 2006 +0000

    add PL_RemoveObjectForKey and make PL_D_AddObject take a normal C string for key instead of a pl string.

 include/QF/qfplist.h            |   15 +++++++++++--
 libs/gamecode/engine/pr_parse.c |    7 +++---
 libs/ruamoko/rua_plist.c        |    3 +--
 libs/util/qfplist.c             |   33 +++++++++++++++++++++-------
 nq/source/host_cmd.c            |   46 ++++++++++++++-------------------------
 ruamoko/include/PropertyList.h  |    2 +-
 ruamoko/include/plist.h         |    2 +-
 ruamoko/lib/Entity.r            |    3 ++-
 ruamoko/lib/PropertyList.r      |    9 ++++----
 ruamoko/lib/plist.r             |    2 +-
 tools/qflight/source/entities.c |    3 +--
 11 files changed, 69 insertions(+), 56 deletions(-)

commit c290e9a
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Dec 9 02:35:44 2006 +0000

    use plists for save-games. old save-games can still be read, but new ones will always be in the new format. might be a good idea to back up any old saves until more testing has been done.

 include/QF/progs.h              |    4 +-
 libs/gamecode/engine/pr_parse.c |   77 +++++-------
 nq/source/host_cmd.c            |  266 +++++++++++++++++++++++++--------------
 3 files changed, 205 insertions(+), 142 deletions(-)

commit 9cbac0b
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Dec 9 02:33:08 2006 +0000

    add array item removal

 include/QF/qfplist.h |   11 +++++++++++
 libs/util/qfplist.c  |   24 ++++++++++++++++++++++++
 2 files changed, 35 insertions(+)

commit 2a79f42
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Dec 9 00:02:57 2006 +0000

    progs now internally uses plists for entity/global initialization, with support for direct conversion from id's format. This means that the entity string in a map (or the external ent file) can be a plist.

 include/QF/progs.h              |    6 +-
 libs/gamecode/engine/pr_parse.c |  280 +++++++++++++++++----------------------
 nq/source/host_cmd.c            |   26 ++--
 3 files changed, 141 insertions(+), 171 deletions(-)

commit ab1102b
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 7 13:40:00 2006 +0000

    fix an open commment

 include/QF/ver_check.h |    1 +
 1 file changed, 1 insertion(+)

commit 7e6698d
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Thu Dec 7 09:52:57 2006 +0000

    automake 1.10, WHEE

 configure.ac |    1 +
 1 file changed, 1 insertion(+)

commit 6fbddc3
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Dec 5 11:40:00 2006 +0000

    so that's the right way to do groups and subgroups...

 doc/quakeforge.dox.in  |    2 +-
 include/QF/cbuf.h      |    5 +-
 include/QF/checksum.h  |    4 -
 include/QF/cmd.h       |    5 +-
 include/QF/crc.h       |    5 +-
 include/QF/cvar.h      |    5 +-
 include/QF/draw.h      |   25 ++--
 include/QF/dstring.h   |    5 +-
 include/QF/hash.h      |    8 +-
 include/QF/idparse.h   |    4 -
 include/QF/info.h      |    5 +-
 include/QF/mathlib.h   |    5 +-
 include/QF/mdfour.h    |    4 -
 include/QF/msg.h       |    5 +-
 include/QF/pak.h       |    4 -
 include/QF/pakfile.h   |    5 +-
 include/QF/plugin.h    |    5 +-
 include/QF/progs.h     |  322 ++++++++++++++++++++++++++++++++++--------------
 include/QF/qargs.h     |    4 -
 include/QF/qendian.h   |    5 +-
 include/QF/qfplist.h   |    5 +-
 include/QF/quakefs.h   |    5 +-
 include/QF/quakeio.h   |    5 +-
 include/QF/script.h    |    5 +-
 include/QF/sizebuf.h   |    5 +-
 include/QF/sys.h       |    5 +-
 include/QF/va.h        |    4 -
 include/QF/ver_check.h |    7 +-
 include/QF/wad.h       |    4 -
 include/QF/wadfile.h   |    5 +-
 include/QF/zone.h      |    5 +-
 31 files changed, 265 insertions(+), 222 deletions(-)

commit c2b9d8d
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Dec 5 09:55:37 2006 +0000

    fix some bugs found by figuring out why PR_RESET_PARAMS exists

 nq/include/sv_progs.h |    3 +++
 qw/include/sv_progs.h |    3 +++
 qw/source/sv_user.c   |    2 +-
 3 files changed, 7 insertions(+), 1 deletion(-)

commit 42f1334
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Dec 4 13:08:52 2006 +0000

    I've discovered \par :)

 include/QF/hash.h  |    3 +-
 include/QF/progs.h |  138 ++++++++++++++++++++++++++++++++++------------------
 2 files changed, 94 insertions(+), 47 deletions(-)

commit 5062930
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Dec 3 06:25:57 2006 +0000

    bit more cleanup and some documentation

 include/QF/draw.h                 |  164 +++++++++++++++++++++++++++++++++++--
 libs/video/renderer/gl/gl_draw.c  |  101 ++++++++++-------------
 libs/video/renderer/gl/gl_rmisc.c |    1 -
 libs/video/renderer/r_screen.c    |    2 +-
 libs/video/renderer/sw/draw.c     |   10 +--
 libs/video/renderer/sw32/draw.c   |   10 +--
 6 files changed, 212 insertions(+), 76 deletions(-)

commit f37cfef
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Dec 2 23:02:34 2006 +0000

    fix the doxygen comments to produce proper docs

 include/QF/hash.h |  150 +++++++++++++++++++++++++++++++++++------------------
 1 file changed, 99 insertions(+), 51 deletions(-)

commit 7bca4cf
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Dec 2 10:07:08 2006 +0000

    clean up the draw interface a bit

 include/QF/draw.h                  |   19 ++----
 include/gl_draw.h                  |   36 +++++++++++
 libs/video/renderer/gl/gl_draw.c   |   71 +---------------------
 libs/video/renderer/gl/gl_rmain.c  |    1 +
 libs/video/renderer/gl/gl_screen.c |    1 +
 libs/video/renderer/sw/draw.c      |   77 -----------------------
 libs/video/renderer/sw32/draw.c    |  118 +-----------------------------------
 7 files changed, 45 insertions(+), 278 deletions(-)

commit eeca330
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Dec 2 06:51:41 2006 +0000

    whitespace

 ruamoko/include/PropertyList.h |    4 ++--
 ruamoko/lib/PropertyList.r     |    4 ++--
 2 files changed, 4 insertions(+), 4 deletions(-)

commit a6c50b8
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Dec 2 06:50:59 2006 +0000

    use handles rather than pointers (whatever was I thinking?)

 libs/gamecode/builtins/bi_inputline.c |   38 ++++++++++-----------------------
 1 file changed, 11 insertions(+), 27 deletions(-)

commit 48f8bbd
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Dec 2 06:49:55 2006 +0000

    group the struct rules together

 tools/qfcc/source/qc-parse.y |   26 +++++++++++++-------------
 1 file changed, 13 insertions(+), 13 deletions(-)

commit 43b6aed
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Dec 1 14:51:15 2006 +0000

    hopefully this works for both newer and older autoconf :P

 configure.ac |    9 +++++----
 1 file changed, 5 insertions(+), 4 deletions(-)

commit 6426f41
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Dec 1 09:28:43 2006 +0000

    more cleanup

 doc/Makefile.am |   20 +++-----------------
 1 file changed, 3 insertions(+), 17 deletions(-)

commit 63e9339
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Dec 1 09:13:49 2006 +0000

    bit of a tidyup

 doc/3dfx.txt                   |   69 ---
 doc/CodingStyle                |  129 -----
 doc/QCMenuCondingStyle         |   29 --
 doc/QF-HOWTO                   |  234 ---------
 doc/glqnotes.txt               |  171 ------
 doc/hud.txt                    |   49 --
 doc/net_DoS_protection.txt     |   49 --
 doc/old/3dfx.txt               |   69 +++
 doc/old/CodingStyle            |  129 +++++
 doc/old/QCMenuCondingStyle     |   29 ++
 doc/old/QF-HOWTO               |  234 +++++++++
 doc/old/glqnotes.txt           |  171 ++++++
 doc/old/hud.txt                |   49 ++
 doc/old/net_DoS_protection.txt |   49 ++
 doc/old/progdefs.q1            |  143 +++++
 doc/old/progdefs.q2            |  158 ++++++
 doc/old/qe3.ico                |  Bin 0 -> 766 bytes
 doc/old/quake.gif              |  Bin 0 -> 1300 bytes
 doc/old/quake.ico              |  Bin 0 -> 9822 bytes
 doc/old/quakeforge-notes.txt   |   20 +
 doc/old/readme.txt             |   60 +++
 doc/old/v3_vsync               |    4 +
 doc/old/wqreadme.txt           | 1119 ++++++++++++++++++++++++++++++++++++++++
 doc/progdefs.q1                |  143 -----
 doc/progdefs.q2                |  158 ------
 doc/qe3.ico                    |  Bin 766 -> 0 bytes
 doc/quake.gif                  |  Bin 1300 -> 0 bytes
 doc/quake.ico                  |  Bin 9822 -> 0 bytes
 doc/quakeforge-notes.txt       |   20 -
 doc/readme.txt                 |   60 ---
 doc/v3_vsync                   |    4 -
 doc/wqreadme.txt               | 1119 ----------------------------------------
 32 files changed, 2234 insertions(+), 2234 deletions(-)

commit b6a4a52
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Dec 1 08:17:55 2006 +0000

    silence bison's new warnings

 tools/qfcc/source/qc-parse.y |   72 ++++++++++++++++++++++++++++++++----------
 1 file changed, 56 insertions(+), 16 deletions(-)

commit 71841fe
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Dec 1 07:30:44 2006 +0000

    be a little noisier about plugin load failure

 libs/util/plugin.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 9390a19
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Fri Dec 1 07:03:13 2006 +0000

    Separate out particle physics from particle rendering.

 libs/video/renderer/gl/gl_dyn_part.c |  231 +++++++++++++++++-----------------
 1 file changed, 119 insertions(+), 112 deletions(-)

commit cfd5be6
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Fri Dec 1 06:59:07 2006 +0000

    Fix CnP error.

 configure.ac |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit b218de3
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Fri Dec 1 06:58:41 2006 +0000

    whitespace

 include/QF/tga.h |   12 ++++++------
 1 file changed, 6 insertions(+), 6 deletions(-)

commit 42d51bc
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Fri Dec 1 06:58:23 2006 +0000

    Remove SDLK_WORLD_*, as they are no longer supported. Add SDLK_UNDO.

 include/QF/keys.h           |    2 +-
 libs/video/targets/in_sdl.c |  291 +------------------------------------------
 2 files changed, 4 insertions(+), 289 deletions(-)

commit d28952d
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Nov 30 22:52:36 2006 +0000

    fix a bunch of gcc-4.1 warnings (thanks for the heads up, jordi)

 include/QF/progs.h     |   14 ++++++++------
 libs/net/nm/net_vcr.c  |    8 ++++----
 libs/ruamoko/rua_obj.c |   35 +++++++++++++++++------------------
 tools/wad/grab.c       |    2 +-
 4 files changed, 30 insertions(+), 29 deletions(-)

commit 538f0ee
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Nov 10 13:51:02 2006 +0000

    allow more hull points (don't remember why, now, but...)

 tools/qfbsp/source/brush.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 606f0cd
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Thu Nov 9 23:01:02 2006 +0000

    Yay.

 configure.ac |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 12b3de8
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Thu Nov 9 18:40:04 2006 +0000

    Add --disable-sdl-audio & --disable-sdl-cd options. Doesn't help any with SDL 1.3. Still, might be useful for somebody.

 configure.ac |   30 +++++++++++++++++++++++++++---
 1 file changed, 27 insertions(+), 3 deletions(-)

commit 630d4b8
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Wed Oct 18 07:57:10 2006 +0000

    Fix black halo bugs in even the smallest particles. Same issue as smoke, same solution.

 libs/video/renderer/gl/gl_dyn_textures.c |   20 +++++++-------------
 1 file changed, 7 insertions(+), 13 deletions(-)

commit a2b2261
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Sep 11 22:56:16 2006 +0000

    this should fix a couple warnings found by raorn

 include/QF/tga.h              |   12 ++++++------
 libs/audio/targets/snd_alsa.c |    1 +
 2 files changed, 7 insertions(+), 6 deletions(-)

commit 1819a96
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Aug 20 06:23:54 2006 +0000

    should be better alloca prototype testing

 configure.ac |   22 +++++++++++-----------
 1 file changed, 11 insertions(+), 11 deletions(-)

commit 69e7b8a
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Aug 20 06:23:24 2006 +0000

    don't loop on a bad file name

 tools/pak/pak.c |    1 +
 1 file changed, 1 insertion(+)

commit 1925bef
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Aug 20 06:20:30 2006 +0000

    fix a bunch of bugs with single-cpp processing when not keeping temps

 tools/qfcc/include/cpp.h |    2 +-
 tools/qfcc/source/cpp.c  |   22 +++++++++++++---------
 tools/qfcc/source/qfcc.c |   10 ++++++++--
 3 files changed, 22 insertions(+), 12 deletions(-)

commit 598b16b
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jul 23 03:20:13 2006 +0000

    rpm got anal about files being installed but not packaged...

 RPM/quakeforge.spec.in |   39 ++++++++++++++++++++++++++++++++-------
 1 file changed, 32 insertions(+), 7 deletions(-)

commit 50fcab3
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jul 23 02:45:13 2006 +0000

    scrape off some bitrot

 RPM/build_rpm.in       |    2 +-
 RPM/quakeforge.spec.in |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 7d2784e
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jul 23 01:34:14 2006 +0000

    whitespace

 libs/gib/gib_buffer.c           |    5 ++---
 libs/gib/gib_vars.c             |    8 ++++----
 libs/models/alias/model_alias.c |    4 ++--
 3 files changed, 8 insertions(+), 9 deletions(-)

commit 120bd66
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jul 23 01:33:54 2006 +0000

    fix a bug found by halakar

 libs/util/riff.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 130e6c1
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 24 14:50:24 2006 +0000

    fix some intermediate file issues

 tools/qfcc/include/cpp.h |    2 +-
 tools/qfcc/source/cpp.c  |   16 +++++++++-------
 tools/qfcc/source/qfcc.c |    8 ++++----
 3 files changed, 14 insertions(+), 12 deletions(-)

commit f7df6fe
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 24 14:35:39 2006 +0000

    instead of having cpp args in progs.src, potentially breaking some mods, generate progs.i as a series of #includes and then compile everything in one pass

 tools/qfcc/include/cpp.h     |    4 ++
 tools/qfcc/include/options.h |    3 ++
 tools/qfcc/source/cpp.c      |   77 ++++++++++++++++---------------
 tools/qfcc/source/emit.c     |    4 +-
 tools/qfcc/source/options.c  |    3 ++
 tools/qfcc/source/qfcc.c     |  102 ++++++++++++++++++++++++++++--------------
 tools/qwaq/progs.src.in      |    2 +-
 7 files changed, 123 insertions(+), 72 deletions(-)

commit 8f097ce
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 24 12:58:31 2006 +0000

    fix a couple of typoes

 tools/qfcc/include/options.h |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit ff28197
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 24 11:19:48 2006 +0000

    pass progs.src through cpp too

 tools/qfcc/source/qfcc.c |   60 +++++++++++++++++++++++++++++++++++-----------
 1 file changed, 46 insertions(+), 14 deletions(-)

commit ada9797
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 24 11:18:18 2006 +0000

    why r+t? we don't need to write.

 tools/qfcc/source/cpp.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 88543d6
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 24 11:17:18 2006 +0000

    add Qfopen: basicly wrap a QFile around an existing FILE. gzip is NOT supported

 include/QF/quakeio.h |    3 +++
 libs/util/quakeio.c  |   65 ++++++++++++++++++++++++++++++++++++++------------
 2 files changed, 53 insertions(+), 15 deletions(-)

commit 19c5946
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 24 11:15:40 2006 +0000

    zap more files in "bootstrap clean"

 bootstrap |    3 +++
 1 file changed, 3 insertions(+)

commit 215951b
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 24 09:24:00 2006 +0000

    yay for testers :)

 libs/video/targets/context_x11.c |    2 ++
 1 file changed, 2 insertions(+)

commit 6b03d84
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 24 09:20:53 2006 +0000

    don't compile GetGamme (Set/Restor)ScreenSaver at all when vidmode isn't available

 libs/video/targets/context_x11.c |   10 ++++++----
 1 file changed, 6 insertions(+), 4 deletions(-)

commit 3aea7f5
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Mar 2 21:54:01 2006 +0000

    fix an IFS snaffu that raorn found

 configure.ac |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit bc9fcc3
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 18 12:03:12 2006 +0000

    hopefully fix the bison and flex tests once and for all... (finally tested the flex test properly :P)

 configure.ac |    8 ++++++++
 1 file changed, 8 insertions(+)

commit b43b44e
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Oct 27 14:23:00 2005 +0000

    if pkg-config is available, use it for getting libs needed by libpng. should fix Hikaru's build issues.

 configure.ac |   18 ++++++++++++------
 1 file changed, 12 insertions(+), 6 deletions(-)

commit bb852eb
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Oct 23 22:00:45 2005 +0000

    fix a braino that causes args to /not/ get saved

 libs/util/sys.c |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 088ae9d
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Oct 23 14:11:38 2005 +0000

    more cvs->svn conversion stuff and fix double include of config.h

 configure.ac       |    8 ++++----
 include/compat.h   |    3 ---
 include/varrays.h  |    4 ----
 include/winquake.h |    4 ----
 4 files changed, 4 insertions(+), 15 deletions(-)

commit 87cc092
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Oct 23 13:19:21 2005 +0000

    "long" audit. can't use long when we want 32 bits. May be a few more cases.

 include/QF/GL/extensions.h         |    2 +-
 include/QF/qendian.h               |    2 +-
 libs/audio/renderer/snd_mix.c      |    8 ++++----
 libs/net/nm/net_dgrm.c             |   10 +++++-----
 libs/net/nm/net_udp.c              |    6 +++---
 libs/util/fendian.c                |    2 +-
 libs/video/targets/in_svgalib.c    |    2 +-
 libs/video/targets/in_win.c        |    2 +-
 libs/video/targets/vid_common_gl.c |    2 +-
 qw/source/sv_main.c                |    2 +-
 tools/qfbsp/source/qfbsp.c         |    6 +++---
 tools/qfmodelgen/include/lbmlib.h  |    2 +-
 tools/texpaint/model.h             |    4 ++--
 tools/texpaint/pack.c              |   16 ++++++++--------
 tools/texpaint/pack.h              |    4 ++--
 15 files changed, 35 insertions(+), 35 deletions(-)

commit c90fa21
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Oct 22 04:55:41 2005 +0000

    fix some warnings

 tools/gl_stub/gl_stub.c   |    2 +-
 tools/gl_stub/gls_norm.c  |    4 ++--
 tools/gl_stub/gls_trace.c |    4 ++--
 3 files changed, 5 insertions(+), 5 deletions(-)

commit fa20331
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Oct 20 02:11:08 2005 +0000

    clean up ruamoko stuff for "bootstrap clean"

 bootstrap |    4 ++++
 1 file changed, 4 insertions(+)

commit 2668ad7
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Oct 19 12:19:19 2005 +0000

    we don't use cvs anymore...

 INSTALL |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 175ad18
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Sep 7 00:33:11 2005 +0000

    don't install main.dat* *taniwha beats snax over the head with a large trout

 ruamoko/scheme/Makefile.am |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 66e203b
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Sep 6 11:39:32 2005 +0000

    multi-dir patch for fs_sharepath from "Alexey I.Froloff" <raorn@altlinux.ru>

 libs/util/quakefs.c |   27 +++++++++++++++++++++++----
 1 file changed, 23 insertions(+), 4 deletions(-)

commit 82b389a
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Sat Sep 3 03:31:02 2005 +0000

    Fixes -x11 target on x86-64. Shouldn't break anything on other supported architectures.

 TODO                         |    1 +
 libs/video/targets/vid_x11.c |    2 +-
 2 files changed, 2 insertions(+), 1 deletion(-)

commit e257560
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Aug 18 00:28:14 2005 +0000

    print a message if menu.plist can't be opened

 ruamoko/cl_menu/options.qc |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit b780303
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Aug 18 00:25:09 2005 +0000

    some error handling :)

 ruamoko/cl_menu/options.qc |    8 ++++++--
 1 file changed, 6 insertions(+), 2 deletions(-)

commit 728dde1
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 17 23:05:10 2005 +0000

    explicity state errors are errors rather than leaving it implicit (tracking
    gcc's messages again;)

 tools/qfcc/source/expr.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 6705140
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 12 02:39:37 2005 +0000

    can't adjust dmix's buffer size, so print a message when it seems it's
    likely to be an issue

 include/alsa_funcs_list.h     |    2 +-
 libs/audio/targets/snd_alsa.c |   10 +++-------
 2 files changed, 4 insertions(+), 8 deletions(-)

commit 3fb03fc
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Aug 4 15:27:09 2005 +0000

    hah, should have been using __attribute__((used)) all that time (rather
    than __attribute__((unused))). fixes the missing console in -x11

 doc/template.c                           |    2 +-
 libs/audio/cd.c                          |    2 +-
 libs/audio/cd/cd_file.c                  |    2 +-
 libs/audio/cd/cd_linux.c                 |    2 +-
 libs/audio/cd/cd_sdl.c                   |    2 +-
 libs/audio/cd/cd_sgi.c                   |    2 +-
 libs/audio/cd/cd_win.c                   |    2 +-
 libs/audio/cd/cd_xmms.c                  |    2 +-
 libs/audio/renderer/flac.c               |    2 +-
 libs/audio/renderer/midi.c               |    2 +-
 libs/audio/renderer/snd_dma.c            |    2 +-
 libs/audio/renderer/snd_mem.c            |    2 +-
 libs/audio/renderer/snd_mix.c            |    2 +-
 libs/audio/renderer/vorbis.c             |    2 +-
 libs/audio/renderer/wav.c                |    2 +-
 libs/audio/snd.c                         |    2 +-
 libs/audio/targets/snd_alsa.c            |    2 +-
 libs/audio/targets/snd_alsa_0_9.c        |    2 +-
 libs/audio/targets/snd_disk.c            |    2 +-
 libs/audio/targets/snd_dx.c              |    2 +-
 libs/audio/targets/snd_oss.c             |    2 +-
 libs/audio/targets/snd_sdl.c             |    2 +-
 libs/audio/targets/snd_sgi.c             |    2 +-
 libs/audio/targets/snd_sun.c             |    2 +-
 libs/audio/targets/snd_win.c             |    2 +-
 libs/console/buffer.c                    |    2 +-
 libs/console/client.c                    |    2 +-
 libs/console/complete.c                  |    2 +-
 libs/console/console.c                   |    4 ++--
 libs/console/filelist.c                  |    2 +-
 libs/console/inputline.c                 |    2 +-
 libs/console/list.c                      |    2 +-
 libs/console/menu.c                      |    2 +-
 libs/console/pr_keys.c                   |    2 +-
 libs/console/server.c                    |    2 +-
 libs/console/view.c                      |    2 +-
 libs/gamecode/builtins/bi_gib.c          |    2 +-
 libs/gamecode/builtins/bi_inputline.c    |    2 +-
 libs/gamecode/builtins/pr_cmds.c         |    4 ++--
 libs/gamecode/engine/pr_builtins.c       |    2 +-
 libs/gamecode/engine/pr_debug.c          |    2 +-
 libs/gamecode/engine/pr_edict.c          |    2 +-
 libs/gamecode/engine/pr_exec.c           |    2 +-
 libs/gamecode/engine/pr_load.c           |    2 +-
 libs/gamecode/engine/pr_opcode.c         |    2 +-
 libs/gamecode/engine/pr_parse.c          |    2 +-
 libs/gamecode/engine/pr_resolve.c        |    2 +-
 libs/gamecode/engine/pr_resource.c       |    2 +-
 libs/gamecode/engine/pr_strings.c        |    2 +-
 libs/gamecode/engine/pr_zone.c           |    2 +-
 libs/gib/gib_buffer.c                    |    2 +-
 libs/gib/gib_builtin.c                   |    2 +-
 libs/gib/gib_execute.c                   |    2 +-
 libs/gib/gib_function.c                  |    2 +-
 libs/gib/gib_handle.c                    |    2 +-
 libs/gib/gib_init.c                      |    2 +-
 libs/gib/gib_object.c                    |    2 +-
 libs/gib/gib_parse.c                     |    2 +-
 libs/gib/gib_process.c                   |    2 +-
 libs/gib/gib_regex.c                     |    2 +-
 libs/gib/gib_thread.c                    |    2 +-
 libs/gib/gib_tree.c                      |    2 +-
 libs/gib/gib_vars.c                      |    2 +-
 libs/image/image.c                       |    2 +-
 libs/image/pcx.c                         |    2 +-
 libs/image/png.c                         |    2 +-
 libs/image/tga.c                         |    2 +-
 libs/models/alias/gl_mesh.c              |    2 +-
 libs/models/alias/gl_model_alias.c       |    2 +-
 libs/models/alias/model_alias.c          |    2 +-
 libs/models/alias/sw_model_alias.c       |    2 +-
 libs/models/brush/gl_model_brush.c       |    2 +-
 libs/models/brush/model_brush.c          |    2 +-
 libs/models/brush/sw_model_brush.c       |    2 +-
 libs/models/clip_hull.c                  |    2 +-
 libs/models/gl_model_fullbright.c        |    2 +-
 libs/models/model.c                      |    2 +-
 libs/models/null_model.c                 |    2 +-
 libs/models/sprite/gl_model_sprite.c     |    2 +-
 libs/models/sprite/model_sprite.c        |    2 +-
 libs/models/sprite/sw_model_sprite.c     |    2 +-
 libs/models/trace.c                      |    2 +-
 libs/net/nc/net_udp.c                    |    2 +-
 libs/net/nc/net_udp6.c                   |    2 +-
 libs/net/net_chan.c                      |    2 +-
 libs/net/net_main.c                      |    2 +-
 libs/net/nm/net_bsd.c                    |    2 +-
 libs/net/nm/net_dgrm.c                   |    2 +-
 libs/net/nm/net_loop.c                   |    2 +-
 libs/net/nm/net_udp.c                    |    2 +-
 libs/net/nm/net_vcr.c                    |    2 +-
 libs/net/nm/net_win.c                    |    2 +-
 libs/net/nm/net_wins.c                   |    2 +-
 libs/object/ArrayList.c                  |    2 +-
 libs/object/Collection.c                 |    2 +-
 libs/object/Double.c                     |    2 +-
 libs/object/Integer.c                    |    2 +-
 libs/object/Iterator.c                   |    2 +-
 libs/object/List.c                       |    2 +-
 libs/object/Number.c                     |    2 +-
 libs/object/String.c                     |    2 +-
 libs/object/garbage.c                    |    2 +-
 libs/object/object.c                     |    2 +-
 libs/qw/msg_backbuf.c                    |    2 +-
 libs/qw/msg_ucmd.c                       |    2 +-
 libs/ruamoko/rua_cbuf.c                  |    2 +-
 libs/ruamoko/rua_cmd.c                   |    2 +-
 libs/ruamoko/rua_cvar.c                  |    2 +-
 libs/ruamoko/rua_file.c                  |    2 +-
 libs/ruamoko/rua_hash.c                  |    2 +-
 libs/ruamoko/rua_init.c                  |    2 +-
 libs/ruamoko/rua_math.c                  |    2 +-
 libs/ruamoko/rua_obj.c                   |    2 +-
 libs/ruamoko/rua_plist.c                 |    2 +-
 libs/ruamoko/rua_qfile.c                 |    2 +-
 libs/ruamoko/rua_qfs.c                   |    2 +-
 libs/ruamoko/rua_script.c                |    2 +-
 libs/ruamoko/rua_string.c                |    2 +-
 libs/util/bspfile.c                      |    2 +-
 libs/util/buildnum.c                     |    2 +-
 libs/util/cbuf.c                         |    2 +-
 libs/util/checksum.c                     |    2 +-
 libs/util/cmd.c                          |    2 +-
 libs/util/crc.c                          |    2 +-
 libs/util/cvar.c                         |    2 +-
 libs/util/dirent.c                       |    2 +-
 libs/util/dstring.c                      |    2 +-
 libs/util/fendian.c                      |    2 +-
 libs/util/fnmatch.c                      |    2 +-
 libs/util/getopt.c                       |    2 +-
 libs/util/hash.c                         |    2 +-
 libs/util/idparse.c                      |    2 +-
 libs/util/info.c                         |    2 +-
 libs/util/link.c                         |    2 +-
 libs/util/llist.c                        |    2 +-
 libs/util/mathlib.c                      |    2 +-
 libs/util/mdfour.c                       |    2 +-
 libs/util/msg.c                          |    2 +-
 libs/util/pakfile.c                      |    2 +-
 libs/util/plugin.c                       |    2 +-
 libs/util/qargs.c                        |    2 +-
 libs/util/qendian.c                      |    2 +-
 libs/util/qfplist.c                      |    2 +-
 libs/util/quakefs.c                      |    2 +-
 libs/util/quakeio.c                      |    2 +-
 libs/util/riff.c                         |    2 +-
 libs/util/script.c                       |    2 +-
 libs/util/sizebuf.c                      |    2 +-
 libs/util/string.c                       |    2 +-
 libs/util/sys.c                          |    2 +-
 libs/util/va.c                           |    2 +-
 libs/util/ver_check.c                    |    2 +-
 libs/util/wad.c                          |    2 +-
 libs/util/wadfile.c                      |    2 +-
 libs/util/zone.c                         |    2 +-
 libs/video/renderer/gl/gl_draw.c         |    2 +-
 libs/video/renderer/gl/gl_dyn_lights.c   |    2 +-
 libs/video/renderer/gl/gl_dyn_part.c     |    2 +-
 libs/video/renderer/gl/gl_dyn_textures.c |    2 +-
 libs/video/renderer/gl/gl_graph.c        |    2 +-
 libs/video/renderer/gl/gl_lightmap.c     |    2 +-
 libs/video/renderer/gl/gl_mod_alias.c    |    2 +-
 libs/video/renderer/gl/gl_mod_sprite.c   |    2 +-
 libs/video/renderer/gl/gl_rmain.c        |    2 +-
 libs/video/renderer/gl/gl_rmisc.c        |    2 +-
 libs/video/renderer/gl/gl_rsurf.c        |    2 +-
 libs/video/renderer/gl/gl_screen.c       |    2 +-
 libs/video/renderer/gl/gl_skin.c         |    2 +-
 libs/video/renderer/gl/gl_sky.c          |    2 +-
 libs/video/renderer/gl/gl_sky_clip.c     |    2 +-
 libs/video/renderer/gl/gl_textures.c     |    2 +-
 libs/video/renderer/gl/gl_warp.c         |    2 +-
 libs/video/renderer/gl/noisetextures.c   |    2 +-
 libs/video/renderer/r_cvar.c             |    2 +-
 libs/video/renderer/r_efrag.c            |    2 +-
 libs/video/renderer/r_ent.c              |    2 +-
 libs/video/renderer/r_graph.c            |    2 +-
 libs/video/renderer/r_light.c            |    2 +-
 libs/video/renderer/r_main.c             |    4 ++--
 libs/video/renderer/r_part.c             |    2 +-
 libs/video/renderer/r_progs.c            |    2 +-
 libs/video/renderer/r_screen.c           |    2 +-
 libs/video/renderer/sw/d_edge.c          |    2 +-
 libs/video/renderer/sw/d_fill.c          |    2 +-
 libs/video/renderer/sw/d_init.c          |    2 +-
 libs/video/renderer/sw/d_modech.c        |    2 +-
 libs/video/renderer/sw/d_part.c          |    2 +-
 libs/video/renderer/sw/d_polyse.c        |    2 +-
 libs/video/renderer/sw/d_scan.c          |    2 +-
 libs/video/renderer/sw/d_sky.c           |    2 +-
 libs/video/renderer/sw/d_sprite.c        |    2 +-
 libs/video/renderer/sw/d_surf.c          |    2 +-
 libs/video/renderer/sw/d_vars.c          |    2 +-
 libs/video/renderer/sw/d_zpoint.c        |    2 +-
 libs/video/renderer/sw/draw.c            |    2 +-
 libs/video/renderer/sw/fpu.c             |    2 +-
 libs/video/renderer/sw/nonintel.c        |    2 +-
 libs/video/renderer/sw/screen.c          |    2 +-
 libs/video/renderer/sw/sw_graph.c        |    2 +-
 libs/video/renderer/sw/sw_raclip.c       |    2 +-
 libs/video/renderer/sw/sw_ralias.c       |    2 +-
 libs/video/renderer/sw/sw_rbsp.c         |    2 +-
 libs/video/renderer/sw/sw_rdraw.c        |    2 +-
 libs/video/renderer/sw/sw_redge.c        |    2 +-
 libs/video/renderer/sw/sw_rmain.c        |    2 +-
 libs/video/renderer/sw/sw_rmisc.c        |    2 +-
 libs/video/renderer/sw/sw_rpart.c        |    2 +-
 libs/video/renderer/sw/sw_rsky.c         |    2 +-
 libs/video/renderer/sw/sw_rsprite.c      |    2 +-
 libs/video/renderer/sw/sw_rsurf.c        |    2 +-
 libs/video/renderer/sw/sw_skin.c         |    2 +-
 libs/video/renderer/sw32/d_edge.c        |    2 +-
 libs/video/renderer/sw32/d_fill.c        |    2 +-
 libs/video/renderer/sw32/d_init.c        |    2 +-
 libs/video/renderer/sw32/d_modech.c      |    2 +-
 libs/video/renderer/sw32/d_part.c        |    2 +-
 libs/video/renderer/sw32/d_polyse.c      |    2 +-
 libs/video/renderer/sw32/d_scan.c        |    2 +-
 libs/video/renderer/sw32/d_sky.c         |    2 +-
 libs/video/renderer/sw32/d_sprite.c      |    2 +-
 libs/video/renderer/sw32/d_surf.c        |    2 +-
 libs/video/renderer/sw32/d_vars.c        |    2 +-
 libs/video/renderer/sw32/d_zpoint.c      |    2 +-
 libs/video/renderer/sw32/draw.c          |    2 +-
 libs/video/renderer/sw32/screen.c        |    2 +-
 libs/video/renderer/sw32/sw32_graph.c    |    2 +-
 libs/video/renderer/sw32/sw32_raclip.c   |    2 +-
 libs/video/renderer/sw32/sw32_ralias.c   |    2 +-
 libs/video/renderer/sw32/sw32_rbsp.c     |    2 +-
 libs/video/renderer/sw32/sw32_rdraw.c    |    2 +-
 libs/video/renderer/sw32/sw32_redge.c    |    2 +-
 libs/video/renderer/sw32/sw32_rmain.c    |    2 +-
 libs/video/renderer/sw32/sw32_rmisc.c    |    2 +-
 libs/video/renderer/sw32/sw32_rpart.c    |    2 +-
 libs/video/renderer/sw32/sw32_rsky.c     |    2 +-
 libs/video/renderer/sw32/sw32_rsprite.c  |    2 +-
 libs/video/renderer/sw32/sw32_rsurf.c    |    2 +-
 libs/video/renderer/sw32/sw32_skin.c     |    2 +-
 libs/video/targets/context_sdl.c         |    2 +-
 libs/video/targets/context_x11.c         |    2 +-
 libs/video/targets/dga_check.c           |    2 +-
 libs/video/targets/in_common.c           |    2 +-
 libs/video/targets/in_event.c            |    2 +-
 libs/video/targets/in_fbdev.c            |    2 +-
 libs/video/targets/in_sdl.c              |    2 +-
 libs/video/targets/in_svgalib.c          |    2 +-
 libs/video/targets/in_win.c              |    2 +-
 libs/video/targets/in_x11.c              |    2 +-
 libs/video/targets/joy.c                 |    2 +-
 libs/video/targets/joy_linux.c           |    2 +-
 libs/video/targets/joy_null.c            |    2 +-
 libs/video/targets/joy_win.c             |    2 +-
 libs/video/targets/keys.c                |    2 +-
 libs/video/targets/old_keys.c            |    2 +-
 libs/video/targets/qfgl_ext.c            |    2 +-
 libs/video/targets/vid.c                 |    2 +-
 libs/video/targets/vid_3dfxsvga.c        |    2 +-
 libs/video/targets/vid_common_gl.c       |    2 +-
 libs/video/targets/vid_common_sw.c       |    2 +-
 libs/video/targets/vid_common_sw32.c     |    2 +-
 libs/video/targets/vid_fbdev.c           |    2 +-
 libs/video/targets/vid_glx.c             |    2 +-
 libs/video/targets/vid_sdl.c             |    2 +-
 libs/video/targets/vid_sdl32.c           |    2 +-
 libs/video/targets/vid_sgl.c             |    2 +-
 libs/video/targets/vid_svgalib.c         |    2 +-
 libs/video/targets/vid_wgl.c             |    2 +-
 libs/video/targets/vid_x11.c             |    2 +-
 nq/source/cl_cam.c                       |    2 +-
 nq/source/cl_demo.c                      |    2 +-
 nq/source/cl_input.c                     |    2 +-
 nq/source/cl_main.c                      |    2 +-
 nq/source/cl_parse.c                     |    2 +-
 nq/source/cl_screen.c                    |    2 +-
 nq/source/cl_tent.c                      |    2 +-
 nq/source/cl_view.c                      |    2 +-
 nq/source/com.c                          |    2 +-
 nq/source/host.c                         |    2 +-
 nq/source/host_cmd.c                     |    2 +-
 nq/source/host_skin.c                    |    2 +-
 nq/source/sbar.c                         |    2 +-
 nq/source/sdl_link.c                     |    4 ++--
 nq/source/skin.c                         |    2 +-
 nq/source/sv_cl_phys.c                   |    2 +-
 nq/source/sv_ded.c                       |    2 +-
 nq/source/sv_main.c                      |    2 +-
 nq/source/sv_move.c                      |    2 +-
 nq/source/sv_phys.c                      |    2 +-
 nq/source/sv_pr_cmds.c                   |    2 +-
 nq/source/sv_progs.c                     |    2 +-
 nq/source/sv_user.c                      |    2 +-
 nq/source/sys_sdl.c                      |    2 +-
 nq/source/sys_unix.c                     |    2 +-
 nq/source/sys_unixd.c                    |    2 +-
 nq/source/sys_win.c                      |    2 +-
 nq/source/sys_wind.c                     |    2 +-
 nq/source/world.c                        |    2 +-
 qtv/source/client.c                      |    2 +-
 qtv/source/connection.c                  |    2 +-
 qtv/source/qtv.c                         |    2 +-
 qtv/source/server.c                      |    2 +-
 qtv/source/sv_parse.c                    |    2 +-
 qw/source/cl_cam.c                       |    2 +-
 qw/source/cl_chat.c                      |    2 +-
 qw/source/cl_cmd.c                       |    2 +-
 qw/source/cl_cvar.c                      |    2 +-
 qw/source/cl_demo.c                      |    2 +-
 qw/source/cl_ents.c                      |    2 +-
 qw/source/cl_input.c                     |    2 +-
 qw/source/cl_main.c                      |    2 +-
 qw/source/cl_ngraph.c                    |    2 +-
 qw/source/cl_parse.c                     |    2 +-
 qw/source/cl_pred.c                      |    2 +-
 qw/source/cl_screen.c                    |    2 +-
 qw/source/cl_skin.c                      |    2 +-
 qw/source/cl_slist.c                     |    2 +-
 qw/source/cl_sys_sdl.c                   |    2 +-
 qw/source/cl_sys_unix.c                  |    2 +-
 qw/source/cl_sys_win.c                   |    2 +-
 qw/source/cl_tent.c                      |    2 +-
 qw/source/cl_view.c                      |    2 +-
 qw/source/com.c                          |    2 +-
 qw/source/crudefile.c                    |    2 +-
 qw/source/locs.c                         |    2 +-
 qw/source/map_cfg.c                      |    2 +-
 qw/source/master.c                       |    2 +-
 qw/source/net_packetlog.c                |    2 +-
 qw/source/pmove.c                        |    2 +-
 qw/source/pmovetst.c                     |    2 +-
 qw/source/sbar.c                         |    2 +-
 qw/source/sdl_link.c                     |    4 ++--
 qw/source/skin.c                         |    2 +-
 qw/source/sv_ccmds.c                     |    2 +-
 qw/source/sv_demo.c                      |    2 +-
 qw/source/sv_ents.c                      |    2 +-
 qw/source/sv_gib.c                       |    2 +-
 qw/source/sv_init.c                      |    2 +-
 qw/source/sv_main.c                      |    2 +-
 qw/source/sv_move.c                      |    2 +-
 qw/source/sv_phys.c                      |    2 +-
 qw/source/sv_pr_cmds.c                   |    4 ++--
 qw/source/sv_pr_qwe.c                    |    2 +-
 qw/source/sv_qtv.c                       |    2 +-
 qw/source/sv_recorder.c                  |    2 +-
 qw/source/sv_send.c                      |    2 +-
 qw/source/sv_sys_unix.c                  |    2 +-
 qw/source/sv_sys_win.c                   |    2 +-
 qw/source/sv_user.c                      |    2 +-
 qw/source/teamplay.c                     |    2 +-
 qw/source/world.c                        |    2 +-
 tools/gas2masm/gas2masm.c                |    2 +-
 tools/pak/pak.c                          |    2 +-
 tools/qfbsp/source/csg4.c                |    2 +-
 tools/qfbsp/source/map.c                 |    2 +-
 tools/qfbsp/source/merge.c               |    2 +-
 tools/qfbsp/source/nodraw.c              |    2 +-
 tools/qfbsp/source/options.c             |    2 +-
 tools/qfbsp/source/outside.c             |    2 +-
 tools/qfbsp/source/portals.c             |    2 +-
 tools/qfbsp/source/qfbsp.c               |    2 +-
 tools/qfbsp/source/readbsp.c             |    2 +-
 tools/qfbsp/source/region.c              |    2 +-
 tools/qfbsp/source/solidbsp.c            |    2 +-
 tools/qfbsp/source/surfaces.c            |    2 +-
 tools/qfbsp/source/tjunc.c               |    2 +-
 tools/qfbsp/source/writebsp.c            |    2 +-
 tools/qfcc/source/class.c                |    2 +-
 tools/qfcc/source/constfold.c            |    2 +-
 tools/qfcc/source/cpp.c                  |    2 +-
 tools/qfcc/source/debug.c                |    2 +-
 tools/qfcc/source/def.c                  |    2 +-
 tools/qfcc/source/disassemble.c          |    2 +-
 tools/qfcc/source/emit.c                 |    2 +-
 tools/qfcc/source/expr.c                 |    2 +-
 tools/qfcc/source/function.c             |    2 +-
 tools/qfcc/source/globals.c              |    2 +-
 tools/qfcc/source/idstuff.c              |    2 +-
 tools/qfcc/source/immediate.c            |    2 +-
 tools/qfcc/source/lines.c                |    2 +-
 tools/qfcc/source/linker.c               |    2 +-
 tools/qfcc/source/method.c               |    2 +-
 tools/qfcc/source/modules.c              |    2 +-
 tools/qfcc/source/obj_file.c             |    2 +-
 tools/qfcc/source/opcodes.c              |    2 +-
 tools/qfcc/source/options.c              |    2 +-
 tools/qfcc/source/qc-lex.l               |    2 +-
 tools/qfcc/source/qc-parse.y             |    2 +-
 tools/qfcc/source/qfcc.c                 |    2 +-
 tools/qfcc/source/qfprogs.c              |    2 +-
 tools/qfcc/source/reloc.c                |    2 +-
 tools/qfcc/source/strings.c              |    2 +-
 tools/qfcc/source/strpool.c              |    2 +-
 tools/qfcc/source/struct.c               |    2 +-
 tools/qfcc/source/switch.c               |    2 +-
 tools/qfcc/source/type.c                 |    2 +-
 tools/qflight/source/entities.c          |    2 +-
 tools/qflight/source/ltface.c            |    2 +-
 tools/qflight/source/options.c           |    2 +-
 tools/qflight/source/properties.c        |    2 +-
 tools/qflight/source/qflight.c           |    2 +-
 tools/qflight/source/threads.c           |    2 +-
 tools/qflight/source/trace.c             |    2 +-
 tools/qflight/source/vis.c               |    2 +-
 tools/qfvis/source/base-vis.c            |    2 +-
 tools/qfvis/source/flow.c                |    2 +-
 tools/qfvis/source/options.c             |    2 +-
 tools/qfvis/source/qfvis.c               |    2 +-
 tools/qfvis/source/soundphs.c            |    2 +-
 tools/qwaq/builtins.c                    |    2 +-
 tools/qwaq/main.c                        |    2 +-
 tools/wad/grab.c                         |    2 +-
 tools/wad/script.c                       |    2 +-
 tools/wad/wad.c                          |    2 +-
 413 files changed, 419 insertions(+), 419 deletions(-)

commit 5d509be
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jul 27 12:42:27 2005 +0000

    tweakage

 doc/faq.txt        |   18 +++++++++++++-----
 doc/quakeforge.txt |    6 +-----
 2 files changed, 14 insertions(+), 10 deletions(-)

commit e3c9cfd
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jul 27 12:14:35 2005 +0000

    some documentation work

 doc/Makefile.am              |    9 +-
 doc/faq.txt                  |   19 +++
 doc/qf-client-3dfx-cvar.txt  |  173 --------------------------
 doc/qf-client-glx-cvar.txt   |  178 --------------------------
 doc/qf-client-sdl-cvar.txt   |  161 ------------------------
 doc/qf-client-sgl-cvar.txt   |  172 -------------------------
 doc/qf-client-svga-cvar.txt  |  162 ------------------------
 doc/qf-client-x11-cmd.txt    |  272 ----------------------------------------
 doc/qf-client-x11-cvar.txt   |  166 -------------------------
 doc/qf-server-cmd.txt        |  134 --------------------
 doc/qf-server-cvar.txt       |   73 -----------
 doc/quakeforge.dox.in        |    2 +
 doc/quakeforge.txt           |   14 +++
 doc/qw-client-glx-cmd.txt    |  283 ------------------------------------------
 doc/qw-client-glx-cvar.txt   |  253 -------------------------------------
 doc/qw-client-sdl-cmd.txt    |  274 ----------------------------------------
 doc/qw-client-sdl-cvar.txt   |  246 ------------------------------------
 doc/qw-client-sdl32-cmd.txt  |  274 ----------------------------------------
 doc/qw-client-sdl32-cvar.txt |  246 ------------------------------------
 doc/qw-client-x11-cmd.txt    |  279 -----------------------------------------
 doc/qw-client-x11-cvar.txt   |  250 -------------------------------------
 doc/qw-server-cmd.txt        |  152 -----------------------
 doc/qw-server-cvar.txt       |   98 ---------------
 include/QF/progs.h           |    4 +-
 24 files changed, 42 insertions(+), 3852 deletions(-)

commit d25a5de
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jul 16 03:59:20 2005 +0000

    make a little more robust. seems not all cvs servers use the same datestamp
    format

 tools/cvs2cl/cvs2cl.pl |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit ddae385
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jul 16 03:46:11 2005 +0000

    qf now, for the first time in history, fully passes "make distcheck"

 libs/util/Makefile.am      |    4 ++--
 qw/include/Makefile.am     |    2 +-
 ruamoko/scheme/Makefile.am |   14 +++++++++++---
 3 files changed, 14 insertions(+), 6 deletions(-)

commit fbd3074
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jul 2 01:31:19 2005 +0000

    currently disabled code to allow packet logging in mvd streams

 qw/source/net_packetlog.c |   38 +++++++++++++++++++++++++++++++++++++-
 1 file changed, 37 insertions(+), 1 deletion(-)

commit 621e97d
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jun 19 06:29:50 2005 +0000

    break out map_cfg from cl_parse.c so the server can use it too. (at the
    behest of DrSpliff:)

 qw/include/Makefile.am |    4 +--
 qw/include/map_cfg.h   |   37 ++++++++++++++++++++++++
 qw/source/Makefile.am  |    3 +-
 qw/source/cl_parse.c   |   25 +---------------
 qw/source/map_cfg.c    |   75 ++++++++++++++++++++++++++++++++++++++++++++++++
 qw/source/sv_init.c    |    3 ++
 6 files changed, 120 insertions(+), 27 deletions(-)

commit 72e375d
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jun 19 05:30:54 2005 +0000

    this should fix the snd_output_alsa0_9_PluginInfo undefined symbol issue

 libs/audio/targets/snd_alsa_0_9.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit bcb45a7
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jun 19 05:24:19 2005 +0000

    oops, messed up HAVE_VORBIS and HAVE_FLAC (cut&paste error:)

 libs/audio/renderer/snd_mem.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 9b7d8a9
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jun 16 00:35:55 2005 +0000

    cached and 8 bit and/or mono flacs now work

 libs/audio/renderer/flac.c |   26 +++++++++++++++++++++-----
 1 file changed, 21 insertions(+), 5 deletions(-)

commit d083fb4
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jun 16 00:06:37 2005 +0000

    read the samples out of the buffer properly. fixes the horrible sounds :)
    streamed flacs now work. cached not tested yet (haven't got any flacs that
    small:)

 libs/audio/renderer/flac.c |   18 ++++++++++--------
 1 file changed, 10 insertions(+), 8 deletions(-)

commit a2f0cd9
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jun 15 22:20:40 2005 +0000

    fix gcc-4 warnings

 libs/audio/renderer/flac.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 13e8b00
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jun 15 11:56:03 2005 +0000

    almost works. samples are mangled

 libs/audio/renderer/flac.c |   65 ++++++++++++++++++++++++++++++++------------
 1 file changed, 47 insertions(+), 18 deletions(-)

commit 98f53c2
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jun 15 10:06:55 2005 +0000

    forgot to update the header

 libs/audio/renderer/flac.c |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit dff68bf
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jun 15 10:02:50 2005 +0000

    beginnings of flac support. compiles but untested. if this doesn't crash,
    I'll be surprised :)

 acinclude.m4                    |  108 ++++++++-
 configure.ac                    |   14 +-
 include/snd_render.h            |    3 +-
 libs/audio/renderer/Makefile.am |    6 +-
 libs/audio/renderer/flac.c      |  462 +++++++++++++++++++++++++++++++++++++++
 libs/audio/renderer/snd_mem.c   |    7 +
 6 files changed, 594 insertions(+), 6 deletions(-)

commit fa8dfd3
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jun 15 02:07:54 2005 +0000

    audio options are now scripted

 ruamoko/cl_menu/menu.plist |   73 +++++++++++++++++++
 ruamoko/cl_menu/options.qc |  169 +++++++++-----------------------------------
 2 files changed, 107 insertions(+), 135 deletions(-)

commit 91d6607
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jun 15 02:03:50 2005 +0000

    bah, forgot the important part of that fix :P

 ruamoko/cl_menu/options.qc |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 6e0c70c
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jun 15 01:41:10 2005 +0000

    reduce the amount of memory needed to read menu.plist

 libs/ruamoko/rua_string.c  |   11 +++++++++++
 ruamoko/cl_menu/options.qc |    7 +++++--
 ruamoko/include/string.h   |    1 +
 ruamoko/lib/string.r       |    1 +
 4 files changed, 18 insertions(+), 2 deletions(-)

commit 4a21eb0
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jun 14 13:40:34 2005 +0000

    heh, slight oversight when implementing rcall using the param pointer
    trick. ran into the exact same problem as passing addresses of locals to QC
    functions. well, actually, that's exactly what it was, but done in the
    engine. anyway, wound up potentially overwriting the params passed to the
    function. fortunatly, due to how rcall works, only the first two params are
    an issue.

 libs/gamecode/engine/pr_exec.c |   31 +++++++++++++++++++++++++++++++
 1 file changed, 31 insertions(+)

commit 2cc2da7
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jun 14 11:43:42 2005 +0000

    fix the 0x0 dma buffer mis-reportage

 libs/audio/targets/snd_alsa.c |    3 ---
 1 file changed, 3 deletions(-)

commit 3a709ca
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jun 14 11:30:33 2005 +0000

    revamp the server curses code to use views (planning on "watch windows" for
    debugging things)

 include/QF/view.h     |    2 +
 libs/console/server.c |  251 +++++++++++++++++++++++++++++++++----------------
 libs/console/view.c   |    4 +
 3 files changed, 177 insertions(+), 80 deletions(-)

commit 0c974c0
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jun 14 11:29:42 2005 +0000

    more tests

 tools/qfcc/test/overload.r      |   31 +++++++++++++++++++++++++
 tools/qfcc/test/pointer-param.r |   17 ++++++++++++++
 tools/qfcc/test/struct-return.r |   48 +++++++++++++++++++++++++++++++++++++++
 3 files changed, 96 insertions(+)

commit 76305e7
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jun 14 05:37:26 2005 +0000

    attempt to fix choppy audio in alsa caused by non-power-of 2 buffer size

 include/alsa_funcs_list.h     |    1 +
 libs/audio/targets/snd_alsa.c |   21 +++++++++++++++++++++
 2 files changed, 22 insertions(+)

commit 4a8bc0a
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jun 13 09:41:48 2005 +0000

    bit of a reorg to get most code out of the way of #ifdefs, bit of a speedup
    for screen updates and add a simple escape sequence parser for home and end
    in debian's xterm (which seems to have borked terminfo?)

 libs/console/server.c |  406 ++++++++++++++++++++++++++++---------------------
 1 file changed, 236 insertions(+), 170 deletions(-)

commit 3f58823
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jun 12 11:37:28 2005 +0000

    vector-calls now works with rcall :)

 tools/qfcc/source/emit.c |   39 +++++++++++++++++++++++++--------------
 1 file changed, 25 insertions(+), 14 deletions(-)

commit aa62658
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jun 12 11:36:30 2005 +0000

    allow -Cno-v6only to work when defaulting to traditional

 tools/qfcc/source/options.c |    6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit 762aefc
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jun 12 09:54:01 2005 +0000

    implement Raven's calling convention (rcall: first 2 params in opb and
    opc). should give a general speedup to most progs.

 doc/progs/vm-exec.c               |    1 +
 include/QF/pr_comp.h              |   10 +++++++
 include/QF/progs.h                |   11 ++++++++
 libs/console/menu.c               |    5 ++++
 libs/gamecode/builtins/bi_gib.c   |    1 +
 libs/gamecode/engine/pr_exec.c    |   19 ++++++++++++-
 libs/gamecode/engine/pr_opcode.c  |   54 +++++++++++++++++++++++++++++++++++++
 libs/gamecode/engine/pr_parse.c   |    1 +
 libs/gamecode/engine/pr_resolve.c |    1 +
 libs/ruamoko/rua_hash.c           |    4 +++
 libs/ruamoko/rua_obj.c            |    1 +
 qw/source/sv_ccmds.c              |    1 +
 qw/source/sv_pr_qwe.c             |    1 +
 qw/source/sv_user.c               |    3 +++
 tools/qfcc/TODO                   |    2 +-
 tools/qfcc/source/emit.c          |   19 +++++++------
 tools/qwaq/main.c                 |    1 +
 17 files changed, 125 insertions(+), 10 deletions(-)

commit be83a5f
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jun 12 08:38:47 2005 +0000

    make sure the view being moved from viewlist to group doesn't get freed by
    accident

 ruamoko/gui/Group.r |    6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit 66cabb5
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jun 10 07:31:25 2005 +0000

    add the vector-calls "optimisation" from fteqcc. makes it possible to
    compile the version of frogbot with waypoints for almost 300 maps.

 tools/qfcc/doc/man/qfcc.1    |   15 ++++++++++++++-
 tools/qfcc/include/options.h |    1 +
 tools/qfcc/source/emit.c     |   34 ++++++++++++++++++++++++++--------
 tools/qfcc/source/expr.c     |    2 +-
 tools/qfcc/source/options.c  |    2 ++
 tools/qfcc/source/type.c     |   12 ++++++------
 6 files changed, 50 insertions(+), 16 deletions(-)

commit 116860b
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jun 10 05:16:20 2005 +0000

    don't segfault when running out of globals

 tools/qfcc/source/def.c  |    7 ++++++-
 tools/qfcc/source/qfcc.c |    2 ++
 2 files changed, 8 insertions(+), 1 deletion(-)

commit 9f66278
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jun 9 10:34:03 2005 +0000

    get struct copy to/from struct fields via pointers. fixes a bug found by
    snax

 tools/qfcc/source/constfold.c |    2 +-
 tools/qfcc/source/emit.c      |   10 ++++++++++
 tools/qfcc/source/immediate.c |    4 +++-
 3 files changed, 14 insertions(+), 2 deletions(-)

commit 6355674
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jun 9 03:07:13 2005 +0000

    correct copyright headers

 qtv/include/client.h     |   10 +++++-----
 qtv/include/connection.h |   10 +++++-----
 qtv/include/qtv.h        |   10 +++++-----
 qtv/include/server.h     |   10 +++++-----
 qtv/source/client.c      |   10 +++++-----
 qtv/source/connection.c  |   10 +++++-----
 qtv/source/qtv.c         |   10 +++++-----
 qtv/source/server.c      |   10 +++++-----
 qtv/source/sv_parse.c    |   10 +++++-----
 9 files changed, 45 insertions(+), 45 deletions(-)

commit df91ce0
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jun 8 10:12:28 2005 +0000

    automaticly select the best available sound output driver as default

 RPM/quakeforge.spec.in |    2 +-
 configure.ac           |   39 ++++++++++++++++++++++++++++++++++-----
 libs/audio/snd.c       |   12 +-----------
 3 files changed, 36 insertions(+), 17 deletions(-)

commit 565bb92
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jun 8 10:07:48 2005 +0000

    con_data clash. oops. :)

 libs/console/server.c |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit e10e2be
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jun 8 08:49:54 2005 +0000

    get the len types right rather than guessing

 libs/net/nm/net_udp.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit d261b42
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jun 8 07:24:29 2005 +0000

    fix a header error pointed out by Kaylea Hascall (thanks)

 tools/qfmodelgen/source/lbmlib.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 501180a
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jun 8 06:35:48 2005 +0000

    gcc-4.0 fixes. even found some bugs :) (names /not/ mangled this time)

 include/QF/console.h               |    2 --
 include/QF/plugin/snd_output.h     |    4 ++--
 include/QF/plugin/snd_render.h     |    4 ++--
 include/QF/riff.h                  |    8 +++++---
 include/QF/sound.h                 |   18 ------------------
 include/context_x11.h              |    2 --
 include/netchan.h                  |    4 ++--
 libs/audio/renderer/midi.c         |    2 ++
 libs/audio/renderer/snd_mix.c      |    2 +-
 libs/audio/renderer/vorbis.c       |    3 ++-
 libs/audio/renderer/wav.c          |    3 +--
 libs/console/server.c              |    4 ++--
 libs/gib/gib_classes.c             |    9 ++++++---
 libs/gib/gib_function.c            |    6 ++++--
 libs/gib/gib_thread.c              |    4 +++-
 libs/gib/regex.c                   |    3 ++-
 libs/net/nm/net_udp.c              |    4 ++--
 libs/util/info.c                   |    2 +-
 libs/util/msg.c                    |    2 +-
 libs/util/qfplist.c                |    2 +-
 libs/video/targets/in_x11.c        |    4 ++--
 libs/video/targets/qfgl_ext.c      |    6 +++---
 libs/video/targets/vid_common_gl.c |    8 ++++----
 libs/video/targets/vid_fbdev.c     |    4 ++--
 libs/video/targets/vid_svgalib.c   |    4 ++--
 nq/source/host.c                   |    2 +-
 nq/source/host_cmd.c               |    2 +-
 nq/source/sv_main.c                |    4 ++--
 qw/include/server.h                |    2 +-
 qw/source/cl_chat.c                |   16 +++++++++++-----
 qw/source/cl_demo.c                |    2 +-
 qw/source/cl_main.c                |    2 +-
 qw/source/net_packetlog.c          |    6 ++++--
 qw/source/pmovetst.c               |    2 ++
 qw/source/sbar.c                   |    2 +-
 qw/source/sv_demo.c                |    6 +++---
 qw/source/sv_init.c                |    2 +-
 qw/source/sv_pr_qwe.c              |    6 +++---
 qw/source/sv_send.c                |   15 ++++++++-------
 tools/bsp2img/bsp2img.c            |    5 +++--
 tools/qfbsp/source/writebsp.c      |    2 +-
 tools/qfcc/include/method.h        |    2 --
 tools/qflight/source/qflight.c     |    2 +-
 tools/qfvis/source/qfvis.c         |    4 ++--
 tools/wad/wad.c                    |    2 +-
 45 files changed, 100 insertions(+), 100 deletions(-)

commit fd54b1a
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Tue May 10 08:19:15 2005 +0000

    Scheme: Make apply follow the R5RS standard.

 ruamoko/scheme/builtins.r |   13 ++++++++++++-
 1 file changed, 12 insertions(+), 1 deletion(-)

commit 5480c38
Author: Bill Currie <bill@taniwha.org>
Date:   Tue May 10 02:39:54 2005 +0000

    fix the "blue bars" problem when connecting to qtv over a laggy network.
    also flush the entities packet when things go wrong to avoid crashing:)
    (thanks for your help, Spike)

 qtv/include/server.h  |    1 +
 qtv/source/client.c   |    7 +++++++
 qtv/source/server.c   |    2 +-
 qtv/source/sv_parse.c |   37 +++++++++++++++++++++++++++++--------
 4 files changed, 38 insertions(+), 9 deletions(-)

commit 9482a7c
Author: Bill Currie <bill@taniwha.org>
Date:   Tue May 10 02:37:34 2005 +0000

    make showpackets a little more usable and informative

 libs/net/net_chan.c |    9 +++++----
 1 file changed, 5 insertions(+), 4 deletions(-)

commit 66a29c3
Author: Bill Currie <bill@taniwha.org>
Date:   Mon May 9 22:33:21 2005 +0000

    set the fraglog high water mark to a sane value (ie, < the log buffer size)

 qw/source/sv_main.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 57fc1ea
Author: Bill Currie <bill@taniwha.org>
Date:   Mon May 9 14:49:54 2005 +0000

    now everything that should be sent gets sent

 qtv/include/client.h  |    1 +
 qtv/include/server.h  |    1 +
 qtv/source/client.c   |   19 +++++++++++--
 qtv/source/server.c   |    2 ++
 qtv/source/sv_parse.c |   73 ++++++++++++++++++++++---------------------------
 5 files changed, 53 insertions(+), 43 deletions(-)

commit 1029ad3
Author: Bill Currie <bill@taniwha.org>
Date:   Mon May 9 13:37:03 2005 +0000

    really get player deltas working and get connecting and disconnecting
    players working as well

 qtv/source/sv_parse.c |   23 +++++++++++++++++++----
 1 file changed, 19 insertions(+), 4 deletions(-)

commit 47bf8c8
Author: Bill Currie <bill@taniwha.org>
Date:   Mon May 9 12:12:48 2005 +0000

    player deltas seem to be working

 qtv/source/sv_parse.c   |   90 ++++++++++++++++++++++++++++++-----------------
 qw/include/server.h     |    1 +
 qw/source/sv_ents.c     |   28 +++++++++------
 qw/source/sv_recorder.c |    1 +
 4 files changed, 77 insertions(+), 43 deletions(-)

commit 85c2548
Author: Bill Currie <bill@taniwha.org>
Date:   Mon May 9 12:11:18 2005 +0000

    seems /that/ wasn't cruft :P

 configure.ac |    8 ++++++++
 1 file changed, 8 insertions(+)

commit bebfe15
Author: Bill Currie <bill@taniwha.org>
Date:   Mon May 9 02:01:02 2005 +0000

    clean out some old cruft

 configure.ac        |   18 ------------------
 qw/source/cl_ents.c |    6 ------
 2 files changed, 24 deletions(-)

commit 6a9adaf
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Sun May 8 21:51:16 2005 +0000

    Added support for comments

 ruamoko/scheme/Lexer.r |   14 ++++++++++++--
 1 file changed, 12 insertions(+), 2 deletions(-)

commit 07cd150
Author: Bill Currie <bill@taniwha.org>
Date:   Sun May 8 13:24:00 2005 +0000

    packet entities seem to work. players are a bit borked, though. not sure if
    it's in the server or the proxy, yet

 qtv/include/server.h  |    1 +
 qtv/source/client.c   |   16 ++++++++--------
 qtv/source/sv_parse.c |   17 +++++++++++------
 3 files changed, 20 insertions(+), 14 deletions(-)

commit 4f9c315
Author: Bill Currie <bill@taniwha.org>
Date:   Sun May 8 11:45:35 2005 +0000

    qtv wants no pvs culling

 qw/source/sv_recorder.c |    7 ++++---
 1 file changed, 4 insertions(+), 3 deletions(-)

commit ed0b29a
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Sun May 8 11:17:44 2005 +0000

    Cons now allocates String objects when outputting string form.  Added
    support for begin expressions and tweaked the GC to be more aggressive.

 ruamoko/scheme/Compiler.r     |    5 +++++
 ruamoko/scheme/Cons.r         |    7 +++----
 ruamoko/scheme/SchemeObject.r |    2 +-
 3 files changed, 9 insertions(+), 5 deletions(-)

commit 111df71
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Sun May 8 10:43:56 2005 +0000

    String.[hr] -> SchemeString.[hr], for the sake of case-insensitive
    filesystems.

 ruamoko/scheme/CompiledCode.h |    2 +-
 ruamoko/scheme/Makefile.am    |    2 +-
 ruamoko/scheme/SchemeString.h |   14 ++++++++++++++
 ruamoko/scheme/SchemeString.r |   35 +++++++++++++++++++++++++++++++++++
 ruamoko/scheme/String.h       |   14 --------------
 ruamoko/scheme/String.r       |   35 -----------------------------------
 ruamoko/scheme/Symbol.h       |    2 +-
 7 files changed, 52 insertions(+), 52 deletions(-)

commit d9a7214
Author: Bill Currie <bill@taniwha.org>
Date:   Sun May 8 10:41:11 2005 +0000

    packet entities sort of work

 qtv/include/client.h |    6 +
 qtv/source/client.c  |  319 +++++++++++++++++++++++++++++++++++++++++++++++++-
 2 files changed, 322 insertions(+), 3 deletions(-)

commit 86606cc
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Sun May 8 10:37:57 2005 +0000

    Added proper argument number checking to lambdas, a bunch more builtins,
    a few misc optimizations.

 ruamoko/scheme/Boolean.r      |    4 +-
 ruamoko/scheme/CompiledCode.h |    4 +
 ruamoko/scheme/CompiledCode.r |   19 ++++
 ruamoko/scheme/Compiler.r     |   13 +--
 ruamoko/scheme/Cons.h         |    1 +
 ruamoko/scheme/Cons.r         |   11 +++
 ruamoko/scheme/Lambda.r       |   10 ++
 ruamoko/scheme/Nil.r          |    2 +-
 ruamoko/scheme/SchemeObject.r |    1 -
 ruamoko/scheme/Symbol.r       |    8 +-
 ruamoko/scheme/builtins.r     |  202 +++++++++++++++++++++++++++++++++++++----
 11 files changed, 242 insertions(+), 33 deletions(-)

commit 2ebd2e0
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Sun May 8 10:14:27 2005 +0000

    Scheme: The lexer now actually supports true/false constants.

 ruamoko/scheme/Lexer.r |   29 +++++++++++++++++++++++++++++
 1 file changed, 29 insertions(+)

commit 9683888
Author: Bill Currie <bill@taniwha.org>
Date:   Sun May 8 09:10:43 2005 +0000

    prespawn stuff seems to be done (evil hack for signon buffers, but hey:)

 qtv/include/server.h  |    5 +++++
 qtv/source/client.c   |   25 ++++++++++++++++++-------
 qtv/source/sv_parse.c |   26 ++++++++++++++++++++++++++
 3 files changed, 49 insertions(+), 7 deletions(-)

commit fc18658
Author: Bill Currie <bill@taniwha.org>
Date:   Sun May 8 08:14:24 2005 +0000

    doh, put the spawn stuff in the prespawn function

 qtv/source/client.c |   41 +++++++++++++++++++++--------------------
 1 file changed, 21 insertions(+), 20 deletions(-)

commit a409ea4
Author: Bill Currie <bill@taniwha.org>
Date:   Sun May 8 08:04:50 2005 +0000

    spawn code complete

 include/Makefile.am     |    2 +-
 include/qw/bothdefs.h   |  139 +++++++++++++++++++++++++++++++++++++++++++++++
 qtv/include/server.h    |    1 +
 qtv/source/client.c     |   53 ++++++++++++++++++
 qtv/source/sv_parse.c   |   17 +++++-
 qw/include/Makefile.am  |    2 +-
 qw/include/bothdefs.h   |  139 -----------------------------------------------
 qw/source/cl_ents.c     |    2 +-
 qw/source/cl_main.c     |    2 +-
 qw/source/cl_parse.c    |    2 +-
 qw/source/cl_pred.c     |    2 +-
 qw/source/cl_slist.c    |    2 +-
 qw/source/cl_view.c     |    2 +-
 qw/source/sbar.c        |    2 +-
 qw/source/sv_ccmds.c    |    2 +-
 qw/source/sv_main.c     |    2 +-
 qw/source/sv_recorder.c |    2 +-
 qw/source/sv_send.c     |    2 +-
 qw/source/sv_user.c     |    2 +-
 qw/source/teamplay.c    |    2 +-
 20 files changed, 222 insertions(+), 157 deletions(-)

commit e8680d7
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Sun May 8 06:38:01 2005 +0000

    Added runtime error checking and line number tracking.  Seems to catch most
    Scheme program errors without making Rua abort now, although there are a
    few things that still need to actually report errors instead of failing
    in weird ways.

 ruamoko/scheme/CompiledCode.h |   10 +++++
 ruamoko/scheme/CompiledCode.r |   14 +++++++
 ruamoko/scheme/Compiler.r     |   11 ++++++
 ruamoko/scheme/Cons.h         |    1 +
 ruamoko/scheme/Cons.r         |    7 ++++
 ruamoko/scheme/Continuation.r |    2 +
 ruamoko/scheme/Lambda.r       |    1 +
 ruamoko/scheme/Machine.h      |    1 +
 ruamoko/scheme/Machine.r      |   51 +++++++++++++++++++++++++-
 ruamoko/scheme/SchemeObject.r |    2 +
 ruamoko/scheme/builtins.r     |   81 +++++++++++++++++++++++++++++++++++++++++
 ruamoko/scheme/main.qc        |   10 ++++-
 ruamoko/scheme/state.h        |    2 +
 13 files changed, 190 insertions(+), 3 deletions(-)

commit a154ad2
Author: Bill Currie <bill@taniwha.org>
Date:   Sun May 8 06:35:46 2005 +0000

    patch from sunspot/shadows to make net_drop non-global and a bunch more
    work on qtv

 include/netchan.h     |    2 +-
 libs/net/net_chan.c   |    5 +-
 qtv/include/client.h  |    4 +
 qtv/include/server.h  |    1 +
 qtv/source/client.c   |  312 ++++++++++++++++++++++++++++++++++++++++++-------
 qtv/source/server.c   |    1 +
 qtv/source/sv_parse.c |    6 +-
 qw/source/sv_user.c   |   10 +-
 8 files changed, 290 insertions(+), 51 deletions(-)

commit bc73af3
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Sun May 8 03:44:18 2005 +0000

    Scheme: Added letrec, first-class continuations, and tuned the garbage
    collector a bit.

 ruamoko/scheme/BaseContinuation.h |   11 ++++++
 ruamoko/scheme/BaseContinuation.r |   28 +++++++++++++++
 ruamoko/scheme/Compiler.h         |    2 ++
 ruamoko/scheme/Compiler.r         |   70 +++++++++++++++++++++++++++++--------
 ruamoko/scheme/Continuation.r     |    7 ++++
 ruamoko/scheme/Instruction.h      |    1 +
 ruamoko/scheme/Machine.r          |    6 ++--
 ruamoko/scheme/Makefile.am        |    2 +-
 ruamoko/scheme/Primitive.r        |    2 +-
 ruamoko/scheme/SchemeObject.r     |   31 +++++-----------
 ruamoko/scheme/Scope.r            |    5 +++
 ruamoko/scheme/builtins.r         |   16 +++++++++
 12 files changed, 141 insertions(+), 40 deletions(-)

commit 4a425a1
Author: Bill Currie <bill@taniwha.org>
Date:   Sun May 8 00:48:21 2005 +0000

    though none of the signon info is sent yet, the spectating client now gets
    put into the map. can't move yet, though

 qtv/include/client.h  |    9 +++
 qtv/include/server.h  |    3 +
 qtv/source/client.c   |  175 +++++++++++++++++++++++++++++++++++++++++++++++--
 qtv/source/qtv.c      |    1 +
 qtv/source/server.c   |   35 ++++++++++
 qtv/source/sv_parse.c |   42 +++++-------
 6 files changed, 234 insertions(+), 31 deletions(-)

commit d16cf69
Author: Bill Currie <bill@taniwha.org>
Date:   Sun May 8 00:47:37 2005 +0000

    fix a typo in a message

 qw/source/sv_user.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d2c586d
Author: Bill Currie <bill@taniwha.org>
Date:   Sat May 7 14:00:53 2005 +0000

    forgot to "disconnect" the client when it drops

 qtv/source/client.c |    2 ++
 1 file changed, 2 insertions(+)

commit 88ae6de
Author: Bill Currie <bill@taniwha.org>
Date:   Sat May 7 13:57:07 2005 +0000

    whee, clients now get spammed with text messages when "connected" to a
    server

 qtv/include/client.h  |    6 ++++++
 qtv/include/server.h  |    7 +++++++
 qtv/source/client.c   |   44 +++++++++++++++++++++++++++++++++-----------
 qtv/source/server.c   |   40 ++++++++++++++++++++++++++++++++++++++--
 qtv/source/sv_parse.c |   40 +++++++++++++++++++++++++++++++++++++---
 5 files changed, 121 insertions(+), 16 deletions(-)

commit 84dd9c1
Author: Bill Currie <bill@taniwha.org>
Date:   Sat May 7 12:57:48 2005 +0000

    datagram needs allowoverflow

 qw/source/sv_recorder.c |    1 +
 1 file changed, 1 insertion(+)

commit 77af004
Author: Bill Currie <bill@taniwha.org>
Date:   Sat May 7 11:42:04 2005 +0000

    bah, need svc_chokecount when real clients are connected :P

 qtv/source/client.c   |   23 +++++++++++++++--------
 qtv/source/sv_parse.c |    4 ++++
 2 files changed, 19 insertions(+), 8 deletions(-)

commit ec4bab3
Author: Bill Currie <bill@taniwha.org>
Date:   Sat May 7 11:19:05 2005 +0000

    parse nails and actually print svc_prints :)

 qtv/source/sv_parse.c |   20 +++++++++++++++++---
 1 file changed, 17 insertions(+), 3 deletions(-)

commit 97d14de
Author: Bill Currie <bill@taniwha.org>
Date:   Sat May 7 10:47:02 2005 +0000

    talk about silly brainos... (and drat that mask, might have to get rid of
    it and go for % instead of &)

 qw/source/sv_recorder.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit f9541dc
Author: Bill Currie <bill@taniwha.org>
Date:   Sat May 7 10:46:19 2005 +0000

    fix an old bug that would mess up bots (geez, globals can suck)

 qw/source/sv_user.c |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 9c59d2e
Author: Bill Currie <bill@taniwha.org>
Date:   Sat May 7 09:52:57 2005 +0000

    add a missing function

 tools/gl_stub/gls_norm.c  |    5 +++++
 tools/gl_stub/gls_trace.c |    5 +++++
 2 files changed, 10 insertions(+)

commit 69bf8f3
Author: Bill Currie <bill@taniwha.org>
Date:   Sat May 7 08:28:44 2005 +0000

    wow, when I screw up... :)
    fix the broken bindings menus

 ruamoko/cl_menu/controls_o.qc |   23 ++++++++++++-----------
 1 file changed, 12 insertions(+), 11 deletions(-)

commit 0cbfc6f
Author: Bill Currie <bill@taniwha.org>
Date:   Sat May 7 07:38:04 2005 +0000

    plug a leak

 libs/gib/gib_object.c |   10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit a87a77e
Author: Bill Currie <bill@taniwha.org>
Date:   Sat May 7 06:59:39 2005 +0000

    parse svc_temp_entity

 qtv/source/sv_parse.c |   70 ++++++++++++++++++++++++++++++++++++++++++++++++-
 1 file changed, 69 insertions(+), 1 deletion(-)

commit 8caeb6a
Author: Bill Currie <bill@taniwha.org>
Date:   Sat May 7 06:25:57 2005 +0000

    get svc_playerinfo working (I think:)

 qtv/source/sv_parse.c |   21 +++++++++++----------
 1 file changed, 11 insertions(+), 10 deletions(-)

commit 196622a
Author: Bill Currie <bill@taniwha.org>
Date:   Sat May 7 05:16:54 2005 +0000

    parse ping and pl properly

 qtv/source/sv_parse.c |    5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit be93162
Author: Bill Currie <bill@taniwha.org>
Date:   Sat May 7 05:13:37 2005 +0000

    svc_[delta]packetentities now getting parsed

 qtv/include/server.h  |   34 +++-
 qtv/source/server.c   |   27 ++-
 qtv/source/sv_parse.c |  522 ++++++++++++++++++++++++++++++++++++++++---------
 3 files changed, 474 insertions(+), 109 deletions(-)

commit 080e619
Author: Bill Currie <bill@taniwha.org>
Date:   Sat May 7 00:48:19 2005 +0000

    oops, accidently broke delta updates in bad pl situations

 qw/source/sv_ents.c     |   10 ++++++----
 qw/source/sv_recorder.c |    2 +-
 qw/source/sv_user.c     |    1 -
 3 files changed, 7 insertions(+), 6 deletions(-)

commit adba6b2
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Fri May 6 23:25:06 2005 +0000

    Scheme updates:
    	- Boolean type (no support in lexer yet)
    	- Conditionals
    	- Defines (only work correctly at top level)
    	- More core builtins (apply, cons, car, cdr)
    	- Variable-argument functions
    	- Incremental garbage collection
    	- Garbage collection fixes
    	- Other misc bugs fixed

 ruamoko/scheme/.gitignore     |    1 +
 ruamoko/scheme/Boolean.h      |   12 ++++
 ruamoko/scheme/Boolean.r      |   32 ++++++++++
 ruamoko/scheme/CompiledCode.r |   27 +++++++--
 ruamoko/scheme/Compiler.h     |    1 -
 ruamoko/scheme/Compiler.r     |  125 +++++++++++++++++++++++++++++++++++----
 ruamoko/scheme/Continuation.h |    6 +-
 ruamoko/scheme/Continuation.r |   17 +++---
 ruamoko/scheme/Instruction.h  |    7 ++-
 ruamoko/scheme/Lambda.r       |    1 +
 ruamoko/scheme/Lexer.h        |    2 +-
 ruamoko/scheme/Lexer.r        |   20 ++++---
 ruamoko/scheme/Machine.h      |    3 +-
 ruamoko/scheme/Machine.r      |   83 +++++++++++++++++++-------
 ruamoko/scheme/Makefile.am    |    2 +-
 ruamoko/scheme/Parser.h       |    2 +-
 ruamoko/scheme/Parser.r       |   12 +++-
 ruamoko/scheme/Primitive.r    |    7 ++-
 ruamoko/scheme/Procedure.r    |    1 +
 ruamoko/scheme/SchemeObject.h |    7 +--
 ruamoko/scheme/SchemeObject.r |  130 +++++++++++++++++++++++++++++++++--------
 ruamoko/scheme/Scope.r        |    6 +-
 ruamoko/scheme/Symbol.h       |    3 +
 ruamoko/scheme/Symbol.r       |   13 +++++
 ruamoko/scheme/builtins.h     |    7 +--
 ruamoko/scheme/builtins.r     |  100 ++++++++++++++-----------------
 ruamoko/scheme/debug.h        |    4 ++
 ruamoko/scheme/defs.h         |    4 +-
 ruamoko/scheme/defs.qc        |    4 +-
 ruamoko/scheme/main.qc        |   12 ++--
 ruamoko/scheme/state.h        |    6 +-
 31 files changed, 483 insertions(+), 174 deletions(-)

commit 5378a85
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Fri May 6 23:06:50 2005 +0000

    Bug fixes: initializes properly, releases overwritten elements, doesn't
    try to free null pointers

 ruamoko/lib/Array.r |   12 +++++++++---
 1 file changed, 9 insertions(+), 3 deletions(-)

commit 4443ef5
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 6 08:19:26 2005 +0000

    forgot I also had the beginnings of player updates

 qtv/include/server.h |   11 +++++++++++
 1 file changed, 11 insertions(+)

commit cadaf73
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 6 08:18:47 2005 +0000

    cleanup sub-packet handling

 qtv/source/server.c |  116 +++++++++++++++++++++++++++------------------------
 1 file changed, 62 insertions(+), 54 deletions(-)

commit da1df94
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 6 07:24:30 2005 +0000

    split out the qw protocol parsing from the server managmement code

 qtv/include/server.h   |    4 +
 qtv/source/Makefile.am |    2 +-
 qtv/source/server.c    |  479 ++-------------------------------------------
 qtv/source/sv_parse.c  |  503 ++++++++++++++++++++++++++++++++++++++++++++++++
 4 files changed, 524 insertions(+), 464 deletions(-)

commit addb57b
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 5 22:50:09 2005 +0000

    plug some memory leaks

 libs/util/quakefs.c     |    4 ++++
 libs/util/sys.c         |    4 +++-
 qtv/source/connection.c |   10 ++++++++--
 qtv/source/qtv.c        |    2 ++
 qtv/source/server.c     |   10 ++++++++++
 5 files changed, 27 insertions(+), 3 deletions(-)

commit 6c6f781
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 5 13:53:47 2005 +0000

    make sv_new a little friendlier

 qtv/source/server.c |    7 ++++---
 1 file changed, 4 insertions(+), 3 deletions(-)

commit ac96f94
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 5 13:36:01 2005 +0000

    fix broken mvds (and probably qtv streams, for that matter)

 include/netchan.h         |    1 +
 qw/source/net_packetlog.c |    4 +---
 qw/source/sv_recorder.c   |    4 ++--
 3 files changed, 4 insertions(+), 5 deletions(-)

commit d017b87
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 5 11:46:29 2005 +0000

    lots of progress, however mvd player deltas are borked atm

 qtv/source/server.c      |  419 +++++++++++++++++++++++++++++++++++++++-------
 qw/include/sv_recorder.h |    3 +-
 qw/source/sv_demo.c      |   11 +-
 qw/source/sv_ents.c      |    2 +-
 qw/source/sv_qtv.c       |  107 +++++++-----
 qw/source/sv_recorder.c  |   38 +++--
 6 files changed, 454 insertions(+), 126 deletions(-)

commit 978ad6f
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 5 11:43:02 2005 +0000

    oops, that didn't work as expected

 qw/source/sv_main.c |    7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

commit 61aeae5
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 5 07:59:58 2005 +0000

    don't need those prints any more

 qw/source/sv_qtv.c |    2 --
 1 file changed, 2 deletions(-)

commit 966b5ee
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 5 07:31:31 2005 +0000

    "mvd" stuff now gets streamed to the qtv proxy :)

 include/qw/protocol.h    |   11 +--
 qtv/include/server.h     |    2 +
 qtv/source/qtv.c         |    2 +
 qtv/source/server.c      |  150 +++++++++++++++++++++++++++++++--------
 qw/include/server.h      |    4 +-
 qw/include/sv_qtv.h      |    1 +
 qw/include/sv_recorder.h |    8 +--
 qw/source/sv_demo.c      |    8 +--
 qw/source/sv_main.c      |   16 ++---
 qw/source/sv_qtv.c       |  177 ++++++++++++++++++++++++++++++++++++++++++++--
 qw/source/sv_recorder.c  |   22 +++---
 qw/source/sv_user.c      |   83 +++++++++++++---------
 12 files changed, 381 insertions(+), 103 deletions(-)

commit 63d787d
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 5 00:27:04 2005 +0000

    add MSG_WriteUTF8 and MSG_ReadUTF8 to handle 31 bit values nicely for
    future protocol extensions. Equivalent to MSG_*Byte or MSG_*Char. Use
    MSG_ReadString and MSG_WriteString with the appropriate libc functions for
    utf8 strings.

 include/QF/msg.h |    2 ++
 libs/util/msg.c  |   94 ++++++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 96 insertions(+)

commit 925ea16
Author: Bill Currie <bill@taniwha.org>
Date:   Mon May 2 09:00:17 2005 +0000

    we get to "spawn". whee. not long now and I'll have to work on the client
    side :)

 include/QF/msg.h         |    1 +
 include/qw/msg_backbuf.h |    4 +-
 include/qw/protocol.h    |    5 +-
 libs/qw/msg_backbuf.c    |   13 ++--
 libs/util/msg.c          |   12 ++++
 qtv/source/qtv.c         |    2 +-
 qtv/source/server.c      |  150 ++++++++++++++++++++++++++++++++++++++++++++--
 qw/include/server.h      |    2 +
 qw/source/sv_qtv.c       |   81 ++++++++++++++++++++++++-
 qw/source/sv_user.c      |   56 ++++++++++-------
 10 files changed, 289 insertions(+), 37 deletions(-)

commit 2d8923e
Author: Bill Currie <bill@taniwha.org>
Date:   Mon May 2 06:31:55 2005 +0000

    pre-initialize chan->incoming_sequence to -1 so a packet with an incoming
    sequence of 0 will work

 libs/net/net_chan.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit d1bef3b
Author: Bill Currie <bill@taniwha.org>
Date:   Mon May 2 06:30:18 2005 +0000

    get -Wsign-compare check into the right place

 configure.ac |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 5ee4ec8
Author: Bill Currie <bill@taniwha.org>
Date:   Mon May 2 06:29:44 2005 +0000

    Array now requires its elements to be Objects

 ruamoko/cl_menu/controls_o.qc |   35 +++++++++++++++++++++++++++--------
 1 file changed, 27 insertions(+), 8 deletions(-)

commit 256630c
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Mon May 2 04:58:22 2005 +0000

    Added proper error checking and reporting with line numbers.  Next:
    Runtime errors and support for line number reporting with the error.

 ruamoko/scheme/Compiler.h     |    5 ++-
 ruamoko/scheme/Compiler.r     |   46 +++++++++++++++++++----
 ruamoko/scheme/Error.h        |   17 +++++++++
 ruamoko/scheme/Error.r        |   50 +++++++++++++++++++++++++
 ruamoko/scheme/Lexer.h        |    7 +++-
 ruamoko/scheme/Lexer.r        |   28 +++++++++++---
 ruamoko/scheme/Makefile.am    |    3 +-
 ruamoko/scheme/Parser.h       |    6 ++-
 ruamoko/scheme/Parser.r       |   82 +++++++++++++++++++++++++++++++++--------
 ruamoko/scheme/SchemeObject.h |    7 ++++
 ruamoko/scheme/SchemeObject.r |   25 +++++++++++++
 ruamoko/scheme/main.qc        |   17 +++++++--
 12 files changed, 253 insertions(+), 40 deletions(-)

commit cd2f943
Author: Bill Currie <bill@taniwha.org>
Date:   Mon May 2 04:09:15 2005 +0000

    proxy now stays connected :) also gets the server data packet. most changes
    due to move of pmove.h

 include/Makefile.am    |    2 +-
 include/qw/pmove.h     |  113 ++++++++++++++++++++++++++++++++++++++++
 include/qw/protocol.h  |   10 ++++
 libs/util/sys.c        |    4 +-
 qtv/include/server.h   |   14 ++++-
 qtv/source/qtv.c       |    2 +
 qtv/source/server.c    |  113 ++++++++++++++++++++++++++++++++++------
 qw/include/Makefile.am |    5 +-
 qw/include/pmove.h     |  113 ----------------------------------------
 qw/include/server.h    |    1 +
 qw/include/sv_qtv.h    |    1 +
 qw/source/cl_cam.c     |    2 +-
 qw/source/cl_demo.c    |    2 +-
 qw/source/cl_ents.c    |    2 +-
 qw/source/cl_main.c    |    2 +-
 qw/source/cl_parse.c   |    2 +-
 qw/source/cl_pred.c    |    2 +-
 qw/source/cl_view.c    |    2 +-
 qw/source/pmove.c      |    2 +-
 qw/source/pmovetst.c   |    2 +-
 qw/source/sv_demo.c    |    2 +-
 qw/source/sv_init.c    |    2 +-
 qw/source/sv_main.c    |    4 +-
 qw/source/sv_phys.c    |    2 +-
 qw/source/sv_qtv.c     |  133 +++++++++++++++++++++++++++++++++++++++++++++---
 qw/source/sv_user.c    |   74 ++++++++++++++-------------
 26 files changed, 424 insertions(+), 189 deletions(-)

commit 438073e
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Mon May 2 02:33:44 2005 +0000

    Bug fixes, plus a first stab at the garbage collector.  It *seems* to work
    properly so far.

 ruamoko/scheme/CompiledCode.r |   20 ++++++-
 ruamoko/scheme/Compiler.r     |   15 ++++-
 ruamoko/scheme/Cons.r         |    3 +-
 ruamoko/scheme/Continuation.r |    8 +++
 ruamoko/scheme/Frame.r        |   15 +++++
 ruamoko/scheme/Instruction.r  |    5 ++
 ruamoko/scheme/Lambda.r       |   73 +++--------------------
 ruamoko/scheme/Lexer.h        |    2 -
 ruamoko/scheme/Lexer.r        |    5 +-
 ruamoko/scheme/Machine.r      |   25 ++++----
 ruamoko/scheme/Nil.r          |    1 +
 ruamoko/scheme/Parser.r       |    3 +-
 ruamoko/scheme/SchemeObject.h |   15 ++++-
 ruamoko/scheme/SchemeObject.r |  129 +++++++++++++++++++++++++++++++++++++----
 ruamoko/scheme/Scope.r        |    6 ++
 ruamoko/scheme/Symbol.h       |    1 -
 ruamoko/scheme/Symbol.r       |   35 ++++++-----
 ruamoko/scheme/Void.r         |    1 +
 ruamoko/scheme/main.qc        |    2 +
 19 files changed, 244 insertions(+), 120 deletions(-)

commit 5130545
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Mon May 2 02:32:03 2005 +0000

    Array now properly retains/releases objects it stores.

 ruamoko/lib/Array.r |    5 +++++
 1 file changed, 5 insertions(+)

commit 0213efb
Author: Bill Currie <bill@taniwha.org>
Date:   Mon May 2 00:45:25 2005 +0000

    sv_recorder seems to be ready for qtv :)

 qw/include/server.h       |    6 +++
 qw/include/sv_recorder.h  |    4 +-
 qw/source/sv_demo.c       |    2 +-
 qw/source/sv_recorder.c   |  115 +++++++++++++++++++++++++--------------------
 ruamoko/scheme/.gitignore |    8 ++++
 5 files changed, 80 insertions(+), 55 deletions(-)

commit 7644b7f
Author: Bill Currie <bill@taniwha.org>
Date:   Sun May 1 22:27:03 2005 +0000

    a couple tweaks from snax' tree snuck in...

 configure.ac |    2 --
 1 file changed, 2 deletions(-)

commit c6cfcb1
Author: Bill Currie <bill@taniwha.org>
Date:   Sun May 1 22:13:10 2005 +0000

    mvds seem to work again

 qw/include/sv_recorder.h |    4 +++-
 qw/source/sv_demo.c      |   37 +++++++++++++----------------------
 qw/source/sv_pr_cmds.c   |    7 ++++---
 qw/source/sv_recorder.c  |   48 +++++++++++++++++++++++++++++++++++-----------
 4 files changed, 57 insertions(+), 39 deletions(-)

commit 281b683
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Sun May 1 11:48:36 2005 +0000

    Initial commit of a future partial implementation of the R5RS Scheme
    standard, implemented in Ruamoko.  Currently works for a few simple
    "Hello, world!" programs.

 configure.ac                  |   16 +++-
 ruamoko/Makefile.am           |    2 +-
 ruamoko/scheme/CompiledCode.h |   22 +++++
 ruamoko/scheme/CompiledCode.r |   57 +++++++++++++
 ruamoko/scheme/Compiler.h     |   23 ++++++
 ruamoko/scheme/Compiler.r     |  144 +++++++++++++++++++++++++++++++++
 ruamoko/scheme/Cons.h         |   19 +++++
 ruamoko/scheme/Cons.r         |   82 +++++++++++++++++++
 ruamoko/scheme/Continuation.h |   18 +++++
 ruamoko/scheme/Continuation.r |   34 ++++++++
 ruamoko/scheme/Frame.h        |   18 +++++
 ruamoko/scheme/Frame.r        |   33 ++++++++
 ruamoko/scheme/Instruction.h  |   46 +++++++++++
 ruamoko/scheme/Instruction.r  |   54 +++++++++++++
 ruamoko/scheme/Lambda.h       |   17 ++++
 ruamoko/scheme/Lambda.r       |   92 +++++++++++++++++++++
 ruamoko/scheme/Lexer.h        |   17 ++++
 ruamoko/scheme/Lexer.r        |   79 ++++++++++++++++++
 ruamoko/scheme/Machine.h      |   31 +++++++
 ruamoko/scheme/Machine.r      |  179 +++++++++++++++++++++++++++++++++++++++++
 ruamoko/scheme/Makefile.am    |   62 ++++++++++++++
 ruamoko/scheme/Nil.h          |   11 +++
 ruamoko/scheme/Nil.r          |   23 ++++++
 ruamoko/scheme/Number.h       |   14 ++++
 ruamoko/scheme/Number.r       |   27 +++++++
 ruamoko/scheme/Parser.h       |   14 ++++
 ruamoko/scheme/Parser.r       |   55 +++++++++++++
 ruamoko/scheme/Primitive.h    |   16 ++++
 ruamoko/scheme/Primitive.r    |   27 +++++++
 ruamoko/scheme/Procedure.h    |   11 +++
 ruamoko/scheme/Procedure.r    |   14 ++++
 ruamoko/scheme/SchemeObject.h |   17 ++++
 ruamoko/scheme/SchemeObject.r |   32 ++++++++
 ruamoko/scheme/Scope.h        |   20 +++++
 ruamoko/scheme/Scope.r        |   77 ++++++++++++++++++
 ruamoko/scheme/String.h       |   14 ++++
 ruamoko/scheme/String.r       |   35 ++++++++
 ruamoko/scheme/Symbol.h       |   15 ++++
 ruamoko/scheme/Symbol.r       |   74 +++++++++++++++++
 ruamoko/scheme/Void.h         |   13 +++
 ruamoko/scheme/Void.r         |   22 +++++
 ruamoko/scheme/builtins.h     |    8 ++
 ruamoko/scheme/builtins.r     |   94 ++++++++++++++++++++++
 ruamoko/scheme/defs.h         |   13 +++
 ruamoko/scheme/defs.qc        |   22 +++++
 ruamoko/scheme/main.qc        |   60 ++++++++++++++
 ruamoko/scheme/state.h        |   15 ++++
 47 files changed, 1785 insertions(+), 3 deletions(-)

commit 2b666bd
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Sun May 1 11:46:20 2005 +0000

    Tweak qwaq a bit so it can be used to run Ruamoko Scheme

 tools/qwaq/builtins.c |   25 +++++++++++++------------
 tools/qwaq/defs.qc    |   22 +++++++++++-----------
 tools/qwaq/main.c     |    1 +
 3 files changed, 25 insertions(+), 23 deletions(-)

commit 73a34b8
Author: Bill Currie <bill@taniwha.org>
Date:   Sun May 1 09:07:20 2005 +0000

    recorder interface to ease writing server state to mvds and qtv. ones this
    is working properly, adding qtv support will be trivial.

 qw/include/server.h      |    4 +-
 qw/include/sv_demo.h     |   70 +-----
 qw/include/sv_recorder.h |   48 ++++
 qw/source/Makefile.am    |    2 +-
 qw/source/sv_ccmds.c     |   20 +-
 qw/source/sv_demo.c      |  409 +++++---------------------------
 qw/source/sv_ents.c      |    1 -
 qw/source/sv_main.c      |    6 +-
 qw/source/sv_pr_cmds.c   |  108 +++++----
 qw/source/sv_pr_qwe.c    |    5 +-
 qw/source/sv_recorder.c  |  576 ++++++++++++++++++++++++++++++++++++++++++++++
 qw/source/sv_send.c      |  187 ++++-----------
 qw/source/sv_user.c      |   17 +-
 13 files changed, 827 insertions(+), 626 deletions(-)

commit f65c25a
Author: Bill Currie <bill@taniwha.org>
Date:   Sun May 1 08:30:30 2005 +0000

    oops, signage error

 libs/gamecode/engine/pr_exec.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 12eb4eb
Author: Bill Currie <bill@taniwha.org>
Date:   Sun May 1 04:27:05 2005 +0000

    serious cleanup of demo_t in preparation for converting it to a more
    general recorder struct to be shared between the demo recorder and qtv
    proxy connection(s)

 qw/include/sv_demo.h |   41 ++-------------
 qw/source/sv_demo.c  |  135 ++++++++++++++++++++++++++------------------------
 qw/source/sv_send.c  |   16 +++---
 3 files changed, 80 insertions(+), 112 deletions(-)

commit 8950f31
Author: Bill Currie <bill@taniwha.org>
Date:   Sun May 1 04:08:47 2005 +0000

    messed up the logic for ucmd_unkown

 qtv/source/client.c |    2 +-
 qw/source/sv_user.c |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit a0612e2
Author: Bill Currie <bill@taniwha.org>
Date:   Sun May 1 00:01:28 2005 +0000

    d'oh, forgot to mark the string ref as freed

 libs/gamecode/engine/pr_strings.c |    1 +
 1 file changed, 1 insertion(+)

commit aa1e9a3
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Apr 30 23:25:50 2005 +0000

    correct a spelling mistake, even though it's likely to get zapped soon

 qw/source/sv_demo.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit ee9ce7b
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Apr 30 09:29:01 2005 +0000

    oops, forgot to give the demo recorder player deltas :)

 qw/source/sv_demo.c |    5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit 629a2db
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Apr 30 08:45:17 2005 +0000

    first stage of rework for qtv support. there might be slight breakage in
    mvds, more testing is needed, but things seem ok.

 qw/include/server.h       |    7 +-
 qw/source/net_packetlog.c |    6 +-
 qw/source/sv_demo.c       |    3 +-
 qw/source/sv_ents.c       |  531 +++++++++++++++++++++++++--------------------
 qw/source/sv_main.c       |    7 +-
 qw/source/sv_send.c       |   15 +-
 qw/source/sv_user.c       |   15 +-
 7 files changed, 326 insertions(+), 258 deletions(-)

commit f38fcd9
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Apr 30 08:37:55 2005 +0000

    catch attempts to use freed strings

 libs/gamecode/engine/pr_strings.c |   12 +++++++++---
 1 file changed, 9 insertions(+), 3 deletions(-)

commit e500935
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Apr 30 04:37:01 2005 +0000

    move SV_WriteClientToDemo (going step by step now)

 qw/include/sv_demo.h |    1 -
 qw/source/sv_demo.c  |   60 --------------------------------------------------
 qw/source/sv_ents.c  |   60 ++++++++++++++++++++++++++++++++++++++++++++++++++
 3 files changed, 60 insertions(+), 61 deletions(-)

commit d308d32
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Apr 30 03:59:23 2005 +0000

      o misc little cleanups
      o add plent_state_t, packet_players_t and delta_t in preparation for
        re-worked delta compression code.
      o use plent_state_t in the client.

 include/qw/protocol.h |   92 +++++++++++++++++++++++++----------------
 qw/include/client.h   |   16 +-------
 qw/include/server.h   |   55 +++++++++++++------------
 qw/source/cl_cam.c    |   32 +++++++--------
 qw/source/cl_ents.c   |  108 +++++++++++++++++++++++++------------------------
 qw/source/cl_main.c   |    4 +-
 qw/source/cl_parse.c  |    2 +-
 qw/source/cl_pred.c   |   40 +++++++++---------
 qw/source/cl_view.c   |   10 ++---
 qw/source/sv_ents.c   |   14 +++----
 qw/source/sv_main.c   |    2 +
 qw/source/sv_user.c   |    1 -
 12 files changed, 197 insertions(+), 179 deletions(-)

commit 2697671
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Apr 27 12:16:15 2005 +0000

    make MSG_ReadDeltaUsercmd use a param rather than global to read the
    message.

 include/qw/msg_ucmd.h |    8 ++++----
 libs/qw/msg_ucmd.c    |   25 +++++++++++--------------
 qtv/source/client.c   |    6 +++---
 qw/source/cl_ents.c   |    2 +-
 qw/source/sv_user.c   |    6 +++---
 5 files changed, 22 insertions(+), 25 deletions(-)

commit 9dcd233
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Apr 27 09:54:37 2005 +0000

    Serious mvd surgery. Interpolation of player position/angle is no longer
    done and playerinfo is now written at the proper time, fixing the
    "lagged dlights" issue (as Spike puts it:). Hack to fix broken mvds removed
    as it should no longer be needed if everybody fixes their mvd servers :)

 qw/include/cl_parse.h |    1 -
 qw/include/sv_demo.h  |    4 +-
 qw/source/cl_ents.c   |    1 -
 qw/source/cl_parse.c  |    6 +-
 qw/source/sv_demo.c   |  198 ++++++++++++++-----------------------------------
 qw/source/sv_ents.c   |    8 +-
 qw/source/sv_send.c   |   17 +----
 7 files changed, 64 insertions(+), 171 deletions(-)

commit 616f094
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Apr 27 08:07:09 2005 +0000

    don't mangle the angle. no idea why it was there and it shouldn't normally
    get there /anyway/

 libs/video/renderer/gl/gl_rmain.c |    3 ---
 1 file changed, 3 deletions(-)

commit 74c0d0f
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Apr 27 07:00:02 2005 +0000

    fix a nasty bug in QSG support where the wrong flag was getting set for
    frame number > 255

 qw/source/sv_ents.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c4feb0e
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Apr 27 03:34:38 2005 +0000

    attempt to get the external ip address from the system rather than relying
    on hostname as hostname might resolve to 127.0.0.1, which isn't good for
    trying to play networked games. if the attempt fails, fall back to the
    hostname method

 libs/net/nm/net_udp.c |   38 ++++++++++++++++++++++++++++++++++++++
 1 file changed, 38 insertions(+)

commit 3ff740d
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Apr 26 23:40:19 2005 +0000

    oops, committed debug stuff by mistake

 libs/util/cmd.c |    2 --
 1 file changed, 2 deletions(-)

commit 23d7280
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Apr 26 02:54:14 2005 +0000

    small cleanups

 qw/source/sv_demo.c |   26 +++++++++++++-------------
 qw/source/sv_send.c |    3 +--
 2 files changed, 14 insertions(+), 15 deletions(-)

commit f143773
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Apr 26 02:52:51 2005 +0000

    rename checkmove to tracebox. This is sort of Matthew T. Atkinson's
    tracebox patch, but since the code was already there under a different
    name, just rename the old code. Really got to wonder who first wrote this
    function: Mercury or LordHavoc (and if LH, did he write it for qf or dp
    first?)

 qw/include/sv_pr_cmds.h |   70 ------------------------------
 qw/source/sv_pr_cmds.c  |  109 ++++++++++++++++++++++-------------------------
 2 files changed, 51 insertions(+), 128 deletions(-)

commit 934f543
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Apr 25 07:55:56 2005 +0000

    little cleanups

 qw/source/sv_demo.c |   16 ++++++++--------
 qw/source/sv_send.c |   13 +------------
 2 files changed, 9 insertions(+), 20 deletions(-)

commit 0b3d378
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Apr 25 07:24:50 2005 +0000

    minor optimisations

 qw/source/sv_pr_cmds.c |   51 +++++++++++++++++++++++++-----------------------
 1 file changed, 27 insertions(+), 24 deletions(-)

commit 8fd7af7
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Apr 25 06:22:15 2005 +0000

    don't cause clients playing mvds to bail when console chats and fix a
    missing \n in the recorded chat message

 qw/source/sv_ccmds.c |    5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 2cc2da4
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Apr 25 01:28:37 2005 +0000

    various little cleanups that should very fractionally speed up Host_Frame

 nq/source/cl_main.c  |    1 +
 nq/source/cl_parse.c |    5 ++++-
 nq/source/cl_tent.c  |    1 +
 nq/source/cl_view.c  |    3 +--
 nq/source/host.c     |    5 +----
 qw/source/cl_ents.c  |    1 +
 qw/source/cl_main.c  |    6 ++----
 qw/source/cl_parse.c |    4 +++-
 qw/source/cl_view.c  |    3 +--
 9 files changed, 15 insertions(+), 14 deletions(-)

commit a35c33b
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Apr 24 15:26:30 2005 +0000

    finish ProxyView and get crosshair toggle working properly in the video
    options menu.

 ruamoko/cl_menu/menu.plist      |   35 +++++++++++++++++++++--------------
 ruamoko/cl_menu/options_util.h  |    3 ++-
 ruamoko/cl_menu/options_util.qc |   22 +++++++++++++++++++---
 3 files changed, 42 insertions(+), 18 deletions(-)

commit 10232ac
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Apr 24 13:31:47 2005 +0000

    make droptofloor continue the trace if it starts solid. fixes the ceiling
    hugging sng in e1m7.

 include/world.h        |    2 ++
 libs/models/trace.c    |    3 ---
 qw/source/sv_pr_cmds.c |   24 ++++++++++++++++--------
 3 files changed, 18 insertions(+), 11 deletions(-)

commit 62a0919
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Mon Apr 11 20:59:03 2005 +0000

    Revert broken gcc4 cleanups.

 libs/util/info.c    |   17 +++++++++--------
 libs/util/msg.c     |    2 +-
 libs/util/qfplist.c |    2 +-
 3 files changed, 11 insertions(+), 10 deletions(-)

commit dff5504
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Mar 31 09:55:41 2005 +0000

    noticed a potential unused warning issue if that version of flex gets hit
    again

 tools/qfcc/source/qc-lex.l |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 0edd694
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Mar 31 08:23:11 2005 +0000

    fix a default action type clash in some versions of bison

 tools/qfcc/source/qc-parse.y |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 76649e6
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Mar 28 04:35:22 2005 +0000

    Fix a buffer overflow in Cmd_Alias_f caused by weird quoting. Not sure if
    the resulting alias will work as expected wrt id's command parsing, but
    that's another issue :)

 libs/util/cmd.c |   14 +++++++-------
 1 file changed, 7 insertions(+), 7 deletions(-)

commit f34dc8f
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Thu Mar 24 15:12:19 2005 +0000

    A few more backward compatibility cvar links.

 doc/config/gib/ln.gib |    2 ++
 1 file changed, 2 insertions(+)

commit b2a6a20
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Mar 24 15:00:37 2005 +0000

    avoid a buffer underflow

 libs/gib/gib_init.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 63f9c77
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Mar 6 08:25:30 2005 +0000

    d'oh

 libs/video/targets/in_x11.c |    2 --
 1 file changed, 2 deletions(-)

commit 1a1d461
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Mar 6 08:22:15 2005 +0000

    "debounce" (Despair's term:) focus handling in X. Seems multiple focusout
    events can arrive when switching workplaces, but only one focusin when
    returning. Not good...

 libs/video/targets/in_sdl.c |   11 ++++++++---
 libs/video/targets/in_x11.c |   16 ++++++++++------
 2 files changed, 18 insertions(+), 9 deletions(-)

commit 1c21708
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Feb 27 07:16:31 2005 +0000

    freebsd didn't like \< and it wasn't needed anyway

 bootstrap |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 54ade1b
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Feb 27 01:46:55 2005 +0000

    fix the libtool version extraction to work on freebsd

 bootstrap |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit b7def83
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 14 09:08:32 2005 +0000

    patch from raorn ("Alexey I. Froloff" <sir_raorn@immo.ru>) to fix
    interaction between -hipnotic (etc) and -game

 include/QF/progs.h  |    3 ++-
 libs/util/quakefs.c |   24 ++++++++++++++++++++++++
 nq/include/game.h   |    2 +-
 nq/source/game.c    |   10 ++++++----
 nq/source/host.c    |    6 ++++--
 5 files changed, 37 insertions(+), 8 deletions(-)

commit b59f366
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Thu Feb 10 22:03:16 2005 +0000

    First few files of signedness cleanup for GCC 4.0.

 libs/util/info.c    |    8 +++-----
 libs/util/msg.c     |    2 +-
 libs/util/qfplist.c |    2 +-
 3 files changed, 5 insertions(+), 7 deletions(-)

commit 71678e1
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Feb 6 07:41:22 2005 +0000

    don't loop infinitely when failing to read a riff file

 tools/wav/qfwavinfo.c |    1 +
 1 file changed, 1 insertion(+)

commit d63e7b6
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 26 01:19:36 2005 +0000

    net_socket must be "int" for sane systems

 include/QF/sys.h |    2 +-
 libs/util/sys.c  |    4 ++--
 2 files changed, 3 insertions(+), 3 deletions(-)

commit 114843d
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 24 12:39:16 2005 +0000

    do some cleanup on modelgen before getting into some hacking

 tools/qfmodelgen/include/Makefile.am |    2 +-
 tools/qfmodelgen/include/cmdlib.h    |  105 ------
 tools/qfmodelgen/include/scriplib.h  |   40 ---
 tools/qfmodelgen/source/Makefile.am  |    2 +-
 tools/qfmodelgen/source/cmdlib.c     |  641 ----------------------------------
 tools/qfmodelgen/source/lbmlib.c     |   66 +++-
 tools/qfmodelgen/source/modelgen.c   |  289 +++++++++------
 tools/qfmodelgen/source/scriplib.c   |  169 ---------
 tools/qfmodelgen/source/trilib.c     |    4 +-
 9 files changed, 247 insertions(+), 1071 deletions(-)

commit b209e86
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Thu Jan 13 15:11:55 2005 +0000

    *grmbl*

 libs/video/targets/pr_keys.c |  150 ------------------------------------------
 1 file changed, 150 deletions(-)

commit b72a875
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Thu Jan 13 15:10:42 2005 +0000

    Move pr_keys.c to console, fixes missing Key_Progs_Init symbol for dynamic
    builds with automake 1.9.

 libs/console/Makefile.am       |    2 +-
 libs/console/pr_keys.c         |  150 ++++++++++++++++++++++++++++++++++++++++
 libs/video/targets/Makefile.am |    2 +-
 3 files changed, 152 insertions(+), 2 deletions(-)

commit ea2ff10
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Thu Jan 13 14:44:57 2005 +0000

    Whitespace, plus remove unused key_progs_init from keys.c

 libs/video/targets/keys.c     |   21 +++++++++------------
 libs/video/targets/old_keys.c |    2 +-
 libs/video/targets/pr_keys.c  |   16 ++++++++++------
 3 files changed, 20 insertions(+), 19 deletions(-)

commit 318a945
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 3 00:30:38 2005 +0000

    fix an out-by-one error that caused a buffer overrun and a crash in windows

 libs/ruamoko/rua_obj.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 23f7148
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jan 2 14:23:20 2005 +0000

    more tree recovering. This includes Despair's anisotropy support work.

 NEWS                                 |    7 ++---
 include/QF/GL/extensions.h           |   32 +++++++++++++++--------
 include/QF/GL/qf_textures.h          |    3 ++-
 include/QF/progs.h                   |    2 +-
 include/r_cvar.h                     |    1 +
 include/r_dynamic.h                  |    2 +-
 include/r_local.h                    |    2 +-
 libs/gamecode/engine/pr_debug.c      |   10 +++-----
 libs/gamecode/engine/pr_edict.c      |    5 ++--
 libs/gamecode/engine/pr_parse.c      |    4 +--
 libs/ruamoko/rua_obj.c               |   14 +++++-----
 libs/util/zone.c                     |   17 ++++++------
 libs/video/renderer/gl/gl_dyn_part.c |    2 +-
 libs/video/renderer/gl/gl_lightmap.c |    3 +++
 libs/video/renderer/gl/gl_skin.c     |    3 +++
 libs/video/renderer/gl/gl_sky.c      |    9 +++++++
 libs/video/renderer/gl/gl_textures.c |   13 ++++++++--
 libs/video/targets/vid_common_gl.c   |   47 ++++++++++++++++++++++++++++++++--
 18 files changed, 128 insertions(+), 48 deletions(-)

commit a9200f5
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Nov 18 06:08:40 2004 +0000

    remove a nasty cast
    
    This is an imperfect revision of history.

 libs/ruamoko/rua_cmd.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit b71f12a
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Nov 18 06:08:20 2004 +0000

    warning message cleanup
    
    This is an imperfect revision of history.

 tools/qfcc/source/method.c |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 9f0903e
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Nov 18 06:08:00 2004 +0000

    wildcode and despair's automake 1.9 patch
    
    This is an imperfect revision of history.

 configure.ac                    |   11 +++++++++--
 libs/audio/cd/Makefile.am       |   16 ++++++++--------
 libs/audio/renderer/Makefile.am |   12 ++++++------
 libs/audio/targets/Makefile.am  |   24 ++++++++++++------------
 libs/console/Makefile.am        |   12 ++++++------
 5 files changed, 41 insertions(+), 34 deletions(-)

commit 73e45cc
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Nov 18 05:08:00 2004 +0000

    working on scripted menus; video works
    
    dealloc -> release
    
    This is an imperfect revision of history.

 ruamoko/cl_menu/Frame.r         |    2 +-
 ruamoko/cl_menu/HUD.r           |    8 +-
 ruamoko/cl_menu/Makefile.am     |    5 +-
 ruamoko/cl_menu/menu.plist      |  135 ++++++++++++++++++++++++++
 ruamoko/cl_menu/options.qc      |  200 ++++++++++++++++++++++++++-------------
 ruamoko/cl_menu/options_util.h  |   15 +++
 ruamoko/cl_menu/options_util.qc |  129 +++++++++++++++++++++++++
 ruamoko/gui/Group.r             |   11 ++-
 ruamoko/gui/InputLine.r         |    2 +-
 ruamoko/gui/View.r              |   18 +++-
 ruamoko/include/gui/Group.h     |    1 +
 ruamoko/include/gui/View.h      |    5 +
 ruamoko/lib/Array.r             |    2 +-
 13 files changed, 455 insertions(+), 78 deletions(-)

commit c366bd7
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Nov 17 21:35:00 2004 +0000

    move a comma
    
    This is an imperfect revision of history.

 INSTALL |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 3a7ecf9
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Nov 17 21:27:00 2004 +0000

    enable obj_sendv
    
    This is an imperfect revision of history.

 ruamoko/include/Object.h |    2 +-
 ruamoko/lib/Object.r     |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit ae456dc
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Nov 14 23:15:00 2004 +0000

    `secret' .c support so automake's dependency style autodetection works
    
    This is an imperfect revision of history.

 tools/qfcc/source/qfcc.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 96e20d8
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Nov 14 00:53:00 2004 +0000

    overload str_mid so it has the same semantics as Python's slice operator
    
    This is an imperfect revision of history.

 ruamoko/include/string.h |    3 +++
 ruamoko/lib/string.r     |    3 +++
 2 files changed, 6 insertions(+)

commit 4a7e2ff
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Nov 14 00:52:00 2004 +0000

    get the range of the zone right. crashing on what should be a perfectly valid value is just plain bogus :P
    
    This is an imperfect revision of history.

 libs/gamecode/builtins/bi_inputline.c |    8 +++++---
 1 file changed, 5 insertions(+), 3 deletions(-)

commit 2488465
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Nov 14 00:49:00 2004 +0000

    resurrect Z_Print.
    
    This is an imperfect revision of history.

 include/QF/zone.h |    1 +
 libs/util/zone.c  |   31 +++++++++++++++++++++----------
 2 files changed, 22 insertions(+), 10 deletions(-)

commit 554f4d0
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Nov 13 13:22:30 2004 +0000

    get the type right when accessing arrays in a struct (in a pointer?)
    
    This is an imperfect revision of history.

 tools/qfcc/source/expr.c |   10 ++++++++--
 1 file changed, 8 insertions(+), 2 deletions(-)

commit 5683884
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Nov 13 13:22:00 2004 +0000

    add support for -E and still compile when -MD is used
    
    This is an imperfect revision of history.

 tools/qfcc/source/options.c |   18 ++++++++++++++++--
 1 file changed, 16 insertions(+), 2 deletions(-)

commit 66257e3
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Nov 13 11:50:00 2004 +0000

    run in fear, function overloading is here
    
    This is an imperfect revision of history.

 tools/qfcc/include/expr.h     |    2 +
 tools/qfcc/include/function.h |   14 +++
 tools/qfcc/source/def.c       |    2 -
 tools/qfcc/source/expr.c      |    7 +-
 tools/qfcc/source/function.c  |  206 +++++++++++++++++++++++++++++++++++++++++
 tools/qfcc/source/qc-lex.l    |    1 +
 tools/qfcc/source/qc-parse.y  |   79 +++++++++-------
 7 files changed, 274 insertions(+), 37 deletions(-)

commit 9b81bc5
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Nov 13 04:02:00 2004 +0000

    allow access to the parameter type via @param and variable initializers for local arrays/structs.
    
    This is an imperfect revision of history.

 tools/qfcc/source/expr.c   |   25 ++++++++++++++++++++-----
 tools/qfcc/source/qc-lex.l |    1 +
 tools/qfcc/source/type.c   |   14 +++++++-------
 3 files changed, 28 insertions(+), 12 deletions(-)

commit 7a217b8
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Nov 13 01:55:00 2004 +0000

    add a PropertyList class hierarchy
    
    This is an imperfect revision of history.

 ruamoko/include/Makefile.am    |    3 +-
 ruamoko/include/PropertyList.h |   54 +++++++++++
 ruamoko/lib/Makefile.am        |    5 +-
 ruamoko/lib/PropertyList.r     |  206 ++++++++++++++++++++++++++++++++++++++++
 4 files changed, 265 insertions(+), 3 deletions(-)

commit 5f34f87
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Nov 13 01:37:00 2004 +0000

    ivar access control seems to work now :)
    
    This is an imperfect revision of history.

 tools/qfcc/source/class.c |   34 +++++++++++++++++++---------------
 1 file changed, 19 insertions(+), 15 deletions(-)

commit 7237087
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Nov 12 21:20:00 2004 +0000

    update
    
    This is an imperfect revision of history.

 tools/qfcc/TODO |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f5b22f5
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Nov 12 11:23:00 2004 +0000

    and the ruamoko side of entity parsing :) currently disabled for now (just need to uncomment the line in Entity's +load) due to lack of filtering, but as a proof of concept, it works quite well, though I'm not at all happy about the handling of world.
    
    This is an imperfect revision of history.

 ruamoko/game/GameEntity.h  |    1 +
 ruamoko/game/Makefile.am   |    2 +-
 ruamoko/include/entities.h |    2 ++
 3 files changed, 4 insertions(+), 1 deletion(-)

commit 53ee506
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Nov 12 11:15:00 2004 +0000

    allow the progs code to hook into the parsing processes
    
    This is an imperfect revision of history.

 libs/gamecode/builtins/pr_cmds.c |   90 ++++++++++++++++++++++++--------------
 nq/source/sv_pr_cmds.c           |    3 ++
 qw/source/sv_pr_cmds.c           |    9 ++++
 3 files changed, 69 insertions(+), 33 deletions(-)

commit 0effc54
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Nov 12 11:12:00 2004 +0000

    don't puke over a void field when dumping entities
    
    This is an imperfect revision of history.

 libs/gamecode/engine/pr_debug.c |    2 ++
 1 file changed, 2 insertions(+)

commit 4d044bf
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Nov 12 10:49:00 2004 +0000

    make entity.vector.x work properly by making relative field offset work. also don't emit a field def for the resulting immediate
    
    This is an imperfect revision of history.

 tools/qfcc/include/expr.h     |    3 +--
 tools/qfcc/include/reloc.h    |    2 ++
 tools/qfcc/source/expr.c      |   36 ++++++++++++++++++++++++------------
 tools/qfcc/source/immediate.c |    4 ++++
 tools/qfcc/source/linker.c    |    3 +++
 tools/qfcc/source/qfcc.c      |    3 ++-
 tools/qfcc/source/qfprogs.c   |    1 +
 tools/qfcc/source/reloc.c     |   11 +++++++++++
 8 files changed, 48 insertions(+), 15 deletions(-)

commit abf25e0
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Nov 12 05:04:00 2004 +0000

    real fix for uninitialized functions
    
    This is an imperfect revision of history.

 tools/qfcc/source/expr.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 0d14a8f
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Nov 12 03:21:00 2004 +0000

    minor cleanup
    
    This is an imperfect revision of history.

 tools/bsp2img/bsp2img.c |   18 ++++--------------
 1 file changed, 4 insertions(+), 14 deletions(-)

commit 9d956b2
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Nov 12 02:54:00 2004 +0000

    more script usage
    
    This is an imperfect revision of history.

 tools/qflight/source/entities.c |   38 ++++++++++++++++----------------------
 1 file changed, 16 insertions(+), 22 deletions(-)

commit 0e324d1
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Nov 12 02:39:00 2004 +0000

    use the script api for parsing ent data and savegames
    
    This is an imperfect revision of history.

 include/QF/progs.h              |    1 +
 libs/gamecode/engine/pr_parse.c |  107 +++++++++++++++----------
 nq/source/host_cmd.c            |  163 ++++++++++++++++++++-------------------
 3 files changed, 150 insertions(+), 121 deletions(-)

commit 53f4d13
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Nov 11 22:42:00 2004 +0000

    wrap the plist functions
    
    This is an imperfect revision of history.

 libs/ruamoko/rua_plist.c |   67 +++++++++++++++++++++++++++++++++++++++++-----
 ruamoko/include/plist.h  |   15 ++++++++---
 ruamoko/lib/plist.r      |   11 +++++---
 3 files changed, 80 insertions(+), 13 deletions(-)

commit 634dcbb
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Nov 11 22:41:00 2004 +0000

    forgot to allow struct move (for struct assigment)
    
    This is an imperfect revision of history.

 tools/qfcc/source/constfold.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit aadf6eb
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Nov 11 11:18:00 2004 +0000

    "finish" qfplist
    
    This is an imperfect revision of history.

 include/QF/qfplist.h |  137 +++++++++++++++-------------
 libs/util/qfplist.c  |  246 ++++++++++++++++++++++++++++++++++++++++++++++++--
 2 files changed, 314 insertions(+), 69 deletions(-)

commit 2a36c74
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Nov 11 09:40:00 2004 +0000

    add dynamic (freeable but unchangeable) strings
    
    This is an imperfect revision of history.

 libs/gamecode/builtins/pr_cmds.c  |    6 +-
 libs/gamecode/engine/pr_strings.c |  144 +++++++++++++++++++++++++------------
 libs/ruamoko/rua_string.c         |   44 +++++++++++-
 qw/source/sv_pr_qwe.c             |    9 ++-
 4 files changed, 150 insertions(+), 53 deletions(-)

commit ff47490
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Nov 11 07:57:00 2004 +0000

    resource usage cleanup
    
    This is an imperfect revision of history.

 include/rua_internal.h   |    2 +-
 libs/ruamoko/rua_cbuf.c  |   11 +--
 libs/ruamoko/rua_cmd.c   |    2 +-
 libs/ruamoko/rua_file.c  |   12 ++--
 libs/ruamoko/rua_hash.c  |   88 ++++++++++++++++++------
 libs/ruamoko/rua_qfile.c |  168 ++++++++++++++++++++++++++++++----------------
 libs/ruamoko/rua_qfs.c   |   16 ++---
 7 files changed, 197 insertions(+), 102 deletions(-)

commit 1302921
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Nov 11 04:16:00 2004 +0000

    don't ignore the size parameter to newstr
    
    This is an imperfect revision of history.

 qw/source/sv_pr_qwe.c |    5 +++++
 1 file changed, 5 insertions(+)

commit 5ef382d
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Nov 11 04:06:00 2004 +0000

    Add a rua wrapper for scripts (seems, to work, too:). Also added generic resource handle support based on strref handling in pr_strings.c.
    
    This is an imperfect revision of history.

 include/rua_internal.h      |    5 +-
 libs/ruamoko/Makefile.am    |    4 +-
 libs/ruamoko/rua_init.c     |    1 +
 libs/ruamoko/rua_script.c   |  222 +++++++++++++++++++++++++++++++++++++++++++
 ruamoko/include/Makefile.am |    2 +-
 ruamoko/include/script.h    |   16 ++++
 ruamoko/lib/Entity.r        |  128 ++++++++++++++++++++++++-
 ruamoko/lib/List.r          |    6 +-
 ruamoko/lib/script.r        |   11 +++
 tools/qwaq/main.qc          |   52 ++++++++++
 10 files changed, 433 insertions(+), 14 deletions(-)

commit 7b4edb2
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Nov 11 01:31:00 2004 +0000

    it's "dealloc", not "free" (missed name changes from a while back)
    
    This is an imperfect revision of history.

 ruamoko/include/Entity.h |    3 +--
 ruamoko/include/List.h   |    1 -
 2 files changed, 1 insertion(+), 3 deletions(-)

commit 64cc8c6
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Nov 11 00:34:00 2004 +0000

    compile time protocol support seems to be complete now. fortunatly, protocols had never been written out so the corrections to the protocol related stuctures do not need a progs version bump. runtime protocol support hasn't been fully tested yet.
    
    +load runtime support seems to be working.
    
    This is an imperfect revision of history.

 include/QF/pr_obj.h          |   22 ++-
 include/QF/progs.h           |    8 +-
 libs/ruamoko/rua_obj.c       |  391 +++++++++++++++++++++++++++++++++++++-----
 ruamoko/include/Object.h     |    2 +
 ruamoko/include/Protocol.h   |   25 +++
 ruamoko/lib/Protocol.r       |   84 +++++++++
 tools/qfcc/include/class.h   |   36 ++--
 tools/qfcc/source/class.c    |  129 +++++++-------
 tools/qfcc/source/modules.c  |   33 ++++
 tools/qfcc/source/qc-lex.l   |    2 +-
 tools/qfcc/source/qc-parse.y |   21 +--
 tools/qfcc/source/type.c     |    1 +
 tools/qwaq/progs.src.in      |    5 +
 tools/qwaq/test.r            |    6 +
 14 files changed, 611 insertions(+), 154 deletions(-)

commit 7dfd9ab
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Nov 11 00:24:00 2004 +0000

    Use the script api to parse progs.src instead of idparse. Now any additional tokens on the first line of progs.src are ignored and any additional tokens on subsequent lines get cumulatively added to the cpp command line. See progs.src[.in] in tools/qwaq for a simple example.
    
    This is an imperfect revision of history.

 tools/qfcc/source/qfcc.c |   29 +++++++++++++++++++++++------
 1 file changed, 23 insertions(+), 6 deletions(-)

commit a97f74a
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Nov 11 00:20:00 2004 +0000

    that particular error case is a type mismatch rather than an internal error. found when trying to compare a SEL with a string... oops :)
    
    This is an imperfect revision of history.

 tools/qfcc/source/constfold.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit b355615
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Nov 10 05:37:00 2004 +0000

    do proper selector registration. unfortunatly, I discovered I'd created pr_method_t incorrectly and so had to bump the progs version again
    
    This is an imperfect revision of history.

 include/QF/pr_comp.h        |    2 +-
 include/QF/pr_obj.h         |    2 +-
 include/QF/progs.h          |   12 +-
 libs/ruamoko/rua_obj.c      |  376 +++++++++++++++++++++++++++++++------------
 tools/qfcc/include/method.h |    6 +-
 tools/qfcc/include/type.h   |    4 +-
 tools/qfcc/source/expr.c    |    6 +-
 tools/qfcc/source/method.c  |   60 +++++--
 tools/qfcc/source/type.c    |   41 +++--
 9 files changed, 376 insertions(+), 133 deletions(-)

commit 6ad13fa
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Nov 10 04:09:00 2004 +0000

    fix a param name oopsie
    
    This is an imperfect revision of history.

 ruamoko/gui/InputLine.r |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 39bf47a
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 9 22:35:00 2004 +0000

    use the resolve hook instead of a load function
    
    This is an imperfect revision of history.

 libs/console/menu.c |    4 +---
 1 file changed, 1 insertion(+), 3 deletions(-)

commit 78d98ea
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 9 22:32:00 2004 +0000

    remove the time pointer (not really needed)
    
    This is an imperfect revision of history.

 include/QF/progs.h              |    2 --
 libs/gamecode/engine/pr_edict.c |   11 +++++++----
 libs/gamecode/engine/pr_parse.c |    2 --
 nq/source/sv_main.c             |    1 +
 nq/source/sv_progs.c            |    1 -
 qw/source/sv_init.c             |    1 +
 qw/source/sv_progs.c            |    1 -
 7 files changed, 9 insertions(+), 10 deletions(-)

commit f577eba
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 9 22:30:00 2004 +0000

    need to ensure time is defined
    
    This is an imperfect revision of history.

 libs/console/menu.c |   10 ++++++----
 1 file changed, 6 insertions(+), 4 deletions(-)

commit 8770df3
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Nov 8 23:27:00 2004 +0000

    start documenting things (progs building still borked)
    
    This is an imperfect revision of history.

 doc/Makefile.am                 |   17 +-
 doc/progs/vm-exec.c             |   29 ++
 doc/quakeforge.dox.in           |   27 +-
 include/QF/cbuf.h               |   10 +
 include/QF/checksum.h           |   10 +
 include/QF/cmd.h                |   10 +
 include/QF/crc.h                |   10 +
 include/QF/cvar.h               |   10 +
 include/QF/dstring.h            |   10 +
 include/QF/hash.h               |   10 +
 include/QF/idparse.h            |   10 +
 include/QF/info.h               |   10 +
 include/QF/mathlib.h            |   10 +
 include/QF/mdfour.h             |   10 +
 include/QF/msg.h                |   10 +
 include/QF/pak.h                |   10 +
 include/QF/pakfile.h            |   10 +
 include/QF/plugin.h             |   10 +
 include/QF/progs.h              | 1079 +++++++++++++++++++++++++++++++++++----
 include/QF/qargs.h              |   10 +
 include/QF/qendian.h            |   10 +
 include/QF/quakefs.h            |   10 +
 include/QF/quakeio.h            |   10 +
 include/QF/sizebuf.h            |   11 +
 include/QF/sys.h                |   11 +
 include/QF/va.h                 |   11 +
 include/QF/ver_check.h          |   10 +
 include/QF/wad.h                |   11 +
 include/QF/wadfile.h            |   12 +-
 include/QF/zone.h               |   78 +--
 libs/gamecode/builtins/bi_gib.c |    2 +-
 qw/include/sv_pr_cmds.h         |    5 -
 qw/source/sv_pr_cmds.c          |    1 +
 tools/qfcc/source/modules.c     |   20 +-
 tools/qwaq/main.c               |    1 +
 35 files changed, 1343 insertions(+), 172 deletions(-)

commit 780fb41
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Nov 7 03:00:00 2004 +0000

    make a common call function and fix pr_trace such that it autoclears only when the execution session it's set in is exited
    
    This is an imperfect revision of history.

 libs/gamecode/builtins/pr_cmds.c |    1 +
 libs/gamecode/engine/pr_exec.c   |   65 +++++++++++++++++++++-----------------
 libs/ruamoko/rua_obj.c           |   56 ++++++++++++++------------------
 tools/qwaq/builtins.c            |    5 +--
 tools/qwaq/defs.qc               |    1 -
 5 files changed, 64 insertions(+), 64 deletions(-)

commit 201252c
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Nov 6 02:21:00 2004 +0000

    FIXME cleanup and a missed win32 compile fix
    
    This is an imperfect revision of history.

 libs/audio/cd.c                  |    2 +-
 libs/audio/cd/cd_sgi.c           |    1 -
 libs/audio/cd/cd_win.c           |    4 +-
 libs/audio/renderer/midi.c       |    2 -
 libs/audio/renderer/snd_mixa.S   |  285 --------
 libs/audio/targets/snd_mme.c     |  327 ---------
 libs/gamecode/builtins/pr_cmds.c |    1 -
 libs/image/png.c                 |   10 +-
 nq/source/sv_main.c              |   19 +-
 qw/include/net_svc.h             |  469 -------------
 qw/source/msg_ucmd.c             |  133 ----
 qw/source/net_svc.c              | 1386 --------------------------------------
 tools/qfcc/test/defs.h           |    2 +-
 13 files changed, 21 insertions(+), 2620 deletions(-)

commit 0bfac8d
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Nov 6 02:21:00 2004 +0000

    win32 compile fixes
    
    This is an imperfect revision of history.

 include/QF/model.h                    |    1 +
 include/QF/sys.h                      |    2 +-
 libs/models/brush/model_brush.c       |    2 +-
 libs/util/sys.c                       |    2 +-
 libs/video/renderer/gl/gl_rmisc.c     |    4 +++-
 libs/video/renderer/sw/sw_rmain.c     |    3 +++
 libs/video/renderer/sw32/sw32_rmain.c |    3 +++
 libs/video/targets/joy_win.c          |    2 +-
 libs/video/targets/vid_wgl.c          |    4 ++--
 9 files changed, 16 insertions(+), 7 deletions(-)

commit e7ab6b6
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Nov 6 02:17:00 2004 +0000

    fix an uninitialized variable
    
    This is an imperfect revision of history.

 tools/qwaq/main.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit f5bc90a
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Nov 5 11:49:00 2004 +0000

    clean up some redundant progs functions (may be broken for a while)
    
    This is an imperfect revision of history.

 include/QF/progs.h                |   30 ++-------
 libs/console/menu.c               |    6 +-
 libs/gamecode/builtins/pr_cmds.c  |    2 +-
 libs/gamecode/engine/pr_debug.c   |    6 +-
 libs/gamecode/engine/pr_edict.c   |   23 ++-----
 libs/gamecode/engine/pr_parse.c   |   20 +++---
 libs/gamecode/engine/pr_resolve.c |   89 ++++++-------------------
 libs/ruamoko/rua_obj.c            |   24 +++----
 nq/source/sv_progs.c              |  130 +++++++++++++++++++++++-------------
 qw/source/sv_pr_qwe.c             |    4 +-
 qw/source/sv_progs.c              |  132 +++++++++++++++++++++++--------------
 tools/qwaq/main.c                 |    9 ++-
 12 files changed, 234 insertions(+), 241 deletions(-)

commit b46cff0
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 2 23:54:00 2004 +0000

    handle param name changes between prototype and declaration gracefully
    
    This is an imperfect revision of history.

 tools/qfcc/include/method.h |    1 +
 tools/qfcc/source/method.c  |   15 +++++++++++++++
 2 files changed, 16 insertions(+)

commit 9f52181
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 2 11:56:00 2004 +0000

    fixes for methods in categories or not in an interface
    
    This is an imperfect revision of history.

 tools/qfcc/source/class.c |   32 ++++++++++++++------------------
 1 file changed, 14 insertions(+), 18 deletions(-)

commit 2cb81b3
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 2 08:40:00 2004 +0000

    move the *_RecursiveHullCheck functions from pmovetst.c and world.c to MOD_TraceLine in libs/models/trace.c, at the same time rewriting the code to work itteratively rather than recursively.
    
    This is an imperfect revision of history.

 include/world.h         |    5 +-
 libs/models/Makefile.am |    2 +-
 libs/models/trace.c     |  189 +++++++++++++++++++++++++++++++++++++
 nq/source/cl_cam.c      |    4 +-
 nq/source/sv_phys.c     |   30 ++----
 nq/source/world.c       |    4 +-
 qw/include/pmove.h      |   61 ++++--------
 qw/source/cl_cam.c      |   10 +-
 qw/source/pmove.c       |   22 ++---
 qw/source/pmovetst.c    |  236 ++---------------------------------------------
 qw/source/sv_user.c     |    2 +-
 qw/source/world.c       |  111 +---------------------
 12 files changed, 258 insertions(+), 418 deletions(-)

commit b95dce5
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 2 07:42:00 2004 +0000

    unlimited efrags :)
    
    This is an imperfect revision of history.

 libs/video/renderer/r_efrag.c |   62 ++++++++++++++++++++++++++++-------------
 1 file changed, 42 insertions(+), 20 deletions(-)

commit 9a5cce7
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 2 07:39:00 2004 +0000

    hash.h: update the description of FindList quakefs.c: didn't need va there
    
    This is an imperfect revision of history.

 include/QF/hash.h   |    4 +++-
 libs/util/quakefs.c |    2 +-
 2 files changed, 4 insertions(+), 2 deletions(-)

commit 9768568
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 2 07:29:00 2004 +0000

    get the number of points for the clipped winding correct
    
    This is an imperfect revision of history.

 tools/qfbsp/source/qfbsp.c |   23 ++++++++++-------------
 1 file changed, 10 insertions(+), 13 deletions(-)

commit 181df01
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 2 07:15:00 2004 +0000

    initialize the function tables properly when "converting" a qfo, fix a buffer overflow in file loading and remove the now unnecessary hunk initialization.
    
    This is an imperfect revision of history.

 tools/qfcc/source/qfprogs.c |   24 ++++++++++--------------
 1 file changed, 10 insertions(+), 14 deletions(-)

commit a3a2dd6
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 2 07:13:00 2004 +0000

    fix type of "self"
    
    This is an imperfect revision of history.

 ruamoko/game/World.r         |    6 +++---
 tools/qfcc/source/class.c    |   22 ++++++++++++++++++++--
 tools/qfcc/source/expr.c     |    6 ++++++
 tools/qfcc/source/qc-parse.y |    3 ---
 tools/qwaq/test.r            |   17 ++++++++++++++++-
 5 files changed, 45 insertions(+), 9 deletions(-)

commit a4dbdb4
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 2 07:08:00 2004 +0000

    whitespace
    
    This is an imperfect revision of history.

 tools/qfcc/source/qc-parse.y |   22 +++++++++++-----------
 1 file changed, 11 insertions(+), 11 deletions(-)

commit fff41d6
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 2 07:02:00 2004 +0000

    detect re-declaring identifiers as different types (typedef, enum, var, etc)
    
    This is an imperfect revision of history.

 tools/qfcc/include/type.h    |    8 ++-
 tools/qfcc/source/qc-lex.l   |    8 +--
 tools/qfcc/source/qc-parse.y |  119 +++++++++++++++++++++++-------------------
 tools/qfcc/source/type.c     |   15 +-----
 4 files changed, 78 insertions(+), 72 deletions(-)

commit a2e05db
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 2 05:19:00 2004 +0000

    make bison output a state file
    
    This is an imperfect revision of history.

 tools/qfcc/source/Makefile.am |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 1e1734f
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 2 05:17:00 2004 +0000

    remove some redundant code
    
    This is an imperfect revision of history.

 tools/qflight/source/trace.c |    8 +-------
 1 file changed, 1 insertion(+), 7 deletions(-)

commit 6625d38
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 2 05:15:00 2004 +0000

    set the disksize of the wad entry
    
    This is an imperfect revision of history.

 libs/util/wadfile.c |    2 ++
 1 file changed, 2 insertions(+)

commit 8e2f392
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 2 05:12:00 2004 +0000

    pr_obj.h: add the structure for static instances rua_obj.c: add support for +initialize test.r: add some test code for +initialize main.c: don't need to initialize the hunk any more and fix a buffer overflow
    
    This is an imperfect revision of history.

 include/QF/pr_obj.h    |    8 ++++++++
 libs/ruamoko/rua_obj.c |   52 +++++++++++++++++++++++++++++++++++++++++++++---
 tools/qwaq/main.c      |   10 +++-------
 tools/qwaq/test.r      |    5 +++++
 4 files changed, 65 insertions(+), 10 deletions(-)

commit 96b65ba
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 2 05:07:00 2004 +0000

    get wad creation mostly working (known to work for map textures)
    
    This is an imperfect revision of history.

 tools/wad/Makefile.am |    2 +-
 tools/wad/grab.c      |  494 +++++++++++++++++++++++++++++++++++++++++++++++++
 tools/wad/script.c    |  262 ++++++++++++++++++++++++++
 tools/wad/wad.c       |   19 +-
 tools/wad/wad.h       |   15 ++
 5 files changed, 775 insertions(+), 17 deletions(-)

commit 25484f4
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 2 05:05:00 2004 +0000

    move the script parser from qfbsp into libQFutil and correct a spelling error
    
    This is an imperfect revision of history.

 include/QF/Makefile.am    |    6 +-
 include/QF/script.h       |   96 ++++++++++++++++++
 libs/util/Makefile.am     |    2 +-
 libs/util/script.c        |  173 +++++++++++++++++++++++++++++++
 tools/qfbsp/source/csg4.c |    2 +-
 tools/qfbsp/source/map.c  |  247 ++++++++++++++-------------------------------
 6 files changed, 352 insertions(+), 174 deletions(-)

commit 33bc785
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 2 04:59:00 2004 +0000

    avoid using the hunk in the progs engine (except for the override-able load and alloc functions) so tools (qfprogs and qwaq) don't need to create it.
    
    register only the first instance of a progs provided string
    
    This is an imperfect revision of history.

 include/QF/progs.h                |    2 +-
 libs/gamecode/engine/pr_debug.c   |   29 ++++++----------
 libs/gamecode/engine/pr_exec.c    |   15 +++-----
 libs/gamecode/engine/pr_parse.c   |    2 +-
 libs/gamecode/engine/pr_strings.c |   68 ++++++++++++++++++++++++++++++++-----
 5 files changed, 76 insertions(+), 40 deletions(-)

commit ca46503
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jul 13 19:14:01 2004 +0000

    add -Wsign-compare (default for -Wall only in C++) and fix up the warnings

 configure.ac                         |    1 +
 libs/gib/gib_builtin.c               |    2 +-
 libs/image/png.c                     |   10 +++++-----
 libs/ruamoko/rua_init.c              |    2 +-
 libs/video/renderer/gl/gl_lightmap.c |    6 ++++--
 qtv/source/client.c                  |    2 +-
 qtv/source/qtv.c                     |    2 +-
 qw/source/sv_pr_qwe.c                |    2 +-
 qw/source/sv_send.c                  |    2 +-
 qw/source/sv_user.c                  |    3 ++-
 tools/qfcc/source/linker.c           |    5 +++--
 tools/qfcc/source/options.c          |    4 ++--
 tools/wad/wad.c                      |    2 +-
 13 files changed, 24 insertions(+), 19 deletions(-)

commit db112dd
Author: Chris Ison <cisos@bigpond.net.au>
Date:   Mon Jul 12 05:32:38 2004 +0000

    added ddraw.h include

 include/winquake.h |    3 +++
 1 file changed, 3 insertions(+)

commit a89d8d2
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jul 11 01:41:01 2004 +0000

    grievre's patch to enable fullbright skins, controlled rotation and server
    control of various features

 qw/include/client.h  |   23 +++++++++++++++++++++++
 qw/source/cl_ents.c  |   18 ++++++++++++++++++
 qw/source/cl_input.c |   31 ++++++++++++++++++++-----------
 qw/source/cl_main.c  |   41 +++++++++++++++++++++++++++++++++++++++++
 qw/source/cl_parse.c |    4 ++++
 qw/source/teamplay.c |   14 +++++++++++---
 6 files changed, 117 insertions(+), 14 deletions(-)

commit b36569e
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jul 11 00:37:48 2004 +0000

    grievre's patch to make entity minlight and fullbright fields work properly

 libs/video/renderer/gl/gl_mod_alias.c |   23 +++++++++++++++++------
 libs/video/renderer/sw/sw_rmain.c     |   14 ++++++++++----
 libs/video/renderer/sw32/sw32_rmain.c |   14 ++++++++++----
 3 files changed, 37 insertions(+), 14 deletions(-)

commit cefc6df
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jul 10 02:32:30 2004 +0000

    grievre's patch to trade (minor) frame rate for frame (non-)latency

 include/r_cvar.h                   |    1 +
 libs/video/renderer/gl/gl_screen.c |    5 +++++
 libs/video/targets/vid_common_gl.c |    3 +++
 3 files changed, 9 insertions(+)

commit 0d6af14
Author: Thad Ward <coderjoe@grnet.com>
Date:   Wed Jun 16 07:36:57 2004 +0000

    correct the date format to match the new format used by the new CVS. the
    offset from GMT is also parsed out, but is not currently used. Also, there
    is no need to subtract 1900 from the year when passing to timegm(), as it
    assumes values over 999 are the actual year.

 TODO                   |    1 +
 tools/cvs2cl/cvs2cl.pl |    9 ++++++---
 2 files changed, 7 insertions(+), 3 deletions(-)

commit 6d329e0
Author: Bill Currie <bill@taniwha.org>
Date:   Sun May 30 22:36:34 2004 +0000

    work around "player name exploit" problems caused by qizmo (happens when
    someone connects to the server)

 qw/source/cl_parse.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit e300884
Author: Bill Currie <bill@taniwha.org>
Date:   Mon May 17 22:01:18 2004 +0000

    forgot net_loopback_adr in the ipv6 code (thanks, SpanKY)

 TODO                   |    1 +
 libs/net/nc/net_udp6.c |    1 +
 2 files changed, 2 insertions(+)

commit 3fd7ed5
Author: Bill Currie <bill@taniwha.org>
Date:   Mon May 17 00:31:56 2004 +0000

    correct the skin format code as pointed out by Grievre

 qw/source/teamplay.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 986dae9
Author: Bill Currie <bill@taniwha.org>
Date:   Sun May 16 23:17:51 2004 +0000

    as discussed with fuh, hide the endian dependency of the checksum calcs
    (evil way of using md4, but oh well).

 libs/models/brush/model_brush.c |    1 -
 libs/util/checksum.c            |    3 ++-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit d25f2c8
Author: Bill Currie <bill@taniwha.org>
Date:   Sun May 16 23:13:06 2004 +0000

    path is long dead. oops. thanks, Silh

 libs/util/sys.c |    3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit 8c10e2e
Author: Bill Currie <bill@taniwha.org>
Date:   Sat May 15 01:00:47 2004 +0000

    this should fix the string case errors on sparc64

 tools/qfcc/source/switch.c |   10 +++++++++-
 1 file changed, 9 insertions(+), 1 deletion(-)

commit 6fd41b9
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 12 19:57:21 2004 +0000

    don't call SV_SendDemoMessage when it's only going to bail

 qw/source/sv_main.c |    3 ++-
 qw/source/sv_send.c |    4 ----
 2 files changed, 2 insertions(+), 5 deletions(-)

commit 26a3b4f
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 12 04:20:58 2004 +0000

    make the server clients' pings visible

 qw/source/sv_ccmds.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 3f50758
Author: Bill Currie <bill@taniwha.org>
Date:   Tue May 11 07:27:27 2004 +0000

    make sure pcx is initialized

 libs/image/pcx.c |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit ec97775
Author: Bill Currie <bill@taniwha.org>
Date:   Tue May 11 07:27:05 2004 +0000

    plug another leak

 tools/wad/wad.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f10f59b
Author: Bill Currie <bill@taniwha.org>
Date:   Tue May 11 07:26:33 2004 +0000

    don't try to write non-existant textures

 tools/qfbsp/source/readbsp.c |    2 ++
 1 file changed, 2 insertions(+)

commit 3e16e3d
Author: Bill Currie <bill@taniwha.org>
Date:   Tue May 11 06:17:34 2004 +0000

    ookii itai... forgot to free the malloced memory for qpic and mip

 tools/wad/wad.c |    2 ++
 1 file changed, 2 insertions(+)

commit f2d7d97
Author: Bill Currie <bill@taniwha.org>
Date:   Mon May 10 01:17:55 2004 +0000

    Grievre's fix for his weirdness when toggling fullscren. Thanks Grievre

 libs/video/targets/context_x11.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ccfaeaf
Author: Bill Currie <bill@taniwha.org>
Date:   Mon May 10 00:33:48 2004 +0000

    make wad extraction a little more useful by writing the known image formats
    as pcx. (palette is written as pcx too, to make it easy to view)

 configure.ac    |    2 +-
 tools/wad/wad.c |  158 +++++++++++++++++++++++++++++++++++++++++++++++++++++--
 2 files changed, 155 insertions(+), 5 deletions(-)

commit 67f9132
Author: Bill Currie <bill@taniwha.org>
Date:   Sun May 9 22:58:37 2004 +0000

    move wad_extract into the wad utility and make QFS_CreatePath more
    generally usable

 include/QF/quakefs.h |    2 +-
 include/QF/sys.h     |    2 +-
 include/QF/wadfile.h |    1 -
 libs/util/pakfile.c  |   26 ++------------------------
 libs/util/quakefs.c  |   22 ++++++++++------------
 libs/util/sys.c      |   11 ++++++-----
 libs/util/wadfile.c  |   50 --------------------------------------------------
 tools/wad/wad.c      |   39 +++++++++++++++++++++++++++++++++++++--
 8 files changed, 57 insertions(+), 96 deletions(-)

commit 3483b3b
Author: Bill Currie <bill@taniwha.org>
Date:   Sun May 9 02:12:49 2004 +0000

    handle #pragma gracefully (ie, ignore it)

 tools/qfcc/source/qc-lex.l |    2 ++
 1 file changed, 2 insertions(+)

commit 0edf9f0
Author: Bill Currie <bill@taniwha.org>
Date:   Sun May 9 01:20:51 2004 +0000

    working CPPNAME for darwin

 configure.ac |    3 +++
 1 file changed, 3 insertions(+)

commit 2ccff86
Author: Bill Currie <bill@taniwha.org>
Date:   Sun May 9 00:57:57 2004 +0000

    ignore unknown stuff

 tools/misc/itemslist.py |   43 +++++++++++++++++++++++--------------------
 1 file changed, 23 insertions(+), 20 deletions(-)

commit e9f19be
Author: Bill Currie <bill@taniwha.org>
Date:   Sat May 8 23:27:05 2004 +0000

    fix a thinko pointed out by zenja-b

 nq/source/cl_screen.c |    2 +-
 qw/source/cl_screen.c |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 8a23716
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 7 03:54:35 2004 +0000

    patches to allow for multiple view ports

 include/QF/draw.h                  |    1 +
 libs/video/renderer/gl/gl_draw.c   |    5 ++++
 libs/video/renderer/gl/gl_rmain.c  |    2 ++
 libs/video/renderer/gl/gl_screen.c |    4 ++-
 libs/video/renderer/r_screen.c     |    8 ++---
 nq/source/cl_view.c                |    1 +
 qw/source/cl_view.c                |    1 +
 qw/source/sv_demo.c                |   57 +++++++++++++++++-------------------
 8 files changed, 44 insertions(+), 35 deletions(-)

commit 4f71b39
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 6 07:13:18 2004 +0000

    it seems glGetProcAddressARB is obsolete so check for glGetProcAddress first

 libs/video/targets/vid_3dfxsvga.c |    4 +++-
 libs/video/targets/vid_glx.c      |    4 +++-
 2 files changed, 6 insertions(+), 2 deletions(-)

commit 5099c05
Author: Bill Currie <bill@taniwha.org>
Date:   Tue May 4 21:59:17 2004 +0000

    bring back my stuttering fixes

 nq/source/cl_parse.c |   13 ++++++++-----
 nq/source/sv_ded.c   |   10 ++++++++++
 nq/source/sv_main.c  |    3 +++
 3 files changed, 21 insertions(+), 5 deletions(-)

commit 0253b65
Author: Bill Currie <bill@taniwha.org>
Date:   Tue May 4 04:58:02 2004 +0000

    general overview of the system

 qtv/doc/qwtv.fig |  433 ++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 433 insertions(+)

commit 5c82f48
Author: Bill Currie <bill@taniwha.org>
Date:   Tue May 4 01:57:29 2004 +0000

    fix logging of svc_deltapacketentities

 qw/source/net_packetlog.c |   15 +++++++++------
 1 file changed, 9 insertions(+), 6 deletions(-)

commit 9ed9832
Author: Bill Currie <bill@taniwha.org>
Date:   Mon May 3 06:21:39 2004 +0000

    bring back the alpha setting for dlights (finally found out what it was
    for) and "fix" the wayward dlights in mvds: caused by svc_muzzleflash being
    written before the player updates. Should probably fix properly that in the
    server too.

 include/QF/render.h                    |    2 +-
 libs/video/renderer/gl/gl_dyn_lights.c |    2 +-
 nq/source/cl_main.c                    |   18 ++++++++++--------
 nq/source/cl_tent.c                    |    3 +++
 qw/include/cl_parse.h                  |    1 +
 qw/source/cl_ents.c                    |   19 +++++++++++--------
 qw/source/cl_parse.c                   |    4 +++-
 qw/source/cl_tent.c                    |    3 +++
 8 files changed, 33 insertions(+), 19 deletions(-)

commit 57ffcae
Author: Bill Currie <bill@taniwha.org>
Date:   Mon May 3 04:52:00 2004 +0000

    remove some dead code

 libs/video/renderer/gl/gl_rmain.c     |   34 ---------------------------------
 libs/video/renderer/sw/sw_rmain.c     |   26 -------------------------
 libs/video/renderer/sw32/sw32_rmain.c |   24 -----------------------
 3 files changed, 84 deletions(-)

commit 406d596
Author: Bill Currie <bill@taniwha.org>
Date:   Mon May 3 03:49:02 2004 +0000

    don't allow recording while playing a demo

 qw/source/cl_demo.c |   13 ++++++-------
 1 file changed, 6 insertions(+), 7 deletions(-)

commit fc4211c
Author: Bill Currie <bill@taniwha.org>
Date:   Sun May 2 21:21:00 2004 +0000

    the rest of Grievre's lighting tweaks

 include/QF/render.h                   |    3 +
 include/r_cvar.h                      |    1 +
 libs/video/renderer/gl/gl_mod_alias.c |  273 +++++++++++++++++++++------------
 libs/video/renderer/gl/gl_rmain.c     |   25 ++-
 libs/video/renderer/r_light.c         |    5 +-
 libs/video/targets/vid_common_gl.c    |    5 +-
 6 files changed, 205 insertions(+), 107 deletions(-)

commit adf5094
Author: Bill Currie <bill@taniwha.org>
Date:   Sun May 2 20:40:09 2004 +0000

    slightly modified version of Grievre's fix for black models on an unlit map

 NEWS                          |    1 +
 libs/video/renderer/r_light.c |    4 +++-
 2 files changed, 4 insertions(+), 1 deletion(-)

commit 4d2300f
Author: Bill Currie <bill@taniwha.org>
Date:   Sat May 1 04:14:59 2004 +0000

    finally support png

 tools/bsp2img/bsp2img.c |  107 +++++++++++++++++++++++++++++++++--------------
 1 file changed, 75 insertions(+), 32 deletions(-)

commit 1a9ca12
Author: Bill Currie <bill@taniwha.org>
Date:   Sat May 1 03:41:51 2004 +0000

    can't use None due to the math

 tools/misc/itemslist.py |   12 ------------
 1 file changed, 12 deletions(-)

commit 3f6b2fd
Author: Bill Currie <bill@taniwha.org>
Date:   Sat May 1 03:39:33 2004 +0000

    has some issues, but support writting to stdout

 tools/qfbsp/include/options.h |    1 +
 tools/qfbsp/source/options.c  |    4 ++++
 tools/qfbsp/source/readbsp.c  |   27 +++++++++++++++++++--------
 3 files changed, 24 insertions(+), 8 deletions(-)

commit 7205e10
Author: Bill Currie <bill@taniwha.org>
Date:   Sat May 1 03:21:42 2004 +0000

    fun tool to display item info in a map (using an already extracted entity
    file). use as a filter

 tools/misc/itemslist.py |  145 +++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 145 insertions(+)

commit 42c88b2
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Apr 30 21:52:17 2004 +0000

    correct the help output

 tools/qfbsp/source/options.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit a12074c
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Apr 30 21:51:00 2004 +0000

    can now extract entities from foo.bsp to foo.ent

 tools/qfbsp/include/bsp5.h    |    1 +
 tools/qfbsp/include/options.h |    2 ++
 tools/qfbsp/source/options.c  |   54 +++++++++++++++++++++++++++++------------
 tools/qfbsp/source/qfbsp.c    |   23 ++++++------------
 tools/qfbsp/source/readbsp.c  |   44 +++++++++++++++++++++++++++++----
 5 files changed, 87 insertions(+), 37 deletions(-)

commit 8b2eb9e
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Apr 29 04:10:49 2004 +0000

    cleanup and add the recent fixes

 NEWS |  326 ++++++++++++++++++++++++++++++++++--------------------------------
 1 file changed, 168 insertions(+), 158 deletions(-)

commit c99a011
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Apr 29 03:00:25 2004 +0000

    make sure sample length is never 0

 libs/audio/renderer/wav.c |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit c456eb1
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Apr 29 01:13:37 2004 +0000

    fix a 64bit warning

 libs/audio/targets/snd_alsa.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 0959220
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Apr 28 22:52:02 2004 +0000

    get the release number right

 debian/changelog |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f5a94d4
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Apr 28 22:19:35 2004 +0000

    add 0.5.5 entry

 debian/changelog |    6 ++++++
 1 file changed, 6 insertions(+)

commit 47927f1
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Apr 28 21:10:03 2004 +0000

    whee, 0.5.5 at last :)

 configure.ac |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 9f4942c
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Apr 28 21:07:39 2004 +0000

    0.5.5-CVS now :)

 configure.ac |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f0d9008
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Wed Apr 28 20:27:11 2004 +0000

    Swap normal/vertex order to match order they are accessed in during render.
    Optimization from Grievre.
    Also fix a minimum light clamping to actually be applied.

 libs/video/renderer/gl/gl_mod_alias.c |    5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

commit f81a302
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Apr 28 20:11:11 2004 +0000

    add cd_file

 RPM/quakeforge.spec.in |    1 +
 1 file changed, 1 insertion(+)

commit ed40ca0
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Wed Apr 28 06:50:40 2004 +0000

    Even more updates... let's get cd_file and the SDL crap into the dist.

 debian/control |    3 ++-
 debian/rules   |    8 +++++++-
 2 files changed, 9 insertions(+), 2 deletions(-)

commit a221815
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Wed Apr 28 05:54:45 2004 +0000

    Even more Debian changes.
    * Deek does the build-package dance again...

 debian/rules |    4 +---
 1 file changed, 1 insertion(+), 3 deletions(-)

commit fe65495
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Wed Apr 28 04:49:15 2004 +0000

    qfcc man page updates.

 tools/qfcc/doc/man/qfcc.1 |   57 ++++++++++++++++++++++++---------------------
 1 file changed, 30 insertions(+), 27 deletions(-)

commit 72ada08
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Wed Apr 28 04:48:52 2004 +0000

    More Debian updates.

 debian/quakeforge-common.shlibs  |   23 +++++++++++------------
 debian/quakeforge-libs-gl.shlibs |    4 ++--
 debian/quakeforge-libs-sw.shlibs |    4 ++--
 debian/rules                     |    3 ---
 4 files changed, 15 insertions(+), 19 deletions(-)

commit 1c0735d
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Apr 28 04:07:50 2004 +0000

    * taniwha mutters about end-runs (sorry, Grievre)

 include/r_cvar.h                      |    1 -
 libs/video/renderer/gl/gl_mod_alias.c |   58 +++++++++++++--------------------
 libs/video/renderer/gl/gl_rmain.c     |   20 +++++-------
 libs/video/targets/vid_common_gl.c    |   10 +-----
 4 files changed, 32 insertions(+), 57 deletions(-)

commit 24e5b1b
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Apr 28 01:43:52 2004 +0000

    getting ready for 0.5.5

 NEWS |  139 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 139 insertions(+)

commit 4fb7777
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Wed Apr 28 00:46:15 2004 +0000

    Debian updates.

 debian/changelog                |    6 ++++++
 debian/control                  |   19 ++-----------------
 debian/quakeforge-common.shlibs |    1 +
 debian/rules                    |   31 ++++++++++++++-----------------
 4 files changed, 23 insertions(+), 34 deletions(-)

commit 31f5bb5
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Wed Apr 28 00:43:03 2004 +0000

    Small changes to the QFCC book.

 tools/qfcc/doc/qfcc.lyx |   36 +++++++++++++++++++++++-------------
 1 file changed, 23 insertions(+), 13 deletions(-)

commit 2842f4d
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Wed Apr 28 00:42:38 2004 +0000

    Ruamoko builtin declaration/implementation cleanup/simplification. Incomplete,
    but working.

 ruamoko/include/debug.h    |   95 ++++++++++++++++------------
 ruamoko/include/entities.h |  151 ++++++++++++++++++++++++++++++--------------
 ruamoko/lib/debug.r        |   10 +--
 ruamoko/lib/entities.r     |   12 +---
 4 files changed, 158 insertions(+), 110 deletions(-)

commit b057b6c
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Tue Apr 27 23:17:41 2004 +0000

    Some signed/unsigned formatting stuff found by lint.

 tools/qfcc/source/expr.c    |    2 +-
 tools/qfcc/source/idstuff.c |    2 +-
 tools/qfcc/source/lines.c   |    6 +++---
 tools/qfcc/source/modules.c |    2 +-
 4 files changed, 6 insertions(+), 6 deletions(-)

commit 785307f
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Apr 27 22:18:23 2004 +0000

    Grievre's lighting tweeks

 include/r_cvar.h                      |    1 +
 libs/video/renderer/gl/gl_mod_alias.c |   58 ++++++++++++++++++++-------------
 libs/video/renderer/gl/gl_rmain.c     |   20 +++++++-----
 libs/video/targets/vid_common_gl.c    |   10 +++++-
 4 files changed, 57 insertions(+), 32 deletions(-)

commit c16194c
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Tue Apr 27 21:58:21 2004 +0000

    Disable libQFobject from being built or used, since it doesn't serve
    any purpose right now.

 configure.ac           |    1 -
 include/QF/Makefile.am |    4 ----
 include/QF/object.h    |   15 ++++++++-------
 libs/Makefile.am       |    2 +-
 qw/source/Makefile.am  |    1 -
 qw/source/sv_main.c    |    1 -
 6 files changed, 9 insertions(+), 15 deletions(-)

commit 409ba98
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Tue Apr 27 21:56:26 2004 +0000

    Last few changes to libQFobject, in case anyone wants to use the code
    for something.

 libs/object/ArrayList.c  |    2 +-
 libs/object/Collection.c |    2 +-
 libs/object/Double.c     |    2 +-
 libs/object/Makefile.am  |    2 +-
 libs/object/object.c     |   85 ++++++++++++++++++++++++++++------------------
 5 files changed, 56 insertions(+), 37 deletions(-)

commit 14900bb
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Apr 27 20:24:37 2004 +0000

    fast-float code option (defaults to on). kills almost 3000 statements from
    prozac

 tools/qfcc/doc/man/qfcc.1    |    4 ++++
 tools/qfcc/include/options.h |    1 +
 tools/qfcc/source/expr.c     |    5 +++--
 tools/qfcc/source/options.c  |    3 +++
 4 files changed, 11 insertions(+), 2 deletions(-)

commit f88310d
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Apr 27 03:45:26 2004 +0000

    patch from Grievre to add a cvar to control "fake" filtering and change the
    fake kick default

 qw/source/sv_user.c |   37 ++++++++++++++++++++++++-------------
 1 file changed, 24 insertions(+), 13 deletions(-)

commit 2d67195
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Apr 23 22:53:39 2004 +0000

    fix an oopsie that broke skyboxlist (early morning paper routes are bad for
    coding:)

 include/QF/quakefs.h    |    2 ++
 libs/console/filelist.c |    2 +-
 libs/util/quakefs.c     |   18 +++++++++---------
 3 files changed, 12 insertions(+), 10 deletions(-)

commit 204618d
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Apr 22 02:49:50 2004 +0000

    make dist fix

 ruamoko/include/Makefile.am |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 804ba76
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Apr 20 23:01:54 2004 +0000

    add bindings for the qfs functions

 ruamoko/include/qfs.h   |   16 ++++++++++++++++
 ruamoko/lib/Makefile.am |    2 +-
 ruamoko/lib/qfs.r       |    8 ++++++++
 3 files changed, 25 insertions(+), 1 deletion(-)

commit 616be68
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Apr 20 22:52:09 2004 +0000

    strip parameter to QFS_FilelistFill and add rua support

 include/QF/quakefs.h    |    3 ++-
 libs/console/filelist.c |   14 +++++++-------
 libs/ruamoko/rua_qfs.c  |   43 ++++++++++++++++++++++++++++++++++++++-----
 libs/util/quakefs.c     |    7 ++++---
 4 files changed, 51 insertions(+), 16 deletions(-)

commit e8f9761
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Apr 20 22:25:52 2004 +0000

    move the filelist building code into quakefs

 include/QF/quakefs.h    |   10 ++++
 libs/console/filelist.c |  134 ++++++++---------------------------------------
 libs/util/quakefs.c     |   76 +++++++++++++++++++++++++++
 3 files changed, 109 insertions(+), 111 deletions(-)

commit 7975d17
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Tue Apr 20 05:34:35 2004 +0000

    Remove references to the broken and soon-to-be-removed object system.

 qw/source/sv_main.c |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit dd989c1
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Apr 16 04:21:16 2004 +0000

    fix a braino

 libs/video/targets/in_x11.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 1f9d75a
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Apr 16 03:24:10 2004 +0000

    add r_norefresh support to sw and sw32 and rename the console side of the
    cvar to get around the evil in customtf

 libs/video/renderer/r_cvar.c          |    2 +-
 libs/video/renderer/sw/sw_rmain.c     |    3 +++
 libs/video/renderer/sw32/sw32_rmain.c |    3 +++
 3 files changed, 7 insertions(+), 1 deletion(-)

commit 37a5938
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Apr 15 06:14:03 2004 +0000

    don't do hostname lookup on an empty string

 qw/source/cl_main.c |    5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit b62f3c9
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Apr 14 03:31:08 2004 +0000

    full path reporting when writing screenshots

 libs/video/renderer/gl/gl_screen.c |    2 +-
 libs/video/renderer/sw/screen.c    |    2 +-
 libs/video/renderer/sw32/screen.c  |    2 +-
 3 files changed, 3 insertions(+), 3 deletions(-)

commit 31b867a
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Apr 14 02:15:14 2004 +0000

    rework contains_updir to allow a specified number of ..s. QFS_FOpenFile now
    allows one .. in the path (won't be able to find any files in a pak file
    and is horribly inefficient, but oh well)

 libs/util/quakefs.c |   20 ++++++++++++++------
 1 file changed, 14 insertions(+), 6 deletions(-)

commit 1bf13a2
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Apr 13 04:42:12 2004 +0000

    QFS_Open more secure and simplify contains_updir

 libs/util/quakefs.c |   48 ++++++++++++++++++++++--------------------------
 1 file changed, 22 insertions(+), 26 deletions(-)

commit 1fb50d2
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Apr 13 03:38:16 2004 +0000

    don't create the path in QFS_Open if not writing

 libs/util/quakefs.c |    8 +++++++-
 1 file changed, 7 insertions(+), 1 deletion(-)

commit cb7bbff
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Apr 13 02:23:20 2004 +0000

    oops, fix some minor breakage

 qw/source/cl_main.c |   19 ++++++++++---------
 1 file changed, 10 insertions(+), 9 deletions(-)

commit 45c304f
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Apr 13 02:13:35 2004 +0000

    add a -novideo option to allow for headless operation

 libs/video/targets/vid_fbdev.c |   17 +++++++++++++++++
 1 file changed, 17 insertions(+)

commit 62cdbb5
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Apr 13 01:13:07 2004 +0000

    optionally allow recomte commands from a specified host address

 qw/source/cl_main.c |   21 ++++++++++++++++++---
 1 file changed, 18 insertions(+), 3 deletions(-)

commit 8a7bb9c
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Apr 12 23:46:21 2004 +0000

    fix a silly that messed up type mismatch errors

 tools/qfcc/source/linker.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 8fdd8a0
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Apr 12 23:38:09 2004 +0000

    make local command ip address checking sane

 include/netchan.h      |    1 +
 libs/net/nc/net_udp.c  |    4 ++++
 libs/net/nc/net_udp6.c |    2 ++
 qw/source/cl_main.c    |    7 +++----
 4 files changed, 10 insertions(+), 4 deletions(-)

commit e148880
Author: Chris Ison <cisos@bigpond.net.au>
Date:   Mon Apr 12 12:20:26 2004 +0000

    oops, added append support to other functions that require it

 qw/source/crudefile.c |   10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit fc40da2
Author: Chris Ison <cisos@bigpond.net.au>
Date:   Mon Apr 12 11:25:53 2004 +0000

    append support added to cfopen

 qw/source/crudefile.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 8bbd7bc
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Fri Apr 9 18:18:19 2004 +0000

    For some reason, using static nested function as callback = segfault.
    Fixed.

 libs/gib/gib_function.c |   14 ++++++++------
 1 file changed, 8 insertions(+), 6 deletions(-)

commit 9a3acc8
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Apr 9 04:30:19 2004 +0000

    get the field offset correctly

 tools/qfcc/source/expr.c |   10 +++++++---
 1 file changed, 7 insertions(+), 3 deletions(-)

commit 7b28c55
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Apr 9 04:12:44 2004 +0000

    quaternion field access now works

 tools/qfcc/include/expr.h |    2 +-
 tools/qfcc/source/expr.c  |   87 +++++++++++++++++++++++++++++++--------------
 tools/qfcc/source/type.c  |    4 ---
 3 files changed, 61 insertions(+), 32 deletions(-)

commit 332ec82
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Apr 9 03:47:41 2004 +0000

    update the scope of local defs to the parent scope when the creation scope
    goes away (doesn't get updated to the global scope). fixes a bug where
    local defs would be miscounted (and sometimes lost)

 tools/qfcc/source/qc-parse.y |    1 +
 1 file changed, 1 insertion(+)

commit 0b61dae
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Apr 9 03:45:55 2004 +0000

    allow .imm fields (need a better test, I think)

 tools/qfcc/source/linker.c |   10 ++++++----
 1 file changed, 6 insertions(+), 4 deletions(-)

commit 50dc955
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Apr 9 02:20:47 2004 +0000

    fix a couple out-by-one errors highlighted by quaternions

 tools/qfcc/source/def.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 0e47ee9
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Apr 8 18:53:46 2004 +0000

    spelling fixes

 tools/qfcc/include/type.h |    1 +
 tools/qfcc/source/type.c  |    4 ++--
 2 files changed, 3 insertions(+), 2 deletions(-)

commit 4c4f40f
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Apr 8 05:13:24 2004 +0000

    fix a few bugs. basics seem to be working

 libs/util/mathlib.c      |    4 ++--
 tools/qfcc/source/expr.c |    3 ++-
 2 files changed, 4 insertions(+), 3 deletions(-)

commit 5869cb6
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Apr 8 05:04:50 2004 +0000

    oops

 tools/qfcc/source/expr.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a7103c6
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Apr 8 04:59:10 2004 +0000

    quaternion conjugate

 tools/qfcc/source/expr.c |    6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit 633dada
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Apr 8 04:57:17 2004 +0000

    quaternion conjugate support (engine side)

 include/QF/pr_comp.h             |    1 +
 libs/gamecode/engine/pr_exec.c   |    3 +++
 libs/gamecode/engine/pr_opcode.c |    5 +++++
 3 files changed, 9 insertions(+)

commit fc2413f
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Apr 8 03:32:14 2004 +0000

    more quaternion work (should be working, haven't come up with tests yet)

 libs/gamecode/engine/pr_strings.c |    8 ++++++--
 tools/qfcc/include/struct.h       |    2 +-
 tools/qfcc/source/function.c      |    2 +-
 tools/qfcc/source/idstuff.c       |    3 +++
 tools/qfcc/source/immediate.c     |    2 +-
 tools/qfcc/source/qc-lex.l        |    6 ++++--
 tools/qfcc/source/type.c          |   17 +++++++++++++++++
 7 files changed, 33 insertions(+), 7 deletions(-)

commit 4882005
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Apr 8 02:33:20 2004 +0000

    compile fixes (oops) and start working on quaternion support in qfcc

 libs/gamecode/engine/pr_debug.c |    2 +-
 nq/source/sv_progs.c            |    2 +-
 qw/source/sv_progs.c            |    2 +-
 tools/qfcc/source/constfold.c   |   34 +++++++++++-----------------------
 tools/qfcc/source/expr.c        |    6 +++---
 tools/qfcc/source/qfprogs.c     |    2 +-
 tools/qfcc/source/type.c        |    6 +++---
 7 files changed, 21 insertions(+), 33 deletions(-)

commit 8d6f634
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Apr 8 00:56:30 2004 +0000

    engine side quaternion support

 include/QF/pr_comp.h             |   20 +++++++++-
 libs/gamecode/engine/pr_exec.c   |   78 ++++++++++++++++++++++++++++++++++++--
 libs/gamecode/engine/pr_opcode.c |   75 +++++++++++++++++++++++++++++++++++-
 3 files changed, 167 insertions(+), 6 deletions(-)

commit 39685d0
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Apr 7 18:01:45 2004 +0000

    more readability and add the quaternion functions

 include/QF/mathlib.h |  125 +++++++++++++++++++++++++++++++++++++++-----------
 libs/util/mathlib.c  |   13 ++++++
 2 files changed, 112 insertions(+), 26 deletions(-)

commit 524c02e
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Apr 7 02:29:41 2004 +0000

    make the vector macros more readable

 include/QF/mathlib.h |   68 ++++++++++++++++++++++++++++++++++++++++----------
 1 file changed, 55 insertions(+), 13 deletions(-)

commit 27da4ad
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Apr 7 02:29:12 2004 +0000

    add quat_t for quaternions (not used yet)

 include/QF/qtypes.h |    1 +
 1 file changed, 1 insertion(+)

commit 6812794
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Apr 7 02:09:21 2004 +0000

    create the quakeforge-stub package (whee, my first .deb:)

 debian/.gitignore               |    1 +
 debian/control                  |   11 +++++++++++
 debian/quakeforge-stub.postinst |   11 +++++++++++
 debian/rules                    |    5 +++++
 4 files changed, 28 insertions(+)

commit c188159
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Apr 6 22:02:45 2004 +0000

    various mvd fixes for bots, especially getting the angles written

 qw/source/sv_ccmds.c   |    8 +++++---
 qw/source/sv_demo.c    |    4 ++--
 qw/source/sv_main.c    |    2 +-
 qw/source/sv_pr_cmds.c |    7 ++++---
 qw/source/sv_send.c    |    6 +++---
 qw/source/sv_user.c    |    2 +-
 6 files changed, 16 insertions(+), 13 deletions(-)

commit cd8486a
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Apr 6 04:04:39 2004 +0000

    parenthesize a couple of casts. fixes the mvd recording crash
    
    *taniwha dons his brown paper bag

 qw/source/sv_demo.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit a580c22
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Apr 6 03:30:09 2004 +0000

    bsp2img doesn't need qfbsp includes

 configure.ac |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 07e0682
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Apr 5 23:33:46 2004 +0000

    make sure trace.allsolid gets set properly when skipping the
    PM_RecursiveHullCheck call. Fixes the lg + pent + water map ejection bug.

 qw/source/pmovetst.c |   38 +++++++++++++++++++++++++-------------
 1 file changed, 25 insertions(+), 13 deletions(-)

commit 5dc5c28
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Apr 5 04:28:31 2004 +0000

    more recent version of DrSpliff's qfadmin script (1.17 2003/03/28)

 doc/config/gib/qfadmin.gib |  191 +++++++++++++++++++++++++++++++++++++++-----
 1 file changed, 172 insertions(+), 19 deletions(-)

commit 49f8787
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Apr 4 05:34:20 2004 +0000

    fix up some accidental asm compilation when it's not wanted

 libs/util/Makefile.am |   15 ++++++++-------
 nq/source/Makefile.am |    2 +-
 qw/source/Makefile.am |    6 +++---
 3 files changed, 12 insertions(+), 11 deletions(-)

commit ab52e74
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Apr 4 02:34:05 2004 +0000

    Grievre's skin DoS fix

 include/QF/skin.h    |    3 ++-
 qw/source/cl_parse.c |   13 +++++++++----
 2 files changed, 11 insertions(+), 5 deletions(-)

commit c2d633b
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Mar 31 21:40:33 2004 +0000

    haven't needed that for a while

 include/Makefile.am |    2 +-
 include/menu.h      |  111 ---------------------------------------------------
 2 files changed, 1 insertion(+), 112 deletions(-)

commit c1d5f23
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Mar 31 19:14:55 2004 +0000

    minor cleanups

 qw/include/sv_demo.h |   35 ++++++++++++++++++++---------------
 qw/source/sv_send.c  |   19 +++++++++----------
 2 files changed, 29 insertions(+), 25 deletions(-)

commit 8220d6d
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Mar 30 02:31:50 2004 +0000

    for loop tests

 tools/qfcc/test/for.r |   22 ++++++++++++++++++++++
 1 file changed, 22 insertions(+)

commit 25ac9cb
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Mar 30 02:31:02 2004 +0000

    fix "for (;;)" etc

 tools/qfcc/source/qc-parse.y |   14 ++++++++++++--
 1 file changed, 12 insertions(+), 2 deletions(-)

commit 5dcdd2c
Author: Chris Ison <cisos@bigpond.net.au>
Date:   Fri Mar 26 02:52:47 2004 +0000

    fixed stalls and mis-placed rocket which was seen only in the cygwin->mingw32 builds, also removed redundant stdin_ready code and forcing of timeout setting for win32 build

 libs/util/sys.c |   11 ++++++-----
 1 file changed, 6 insertions(+), 5 deletions(-)

commit 1d40013
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Mar 25 05:41:33 2004 +0000

    get the spotlight working

 tools/qflight/source/entities.c |    2 +-
 tools/qflight/source/ltface.c   |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 16a90e1
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Mar 23 22:39:17 2004 +0000

    cl_ents.c:
    	bring back the location markers
    sv_ccmds.c:
    	a few demo related fixes
    sv_demo.c:
    	minor cleanups

 qw/source/cl_ents.c  |   22 ++++++++++++++++++++++
 qw/source/sv_ccmds.c |    6 ++++--
 qw/source/sv_demo.c  |   16 ++++------------
 3 files changed, 30 insertions(+), 14 deletions(-)

commit 826453a
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Mar 22 04:22:33 2004 +0000

    make "color" work in nq-server (worked fine in nq-x11 -dedicaged)

 nq/source/host_skin.c |    1 -
 nq/source/sv_ded.c    |   44 ++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 44 insertions(+), 1 deletion(-)

commit 969cf7a
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Mar 22 03:23:59 2004 +0000

    make sure the mouse input updates properly when going from fullscreen to
    windowed

 libs/video/targets/context_x11.c |    1 +
 1 file changed, 1 insertion(+)

commit 23e8ef1
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Mar 22 02:16:41 2004 +0000

    do the viewport forcing in configure_notify. fixes Grievre's uncentered
    viewport

 libs/video/targets/context_x11.c |    7 ++++---
 1 file changed, 4 insertions(+), 3 deletions(-)

commit 4b33ba5
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Mar 21 20:21:57 2004 +0000

    don't know why the expose event was being waited for. doesn't seem to be
    needed (now, anyway) when going windowed and causes lockup when starting
    fullscreen

 libs/video/targets/vid_x11.c |   12 ------------
 1 file changed, 12 deletions(-)

commit e27db9f
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sun Mar 21 18:53:41 2004 +0000

    More compile fixes for current gcc.

 tools/qfbsp/source/writebsp.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 9c9b671
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Mar 21 05:39:59 2004 +0000

    the initial event mask now needs to include mouse motion events otherwise
    the x11 clients will "lock up" when they start fullscreened

 include/context_x11.h |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 7feaa3d
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Mar 21 05:21:27 2004 +0000

    Want for the mouse to move when going fullscreen before moving the
    viewport. This should fix the uncetnered viewport when going fullscreen.
    Also discard mouse events caused by fullscreen toggling to avoid chaning
    orientation.

 include/context_x11.h            |    1 +
 libs/video/targets/context_x11.c |   27 +++++++++++++++++++++++++--
 libs/video/targets/in_x11.c      |    5 +++++
 3 files changed, 31 insertions(+), 2 deletions(-)

commit db1f683
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sun Mar 21 04:59:02 2004 +0000

    Fixes compilation with current GCC. Also a safety improvement (if macro should
    use param more than once), taniwha tells me.

 libs/audio/cd/cd_sdl.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 476680b
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Mar 21 04:54:56 2004 +0000

    fix some new gcc warnings (from my experience with qfcc, such casts are
    potentially dangerous anyway)

 qw/source/sv_demo.c |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 0b808b0
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Mar 21 00:34:24 2004 +0000

    so that's why you would want to use XMaskEvent... don't lose the FocusIn
    and EnterNotify events when starting fullscreened

 include/context_x11.h            |   10 ++++++++++
 libs/video/targets/context_x11.c |    8 ++------
 libs/video/targets/in_x11.c      |   10 ++--------
 3 files changed, 14 insertions(+), 14 deletions(-)

commit 482daf4
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Mar 20 00:23:26 2004 +0000

    add optional reason to kick and ban

 qw/source/sv_ccmds.c |   53 +++++++++++++++++++++++++++++++++++++-------------
 1 file changed, 39 insertions(+), 14 deletions(-)

commit 60ca985
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Mar 19 21:12:12 2004 +0000

    dead code removal

 libs/video/targets/context_x11.c |    3 ---
 1 file changed, 3 deletions(-)

commit 78fd6d2
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Mar 19 20:24:26 2004 +0000

    minor cleanup of window position handling. hopefully no more window off
    screen issues (wait for ConfigureNotify instead of MapNotify on window
    creation (ConfigureNotify gives us our window position)).

 include/context_x11.h            |    5 --
 libs/video/targets/context_x11.c |  121 ++++++++++++++++----------------------
 libs/video/targets/in_x11.c      |    2 +-
 libs/video/targets/vid_glx.c     |    8 +--
 libs/video/targets/vid_x11.c     |   15 +----
 5 files changed, 57 insertions(+), 94 deletions(-)

commit 38c5b92
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Mar 19 02:20:47 2004 +0000

    fix a really stupid error (missing {}s) that caused vis data to basicly get
    lost when reading the new portal file format

 tools/qfvis/source/qfvis.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 9e6be1e
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Mar 19 00:41:14 2004 +0000

    hopefully handle \r\n endings

 tools/qfvis/source/qfvis.c |    6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit 2b26072
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Mar 19 00:38:35 2004 +0000

    open output file in binary mode

 tools/bsp2img/bsp2img.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 9099bae
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Mar 18 06:05:59 2004 +0000

    minor cleanups preparing for an overhaul

 include/context_x11.h            |    1 -
 libs/video/targets/context_x11.c |   59 ++++++++++++++++++--------------------
 2 files changed, 28 insertions(+), 32 deletions(-)

commit 142127f
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Mar 18 05:58:06 2004 +0000

    even better, use seta (new command) instead so config.cfg automaticly sets
    the archive bit

 libs/util/cvar.c |   55 +++++++++++++++++++++++-------------------------------
 1 file changed, 23 insertions(+), 32 deletions(-)

commit 0c82006
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Mar 18 05:45:45 2004 +0000

    all archived cvars now get written to the config file prefixed with set

 libs/util/cvar.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 199455d
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Mar 17 20:22:19 2004 +0000

    fix a silly bug that caused all parsed keys to be ""

 tools/qfbsp/source/map.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 4f79d8c
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Mar 17 04:53:10 2004 +0000

    hopefully more correct surface marking for dlights

 libs/video/renderer/r_light.c |   48 ++++++++++++++++-------------------------
 1 file changed, 18 insertions(+), 30 deletions(-)

commit 6c1c39c
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Mar 17 04:47:55 2004 +0000

    don't fudge the maxdist by 0.75. no clue why that was done, but it was the
    cause of the bogusly lit surfaces (not sure why, though. imaginary numbers,
    maybe?). timedemo runs are a little more variable :/

 libs/video/renderer/gl/gl_lightmap.c |    6 ++----
 1 file changed, 2 insertions(+), 4 deletions(-)

commit ff5b215
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Mar 16 04:15:07 2004 +0000

    multi statement macro fixes as pointed out by Grievre

 include/QF/mathlib.h |   20 ++++++++++----------
 include/QF/progs.h   |    2 +-
 2 files changed, 11 insertions(+), 11 deletions(-)

commit e24cbd7
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Mar 16 04:12:28 2004 +0000

    M_BUTTON6 and M_BUTTON7. nuff said :)

 include/QF/keys.h             |    2 ++
 libs/video/targets/in_x11.c   |    2 ++
 libs/video/targets/keys.c     |    2 ++
 libs/video/targets/old_keys.c |    2 ++
 4 files changed, 8 insertions(+)

commit 509cd09
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Mon Mar 15 21:45:45 2004 +0000

    Make nearer cloud layer speed more sane for skydomes.

 libs/video/renderer/gl/gl_sky.c |    5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit 6c6047c
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Mon Mar 15 21:44:56 2004 +0000

    Fix from Grievre.

 libs/video/targets/vtxarray.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 29502c8
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Mon Mar 15 21:32:19 2004 +0000

    Lots of optimizations, particularly for GL state changes, and tweak lighting a
    bit more.
    
    Also a cleanup from Grievre: Use VectorIsZero in two places in gl_mod_alias.c.

 include/QF/mathlib.h                  |    1 +
 libs/video/renderer/gl/gl_mod_alias.c |  164 +++++++++++++++------------------
 libs/video/renderer/gl/gl_rmain.c     |   31 ++++++-
 libs/video/targets/vid_common_gl.c    |   17 ++--
 4 files changed, 112 insertions(+), 101 deletions(-)

commit 7f49727
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Mar 15 20:41:34 2004 +0000

    bring back the missing chat logging

 qw/source/sv_user.c |    2 ++
 1 file changed, 2 insertions(+)

commit e5ccf09
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Mar 15 00:32:49 2004 +0000

    oops, old_origin is for trails

 nq/source/cl_main.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 8e9da44
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Mar 11 04:13:12 2004 +0000

    insert entities into the bsp tree for later renderer queuing based on vis
    rather than directly into the queue. gives a 6.6% speedup for bigass1,
    maybe slight loss for demo1 and definitly minor loss for nullrendering.
    However, it gives us potential access to info we wouldn't otherwise have
    ready access to.

 nq/source/cl_main.c |   39 +++++++++++++++++++++++++--------------
 nq/source/sv_main.c |    2 +-
 2 files changed, 26 insertions(+), 15 deletions(-)

commit 1fe06c3
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Thu Mar 11 01:03:51 2004 +0000

    More of my experimental GL lighting tweaks.

 libs/video/renderer/gl/gl_mod_alias.c |    4 ++--
 libs/video/targets/vid_common_gl.c    |   10 +++++++++-
 2 files changed, 11 insertions(+), 3 deletions(-)

commit 9cd16b8
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Wed Mar 10 08:14:38 2004 +0000

    Grievre's lighting patch, plus some of my own changes.
    My changes:
    Emit normals if truform is enabled.
    Attempt to avoid 0,0,0 normals (makes lighting & tesselation unhappy).
    Fix some (ancient) apparent bugs in GetAliasFrameVerts16().
    Clamp minlight, instead of adding it.
    Apply colormod as glColor, rather than adding it to emission, to prevent QSG2
     issues with fullbrights.
    Rearrange init code, and don't go quite as wild with responsiveness to lights.
    
    Material & lightmode settings will need tweaking & testing to work well on all
     cards. Feedback needed there.

 include/QF/GL/qf_funcs_list.h         |   12 +-
 include/QF/GL/qf_vid.h                |    2 +
 libs/video/renderer/gl/gl_mod_alias.c |  276 +++++++++++++++------------------
 libs/video/renderer/gl/gl_rmain.c     |    6 +-
 libs/video/targets/vid_common_gl.c    |   28 +++-
 5 files changed, 161 insertions(+), 163 deletions(-)

commit 68a1a50
Author: Chris Ison <cisos@bigpond.net.au>
Date:   Mon Mar 8 18:42:42 2004 +0000

    fix for gl_overbright init order bug, maybe Despair can come up with a better way

 libs/video/renderer/gl/gl_lightmap.c |    5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit b7df0b5
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sun Mar 7 23:51:29 2004 +0000

    Remove gl_doublebright, remove fractional overbrights, clean up init a bit,
    uglify init a bit. Stuff for taniwha to look at. Nothing to see here, move
    along.

 include/QF/GL/qf_rmain.h             |    3 +
 include/QF/GL/qf_vid.h               |    9 ++-
 include/r_cvar.h                     |    1 -
 libs/video/renderer/gl/gl_lightmap.c |  137 +++++++++++++++-------------------
 libs/video/renderer/gl/gl_rmain.c    |   20 +++--
 libs/video/targets/vid_common_gl.c   |   88 ++++++++--------------
 6 files changed, 111 insertions(+), 147 deletions(-)

commit c4807a0
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Mar 7 00:25:09 2004 +0000

    if we're not going to check the pvs, why bother calculating it?

 qw/source/sv_ents.c |   24 +++++++++++++-----------
 qw/source/sv_send.c |   12 ++++++------
 2 files changed, 19 insertions(+), 17 deletions(-)

commit bd35861
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Mar 6 04:42:43 2004 +0000

    bit of a tidy up to make following things a bit easier

 qw/include/sv_demo.h |    1 -
 qw/source/sv_demo.c  |  460 +++++++++++++++++++++++++-------------------------
 2 files changed, 226 insertions(+), 235 deletions(-)

commit bd58f35
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Mar 6 04:34:13 2004 +0000

    remove debug print (oops)

 qw/source/cl_parse.c |    1 -
 1 file changed, 1 deletion(-)

commit 17afd25
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Mar 6 03:18:14 2004 +0000

    hide SV_Stop_f

 qw/include/sv_demo.h |    1 -
 qw/source/sv_ccmds.c |    2 +-
 qw/source/sv_demo.c  |    8 ++++----
 qw/source/sv_main.c  |    2 +-
 4 files changed, 6 insertions(+), 7 deletions(-)

commit a3934f8
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Mar 5 23:42:15 2004 +0000

    more progress for qtv

 qtv/source/server.c  |   51 +++++++++++++++++++---------
 qw/include/server.h  |    2 ++
 qw/include/sv_qtv.h  |    5 ++-
 qw/source/cl_parse.c |    2 +-
 qw/source/sv_main.c  |   30 ++++++++++------
 qw/source/sv_qtv.c   |   92 +++++++++++++++++++++++++++++++++++++++++++++++++-
 6 files changed, 152 insertions(+), 30 deletions(-)

commit cd1fc18
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Mar 5 21:53:34 2004 +0000

    gl_lightmap_subimage 2 now works, but only if using r_lightmap_components 4
    (with dri, anyway, ymmv).

 libs/video/renderer/gl/gl_lightmap.c |   27 +++++++++++++++++++++------
 1 file changed, 21 insertions(+), 6 deletions(-)

commit 4b9d978
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Mar 4 00:13:20 2004 +0000

    initial commit of sv_qtv stuff. doesn't do much of anything yet but I need
    to clean up DirectConnect first

 qw/include/Makefile.am |    3 ++-
 qw/include/sv_qtv.h    |   37 ++++++++++++++++++++++++++++++++++++
 qw/source/Makefile.am  |    2 +-
 qw/source/sv_main.c    |    3 ++-
 qw/source/sv_qtv.c     |   49 ++++++++++++++++++++++++++++++++++++++++++++++++
 5 files changed, 91 insertions(+), 3 deletions(-)

commit 37024a4
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Mar 2 03:55:18 2004 +0000

    final (?) cleanup of center printing. turns out there's no reason to keep
    it in the renderer and every reason to pull it out (ok, some might
    disagree:)

 include/QF/screen.h            |    7 ---
 include/r_screen.h             |    9 ----
 include/sbar.h                 |    1 +
 libs/console/client.c          |   11 -----
 libs/video/renderer/r_screen.c |   67 ----------------------------
 nq/include/server.h            |    1 -
 nq/source/cl_parse.c           |    7 +--
 nq/source/sbar.c               |   93 ++++++++++++++++++++++++++++++++++++---
 nq/source/sv_ded.c             |    2 -
 nq/source/sv_main.c            |    1 -
 qw/source/cl_parse.c           |    5 ++-
 qw/source/sbar.c               |   94 +++++++++++++++++++++++++++++++++++++---
 12 files changed, 181 insertions(+), 117 deletions(-)

commit 39fc0fe
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Mar 2 00:58:13 2004 +0000

    more centerprint cleanup.

 include/QF/screen.h            |    8 +++++---
 libs/video/renderer/r_screen.c |   28 ++--------------------------
 nq/source/sbar.c               |   23 +++++++++++++++++++++--
 qw/source/sbar.c               |   23 +++++++++++++++++++++--
 4 files changed, 49 insertions(+), 33 deletions(-)

commit d3dfb0e
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Mar 2 00:02:09 2004 +0000

    better screen function list selection

 nq/source/cl_screen.c |   23 +++++++++++++----------
 qw/source/cl_screen.c |   23 +++++++++++++----------
 2 files changed, 26 insertions(+), 20 deletions(-)

commit 2955fac
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Mar 1 23:47:39 2004 +0000

    first step of centerprint/finale cleanup. fixes the misplaced text for
    end-of-episode text

 include/QF/screen.h                |    4 +++-
 include/sbar.h                     |    1 +
 libs/video/renderer/gl/gl_screen.c |   15 +++------------
 libs/video/renderer/r_screen.c     |   15 ++++++++-------
 libs/video/renderer/sw/screen.c    |   13 +++----------
 libs/video/renderer/sw32/screen.c  |   13 +++----------
 nq/source/cl_screen.c              |   24 ++++++++++++++++++++++--
 nq/source/sbar.c                   |   12 ++++++++----
 qw/source/cl_screen.c              |   24 ++++++++++++++++++++++--
 qw/source/sbar.c                   |    7 +++++++
 10 files changed, 80 insertions(+), 48 deletions(-)

commit f52b4e8
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Mar 1 23:45:59 2004 +0000

    beginnings of qtv support

 qw/source/sv_main.c |   10 ++++++++--
 1 file changed, 8 insertions(+), 2 deletions(-)

commit d2a2ac0
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Mon Mar 1 21:09:56 2004 +0000

    Slightly ugly fix for an optimization bug.

 libs/audio/renderer/snd_mem.c |   16 ++++++++++++----
 1 file changed, 12 insertions(+), 4 deletions(-)

commit 08de214
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Mon Mar 1 11:51:34 2004 +0000

    Space, the final frontier...

 libs/audio/renderer/midi.c |   69 ++++++++++++++++++++++----------------------
 1 file changed, 35 insertions(+), 34 deletions(-)

commit 2342dfc
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Mon Mar 1 11:51:01 2004 +0000

    A couple of small optimizations. If you are exiting early, avoid some stuff
    only needed later. And reduce worst-case number of if tests in a few places.

 libs/audio/renderer/snd_dma.c |   20 +++----
 libs/audio/renderer/snd_mem.c |  124 ++++++++++++++++++++++-------------------
 libs/audio/renderer/snd_mix.c |    3 +
 3 files changed, 77 insertions(+), 70 deletions(-)

commit 7f3d516
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Feb 29 07:12:05 2004 +0000

    fix Qgets for when zlib isn't available

 libs/util/quakeio.c |    5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 7b5535c
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sun Feb 29 05:32:23 2004 +0000

    Less surprising default.

 libs/video/renderer/r_cvar.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 58d67f9
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sun Feb 29 04:50:01 2004 +0000

    Lighting init fixes.

 libs/video/renderer/gl/gl_lightmap.c |    4 ++--
 libs/video/targets/vid_common_gl.c   |    3 +++
 2 files changed, 5 insertions(+), 2 deletions(-)

commit beb2295
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Feb 29 04:24:42 2004 +0000

    do some sanity checking on the header lumps in case of truncated file

 libs/models/brush/model_brush.c |   21 +++++++++++++--------
 1 file changed, 13 insertions(+), 8 deletions(-)

commit 0c13369
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sun Feb 29 02:58:15 2004 +0000

    Whee.

 include/QF/GL/qf_lightmap.h |    5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit fde6e5b
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sun Feb 29 01:49:41 2004 +0000

    Reduce ifs a bit, clean up init a bit. Minor problem with gl_doublebright. LIH.

 libs/video/renderer/gl/gl_lightmap.c |  119 ++++++++++++++--------------------
 libs/video/targets/vid_common_gl.c   |   12 +++-
 2 files changed, 59 insertions(+), 72 deletions(-)

commit e29e469
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Fri Feb 27 21:42:52 2004 +0000

    Multitexture state fix. Harmless so far, but testing carefully helps us avoid
    state leak horrors.

 libs/video/renderer/gl/gl_rmain.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 8c6cc34
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Fri Feb 27 21:36:41 2004 +0000

    Fix overzealous optimization which did interesting things to lightmapping when
    not using multitexture.

 libs/video/renderer/gl/gl_lightmap.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 28fda91
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Fri Feb 27 20:40:26 2004 +0000

    If (!var) checking for a cvar setup. Can't believe that one slipped by for so
    long... Also set a few globals static.

 libs/video/targets/vid_common_gl.c |   35 ++++++++++++++++++-----------------
 1 file changed, 18 insertions(+), 17 deletions(-)

commit cdb02ed
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Fri Feb 27 15:49:15 2004 +0000

    Make whitespace consistent. yay.

 libs/video/renderer/gl/gl_lightmap.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 6059c7b
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Fri Feb 27 08:51:26 2004 +0000

    ...space

 libs/video/renderer/gl/gl_mod_alias.c |    6 ++----
 1 file changed, 2 insertions(+), 4 deletions(-)

commit 997f5fe
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Fri Feb 27 08:29:56 2004 +0000

    Tiny bit of loop unrolling.

 libs/video/renderer/gl/gl_lightmap.c |    8 ++++++--
 1 file changed, 6 insertions(+), 2 deletions(-)

commit 6caf86f
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Feb 27 00:10:46 2004 +0000

    make sure the server being connected to supports qtv

 qtv/include/qtv.h    |    1 +
 qtv/include/server.h |    1 +
 qtv/source/qtv.c     |    4 ++--
 qtv/source/server.c  |   53 ++++++++++++++++++++++++++++++++++++++++----------
 4 files changed, 47 insertions(+), 12 deletions(-)

commit 06e4000
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Feb 26 23:24:44 2004 +0000

    type forward delc issues

 qtv/include/qtv.h |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit a378581
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Feb 26 23:15:58 2004 +0000

    fix a couple places where reliable messages were getting sent to bots.
    fixes the segs on bot_add in fbxa

 qw/source/sv_send.c |   18 ++++++++++++------
 1 file changed, 12 insertions(+), 6 deletions(-)

commit 3855a8e
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Feb 26 22:53:30 2004 +0000

    seem to have the itterative world rendering working now (fingers crossed:)

 libs/video/renderer/sw/sw_rbsp.c     |   23 +++++++++++------------
 libs/video/renderer/sw32/sw32_rbsp.c |   23 +++++++++++------------
 2 files changed, 22 insertions(+), 24 deletions(-)

commit 228c5a0
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Feb 26 00:33:24 2004 +0000

    don't bother binding unmodified lightmaps

 libs/video/renderer/gl/gl_lightmap.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 4afe0c1
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 25 02:38:15 2004 +0000

    move hash.r and plist.r to libr where they belong

 ruamoko/lib/Makefile.am |   10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit 9878966
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 24 20:58:30 2004 +0000

    whitespace

 qw/include/sv_demo.h |    2 +-
 qw/source/sv_demo.c  |   12 +++++-------
 2 files changed, 6 insertions(+), 8 deletions(-)

commit beeb182
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Tue Feb 24 20:53:09 2004 +0000

    Fix multipass skydome rendering. Not sure layer speeds are right, but at least
    they move at different speeds like they are supposed to.

 libs/video/renderer/gl/gl_sky.c |   10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit 44c89c1
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Tue Feb 24 20:50:55 2004 +0000

    Optimize fullbright testing for brushes, assorted other cleanups, test for
    functions built into current GL drivers, as well as the old extensions, and
    add incorrectly rendering BGRA support.
    Whee!

 include/QF/GL/defines.h               |  834 ++++++++++++++++++---------------
 include/QF/GL/extensions.h            |   86 ++--
 include/QF/GL/qf_vid.h                |   12 +-
 include/r_cvar.h                      |    1 +
 libs/video/renderer/gl/gl_lightmap.c  |   16 +-
 libs/video/renderer/gl/gl_mod_alias.c |    2 +-
 libs/video/renderer/gl/gl_rmain.c     |    8 +-
 libs/video/renderer/gl/gl_rsurf.c     |   20 +-
 libs/video/renderer/r_cvar.c          |    3 -
 libs/video/targets/vid_common_gl.c    |  130 ++++-
 10 files changed, 633 insertions(+), 479 deletions(-)

commit 56f293d
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 24 20:38:22 2004 +0000

    OS-X fixes from nano

 bootstrap |   25 ++++++++++++++++---------
 1 file changed, 16 insertions(+), 9 deletions(-)

commit 3acb209
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Tue Feb 24 20:06:53 2004 +0000

    Whitespace, plus inline a few small functions.

 nq/source/world.c    |   38 ++++++++++++++++----------------------
 qw/source/pmovetst.c |   21 +++++++++------------
 qw/source/world.c    |   28 +++++++++++-----------------
 3 files changed, 36 insertions(+), 51 deletions(-)

commit 5bd524c
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 24 02:56:32 2004 +0000

    add a note about memory consuption

 tools/qfcc/TODO |    1 +
 1 file changed, 1 insertion(+)

commit f7a8645
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 23 21:40:23 2004 +0000

    make dist fix

 include/Makefile.am |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f9b95ce
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 23 07:17:41 2004 +0000

    some micro-optimisations

 include/QF/model.h              |    3 ---
 libs/models/brush/model_brush.c |    4 ++--
 libs/video/renderer/r_light.c   |   12 ++++--------
 3 files changed, 6 insertions(+), 13 deletions(-)

commit 680c246
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 23 04:46:55 2004 +0000

    the inline went wandering by mistake. gives a tiny (< 0.5%) gain, but a
    gain none the less

 libs/video/renderer/gl/gl_rsurf.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 4960254
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Mon Feb 23 04:25:53 2004 +0000

    Remove no-longer needed parameters from function calls.

 libs/video/renderer/gl/gl_rsurf.c |   18 +++++++++---------
 1 file changed, 9 insertions(+), 9 deletions(-)

commit 4eb2842
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Feb 22 06:19:38 2004 +0000

    add backbufs to client_t. can now easily send reliable data to the client

 qtv/include/client.h |    2 ++
 qtv/include/qtv.h    |    4 +++-
 qtv/source/client.c  |   22 ++++++++++++++--------
 qtv/source/qtv.c     |   20 +++++++++++---------
 4 files changed, 30 insertions(+), 18 deletions(-)

commit 872498a
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sun Feb 22 06:00:15 2004 +0000

    Reorder a lot of code, removing tons of ifs. multitexture paths are a bit more
    sane now. Also optimize QSG2 color handling, and fix some QSG2 bugs. Not that
    anyone cares, nobody uses it anyways.
    Should be faster, but isn't here. *grmbl*

 include/QF/GL/qf_rsurf.h           |    1 -
 libs/video/renderer/gl/gl_rmain.c  |    4 +-
 libs/video/renderer/gl/gl_rsurf.c  |  257 ++++++++++++++++++++----------------
 libs/video/targets/vid_common_gl.c |   98 +++++++-------
 4 files changed, 199 insertions(+), 161 deletions(-)

commit b502cfc
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Feb 22 05:40:08 2004 +0000

    move ClientReliable* from sv_nchan to MSG_Reliabe* in msg_backbuf so the
    backbuffer code can be shared between qw-server and qtv

 include/Makefile.am      |    2 +-
 include/netchan.h        |    6 +-
 include/qw/msg_backbuf.h |   65 +++++++++++
 include/qw/protocol.h    |    6 +-
 libs/qw/Makefile.am      |    2 +-
 libs/qw/msg_backbuf.c    |  274 ++++++++++++++++++++++++++++++++++++++++++++++
 qw/include/bothdefs.h    |    3 -
 qw/include/server.h      |   22 +---
 qw/source/Makefile.am    |    2 +-
 qw/source/cl_ents.c      |    1 +
 qw/source/sv_ccmds.c     |   16 +--
 qw/source/sv_main.c      |   15 ++-
 qw/source/sv_nchan.c     |  243 ----------------------------------------
 qw/source/sv_pr_cmds.c   |   65 +++++------
 qw/source/sv_send.c      |   94 +++++++---------
 qw/source/sv_user.c      |  128 +++++++++++-----------
 16 files changed, 503 insertions(+), 441 deletions(-)

commit a520c71
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Feb 22 01:32:55 2004 +0000

    remove some debug code (oops)

 qw/source/sv_user.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit e9d57e0
Author: Chris Ison <cisos@bigpond.net.au>
Date:   Sat Feb 21 10:33:43 2004 +0000

    Grievres' non-mtex FB being brighter than mtex FB fix. Note: it breaks non-RGBA replacement textures

 libs/video/renderer/gl/gl_rsurf.c |    2 --
 1 file changed, 2 deletions(-)

commit ca61127
Author: Chris Ison <cisos@bigpond.net.au>
Date:   Sat Feb 21 09:04:52 2004 +0000

    Grievres' water HOM and mtex FB only rendering FB texture fix

 libs/video/renderer/gl/gl_rmain.c  |    4 ++--
 libs/video/targets/vid_common_gl.c |    4 ++--
 2 files changed, 4 insertions(+), 4 deletions(-)

commit f1c9a8d
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Feb 21 05:58:01 2004 +0000

    remove a mostly unused field

 tools/qfcc/include/function.h |    1 -
 tools/qfcc/source/obj_file.c  |    1 -
 2 files changed, 2 deletions(-)

commit 14e8bfe
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Feb 21 05:52:05 2004 +0000

    auto-init for uninitialized locals in traditional mode as requested by
    Grievre

 tools/qfcc/include/def.h      |    1 +
 tools/qfcc/include/function.h |    1 +
 tools/qfcc/source/expr.c      |   29 ++++++++++++++++++++---------
 tools/qfcc/source/function.c  |    5 +++++
 tools/qfcc/source/idstuff.c   |    6 +++---
 5 files changed, 30 insertions(+), 12 deletions(-)

commit 5157f66
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sat Feb 21 05:36:19 2004 +0000

    Fix a bunch of state leaks that made multitextured fullbrights smear the world.
    Now just have one (known) issue with bmodels with fullbright textures not
    rendering their base texture. Floating fullbrights are nifty!
    
    Also a number of optimizations, which need wider performance testing.

 include/QF/GL/qf_rsurf.h              |    2 +-
 libs/video/renderer/gl/gl_mod_alias.c |    9 +-
 libs/video/renderer/gl/gl_rmain.c     |   46 ++++++++--
 libs/video/renderer/gl/gl_rsurf.c     |  148 +++++++++++++++------------------
 libs/video/targets/vid_common_gl.c    |   26 +++++-
 5 files changed, 138 insertions(+), 93 deletions(-)

commit 6e6df34
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Feb 21 05:09:02 2004 +0000

    move the ucmd message code into a common qw lib (more will likely follow)

 configure.ac            |    1 +
 include/qw/msg_ucmd.h   |   38 +++++
 libs/Makefile.am        |    3 +-
 libs/qw/.gitignore      |    9 ++
 libs/qw/Makefile.am     |    8 +
 libs/qw/msg_ucmd.c      |  133 +++++++++++++++++
 qtv/include/Makefile.am |    2 +-
 qtv/include/client.h    |    9 +-
 qtv/include/qtv.h       |   53 +++++++
 qtv/source/Makefile.am  |    1 +
 qtv/source/client.c     |  380 +++++++++++++++++++++++++++++++++++++++++++++--
 qtv/source/qtv.c        |  136 ++++++-----------
 qw/include/Makefile.am  |    2 +-
 qw/include/msg_ucmd.h   |   38 -----
 qw/source/Makefile.am   |    4 +-
 qw/source/cl_ents.c     |    3 +-
 qw/source/cl_input.c    |    3 +-
 qw/source/msg_ucmd.c    |    5 +-
 qw/source/sv_ents.c     |    3 +-
 qw/source/sv_user.c     |    3 +-
 20 files changed, 681 insertions(+), 153 deletions(-)

commit 551c7ee
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Feb 21 04:23:00 2004 +0000

    Grievre's patch to makes R_MarkLights and R_RecursiveMarkLights use the
    same function for actual marking.. which reduces code redundancy and fixes
    the fact that world submodels

 libs/video/renderer/r_light.c |  149 ++++++++++++++++-------------------------
 1 file changed, 57 insertions(+), 92 deletions(-)

commit 1033f7e
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Feb 21 02:31:22 2004 +0000

    move qw/include/protocol.h to include/qw/protocol.h making life easier
    
    qtv can now connect to a server (won't stay connected though)

 include/Makefile.am       |    2 +
 include/qw/protocol.h     |  322 +++++++++++++++++++++++++++++++++++++++++++++
 qtv/include/connection.h  |    7 +-
 qtv/include/server.h      |    4 +
 qtv/source/client.c       |    2 +-
 qtv/source/connection.c   |   20 +--
 qtv/source/qtv.c          |   46 +++++--
 qtv/source/server.c       |  123 ++++++++++++++++-
 qw/include/Makefile.am    |    2 +-
 qw/include/cl_cam.h       |    2 +-
 qw/include/cl_demo.h      |    2 +-
 qw/include/cl_input.h     |    2 +-
 qw/include/client.h       |    2 +-
 qw/include/pmove.h        |    2 +-
 qw/include/protocol.h     |  322 ---------------------------------------------
 qw/include/server.h       |    2 +-
 qw/source/cl_parse.c      |    2 +-
 qw/source/master.c        |    2 +-
 qw/source/msg_ucmd.c      |    2 +-
 qw/source/net_packetlog.c |    4 +-
 qw/source/sv_user.c       |    2 +-
 21 files changed, 512 insertions(+), 362 deletions(-)

commit e021afd
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Feb 21 01:34:59 2004 +0000

    remove some more arbitrary limits: tokens and keys can now be any size

 tools/qfbsp/source/map.c |   98 +++++++++++++++++++++-------------------------
 1 file changed, 45 insertions(+), 53 deletions(-)

commit 1cd0ba3
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Fri Feb 20 22:50:47 2004 +0000

    Pale void.

 libs/video/renderer/gl/gl_mod_alias.c  |    1 -
 libs/video/renderer/gl/noisetextures.c |    8 ++++----
 2 files changed, 4 insertions(+), 5 deletions(-)

commit f4a06f3
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Feb 20 20:35:13 2004 +0000

    fix a blooper discovered by nano

 qw/source/sv_user.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f94b0b3
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Feb 20 05:37:47 2004 +0000

    clients can now connect, but all that happens is the qtv console fills up
    with "hi"

 qtv/include/Makefile.am |    2 +-
 qtv/include/client.h    |   47 +++++++++++++++++++++++++++
 qtv/source/Makefile.am  |    2 +-
 qtv/source/client.c     |   82 +++++++++++++++++++++++++++++++++++++++++++++++
 qtv/source/qtv.c        |   79 +++++++++++++++++++++++++++++++++++++++++++--
 5 files changed, 207 insertions(+), 5 deletions(-)

commit 60d2cd1
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Feb 20 04:29:03 2004 +0000

    now responds to ping and status commands via connectionless packets

 qtv/include/Makefile.am  |    2 +-
 qtv/include/connection.h |   48 +++++++++++++
 qtv/source/Makefile.am   |    2 +-
 qtv/source/connection.c  |  110 ++++++++++++++++++++++++++++
 qtv/source/qtv.c         |  179 +++++++++++++++++++++++++++++++++++++++++++++-
 5 files changed, 338 insertions(+), 3 deletions(-)

commit e303db1
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Feb 20 02:39:34 2004 +0000

    start working on server connections. can add, list and delete servers

 qtv/include/Makefile.am |    2 +-
 qtv/include/server.h    |   45 +++++++++++++++
 qtv/source/Makefile.am  |    2 +-
 qtv/source/qtv.c        |   12 ++++
 qtv/source/server.c     |  140 +++++++++++++++++++++++++++++++++++++++++++++++
 5 files changed, 199 insertions(+), 2 deletions(-)

commit ac67a50
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Feb 20 00:25:08 2004 +0000

    handle x % 0 by giving a 0 result

 libs/gamecode/engine/pr_exec.c |    5 +++++
 1 file changed, 5 insertions(+)

commit 1a28ee2
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Feb 19 23:38:48 2004 +0000

    read the config files

 qtv/source/qtv.c |   19 +++++++++++++++++++
 1 file changed, 19 insertions(+)

commit 2262d02
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Feb 19 23:11:15 2004 +0000

    disable logging for outgoing packets until I come up with a clean way of
    enabling it

 include/netchan.h |    2 ++
 qtv/source/qtv.c  |    5 -----
 2 files changed, 2 insertions(+), 5 deletions(-)

commit 0e1a9e5
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Feb 19 23:06:47 2004 +0000

    a bit more netchan cleanup

 include/netchan.h   |    1 +
 libs/net/net_chan.c |   19 ++++++++++---------
 qtv/source/qtv.c    |    3 ---
 qw/source/cl_main.c |    1 +
 qw/source/sv_main.c |    1 +
 5 files changed, 13 insertions(+), 12 deletions(-)

commit 029257f
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Feb 19 22:29:50 2004 +0000

    nuke an is_server

 libs/net/nc/net_udp.c |    8 ++------
 1 file changed, 2 insertions(+), 6 deletions(-)

commit 1ac6318
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Feb 19 22:18:32 2004 +0000

    fix a windows build issue

 configure.ac |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit fa58b79
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Feb 19 08:58:42 2004 +0000

    except for packet logging, netchan is much cleaner (no more cls in the
    server!)

 include/netchan.h      |    8 +++++++-
 libs/net/net_chan.c    |   31 ++++++++++++-------------------
 qtv/source/qtv.c       |    6 ------
 qw/source/cl_demo.c    |    4 +++-
 qw/source/cl_main.c    |    8 +-------
 qw/source/sv_main.c    |   11 +----------
 qw/source/sv_pr_cmds.c |    2 +-
 qw/source/sv_user.c    |    1 +
 8 files changed, 26 insertions(+), 45 deletions(-)

commit 35e29b8
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Feb 19 01:29:08 2004 +0000

    qf-client and qf-server haven't existed for a /long/ time

 qw/source/Makefile.am |   10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit 056b756
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Feb 19 00:49:34 2004 +0000

    console and netchan linked in (icky mess with netchan:/).

 qtv/source/qtv.c |  152 +++++++++++++++++++++++++++++++++++++++++++++++++++++-
 1 file changed, 150 insertions(+), 2 deletions(-)

commit 6ae4b6f
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 18 23:21:11 2004 +0000

    get the QWTV (qtv) project going :)

 Makefile.am             |    2 +-
 configure.ac            |   13 +++++++++++-
 qtv/.gitignore          |    3 +++
 qtv/Makefile.am         |    4 ++++
 qtv/include/.gitignore  |    7 +++++++
 qtv/include/Makefile.am |    4 ++++
 qtv/source/.gitignore   |   15 ++++++++++++++
 qtv/source/Makefile.am  |   52 +++++++++++++++++++++++++++++++++++++++++++++++
 qtv/source/qtv.c        |    8 ++++++++
 9 files changed, 106 insertions(+), 2 deletions(-)

commit 8069bec
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 18 06:28:37 2004 +0000

    pkgincludedir and pkglibdir patch from
    "Alexey I. Froloff" <sir_raorn@immo.ru> (raorn)

 include/QF/Makefile.am      |    4 ++--
 ruamoko/gui/Makefile.am     |    4 ++--
 ruamoko/include/Makefile.am |    4 ++--
 ruamoko/lib/Makefile.am     |    4 ++--
 4 files changed, 8 insertions(+), 8 deletions(-)

commit e5ae0b4
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 18 03:19:57 2004 +0000

    needed EXPORT in both ends if the #if/#else/#endif

 libs/util/sys_ia32.S |    1 +
 1 file changed, 1 insertion(+)

commit 768de2d
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 17 05:12:50 2004 +0000

    work with progs that use @self instead of self

 nq/source/sv_progs.c |   16 +++++++++++++++-
 qw/source/sv_progs.c |   16 +++++++++++++++-
 2 files changed, 30 insertions(+), 2 deletions(-)

commit 46a3f91
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 17 04:29:26 2004 +0000

    check if the physent bbox (if there is one available) interects with the
    bbox of the move and don't bother calling PM_RecursiveHullCheck if it
    doesn't. Results in PM_RecursiveHullCheck getting about 5% of the calls it
    used to (for overkill).

 qw/source/pmovetst.c |   31 +++++++++++++++++++++++++++++--
 1 file changed, 29 insertions(+), 2 deletions(-)

commit 526605c
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 17 00:47:17 2004 +0000

    Grievre's patch to fix the sound channel leak.

 nq/source/cl_parse.c |   14 ++++++--------
 nq/source/sv_ded.c   |   10 ----------
 nq/source/sv_main.c  |    3 ---
 3 files changed, 6 insertions(+), 21 deletions(-)

commit 0360859
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 17 00:39:21 2004 +0000

    all warnings (except for @self and self) are now fully controllable

 tools/qfcc/include/options.h |    6 +++
 tools/qfcc/source/class.c    |   19 +++++---
 tools/qfcc/source/def.c      |    4 +-
 tools/qfcc/source/emit.c     |   23 +++++----
 tools/qfcc/source/expr.c     |   49 ++++++++++++-------
 tools/qfcc/source/method.c   |    2 +-
 tools/qfcc/source/options.c  |  111 ++++++++++++++++++++++++++----------------
 7 files changed, 138 insertions(+), 76 deletions(-)

commit 825e1f8
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 16 07:17:48 2004 +0000

    partially reworked PM_RecursiveHullCheck on the path to non-recursive.
    Doesn't seem to be any slower than the old version (still there for now,
    but not used) and might even be slightly faster already even though there's
    not difference in call counts. Committing this now so I don't lose my work
    (mostly to me getting frustrated and killing it:)

 qw/source/pmovetst.c |  134 +++++++++++++++++++++++++++++++++++++++++++-------
 1 file changed, 117 insertions(+), 17 deletions(-)

commit 79689ba
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sun Feb 15 19:56:28 2004 +0000

    Grievre's crash fix.

 libs/video/renderer/gl/gl_rsurf.c |    7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

commit e431293
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sun Feb 15 19:55:59 2004 +0000

    Slightly reorder cases for legibility. (decreasing order instead of random).

 libs/video/renderer/gl/gl_lightmap.c |   44 +++++++++++++++++-----------------
 1 file changed, 22 insertions(+), 22 deletions(-)

commit 2d2173d
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Feb 15 03:46:55 2004 +0000

    make R_RecursiveWorldNode non-recursive (needs a new name, now :). 0.4%
    speedup in null-renderer gl: unknown for sw and sw32 (could be slightly
    slower, left recursive version in but #if 0ed out jic)

 libs/video/renderer/gl/gl_rsurf.c    |  116 ++++++++++++++++--------
 libs/video/renderer/sw/sw_rbsp.c     |  163 +++++++++++++++++++++++++++++++++-
 libs/video/renderer/sw32/sw32_rbsp.c |  163 +++++++++++++++++++++++++++++++++-
 3 files changed, 404 insertions(+), 38 deletions(-)

commit 6642686
Author: Chris Ison <cisos@bigpond.net.au>
Date:   Sun Feb 15 03:40:50 2004 +0000

    removal of legacy MGL block_drawing variable. Fixed window restore bug that prevented the screen from being updated.

 include/QF/screen.h                |    2 --
 include/r_screen.h                 |    2 --
 libs/video/renderer/gl/gl_screen.c |    2 +-
 libs/video/renderer/r_screen.c     |    2 --
 libs/video/renderer/sw/screen.c    |    2 +-
 libs/video/renderer/sw32/screen.c  |    2 +-
 libs/video/targets/in_win.c        |    2 ++
 libs/video/targets/vid_wgl.c       |    2 +-
 nq/source/sys_win.c                |    3 +--
 qw/source/cl_sys_win.c             |    2 +-
 10 files changed, 8 insertions(+), 13 deletions(-)

commit fef9b30
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sun Feb 15 00:02:04 2004 +0000

    QF, now complete with underbrights, thanks to Grievre.
    Play with gl_overbright and gl_doublebright. That's an order.

 include/QF/GL/extensions.h            |   40 +++++++
 include/QF/GL/qf_vid.h                |    1 +
 include/r_cvar.h                      |    4 +
 libs/video/renderer/gl/gl_lightmap.c  |  195 ++++++++++++++++++++++++++++-----
 libs/video/renderer/gl/gl_rsurf.c     |  113 ++++++++++++-------
 libs/video/renderer/r_cvar.c          |    5 +
 libs/video/renderer/sw/sw_rmain.c     |    5 +
 libs/video/renderer/sw32/sw32_rmain.c |    5 +
 libs/video/targets/vid_common_gl.c    |   31 ++++++
 9 files changed, 330 insertions(+), 69 deletions(-)

commit 0dae958
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sat Feb 14 19:17:51 2004 +0000

    Grievre's fix for texture state leak.

 libs/video/renderer/gl/gl_rsurf.c |   14 +++++++++-----
 1 file changed, 9 insertions(+), 5 deletions(-)

commit b5b61d0
Author: Timothy C. McGrath <misty-chan@users.sourceforge.net>
Date:   Sat Feb 14 08:36:08 2004 +0000

    Grievre passed a one line patch to me which according to his description:
    "Fixes a bug in dynamic lights (lightstyles weren't being rendered correctly
    due to bad assumptions about dlightbits)"
    
    It compiles fine, and seems to work, so, here it is.
    
    Hikaru

 libs/video/renderer/gl/gl_rsurf.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d1904fe
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Feb 14 08:05:54 2004 +0000

    hopefully fix nq segging on windows

 libs/util/sys_ia32.S |    1 +
 1 file changed, 1 insertion(+)

commit 64c1566
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Feb 14 07:53:49 2004 +0000

    should fix the seg on ^C early in the startup

 libs/video/targets/in_x11.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d35f027
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Feb 14 07:39:43 2004 +0000

    undo my incorrect commit

 libs/video/renderer/gl/gl_lightmap.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 0e8ba7c
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Feb 14 07:38:01 2004 +0000

    oops, committed the wrong file

 libs/video/renderer/r_light.c |    2 ++
 1 file changed, 2 insertions(+)

commit 2cdf12c
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Feb 14 07:32:26 2004 +0000

    if a leaf isn't in the frustum, don't bother lighting it

 libs/video/renderer/gl/gl_lightmap.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 82bc305
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Feb 14 05:33:34 2004 +0000

    oops, needed menu_draw_hud. don't need the state stuff any more, though :)

 ruamoko/cl_menu/client_menu.qc |    9 ++++-----
 1 file changed, 4 insertions(+), 5 deletions(-)

commit 85a268c
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Feb 14 05:10:29 2004 +0000

    Grievre's lightmap/fullbright multitexture patch (fbs not tested due to
    lack of drivers supporting 3 tmus)

 include/QF/GL/qf_vid.h               |    1 +
 libs/video/renderer/gl/gl_lightmap.c |   37 ++++----
 libs/video/renderer/gl/gl_rsurf.c    |  157 +++++++++++++++++++++++++++++-----
 libs/video/targets/vid_common_gl.c   |   31 +++++--
 4 files changed, 175 insertions(+), 51 deletions(-)

commit c493a82
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Feb 14 05:02:25 2004 +0000

    more cleanup

 ruamoko/cl_menu/Makefile.am       |    6 ++----
 ruamoko/cl_menu/hud_interface.qc  |   11 -----------
 ruamoko/cl_menu/inputline_util.qc |   27 ---------------------------
 3 files changed, 2 insertions(+), 42 deletions(-)

commit 98ccba6
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Feb 14 04:51:08 2004 +0000

    not needed

 ruamoko/cl_menu/console.qc |   90 --------------------------------------------
 1 file changed, 90 deletions(-)

commit 1207b44
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Feb 14 04:35:59 2004 +0000

    whitespace

 ruamoko/cl_menu/controls_o.qc |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 7900483
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Feb 14 04:01:36 2004 +0000

    control options "done"

 ruamoko/cl_menu/options.qc |   55 ++++++++++++++++++++++++++------------------
 1 file changed, 33 insertions(+), 22 deletions(-)

commit 3f44dfa
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Feb 14 03:18:53 2004 +0000

    control options menu almost done (yay for oo:)

 ruamoko/cl_menu/options.qc      |   45 ++++++++++++++-------------------------
 ruamoko/cl_menu/options_util.h  |    6 ++++++
 ruamoko/cl_menu/options_util.qc |   34 ++++++++++++++++++++++++++++-
 3 files changed, 55 insertions(+), 30 deletions(-)

commit 103299e
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Feb 14 02:56:29 2004 +0000

    rename Cvar_GetCvarString to Cvar_GetString and add
    Cvar_Set{String,Float,Integer,Vector} and
    Cvar_Get{String,Float,Integer,Vector}. use them in the menus

 libs/ruamoko/rua_cvar.c         |  101 +++++++++++++++++++++++++++++++++++----
 ruamoko/cl_menu/options.qc      |   50 ++++++++-----------
 ruamoko/cl_menu/options_util.qc |   30 ++++++------
 ruamoko/include/cvar.h          |    9 +++-
 ruamoko/lib/cvar.r              |    9 +++-
 5 files changed, 143 insertions(+), 56 deletions(-)

commit 0e147a7
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Feb 14 02:09:18 2004 +0000

    video options "done"

 ruamoko/cl_menu/options.qc      |   68 ++++++++++++++++++++++-----------------
 ruamoko/cl_menu/options_util.h  |   14 ++++++++
 ruamoko/cl_menu/options_util.qc |   37 +++++++++++++++++++++
 ruamoko/include/draw.h          |    1 +
 ruamoko/lib/draw.r              |    1 +
 5 files changed, 91 insertions(+), 30 deletions(-)

commit a97b722
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Feb 14 00:18:22 2004 +0000

    get the placement of the nice crosshairs right. make cs_data a square to
    avoid weird mapping effects

 libs/video/renderer/gl/gl_draw.c |   43 +++++++++++++++++++++++++-------------
 1 file changed, 29 insertions(+), 14 deletions(-)

commit f34335a
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Feb 13 23:16:33 2004 +0000

    provide a builtin to draw a crosshair.

 include/QF/draw.h                |    1 +
 libs/video/renderer/gl/gl_draw.c |   33 ++++++++++++++++++++-------------
 libs/video/renderer/r_progs.c    |   11 +++++++++++
 libs/video/renderer/sw/draw.c    |   36 ++++++++++++++++++++++--------------
 libs/video/renderer/sw32/draw.c  |   35 +++++++++++++++++++++--------------
 5 files changed, 75 insertions(+), 41 deletions(-)

commit efb52dc
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Feb 13 23:08:22 2004 +0000

    don't seg on null field names

 tools/qfcc/source/struct.c |    8 +++++---
 1 file changed, 5 insertions(+), 3 deletions(-)

commit 4cabb40
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Feb 13 22:16:53 2004 +0000

    break the crosshair draw code into separate functions and give sw and sw32
    crosshair 3

 libs/video/renderer/gl/gl_draw.c |  102 ++++++++++++++++++++++++--------------
 libs/video/renderer/sw/draw.c    |   69 +++++++++++++++++++-------
 libs/video/renderer/sw32/draw.c  |   69 +++++++++++++++++++-------
 3 files changed, 169 insertions(+), 71 deletions(-)

commit fec7423
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Feb 13 06:42:51 2004 +0000

    player options are now grouped

 ruamoko/cl_menu/options.qc      |  116 +++++++++++++++++++++++++--------------
 ruamoko/cl_menu/options_util.h  |   23 +++++++-
 ruamoko/cl_menu/options_util.qc |   70 +++++++++++++++++++++--
 3 files changed, 161 insertions(+), 48 deletions(-)

commit 0e34eab
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Feb 13 05:49:43 2004 +0000

    network options are now in a group

 ruamoko/cl_menu/options.qc |   49 ++++++++++++++++++++++++++++++--------------
 ruamoko/gui/InputLine.r    |    4 ++--
 2 files changed, 36 insertions(+), 17 deletions(-)

commit 8978d1c
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Feb 13 05:36:35 2004 +0000

    make an inputline with a text box behind it

 ruamoko/cl_menu/client_menu.qc  |   12 +++---
 ruamoko/cl_menu/options.qc      |   20 +++++-----
 ruamoko/cl_menu/servlist.qc     |    3 +-
 ruamoko/gui/Group.r             |    1 +
 ruamoko/gui/InputLine.r         |   78 ++++++++++++++++++++++++++++++++++++---
 ruamoko/gui/Pic.r               |    1 +
 ruamoko/gui/Text.r              |    1 +
 ruamoko/gui/View.r              |    2 +-
 ruamoko/include/gui/InputLine.h |   20 ++++++++--
 9 files changed, 111 insertions(+), 27 deletions(-)

commit 865b31c
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Feb 13 04:57:15 2004 +0000

    make sure messages generated by issues within a function don't get
    "At top level"

 tools/qfcc/source/qc-parse.y |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit b6c2320
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Feb 13 04:46:50 2004 +0000

    change --include FILE to pre-include a file rather than add a directory search
    path. Maps to -include FILE on the cpp command line.

 tools/qfcc/doc/man/qfcc.1   |    6 ++++-
 tools/qfcc/source/options.c |   62 +++++++++++++------------------------------
 2 files changed, 23 insertions(+), 45 deletions(-)

commit ac57723
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Feb 13 02:53:13 2004 +0000

    audio and features options menus are now almost fully object-ized (as
    close as they're going to get until everything else is)

 ruamoko/cl_menu/options.qc |   86 ++++++++++++++++++++++++++++++--------------
 1 file changed, 59 insertions(+), 27 deletions(-)

commit e3a393d
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Feb 13 02:52:14 2004 +0000

    add Pic and CenterPic views

 ruamoko/gui/Makefile.am     |    2 +-
 ruamoko/gui/Pic.r           |   33 +++++++++++++++++++++++++++++++++
 ruamoko/include/Makefile.am |    2 +-
 ruamoko/include/gui/Pic.h   |   18 ++++++++++++++++++
 4 files changed, 53 insertions(+), 2 deletions(-)

commit e472364
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Feb 13 02:51:38 2004 +0000

    call [self init] rather than [super init] (and variants where possible) to
    ease derived class initialization (all allocation can be done in -init).
    Objective-C rocks :)

 ruamoko/gui/Group.r         |    5 +++--
 ruamoko/gui/Point.r         |    4 ++--
 ruamoko/gui/Rect.r          |    6 +++---
 ruamoko/gui/Size.r          |    4 ++--
 ruamoko/gui/Slider.r        |    2 +-
 ruamoko/gui/Text.r          |   17 +++++++++++------
 ruamoko/gui/View.r          |    1 +
 ruamoko/include/gui/Group.h |    1 -
 8 files changed, 23 insertions(+), 17 deletions(-)

commit de56731
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Feb 13 01:21:17 2004 +0000

    fix a typo

 ruamoko/cl_menu/options.qc |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c5789ff
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Feb 13 00:21:51 2004 +0000

    more object usage

 ruamoko/cl_menu/options.qc |   99 ++++++++++++++++++++++++++++++--------------
 1 file changed, 67 insertions(+), 32 deletions(-)

commit 7ed77fd
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Feb 12 21:58:52 2004 +0000

    ignore pdf files

 tools/qfcc/doc/.gitignore |    1 +
 1 file changed, 1 insertion(+)

commit 69730ca
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Feb 12 01:37:27 2004 +0000

    fix some type classes in older bison

 tools/qfcc/source/qc-parse.y |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 02d89ee
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 11 08:09:10 2004 +0000

    allow computed functions for "think" in state expressions

 tools/qfcc/source/qc-parse.y |   33 ++++++++++++++++++++++-----------
 1 file changed, 22 insertions(+), 11 deletions(-)

commit a821f04
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 11 06:52:19 2004 +0000

    change FNC to FN and fnc to fn for function based opcodes

 include/QF/pr_comp.h             |   22 +++++++++++-----------
 libs/gamecode/engine/pr_exec.c   |   22 +++++++++++-----------
 libs/gamecode/engine/pr_opcode.c |   22 +++++++++++-----------
 3 files changed, 33 insertions(+), 33 deletions(-)

commit 1c090c3
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 11 04:00:11 2004 +0000

    allow non-const expressions for the frame number and make sure the time
    step is a float (for state expressions)

 tools/qfcc/source/qc-parse.y |   13 +++++++++++--
 1 file changed, 11 insertions(+), 2 deletions(-)

commit afdbd90
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 11 02:23:40 2004 +0000

    some tests I've accumulated over time. don't want to lose them accidently
    :)

 tools/qfcc/test/base.r         |    4 +
 tools/qfcc/test/bool.r         |   10 +
 tools/qfcc/test/chat.r         |  410 +++++++++++++++++++++++
 tools/qfcc/test/convert.r      |    9 +
 tools/qfcc/test/debug.r        |   21 ++
 tools/qfcc/test/defs.h         |  724 ++++++++++++++++++++++++++++++++++++++++
 tools/qfcc/test/fold.r         |   10 +
 tools/qfcc/test/foo.r          |   13 +
 tools/qfcc/test/func.r         |    8 +
 tools/qfcc/test/libfrikbot.h   |  318 ++++++++++++++++++
 tools/qfcc/test/membarray.r    |   59 ++++
 tools/qfcc/test/message.r      |    8 +
 tools/qfcc/test/offset.r       |   12 +
 tools/qfcc/test/prec.qc        |   29 ++
 tools/qfcc/test/precedence.r   |    9 +
 tools/qfcc/test/progs.src      |    3 +
 tools/qfcc/test/selector.r     |    4 +
 tools/qfcc/test/semi.r         |   11 +
 tools/qfcc/test/shortcircuit.r |    9 +
 tools/qfcc/test/state.r        |    3 +
 tools/qfcc/test/switch.r       |   35 ++
 tools/qfcc/test/test.qc        |   41 +++
 tools/qfcc/test/test.r         |   12 +
 23 files changed, 1762 insertions(+)

commit 0fe4c2a
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 11 01:53:17 2004 +0000

    catch redefined functions

 tools/qfcc/source/function.c |    4 ++++
 tools/qfcc/source/qc-parse.y |    2 ++
 2 files changed, 6 insertions(+)

commit c3f41e3
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 11 01:43:33 2004 +0000

    new opcode: state.f. same as state, but takes a 3rd float operand to
    specify the step for calculating nextthink. accessed using
    [frame, think, step] (state is [frame, think])

 include/QF/pr_comp.h             |    1 +
 libs/gamecode/engine/pr_exec.c   |    7 ++++++
 libs/gamecode/engine/pr_opcode.c |   12 +++++++++--
 tools/qfcc/include/expr.h        |    9 ++++++++
 tools/qfcc/include/opcodes.h     |    1 +
 tools/qfcc/source/emit.c         |   26 +++++++++++++++-------
 tools/qfcc/source/expr.c         |   44 ++++++++++++++++++++++++++++++--------
 tools/qfcc/source/opcodes.c      |    6 +++++-
 tools/qfcc/source/qc-parse.y     |   11 +++++++---
 9 files changed, 94 insertions(+), 23 deletions(-)

commit 1fc517f
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 11 00:36:34 2004 +0000

    C style functions can now (optionally) be used (void foo ();)

 tools/qfcc/include/function.h |    2 ++
 tools/qfcc/source/function.c  |   14 ++++++++++
 tools/qfcc/source/qc-parse.y  |   58 +++++++++++++++++++++++++++--------------
 3 files changed, 54 insertions(+), 20 deletions(-)

commit e2602bc
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 10 23:49:45 2004 +0000

    fix misparse of void () foo;

 tools/qfcc/source/qc-parse.y |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 7af8f8a
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 10 23:20:44 2004 +0000

    ; at the end of a function is no longer required. void () foo = {} and
    void () foo = {}; are both valid now.

 tools/qfcc/source/qc-parse.y |   77 ++++++++++++++++++++++++++++++------------
 1 file changed, 55 insertions(+), 22 deletions(-)

commit 5c9ffad
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 10 04:42:17 2004 +0000

    oops, fix the line number doubling the /right/ way

 libs/gamecode/engine/pr_debug.c |    6 ++----
 libs/gamecode/engine/pr_edict.c |    4 +++-
 2 files changed, 5 insertions(+), 5 deletions(-)

commit 6e4c647
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 10 03:25:24 2004 +0000

    getting closer to optional ; at the end of functions. also gets rid of the
    need for the context-sensitivity hack used for distinquishing frunction
    inits from struct/array inits

 tools/qfcc/source/qc-lex.l   |    5 ----
 tools/qfcc/source/qc-parse.y |   57 ++++++++++++++++++++++++------------------
 2 files changed, 33 insertions(+), 29 deletions(-)

commit a371af7
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 10 01:54:33 2004 +0000

    don't double the source line number when on the function's first line

 libs/gamecode/engine/pr_debug.c |    1 -
 1 file changed, 1 deletion(-)

commit 2b8fc38
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Mon Feb 9 16:51:06 2004 +0000

    Fix an ypo. ;)

 tools/qfcc/doc/man/qfcc.1 |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 761831f
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 9 07:53:05 2004 +0000

    fix a misleading var name and make WriteBytes resemble qw's WriteBytes more
    closely

 nq/source/sv_pr_cmds.c |    9 +++++----
 1 file changed, 5 insertions(+), 4 deletions(-)

commit ddc44f3
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 9 07:35:19 2004 +0000

    compress the 4 method building rules into 2

 tools/qfcc/source/qc-parse.y |   43 +++++++++---------------------------------
 1 file changed, 9 insertions(+), 34 deletions(-)

commit 3f27042
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 9 07:17:44 2004 +0000

    forgot to look after current_storage with methods

 tools/qfcc/source/qc-parse.y |   30 ++++++++++++++++--------------
 1 file changed, 16 insertions(+), 14 deletions(-)

commit 528bc8a
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 9 06:55:13 2004 +0000

    bring in WriteBytes, WriteAngleV and WriteCoordV from qw

 nq/source/sv_pr_cmds.c |   35 ++++++++++++++++++++++++++++++++++-
 1 file changed, 34 insertions(+), 1 deletion(-)

commit d599b65
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Mon Feb 9 04:16:59 2004 +0000

    Palespace.

 qw/source/cl_parse.c |    2 +-
 qw/source/sv_ents.c  |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 88c5d21
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Mon Feb 9 04:13:44 2004 +0000

    Whitespace, slight code reorder in gl_rmain.c

 libs/video/renderer/gl/gl_rmain.c  |    6 +++---
 libs/video/renderer/gl/gl_screen.c |    2 ++
 2 files changed, 5 insertions(+), 3 deletions(-)

commit 372b763
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Mon Feb 9 04:11:13 2004 +0000

    Inconsequential changes.

 libs/video/targets/context_x11.c |   12 +++++-------
 1 file changed, 5 insertions(+), 7 deletions(-)

commit 654cc35
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Mon Feb 9 04:02:08 2004 +0000

    Mysteriously uncommitted. Fixed.

 libs/video/targets/vid_common_gl.c |    5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 1181fb2
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 9 02:23:37 2004 +0000

    don't seg when constants are involved in && or || expressions

 tools/qfcc/source/expr.c |    8 ++++++++
 1 file changed, 8 insertions(+)

commit 499dac6
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Feb 8 23:46:40 2004 +0000

    step one towards more flexible function declarations

 tools/qfcc/source/qc-parse.y |   63 +++++++++++++++++++++++++-----------------
 1 file changed, 37 insertions(+), 26 deletions(-)

commit f70605f
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Feb 8 05:28:30 2004 +0000

    ensure a op= b treats b as if it was (b)

 tools/qfcc/source/expr.c |    1 +
 1 file changed, 1 insertion(+)

commit 527342d
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sun Feb 8 02:53:58 2004 +0000

    Whitespace, codingstyle, pouncing shalraths.

 tools/qfvis/source/base-vis.c |    8 ++++----
 tools/qfvis/source/flow.c     |   12 ++++++------
 tools/qfvis/source/qfvis.c    |   22 +++++++++-------------
 tools/qfvis/source/soundphs.c |   10 +++++-----
 4 files changed, 24 insertions(+), 28 deletions(-)

commit c4402e0
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sun Feb 8 02:49:38 2004 +0000

    Working towards merging q2 model, sprite, and map support. Check back in a few
    years, might be finished. ;)

 include/QF/bspfile.h                   |    9 ++---
 include/QF/model.h                     |   15 +++++----
 include/QF/modelgen.h                  |   14 +++++---
 include/QF/qtypes.h                    |    7 ++--
 include/QF/spritegn.h                  |   11 ++++--
 libs/models/alias/model_alias.c        |   17 +++++-----
 libs/models/model.c                    |   58 ++++++++++++++++----------------
 libs/models/sprite/model_sprite.c      |    4 +--
 libs/video/renderer/gl/gl_mod_alias.c  |   17 +++++-----
 libs/video/renderer/sw/sw_ralias.c     |   42 ++++++++++-------------
 libs/video/renderer/sw32/sw32_ralias.c |    4 +--
 tools/qfmodelgen/source/modelgen.c     |   15 ++++-----
 12 files changed, 110 insertions(+), 103 deletions(-)

commit 6880b42
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sun Feb 8 02:39:44 2004 +0000

    More improvements from ashridah.

 libs/audio/cd/cd_file.c |   19 ++++++++-----------
 1 file changed, 8 insertions(+), 11 deletions(-)

commit 8ea7690
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Feb 8 00:37:11 2004 +0000

    serious cleanup of refdef calculations.

 include/QF/render.h                   |    4 +-
 include/QF/screen.h                   |    1 +
 libs/video/renderer/gl/gl_rmisc.c     |    5 +++
 libs/video/renderer/gl/gl_screen.c    |   61 ---------------------------
 libs/video/renderer/r_screen.c        |   63 +++++++++++++++++++++++++++
 libs/video/renderer/sw/screen.c       |   75 ---------------------------------
 libs/video/renderer/sw/sw_rmain.c     |   53 +----------------------
 libs/video/renderer/sw/sw_rmisc.c     |   19 ++++-----
 libs/video/renderer/sw32/screen.c     |   75 ---------------------------------
 libs/video/renderer/sw32/sw32_rmain.c |   53 +----------------------
 libs/video/renderer/sw32/sw32_rmisc.c |   14 +++---
 11 files changed, 89 insertions(+), 334 deletions(-)

commit f6cac11
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Feb 7 07:50:11 2004 +0000

    another tidy-up patch from ashridah

 libs/audio/cd/cd_file.c |   34 ++++++----------------------------
 1 file changed, 6 insertions(+), 28 deletions(-)

commit 893d3ec
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Feb 7 07:47:23 2004 +0000

    hash.[ch]:
    	add Hash_NumElements to get the number of elements in the hash table
    qfplist.[ch]:
    	add PL_A_NumObjects and PL_D_NumKeys, to get the number of objects or
    	number of keys in the array or dictionary, respectively

 include/QF/hash.h    |    4 ++++
 include/QF/qfplist.h |   16 ++++++++++++++++
 libs/util/hash.c     |    6 ++++++
 libs/util/qfplist.c  |   16 ++++++++++++++++
 4 files changed, 42 insertions(+)

commit 85cd891
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Feb 7 07:00:25 2004 +0000

    loop cleanup patch from ashridah

 libs/audio/cd/cd_file.c |   18 +-----------------
 1 file changed, 1 insertion(+), 17 deletions(-)

commit 6342a9b
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Feb 7 06:21:57 2004 +0000

    comment fixups

 libs/audio/cd/cd_file.c |    5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

commit 6b2d5b6
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Feb 7 06:18:56 2004 +0000

    implement pause properly. works for me, hopefully for others

 libs/audio/cd/cd_file.c |   29 +++++++++++++++--------------
 1 file changed, 15 insertions(+), 14 deletions(-)

commit 9038ae2
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Feb 7 06:09:06 2004 +0000

    correct a couple function calls

 libs/audio/cd/cd_file.c |   10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit e4410cd
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sat Feb 7 05:56:49 2004 +0000

    Grr.

 libs/audio/cd/cd_file.c |   27 +++++++++------------------
 1 file changed, 9 insertions(+), 18 deletions(-)

commit eee61d2
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Feb 7 05:46:43 2004 +0000

    ashridah's cd info patch with some whitespace and string handling tweaks

 libs/audio/cd/cd_file.c |   55 ++++++++++++++++++++++++++++++++++++++++-------
 1 file changed, 47 insertions(+), 8 deletions(-)

commit 7ae804b
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sat Feb 7 05:35:15 2004 +0000

    Whitespace, codingstyle, clean out dead comments, redundant returns, and
    generally sanitize the cd plugins.

 libs/audio/cd/cd_file.c  |   74 ++++++----------------
 libs/audio/cd/cd_linux.c |   30 ++++-----
 libs/audio/cd/cd_sdl.c   |    6 +-
 libs/audio/cd/cd_sgi.c   |   22 +++----
 libs/audio/cd/cd_win.c   |   16 ++---
 libs/audio/cd/cd_xmms.c  |  154 ++++++++++++++++------------------------------
 6 files changed, 102 insertions(+), 200 deletions(-)

commit 5e3ea6c
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Sat Feb 7 04:48:36 2004 +0000

    strip a couple of unnecessary braces

 libs/audio/cd/cd_file.c |    3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit 8811dd5
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Sat Feb 7 04:47:38 2004 +0000

    Misc. cleanups.

 libs/audio/cd/cd_file.c |   18 ++++++++----------
 1 file changed, 8 insertions(+), 10 deletions(-)

commit 432ae86
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Feb 7 01:57:31 2004 +0000

    don't seg if the field def can't be found

 libs/gamecode/engine/pr_debug.c |    5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit 920b80f
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Feb 7 00:19:51 2004 +0000

    fix a goofed hardcoding

 nq/source/sv_progs.c |    2 +-
 qw/source/sv_progs.c |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 9f56ee8
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Feb 7 00:10:39 2004 +0000

    arg, committed debug code again

 ruamoko/cl_menu/options_util.qc |    5 -----
 1 file changed, 5 deletions(-)

commit 51cd2fc
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Feb 7 00:09:50 2004 +0000

    most of the video menu now uses CvarToggle and CvarToggleView (and rename
    RangeSlider to CvarRangeView)

 ruamoko/cl_menu/options.qc      |  120 +++++++++++++++++++++------------------
 ruamoko/cl_menu/options_util.h  |   21 ++++++-
 ruamoko/cl_menu/options_util.qc |   71 ++++++++++++++++++++++-
 ruamoko/include/cvar.h          |    1 +
 ruamoko/lib/cvar.r              |    1 +
 5 files changed, 158 insertions(+), 56 deletions(-)

commit d1bf75d
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Feb 7 00:08:46 2004 +0000

    add Cvar_Toggle

 libs/ruamoko/rua_cvar.c |   14 ++++++++++++++
 1 file changed, 14 insertions(+)

commit ecf4eab
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Feb 7 00:04:00 2004 +0000

    check return value... prevents segfault in menu code if menu.dat has issues

 libs/gamecode/engine/pr_load.c |    6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit cad6fed
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Fri Feb 6 15:16:50 2004 +0000

    Whitespace and coding style.

 libs/audio/cd/cd_file.c |  195 ++++++++++++++++++++++-------------------------
 1 file changed, 91 insertions(+), 104 deletions(-)

commit 950a5b3
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Fri Feb 6 14:59:29 2004 +0000

    Updates from ashridah.

 libs/audio/cd/cd_file.c |   30 ++++++++++++++++++++++--------
 1 file changed, 22 insertions(+), 8 deletions(-)

commit bf59241
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Feb 6 08:58:19 2004 +0000

    give temp defs a name, making it easier to read disassembly output (.tmpN)

 tools/qfcc/source/def.c |   10 +++++++---
 1 file changed, 7 insertions(+), 3 deletions(-)

commit 1d800ca
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Feb 6 08:40:28 2004 +0000

    make autoconvertion work for return

 tools/qfcc/source/expr.c |    3 +++
 1 file changed, 3 insertions(+)

commit 080b973
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Feb 6 08:03:22 2004 +0000

    make globals without a def a lot easier to read (don't need to print the
    address twice:)

 libs/gamecode/engine/pr_debug.c |    5 +----
 1 file changed, 1 insertion(+), 4 deletions(-)

commit 50f83f7
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Feb 6 05:44:54 2004 +0000

    cleanup patch from ashridah
    basically, moves all the tracklist work into a single function, moves a few
    functions around, cleans up a few issues with things like reset, and whatnot

 libs/audio/cd/cd_file.c |  181 ++++++++++++++++++++++-------------------------
 1 file changed, 85 insertions(+), 96 deletions(-)

commit 7471354
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Feb 6 01:23:05 2004 +0000

    <==> QuakeForge initialized<==> to <==> QuakeForge initialized <==>

 nq/source/host.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a45981b
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Feb 6 00:58:35 2004 +0000

    don't look up the gl functions until after the context has been setup, just
    incase it affects which functions glGetProcAddress actually returns.

 include/QF/GL/funcs.h              |    1 +
 include/QF/vid.h                   |    1 -
 libs/video/targets/qfgl_ext.c      |    5 +++++
 libs/video/targets/vid_3dfxsvga.c  |    2 +-
 libs/video/targets/vid_common_gl.c |   10 +---------
 libs/video/targets/vid_glx.c       |   16 +++++++---------
 libs/video/targets/vid_sgl.c       |    2 +-
 libs/video/targets/vid_wgl.c       |    2 +-
 8 files changed, 17 insertions(+), 22 deletions(-)

commit 3f91157
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Feb 5 23:46:21 2004 +0000

    a little easier to read

 tools/bsp2img/bsp2img.c |  370 ++++++++++++++++++++---------------------------
 1 file changed, 157 insertions(+), 213 deletions(-)

commit 3764497
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Feb 5 04:11:39 2004 +0000

    various impovements from Vic via hqbsp (lordhavoc)

 tools/qfbsp/source/outside.c  |   17 ++++++-----------
 tools/qfbsp/source/portals.c  |   41 ++++++++++++++++++++++++++++++++++++++---
 tools/qfbsp/source/solidbsp.c |   18 ------------------
 tools/qfbsp/source/tjunc.c    |   41 +++++++++++++++++++++++++++--------------
 tools/qfbsp/source/writebsp.c |    1 +
 5 files changed, 72 insertions(+), 46 deletions(-)

commit 6ec1cfe
Author: Chris Ison <cisos@bigpond.net.au>
Date:   Thu Feb 5 03:27:35 2004 +0000

    win32 fix for over-compliant getopt

 tools/qfcc/source/qfcc.c |    6 ++++++
 1 file changed, 6 insertions(+)

commit 22fe9de
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Feb 5 00:13:42 2004 +0000

    terminate buf properly (\r\n -> \n translation can cause the bytes read to
    be /much/ smaller than expected)

 tools/qfbsp/source/map.c |    8 +++++---
 1 file changed, 5 insertions(+), 3 deletions(-)

commit f4e0147
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 4 23:26:39 2004 +0000

    missed Slider.h

 ruamoko/include/Makefile.am |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 77d266d
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 4 07:36:47 2004 +0000

    use a little less make recursion. should speed up builds a bit

 configure.ac                   |    3 ---
 include/QF/GL/.gitignore       |    3 ---
 include/QF/GL/Makefile.am      |    6 ------
 include/QF/Makefile.am         |   18 +++++++++++++++---
 include/QF/classes/.gitignore  |    3 ---
 include/QF/classes/Makefile.am |    4 ----
 include/QF/plugin/.gitignore   |    3 ---
 include/QF/plugin/Makefile.am  |    3 ---
 8 files changed, 15 insertions(+), 28 deletions(-)

commit bc62043
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 4 07:14:00 2004 +0000

    now all range indicators use the RangeSlider view (need a better name:P)

 ruamoko/cl_menu/options.qc |   93 ++++++++++++++++----------------------------
 1 file changed, 34 insertions(+), 59 deletions(-)

commit c3d99b4
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 4 06:56:53 2004 +0000

    in_mouse_amp finally working properly :)
    forced to move to CMV for the indicator because I ran out of params...

 ruamoko/cl_menu/options.qc      |    6 ++--
 ruamoko/cl_menu/options_util.h  |   19 ++++++++---
 ruamoko/cl_menu/options_util.qc |   66 +++++++++++++++++++++++++++++----------
 3 files changed, 67 insertions(+), 24 deletions(-)

commit 8a14e30
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 4 06:41:07 2004 +0000

    cast block expressions

 tools/qfcc/source/constfold.c |    2 ++
 1 file changed, 2 insertions(+)

commit d02b068
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 4 06:31:12 2004 +0000

    don't seg if the method can't be found

 tools/qfcc/source/expr.c |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 61da478
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 4 06:00:45 2004 +0000

    these changes from earlier seem to be ok

 tools/qfcc/source/constfold.c |   21 +++++++++++++++++++--
 tools/qfcc/source/method.c    |    4 ----
 2 files changed, 19 insertions(+), 6 deletions(-)

commit c43950a
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 4 05:49:54 2004 +0000

    autoconvert for function parameters now works :)

 ruamoko/cl_menu/options.qc      |    9 +---
 ruamoko/cl_menu/options_util.qc |    2 +-
 tools/qfcc/source/expr.c        |  109 ++++++++++++++++++++-------------------
 3 files changed, 58 insertions(+), 62 deletions(-)

commit a128d71
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 4 05:45:17 2004 +0000

    install the gui headers properly

 ruamoko/include/Makefile.am |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 892e809
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 4 04:49:46 2004 +0000

    that made a royal mess :(

 ruamoko/cl_menu/options_util.qc |    2 +-
 tools/qfcc/include/method.h     |    2 +-
 tools/qfcc/source/constfold.c   |   21 ++-------------------
 tools/qfcc/source/expr.c        |   21 ++++++++-------------
 tools/qfcc/source/method.c      |   16 +++++++++-------
 5 files changed, 21 insertions(+), 41 deletions(-)

commit b2474a2
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 4 04:33:08 2004 +0000

    better auto-conversion of function parameters (ugh, this is getting messy
    :( )

 ruamoko/cl_menu/options_util.qc |    2 +-
 tools/qfcc/include/method.h     |    2 +-
 tools/qfcc/source/constfold.c   |   21 +++++++++++++++++++--
 tools/qfcc/source/expr.c        |   21 +++++++++++++--------
 tools/qfcc/source/method.c      |   16 +++++++---------
 5 files changed, 41 insertions(+), 21 deletions(-)

commit 237027d
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 4 02:35:57 2004 +0000

    moving towards object-ized menus :)

 ruamoko/cl_menu/options.qc      |   32 +++++++++-----------
 ruamoko/cl_menu/options_util.h  |   18 +++++++++++
 ruamoko/cl_menu/options_util.qc |   64 +++++++++++++++++++++++++++++++++++++++
 ruamoko/gui/Group.r             |   42 +++++++++++++++++++++++++
 ruamoko/gui/InputLine.r         |    7 +++--
 ruamoko/gui/Makefile.am         |    2 +-
 ruamoko/gui/Text.r              |   35 +++++++++++++++++++++
 ruamoko/gui/View.r              |   11 +++++--
 ruamoko/include/Array.h         |    2 +-
 ruamoko/include/Makefile.am     |    3 +-
 ruamoko/include/gui/Group.h     |   20 ++++++++++++
 ruamoko/include/gui/InputLine.h |   13 ++++----
 ruamoko/include/gui/Point.h     |    6 ++--
 ruamoko/include/gui/Rect.h      |    6 ++--
 ruamoko/include/gui/Size.h      |    6 ++--
 ruamoko/include/gui/Slider.h    |    6 ++--
 ruamoko/include/gui/Text.h      |   18 +++++++++++
 ruamoko/include/gui/View.h      |    9 +++---
 18 files changed, 253 insertions(+), 47 deletions(-)

commit f79e346
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 4 02:30:18 2004 +0000

    broke returning NIL

 tools/qfcc/source/expr.c |   14 +++++++++-----
 1 file changed, 9 insertions(+), 5 deletions(-)

commit ab4f0e7
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 4 01:30:12 2004 +0000

    warn on return foo (); where foo returns void

 tools/qfcc/source/expr.c     |    3 +++
 tools/qfcc/source/qc-parse.y |    4 ++--
 2 files changed, 5 insertions(+), 2 deletions(-)

commit fb9c3e6
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 4 00:56:33 2004 +0000

    Object error doesn't return anything...

 ruamoko/lib/Array.r  |    6 +++---
 ruamoko/lib/Object.r |   12 +++++++-----
 2 files changed, 10 insertions(+), 8 deletions(-)

commit f748b65
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 4 00:36:15 2004 +0000

    need to do relocs separately from ddef creation due to pr_globals needing
    to be allocated first

 tools/qfcc/source/qfprogs.c |   15 ++++++++++-----
 1 file changed, 10 insertions(+), 5 deletions(-)

commit e8a9060
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 4 00:30:42 2004 +0000

    oops, messed up things like float = int

 tools/qfcc/source/constfold.c |    4 ++++
 1 file changed, 4 insertions(+)

commit 3cd806f
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 4 00:27:42 2004 +0000

    fix some over-conversions

 tools/qfcc/source/constfold.c |   12 ++++++------
 1 file changed, 6 insertions(+), 6 deletions(-)

commit c74adc2
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 3 13:35:10 2004 +0000

    all slider indicators now use Slider. nuke draw_perc_bar

 ruamoko/cl_menu/options.qc      |   41 +++++++++++++++++++++++++++++----------
 ruamoko/cl_menu/options_util.h  |    1 -
 ruamoko/cl_menu/options_util.qc |   29 ---------------------------
 3 files changed, 31 insertions(+), 40 deletions(-)

commit 0e0f370
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 3 13:33:16 2004 +0000

    correct the math for calculating the position of the slider indicator

 ruamoko/gui/Slider.r |    3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit ec26083
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 3 08:31:26 2004 +0000

    start working on a gui lib with a Slider class. use the slider class for
    the volume settings. doesn't /quite/ work properly yet

 configure.ac                    |    1 +
 ruamoko/Makefile.am             |    2 +-
 ruamoko/cl_menu/Frame.h         |    2 +-
 ruamoko/cl_menu/HUD.h           |    3 +-
 ruamoko/cl_menu/Makefile.am     |    4 +-
 ruamoko/cl_menu/client_menu.h   |    3 +-
 ruamoko/cl_menu/client_menu.qc  |    5 ++-
 ruamoko/cl_menu/options.qc      |   37 +++++++++++++---
 ruamoko/cl_menu/servlist.qc     |    5 ++-
 ruamoko/gui/.gitignore          |    9 ++++
 ruamoko/gui/InputLine.r         |   69 ++++++++++++++++++++++++++++++
 ruamoko/gui/Makefile.am         |   33 +++++++++++++++
 ruamoko/gui/Point.r             |   64 ++++++++++++++++++++++++++++
 ruamoko/gui/Rect.r              |   89 +++++++++++++++++++++++++++++++++++++++
 ruamoko/gui/Size.r              |   74 ++++++++++++++++++++++++++++++++
 ruamoko/gui/Slider.r            |   47 +++++++++++++++++++++
 ruamoko/gui/View.r              |   39 +++++++++++++++++
 ruamoko/include/InputLine.h     |   48 ---------------------
 ruamoko/include/Makefile.am     |    5 ++-
 ruamoko/include/Point.h         |   26 ------------
 ruamoko/include/Rect.h          |   43 -------------------
 ruamoko/include/Size.h          |   29 -------------
 ruamoko/include/View.h          |   21 ---------
 ruamoko/include/gui/InputLine.h |   48 +++++++++++++++++++++
 ruamoko/include/gui/Point.h     |   26 ++++++++++++
 ruamoko/include/gui/Rect.h      |   43 +++++++++++++++++++
 ruamoko/include/gui/Size.h      |   29 +++++++++++++
 ruamoko/include/gui/Slider.h    |   19 +++++++++
 ruamoko/include/gui/View.h      |   26 ++++++++++++
 ruamoko/lib/InputLine.r         |   70 ------------------------------
 ruamoko/lib/Makefile.am         |    5 +--
 ruamoko/lib/Point.r             |   64 ----------------------------
 ruamoko/lib/Rect.r              |   89 ---------------------------------------
 ruamoko/lib/Size.r              |   74 --------------------------------
 ruamoko/lib/View.r              |   19 ---------
 35 files changed, 664 insertions(+), 506 deletions(-)

commit 1068032
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 3 07:48:23 2004 +0000

    make implementation methods not in the interface work properly when
    -Winterface-check isn't specified and make sure classes don't clash with
    defs or enums

 tools/qfcc/source/class.c |   16 +++++++++++-----
 1 file changed, 11 insertions(+), 5 deletions(-)

commit 0f94dd9
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 3 07:29:20 2004 +0000

    make @class foo work when foo is already defined

 tools/qfcc/source/qc-parse.y |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 888ff5f
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 3 06:24:43 2004 +0000

    make the math functions Grievre provided available

 ruamoko/include/math.h |   17 +++++++++++++++++
 ruamoko/lib/math.r     |   17 +++++++++++++++++
 2 files changed, 34 insertions(+)

commit a4bcf2d
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 3 06:00:16 2004 +0000

    hopefully better library arrangement

 ruamoko/cl_menu/Makefile.am |    4 ++--
 ruamoko/game/Makefile.am    |    4 ++--
 ruamoko/lib/Makefile.am     |   22 +++++++++++++---------
 3 files changed, 17 insertions(+), 13 deletions(-)

commit 1542268
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 3 05:59:51 2004 +0000

    use casts rather than ftoi and itof

 ruamoko/cl_menu/client_menu.qc  |    2 +-
 ruamoko/cl_menu/options.qc      |    7 +++----
 ruamoko/cl_menu/options_util.qc |    7 +++----
 3 files changed, 7 insertions(+), 9 deletions(-)

commit 389ff5b
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 3 05:30:11 2004 +0000

    finally found the correct way to handle generated source

 tools/qfcc/source/Makefile.am |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 3dff32a
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Tue Feb 3 05:16:22 2004 +0000

    Rename some functions. Now have IN_DownPress instead of IN_DownDown.
    Slightly more obvious at a glance what is going on, without rooting around in
    source.

 nq/source/cl_input.c |  253 +++++++++++++++++++++++++-------------------------
 1 file changed, 127 insertions(+), 126 deletions(-)

commit 4f9a24d
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 3 03:38:51 2004 +0000

    and another one

 tools/qfcc/include/Makefile.am |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 9df4a79
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 3 03:22:48 2004 +0000

    make dist fixes

 tools/pak/Makefile.am         |    3 +--
 tools/qfcc/source/Makefile.am |    3 +--
 2 files changed, 2 insertions(+), 4 deletions(-)

commit 9784ba5
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 3 03:01:06 2004 +0000

    Grievre's gamedir callback patch to fix mangled sounds on gamedir change
    plus a couple minor tweaks I notcied needed doing.

 include/QF/quakefs.h             |    6 ++++++
 libs/audio/cd/cd_file.c          |   13 +++++++++++++
 libs/audio/renderer/snd_dma.c    |    9 +++++++++
 libs/util/quakefs.c              |   33 ++++++++++++++++++++++++++++++++-
 libs/video/renderer/gl/gl_draw.c |    4 +++-
 qw/source/cl_main.c              |   17 +++++++++++++++++
 qw/source/cl_parse.c             |   16 ----------------
 qw/source/cl_tent.c              |   11 +++++++++--
 8 files changed, 89 insertions(+), 20 deletions(-)

commit c16fc91
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 3 02:40:00 2004 +0000

    update with qfprogs

 tools/qfcc/source/.gitignore |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit cb94d50
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Mon Feb 2 21:18:11 2004 +0000

    Improvements in time accounting. Accurate to +-0.5ms, instead of -1,0 like
    others.
    
    Based on Grievre's and zquake's code.

 qw/source/cl_input.c |   12 +++++++++---
 1 file changed, 9 insertions(+), 3 deletions(-)

commit f8bc0ba
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 2 06:15:22 2004 +0000

    fix a misplaced reference to zpak

 Makefile.am |    3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit 371a0b8
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 2 05:44:46 2004 +0000

    support old-style portal files again

 tools/qfvis/include/vis.h  |    3 +-
 tools/qfvis/source/qfvis.c |   95 +++++++++++++++++++++++++++++++++-----------
 2 files changed, 73 insertions(+), 25 deletions(-)

commit 4472f94
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jan 31 08:34:01 2004 +0000

    minor cleanups and use escapes when printing strings

 libs/gamecode/engine/pr_debug.c  |   39 +++++++++++++++++++++++++++----
 libs/gamecode/engine/pr_edict.c  |   47 ++------------------------------------
 libs/gamecode/engine/pr_load.c   |    3 +++
 libs/gamecode/engine/pr_opcode.c |   46 ++++++++++++++++++++++++++++++++++---
 4 files changed, 82 insertions(+), 53 deletions(-)

commit 2ac0f40
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jan 31 07:29:11 2004 +0000

    fix an uninitialized variable

 libs/gamecode/engine/pr_debug.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 24294c8
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jan 31 04:26:01 2004 +0000

    make printing of global contents in PR_PrintStatement optional so
    disassembly output is cleaner

 include/QF/progs.h               |    5 +-
 libs/gamecode/engine/pr_debug.c  |  317 ++++++++++++++++++--------------------
 libs/gamecode/engine/pr_exec.c   |    2 +-
 libs/gamecode/engine/pr_opcode.c |    2 +-
 tools/qfcc/source/disassemble.c  |    2 +-
 5 files changed, 152 insertions(+), 176 deletions(-)

commit f05be31
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jan 31 04:11:45 2004 +0000

    fix for perc = itof (perc_val) / (100 / itof (size));
    ie, better detection of function calls in binary expressions

 tools/qfcc/source/expr.c |   54 +++++++++++++++++++++++-----------------------
 1 file changed, 27 insertions(+), 27 deletions(-)

commit 718c708
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jan 30 08:46:14 2004 +0000

    make global printing a little more robust

 libs/gamecode/engine/pr_debug.c |  238 +++++++++++++++++++++++++++++++++++
 libs/gamecode/engine/pr_edict.c |  262 ---------------------------------------
 2 files changed, 238 insertions(+), 262 deletions(-)

commit e1afa32
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jan 30 07:55:32 2004 +0000

    minor cleanup

 libs/gamecode/engine/pr_debug.c |   20 ++++++++------------
 1 file changed, 8 insertions(+), 12 deletions(-)

commit fb49b06
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jan 30 07:29:04 2004 +0000

    remove debug info

 tools/qfcc/source/qfprogs.c |    1 -
 1 file changed, 1 deletion(-)

commit 394e83e
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jan 30 07:17:28 2004 +0000

    perform relocations so disassembly dumps of qfo files make sense

 tools/qfcc/source/qfprogs.c |  184 +++++++++++++++++++++++++++++++++----------
 1 file changed, 143 insertions(+), 41 deletions(-)

commit 16e4964
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jan 30 07:16:48 2004 +0000

    fix a couple struct forward ref issues

 tools/qfcc/include/reloc.h |    2 ++
 1 file changed, 2 insertions(+)

commit f87a5d1
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jan 30 05:35:30 2004 +0000

    convert the debug info, too. seems to work

 tools/qfcc/source/qfprogs.c |  151 ++++++++++++++++++++++++-------------------
 1 file changed, 86 insertions(+), 65 deletions(-)

commit a2e8080
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 29 08:22:59 2004 +0000

    init entity info

 tools/qfcc/source/qfprogs.c |    2 ++
 1 file changed, 2 insertions(+)

commit 2e87490
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 29 08:11:04 2004 +0000

    pr_stringsize hasn't reflected static strings size for a while...

 tools/qfcc/source/strings.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 206a15e
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 29 07:43:05 2004 +0000

    while not yet perfect, qfprogs now works with qfo files

 tools/qfcc/source/Makefile.am |    2 +-
 tools/qfcc/source/qfprogs.c   |  158 ++++++++++++++++++++++++++++++++++++++---
 tools/qfcc/source/stub.c      |   32 +++++++++
 3 files changed, 182 insertions(+), 10 deletions(-)

commit 74404b2
Author: Timothy C. McGrath <misty-chan@users.sourceforge.net>
Date:   Wed Jan 28 10:25:49 2004 +0000

    Another patch from Grievre, this prevents a bad ogg tracklist.cfg from crashing
    the game, since that event is already handled correctly.
    
    Timothy C. McGrath
    (Hikaru)

 libs/util/qfplist.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 53f8424
Author: Timothy C. McGrath <misty-chan@users.sourceforge.net>
Date:   Wed Jan 28 10:07:31 2004 +0000

    Patch from Grievre to fix cd_file so it does not cause the game to segmentation
    fault when snd_output is set to null. Also some debugging stuff added just in
    case.
    
    This was tested only with making sure that it works when snd_output is null and
    non null. Whoever authored this might want to go test this and make sure it
    still works :)
    
    Timothy C. McGrath
    (Hikaru)

 libs/audio/cd/cd_file.c |   26 +++++++++++++++++++++++---
 1 file changed, 23 insertions(+), 3 deletions(-)

commit 7beee0f
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 28 05:36:35 2004 +0000

    bah, dust hiding under the rug...

 tools/qfpreqcc/.gitignore |    1 -
 1 file changed, 1 deletion(-)

commit b2ccb50
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 28 05:34:23 2004 +0000

    move qfpreqcc in with qfcc for relationship reasons

 tools/qfcc/source/Makefile.am |    4 +
 tools/qfcc/source/qfpreqcc    |  223 +++++++++++++++++++++++++++++++++++++++++
 tools/qfpreqcc/qfpreqcc       |  223 -----------------------------------------
 3 files changed, 227 insertions(+), 223 deletions(-)

commit 518143b
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 28 05:31:03 2004 +0000

    move graph-timeframes and qfgl_gen.pl into misc. general tidy up

 tools/graph-timeframes      |   48 ---------------------------
 tools/misc/graph-timeframes |   48 +++++++++++++++++++++++++++
 tools/misc/qfgl_gen.pl      |   77 +++++++++++++++++++++++++++++++++++++++++++
 tools/qfgl_gen.pl           |   77 -------------------------------------------
 4 files changed, 125 insertions(+), 125 deletions(-)

commit 77122c7
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 28 05:29:47 2004 +0000

    move zpak in with pak since they're intimately related

 tools/Makefile.am     |    1 -
 tools/pak/Makefile.am |    6 +++++-
 tools/pak/zpak        |   32 ++++++++++++++++++++++++++++++++
 tools/zpak            |   32 --------------------------------
 4 files changed, 37 insertions(+), 34 deletions(-)

commit d3018dd
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 28 05:23:43 2004 +0000

    move qfprogs in with qfcc (it's going to need to share code)

 configure.ac                        |   14 +-
 tools/Makefile.am                   |    2 +-
 tools/qfcc/include/qfprogs.h        |   23 +++
 tools/qfcc/source/Makefile.am       |   16 +-
 tools/qfcc/source/disassemble.c     |   71 +++++++++
 tools/qfcc/source/globals.c         |  159 ++++++++++++++++++++
 tools/qfcc/source/lines.c           |   93 ++++++++++++
 tools/qfcc/source/modules.c         |  172 +++++++++++++++++++++
 tools/qfcc/source/qfodump.c         |  201 -------------------------
 tools/qfcc/source/qfprogs.c         |  275 ++++++++++++++++++++++++++++++++++
 tools/qfcc/source/strings.c         |   74 +++++++++
 tools/qfprogs/.gitignore            |   11 --
 tools/qfprogs/Makefile.am           |   24 ---
 tools/qfprogs/include/.gitignore    |    6 -
 tools/qfprogs/include/Makefile.am   |    3 -
 tools/qfprogs/include/disassemble.h |    8 -
 tools/qfprogs/include/globals.h     |   10 --
 tools/qfprogs/include/lines.h       |    8 -
 tools/qfprogs/include/modules.h     |    8 -
 tools/qfprogs/include/qfprogs.h     |   11 --
 tools/qfprogs/include/strings.h     |    8 -
 tools/qfprogs/source/.gitignore     |    6 -
 tools/qfprogs/source/Makefile.am    |   23 ---
 tools/qfprogs/source/disassemble.c  |   78 ----------
 tools/qfprogs/source/globals.c      |  160 --------------------
 tools/qfprogs/source/lines.c        |   94 ------------
 tools/qfprogs/source/modules.c      |  173 ----------------------
 tools/qfprogs/source/qfprogs.c      |  280 -----------------------------------
 tools/qfprogs/source/strings.c      |   74 ---------
 29 files changed, 877 insertions(+), 1208 deletions(-)

commit 0e6681a
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Wed Jan 28 02:49:57 2004 +0000

    Add QFGL_WANT, and ability to handle non-required extensions.

 include/QF/GL/funcs.h              |    2 ++
 include/QF/GL/qf_funcs_list.h      |   11 ++++++++++-
 include/r_cvar.h                   |    1 +
 libs/video/targets/qfgl_ext.c      |   10 ++++++++--
 libs/video/targets/vid_common_gl.c |    8 ++++----
 tools/3dfx_stub/gl_stub.c          |   11 ++++++++++-
 tools/gl_stub/gl_stub.c            |   10 ++++++++++
 tools/gl_stub/glx_funcs_list.h     |    9 +++++++++
 8 files changed, 54 insertions(+), 8 deletions(-)

commit 9abe3b2
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 27 08:31:34 2004 +0000

    start of my properties work. doesn't seem to have broken anything :)

 tools/qflight/include/Makefile.am  |    2 +-
 tools/qflight/include/entities.h   |    2 +-
 tools/qflight/include/options.h    |    1 +
 tools/qflight/include/properties.h |    9 ++
 tools/qflight/source/Makefile.am   |    5 +-
 tools/qflight/source/entities.c    |  112 +++-----------
 tools/qflight/source/options.c     |   26 ++--
 tools/qflight/source/properties.c  |  283 ++++++++++++++++++++++++++++++++++++
 tools/qflight/source/qflight.c     |    4 +
 9 files changed, 330 insertions(+), 114 deletions(-)

commit 2ea155d
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 27 08:12:59 2004 +0000

    make "havoc" map to the correct attenuation type

 tools/qflight/source/entities.c |    2 +-
 tools/qflight/source/options.c  |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 59101d3
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 27 06:02:41 2004 +0000

    don't allow non-set commands to be executed outside _Host_Frame because
    they can call Host_Error which calls longjmp and it's _Host_Frame that
    calls setjmp... fixes the segfault when +connect foo fails

 nq/source/host.c |   31 +++++++++++++++++--------------
 1 file changed, 17 insertions(+), 14 deletions(-)

commit c1a4370
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 27 05:38:34 2004 +0000

    fix auto-addition of -dedictated

 nq/source/sys_unixd.c |    2 +-
 nq/source/sys_wind.c  |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 7ff1534
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 27 05:23:36 2004 +0000

    bah, fix one, create another...

 libs/console/server.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 080f677
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 27 05:08:21 2004 +0000

    correct a couple of falsehoods

 tools/qfvis/qfvis.1 |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit ba90186
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 27 04:41:20 2004 +0000

    fix a missing ;

 tools/qfcc/source/qc-parse.y |    1 +
 1 file changed, 1 insertion(+)

commit 09bdd34
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Mon Jan 26 20:07:04 2004 +0000

    Compile fixes, plus a couple of minor optimizations.

 tools/qflight/source/ltface.c |   44 ++++++++++++++++++++---------------------
 1 file changed, 21 insertions(+), 23 deletions(-)

commit 5ee1b1d
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 26 07:39:29 2004 +0000

    bring in OpenQuartz's extentions (except -ikmap: got tired:)
    go back to id's lighting model being default. LordHavoc's is selectable
    via --attentuation havoc. Also selectable on a per-light basis.

 tools/qflight/include/entities.h |   24 +++++++++
 tools/qflight/include/noise.h    |    5 ++
 tools/qflight/include/options.h  |    3 ++
 tools/qflight/source/Makefile.am |    2 +-
 tools/qflight/source/entities.c  |   75 +++++++++++++++++++++++++-
 tools/qflight/source/ltface.c    |  106 ++++++++++++++++++++++++++++---------
 tools/qflight/source/noise.c     |  107 ++++++++++++++++++++++++++++++++++++++
 tools/qflight/source/options.c   |   44 ++++++++++++++++
 tools/qflight/source/trace.c     |   16 +++---
 9 files changed, 346 insertions(+), 36 deletions(-)

commit 31aca31
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Mon Jan 26 03:58:19 2004 +0000

    Warn users if their system doesn't support GL_ATI_pn_triangles.

 libs/video/targets/vid_common_gl.c |    5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit e763507
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 26 01:21:06 2004 +0000

    segfault fix from ashridah

 libs/audio/renderer/snd_dma.c |    3 +++
 1 file changed, 3 insertions(+)

commit 767b0c6
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Mon Jan 26 00:40:31 2004 +0000

    Fix help for gl_tessellate cvar.

 libs/video/targets/vid_common_gl.c |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit e1146a5
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Mon Jan 26 00:13:47 2004 +0000

    TruForm support. Controlled by gl_tessellate

 include/QF/GL/Makefile.am          |    2 +-
 include/QF/GL/ati.h                |  401 ++++++++++++++++++++++++++++++++++++
 include/QF/GL/extensions.h         |    2 +
 include/QF/GL/qf_funcs_list.h      |    3 +
 include/QF/GL/qf_vid.h             |    2 +-
 libs/video/renderer/gl/gl_rmain.c  |    4 +
 libs/video/targets/vid_common_gl.c |   64 +++++-
 7 files changed, 465 insertions(+), 13 deletions(-)

commit 897b491
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jan 25 22:08:08 2004 +0000

    initialized locals are a little trickier...

 tools/qfcc/source/qc-parse.y |    7 ++++---
 1 file changed, 4 insertions(+), 3 deletions(-)

commit f8ed454
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jan 25 21:45:07 2004 +0000

    warn on if (a = b)

 tools/qfcc/source/expr.c |    5 +++++
 1 file changed, 5 insertions(+)

commit 7423ee3
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jan 25 21:36:44 2004 +0000

    better timing for constant folding

 tools/qfcc/source/constfold.c |   21 ++++++++++-----------
 tools/qfcc/source/expr.c      |    6 +++---
 tools/qfcc/source/function.c  |    2 --
 tools/qfcc/source/qc-parse.y  |   37 ++++++++++++++++++++-----------------
 4 files changed, 33 insertions(+), 33 deletions(-)

commit c376982
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jan 25 19:59:49 2004 +0000

    this should fix thuglife's segfault

 libs/audio/targets/snd_sun.c |    6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit 39c7ff1
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jan 25 08:59:55 2004 +0000

    disable debug output

 tools/qfcc/source/emit.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 51b0a66
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jan 25 08:55:03 2004 +0000

    better constant folding with auto-conversion between scalar types (might
    make that optional for non-constants)

 tools/qfcc/include/expr.h     |   10 +
 tools/qfcc/source/Makefile.am |    8 +-
 tools/qfcc/source/constfold.c | 1314 +++++++++++++++++++++++++++++++++++++++++
 tools/qfcc/source/emit.c      |   19 +-
 tools/qfcc/source/expr.c      |  563 ++----------------
 tools/qfcc/source/function.c  |    4 +-
 tools/qfcc/source/qc-parse.y  |   17 +-
 tools/qfcc/source/switch.c    |    4 +-
 tools/qfcc/source/type.c      |   12 +-
 9 files changed, 1430 insertions(+), 521 deletions(-)

commit 58ce134
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jan 25 07:19:11 2004 +0000

    implement an optimisation Griever found. hopefully doesn't cause any
    problems

 qw/source/sv_pr_cmds.c |   14 +++++++++-----
 1 file changed, 9 insertions(+), 5 deletions(-)

commit 8651fab
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jan 25 07:12:01 2004 +0000

    bah, my findradius fix got stomped on :P

 qw/source/sv_pr_cmds.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 76d7fc2
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jan 25 05:27:28 2004 +0000

    arg, forgot to terminate the arrays again

 qw/source/sv_progs.c |    2 ++
 1 file changed, 2 insertions(+)

commit de630d8
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 22 07:02:10 2004 +0000

    another year goes by...

 doc/template.c |    2 +-
 doc/template.h |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 60cb2a7
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 22 06:36:59 2004 +0000

    qnx doesn't need any pthread flags when linking

 configure.ac |   21 +++++++++++++--------
 1 file changed, 13 insertions(+), 8 deletions(-)

commit 43f68ba
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 22 06:27:56 2004 +0000

    d'oh

 libs/ruamoko/rua_math.c |    2 ++
 1 file changed, 2 insertions(+)

commit 4843d0a
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 22 06:26:55 2004 +0000

    implement the invers hyper trig functions locally because they're not
    available everywhere.

 libs/ruamoko/rua_math.c |   11 ++++++-----
 1 file changed, 6 insertions(+), 5 deletions(-)

commit bb31308
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 22 05:43:18 2004 +0000

    ruamoko math functions from Grievre

 include/rua_internal.h   |    2 +
 libs/ruamoko/Makefile.am |    3 +-
 libs/ruamoko/rua_init.c  |    1 +
 libs/ruamoko/rua_math.c  |  167 ++++++++++++++++++++++++++++++++++++++++++++++
 4 files changed, 172 insertions(+), 1 deletion(-)

commit 3a85dbd
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 22 04:42:06 2004 +0000

    d'oh

 libs/console/server.c |    2 ++
 1 file changed, 2 insertions(+)

commit d9a582a
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 22 04:28:24 2004 +0000

    fix the print mangling of scrolled back screens (thought of this about 10s
    after committing:P)

 libs/console/server.c |   10 ++++++----
 1 file changed, 6 insertions(+), 4 deletions(-)

commit 3e5a103
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 22 04:16:19 2004 +0000

    proper error checking when openning progs.src

 tools/qfcc/source/qfcc.c |    5 +++++
 1 file changed, 5 insertions(+)

commit 62ef6f9
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 22 04:07:39 2004 +0000

    scrollback 90% working. prints will mangle things, but ^L will clean it up

 libs/console/server.c |   33 ++++++++++++++++++++++++++++++---
 1 file changed, 30 insertions(+), 3 deletions(-)

commit 47f1667
Author: Chris Ison <cisos@bigpond.net.au>
Date:   Thu Jan 22 03:43:09 2004 +0000

    win32 server console now works

 libs/util/sys.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit db32c83
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 22 02:26:08 2004 +0000

    export BoxOnPlaneSide properly in windows so it doesn't cause a segfault

 include/asm_i386.h |    6 ++++++
 libs/util/math.S   |    1 +
 2 files changed, 7 insertions(+)

commit 73b226b
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 22 01:33:27 2004 +0000

    fix the key bindings menus (invalid strings) and add a music volume knob

 ruamoko/cl_menu/controls_o.qc |    9 ++++++++-
 ruamoko/cl_menu/options.qc    |   10 ++++++++--
 2 files changed, 16 insertions(+), 3 deletions(-)

commit 8f440c7
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 22 01:04:48 2004 +0000

    linker.c:
    	I think I found the real reason doxygen gets confused
    expr.c:
    	add a check for x & y == 2 (or similar) doesn't work for constant y at
    	the moment.

 tools/qfcc/source/expr.c   |    8 ++++++++
 tools/qfcc/source/linker.c |    6 +++---
 2 files changed, 11 insertions(+), 3 deletions(-)

commit d9ac6dd
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 21 23:09:00 2004 +0000

    d'oh, forgot to fix this in qw

 qw/source/sv_progs.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 2f21926
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 21 21:58:34 2004 +0000

    more constant folding

 tools/qfcc/source/expr.c |    6 ++++++
 1 file changed, 6 insertions(+)

commit e63b205
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 21 21:43:31 2004 +0000

    don't seg when in traditional mode and @ is seen

 tools/qfcc/source/qc-lex.l |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 160a2af
Author: Chris Ison <cisos@bigpond.net.au>
Date:   Wed Jan 21 21:21:44 2004 +0000

    cygwin changes to create dlls

 configure.ac |   20 ++++++++++++++++++++
 1 file changed, 20 insertions(+)

commit f1ae56a
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 21 21:06:13 2004 +0000

    make "file" the default cd plugin

 libs/audio/cd.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 7446967
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 21 20:55:03 2004 +0000

    don't need qfdefs any more since the servers now do its job themselves

 RPM/quakeforge.spec.in            |    3 -
 configure.ac                      |   14 +--
 debian/control                    |    2 -
 debian/rules                      |    3 -
 tools/Makefile.am                 |    2 +-
 tools/qfdefs/.gitignore           |   12 ---
 tools/qfdefs/Makefile.am          |   50 ---------
 tools/qfdefs/bootstrap            |    2 -
 tools/qfdefs/configure.in         |  120 ---------------------
 tools/qfdefs/include/.gitignore   |    8 --
 tools/qfdefs/include/Makefile.am  |    2 -
 tools/qfdefs/include/def.h        |   30 ------
 tools/qfdefs/include/progdefs.nq  |  143 -------------------------
 tools/qfdefs/include/progdefs.qw  |  167 ------------------------------
 tools/qfdefs/qfdefs.lsm.in        |   19 ----
 tools/qfdefs/source/.gitignore    |    9 --
 tools/qfdefs/source/Makefile.am   |   34 ------
 tools/qfdefs/source/defs.c        |  133 ------------------------
 tools/qfdefs/source/fix_globals.c |  125 ----------------------
 tools/qfdefs/source/gendefs.c     |  158 ----------------------------
 tools/qfdefs/source/qfdefs.c      |  206 -------------------------------------
 21 files changed, 2 insertions(+), 1240 deletions(-)

commit 8f0c6df
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 21 20:09:12 2004 +0000

    no more Max Headroom impersonations during level changes

 nq/source/cl_parse.c |   14 +++++++++-----
 nq/source/sv_ded.c   |   10 ++++++++++
 nq/source/sv_main.c  |    3 +++
 3 files changed, 22 insertions(+), 5 deletions(-)

commit e379238
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 21 19:35:17 2004 +0000

    used the function I'd created for loading sounds :P (fixes cd_file plugin
    loading)

 libs/audio/cd/cd_file.c |   42 +++++++++++++++++++++---------------------
 1 file changed, 21 insertions(+), 21 deletions(-)

commit 390ca99
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 21 08:09:47 2004 +0000

    first step to making qfdefs redundant. "standard" progs now get resolved
    staticly rather than looking up the defs. "broken" progs should now work.

 include/QF/progs.h                |   22 +-
 libs/gamecode/engine/pr_load.c    |   44 +++-
 libs/gamecode/engine/pr_resolve.c |   23 +-
 nq/source/sv_progs.c              |  432 ++++++++++++++++++++++---------------
 qw/source/sv_progs.c              |  396 ++++++++++++++++++++--------------
 5 files changed, 547 insertions(+), 370 deletions(-)

commit 08b9a32
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 21 04:49:28 2004 +0000

    don't know why I thought gib depended on console...

 libs/Makefile.am     |    1 -
 libs/gib/Makefile.am |    2 +-
 2 files changed, 1 insertion(+), 2 deletions(-)

commit 62c3d7c
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 21 03:16:16 2004 +0000

    oops, uninitialized variable

 libs/audio/cd/cd_file.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 93b01bd
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 21 02:59:09 2004 +0000

    make some prints developer

 libs/audio/cd/cd_file.c |   26 +++++++++++++-------------
 1 file changed, 13 insertions(+), 13 deletions(-)

commit d5a33c9
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 21 02:52:12 2004 +0000

    extend the sound api slightly to ease things like cd_file and make cd_file
    work as intended :)

 include/QF/plugin/snd_render.h |    4 +
 include/QF/sound.h             |    2 +
 include/snd_render.h           |   60 ++++++-------
 libs/audio/cd/cd_file.c        |   34 +++++++-
 libs/audio/renderer/snd_dma.c  |  186 ++++++++++++++++++++++++----------------
 libs/audio/renderer/snd_mem.c  |   17 ++--
 libs/audio/snd.c               |   19 +++-
 7 files changed, 203 insertions(+), 119 deletions(-)

commit 19ef80c
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 21 00:15:35 2004 +0000

    this should fix static win32 builds

 include/QF/mathlib.h  |   14 ++------------
 libs/util/Makefile.am |    4 ++--
 libs/util/mathlib.c   |    6 ++++--
 3 files changed, 8 insertions(+), 16 deletions(-)

commit 9aa9d4e
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 20 22:20:38 2004 +0000

    whitespace

 libs/audio/cd/cd_file.c |   29 +++++++++++------------------
 1 file changed, 11 insertions(+), 18 deletions(-)

commit 9f79e62
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 20 22:14:11 2004 +0000

    snd_alsa.c doesn't work for 0.9.x so don't mention it :)

 libs/audio/targets/snd_alsa.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 41c1ea7
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 20 21:59:38 2004 +0000

    quick hacks to get my snapshots building

 debian/quakeforge-common.shlibs |    2 +-
 debian/rules                    |    6 +++---
 2 files changed, 4 insertions(+), 4 deletions(-)

commit 1583961
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 20 08:47:19 2004 +0000

    fix a couple of compile issues with older gcc

 libs/audio/cd/cd_file.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit f7fe0a4
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 20 08:34:57 2004 +0000

    remove two redundant functions from cd_funcs_t and convert all the cd
    plugins to using pre-initialized structs

 include/QF/plugin/cd.h   |    2 --
 libs/audio/cd/cd_file.c  |   77 ++++++++++++++++++++++++++--------------------
 libs/audio/cd/cd_linux.c |   71 ++++++++++++++++++++++++++----------------
 libs/audio/cd/cd_sdl.c   |   71 ++++++++++++++++++++++++++----------------
 libs/audio/cd/cd_sgi.c   |   73 ++++++++++++++++++++++++++-----------------
 libs/audio/cd/cd_win.c   |   70 +++++++++++++++++++++++++----------------
 libs/audio/cd/cd_xmms.c  |   69 +++++++++++++++++++++++++----------------
 7 files changed, 262 insertions(+), 171 deletions(-)

commit ce3c58e
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 20 08:26:16 2004 +0000

    need to /always/ set ALSA_PLUGIN

 configure.ac |   12 +++++++-----
 1 file changed, 7 insertions(+), 5 deletions(-)

commit 52968be
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 20 06:58:42 2004 +0000

    ashridah's file based cd plugin (ie, it will play any sound file QF can
    load as background music).

 configure.ac              |    2 +-
 doc/tracklist.cfg         |   14 ++
 libs/audio/cd/Makefile.am |   15 +-
 libs/audio/cd/cd_file.c   |  473 +++++++++++++++++++++++++++++++++++++++++++++
 4 files changed, 497 insertions(+), 7 deletions(-)

commit 6d02004
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 20 06:11:00 2004 +0000

    Mike Gorchak's <mike@malva.ua> second (final for now:) QNX patch. renames
    msg_t to qmsg_t.

 include/QF/msg.h          |   28 +++++++-------
 libs/net/nc/net_udp.c     |    4 +-
 libs/net/nc/net_udp6.c    |    4 +-
 libs/net/net_main.c       |    4 +-
 libs/util/msg.c           |   26 ++++++-------
 qw/include/net_svc.h      |   88 ++++++++++++++++++++++----------------------
 qw/source/net_packetlog.c |    2 +-
 qw/source/net_svc.c       |   90 ++++++++++++++++++++++-----------------------
 8 files changed, 123 insertions(+), 123 deletions(-)

commit 283d49b
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 20 05:57:39 2004 +0000

    first chunk of Mike Gorchak's <mike@malva.ua> QNX patches

 configure.ac                       |    3 +++
 libs/audio/cd/cd_sdl.c             |    2 +-
 libs/audio/cd/cd_win.c             |    2 +-
 libs/audio/snd.c                   |    5 +++++
 libs/console/client.c              |   21 ++++++++++++++++++++-
 libs/util/wadfile.c                |    8 +++++++-
 libs/video/targets/vid_sdl32.c     |    6 ++++++
 nq/source/host_cmd.c               |    7 +++++++
 nq/source/sv_user.c                |    7 +++++++
 nq/source/sys_unixd.c              |   20 +++++---------------
 tools/qfprogs/source/disassemble.c |    7 ++++++-
 tools/qfprogs/source/qfprogs.c     |    8 +++++++-
 12 files changed, 75 insertions(+), 21 deletions(-)

commit f097c2e
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 20 05:43:23 2004 +0000

    autoconfiscate the alsa plugin name

 RPM/quakeforge.spec.in |    8 +++++---
 configure.ac           |    7 +++++--
 2 files changed, 10 insertions(+), 5 deletions(-)

commit e154c9a
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 20 03:47:27 2004 +0000

    be consistent with WIN32 and _WIN32 (now all _WIN32)

 configure.ac                        |    2 +-
 include/QF/mathlib.h                |    2 +-
 libs/audio/renderer/snd_mixa.S      |    2 +-
 libs/console/filelist.c             |    2 +-
 libs/ruamoko/rua_file.c             |    2 +-
 libs/util/math.S                    |    2 +-
 libs/util/pakfile.c                 |    2 +-
 libs/util/quakefs.c                 |    2 +-
 libs/util/quakeio.c                 |    6 +++---
 libs/util/sys.c                     |    4 ++--
 libs/util/sys_ia32.S                |    2 +-
 libs/util/wadfile.c                 |    2 +-
 libs/video/renderer/sw/fpua.S       |    2 +-
 libs/video/renderer/sw/sw_raclipa.S |    2 +-
 libs/video/targets/vid_sdl.c        |    4 ++--
 libs/video/targets/vid_sdl32.c      |    4 ++--
 libs/video/targets/vid_sgl.c        |    6 +++---
 nq/source/sys_sdl.c                 |    4 ++--
 qw/source/cl_sys_sdl.c              |    4 ++--
 qw/source/sv_main.c                 |    2 +-
 tools/qfmodelgen/source/cmdlib.c    |    6 +++---
 21 files changed, 32 insertions(+), 32 deletions(-)

commit cf074b1
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 20 00:19:33 2004 +0000

    update for the new ruamoko lib

 RPM/quakeforge.spec.in |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 459503e
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Mon Jan 19 21:48:45 2004 +0000

    Argh.

 include/alsa_funcs_list.h         |    2 +-
 libs/audio/targets/snd_alsa_0_9.c |   10 ++--------
 2 files changed, 3 insertions(+), 9 deletions(-)

commit c09420d
Author: Daniel Anderson <mindhog@mindhog.net>
Date:   Mon Jan 19 21:41:52 2004 +0000

    refixed test for HAVE_ALSA

 configure.ac |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 6b76dbf
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Mon Jan 19 21:21:23 2004 +0000

    Fix for poor syntax. Thanks mindhog.

 configure.ac |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a00e371
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Mon Jan 19 20:37:58 2004 +0000

    This should get ALSA 0.9 support working again. ALSA 0.9 users please test.
    Report any compile or ./configure failures especially. If it reports you have
    ALSA0_9, you should be using `set snd_plugin "alsa0_9"`.

 configure.ac |   51 ++++++++++++++++++++++++++++++++++++++++++++++-----
 1 file changed, 46 insertions(+), 5 deletions(-)

commit 77b2942
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 19 07:47:41 2004 +0000

    several libs can now get built as dlls in windows: console, gamecode,
    gamecode_builtins, gib, image, modules, object, ruamoko and util.

 configure.ac                       |   21 +++++++---
 include/QF/gib.h                   |    2 +-
 include/QF/mathlib.h               |   14 ++++++-
 include/QF/plugin.h                |   14 +------
 include/QF/plugin/cd.h             |   14 +++----
 include/QF/plugin/console.h        |   12 +++---
 include/QF/plugin/general.h        |    4 +-
 include/QF/plugin/input.h          |    8 ++--
 include/QF/plugin/snd_output.h     |   12 +++---
 include/QF/plugin/snd_render.h     |   36 ++++++++---------
 include/QF/quakefs.h               |    2 +-
 libs/Makefile.am                   |    6 ++-
 libs/audio/Makefile.am             |    6 +--
 libs/audio/cd/cd_xmms.c            |    2 +-
 libs/console/Makefile.am           |    4 +-
 libs/gamecode/builtins/Makefile.am |    3 +-
 libs/gamecode/engine/Makefile.am   |    3 +-
 libs/gib/Makefile.am               |    3 +-
 libs/gib/gib_builtin.c             |    3 +-
 libs/image/Makefile.am             |    4 +-
 libs/models/Makefile.am            |   12 +++---
 libs/models/null_model.c           |   78 ++++++++++++++++++++++++++++++++++++
 libs/object/Makefile.am            |    3 +-
 libs/ruamoko/Makefile.am           |    3 +-
 libs/util/Makefile.am              |   21 ++++++----
 libs/util/quakefs.c                |    2 +-
 libs/video/Makefile.am             |    2 +-
 libs/video/renderer/Makefile.am    |    2 +-
 nq/source/Makefile.am              |    6 +--
 nq/source/sv_ded.c                 |    4 +-
 nq/source/sv_model.c               |   78 ------------------------------------
 qw/source/Makefile.am              |    2 +-
 qw/source/sv_model.c               |   78 ------------------------------------
 33 files changed, 207 insertions(+), 257 deletions(-)

commit fa6916c
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 19 02:54:31 2004 +0000

    *sigh*, got a little too eager.

 nq/include/client.h |    3 ---
 nq/source/cl_main.c |    7 -------
 nq/source/cl_tent.c |   11 +++--------
 3 files changed, 3 insertions(+), 18 deletions(-)

commit de7a4e3
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 19 02:43:55 2004 +0000

    nq blood particle hack from Grievre

 nq/include/client.h |    3 +++
 nq/source/cl_main.c |    7 +++++++
 nq/source/cl_tent.c |   11 ++++++++---
 3 files changed, 18 insertions(+), 3 deletions(-)

commit 1d8cb86
Author: Chris Ison <cisos@bigpond.net.au>
Date:   Sun Jan 18 09:18:45 2004 +0000

    add snd_bits/rate/stereo cvars to win and dx sound targets

 libs/audio/targets/snd_dx.c  |   23 +++++++++++++++++++----
 libs/audio/targets/snd_win.c |   23 +++++++++++++++++++----
 2 files changed, 38 insertions(+), 8 deletions(-)

commit ba8e959
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jan 18 07:50:50 2004 +0000

    when clearing the return strings, it's a good idea to clear them completely

 libs/gamecode/engine/pr_strings.c |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 0abe875
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jan 18 06:55:47 2004 +0000

    refer to the correct program

 tools/qfvis/qfvis.1 |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 25a8748
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sat Jan 17 22:41:53 2004 +0000

    Bring back alsa 0.9 support as a separate module.

 libs/audio/targets/Makefile.am    |    7 +-
 libs/audio/targets/snd_alsa_0_9.c |  408 +++++++++++++++++++++++++++++++++++++
 2 files changed, 414 insertions(+), 1 deletion(-)

commit a42a0aa
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sat Jan 17 22:03:58 2004 +0000

    Check return conditions during ALSA setup.
    Error checking during setup is a good thing...

 libs/audio/targets/snd_alsa.c |  192 +++++++++++++++++++++++++++--------------
 1 file changed, 125 insertions(+), 67 deletions(-)

commit eb69be5
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jan 17 08:09:30 2004 +0000

    more doxygen fixes

 include/QF/qfplist.h |    6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit 7ba6756
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jan 17 07:14:42 2004 +0000

    temporary hack to avoid crashing when s_explod.mdl isn't precached but
    explosions are requested

 libs/models/model.c |    5 ++++-
 nq/source/cl_tent.c |    3 +++
 qw/source/cl_tent.c |    3 +++
 3 files changed, 10 insertions(+), 1 deletion(-)

commit 629e22a
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jan 17 05:11:34 2004 +0000

    fix a buffer overflow and an underflow

 libs/models/alias/gl_model_alias.c |    2 +-
 libs/util/quakeio.c                |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 249aee2
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jan 16 08:02:31 2004 +0000

    move the OO runtime support code from libQFgamecode to libQFruamoko where
    it really belongs :)

 configure.ac                     |    2 +-
 include/QF/progs.h               |   12 +-
 include/rua_internal.h           |    2 +
 libs/console/menu.c              |    2 -
 libs/gamecode/engine/Makefile.am |    2 +-
 libs/gamecode/engine/pr_load.c   |   42 +-
 libs/gamecode/engine/pr_obj.c    | 1041 -------------------------------------
 libs/ruamoko/Makefile.am         |    2 +-
 libs/ruamoko/rua_init.c          |    2 +
 libs/ruamoko/rua_obj.c           | 1044 ++++++++++++++++++++++++++++++++++++++
 nq/source/sv_pr_cmds.c           |    1 -
 qw/source/sv_pr_cmds.c           |    1 -
 tools/qwaq/main.c                |    3 +-
 13 files changed, 1098 insertions(+), 1058 deletions(-)

commit e7ffad8
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jan 16 07:03:58 2004 +0000

    more rua cleanups: now just one init function to call (it calls the rest)

 include/Makefile.am       |    4 +--
 include/QF/ruamoko.h      |   29 ++--------------------
 include/rua_internal.h    |   60 +++++++++++++++++++++++++++++++++++++++++++++
 libs/console/menu.c       |   14 +++--------
 libs/ruamoko/rua_cbuf.c   |    5 ++--
 libs/ruamoko/rua_cmd.c    |    5 ++--
 libs/ruamoko/rua_cvar.c   |    5 ++--
 libs/ruamoko/rua_file.c   |    5 ++--
 libs/ruamoko/rua_hash.c   |    5 ++--
 libs/ruamoko/rua_init.c   |   32 ++++++++++++++----------
 libs/ruamoko/rua_plist.c  |    5 ++--
 libs/ruamoko/rua_qfile.c  |    3 ++-
 libs/ruamoko/rua_qfs.c    |    5 ++--
 libs/ruamoko/rua_string.c |    5 ++--
 nq/source/host.c          |    2 --
 nq/source/sv_pr_cmds.c    |    5 +++-
 qw/source/cl_main.c       |    1 -
 qw/source/sv_pr_cmds.c    |    5 +++-
 qw/source/sv_progs.c      |    4 ---
 19 files changed, 120 insertions(+), 79 deletions(-)

commit 01392c7
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jan 16 05:46:19 2004 +0000

    move the bulk of what whas libQFcsqc to libQFruamoko.

 configure.ac                       |    1 +
 include/QF/Makefile.am             |    5 +-
 include/QF/csqc.h                  |   29 ----
 include/QF/keys.h                  |    2 +
 include/QF/ruamoko.h               |   66 +++++++
 libs/Makefile.am                   |    2 +-
 libs/console/menu.c                |   18 +-
 libs/gamecode/builtins/Makefile.am |    9 +-
 libs/gamecode/builtins/bi_cbuf.c   |  126 --------------
 libs/gamecode/builtins/bi_cmd.c    |  169 ------------------
 libs/gamecode/builtins/bi_cvar.c   |   68 --------
 libs/gamecode/builtins/bi_file.c   |  185 --------------------
 libs/gamecode/builtins/bi_hash.c   |  335 ------------------------------------
 libs/gamecode/builtins/bi_init.c   |   55 ------
 libs/gamecode/builtins/bi_plist.c  |  195 ---------------------
 libs/gamecode/builtins/bi_qfile.c  |  314 ---------------------------------
 libs/gamecode/builtins/bi_qfs.c    |  131 --------------
 libs/gamecode/builtins/bi_string.c |   92 ----------
 libs/gamecode/builtins/pr_cmds.c   |    7 +
 libs/ruamoko/.gitignore            |    8 +
 libs/ruamoko/Makefile.am           |   11 ++
 libs/ruamoko/rua_cbuf.c            |  126 ++++++++++++++
 libs/ruamoko/rua_cmd.c             |  169 ++++++++++++++++++
 libs/ruamoko/rua_cvar.c            |   68 ++++++++
 libs/ruamoko/rua_file.c            |  185 ++++++++++++++++++++
 libs/ruamoko/rua_hash.c            |  335 ++++++++++++++++++++++++++++++++++++
 libs/ruamoko/rua_init.c            |   53 ++++++
 libs/ruamoko/rua_plist.c           |  195 +++++++++++++++++++++
 libs/ruamoko/rua_qfile.c           |  314 +++++++++++++++++++++++++++++++++
 libs/ruamoko/rua_qfs.c             |  131 ++++++++++++++
 libs/ruamoko/rua_string.c          |   92 ++++++++++
 nq/source/Makefile.am              |    6 +-
 nq/source/host.c                   |    4 +-
 nq/source/sv_ded.c                 |    5 -
 qw/source/Makefile.am              |    4 +-
 qw/source/cl_main.c                |    4 +-
 qw/source/sv_progs.c               |    6 +-
 37 files changed, 1791 insertions(+), 1734 deletions(-)

commit 17db1f4
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jan 16 02:50:26 2004 +0000

    don't block if the sound device is busy (from Grievre)

 libs/audio/targets/snd_oss.c |    1 +
 1 file changed, 1 insertion(+)

commit 710a6c9
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Fri Jan 16 00:45:42 2004 +0000

    Fix headers for alsa 0.9.

 include/alsa_funcs_list.h |   12 ++++++++++--
 1 file changed, 10 insertions(+), 2 deletions(-)

commit aee1554
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 15 23:05:56 2004 +0000

    fix a missing terminator found by Grievre

 qw/source/sv_pr_qwe.c |    1 +
 1 file changed, 1 insertion(+)

commit d598afd
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 15 20:19:46 2004 +0000

    need those functions, dang it :(

 acinclude.m4 |  335 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 335 insertions(+)

commit 85778a9
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 15 20:06:14 2004 +0000

    fix warnings pointed out by automake 1.8 and clean out some cruft

 acinclude.m4 |  361 +++-------------------------------------------------------
 1 file changed, 13 insertions(+), 348 deletions(-)

commit 31d970a
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 15 07:16:44 2004 +0000

    can now dump a map's textures to a wad file (name currently based on bsp
    file name (eg, foo.bsp -> foo.wad)

 include/QF/wad.h              |   21 ---------
 include/QF/wadfile.h          |   24 ++++++++++
 libs/util/pakfile.c           |    3 +-
 libs/util/wadfile.c           |   53 ++++++++++++++++++++--
 tools/qfbsp/include/bsp5.h    |    1 +
 tools/qfbsp/include/options.h |    1 +
 tools/qfbsp/source/options.c  |   36 ++++++++-------
 tools/qfbsp/source/qfbsp.c    |    6 +++
 tools/qfbsp/source/readbsp.c  |  100 +++++++++++++++++++++++++++++++++++++++++
 tools/qfbsp/source/writebsp.c |   19 --------
 tools/wad/wad.c               |    3 +-
 11 files changed, 205 insertions(+), 62 deletions(-)

commit 7135ff9
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 15 04:04:55 2004 +0000

    update for latest mingw and flex

 tools/cross/cross.sh |    8 ++++++--
 1 file changed, 6 insertions(+), 2 deletions(-)

commit 2a399cc
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 13 21:30:13 2004 +0000

    Sys_PathType has been unnecessary for a while so nuke it

 include/QF/sys.h       |    7 -------
 libs/gib/gib_builtin.c |    7 +++----
 libs/util/sys.c        |   19 -------------------
 3 files changed, 3 insertions(+), 30 deletions(-)

commit 74d8c3e
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 13 06:47:08 2004 +0000

    use the wadfile support in libQFutil instead of a local version

 tools/qfbsp/source/writebsp.c |   94 +++++++++++++++++------------------------
 1 file changed, 39 insertions(+), 55 deletions(-)

commit 28082f3
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 13 06:39:50 2004 +0000

    support compressed wads (.wad.gz) and read the lump count correctly

 libs/util/wadfile.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 1ddd7da
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 13 03:07:36 2004 +0000

    remove redundant cast

 tools/qfcc/source/cpp.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c31c97a
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 13 03:02:25 2004 +0000

    minor cleanup: LoadBSP really shouldn't be doing the bsp2prt stuff :)

 tools/qfbsp/include/bsp5.h   |    1 +
 tools/qfbsp/source/qfbsp.c   |    1 +
 tools/qfbsp/source/readbsp.c |   29 ++++++++++++++++-------------
 3 files changed, 18 insertions(+), 13 deletions(-)

commit 1587075
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 12 06:38:59 2004 +0000

    oops, forgot the ~. fixes wildcode's lockup and should fix rxr's

 libs/util/dstring.c |    5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 34f98e5
Author: Chris Ison <cisos@bigpond.net.au>
Date:   Mon Jan 12 05:36:23 2004 +0000

    fix incompatable pointer type

 tools/qfcc/source/cpp.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 9113ea6
Author: Chris Ison <cisos@bigpond.net.au>
Date:   Mon Jan 12 05:34:46 2004 +0000

    fix dereferencing type-punned pointer errors

 libs/audio/targets/snd_dx.c |    7 +++----
 1 file changed, 3 insertions(+), 4 deletions(-)

commit 0d755a0
Author: Chris Ison <cisos@bigpond.net.au>
Date:   Mon Jan 12 02:23:36 2004 +0000

    dirent.c and dirent.h brought in from cygwin for win32 builds

 configure.ac           |    3 +
 include/win32/dirent.h |  138 +++++++++++++++++++++++++++++++
 libs/util/dirent.c     |  211 +++++++++++++++++++++++++-----------------------
 3 files changed, 252 insertions(+), 100 deletions(-)

commit d0a95ab
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 12 02:09:42 2004 +0000

    t-juctions don't affect portals so don't mess with the loaded faces

 tools/qfbsp/source/readbsp.c |   19 +------------------
 1 file changed, 1 insertion(+), 18 deletions(-)

commit dd3f9b2
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 12 01:52:08 2004 +0000

    qfbsp --portal foo.bsp now works :) produces identical results for simple
    maps.

 tools/qfbsp/source/readbsp.c |   31 ++++++++++++++++++++++++-------
 1 file changed, 24 insertions(+), 7 deletions(-)

commit 33e80fb
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 12 01:49:27 2004 +0000

    whitespace

 tools/qfbsp/source/portals.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 440e033
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jan 11 08:48:58 2004 +0000

    first stab at getting bsp to portal working. produces a portal file that
    looks ok at first glance but the numbers are a tad bogus. More loading
    errors, I guess.

 tools/qfbsp/include/bsp5.h     |   28 ++---
 tools/qfbsp/include/options.h  |    1 +
 tools/qfbsp/source/Makefile.am |    2 +-
 tools/qfbsp/source/options.c   |    6 +
 tools/qfbsp/source/qfbsp.c     |   28 +++--
 tools/qfbsp/source/readbsp.c   |  250 ++++++++++++++++++++++++++++++++++++++++
 6 files changed, 286 insertions(+), 29 deletions(-)

commit 4f66e8f
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jan 11 05:56:10 2004 +0000

    don't run doxygen in Forge: it doesn't grok Objective-C

 doc/quakeforge.dox.in |    1 +
 1 file changed, 1 insertion(+)

commit 41106a1
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jan 11 05:52:19 2004 +0000

    hopefully shut doxygen up about a "const char" function

 tools/qfcc/source/linker.c |    6 ++----
 1 file changed, 2 insertions(+), 4 deletions(-)

commit 44b38c5
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jan 10 08:05:25 2004 +0000

    add a wad tool along the lines of pak. can't yet be used for wad creation
    (that's a little more complicated), but it can be used for listing and
    extracting the contents of a wad file. watch out for *foo :)

 configure.ac          |   23 +++--
 libs/util/wadfile.c   |   21 +++--
 tools/Makefile.am     |    2 +-
 tools/wad/.gitignore  |    9 ++
 tools/wad/Makefile.am |   26 ++++++
 tools/wad/wad.1       |   98 +++++++++++++++++++++
 tools/wad/wad.c       |  235 +++++++++++++++++++++++++++++++++++++++++++++++++
 tools/wad/wad.h       |   55 ++++++++++++
 8 files changed, 449 insertions(+), 20 deletions(-)

commit 4371c84
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jan 10 06:11:41 2004 +0000

    more consistency fixes

 libs/util/qfplist.c |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit e0567f7
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jan 9 23:37:04 2004 +0000

    it seems ATI's libGL needs to be loaded with global symbols in order to
    work properly.

 libs/video/targets/vid_glx.c |    6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit 03a24be
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jan 9 23:34:32 2004 +0000

    partial work on wad file access cleanup in preparation of making a wad
    utility

 include/QF/Makefile.am        |    2 +-
 include/QF/wad.h              |   26 +---
 include/QF/wadfile.h          |   78 ++++++++++
 libs/util/Makefile.am         |    2 +-
 libs/util/wad.c               |   27 +---
 libs/util/wadfile.c           |  318 +++++++++++++++++++++++++++++++++++++++++
 tools/qfbsp/source/writebsp.c |   19 +--
 7 files changed, 406 insertions(+), 66 deletions(-)

commit 45f542d
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jan 9 23:04:08 2004 +0000

    use calloc instead of malloc when creating objects. clears up some
    uninitialized memory usages pointed out by valgrind.

 libs/object/object.c |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 1e20043
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jan 9 22:28:02 2004 +0000

    remove some debug prints

 libs/util/quakefs.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 1bfef95
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jan 9 03:48:00 2004 +0000

    name changes to make figuring out what's private and what's not easier

 libs/audio/renderer/snd_dma.c |  198 ++++++++++++++++++++---------------------
 libs/audio/renderer/snd_mix.c |    8 +-
 2 files changed, 100 insertions(+), 106 deletions(-)

commit 808baf2
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jan 9 03:32:00 2004 +0000

    doxygen didn't like that construct

 include/QF/qfplist.h |   31 +++++++++++++++++++++++--------
 1 file changed, 23 insertions(+), 8 deletions(-)

commit 3ad2eaf
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 8 04:04:55 2004 +0000

    allocate the aux function map properly

 libs/gamecode/engine/pr_debug.c |    8 ++++++--
 1 file changed, 6 insertions(+), 2 deletions(-)

commit c5c5c33
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 8 04:03:47 2004 +0000

    I had forgotten the free string refs list /had/ to be in the progs vm

 include/QF/progs.h                |    1 +
 libs/gamecode/engine/pr_strings.c |   29 ++++++++++++++---------------
 2 files changed, 15 insertions(+), 15 deletions(-)

commit ccfa908
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 8 03:46:11 2004 +0000

    fix shm properly :)

 include/QF/plugin/snd_output.h |    2 +-
 include/QF/sound.h             |    5 +--
 include/snd_render.h           |    1 +
 libs/audio/renderer/snd_dma.c  |    6 +--
 libs/audio/targets/snd_alsa.c  |   51 +++++++++++------------
 libs/audio/targets/snd_disk.c  |   51 +++++++++++------------
 libs/audio/targets/snd_dx.c    |   44 ++++++++++----------
 libs/audio/targets/snd_mme.c   |   34 +++++++--------
 libs/audio/targets/snd_oss.c   |   90 ++++++++++++++++++++--------------------
 libs/audio/targets/snd_sdl.c   |   64 ++++++++++++++--------------
 libs/audio/targets/snd_sgi.c   |   73 ++++++++++++++++----------------
 libs/audio/targets/snd_sun.c   |   31 +++++++-------
 libs/audio/targets/snd_win.c   |   34 +++++++--------
 13 files changed, 234 insertions(+), 252 deletions(-)

commit 4597b44
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Thu Jan 8 03:33:45 2004 +0000

    /, not // in paths. textures//foo.png is ugly. ;)

 libs/models/alias/gl_model_alias.c |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit deb8137
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 8 01:48:02 2004 +0000

    more sound static cleanup

 include/snd_render.h          |   26 ---------
 libs/audio/renderer/midi.c    |    4 +-
 libs/audio/renderer/snd_dma.c |  130 ++++++++++++++++++++---------------------
 libs/audio/renderer/snd_mix.c |    2 +-
 libs/audio/snd.c              |    4 +-
 5 files changed, 70 insertions(+), 96 deletions(-)

commit c0561cd
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 8 01:02:35 2004 +0000

    disable the "don't download sounds with -nosound" feature until I get
    things sorted

 qw/source/cl_parse.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit e639e5e
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 8 00:25:52 2004 +0000

    clean up snd.c a little

 libs/audio/renderer/snd_dma.c |   10 ++++++++++
 libs/audio/snd.c              |   18 ------------------
 2 files changed, 10 insertions(+), 18 deletions(-)

commit 16f0a54
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 7 20:06:15 2004 +0000

    fix some inconsistencies pointed out by doxygen

 include/QF/qfplist.h |   11 ++++++-----
 libs/util/qfplist.c  |   44 ++++++++++++++++++++++----------------------
 2 files changed, 28 insertions(+), 27 deletions(-)

commit 6c447b4
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 7 08:54:00 2004 +0000

    fix more string ownership issues

 libs/util/quakefs.c |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 2485bed
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Wed Jan 7 08:45:18 2004 +0000

    Codestyle. Grr!

 libs/audio/snd.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit e4416c1
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 7 08:16:59 2004 +0000

    fix some weird whitespace

 libs/audio/snd.c |   15 ++++++---------
 1 file changed, 6 insertions(+), 9 deletions(-)

commit be895da
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Wed Jan 7 08:02:09 2004 +0000

    oops. :)

 libs/util/qfplist.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit b3f76e1
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 7 07:36:17 2004 +0000

    add some string builtins (only the basics for now, but enough to deal with
    temporary strings) and fix the game load/save menus.

 include/QF/csqc.h                  |    2 +
 libs/console/menu.c                |    1 +
 libs/gamecode/builtins/Makefile.am |    3 +-
 libs/gamecode/builtins/bi_init.c   |    1 +
 libs/gamecode/builtins/bi_string.c |   92 ++++++++++++++++++++++++++++++++++++
 ruamoko/cl_menu/client_menu.qc     |    9 ++--
 ruamoko/include/string.h           |    5 ++
 ruamoko/lib/string.r               |    5 ++
 8 files changed, 113 insertions(+), 5 deletions(-)

commit bdd5c8a
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 7 07:28:15 2004 +0000

    gah, c&p strikes again

 nq/source/host.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit eb6b179
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Wed Jan 7 07:01:31 2004 +0000

    plist functions that add objects return qboolean, not int. Also doc fixes.

 include/QF/qfplist.h |   12 ++++++------
 libs/util/qfplist.c  |   21 +++++++++++----------
 2 files changed, 17 insertions(+), 16 deletions(-)

commit efd6ccf
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 7 06:40:10 2004 +0000

    close a nasty hole in the gamedir code

 libs/util/quakefs.c |   10 ++++++++--
 1 file changed, 8 insertions(+), 2 deletions(-)

commit 9537640
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 7 06:29:34 2004 +0000

    don't write config.cfg until /after/ it's been read :)

 nq/source/host.c    |    7 +++++--
 qw/source/cl_main.c |    4 ++--
 2 files changed, 7 insertions(+), 4 deletions(-)

commit 9c92a91
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 7 06:19:11 2004 +0000

    change the dict and array add functions to return true/false and add some
    more docs

 include/QF/qfplist.h              |   23 ++++++++++++++++++++---
 libs/gamecode/builtins/bi_plist.c |   14 +++++++-------
 libs/util/qfplist.c               |   22 +++++++++++-----------
 ruamoko/include/plist.h           |    6 +++---
 ruamoko/lib/plist.r               |    6 +++---
 5 files changed, 44 insertions(+), 27 deletions(-)

commit e8fb5ba
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 7 05:35:06 2004 +0000

    remove the FIXMEs. plist takes ownership of the item

 libs/util/qfplist.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit e455b76
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 7 05:22:57 2004 +0000

    use a cycled pool of "return strings". I'd love to come up with something
    better, but this will do (similar to what qwe does, but qf style:)

 include/QF/progs.h                |    7 +++++-
 libs/gamecode/engine/pr_edict.c   |    5 +++--
 libs/gamecode/engine/pr_load.c    |    1 +
 libs/gamecode/engine/pr_parse.c   |    8 +++----
 libs/gamecode/engine/pr_strings.c |   43 +++++++++++++++++++++++++++++++++----
 5 files changed, 53 insertions(+), 11 deletions(-)

commit 8d42963
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 7 02:52:52 2004 +0000

    start documenting the progs engine. memory map initially

 doc/progs/vm-mem.fig |   58 ++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 58 insertions(+)

commit 7885d9c
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 7 02:48:11 2004 +0000

    make a local copy of the builtins table being register as it might need to
    be modified

 libs/gamecode/engine/pr_builtins.c |    8 ++++++++
 1 file changed, 8 insertions(+)

commit 187cef1
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 7 00:14:39 2004 +0000

    make dist fix

 qw/include/Makefile.am |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 380e397
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 7 00:04:07 2004 +0000

    set all of our static builtin extentions to 0x000fxxxx. fixes the invalid
    builtin crash in menus

 ruamoko/lib/crudefile.r  |   12 ++++++------
 ruamoko/lib/infokey.r    |    2 +-
 ruamoko/lib/math.r       |    4 ++--
 ruamoko/lib/physics.r    |   10 +++++-----
 ruamoko/lib/qw_physics.r |    4 ++--
 ruamoko/lib/server.r     |    2 +-
 ruamoko/lib/string.r     |   12 ++++++------
 ruamoko/lib/system.r     |    2 +-
 8 files changed, 24 insertions(+), 24 deletions(-)

commit 802aacf
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 7 00:03:05 2004 +0000

    allow constant expressions to be used for builtin numbers

 tools/qfcc/source/qc-parse.y |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit cca1558
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 6 23:23:38 2004 +0000

    should have compile tested. oops

 qw/source/sv_progs.c |    1 +
 1 file changed, 1 insertion(+)

commit 89e6b8b
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 6 23:04:14 2004 +0000

    ensure ucmd_unkown and sv_cbuf->unkown_command always point somewhere sane

 qw/source/sv_pr_qwe.c |    6 +++---
 qw/source/sv_progs.c  |    3 +++
 2 files changed, 6 insertions(+), 3 deletions(-)

commit d1b4c5d
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Tue Jan 6 11:09:40 2004 +0000

    Change PL_D_AddObject() so that it replaces values instead of stacking them.
    Add PL_D_AllKeys(), which returns a list of all keys in a dictionary.
    Rename PL_FreeItem() to PL_Free() -- what was I smoking?
    Document some of the property list system for doxygen.

 include/QF/qfplist.h |   82 ++++++++++++++++++++++++++++++++++++++++-
 libs/util/qfplist.c  |  100 ++++++++++++++++++++++++++++++++------------------
 2 files changed, 145 insertions(+), 37 deletions(-)

commit 91fdd90
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Tue Jan 6 11:05:34 2004 +0000

    one-line whitespace, didn't look too hard at the rest though. :)

 libs/util/hash.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 462d726
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 6 08:40:21 2004 +0000

    better memory management for hash tables

 libs/util/hash.c |   62 +++++++++++++++++++++++++++++++++++++++---------------
 1 file changed, 45 insertions(+), 17 deletions(-)

commit cbe006a
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 6 08:09:41 2004 +0000

    print an address if the def name is blank

 libs/gamecode/engine/pr_edict.c |   21 ++++++++++++++++-----
 1 file changed, 16 insertions(+), 5 deletions(-)

commit ea552ae
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 6 07:33:19 2004 +0000

    expand ~ for fs_dirconf

 libs/util/quakefs.c |   11 +++++++----
 1 file changed, 7 insertions(+), 4 deletions(-)

commit 133879f
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 6 07:00:39 2004 +0000

    provide builtin mappings for id (none, really), qf and ktpro/qwe (qw only),
    add qwe builtin extensions to qw-server. provide sv_progs_ext to control
    the builtin mapping. valid values are "id", "qf" (our old static builtins),
    "qwe"/"ktpro" (either works. for ktpro mod support) and "none" (no
    mapping). any other value is equivalent to "none".

 include/QF/progs.h                 |   17 ++
 libs/gamecode/builtins/pr_cmds.c   |   20 +-
 libs/gamecode/engine/pr_builtins.c |   10 -
 nq/include/sv_progs.h              |    3 +
 nq/source/sv_pr_cmds.c             |   14 +-
 nq/source/sv_progs.c               |   35 +++
 qw/include/sv_pr_qwe.h             |   36 +++
 qw/include/sv_progs.h              |    4 +
 qw/source/Makefile.am              |    4 +-
 qw/source/sv_pr_cmds.c             |   34 ++-
 qw/source/sv_pr_qwe.c              |  566 ++++++++++++++++++++++++++++++++++++
 qw/source/sv_progs.c               |   40 +++
 12 files changed, 740 insertions(+), 43 deletions(-)

commit d759278
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 6 06:08:59 2004 +0000

    add builtin mapping support (not used yet) and fix an uninitialized
    variable

 include/QF/progs.h                 |    1 +
 libs/gamecode/engine/pr_builtins.c |    7 +++++--
 2 files changed, 6 insertions(+), 2 deletions(-)

commit acd54af
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 6 05:51:09 2004 +0000

    move to using a hash table for builtin number -> builtin lookup so sparse
    ranges can be used efficiently. move the auto-allocated builtins to
    0x10000000-0x7fffffff. should be more than enough :)
    
    use static builtin tables ("nul" terminated) instead of a series of
    function calls to add builtins to a vm. should be more memory efficient.

 include/QF/progs.h                    |    9 +-
 libs/console/menu.c                   |   41 +++--
 libs/gamecode/builtins/bi_cbuf.c      |   14 +-
 libs/gamecode/builtins/bi_cmd.c       |   13 +-
 libs/gamecode/builtins/bi_cvar.c      |    7 +-
 libs/gamecode/builtins/bi_file.c      |    7 +-
 libs/gamecode/builtins/bi_gib.c       |   18 +-
 libs/gamecode/builtins/bi_hash.c      |   39 ++--
 libs/gamecode/builtins/bi_inputline.c |   24 ++-
 libs/gamecode/builtins/bi_plist.c     |   25 ++-
 libs/gamecode/builtins/bi_qfile.c     |   53 ++++--
 libs/gamecode/builtins/bi_qfs.c       |   13 +-
 libs/gamecode/builtins/pr_cmds.c      |   11 +-
 libs/gamecode/engine/pr_builtins.c    |  108 +++++++----
 libs/gamecode/engine/pr_obj.c         |  145 +++++++--------
 libs/video/renderer/r_progs.c         |   23 ++-
 libs/video/targets/pr_keys.c          |   14 +-
 nq/source/sv_pr_cmds.c                |  226 +++++++++++------------
 nq/source/sv_progs.c                  |    2 -
 qw/source/sv_pr_cmds.c                |  328 +++++++++++++++++----------------
 qw/source/sv_progs.c                  |    2 -
 qw/source/sv_user.c                   |    7 +-
 tools/qwaq/builtins.c                 |   27 +--
 23 files changed, 625 insertions(+), 531 deletions(-)

commit a87fc16
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Tue Jan 6 03:38:48 2004 +0000

    Whitespace.

 libs/video/targets/vid_wgl.c |   92 +++++++++++++++++++++---------------------
 1 file changed, 47 insertions(+), 45 deletions(-)

commit 0670802
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Tue Jan 6 03:38:16 2004 +0000

    Futureproofing.

 libs/video/targets/joy.c |    9 +++++++++
 1 file changed, 9 insertions(+)

commit 3d14b29
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Tue Jan 6 03:24:46 2004 +0000

    Whitespace

 libs/audio/Makefile.am       |    4 ++--
 libs/audio/targets/snd_oss.c |   15 ++++++++++-----
 2 files changed, 12 insertions(+), 7 deletions(-)

commit fbe6c2f
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 6 03:18:44 2004 +0000

    make the bad builtin number a warning and provide a suitable function in
    case the function is called: allows progs with bad (but unused) builtins
    to run anyway

 libs/gamecode/engine/pr_builtins.c |   25 ++++++++++++++++++++-----
 1 file changed, 20 insertions(+), 5 deletions(-)

commit 6f1dd54
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 5 09:06:06 2004 +0000

    quick and dirty fix to get menus loading again. libr.a really needs to be
    cleaned up: most of the stuff in it should /not/ be in the standard library

 ruamoko/include/Makefile.am |    4 ++--
 ruamoko/include/math.h      |    7 -------
 ruamoko/include/message.h   |    1 +
 ruamoko/include/physics.h   |    6 ++++++
 ruamoko/include/server.h    |   15 +++++++++++++++
 ruamoko/include/string.h    |    1 -
 ruamoko/lib/Makefile.am     |    2 +-
 ruamoko/lib/math.r          |    1 -
 ruamoko/lib/message.r       |    1 +
 ruamoko/lib/physics.r       |    1 +
 ruamoko/lib/server.r        |   12 ++++++++++++
 ruamoko/lib/string.r        |    1 -
 ruamoko/lib/system.r        |   10 ----------
 13 files changed, 39 insertions(+), 23 deletions(-)

commit 0ddb5eb
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 5 08:52:20 2004 +0000

    report all bad builtins rather than just the first

 libs/gamecode/engine/pr_builtins.c |   14 +++++++++-----
 1 file changed, 9 insertions(+), 5 deletions(-)

commit 595280d
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 5 08:08:46 2004 +0000

    do the builtin function lookup at load time rather than runtime and store
    the function address in the progs function descriptor. this will speed up
    calls to builtin functions, especially when ranges get introduced.

 include/QF/progs.h                 |    5 +++++
 libs/gamecode/engine/pr_builtins.c |   27 +++++++++++++++++++--------
 libs/gamecode/engine/pr_exec.c     |   17 ++++++-----------
 3 files changed, 30 insertions(+), 19 deletions(-)

commit dfc83c1
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 5 07:10:32 2004 +0000

    add PR_PushFrame and PR_PopFrame so temp strings are easy to use for
    parameters to progs functions.
    
    double the progs stack sizes (call depth of 32? eek)
    
    allow one extra call on the progs stack :)
    
    misc minor cleanups

 include/QF/progs.h                |   18 +++++----
 libs/console/menu.c               |   18 ++++-----
 libs/gamecode/builtins/bi_gib.c   |    4 +-
 libs/gamecode/engine/pr_debug.c   |   78 +++++++++++++++++++-----------------
 libs/gamecode/engine/pr_exec.c    |   75 +++++++++++++++++++++-------------
 libs/gamecode/engine/pr_obj.c     |    2 +-
 libs/gamecode/engine/pr_strings.c |   80 +++++++++++++++++++------------------
 qw/source/sv_ccmds.c              |    8 ++--
 qw/source/sv_user.c               |   18 ++++++---
 tools/qwaq/main.c                 |   10 +++--
 10 files changed, 177 insertions(+), 134 deletions(-)

commit 211908e
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 5 01:41:20 2004 +0000

    implement a couple more obj functions

 libs/gamecode/engine/pr_obj.c |   75 ++++++++++++++++++++++++++++-------------
 1 file changed, 52 insertions(+), 23 deletions(-)

commit d9db1a0
Author: Daniel Anderson <mindhog@mindhog.net>
Date:   Mon Jan 5 00:48:41 2004 +0000

    Treat cs_server clients like non-client entities for GIB "frag" event

 qw/source/sv_pr_cmds.c |    8 +++++---
 1 file changed, 5 insertions(+), 3 deletions(-)

commit 85beae4
Author: Daniel Anderson <mindhog@mindhog.net>
Date:   Mon Jan 5 00:25:58 2004 +0000

    Added the missing null terminator for a reliable message send.

 qw/source/sv_send.c |    1 +
 1 file changed, 1 insertion(+)

commit dfe7f26
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jan 4 07:42:43 2004 +0000

    new internal printf engine for progs, mostly thanks to Deek.
    also a few cleanup bits

 include/QF/progs.h                 |    8 +-
 libs/gamecode/builtins/pr_cmds.c   |  426 +++++++++---------------------------
 libs/gamecode/engine/pr_builtins.c |    4 +-
 libs/gamecode/engine/pr_strings.c  |  372 ++++++++++++++++++++++++++++++-
 libs/util/dstring.c                |    2 +-
 qw/source/sv_init.c                |    3 +-
 tools/qwaq/builtins.c              |   42 +---
 tools/qwaq/main.qc                 |    1 +
 8 files changed, 496 insertions(+), 362 deletions(-)

commit 538d669
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jan 4 03:24:37 2004 +0000

    micro-tidy while pondering how to rework this whole mess

 libs/gamecode/builtins/pr_cmds.c |   29 ++++-------------------------
 1 file changed, 4 insertions(+), 25 deletions(-)

commit a533761
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jan 4 02:03:30 2004 +0000

    Nuke PR_GarbageCollect as it's both redundant with the new temp strings
    and wrong anyway (could free strings it wasn't supposed to).
    
    Don't free the string pointed to by a strref since it's already been
    implicity freed (whole memory space nuked). Fixes new map crash.

 include/QF/progs.h                |    1 -
 libs/gamecode/engine/pr_strings.c |   52 +++----------------------------------
 qw/source/sv_main.c               |   12 ---------
 tools/qwaq/builtins.c             |    7 -----
 4 files changed, 4 insertions(+), 68 deletions(-)

commit 043c1ce
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sun Jan 4 01:20:20 2004 +0000

    Check for %s_luma as well as %s_glow. Also a bit of whitespace.

 libs/models/alias/gl_model_alias.c |   14 +++++++++-----
 1 file changed, 9 insertions(+), 5 deletions(-)

commit bd561fa
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jan 3 08:43:57 2004 +0000

     o  all progs strings are now stored in progs memory
     o  temporary strings automaticly get freed when the function they're
        created in (results of str + str and most strings returned from
    	builtins). a way to keep temp strings will be provided later
     o	fix up qwaq to test the temp strings

 include/QF/progs.h                |   22 +++---
 libs/gamecode/engine/pr_exec.c    |    7 +-
 libs/gamecode/engine/pr_load.c    |   14 ++--
 libs/gamecode/engine/pr_strings.c |  141 ++++++++++++++++++++++++++++++++++---
 tools/qwaq/main.c                 |    7 +-
 tools/qwaq/main.qc                |   11 +++
 6 files changed, 169 insertions(+), 33 deletions(-)

commit 40b8974
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Dec 28 05:25:06 2003 +0000

    better external skin handling from Grievre

 libs/models/alias/gl_model_alias.c |   56 +++++++++++++++++++++++++-----------
 libs/models/alias/model_alias.c    |    2 ++
 libs/models/brush/gl_model_brush.c |   12 ++++----
 libs/models/model.c                |    1 -
 libs/util/quakefs.c                |   16 +++++++----
 libs/video/renderer/gl/gl_sky.c    |    8 ++++--
 6 files changed, 64 insertions(+), 31 deletions(-)

commit 9dbb833
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Tue Dec 23 22:24:48 2003 +0000

    Fix loading of some sky textures.

 libs/video/renderer/gl/gl_sky.c |    6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit 1be98dc
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Tue Dec 23 20:05:52 2003 +0000

    gl_external_textures -> gl_textures_external, plus whitespace & codingstyle.

 include/QF/model.h                 |    2 +-
 libs/models/brush/gl_model_brush.c |    4 +---
 libs/models/model.c                |   14 +++++++-------
 3 files changed, 9 insertions(+), 11 deletions(-)

commit 4b6b513
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Dec 23 08:38:33 2003 +0000

    more texture tweeks from Griever: gl_external_textures

 include/QF/model.h  |    1 +
 libs/models/model.c |   12 ++++++++++--
 2 files changed, 11 insertions(+), 2 deletions(-)

commit 9f76665
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Dec 23 07:22:04 2003 +0000

    luma tweak (redundant code removal) from Grievre

 libs/models/brush/gl_model_brush.c |   44 +++++-------------------------------
 1 file changed, 6 insertions(+), 38 deletions(-)

commit c917233
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Dec 22 23:40:20 2003 +0000

    make sure outputbuf's mem gets initialized (oops:)

 qw/source/sv_send.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 5eff81b
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Dec 22 23:35:22 2003 +0000

    dstrings now have individual memory management functions

 include/QF/dstring.h |   16 +++++++++++++
 libs/util/dstring.c  |   62 +++++++++++++++++++++++++++++++++++++++++---------
 2 files changed, 67 insertions(+), 11 deletions(-)

commit e53967b
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Dec 22 20:51:08 2003 +0000

    --disable-static now works (thanks for the heads-up, raorn)

 configure.ac                       |    6 ++++++
 libs/net/Makefile.am               |    4 ++--
 libs/net/nc/Makefile.am            |    2 +-
 libs/net/nm/Makefile.am            |    2 +-
 libs/util/Makefile.am              |    1 +
 libs/video/renderer/Makefile.am    |    2 +-
 libs/video/renderer/sw/Makefile.am |    5 +++--
 libs/video/targets/Makefile.am     |   32 ++++++++++++++++----------------
 nq/source/Makefile.am              |    1 +
 qw/include/server.h                |    1 +
 qw/source/Makefile.am              |    3 ++-
 11 files changed, 35 insertions(+), 24 deletions(-)

commit 069ee86
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Dec 22 19:59:33 2003 +0000

    fix a typo that prevented the asm lib getting the correct flags

 libs/video/targets/Makefile.am |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 0307618
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Dec 22 19:58:46 2003 +0000

    use the passed "size" parameter rather than qfs_filesize: no telling
    /where/ the progs really came from :)

 libs/gamecode/engine/pr_load.c |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 5f76017
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Mon Dec 22 01:07:49 2003 +0000

    Update ALSA sound target to support 1.0.
    Breaks 0.9 support, but 1.0 is in 2.6.0. So either update, or revert to older
    snd_alsa.c & alsa_funcs_list.h.

 include/alsa_funcs_list.h     |   10 ++--
 libs/audio/targets/snd_alsa.c |  112 ++++++++++++++++++++++-------------------
 2 files changed, 64 insertions(+), 58 deletions(-)

commit 12d3a13
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sun Dec 21 08:02:03 2003 +0000

    Luma texture support for brush models (From Fuh, by way of Grievre).

 libs/models/brush/gl_model_brush.c |  111 ++++++++++++++++++++++++++----------
 1 file changed, 82 insertions(+), 29 deletions(-)

commit 35d690c
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Dec 19 04:59:34 2003 +0000

    give an error message instead of segging for the following code:
    
    @class foo;
    @interface bar : foo
    @end

 tools/qfcc/source/class.c |   13 ++++++++++---
 1 file changed, 10 insertions(+), 3 deletions(-)

commit fade441
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Dec 19 04:50:42 2003 +0000

    clients now need to link in the server console plugin when static

 nq/source/Makefile.am |    1 +
 1 file changed, 1 insertion(+)

commit 9e3f33f
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Dec 19 04:25:07 2003 +0000

    don't need to see these :)

 include/QF/classes/.gitignore |    3 +++
 libs/object/.gitignore        |    7 +++++++
 2 files changed, 10 insertions(+)

commit 7d82daa
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Dec 19 03:41:58 2003 +0000

    dedicated server needs/wants the text (server) console plugin, not the
    console plugin (ie, when static)

 nq/source/host.c |   13 ++++++++++---
 1 file changed, 10 insertions(+), 3 deletions(-)

commit f8baa5b
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Tue Dec 9 06:57:35 2003 +0000

    Added a finalize method to all Objects and modified the garbage
    collector to deal with objects that might gain references during
    finalization.

 include/QF/object.h   |    4 +++-
 include/garbage.h     |    4 ++--
 libs/object/garbage.c |   36 +++++++++++++++++++++++++-----------
 libs/object/object.c  |   17 +++++++++++++++--
 4 files changed, 45 insertions(+), 16 deletions(-)

commit e56e566
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Dec 9 04:29:12 2003 +0000

    eek, had the entity center-point calculation wrong. thanks, grievre

 nq/source/sv_pr_cmds.c |    2 +-
 qw/source/sv_pr_cmds.c |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 991fc06
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Tue Dec 9 02:01:05 2003 +0000

    Garbage collection:
    Moved from reference counting over to a mark and sweep method.  Objects
    are now required to implement an allRefs method which returns a pointer
    to a list of all other referenced objects.  How the list is maintained
    is up to each object.  The retain/release mechanism still works; objects
    with any references will not be garbage collected, even if the collector
    thinks they should be.

 include/QF/classes/ArrayList.h |    2 ++
 include/QF/object.h            |   12 +++++--
 include/garbage.h              |    7 ++--
 libs/object/ArrayList.c        |   37 +++++++++++----------
 libs/object/Double.c           |    2 +-
 libs/object/garbage.c          |   69 ++++++++++++++++++++++++----------------
 libs/object/object.c           |   50 ++++++++++++++++++++++++-----
 qw/source/sv_main.c            |    2 +-
 8 files changed, 122 insertions(+), 59 deletions(-)

commit e498b19
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Sun Dec 7 22:45:32 2003 +0000

    Fix a bug with ArrayList_Deinit_f (tried too hard to be clever), and add
    an incremental, reference counting garbage collector for QFobjects.  A
    different kind of collector will eventually be needed to run once in a
    while to sweep up cyclic structures.

 include/Makefile.am     |    2 +-
 include/QF/object.h     |   14 +++++---
 include/garbage.h       |   39 +++++++++++++++++++++
 libs/object/ArrayList.c |    2 +-
 libs/object/Makefile.am |    2 +-
 libs/object/garbage.c   |   89 +++++++++++++++++++++++++++++++++++++++++++++++
 libs/object/object.c    |   33 ++++++++++--------
 qw/source/sv_main.c     |    3 ++
 8 files changed, 162 insertions(+), 22 deletions(-)

commit 7598ab3
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Sun Dec 7 04:50:46 2003 +0000

    Move the QF object system into it's own library, fix up the standard
    classes.

 configure.ac                    |    2 +
 include/QF/Makefile.am          |    2 +-
 include/QF/classes/ArrayList.h  |   51 ++++++
 include/QF/classes/Collection.h |   49 ++++++
 include/QF/classes/Double.h     |   42 +++++
 include/QF/classes/Exception.h  |   42 +++++
 include/QF/classes/Integer.h    |   42 +++++
 include/QF/classes/Iterator.h   |   43 +++++
 include/QF/classes/List.h       |   46 +++++
 include/QF/classes/Makefile.am  |    4 +
 include/QF/classes/Number.h     |   43 +++++
 include/QF/classes/String.h     |   42 +++++
 include/QF/object.h             |   47 ++----
 libs/Makefile.am                |    2 +-
 libs/object/ArrayList.c         |  234 +++++++++++++++++++++++++
 libs/object/Collection.c        |  106 ++++++++++++
 libs/object/Double.c            |   80 +++++++++
 libs/object/Integer.c           |   80 +++++++++
 libs/object/Iterator.c          |   56 ++++++
 libs/object/List.c              |   75 +++++++++
 libs/object/Makefile.am         |   10 ++
 libs/object/Number.c            |   57 +++++++
 libs/object/String.c            |   73 ++++++++
 libs/object/object.c            |  216 ++++++++++++++++++++++++
 libs/util/Makefile.am           |    2 +-
 libs/util/object.c              |  356 ---------------------------------------
 qw/source/Makefile.am           |    1 +
 27 files changed, 1414 insertions(+), 389 deletions(-)

commit c3e7832
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Dec 7 04:21:58 2003 +0000

    correct gamma test thanks to Grievre

 libs/image/png.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 09143b7
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Dec 6 22:49:18 2003 +0000

    more whitespace

 include/QF/progs.h |   44 ++++++++++++++++++++++----------------------
 1 file changed, 22 insertions(+), 22 deletions(-)

commit 53e382d
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Dec 6 05:06:27 2003 +0000

    fix an incorrect parameter bug found by Grievre

 qw/source/sv_user.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 4d3ca27
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Dec 5 22:33:11 2003 +0000

    white space

 include/QF/progs.h |  151 ++++++++++++++++++++++++++--------------------------
 1 file changed, 75 insertions(+), 76 deletions(-)

commit a726e33
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Dec 2 23:42:09 2003 +0000

    mask off non-light bits from effects in CL_NewDlight as EF_FLAG1 etc
    shouldn't affect light effects.

 qw/source/cl_ents.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit a0b8566
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Sat Nov 29 23:09:50 2003 +0000

    Add the instanceOf() macro and supporting function, and try to fix
    gcc 2.95 support again.

 include/QF/object.h |   14 ++++++++------
 libs/util/object.c  |   10 ++++++++++
 2 files changed, 18 insertions(+), 6 deletions(-)

commit dfe1dbe
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Sat Nov 29 22:51:16 2003 +0000

    This should fix object.h on gcc 2.95.

 include/QF/object.h |   11 ++++++++++-
 1 file changed, 10 insertions(+), 1 deletion(-)

commit 5518162
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Sat Nov 29 04:40:25 2003 +0000

    First commit of an experimental low-level object system.  At some point
    GIB will be reworked to use it, and hopefully Rua will also so that the
    two languages can share objects, events, etc.
    
    Warning: This uses quite a few hacks and tortured macros, it might cause
    breakage.

 include/QF/Makefile.am |    2 +-
 include/QF/object.h    |  106 +++++++++++++++
 libs/util/Makefile.am  |    2 +-
 libs/util/object.c     |  346 ++++++++++++++++++++++++++++++++++++++++++++++++
 qw/source/sv_main.c    |    4 +
 5 files changed, 458 insertions(+), 2 deletions(-)

commit 37a64e5
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Sat Nov 29 02:01:31 2003 +0000

    Change some error names, mark a few things static that should be.  Instead
    of using a colon to specify a parent class in a GIB class definition,
    "extends" is now used.  If no parent class is specified, it now defaults to
    Object.

 include/QF/gib.h         |    2 +-
 libs/gib/gib_builtin.c   |   59 ++++++++++++++++++++++++++++++----------------
 libs/gib/gib_classes.c   |   20 ++++++++--------
 libs/gib/gib_execute.c   |    2 +-
 libs/gib/gib_semantics.c |    4 ++--
 5 files changed, 53 insertions(+), 34 deletions(-)

commit 82975df
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 25 03:22:51 2003 +0000

    send the correct number of bytes

 qw/source/sv_send.c |    3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit cb7ecd9
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 25 02:47:05 2003 +0000

    make certain Cmd_ExecuteString calls the command system with an active cbuf

 libs/util/cmd.c |    5 +++++
 1 file changed, 5 insertions(+)

commit cd80353
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Nov 21 21:34:53 2003 +0000

    PR_GetString should have been returning const char *. now does

 include/QF/progs.h                |    4 ++--
 include/QF/qfplist.h              |    2 +-
 libs/gamecode/builtins/bi_gib.c   |    4 ++--
 libs/gamecode/builtins/pr_cmds.c  |   20 ++++++++++----------
 libs/gamecode/engine/pr_edict.c   |   10 +++++-----
 libs/gamecode/engine/pr_exec.c    |    4 ++--
 libs/gamecode/engine/pr_parse.c   |   14 +++++++-------
 libs/gamecode/engine/pr_strings.c |    6 +++---
 libs/util/qfplist.c               |   14 ++++++++++----
 tools/qwaq/builtins.c             |    6 +++---
 10 files changed, 45 insertions(+), 39 deletions(-)

commit 5a49e9f
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Nov 21 20:04:16 2003 +0000

    fixed an uninitialized variable. took reordering operations a bit to do so

 qw/source/sv_user.c |   46 ++++++++++++++++++++++------------------------
 1 file changed, 22 insertions(+), 24 deletions(-)

commit ce745c8
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Nov 21 06:09:21 2003 +0000

    better command output redirection handling: maplist over rcon should show
    all (or most, there are limits still) of the maps on a server with many
    maps.
    
    move the optional progs funcs into sv_funcs_t and add UserInfoChanged,
    ChatMessage and LocalinfoChanged callback support.
    
    clean up PF_setinfo (and SV_SetInfo_f and SV_Localinfo_f) using shared code
    where possible und to use the UserInfoChanged and LocalinfoChanged
    callbacks.
    
    add chat message callback to SV_Say. if it returns zero, normal chat
    handling is done, otherwise it's assumed to have been handled by the progs.
    
    provide a hook for unkown user commands. non-zero return means it's been
    handled.

 qw/include/server.h    |   16 +++++--
 qw/include/sv_demo.h   |    1 +
 qw/include/sv_progs.h  |   19 +++++---
 qw/source/sv_ccmds.c   |   34 ++++++++++++---
 qw/source/sv_main.c    |    4 +-
 qw/source/sv_nchan.c   |   30 ++++++++++---
 qw/source/sv_phys.c    |    4 +-
 qw/source/sv_pr_cmds.c |   37 ++--------------
 qw/source/sv_progs.c   |   21 +++------
 qw/source/sv_send.c    |   68 ++++++++++++++++++++++-------
 qw/source/sv_user.c    |  113 +++++++++++++++++++++++++++++++-----------------
 11 files changed, 219 insertions(+), 128 deletions(-)

commit 886b766
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Nov 21 05:01:50 2003 +0000

    whitespace

 qw/source/Makefile.am |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 98da304
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Nov 21 04:53:41 2003 +0000

    this should fix the scores in deathmatch (thanks, xi)

 nq/source/sbar.c |   33 ++++++++++++++++-----------------
 1 file changed, 16 insertions(+), 17 deletions(-)

commit ad56a24
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Nov 20 21:12:15 2003 +0000

    wonder what I was smoking...

 nq/source/sbar.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 7ea30f3
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Nov 20 08:02:32 2003 +0000

    use the new pr load hook for resolving the globals

 libs/console/menu.c |   22 +++++++++-------------
 1 file changed, 9 insertions(+), 13 deletions(-)

commit e74cd75
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Nov 20 08:01:27 2003 +0000

    d'oh, forgot to relocate the builtins :P

 libs/gamecode/engine/pr_load.c |    1 +
 1 file changed, 1 insertion(+)

commit 5f5662a
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Nov 20 07:46:56 2003 +0000

    PF_VarString return a plain char * and make it easier to add "at load" init
    functions

 include/QF/progs.h                |   18 ++++++--
 libs/gamecode/builtins/pr_cmds.c  |    2 +-
 libs/gamecode/engine/pr_debug.c   |   13 +++---
 libs/gamecode/engine/pr_load.c    |   50 ++++++++++++++------
 libs/gamecode/engine/pr_obj.c     |    3 +-
 libs/gamecode/engine/pr_opcode.c  |   92 ++++++++++++++++++++++++-------------
 libs/gamecode/engine/pr_resolve.c |   23 ++++------
 libs/gamecode/engine/pr_strings.c |    3 +-
 8 files changed, 130 insertions(+), 74 deletions(-)

commit 14c65d4
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Nov 20 07:03:50 2003 +0000

    white space and add a {}

 libs/console/client.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit b3c6e76
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Nov 20 07:02:14 2003 +0000

    allow cbufs to have a callback for unknown commands. if the callback
    returns non-zero the unknown command is assumed to have been handled and no
    error is reported

 include/QF/cbuf.h |   23 ++++++++++++-----------
 libs/util/cmd.c   |    2 ++
 2 files changed, 14 insertions(+), 11 deletions(-)

commit 481c9c4
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Nov 20 07:00:07 2003 +0000

    add Sys_TimeOfDay from QWE (HighlandeR)

 include/QF/sys.h |   11 +++++++++++
 libs/util/sys.c  |   18 ++++++++++++++++++
 2 files changed, 29 insertions(+)

commit bb4e9de
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Nov 16 07:17:18 2003 +0000

    fix a real oopsie with if (const)

 tools/qfcc/source/expr.c |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 9a97ee4
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Nov 3 18:58:35 2003 +0000

    remove obsolete settings

 doc/quakeforge.dox.in |   35 -----------------------------------
 1 file changed, 35 deletions(-)

commit 834ab26
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Oct 27 21:48:13 2003 +0000

    remove some buggy debug code :P

 tools/qfcc/source/expr.c |    1 -
 1 file changed, 1 deletion(-)

commit 63414ea
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Oct 25 04:35:47 2003 +0000

    more gccisms in the error reporting (In function ...)

 tools/qfcc/source/expr.c     |   23 +++++++++++++++++++++++
 tools/qfcc/source/qc-parse.y |    1 +
 2 files changed, 24 insertions(+)

commit 58d0f18
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Oct 24 22:23:56 2003 +0000

    recover from errors in bool expressions (ie, don't segfault)

 tools/qfcc/source/expr.c     |   11 ++++++++++
 tools/qfcc/source/qc-parse.y |   50 +++++++++++++++++++++++++-----------------
 2 files changed, 41 insertions(+), 20 deletions(-)

commit 8e03008
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Oct 24 21:23:03 2003 +0000

    only one define/undefine/include per option

 tools/qfcc/doc/man/qfcc.1   |   10 +++++-----
 tools/qfcc/source/options.c |    9 +++++++++
 2 files changed, 14 insertions(+), 5 deletions(-)

commit 2469c36
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Oct 23 06:21:07 2003 +0000

    yay, short circuit logic done :)

 tools/qfcc/TODO |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit bcf3738
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Thu Oct 23 03:53:59 2003 +0000

    Make trails in sw renderers const-friendly.

 libs/video/renderer/sw/sw_rpart.c     |   83 +++++++++++++++++--------------
 libs/video/renderer/sw32/sw32_rpart.c |   87 +++++++++++++++++----------------
 2 files changed, 90 insertions(+), 80 deletions(-)

commit 894f397
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Thu Oct 23 03:52:52 2003 +0000

    Typos and other legibility improvements. Enjoy the reconfigures & recompiles. Whee!

 acinclude.m4 |    6 +++---
 configure.ac |    2 +-
 2 files changed, 4 insertions(+), 4 deletions(-)

commit 1269241
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Wed Oct 22 22:21:39 2003 +0000

    Make particle effects not mess with stuff they shouldn't. Also fix an
    improperly declared variable.

 libs/video/renderer/gl/gl_dyn_part.c |  211 ++++++++++++++++++----------------
 1 file changed, 114 insertions(+), 97 deletions(-)

commit 7ef80d1
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Oct 22 21:49:47 2003 +0000

    mske sure .self and .this are defined in progs.src mode (ie, @self and
    @this)

 tools/qfcc/source/qfcc.c |   10 ++++++++--
 1 file changed, 8 insertions(+), 2 deletions(-)

commit 2290ed3
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Wed Oct 22 20:20:24 2003 +0000

    l = 64, and taniwha is much happier.

 libs/video/renderer/gl/gl_dyn_part.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c4b43c9
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Wed Oct 22 20:08:34 2003 +0000

    QuakeForge doesn't need any ooptions.

 configure.ac |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c76282c
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Oct 22 16:49:57 2003 +0000

    fix bools in function calls

 tools/qfcc/source/expr.c |   39 +++++++++++++++++++++++++++++++--------
 1 file changed, 31 insertions(+), 8 deletions(-)

commit 5f97de5
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Oct 22 09:14:53 2003 +0000

    fix a few bugs

 tools/qfcc/source/emit.c     |    5 +++++
 tools/qfcc/source/expr.c     |   36 ++++++++++++++++++++++++------------
 tools/qfcc/source/qc-parse.y |   32 ++++++++++++++++++++++++++++++++
 3 files changed, 61 insertions(+), 12 deletions(-)

commit d3e7be7
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Oct 22 09:04:18 2003 +0000

    flush sv_logfile on each print

 libs/console/server.c |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 969dad8
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Oct 22 08:30:54 2003 +0000

    fix a secfault in return_expr

 tools/qfcc/source/expr.c |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 72ae59f
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Oct 22 08:27:38 2003 +0000

    short circuit logic can now be controlled (see man page)

 tools/qfcc/doc/man/qfcc.1    |    7 +++++++
 tools/qfcc/include/options.h |    1 +
 tools/qfcc/source/expr.c     |    3 +++
 tools/qfcc/source/options.c  |   10 ++++++++++
 4 files changed, 21 insertions(+)

commit 9450064
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Oct 22 08:05:17 2003 +0000

    short circuit logic for && and || (as per C). forces standard precedence
    (ie, breaks --traditional) when enabled (no choice at the moment, next fix)

 tools/qfcc/include/expr.h    |   17 ++++
 tools/qfcc/source/emit.c     |  125 ++++++++++++++++++++++++-
 tools/qfcc/source/expr.c     |  207 ++++++++++++++++++++++++++++++++++++------
 tools/qfcc/source/qc-parse.y |  111 ++++++++++++++--------
 4 files changed, 394 insertions(+), 66 deletions(-)

commit 5686ff5
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Wed Oct 22 06:00:36 2003 +0000

    Make R_DarkFieldParticles & R_EntityParticles work in all renderers.

 include/r_dynamic.h                   |   21 +++---
 libs/video/renderer/gl/gl_dyn_part.c  |   95 +++++++++++++++++++++++++--
 libs/video/renderer/r_part.c          |  116 ++++-----------------------------
 libs/video/renderer/sw/sw_rpart.c     |  105 ++++++++++++++++++++++++++++-
 libs/video/renderer/sw32/sw32_rpart.c |  106 +++++++++++++++++++++++++++++-
 5 files changed, 319 insertions(+), 124 deletions(-)

commit 0205a8a
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Wed Oct 22 01:04:35 2003 +0000

    Optimize and slightly clean up R_DarkFieldParticles & R_EntityParticles.

 libs/video/renderer/r_part.c |   42 +++++++++++++++++++++---------------------
 1 file changed, 21 insertions(+), 21 deletions(-)

commit f4c1741
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Sun Oct 19 00:51:47 2003 +0000

    Add support for named arguments in GIB functions and methods, fix a few
    bugs, allow subclasses of classes written in GIB to access the same set
    of instance variables.

 include/QF/gib.h         |    2 +-
 include/gib_function.h   |    8 ++--
 libs/gib/gib_builtin.c   |   49 ++++++++++++++++------
 libs/gib/gib_classes.c   |   47 +++++++++++++++------
 libs/gib/gib_execute.c   |   13 ++++--
 libs/gib/gib_function.c  |  101 +++++++++++++++++++++++++++++++++-------------
 libs/gib/gib_object.c    |    8 +++-
 libs/gib/gib_semantics.c |   24 ++++++-----
 tools/carne/main.c       |    2 +-
 9 files changed, 180 insertions(+), 74 deletions(-)

commit 389ead6
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Oct 18 22:23:42 2003 +0000

    mention my oopsy

 NEWS |    2 ++
 1 file changed, 2 insertions(+)

commit a5ae204
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Oct 18 01:52:28 2003 +0000

    merge in fixes from the 0.5.3 branch that I forgot to do for 0.5.4 (damn
    emergency release:P). Fixes the missing menu.dat from the debs

 NEWS         |   62 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 debian/rules |    3 ++-
 2 files changed, 64 insertions(+), 1 deletion(-)

commit d2d0cb2
Author: Chris Ison <cisos@bigpond.net.au>
Date:   Wed Oct 15 20:40:53 2003 +0000

    proper implementation to prevent the fastforward effect

 libs/audio/renderer/midi.c |   26 +++++++++++++++++++++++---
 1 file changed, 23 insertions(+), 3 deletions(-)

commit c8b9f75
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Thu Oct 9 19:16:14 2003 +0000

    Add support for supplying NULL palettes to LoadPCX() [uses the .pcx's palette].
    Change convert in LoadPCX() to use rgb rather than rgba, since it was just
    supplying 255 for A anyways.
    Also restructure image.c a bit, remove unneeded ifs.

 libs/image/image.c |   61 +++++++++++++++++++++++++++++++---------------------
 libs/image/pcx.c   |   10 +++++----
 2 files changed, 43 insertions(+), 28 deletions(-)

commit 99034fe
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Sep 25 02:05:43 2003 +0000

    initialized locals aren't constant

 tools/qfcc/source/qc-parse.y |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 0b44c78
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Sep 24 04:01:34 2003 +0000

    handle PF_QF bit iff the server is actually a qsg 2.0 server

 qw/source/cl_ents.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 96f052a
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Sep 24 02:24:30 2003 +0000

    fix misplaced [    ] in teamplay mode

 qw/source/sbar.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 39c0a0f
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Sep 24 00:59:53 2003 +0000

    make cluster recursion a warning rather than an error (see how this goes)

 tools/qfvis/source/flow.c |   12 ++++++++----
 1 file changed, 8 insertions(+), 4 deletions(-)

commit 8593c1b
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Sep 23 21:49:34 2003 +0000

    show_* -> hud_*. Thanks for the headsup, IrcMonkey

 ruamoko/cl_menu/options.qc |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 4ce81b2
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Sep 23 17:59:46 2003 +0000

    remove nested scopes for traditional mode

 tools/qfcc/source/qc-parse.y |   26 +++++++++++++++-----------
 1 file changed, 15 insertions(+), 11 deletions(-)

commit 91207c0
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Sep 23 16:57:53 2003 +0000

    make void functions actually return float in traditional mode (qcc allowed
    things like foo = void_function)

 tools/qfcc/source/expr.c |    2 ++
 1 file changed, 2 insertions(+)

commit 387464a
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Sep 23 16:42:03 2003 +0000

    mangle precedence of = relative to && and || for --traditional (bletch).
    also make noise when assigning to bad lvalues (eg !x = y)

 tools/qfcc/source/expr.c |   31 +++++++++++++++++++++++++++++++
 1 file changed, 31 insertions(+)

commit 12a90e9
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Sep 22 23:17:47 2003 +0000

    remove redundant calls to COM_InitArgv

 nq/source/sys_unixd.c  |   15 +++++++++------
 nq/source/sys_wind.c   |   19 +++++++++++--------
 qw/source/sv_main.c    |    2 --
 qw/source/sv_sys_win.c |    3 ++-
 4 files changed, 22 insertions(+), 17 deletions(-)

commit ba26628
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Sep 22 22:15:31 2003 +0000

    --traditional now "fixes" (ie, breaks) operator precedence to match qcc
    except for the relationship between "=" and "&&" and "||": not sure I want
    to go that far towards bug compatability.

 tools/qfcc/source/expr.c |   60 ++++++++++++++++++++++++++++++++++++----------
 1 file changed, 48 insertions(+), 12 deletions(-)

commit ad61e06
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Sun Sep 21 00:30:47 2003 +0000

    Make GIB_Reply an actual function, store object handles as a string, add
    the ObjectHash class.

 include/QF/gib.h       |    7 +-
 libs/gib/gib_classes.c |  226 ++++++++++++++++++++++++++++++++++++++++++++++--
 libs/gib/gib_object.c  |   12 +++
 3 files changed, 235 insertions(+), 10 deletions(-)

commit 52417dc
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Sep 20 05:24:57 2003 +0000

    oops, forgot about this

 tools/qwaq/Makefile.am |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit dc84232
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sat Sep 20 04:29:42 2003 +0000

    Whitespace, remove misleading .png extension from external conchars loader.

 libs/video/renderer/gl/gl_draw.c |  105 ++++++++++++++++++--------------------
 1 file changed, 51 insertions(+), 54 deletions(-)

commit 9027648
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Sep 20 04:13:32 2003 +0000

    kill -t for --traditional, add --advanced, default to --traditional for
    progs.src mode and --advanced otherwise

 tools/qfcc/doc/man/qfcc.1    |   11 ++++++++---
 tools/qfcc/include/options.h |    1 +
 tools/qfcc/source/options.c  |   29 +++++++++++++++++++++++------
 3 files changed, 32 insertions(+), 9 deletions(-)

commit 651fa8c
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Sep 19 20:50:05 2003 +0000

    correct the operator precendece to match C. hopefully won't cause any
    problems :)

 tools/qfcc/source/qc-parse.y |   14 ++++++++++----
 1 file changed, 10 insertions(+), 4 deletions(-)

commit d699926
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Sep 19 06:22:02 2003 +0000

    external conchars patch from DrSpliff

 libs/video/renderer/gl/gl_draw.c |   29 ++++++++++++++++++++++-------
 1 file changed, 22 insertions(+), 7 deletions(-)

commit aa37db9
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Sep 18 22:50:42 2003 +0000

    check for null function

 libs/gamecode/engine/pr_obj.c |    2 ++
 1 file changed, 2 insertions(+)

commit 9e86112
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Sep 17 22:46:37 2003 +0000

    world is supposed to be portalized using the "detail" portals

 tools/qfbsp/source/qfbsp.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 4f33663
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Sep 17 21:03:52 2003 +0000

    brush.c:
    	quieten point off plane warning
    qfbsp.c:
    	allocate less memory for clipped winding

 tools/qfbsp/source/brush.c |    8 +++++---
 tools/qfbsp/source/qfbsp.c |   15 +++++++++++----
 2 files changed, 16 insertions(+), 7 deletions(-)

commit 83ba424
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Sep 17 20:26:57 2003 +0000

    force axis aligned planes to truely be axis aligned (fixes degenerate
    polygons being generated by ClipWinding) and use LordHavoc's point off
    plane correction code

 tools/qfbsp/source/brush.c |   12 ++++++------
 1 file changed, 6 insertions(+), 6 deletions(-)

commit fea382d
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Sep 15 21:13:13 2003 +0000

    fix an accounting error

 libs/gamecode/engine/pr_exec.c |    2 ++
 1 file changed, 2 insertions(+)

commit 03d67f6
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Sep 15 16:33:16 2003 +0000

    ignore some more files

 tools/texpaint/.gitignore |    2 ++
 1 file changed, 2 insertions(+)

commit 0db01f4
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Sep 12 23:13:11 2003 +0000

    progress "meter"

 tools/qfvis/source/qfvis.c |    6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit 84ea81a
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Sep 12 23:12:21 2003 +0000

    fix E_POINTER and E_FUNCTION

 include/QF/progs.h    |    4 ++--
 nq/include/sv_progs.h |   10 +++++-----
 qw/include/sv_progs.h |   10 +++++-----
 3 files changed, 12 insertions(+), 12 deletions(-)

commit 31112bf
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Sep 12 22:03:30 2003 +0000

    it's gimp-paintbrush rather than gimp_paintbrush

 tools/texpaint/texturepaint.c |    5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 0cd6fb3
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Fri Sep 12 20:52:23 2003 +0000

    Minor cleanups.

 tools/texpaint/.gitignore   |    9 +++++++++
 tools/texpaint/config.h.in  |    2 --
 tools/texpaint/configure.ac |   15 ++++++---------
 3 files changed, 15 insertions(+), 11 deletions(-)

commit ccea0d5
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Sep 12 20:40:14 2003 +0000

    seems printf isn't threadsafe

 tools/qflight/source/qflight.c |    6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit 773eda1
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Fri Sep 12 18:41:29 2003 +0000

    Okay, all. This is the TexturePaint 1.1 GIMP plugin, modified by me long ago
    to work under GIMP 1.2.x -- at taniwha's urging, I am checking this into CVS.
    
    You need libgtk+ v1.2, libgtkglarea v5, libgimp v1.2 (or thereabouts) to get
    this to work.

 tools/texpaint/COPYING              |  340 ++++++++
 tools/texpaint/Makefile.am          |   35 +
 tools/texpaint/Pixmaps/begin.xpm    |   21 +
 tools/texpaint/Pixmaps/end.xpm      |   21 +
 tools/texpaint/Pixmaps/pause.xpm    |   21 +
 tools/texpaint/Pixmaps/play.xpm     |   21 +
 tools/texpaint/Pixmaps/question.xpm |   69 ++
 tools/texpaint/Pixmaps/stop.xpm     |   21 +
 tools/texpaint/Pixmaps/warning.xpm  |   69 ++
 tools/texpaint/README               |   59 ++
 tools/texpaint/acinclude.m4         |  407 +++++++++
 tools/texpaint/bootstrap            |   94 +++
 tools/texpaint/config.h.in          |   27 +
 tools/texpaint/configure.ac         |   41 +
 tools/texpaint/dialog.glade         | 1299 +++++++++++++++++++++++++++++
 tools/texpaint/gladesig.c           |  189 +++++
 tools/texpaint/gladesig.h           |   79 ++
 tools/texpaint/gladesrc.c           |  706 ++++++++++++++++
 tools/texpaint/gladesrc.h           |   45 +
 tools/texpaint/main.c               |  423 ++++++++++
 tools/texpaint/model.h              |   81 ++
 tools/texpaint/model1.c             |  302 +++++++
 tools/texpaint/model2.c             |  357 ++++++++
 tools/texpaint/open.c               |  204 +++++
 tools/texpaint/pack.c               |  278 +++++++
 tools/texpaint/pack.h               |   32 +
 tools/texpaint/q1pal.h              |  258 ++++++
 tools/texpaint/texturepaint.c       | 1540 +++++++++++++++++++++++++++++++++++
 tools/texpaint/texturepaint.h       |  181 ++++
 tools/texpaint/trackball.c          |  324 ++++++++
 tools/texpaint/trackball.h          |   78 ++
 31 files changed, 7622 insertions(+)

commit c8d405d
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Sep 12 18:35:10 2003 +0000

    oops, else in wrong spot

 tools/qflight/source/threads.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 9d85695
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Sep 12 17:14:39 2003 +0000

    fix a typo

 tools/pak/pak.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit deb6b2e
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Sep 12 16:43:44 2003 +0000

    all numeric args now check the validity of their arg (that it's a number)

 tools/qflight/source/options.c |   19 ++++++++++++++-----
 1 file changed, 14 insertions(+), 5 deletions(-)

commit bf89a48
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Sep 11 18:52:37 2003 +0000

    error checking

 tools/qflight/source/qflight.c |    6 ++++++
 1 file changed, 6 insertions(+)

commit 84f58bd
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Sep 11 18:21:26 2003 +0000

    allow reading of gzipped bsps

 tools/qflight/source/qflight.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 9297732
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Sep 11 18:11:20 2003 +0000

    fix a typo pointed out by IrcMonkey

 tools/qfbsp/source/options.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 362d58f
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Thu Sep 11 08:51:44 2003 +0000

    Made reference counting of objects more sane.  If a message is sent by an
    object, the sending object is included in the message.  This is available
    in GIB-scripted methods as the local variable "sender", which will be 0
    if the sender was not an object.

 include/QF/gib.h       |   22 +++++++++++-----
 libs/gib/gib_buffer.c  |    6 +++++
 libs/gib/gib_builtin.c |    3 +--
 libs/gib/gib_classes.c |   66 +++++++++++++++++++++++++++++-------------------
 libs/gib/gib_execute.c |   16 +++++++-----
 libs/gib/gib_object.c  |   25 +++++++++++++-----
 6 files changed, 89 insertions(+), 49 deletions(-)

commit 687a084
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Thu Sep 11 06:03:13 2003 +0000

    Introducing the GIB Object System (TM).  This breaks scriptable HUD for now
    and probably has enough bugs to leave the Orkin man scratching his head,
    but it works and allows you to do neat things like write classes in GIB
    (amazing!) and subclass builtin classes (which are Object and Thread at the
    moment, Hash should be coming soon as a replacement for stem and leaf
    variables).

 include/Makefile.am              |    4 +-
 include/QF/cbuf.h                |    1 +
 include/QF/gib.h                 |  105 ++++++++-
 include/QF/llist.h               |    3 +-
 include/gib_buffer.h             |    1 +
 include/gib_classes.h            |   38 ++++
 include/gib_function.h           |    2 +-
 include/gib_handle.h             |    4 +-
 include/gib_object.h             |   36 +++
 include/gib_thread.h             |   16 +-
 include/gib_tree.h               |    3 +-
 include/gib_vars.h               |    1 +
 libs/gamecode/builtins/bi_gib.c  |   32 +--
 libs/gib/Makefile.am             |    4 +-
 libs/gib/gib_buffer.c            |   17 +-
 libs/gib/gib_builtin.c           |  123 +++++-----
 libs/gib/gib_classes.c           |  461 ++++++++++++++++++++++++++++++++++++++
 libs/gib/gib_execute.c           |   83 ++++++-
 libs/gib/gib_function.c          |    4 +-
 libs/gib/gib_handle.c            |   24 +-
 libs/gib/gib_init.c              |    6 +-
 libs/gib/gib_object.c            |  374 +++++++++++++++++++++++++++++++
 libs/gib/gib_semantics.c         |  118 +++++++++-
 libs/gib/gib_thread.c            |   88 +++-----
 libs/gib/gib_vars.c              |    6 +
 libs/util/cbuf.c                 |    8 +-
 libs/util/llist.c                |   33 ++-
 nq/source/Makefile.am            |    4 +-
 qw/source/Makefile.am            |    4 +-
 ruamoko/cl_menu/HUD.h            |    1 -
 ruamoko/cl_menu/HUD.r            |    7 -
 ruamoko/cl_menu/client_menu.qc   |    1 -
 ruamoko/cl_menu/hud_interface.qc |  266 +---------------------
 ruamoko/include/gib.h            |    4 -
 ruamoko/lib/gib.r                |    4 -
 tools/carne/main.c               |    5 +-
 36 files changed, 1402 insertions(+), 489 deletions(-)

commit f28cc3e
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Sep 10 22:02:32 2003 +0000

    missed some alsa0_9 refs

 RPM/quakeforge.spec.in          |    2 +-
 debian/quakeforge-alsa.postinst |    2 +-
 debian/quakeforge-alsa.prerm    |    2 +-
 debian/rules                    |    2 +-
 4 files changed, 4 insertions(+), 4 deletions(-)

commit 0c1655a
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Sep 10 21:09:23 2003 +0000

    some serious speedups. that memset was fiendishly expensive (oops:) and
    redundant anyway (d'oh, paranoia bit me in the bum).

 tools/qflight/source/ltface.c |    4 +-
 tools/qflight/source/trace.c  |  124 ++++++++++++++++++++++++-----------------
 tools/qflight/source/vis.c    |    2 +-
 3 files changed, 74 insertions(+), 56 deletions(-)

commit 1ed772a
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Sep 10 20:48:59 2003 +0000

    convert \ to / while extracting and accecpt file names on the command line
    to control extraction.

 include/QF/pakfile.h |    1 +
 libs/util/pakfile.c  |   10 ++++++++++
 tools/pak/pak.c      |   35 +++++++++++++++++++++++++++++++----
 3 files changed, 42 insertions(+), 4 deletions(-)

commit 6eef62c
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Sep 10 15:48:46 2003 +0000

    LordHavoc's colored lighting support (not his relight stuff (yet?) though)

 tools/qflight/include/entities.h |    2 +-
 tools/qflight/include/light.h    |   45 +++-
 tools/qflight/include/options.h  |    3 +-
 tools/qflight/source/entities.c  |    5 +-
 tools/qflight/source/ltface.c    |  435 ++++++++++++++++----------------------
 tools/qflight/source/options.c   |   13 +-
 tools/qflight/source/qflight.c   |   43 +++-
 tools/qflight/source/threads.c   |   15 +-
 tools/qflight/source/trace.c     |  161 ++++++--------
 tools/qflight/source/vis.c       |    1 +
 10 files changed, 367 insertions(+), 356 deletions(-)

commit 392902f
Author: Chris Ison <cisos@bigpond.net.au>
Date:   Wed Sep 10 05:20:51 2003 +0000

    added SND_NoResampleStereo so that streams that don't need resampling aren't forced to, also added midi support via libWildMidi, MIDI FILES RULE

 configure.ac                    |   19 ++++
 include/snd_render.h            |    2 +
 libs/audio/renderer/Makefile.am |    6 +-
 libs/audio/renderer/midi.c      |  212 +++++++++++++++++++++++++++++++++++++++
 libs/audio/renderer/snd_mem.c   |   75 ++++++++++++++
 5 files changed, 311 insertions(+), 3 deletions(-)

commit 89833cb
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Sep 9 22:20:10 2003 +0000

    support streams that don't want any resampling

 libs/audio/renderer/snd_mem.c |   11 ++++++++---
 1 file changed, 8 insertions(+), 3 deletions(-)

commit 0e6c56a
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Sep 9 18:43:38 2003 +0000

    drop alsa 0.5 support and rename snd_alsa_0_9.c to snd_alsa.c. also rename
    the alsa0_9 plugin to alsa.

 configure.ac                      |   44 ++--
 libs/audio/targets/Makefile.am    |   15 +-
 libs/audio/targets/snd_alsa.c     |  397 +++++++++++++++++++++++++++++++++
 libs/audio/targets/snd_alsa_0_5.c |  437 -------------------------------------
 libs/audio/targets/snd_alsa_0_9.c |  397 ---------------------------------
 5 files changed, 416 insertions(+), 874 deletions(-)

commit 4ce44cf
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Sep 9 16:18:13 2003 +0000

    PNG write support from DrSpliff

 include/QF/png.h |    1 +
 libs/image/png.c |   97 ++++++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 98 insertions(+)

commit 9607b8f
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Sep 9 15:29:14 2003 +0000

    parse the vis data properly

 tools/qflight/source/vis.c |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 26f3839
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Sep 9 08:13:33 2003 +0000

    bring in lordhavoc's vis data optimisations (doesn't work properly yet) and
    parsing of his extra fields.

 tools/qflight/include/entities.h |    4 +-
 tools/qflight/include/light.h    |   13 +++
 tools/qflight/include/options.h  |    7 +-
 tools/qflight/source/Makefile.am |    2 +-
 tools/qflight/source/entities.c  |  147 +++++++++++++++++++++--
 tools/qflight/source/ltface.c    |   10 +-
 tools/qflight/source/options.c   |    8 ++
 tools/qflight/source/qflight.c   |   22 +++-
 tools/qflight/source/vis.c       |  239 ++++++++++++++++++++++++++++++++++++++
 9 files changed, 436 insertions(+), 16 deletions(-)

commit ba4ca35
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Sep 8 22:56:06 2003 +0000

    make the default pcm device "default"

 libs/audio/targets/snd_alsa_0_9.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 94f00bb
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Sep 8 21:57:34 2003 +0000

    it seems wine doesn't like %i in *scanf

 tools/qfbsp/source/qfbsp.c |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 387f6a6
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Mon Sep 8 20:07:51 2003 +0000

    Clean out silly typedef bloat, clean up whitespace.

 libs/image/png.c |   49 +++++++++++++++++++++++++------------------------
 1 file changed, 25 insertions(+), 24 deletions(-)

commit f93cc0d
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Sep 8 19:50:19 2003 +0000

    make the reached entity warning display even without verbose

 tools/qfbsp/source/outside.c |   13 +++++++------
 1 file changed, 7 insertions(+), 6 deletions(-)

commit 2ea7ca1
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Sep 8 15:49:21 2003 +0000

    windows has a LoadImage #define, so kill it :)

 include/QF/GL/extensions.h |    1 +
 include/winquake.h         |    1 +
 libs/image/png.c           |    1 +
 3 files changed, 3 insertions(+)

commit 61a2840
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Sep 8 14:32:54 2003 +0000

    autoconfiscate the png support

 configure.ac           |   18 +++++++++++++++++-
 libs/image/Makefile.am |    2 +-
 libs/image/png.c       |   14 ++++++++++++++
 3 files changed, 32 insertions(+), 2 deletions(-)

commit cb5f57f
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Sep 8 03:46:56 2003 +0000

    oops, forgot to edit the checks for specified fields

 tools/qflight/source/entities.c |   17 ++++++++++-------
 1 file changed, 10 insertions(+), 7 deletions(-)

commit cabe8d6
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Sep 8 03:39:44 2003 +0000

    remove some arbitrary limits and add some of the fields from hlight

 tools/qflight/include/entities.h |   32 +++++++++++++++++--------
 tools/qflight/source/entities.c  |   49 +++++++++++++++++++-------------------
 2 files changed, 47 insertions(+), 34 deletions(-)

commit 50d83a7
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Sep 8 03:25:01 2003 +0000

    same with MAX_POINTS_ON_WINDING

 tools/qfbsp/include/bsp5.h |    6 ---
 tools/qfbsp/source/qfbsp.c |   88 ++++++++++----------------------------------
 2 files changed, 20 insertions(+), 74 deletions(-)

commit ca91f7b
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Sep 8 03:00:53 2003 +0000

    MAXEDGES? What MAXEDGES? :)

 tools/qfbsp/include/bsp5.h    |    6 +-
 tools/qfbsp/source/brush.c    |   54 +++++++++--------
 tools/qfbsp/source/csg4.c     |   96 +++++++-----------------------
 tools/qfbsp/source/map.c      |    2 +-
 tools/qfbsp/source/merge.c    |   60 +++++++++----------
 tools/qfbsp/source/outside.c  |    3 +-
 tools/qfbsp/source/qfbsp.c    |   18 +++++-
 tools/qfbsp/source/region.c   |   10 ++--
 tools/qfbsp/source/solidbsp.c |   17 +++---
 tools/qfbsp/source/surfaces.c |   17 +++---
 tools/qfbsp/source/tjunc.c    |  129 ++++++-----------------------------------
 11 files changed, 140 insertions(+), 272 deletions(-)

commit 89586e0
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Sep 5 06:55:12 2003 +0000

    don't flush garbage to the screen on the first render frame

 libs/video/renderer/gl/gl_screen.c |    5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit 3a8cfb0
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Sep 5 06:48:03 2003 +0000

    fix alpha blending in 2d mode when 3d has never been rendered

 libs/video/targets/vid_common_gl.c |    3 ---
 1 file changed, 3 deletions(-)

commit 92b6550
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Sep 5 04:07:19 2003 +0000

    correction pointed out by DrSpliff

 libs/image/png.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 1a250f0
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Sep 5 03:47:19 2003 +0000

    error checking in LoadLump and handle muptiple wad files better (ie,
    properly:P)

 tools/qfbsp/source/writebsp.c |   31 ++++++++++++++++++++++++++-----
 1 file changed, 26 insertions(+), 5 deletions(-)

commit 04a1ff5
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Sep 5 02:27:34 2003 +0000

    D'OH!!! fixes totally borked vis data :)

 tools/qfbsp/source/portals.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 6b036d1
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Sep 4 22:29:40 2003 +0000

    in_mouse_accel patch from qize@gmx.net

 include/QF/input.h               |    2 +-
 include/context_x11.h            |    3 +++
 libs/video/targets/context_x11.c |   31 +++++++++++++++++++++++++++++++
 libs/video/targets/in_x11.c      |   17 +++++++++++++++++
 4 files changed, 52 insertions(+), 1 deletion(-)

commit a0875ea
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Sep 4 21:24:20 2003 +0000

    eliminate the global variables

 libs/image/png.c |   38 +++++++++++++++++---------------------
 1 file changed, 17 insertions(+), 21 deletions(-)

commit 2b5a375
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Sep 4 18:59:39 2003 +0000

    nuke QF/texture.h moving it's contents into QF/image.h (yay, finally, a
    real home for tex_t:)

 include/QF/Makefile.am                 |    2 +-
 include/QF/image.h                     |   18 ++++++++++-
 include/QF/texture.h                   |   51 --------------------------------
 libs/image/image.c                     |    1 -
 libs/image/pcx.c                       |    2 +-
 libs/image/png.c                       |    6 ++--
 libs/image/tga.c                       |    2 +-
 libs/models/alias/gl_model_alias.c     |    1 -
 libs/models/brush/gl_model_brush.c     |    1 -
 libs/models/sprite/gl_model_sprite.c   |    1 -
 libs/video/renderer/gl/gl_draw.c       |    1 -
 libs/video/renderer/gl/gl_screen.c     |    2 +-
 libs/video/renderer/gl/gl_skin.c       |    2 +-
 libs/video/renderer/gl/gl_sky.c        |    1 -
 libs/video/renderer/r_screen.c         |    2 +-
 libs/video/renderer/sw/screen.c        |    2 +-
 libs/video/renderer/sw/sw_ralias.c     |    2 +-
 libs/video/renderer/sw32/screen.c      |    2 +-
 libs/video/renderer/sw32/sw32_ralias.c |    2 +-
 nq/source/cl_screen.c                  |    2 +-
 nq/source/skin.c                       |    2 +-
 qw/source/cl_screen.c                  |    2 +-
 qw/source/skin.c                       |    2 +-
 23 files changed, 34 insertions(+), 75 deletions(-)

commit 39ed540
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Sep 4 18:46:59 2003 +0000

    LoadImage is now used for all external textures giving almost transparent
    .png and .tga support.

 include/QF/image.h                   |    2 +-
 libs/image/image.c                   |    7 +++---
 libs/models/alias/gl_model_alias.c   |   31 ++++++++---------------
 libs/models/brush/gl_model_brush.c   |   46 ++++++++++++----------------------
 libs/models/sprite/gl_model_sprite.c |   16 ++++--------
 libs/video/renderer/gl/gl_draw.c     |   28 ++++-----------------
 libs/video/renderer/gl/gl_sky.c      |   19 ++++++--------
 7 files changed, 49 insertions(+), 100 deletions(-)

commit 753dc02
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Sep 4 18:09:02 2003 +0000

    use dtrings to do the filename manipulation

 include/QF/image.h |   40 +++++++++++++++++++++++++++++++++-
 include/QF/png.h   |   38 +++++++++++++++++++++++++++++++-
 libs/image/image.c |   61 +++++++++++++++++++++-------------------------------
 3 files changed, 101 insertions(+), 38 deletions(-)

commit 9cd2d36
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Sep 4 17:17:38 2003 +0000

    dstring.h:
    	document the functions (for doxygen)
    dstring.c:
    	fix a bunch of potential buffer overflows

 include/QF/dstring.h |   69 +++++++++++++++++++++++++++++++++++++++++++++++++-
 libs/util/dstring.c  |   12 +++++++++
 2 files changed, 80 insertions(+), 1 deletion(-)

commit d186f24
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Sep 4 16:32:39 2003 +0000

    DrSpliff's LoadImage code (thanks:)

 include/QF/Makefile.am |   12 +++---
 include/QF/image.h     |    1 +
 libs/image/Makefile.am |    2 +-
 libs/image/image.c     |  108 ++++++++++++++++++++++++++++++++++++++++++++++++
 4 files changed, 116 insertions(+), 7 deletions(-)

commit ff43d61
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Sep 4 16:26:14 2003 +0000

    use the correct bytes per pixel count

 libs/models/brush/gl_model_brush.c |   12 +++++++++---
 1 file changed, 9 insertions(+), 3 deletions(-)

commit d0aaa52
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Sep 4 15:14:09 2003 +0000

    since the tex data is rgba, /say/ it's rgba, not rgb :P

 libs/image/tga.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 30e0cba
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Sep 4 05:30:55 2003 +0000

    better formats for load* and store[bp]*

 libs/gamecode/engine/pr_opcode.c |   81 +++++++++++++++++++++++++-------------
 1 file changed, 54 insertions(+), 27 deletions(-)

commit 3305c0f
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Sep 4 05:24:05 2003 +0000

    PNG reading support, much thanks to DrSpliff

 include/QF/Makefile.am |    4 +-
 include/QF/png.h       |    3 +
 libs/image/Makefile.am |    4 +-
 libs/image/png.c       |  182 ++++++++++++++++++++++++++++++++++++++++++++++++
 4 files changed, 189 insertions(+), 4 deletions(-)

commit 8db2660
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Sep 4 05:22:23 2003 +0000

    make GL_LoadTexture support RGB textures (ie, 24 bit). I'm not happy with
    the solution, but at least it works.

 libs/video/renderer/gl/gl_textures.c |   20 +++++++++++++++-----
 1 file changed, 15 insertions(+), 5 deletions(-)

commit 194ea08
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Sep 3 23:04:30 2003 +0000

    hopefully add watervis support

 tools/qfbsp/include/options.h |    1 +
 tools/qfbsp/source/options.c  |   11 +++++++++--
 tools/qfbsp/source/portals.c  |    5 ++++-
 3 files changed, 14 insertions(+), 3 deletions(-)

commit 4cb6c06
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Sep 3 22:54:14 2003 +0000

    use the right plane when calculating the texture normals

 tools/qfbsp/source/map.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a30fbfc
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Sep 3 22:32:40 2003 +0000

    tighten up hl texture alignment parsing and don't print
    "adding 0 texture frames".

 tools/qfbsp/source/map.c      |    9 ++++++---
 tools/qfbsp/source/writebsp.c |    3 ++-
 2 files changed, 8 insertions(+), 4 deletions(-)

commit 0a8867f
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Sep 3 22:17:04 2003 +0000

    replace all VectorSubtract (vec3_origin, ... and
    VectorCopy (vec3_origin, ... with VectorNegate (... and VectorZero (...,
    respectively. Should be a small speedup.

 libs/video/renderer/sw/sw_rpart.c     |   12 ++++++------
 libs/video/renderer/sw32/sw32_rpart.c |   12 ++++++------
 nq/source/sv_cl_phys.c                |    8 ++++----
 nq/source/sv_phys.c                   |   12 ++++++------
 qw/source/cl_cam.c                    |    6 +++---
 qw/source/cl_ents.c                   |    2 +-
 qw/source/cl_parse.c                  |    2 +-
 qw/source/sv_phys.c                   |   12 ++++++------
 qw/source/sv_user.c                   |    4 ++--
 tools/qflight/source/ltface.c         |    4 ++--
 tools/qfmodelgen/source/modelgen.c    |   10 +++++-----
 tools/qfvis/source/flow.c             |    6 +++---
 tools/qfvis/source/qfvis.c            |    4 ++--
 13 files changed, 47 insertions(+), 47 deletions(-)

commit 231a1bf
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Sep 3 22:00:08 2003 +0000

    bring in many of LordHavoc's changes to qbsp: HalfLife WorldCraft texture
    alighnment, partial "point of plane" autocorrection (currently disabled: I
    want to make it optional), large map support (not sure where that's
    hiding), hipnotic entity rotation

 include/QF/mathlib.h          |    1 +
 tools/qfbsp/include/map.h     |    2 +-
 tools/qfbsp/source/brush.c    |  115 +++++++++++++++++++-----
 tools/qfbsp/source/csg4.c     |    7 +-
 tools/qfbsp/source/map.c      |  194 +++++++++++++++++++++++------------------
 tools/qfbsp/source/merge.c    |    2 +-
 tools/qfbsp/source/outside.c  |   79 ++++-------------
 tools/qfbsp/source/portals.c  |   24 ++---
 tools/qfbsp/source/qfbsp.c    |   14 +--
 tools/qfbsp/source/region.c   |    3 +-
 tools/qfbsp/source/solidbsp.c |    8 +-
 tools/qfbsp/source/surfaces.c |    4 +-
 tools/qfbsp/source/tjunc.c    |    8 +-
 tools/qfbsp/source/writebsp.c |    2 +-
 14 files changed, 250 insertions(+), 213 deletions(-)

commit 996de18
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Sep 3 18:27:27 2003 +0000

    good line number reporting for errors and treat ^Z and ^D as whitespace

 tools/qfbsp/source/map.c |   71 ++++++++++++++++++++++++++++++----------------
 1 file changed, 46 insertions(+), 25 deletions(-)

commit 0b0f8bb
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Sep 3 01:30:35 2003 +0000

    make sure all + commands have been executed

 qw/source/cl_main.c |    3 +++
 1 file changed, 3 insertions(+)

commit 8b36ae6
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Sep 3 01:27:57 2003 +0000

    bunch of bug fixes. rather important part of the bot fixes (oops:)

 ruamoko/lib/List.r |    7 +++++++
 1 file changed, 7 insertions(+)

commit 36f8dbf
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Sep 2 20:20:54 2003 +0000

    fix a buffer overflow (ouch)

 tools/qfbsp/source/map.c |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 11538d4
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Sep 2 17:41:16 2003 +0000

    access arrays in structs more efficiently (especially when using constant
    indeces)

 tools/qfcc/include/expr.h |    2 +
 tools/qfcc/source/expr.c  |  120 ++++++++++++++++++++++++++++++++++++++++++++-
 2 files changed, 120 insertions(+), 2 deletions(-)

commit f108292
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Sep 2 16:53:45 2003 +0000

    use a cast expression rather than and bind expression to do the unsigned
    comparison for switches. clears the notice (bind seems to be correct in
    general) and is more correct conceptually anyway.

 tools/qfcc/source/switch.c |    4 +---
 1 file changed, 1 insertion(+), 3 deletions(-)

commit 23b5250
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Sep 2 16:45:36 2003 +0000

    cast between integer and unsigned just by changing access method
    effectively deprecating conv.ui and conv.iu (they'll die eventually:)

 tools/qfcc/source/emit.c |    6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit 3a6c8b8
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Sep 2 06:23:57 2003 +0000

    wrong place to decrement uses. now have a problem in switch :/

 tools/qfcc/source/emit.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit e0866a5
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Sep 2 04:57:44 2003 +0000

    make the escape attempt notification a developer print

 libs/util/quakefs.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a1fa0b3
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Sep 2 04:52:54 2003 +0000

    make sure the pointed to def has a name before attempting to print it

 libs/gamecode/engine/pr_edict.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit da4015d
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Mon Sep 1 03:23:52 2003 +0000

    Typo fix.

 qw/source/cl_main.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit dc8e942
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Mon Sep 1 01:52:20 2003 +0000

    Qize's patches. Add some more backwards-compatibility aliases to ln.gib,
    remove a dead cvar, and don't display a message about what to do to connect
    when use +connect already...

 doc/config/gib/ln.gib |   10 ++++++++++
 include/r_cvar.h      |    1 -
 qw/source/cl_main.c   |   12 ++++++------
 3 files changed, 16 insertions(+), 7 deletions(-)

commit ef4ca0c
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Aug 31 05:24:24 2003 +0000

    some doxygen tweaks

 doc/quakeforge.dox.in      |    6 +++---
 include/QF/hash.h          |   47 ++++++++++++++++++++------------------------
 tools/qfcc/source/linker.c |    8 ++++----
 3 files changed, 28 insertions(+), 33 deletions(-)

commit 4d1313d
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Aug 30 22:39:27 2003 +0000

    don't seg when using 1 component lightmaps

 libs/models/brush/gl_model_brush.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit cc41875
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 29 00:50:39 2003 +0000

    make the bbox output easier to read

 tools/misc/mdl.py |    5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 8868a9d
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Aug 28 23:26:59 2003 +0000

    get rid of some unneeded defines and ifdefs

 include/QF/bspfile.h |    6 ------
 nq/include/game.h    |    2 --
 qw/include/host.h    |    2 --
 3 files changed, 10 deletions(-)

commit f7b1196
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Aug 28 19:50:28 2003 +0000

    fix the gl stack overflow (and make sure all skybrush surfaces get checked
    and queued)

 libs/video/renderer/gl/gl_rsurf.c |    1 -
 1 file changed, 1 deletion(-)

commit f546204
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Aug 28 14:54:47 2003 +0000

    test for darwin explicity rather than using which

 bootstrap |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 2c30939
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Aug 28 02:24:08 2003 +0000

    remove some magic numbers (sloppy coder:P)

 libs/video/renderer/sw/d_polysa.S |   16 ++++++++--------
 1 file changed, 8 insertions(+), 8 deletions(-)

commit db3e98c
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 27 23:11:57 2003 +0000

    make the waterjumptime <-> teleport_time interface work as intended

 qw/source/sv_user.c |    6 ++++++
 1 file changed, 6 insertions(+)

commit 93327cb
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 27 22:50:39 2003 +0000

    try to fix segfault caused by VID_Shutdown getting called before VID_Init
    (error conditions).

 libs/video/targets/vid_glx.c |   10 ++++------
 1 file changed, 4 insertions(+), 6 deletions(-)

commit c2053fb
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Wed Aug 27 22:20:03 2003 +0000

    Prettier particles! Renderer is now informed of sv_gravity changes in qw. Not
    supportable without protocol changes in nq.

 include/r_local.h                     |    4 +++
 libs/video/renderer/gl/gl_dyn_part.c  |    2 +-
 libs/video/renderer/sw/sw_rpart.c     |   48 +++++++++++----------------------
 libs/video/renderer/sw32/sw32_rpart.c |    2 +-
 nq/source/cl_parse.c                  |   16 ++++++-----
 qw/source/cl_parse.c                  |    3 +++
 6 files changed, 35 insertions(+), 40 deletions(-)

commit da05864
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 27 17:47:53 2003 +0000

    ports < 1024 are bad, period :)

 libs/net/nc/net_udp.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 4c52975
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 27 01:12:03 2003 +0000

    make FindPlane much pickier about matching planes

 tools/qfbsp/source/brush.c |    5 +++++
 1 file changed, 5 insertions(+)

commit 415fae8
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Aug 26 07:00:13 2003 +0000

    make the two normals arrays consistent

 include/anorm_dots.h                  | 1086 ++++++++++++++++-----------------
 libs/video/renderer/gl/gl_mod_alias.c |    6 +-
 2 files changed, 545 insertions(+), 547 deletions(-)

commit cf93f5f
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Aug 25 01:47:05 2003 +0000

    oops, who let C++ into C? :)

 libs/gamecode/engine/pr_obj.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 0d438e2
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Aug 25 01:11:23 2003 +0000

    allow server clients to be tracked while spectating

 qw/source/sv_user.c |    6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit b01d4d4
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Aug 24 20:38:32 2003 +0000

    get the type for the destination from the right place (hope that wasn't
    a bugfix for something else:)

 tools/qfcc/source/emit.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 7cffeb2
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Aug 24 08:17:31 2003 +0000

    correct the temp def counting when casting

 tools/qfcc/source/emit.c |    3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit 6086aa2
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Aug 24 08:03:25 2003 +0000

    allow casts between pointers and integers

 tools/qfcc/source/emit.c |   15 +++++++++++++++
 tools/qfcc/source/expr.c |    6 ++++--
 2 files changed, 19 insertions(+), 2 deletions(-)

commit a08efaf
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Aug 24 07:26:02 2003 +0000

    make sure __VERSION6__ is defined when it should be

 tools/qfcc/source/options.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 96202a5
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Aug 24 07:23:12 2003 +0000

    bah, forgot to -1 the instruction pointer for jumpb

 libs/gamecode/engine/pr_exec.c |   18 +++++++++---------
 1 file changed, 9 insertions(+), 9 deletions(-)

commit afb42f5
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Aug 24 05:53:15 2003 +0000

    fix the unsigned comparison opcodes

 libs/gamecode/engine/pr_exec.c |   16 ++++++++++++----
 1 file changed, 12 insertions(+), 4 deletions(-)

commit 253d198
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Aug 24 05:08:47 2003 +0000

    no code to dump for a null function

 libs/gamecode/engine/pr_debug.c |   34 ++++++++++++++++++----------------
 1 file changed, 18 insertions(+), 16 deletions(-)

commit 5d8bebf
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Aug 24 03:44:12 2003 +0000

    implement class_get_class_method and (partially) class_pose_as

 libs/gamecode/engine/pr_obj.c |   45 ++++++++++++++++++++++++++++++++---------
 1 file changed, 36 insertions(+), 9 deletions(-)

commit b50d283
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Aug 23 22:16:42 2003 +0000

    make sel_get_uid and class_get_instance_method work

 include/QF/progs.h            |    1 +
 libs/gamecode/engine/pr_obj.c |   63 +++++++++++++++++++++++++----------------
 tools/qwaq/main.qc            |   28 ++++++++++++++++++
 3 files changed, 67 insertions(+), 25 deletions(-)

commit edb716a
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Aug 23 06:21:35 2003 +0000

    oops, forgot to remove developer forcing

 libs/gamecode/engine/pr_obj.c |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 385a90e
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Aug 23 06:15:19 2003 +0000

    correct pr_symtab_t to include the pointer to the array of selectors used
    in the module. Unfortunatly, this requires a version bump on both qfo and
    progs files due to the changes structure layout.

 include/QF/pr_comp.h           |    2 +-
 include/QF/pr_obj.h            |    1 +
 libs/gamecode/engine/pr_obj.c  |   54 ++++-------------
 tools/qfcc/include/def.h       |    1 +
 tools/qfcc/include/emit.h      |    8 +++
 tools/qfcc/include/method.h    |   12 +++-
 tools/qfcc/include/obj_file.h  |    2 +-
 tools/qfcc/source/class.c      |   27 +++++----
 tools/qfcc/source/def.c        |    2 +-
 tools/qfcc/source/expr.c       |   10 +++-
 tools/qfcc/source/immediate.c  |    2 +-
 tools/qfcc/source/method.c     |  125 +++++++++++++++++++++++++++-------------
 tools/qfprogs/source/modules.c |   18 ++++++
 13 files changed, 165 insertions(+), 99 deletions(-)

commit 7ff9f32
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Aug 23 06:12:10 2003 +0000

    uncomment some functions that may or may not get implemented

 ruamoko/include/Object.h |   14 +++++++-------
 ruamoko/lib/Object.r     |    8 ++++----
 2 files changed, 11 insertions(+), 11 deletions(-)

commit 98beb38
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 22 19:48:36 2003 +0000

    implement jumpb correctly

 libs/gamecode/engine/pr_exec.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit b38486d
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 22 19:48:14 2003 +0000

    make rel_def_op work properly

 tools/qfcc/include/expr.h    |    2 +-
 tools/qfcc/include/reloc.h   |    2 ++
 tools/qfcc/source/emit.c     |    2 +-
 tools/qfcc/source/expr.c     |    4 ++--
 tools/qfcc/source/linker.c   |    2 +-
 tools/qfcc/source/obj_file.c |    3 ++-
 tools/qfcc/source/qfodump.c  |    4 ++++
 tools/qfcc/source/reloc.c    |    9 +++++++++
 tools/qfcc/source/switch.c   |    6 +-----
 9 files changed, 23 insertions(+), 11 deletions(-)

commit e9ca034
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 22 18:16:30 2003 +0000

    create the temp def for bound defs properly

 tools/qfcc/source/emit.c |   12 +++++++-----
 1 file changed, 7 insertions(+), 5 deletions(-)

commit cb6eba8
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 22 17:32:55 2003 +0000

    print the value even for unknown defs if the type is known

 libs/gamecode/engine/pr_edict.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit a48b2dd
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 22 06:34:09 2003 +0000

    fix some errors picked up by the recent changes to qfcc

 ruamoko/cl_menu/controls_o.qc |    6 +++---
 ruamoko/game/Axe.r            |    2 +-
 2 files changed, 4 insertions(+), 4 deletions(-)

commit d20b8bf
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 22 06:04:31 2003 +0000

    pass NIL though ... safely

 tools/qfcc/source/expr.c |    2 ++
 1 file changed, 2 insertions(+)

commit 303287d
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 22 05:48:19 2003 +0000

    don't seg on undefined vars

 tools/qfcc/source/method.c |    3 +++
 1 file changed, 3 insertions(+)

commit 204243f
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 22 05:26:47 2003 +0000

    better message type checking

 tools/qfcc/include/method.h |    2 ++
 tools/qfcc/source/expr.c    |   13 ++---------
 tools/qfcc/source/method.c  |   53 +++++++++++++++++++++++++++++++++++++++++++
 3 files changed, 57 insertions(+), 11 deletions(-)

commit febc57e
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 22 04:08:33 2003 +0000

    typecheck message params when possible

 tools/qfcc/source/expr.c |   15 +++++++++++++++
 1 file changed, 15 insertions(+)

commit 8e0a464
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Aug 21 20:35:36 2003 +0000

    get server clients updated properly

 qw/source/sv_ents.c    |    2 +-
 qw/source/sv_pr_cmds.c |    2 +
 qw/source/sv_send.c    |  125 +++++++++++++++++++++++++-----------------------
 3 files changed, 68 insertions(+), 61 deletions(-)

commit fd43344
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Aug 21 03:50:30 2003 +0000

    allow server clients to be initialized properly (SV_Spawn) and send server
    client info to connecting clients

 qw/include/server.h    |    1 +
 qw/source/sv_main.c    |    2 +-
 qw/source/sv_pr_cmds.c |   16 +++++++++++++++-
 qw/source/sv_user.c    |   37 ++++++++++++++++++++++---------------
 4 files changed, 39 insertions(+), 17 deletions(-)

commit 7d09105
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Aug 21 02:24:11 2003 +0000

    remove debug code

 tools/qfcc/source/reloc.c |    2 --
 1 file changed, 2 deletions(-)

commit 11c7c27
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Aug 21 02:21:30 2003 +0000

    better relocations: pointers to structure members now work

 tools/qfcc/include/reloc.h |    7 +++++++
 tools/qfcc/source/emit.c   |   25 +++++++++++-----------
 tools/qfcc/source/expr.c   |    2 +-
 tools/qfcc/source/linker.c |   20 ++++++++++++++++--
 tools/qfcc/source/qfcc.c   |    7 +------
 tools/qfcc/source/reloc.c  |   50 ++++++++++++++++++++++++++++++++++++++++++++
 6 files changed, 89 insertions(+), 22 deletions(-)

commit 59d321d
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 20 22:37:49 2003 +0000

    link in the hash functions for progs

 qw/source/sv_progs.c |    1 +
 1 file changed, 1 insertion(+)

commit ac330a3
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 20 22:36:35 2003 +0000

    remove @extern from definitions

 ruamoko/lib/hash.r |   34 +++++++++++++++++-----------------
 1 file changed, 17 insertions(+), 17 deletions(-)

commit a230038
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 20 22:36:02 2003 +0000

    fix a bunch of segfaults

 libs/gamecode/builtins/bi_hash.c |   30 +++++++++++++++---------------
 tools/qfcc/source/expr.c         |    5 +++--
 tools/qfcc/source/linker.c       |    5 +++--
 3 files changed, 21 insertions(+), 19 deletions(-)

commit 93cafe8
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 20 20:28:28 2003 +0000

    convert NIL properly in function calls

 tools/qfcc/source/expr.c |    9 +++------
 1 file changed, 3 insertions(+), 6 deletions(-)

commit 7d830ff
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 20 19:58:41 2003 +0000

    make @defs work properly and don't do uninitialized checks on structs

 tools/qfcc/include/class.h   |    2 ++
 tools/qfcc/source/class.c    |   14 ++++++++++++++
 tools/qfcc/source/expr.c     |    1 +
 tools/qfcc/source/qc-parse.y |    4 ++--
 tools/qfcc/source/struct.c   |   11 -----------
 5 files changed, 19 insertions(+), 13 deletions(-)

commit 83334ce
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Wed Aug 20 07:22:34 2003 +0000

    In response to an apparent server-side exploit that has shown up on
    execpc's ProzacTF server, info strings for other players are checked to
    ensure that they contain the "name" key.  If the key is not present, it is
    set to "user-%i [exploit]", where %i is the userid of the player.  Players
    using this exploit should now show up on the scoreboard and users list
    and be visible during gameplay.  Although this renders the exploit useless
    against players using QF, the exact way in which it bypasses the extensive
    checks of a player's name by the server needs to be discovered so that it
    can be fixed.  The server in question uses a bastarized version of QF
    0.5.2, so it's possible that the problem still exists in QF today.

 qw/source/cl_parse.c |    3 +++
 1 file changed, 3 insertions(+)

commit 054d2b6
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 20 05:43:24 2003 +0000

    correct the vertical position of the lanconfig menu

 ruamoko/cl_menu/client_menu.qc |   14 +++++++-------
 1 file changed, 7 insertions(+), 7 deletions(-)

commit 27306a9
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Aug 19 21:10:19 2003 +0000

    correct the prototypes for the hash functions (oops:)

 ruamoko/include/hash.h |   34 +++++++++++++++++-----------------
 ruamoko/lib/hash.r     |   34 +++++++++++++++++-----------------
 2 files changed, 34 insertions(+), 34 deletions(-)

commit 5d14abb
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Aug 18 06:26:09 2003 +0000

    send server client info to the clients

 qw/source/sv_ents.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit aa712c0
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Aug 18 06:11:41 2003 +0000

    make [super foo] work in category methods

 tools/qfcc/source/expr.c |   20 +++++++++++++++-----
 1 file changed, 15 insertions(+), 5 deletions(-)

commit aa4f81b
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Aug 18 02:57:21 2003 +0000

    class.c:
    	whitespace
    switch.c:
    	set up the relocations for the switch jump table properly

 tools/qfcc/source/class.c  |    7 +++----
 tools/qfcc/source/switch.c |    2 +-
 2 files changed, 4 insertions(+), 5 deletions(-)

commit 09a7e21
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Aug 16 05:29:02 2003 +0000

    separate the client frame code from _Host_Frame making things a little
    easier to follow

 nq/source/host.c |  116 ++++++++++++++++++++++--------------------------------
 1 file changed, 47 insertions(+), 69 deletions(-)

commit 537c34a
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Aug 16 03:58:35 2003 +0000

    add the new lib

 RPM/quakeforge.spec.in          |    3 +++
 debian/quakeforge-common.shlibs |   21 +++++++++++----------
 debian/rules                    |    3 +++
 3 files changed, 17 insertions(+), 10 deletions(-)

commit ff627bf
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 15 21:26:44 2003 +0000

    update for mingw 3.0 (thanks, Dabb:)

 tools/cross/cross.sh |   12 ++++++------
 1 file changed, 6 insertions(+), 6 deletions(-)

commit d8068de
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Fri Aug 15 20:26:09 2003 +0000

    Commit experimental particle optimization. Reduces random particles from using
    6 15 bit rand() to 2 calls, with 5 bits for each of the 6.
    This is up to a 1% speedup for qf particles, and up to 2.1% for id.
    
    It may particularly affect explosions with r_particles_style 0.
    Please report any anomolies in any particle effects.

 libs/video/renderer/gl/gl_dyn_part.c |   35 +++++++++++++++++++++++++++++-----
 1 file changed, 30 insertions(+), 5 deletions(-)

commit 323a618
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 15 16:19:10 2003 +0000

    move pcx.c and tga.c out of libQFutil and into libQFimage with the hopes
    for more image formats :)

 configure.ac           |    5 +-
 libs/Makefile.am       |    2 +-
 libs/image/.gitignore  |    7 +
 libs/image/Makefile.am |   13 +
 libs/image/pcx.c       |  199 ++++++++++++++
 libs/image/tga.c       |  678 ++++++++++++++++++++++++++++++++++++++++++++++++
 libs/util/Makefile.am  |    4 +-
 libs/util/pcx.c        |  199 --------------
 libs/util/tga.c        |  678 ------------------------------------------------
 nq/source/Makefile.am  |    1 +
 qw/source/Makefile.am  |    1 +
 11 files changed, 905 insertions(+), 882 deletions(-)

commit 53448a4
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 13 22:42:52 2003 +0000

    handle multiple files better and auto-scale

 tools/misc/timeframes.py |  100 +++++++++++++++++++++++++++++++++++++---------
 1 file changed, 81 insertions(+), 19 deletions(-)

commit d77addf
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 13 21:53:40 2003 +0000

    don't record frame times until we've actually `started' the demo (ie, don't
    record times for frames timedemo doesn't count in its fps calcs)

 qw/source/cl_demo.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 33a57c5
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 13 18:17:30 2003 +0000

    win32 compile fixes

 libs/video/targets/joy_win.c |    7 +++----
 libs/video/targets/vid_wgl.c |    5 +++--
 nq/source/sys_win.c          |   17 -----------------
 3 files changed, 6 insertions(+), 23 deletions(-)

commit fe3b544
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 13 17:27:34 2003 +0000

    handle "return 0" a bit better. assumes location is is always 0, but it
    always has been (and always /should/ be anyway:)

 libs/gamecode/engine/pr_exec.c |    5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit 28e2679
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 13 17:07:42 2003 +0000

    while downward overlapped memcpys are safe, shut up valgrind

 libs/console/view.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 6f519c7
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 13 17:07:05 2003 +0000

    don't bother doing the copy if the value to be returned is already in the
    return slot

 libs/gamecode/engine/pr_exec.c |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 34d2e01
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 13 16:08:06 2003 +0000

    improve the timedemo fps output a little

 nq/source/cl_demo.c |    4 ++--
 qw/source/cl_demo.c |    4 ++--
 2 files changed, 4 insertions(+), 4 deletions(-)

commit e36ce15
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 13 06:23:20 2003 +0000

    private cbuf in map_cfg in nq too

 nq/source/cl_parse.c |   13 ++++++++-----
 1 file changed, 8 insertions(+), 5 deletions(-)

commit 70ec073
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Aug 12 23:22:30 2003 +0000

    use a private cbuf for map_cfg

 qw/source/cl_parse.c |   11 +++++++----
 1 file changed, 7 insertions(+), 4 deletions(-)

commit c9346e8
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Aug 12 22:18:51 2003 +0000

    now sporting multiple runs (currently 3) and blending

 tools/misc/timeframes.py |  156 +++++++++++++++++++++++++++-------------------
 1 file changed, 93 insertions(+), 63 deletions(-)

commit 515dbac
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Aug 12 18:22:11 2003 +0000

    make qc-lex.c and qc-parse.[ch] part of the distribution (two less
    requirements for the average user)

 tools/qfcc/source/Makefile.am |    2 ++
 1 file changed, 2 insertions(+)

commit c73d57e
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Aug 12 16:24:50 2003 +0000

    put the axes behind the graphs and don't skip the first couple frames

 tools/misc/timeframes.py |   18 ++++++++++--------
 1 file changed, 10 insertions(+), 8 deletions(-)

commit f7fd1d7
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Aug 12 16:04:00 2003 +0000

    correct white and add axes with ms and 100 frame ticks

 tools/misc/timeframes.py |    9 ++++++++-
 1 file changed, 8 insertions(+), 1 deletion(-)

commit b3f99a7
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Aug 12 06:33:13 2003 +0000

    rename cl_timeframes to demo_timeframes and make it /not/ archive.
    move call to CL_TimeFrames_AddTimestamp from cl_main.c to cl_demo.c.
    
    add a hacky little python script to create a pnm (portable anymap file
    format) graph from timeframes.txt

 qw/include/cl_demo.h     |    3 --
 qw/source/cl_demo.c      |   70 ++++++++++++++++++---------------
 qw/source/cl_main.c      |    6 ---
 tools/misc/timeframes.py |   97 ++++++++++++++++++++++++++++++++++++++++++++++
 4 files changed, 136 insertions(+), 40 deletions(-)

commit 0a0f8d0
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Aug 11 22:40:46 2003 +0000

    make a LoadBSPMem function so bsp files can be read from already loaded
    images

 include/QF/bspfile.h |    1 +
 libs/util/bspfile.c  |   21 +++++++++++++++------
 2 files changed, 16 insertions(+), 6 deletions(-)

commit 7fe0962
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Aug 11 22:39:07 2003 +0000

    we /do/ want full precision from Sys_DoubleTime :P

 libs/util/sys.c |    4 +---
 1 file changed, 1 insertion(+), 3 deletions(-)

commit 9ed8150
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Mon Aug 11 20:48:34 2003 +0000

    More particle optimizations.

 libs/video/renderer/gl/gl_dyn_part.c |   44 ++++++++++++++++++----------------
 1 file changed, 23 insertions(+), 21 deletions(-)

commit 19cf019
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Aug 11 20:43:26 2003 +0000

    barf when given a bsp file instead of a map file (and don't zap the bsp file
    in the process!!!)

 tools/qfbsp/source/map.c   |    9 +++++----
 tools/qfbsp/source/qfbsp.c |    6 +++---
 2 files changed, 8 insertions(+), 7 deletions(-)

commit fa31cb7
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Aug 11 17:11:44 2003 +0000

    don't seg if files can't be opened

 tools/qfbsp/source/map.c      |    3 +++
 tools/qfbsp/source/qfbsp.c    |    5 +++++
 tools/qfbsp/source/writebsp.c |    3 +++
 3 files changed, 11 insertions(+)

commit ce3accd
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Aug 11 16:02:06 2003 +0000

    make gcc 2.95 friendly (OpenBSD seems to still use it)

 acinclude.m4 |   18 ++++++++++++++++++
 configure.ac |   25 ++++++++-----------------
 2 files changed, 26 insertions(+), 17 deletions(-)

commit 7ead5a9
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Aug 11 06:05:07 2003 +0000

    don't let gcc automaticly inline functions but make gcc inline bigger
    functions when told to. also make gcc warn if it can't inline a function.
    
    Explicitly inline several functions (including moving VectorNormalize to
    mathlib.h so it /can/ be) resulting in a 5.5% speedup for spam2 (88 to 92
    fps)

 configure.ac                          |    4 ++--
 include/QF/mathlib.h                  |   24 +++++++++++++++++++++++-
 libs/gamecode/engine/pr_obj.c         |    2 +-
 libs/models/alias/gl_mesh.c           |    8 ++++----
 libs/models/alias/model_alias.c       |    6 ++----
 libs/util/mathlib.c                   |   20 +-------------------
 libs/util/zone.c                      |   29 ++++++++++++++---------------
 libs/video/renderer/gl/gl_lightmap.c  |    4 ++--
 libs/video/renderer/gl/gl_mod_alias.c |   16 ++++++++--------
 libs/video/renderer/gl/gl_rsurf.c     |    4 ++--
 libs/video/renderer/gl/gl_skin.c      |    4 ++--
 libs/video/renderer/r_light.c         |    2 +-
 12 files changed, 62 insertions(+), 61 deletions(-)

commit b88d275
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Aug 11 05:16:04 2003 +0000

    fix some warnings

 libs/video/renderer/gl/gl_dyn_part.c |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit f35b1db
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sat Aug 9 04:38:11 2003 +0000

    Fix a potential uninitialized variable segfault taniwha noticed, and optimize
    particle effects a bit more.

 libs/video/renderer/gl/gl_dyn_part.c |   62 ++++++++++++++++++++--------------
 1 file changed, 36 insertions(+), 26 deletions(-)

commit 1c4c58f
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 8 17:33:34 2003 +0000

    add a "demo_quit" cvar to cause qf to quit automaticly at the end of a
    timedemo to make automation of profiling easier

 qw/source/cl_demo.c |    6 ++++++
 1 file changed, 6 insertions(+)

commit 6a94607
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 8 15:25:53 2003 +0000

    rename VectorMA to VectorMultAdd, add VectorMultSub and use it in a few
    places. Not certain how much speed difference it makes :/

 include/QF/mathlib.h                   |    3 ++-
 libs/models/alias/gl_mesh.c            |    5 +++--
 libs/util/mathlib.c                    |    4 ++--
 libs/video/renderer/gl/gl_dyn_part.c   |   16 ++++++++--------
 libs/video/renderer/gl/gl_lightmap.c   |    6 ++++--
 libs/video/renderer/gl/gl_mod_alias.c  |   12 ++++++------
 libs/video/renderer/gl/gl_mod_sprite.c |   24 ++++++++++++------------
 libs/video/renderer/gl/gl_rmain.c      |   10 +++++-----
 libs/video/renderer/r_light.c          |    5 ++---
 nq/source/cl_main.c                    |    4 ++--
 nq/source/cl_tent.c                    |    4 ++--
 nq/source/sv_cl_phys.c                 |    4 ++--
 nq/source/sv_phys.c                    |   16 ++++++++--------
 nq/source/sv_pr_cmds.c                 |    2 +-
 qw/source/cl_cam.c                     |    2 +-
 qw/source/cl_parse.c                   |    2 +-
 qw/source/cl_tent.c                    |    2 +-
 qw/source/pmove.c                      |   10 +++++-----
 qw/source/sv_phys.c                    |   16 ++++++++--------
 qw/source/sv_pr_cmds.c                 |    2 +-
 tools/qfbsp/source/qfbsp.c             |    2 +-
 tools/qfbsp/source/tjunc.c             |    4 ++--
 tools/qflight/source/ltface.c          |    6 +++---
 23 files changed, 82 insertions(+), 79 deletions(-)

commit 184aa7b
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Aug 7 21:05:58 2003 +0000

    should be a minor speedup to mono lightmaps

 libs/video/renderer/gl/gl_lightmap.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 732a9a8
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Aug 7 19:58:39 2003 +0000

    gain about 3 fps (180 to 183) in null-renderer

 libs/video/renderer/gl/gl_lightmap.c |    4 ++--
 libs/video/renderer/r_light.c        |   30 +++++++++++++++++++-----------
 2 files changed, 21 insertions(+), 13 deletions(-)

commit 4a680bf
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 6 21:36:07 2003 +0000

    grovel around for the source file and line of an undefined def to give
    better diagnostics

 tools/qfcc/source/linker.c |   42 +++++++++++++++++++++++++++++++++++++++++-
 1 file changed, 41 insertions(+), 1 deletion(-)

commit 56e79e3
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 6 18:20:48 2003 +0000

    configure fixes from MrFixit (+ a buch of "x..." for test) and make
    qwaq.dat depend on qfcc

 configure.ac           |   34 +++++++++++++++++-----------------
 tools/qwaq/Makefile.am |    3 ++-
 2 files changed, 19 insertions(+), 18 deletions(-)

commit c1b9f1c
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 6 17:20:46 2003 +0000

    freebsd is happy with "cpp %d %i %o"

 configure.ac |    3 +++
 1 file changed, 3 insertions(+)

commit d5648d0
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 6 00:25:30 2003 +0000

    merge in 0.5.4 changes

 debian/changelog |    6 ++++++
 1 file changed, 6 insertions(+)

commit 448b6f2
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Aug 5 21:41:48 2003 +0000

    make the useless expression warning more interesting

 tools/qfcc/source/emit.c |    9 ++++++---
 1 file changed, 6 insertions(+), 3 deletions(-)

commit 80ed221
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Aug 5 17:59:25 2003 +0000

    update

 NEWS |    1 +
 1 file changed, 1 insertion(+)

commit 329c91f
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Aug 5 17:48:16 2003 +0000

    expr.c:
    	qcc actually had the precedence of "!x && y" correct, so don't invert
    	the logic for it in traditional code.
    qfcc.c:
    	allow the .debug_file def to be emitted in traditional mode.

 tools/qfcc/source/expr.c |   14 +++++++++++---
 tools/qfcc/source/qfcc.c |    3 ++-
 2 files changed, 13 insertions(+), 4 deletions(-)

commit cbc6c40
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Aug 5 17:27:47 2003 +0000

    get some single source instruction formats right and handle empty paths
    properly

 libs/gamecode/engine/pr_debug.c  |    2 +-
 libs/gamecode/engine/pr_opcode.c |   11 +++++++++++
 2 files changed, 12 insertions(+), 1 deletion(-)

commit ada828b
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Aug 5 01:45:52 2003 +0000

    remove a whole swath of potential buffer overflows by removing the buffer.
    Also audit a few of the "FIXME: overflow" tags

 include/QF/info.h      |    5 +-
 libs/util/info.c       |   35 +++++--
 libs/util/quakefs.c    |    2 +-
 nq/source/sv_main.c    |    2 +-
 qw/include/sv_demo.h   |    2 +-
 qw/source/cl_main.c    |   37 +-------
 qw/source/master.c     |    4 +-
 qw/source/sbar.c       |   18 ++--
 qw/source/sv_ccmds.c   |  244 ++++++++++++++++++++----------------------------
 qw/source/sv_demo.c    |  119 +++++++++++------------
 qw/source/sv_pr_cmds.c |    4 +-
 qw/source/sv_user.c    |   82 ++++++++--------
 12 files changed, 245 insertions(+), 309 deletions(-)

commit 59c26b5
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Aug 4 05:21:18 2003 +0000

    quick fix to handle .ent files starting with comments

 libs/gamecode/engine/pr_parse.c |    9 ++++-----
 1 file changed, 4 insertions(+), 5 deletions(-)

commit 07d7f81
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Aug 4 03:36:55 2003 +0000

    hopefully fix the alsa-lib assertion bug

 libs/audio/targets/snd_alsa_0_9.c |    1 +
 1 file changed, 1 insertion(+)

commit 3959874
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Aug 4 01:50:20 2003 +0000

    more updates :)

 NEWS |    7 +++++++
 1 file changed, 7 insertions(+)

commit 6f88e4e
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Aug 4 01:28:30 2003 +0000

    break out some duplicated code into a function and get the window coords
    "properly" (for this mess I'm not sure I'm willing to call code:)

 libs/video/targets/context_x11.c |   55 ++++++++++++++------------------------
 1 file changed, 20 insertions(+), 35 deletions(-)

commit 5a944f4
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Aug 3 19:10:12 2003 +0000

    add Stack.h

 ruamoko/include/Makefile.am |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 3e3b316
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 1 21:26:36 2003 +0000

    blah, double ;

 tools/qfcc/source/class.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit dd9ab1e
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 1 21:20:04 2003 +0000

    get unsigned mostly working

 libs/gamecode/engine/pr_exec.c   |    4 +-
 libs/gamecode/engine/pr_opcode.c |   62 ++++++++++++++++++++-
 ruamoko/include/Object.h         |    2 +-
 ruamoko/lib/AutoreleasePool.r    |    4 +-
 ruamoko/lib/Object.r             |    2 +-
 tools/qfcc/include/expr.h        |    3 ++
 tools/qfcc/source/expr.c         |  110 ++++++++++++++++++++++++++++++++------
 tools/qfcc/source/qc-parse.y     |    2 +
 8 files changed, 165 insertions(+), 24 deletions(-)

commit 9210829
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 1 19:53:46 2003 +0000

    PLUGIN_INFO decl cleanup

 include/QF/plugin.h               |    4 ++--
 libs/audio/cd/cd_linux.c          |    4 +---
 libs/audio/cd/cd_sdl.c            |    4 +---
 libs/audio/cd/cd_sgi.c            |    4 +---
 libs/audio/cd/cd_win.c            |    4 +---
 libs/audio/cd/cd_xmms.c           |    4 +---
 libs/audio/renderer/snd_dma.c     |    4 +---
 libs/audio/targets/snd_alsa_0_5.c |    4 +---
 libs/audio/targets/snd_alsa_0_9.c |    4 +---
 libs/audio/targets/snd_disk.c     |    5 ++---
 libs/audio/targets/snd_dx.c       |    6 ++----
 libs/audio/targets/snd_oss.c      |    5 ++---
 libs/audio/targets/snd_sdl.c      |    4 +---
 libs/audio/targets/snd_sgi.c      |    4 +---
 libs/audio/targets/snd_sun.c      |    5 ++---
 libs/audio/targets/snd_win.c      |    6 ++----
 libs/console/client.c             |    4 +---
 libs/console/server.c             |    4 +---
 18 files changed, 24 insertions(+), 55 deletions(-)

commit fd15377
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 1 17:38:52 2003 +0000

    unsigned is partially implemented...

 ruamoko/include/AutoreleasePool.h |    2 +-
 ruamoko/include/Object.h          |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit f04d67f
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Fri Aug 1 16:42:02 2003 +0000

    Nuke the old-style Object's dead built-in methods.

 libs/gamecode/engine/pr_obj.c |   24 ------------------------
 1 file changed, 24 deletions(-)

commit 908a3da
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 1 16:37:44 2003 +0000

    fix a bunch of FIXMEs now that qfcc has been fixed for these items

 ruamoko/cl_menu/Makefile.am   |    2 --
 ruamoko/include/Object.h      |    2 +-
 ruamoko/lib/AutoreleasePool.r |    6 +++---
 ruamoko/lib/ListNode.r        |    2 +-
 4 files changed, 5 insertions(+), 7 deletions(-)

commit 8e21ecd
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 1 16:24:44 2003 +0000

    make private methods work properly and put overided methods into the
    correct class

 tools/qfcc/source/class.c |    7 ++++++-
 1 file changed, 6 insertions(+), 1 deletion(-)

commit 1b5bf9d
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 1 05:08:15 2003 +0000

    make methods showing up only in the implementation work when overiding an
    inherited method

 tools/qfcc/include/method.h |    1 +
 tools/qfcc/source/class.c   |   38 ++++++++++++++++++++++++++++----------
 tools/qfcc/source/method.c  |   16 ++++++++++++++++
 3 files changed, 45 insertions(+), 10 deletions(-)

commit 24f4bcf
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 1 02:43:51 2003 +0000

    initialize the new field properly

 tools/qfcc/source/struct.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 0361cb2
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 1 02:43:11 2003 +0000

    fix an incorrect inherited attribute access caused by my "no ivars" fix
    (part of the struct re-work)

 tools/qfcc/source/qc-parse.y |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit ae8e755
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jul 31 06:17:49 2003 +0000

    fix struct parsing and printing

 tools/qfcc/source/type.c |   33 ++++++++++++++++++++++++---------
 1 file changed, 24 insertions(+), 9 deletions(-)

commit 9f0d4cc
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jul 31 06:14:26 2003 +0000

    must use save_string when source of string is unknown :P

 tools/qfcc/source/struct.c |    6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit cc0d8b3
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jul 31 02:16:26 2003 +0000

    fix a couple "value computed is not used" not used warnings

 tools/qfcc/source/qc-parse.y |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit cbd5c70
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jul 31 01:57:29 2003 +0000

    oops, %O should be in hex

 libs/gamecode/engine/pr_debug.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 72eca6a
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jul 30 22:24:44 2003 +0000

    get the default right :P

 libs/gamecode/engine/pr_debug.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 0806fc3
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jul 30 22:24:16 2003 +0000

    debugging improvements. opcodes now sport an optional format specifier for
    printing their args (default is "%Ga, %Gb, %gc") and PR_ValueString will
    try to print what a pointer points to

 include/QF/pr_comp.h             |    1 +
 include/QF/progs.h               |    4 +-
 libs/gamecode/engine/pr_debug.c  |  125 +++--
 libs/gamecode/engine/pr_edict.c  |   25 +-
 libs/gamecode/engine/pr_opcode.c | 1041 ++++++++++++++++++++++++++++++--------
 5 files changed, 926 insertions(+), 270 deletions(-)

commit ab94498
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jul 30 21:55:32 2003 +0000

    heh, that was a symptom. forget &void :)

 tools/qfcc/source/expr.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 8099f0d
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jul 30 20:57:50 2003 +0000

    handle addresses of void defs

 tools/qfcc/source/emit.c |    8 ++++----
 tools/qfcc/source/expr.c |    2 +-
 2 files changed, 5 insertions(+), 5 deletions(-)

commit e957dc7
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jul 30 17:59:34 2003 +0000

    oops, initialize type_param properly (D'OH:)

 tools/qfcc/source/type.c |   12 ++++++++++++
 1 file changed, 12 insertions(+)

commit dcd143f
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jul 30 17:44:38 2003 +0000

    missing/incorrect symbols fixed

 libs/gamecode/engine/pr_obj.c |   15 +++++++++++++--
 1 file changed, 13 insertions(+), 2 deletions(-)

commit 6ecb707
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jul 30 04:11:45 2003 +0000

    revamp the struct system so "struct foo;" does the right thing (ala C)

 ruamoko/cl_menu/controls_o.qc |    3 +-
 ruamoko/include/InputLine.h   |    4 +-
 ruamoko/include/List.h        |   10 +-
 ruamoko/include/draw.h        |    4 +-
 ruamoko/include/hash.h        |    2 +-
 ruamoko/include/plist.h       |    3 +-
 ruamoko/include/qfile.h       |    2 +-
 ruamoko/lib/List.r            |    7 ++
 tools/qfcc/include/class.h    |    8 +-
 tools/qfcc/include/struct.h   |   41 +++++--
 tools/qfcc/include/type.h     |   10 +-
 tools/qfcc/source/class.c     |   38 ++++--
 tools/qfcc/source/def.c       |    7 +-
 tools/qfcc/source/emit.c      |   16 ++-
 tools/qfcc/source/expr.c      |   26 ++--
 tools/qfcc/source/method.c    |    8 +-
 tools/qfcc/source/qc-lex.l    |    2 +-
 tools/qfcc/source/qc-parse.y  |   33 +++---
 tools/qfcc/source/struct.c    |  156 +++++++++++++++---------
 tools/qfcc/source/type.c      |  262 ++++++++++++++++++++++-------------------
 20 files changed, 375 insertions(+), 267 deletions(-)

commit da86367
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jul 29 19:55:41 2003 +0000

    update for recent changes to Object

 ruamoko/cl_menu/Frame.h          |    2 +-
 ruamoko/cl_menu/Frame.r          |    6 +++---
 ruamoko/cl_menu/HUD.h            |    6 +++---
 ruamoko/cl_menu/HUD.r            |   20 ++++++++++----------
 ruamoko/cl_menu/hud_interface.qc |   16 ++++++++--------
 ruamoko/game/Axe.r               |    2 +-
 ruamoko/lib/Array.r              |    4 ++--
 ruamoko/lib/List.r               |    4 ++--
 8 files changed, 30 insertions(+), 30 deletions(-)

commit 5c1875b
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Tue Jul 29 18:53:13 2003 +0000

    Update the interface-check warning to be more descriptive.

 tools/qfcc/source/class.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 5e6b25c
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jul 29 18:31:12 2003 +0000

    add interface-check warning option. defaults off

 tools/qfcc/doc/man/qfcc.1    |    4 ++++
 tools/qfcc/include/options.h |    1 +
 tools/qfcc/source/class.c    |   10 ++++++----
 tools/qfcc/source/options.c  |    4 ++++
 4 files changed, 15 insertions(+), 4 deletions(-)

commit d05f17c
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Tue Jul 29 18:23:44 2003 +0000

    Re-add -autorelease to the Object protocol.

 ruamoko/include/Object.h |    2 --
 ruamoko/lib/Stack.r      |    6 ++++--
 2 files changed, 4 insertions(+), 4 deletions(-)

commit 7713a53
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Tue Jul 29 18:02:03 2003 +0000

    Okay, y'all...the Ruamoko root class, Object, has been replaced with another
    class with the same name. This will break things. To support it, there are
    three new classes, one of which is incomplete (AutoreleasePool). It'll get
    finished soonish, but the rest of the class lib will need some updating to
    work.

 ruamoko/game/World.r              |    5 +
 ruamoko/include/AutoreleasePool.h |   17 +++
 ruamoko/include/ListNode.h        |   49 +++++++
 ruamoko/include/Makefile.am       |    3 +-
 ruamoko/include/Object.h          |  137 ++++++++++--------
 ruamoko/include/Stack.h           |   49 +++++++
 ruamoko/include/hash.h            |    2 +-
 ruamoko/lib/AutoreleasePool.r     |   67 +++++++++
 ruamoko/lib/ListNode.r            |   64 +++++++++
 ruamoko/lib/Makefile.am           |    4 +-
 ruamoko/lib/Object.r              |  280 +++++++++++++++++++------------------
 ruamoko/lib/Rect.r                |   12 +-
 ruamoko/lib/Stack.r               |   77 ++++++++++
 13 files changed, 559 insertions(+), 207 deletions(-)

commit f2ad4de
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jul 29 17:43:42 2003 +0000

    add removeItemAtHead and removeItemAtTail

 ruamoko/include/List.h |    4 +++-
 ruamoko/lib/List.r     |   38 ++++++++++++++++++++++++++++++++++++--
 2 files changed, 39 insertions(+), 3 deletions(-)

commit 5b9b112
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jul 29 17:38:29 2003 +0000

    make method lookup work with id

 tools/qfcc/include/method.h |    2 ++
 tools/qfcc/source/class.c   |   31 ++++++++++++++++++++-----------
 tools/qfcc/source/expr.c    |   10 +++++-----
 tools/qfcc/source/method.c  |   33 +++++++++++++++++++++++++++++++++
 4 files changed, 60 insertions(+), 16 deletions(-)

commit ef1b68e
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jul 29 16:01:35 2003 +0000

    add a List class

 ruamoko/include/List.h      |   31 +++++++++++++
 ruamoko/include/Makefile.am |    2 +-
 ruamoko/lib/List.r          |  104 +++++++++++++++++++++++++++++++++++++++++++
 ruamoko/lib/Makefile.am     |    2 +-
 4 files changed, 137 insertions(+), 2 deletions(-)

commit 5838cfb
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Mon Jul 28 00:32:41 2003 +0000

    Missed one. And fixed duplicate declaration of scr_viewsize Deek noticed.

 include/QF/screen.h |    3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit 0a7b56f
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sun Jul 27 23:20:11 2003 +0000

    show_fps -> hud_fps, show_ping -> hud_ping, show_pl -> hud_pl,
    show_time -> hud_time, show_scoresuid -> hud_scoreboard_uid

 NEWS                     |    4 +++-
 doc/QF-HOWTO             |    2 +-
 doc/config/gib/sshot.gib |    6 +++---
 include/QF/qtypes.h      |    6 ++++++
 nq/source/cl_main.c      |   12 ++++++------
 nq/source/sbar.c         |    8 ++++----
 qw/include/client.h      |    4 ++--
 qw/source/cl_main.c      |   28 ++++++++++++++--------------
 qw/source/cl_parse.c     |   14 +++++++++++---
 qw/source/sbar.c         |   22 +++++++++++-----------
 10 files changed, 61 insertions(+), 45 deletions(-)

commit 797dc5c
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jul 27 22:51:31 2003 +0000

    oops, stuff_view 1 cell too narrow

 nq/source/sbar.c |    2 +-
 qw/source/sbar.c |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 9b023ee
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jul 27 22:30:36 2003 +0000

    doc fps change

 NEWS |    2 ++
 1 file changed, 2 insertions(+)

commit 830fab2
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jul 27 22:25:45 2003 +0000

    show_fps now updates every 0.2 seconds and displays 10ths of an fps

 nq/source/sbar.c |   12 +++++++-----
 qw/source/sbar.c |   10 +++++-----
 2 files changed, 12 insertions(+), 10 deletions(-)

commit 08df301
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jul 27 21:56:53 2003 +0000

    doc the save game fix

 NEWS |    1 +
 1 file changed, 1 insertion(+)

commit aa4d1f5
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jul 27 21:45:53 2003 +0000

    be sure to clear com_token when end of file is hit

 libs/util/idparse.c |    5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit be6a7ae
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jul 27 21:33:05 2003 +0000

    d'oh

 tools/qfcc/include/class.h |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 556a6ea
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jul 27 20:47:36 2003 +0000

    fix a misplaced _

 libs/video/targets/vid.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit dd3805a
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sun Jul 27 20:21:36 2003 +0000

    Update NEWS for current cvar migration patterns.

 NEWS |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 351033e
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sun Jul 27 20:20:20 2003 +0000

    Move vid_conwidth to con_width, and vid_conheight to con_height.

 libs/video/targets/vid.c |   29 ++++++++++++++---------------
 1 file changed, 14 insertions(+), 15 deletions(-)

commit 3886723
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jul 27 19:57:40 2003 +0000

    fix some builtin method names due to the selector name fixes in qfcc

 libs/gamecode/engine/pr_obj.c |   12 ++++++------
 1 file changed, 6 insertions(+), 6 deletions(-)

commit 8966b0a
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jul 27 19:47:14 2003 +0000

    get -/+ into selector name for "does not respond to" warning.

 tools/qfcc/source/class.c |    5 +++--
 tools/qfcc/source/expr.c  |    6 ++++--
 2 files changed, 7 insertions(+), 4 deletions(-)

commit f0c5a37
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jul 27 19:13:13 2003 +0000

    get selector naming (and method name mangline) right

 tools/qfcc/source/method.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 411bddb
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jul 27 18:50:17 2003 +0000

    whitespace

 tools/qfcc/source/class.c |   38 +++++++++++++++++++-------------------
 1 file changed, 19 insertions(+), 19 deletions(-)

commit c9858f4
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Sat Jul 26 21:07:51 2003 +0000

    Preliminary "unsigned" support for qfcc and the gamecode engine. Should still
    be compatible.

 include/QF/pr_comp.h             |   37 ++++++++++++++++++++++---
 libs/gamecode/engine/pr_exec.c   |   57 ++++++++++++++++++++++++++++++--------
 libs/gamecode/engine/pr_opcode.c |   41 +++++++++++++++++----------
 tools/qfcc/source/qc-lex.l       |    1 +
 4 files changed, 106 insertions(+), 30 deletions(-)

commit 673c1d8
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jul 25 22:29:08 2003 +0000

    document the cosole/demo_speed change and the renaming of some related
    cvars.

 NEWS |    5 +++++
 1 file changed, 5 insertions(+)

commit 6063fb7
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jul 25 22:21:47 2003 +0000

    make the console run at full speed no matter what demo_speed is at. what a
    lot of work for such a simple concept :P

 include/QF/console.h              |    4 ++-
 include/QF/draw.h                 |    2 +-
 include/QF/plugin/console.h       |    4 ++-
 include/QF/screen.h               |    2 --
 libs/console/client.c             |   57 +++++++++++++++++++++++++++++++++----
 libs/console/console.c            |    4 +--
 libs/console/server.c             |    2 +-
 libs/video/renderer/gl/gl_draw.c  |   12 +-------
 libs/video/renderer/r_cvar.c      |   10 -------
 libs/video/renderer/r_screen.c    |   33 ---------------------
 libs/video/renderer/sw/draw.c     |    2 +-
 libs/video/renderer/sw/screen.c   |    5 ----
 libs/video/renderer/sw32/draw.c   |    2 +-
 libs/video/renderer/sw32/screen.c |    5 ----
 nq/source/cl_screen.c             |    4 +--
 nq/source/host.c                  |   12 +++++++-
 nq/source/sbar.c                  |    2 +-
 qw/source/cl_main.c               |   12 +++++++-
 qw/source/cl_screen.c             |    2 +-
 qw/source/sbar.c                  |    2 +-
 20 files changed, 91 insertions(+), 87 deletions(-)

commit 1366ad4
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jul 25 20:34:24 2003 +0000

    fix <protocol_list>

 tools/qfcc/source/qc-parse.y |   17 +++++++++++++++--
 1 file changed, 15 insertions(+), 2 deletions(-)

commit 673f6ba
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jul 24 20:50:40 2003 +0000

    add itterators and make -free actually free the Array object

 ruamoko/include/Array.h |    2 ++
 ruamoko/lib/Array.r     |   15 +++++++++++++++
 2 files changed, 17 insertions(+)

commit 3a1c35f
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jul 24 20:50:13 2003 +0000

    update

 TODO |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 34df024
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jul 24 19:41:59 2003 +0000

    make sure protocol_hash exists

 tools/qfcc/source/class.c |  109 +++++++++++++++++++++++----------------------
 1 file changed, 56 insertions(+), 53 deletions(-)

commit 5962900
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jul 24 17:51:24 2003 +0000

    allow rel_def_op relocs to point just past the end of the code. needed for
    jump tables.

 tools/qfcc/include/reloc.h |    2 ++
 tools/qfcc/source/reloc.c  |    9 ++++++---
 2 files changed, 8 insertions(+), 3 deletions(-)

commit 01594e2
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jul 23 19:51:32 2003 +0000

    don't want that QF in the plugin dll name. doesn't get built that way (if
    dlls got built in the first place:/) and way too much hassle to get it
    there

 libs/util/plugin.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 378c477
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jul 23 18:40:09 2003 +0000

    setup vector fields properly

 tools/qfcc/source/def.c |    2 ++
 1 file changed, 2 insertions(+)

commit 778cd78
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jul 23 18:28:31 2003 +0000

    fix some namespace issues with names both being a field and an ivar

 tools/qfcc/include/def.h |    1 +
 tools/qfcc/source/def.c  |   26 ++++++++++++++++++--------
 tools/qfcc/source/expr.c |   24 ++++++++++++++++++++----
 3 files changed, 39 insertions(+), 12 deletions(-)

commit 14a9ff2
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jul 23 16:43:25 2003 +0000

    make dx default

 libs/audio/snd.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 6ee38af
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jul 21 22:24:28 2003 +0000

    put in a comment about mprotect and getpagesize

 libs/util/sys.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit abedda6
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jul 21 20:55:13 2003 +0000

    if a system with mprotect doesn't have getpagesize, the assumption is that
    mprotect doesn't care about page alignment (eg, QNX)

 libs/util/sys.c |    2 --
 1 file changed, 2 deletions(-)

commit ff6e0ab
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jul 21 20:51:03 2003 +0000

    not all systems have _SC_PAGESIZE

 configure.ac    |   11 +++++++++++
 libs/util/sys.c |    2 +-
 2 files changed, 12 insertions(+), 1 deletion(-)

commit d68c6c0
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jul 21 20:04:53 2003 +0000

    fix formatting

 debian/changelog |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 2d55162
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jul 21 19:26:53 2003 +0000

    implement memcpy version of VA_COPY correctly

 libs/util/sys.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 810dfb2
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Fri Jul 18 12:18:05 2003 +0000

    Use sysconf() by default instead of getpagesize(). getpagesize() still used if
    sysconf() not present. Since getpagesize is deprecated, it's only used as a
    fallback.

 libs/util/sys.c |   11 ++++++++++-
 1 file changed, 10 insertions(+), 1 deletion(-)

commit 9b63402
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Fri Jul 18 06:27:26 2003 +0000

    Added llist.[ch], a set of general-purpose linked list routines.  Added
    cl_chat.[ch] to qw to hold advanced chat features, the first of which is
    the ability to ignore chat messages from annoying players.  Some polishing
    in this area still remains, but the current implementation seems to work.

 include/QF/Makefile.am |   10 +-
 include/QF/llist.h     |   65 +++++++++++++
 libs/util/Makefile.am  |    9 +-
 libs/util/llist.c      |  238 ++++++++++++++++++++++++++++++++++++++++++++++++
 qw/include/Makefile.am |    6 +-
 qw/include/cl_chat.h   |   43 +++++++++
 qw/source/Makefile.am  |    4 +-
 qw/source/cl_chat.c    |  217 +++++++++++++++++++++++++++++++++++++++++++
 qw/source/cl_main.c    |    4 +
 qw/source/cl_parse.c   |   11 ++-
 10 files changed, 590 insertions(+), 17 deletions(-)

commit 075f270
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jul 17 22:53:10 2003 +0000

    back to -CVS

 configure.ac |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 78f8e45
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jul 17 22:35:48 2003 +0000

    good grief, 0.5.3 not even announced and 0.5.4 getting released :P

 NEWS             |    5 +++++
 configure.ac     |    2 +-
 debian/changelog |   14 ++++++++++++++
 3 files changed, 20 insertions(+), 1 deletion(-)

commit 0234988
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jul 17 22:14:50 2003 +0000

    fix an exploitable overflow (owwie)

 qw/source/cl_parse.c |    5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 1f948c4
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jul 17 21:45:01 2003 +0000

    magic numbers evil

 libs/util/sys.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit b36bd6a
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jul 17 21:01:25 2003 +0000

    not all systems (eg, QNX) that have mprotect have getpagesize

 configure.ac    |    2 +-
 libs/util/sys.c |   13 +++++++------
 2 files changed, 8 insertions(+), 7 deletions(-)

commit 37f6608
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jul 17 20:04:07 2003 +0000

    QNX's printf doesn't like null pointers

 tools/qfcc/source/qfcc.c |    2 ++
 1 file changed, 2 insertions(+)

commit 9367a62
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jul 17 19:16:20 2003 +0000

    turned out not to be the right solution

 include/QF/qtypes.h |    4 ----
 1 file changed, 4 deletions(-)

commit a06c4e1
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jul 17 18:40:53 2003 +0000

    fix an improperly stringed file found by DrSpliff

 libs/util/string.c |    7 ++++++-
 1 file changed, 6 insertions(+), 1 deletion(-)

commit 5481273
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jul 17 18:27:00 2003 +0000

    start working on plist entity files

 libs/gamecode/engine/pr_parse.c |   22 ++++++++++++++++++----
 1 file changed, 18 insertions(+), 4 deletions(-)

commit 59db43b
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Thu Jul 17 17:55:09 2003 +0000

    This is totally out of date now.

 doc/gib.html |  527 ----------------------------------------------------------
 1 file changed, 527 deletions(-)

commit 043ec90
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jul 17 15:17:41 2003 +0000

    qnx patch from DrSpliff

 include/QF/qtypes.h              |    5 +++++
 libs/gamecode/builtins/pr_cmds.c |    1 -
 2 files changed, 5 insertions(+), 1 deletion(-)

commit b7d076f
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Tue Jul 15 21:40:37 2003 +0000

    Add support for run-time regex options (REG_NOTBOL and REG_NOTEOL),
    and more text transformation functions.

 include/gib_regex.h    |    1 +
 libs/gib/gib_builtin.c |   64 ++++++++++++++++++++++++++++++++++++++++++++----
 libs/gib/gib_regex.c   |   12 +++++++++
 3 files changed, 72 insertions(+), 5 deletions(-)

commit 772ad66
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jul 15 17:41:31 2003 +0000

    don't need that any more (yay:)

 libs/video/renderer/gl/gl_sky_clip.c |    9 ---------
 1 file changed, 9 deletions(-)

commit cb6bf2e
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jul 15 16:34:43 2003 +0000

    minor house-keeping

 include/QF/progs.h              |    3 ---
 libs/gamecode/engine/pr_parse.c |   11 +----------
 2 files changed, 1 insertion(+), 13 deletions(-)

commit 7782f01
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jul 14 00:20:36 2003 +0000

    hmm, didn't propogate my fix properly

 RPM/quakeforge.spec.in |   10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit 454aa5c
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jul 12 21:50:22 2003 +0000

    more mailing list corrections

 doc/man/quakeforge.1       |    2 +-
 quakeforge.lsm.in          |    4 ++--
 qw/source/cl_ents.c        |    4 ++--
 tools/qfcc/AUTHORS         |    2 +-
 tools/qfcc/qfcc.lsm.in     |    4 ++--
 tools/qfdefs/qfdefs.lsm.in |    4 ++--
 6 files changed, 10 insertions(+), 10 deletions(-)

commit 78ccffe
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jul 12 20:19:43 2003 +0000

    correct the list address

 RPM/quakeforge.spec.in |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 1f9a22d
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jul 12 20:19:05 2003 +0000

    finally got it working

 RPM/quakeforge.spec.in |   19 ++++++++++---------
 1 file changed, 10 insertions(+), 9 deletions(-)

commit 68357d7
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jul 12 07:26:16 2003 +0000

    forgot rpm doesn't allow - in the version, so hack around it :)

 RPM/quakeforge.spec.in |    2 +-
 configure.ac           |    2 ++
 2 files changed, 3 insertions(+), 1 deletion(-)

commit 6efa0ca
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jul 10 22:20:29 2003 +0000

    if at first you don't succeed...

 libs/audio/targets/snd_oss.c |   63 ++++++++++++++++++++----------------------
 1 file changed, 30 insertions(+), 33 deletions(-)

commit 42aeb83
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jul 10 22:02:06 2003 +0000

    update version to 0.5.3-CVS

 configure.ac |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f067f80
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jul 10 18:16:17 2003 +0000

    update NEWS. not 100% accurate, but that would take forever :P

 NEWS |   49 ++++++++++++++++++++++++++++++++++++++++++++++---
 1 file changed, 46 insertions(+), 3 deletions(-)

commit c8377e0
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jul 10 16:28:46 2003 +0000

    partial updates

 NEWS |   19 +++++++++++++++++++
 1 file changed, 19 insertions(+)

commit 8306859
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jul 10 16:28:27 2003 +0000

    target_cpu is much more appropriate for -march than host_cpu

 configure.ac |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 3537d67
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jul 10 05:10:34 2003 +0000

    target_cpu makes much more sense for -march

 configure.ac |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 031041d
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jul 10 02:03:54 2003 +0000

    d'oh, half assed job

 acinclude.m4 |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 6ded764
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jul 10 01:48:58 2003 +0000

    make sure the ogg and vorbis checks don't add /usr/{include,lib> or
    /usr/local/{include,lib} to CFLAGS or LDFLAGS

 acinclude.m4 |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 318a407
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jul 9 21:43:05 2003 +0000

    add menu.dat to quakeforge-common now that it has a proper home

 debian/rules |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit d4734f5
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jul 9 20:42:54 2003 +0000

    bump the version

 configure.ac |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit dfa1674
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jul 9 15:38:19 2003 +0000

    fix some silly bugs (sizeof (char*) :P)

 libs/util/quakefs.c |    9 +--------
 1 file changed, 1 insertion(+), 8 deletions(-)

commit 0cf0f71
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jul 9 15:34:58 2003 +0000

    remove some unneeded code

 libs/gamecode/builtins/bi_qfile.c |   14 --------------
 libs/gamecode/builtins/bi_qfs.c   |   14 --------------
 libs/models/brush/model_brush.c   |    4 ----
 3 files changed, 32 deletions(-)

commit 855fc53
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jul 9 06:28:09 2003 +0000

    handle alloca properly

 configure.ac                         |   36 ++++++++++++++++++++++++++++++
 libs/audio/renderer/snd_mem.c        |    4 ----
 libs/util/pakfile.c                  |   40 ++++++++++++++++++++++++++++++----
 libs/util/quakefs.c                  |    4 ----
 libs/util/riff.c                     |    4 ----
 libs/video/renderer/gl/gl_sky_clip.c |    4 ----
 libs/video/targets/old_keys.c        |    4 ----
 7 files changed, 72 insertions(+), 24 deletions(-)

commit 84e071d
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jul 9 04:21:45 2003 +0000

    fix an incorrect usage of HAVE_* that finally bit my bum

 libs/util/quakefs.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 4f66e1e
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jul 8 22:39:45 2003 +0000

    fix a bunch of the previous FIXMEs. needs a bit more work for win32
    compiling

 include/QF/model.h     |    2 +-
 include/QF/quakefs.h   |    2 +-
 libs/models/model.c    |    6 ++-
 libs/net/nm/net_dgrm.c |   45 -------------------
 libs/net/nm/net_udp.c  |   30 ++++++++-----
 libs/util/quakefs.c    |   42 ++++++++++--------
 libs/util/quakeio.c    |    6 ++-
 nq/source/host.c       |   50 +++++++++++++--------
 nq/source/sbar.c       |   33 ++++++--------
 qw/source/cl_main.c    |   77 ++++++++++++++++++---------------
 qw/source/master.c     |    2 +-
 qw/source/sbar.c       |  113 +++++++++++++++++++++++++-----------------------
 qw/source/sv_ccmds.c   |    2 +-
 qw/source/sv_pr_cmds.c |   18 ++++----
 14 files changed, 210 insertions(+), 218 deletions(-)

commit dddf045
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jul 8 20:11:10 2003 +0000

    put "FIXME: overflow" on all the char arrays I could find that weren't
    obviously safe

 libs/net/nm/net_dgrm.c               |   14 ++++++-------
 libs/net/nm/net_udp.c                |    5 +++--
 libs/util/quakefs.c                  |   16 +++++++-------
 libs/util/quakeio.c                  |    4 ++--
 libs/video/renderer/gl/gl_sky_clip.c |    4 ++--
 nq/source/host.c                     |   10 ++++-----
 nq/source/sbar.c                     |   14 ++++++-------
 qw/source/cl_main.c                  |   22 ++++++++++----------
 qw/source/master.c                   |    6 +++---
 qw/source/sbar.c                     |   38 +++++++++++++++++-----------------
 qw/source/sv_ccmds.c                 |   16 +++++++-------
 qw/source/sv_pr_cmds.c               |    8 +++----
 tools/qfbsp/source/writebsp.c        |    4 ++--
 13 files changed, 82 insertions(+), 79 deletions(-)

commit 21f7365
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jul 8 20:09:23 2003 +0000

    make "win" the default for snd_output on windows

 libs/audio/snd.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 011fe7b
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jul 8 17:26:50 2003 +0000

    make sure the trimmed info key value gets terminated properly

 libs/util/info.c |    1 +
 1 file changed, 1 insertion(+)

commit a9dbdb5
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jul 8 15:07:59 2003 +0000

    clean up Cvar_Info, removing redundant code and a potential overflow

 qw/source/sv_ccmds.c |   26 ++------------------------
 1 file changed, 2 insertions(+), 24 deletions(-)

commit 2630ed1
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Thu Jun 26 20:24:47 2003 +0000

    More informative UDP setup failure messages.

 libs/net/nc/net_udp.c  |    2 +-
 libs/net/nc/net_udp6.c |    2 +-
 libs/net/nm/net_udp.c  |    2 +-
 3 files changed, 3 insertions(+), 3 deletions(-)

commit acb4e8d
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jun 25 22:41:58 2003 +0000

    try to handle pthread better

 configure.ac |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 1d32ff0
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jun 25 15:22:39 2003 +0000

    fix missing params for VA_COPY pointed out by Dalibor Topic
    <robilad@yahoo.com>

 libs/util/dstring.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 64f7473
Author: Chris Ison <cisos@bigpond.net.au>
Date:   Sat Jun 21 00:17:32 2003 +0000

    added vid_fullscreen cvar as a CVAR_ROM. This will change once the renderer is setup to reload textures.
    removed -window, -mode, and internal mode table and functions that strictly delt with them.
    
    Rewrote the mode selection part of VID_Init
    Altered VID_SetMode and associated functions to use data obtained from VID_Init instead of mode tables.
    
    Also tidied up a little.

 libs/video/targets/vid_wgl.c |  581 +++++-------------------------------------
 1 file changed, 69 insertions(+), 512 deletions(-)

commit bff8a24
Author: Chris Ison <cisos@bigpond.net.au>
Date:   Sat Jun 21 00:07:59 2003 +0000

    added -conheight checking

 libs/video/targets/vid.c |   15 ++++++++++++++-
 1 file changed, 14 insertions(+), 1 deletion(-)

commit 862e9d8
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jun 17 03:11:24 2003 +0000

    mindhog's fix for 32bpp x11

 libs/video/targets/vid_x11.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d720efe
Author: Chris Ison <cisos@bigpond.net.au>
Date:   Mon Jun 16 12:31:52 2003 +0000

    fixed misplacement of menu

 libs/video/targets/vid_wgl.c |    2 ++
 1 file changed, 2 insertions(+)

commit ba19ee1
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jun 6 18:57:56 2003 +0000

    clear the current menu so going to console via the menus doesn't screw
    things up

 ruamoko/cl_menu/options.qc |    1 +
 1 file changed, 1 insertion(+)

commit f22bdfc
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jun 6 15:47:12 2003 +0000

    d'oh, forgot to update the format

 libs/util/quakefs.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 8d470d2
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jun 6 15:44:13 2003 +0000

    don't use qfs_gamedir->* in QFS_NextFilename as it gets passed that in the
    template (and shouldn't assume where to put the file anyway:). fixes the
    all screenshots saves sas qf0000.tga bug.

 libs/util/quakefs.c |    3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit c6b6c79
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Fri Jun 6 12:35:52 2003 +0000

    Fix one bug, but doesn't fix all screenshots being saved to qf0000.tga...

 libs/util/quakefs.c |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit f5cf955
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jun 5 18:25:41 2003 +0000

    win32 finally builds again

 include/winquake.h |    3 +++
 1 file changed, 3 insertions(+)

commit 191a7f6
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jun 5 17:56:09 2003 +0000

    win32 compile fixes

 libs/util/quakefs.c |    4 ++++
 1 file changed, 4 insertions(+)

commit ce9ddfd
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jun 5 17:51:49 2003 +0000

    win32 fix

 libs/util/plugin.c |    6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit 58c9203
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jun 5 16:08:10 2003 +0000

    openbsd compile fix from nano

 libs/util/plugin.c |    4 ++++
 1 file changed, 4 insertions(+)

commit 54e8cb1
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jun 4 20:32:10 2003 +0000

    make dist fix (again:/)

 ruamoko/cl_menu/Makefile.am |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 0c42b0f
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jun 4 18:50:54 2003 +0000

    make dist fix

 ruamoko/cl_menu/Makefile.am |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d42e011
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jun 4 18:26:19 2003 +0000

    make dist fix

 include/QF/Makefile.am |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 4cabc2d
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jun 4 18:07:12 2003 +0000

    fix a non-curses build issue

 libs/console/server.c |   16 ++++++++--------
 1 file changed, 8 insertions(+), 8 deletions(-)

commit 5e6ae08
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jun 4 16:10:08 2003 +0000

    add a couple more news items

 NEWS |    2 ++
 1 file changed, 2 insertions(+)

commit 371e57e
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jun 3 14:46:10 2003 +0000

    make the /* */ comment look right (and test lists:)

 tools/qfcc/doc/qcc.txt |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 5808d08
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Tue Jun 3 06:01:47 2003 +0000

    whitespace.

 qw/source/sv_user.c |   21 +++++++++------------
 1 file changed, 9 insertions(+), 12 deletions(-)

commit 5bafde5
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 30 21:22:30 2003 +0000

    blah, failed to notice the info string was getting freed earlier

 qw/source/cl_parse.c |    2 --
 1 file changed, 2 deletions(-)

commit 42ade2c
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 30 20:16:30 2003 +0000

    clear the player slots properly when disconnecting

 qw/source/cl_main.c  |    8 ++++----
 qw/source/cl_parse.c |    2 ++
 2 files changed, 6 insertions(+), 4 deletions(-)

commit f061c47
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 30 01:44:39 2003 +0000

    make QFS_CreatePath work again and remove some old code from QFS_WriteFile

 libs/util/quakefs.c |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 016743c
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 29 04:49:34 2003 +0000

    diff reduction and maybe a couple speedups

 nq/include/server.h    |    2 +-
 nq/source/host_cmd.c   |    6 +-
 nq/source/sv_pr_cmds.c |  154 ++++++++++-----------
 qw/source/sv_pr_cmds.c |  354 +++++++++++++++++++++++++++++-------------------
 4 files changed, 289 insertions(+), 227 deletions(-)

commit 1c1e6e1
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Thu May 29 02:40:34 2003 +0000

    Clean up sv_pr_cmds.c, and sync up nq's copy.

 nq/source/sv_pr_cmds.c |   12 +++++++-----
 qw/source/sv_pr_cmds.c |   12 +++++-------
 2 files changed, 12 insertions(+), 12 deletions(-)

commit 9e57425
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Wed May 28 04:49:09 2003 +0000

    Make the playcenter hack not screw up sound spatialization.

 libs/audio/renderer/snd_dma.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 00abd17
Author: Bill Currie <bill@taniwha.org>
Date:   Mon May 26 19:14:18 2003 +0000

    dstring.[ch]:
    	add dstring_copysubstr and make all the substr functions use strnlen
    	for the incoming string. also fix the append string functions to append
    	the present string correctly.
    cbuf.c:
    	use dstring_copystr instead of dstring_clearstr/dstring_appendstr
    idparse.c:
    	use dstring_copysubstr instead of dstring_clearstr/dstring_insert

 include/QF/dstring.h |    1 +
 libs/util/cbuf.c     |    3 +--
 libs/util/dstring.c  |   32 ++++++++++++++++++++++----------
 libs/util/idparse.c  |    9 +++------
 4 files changed, 27 insertions(+), 18 deletions(-)

commit 9602d6c
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Mon May 26 05:07:21 2003 +0000

    Fixed an interesting crash that occured when a recycled idparse cbuf was
    given to GIB when it pushed the cbuf stack.

 libs/util/cbuf.c |    6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit a4bc588
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Mon May 26 01:41:58 2003 +0000

    Draw PL on the scoreboard in the correct spot.

 qw/source/sbar.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 1f6acdb
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Sun May 25 05:42:01 2003 +0000

    Make file::delete and file::move use QFS functions.

 libs/gib/gib_builtin.c |    5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

commit 3aecdcf
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Sun May 25 05:40:25 2003 +0000

    Added a temporary hack to make ~/.quakeforgerc work again.

 include/QF/quakefs.h |    3 +++
 libs/util/cmd.c      |    4 +++-
 libs/util/quakefs.c  |    2 +-
 3 files changed, 7 insertions(+), 2 deletions(-)

commit 9297d2b
Author: Bill Currie <bill@taniwha.org>
Date:   Sat May 24 02:04:16 2003 +0000

    bah

 qw/source/sv_demo.c |    1 -
 1 file changed, 1 deletion(-)

commit dc5e6d5
Author: Bill Currie <bill@taniwha.org>
Date:   Sat May 24 02:03:17 2003 +0000

    clean up mvd easyrecord auto-creation

 qw/source/sv_demo.c |   30 ++++--------------------------
 1 file changed, 4 insertions(+), 26 deletions(-)

commit 07e9ee5
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 23 20:21:43 2003 +0000

    make a little more useful

 tools/wav/qfwavinfo.c |   78 +++++++++++++++++++++++++++++++++++++++----------
 1 file changed, 62 insertions(+), 16 deletions(-)

commit e8c28cc
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 23 20:12:38 2003 +0000

    fix some incompatable pointer types

 ruamoko/cl_menu/controls_o.qc |   14 +++++++-------
 1 file changed, 7 insertions(+), 7 deletions(-)

commit 66e2ef1
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 23 17:39:33 2003 +0000

    fix an uninitialized variable

 libs/video/renderer/sw32/screen.c |    9 +++++----
 1 file changed, 5 insertions(+), 4 deletions(-)

commit c2c3a62
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 23 17:17:01 2003 +0000

    nuke Qexpand_squiggle. instead, expand ~ to $HOME on qfs initialization and
    cache the value.
    
    don't call Qopen directly in the engine. instead call QFS_Open (generic) or
    QFS_WOpen (write only, zip flag).
    
    rework QFS_NextFilename to use a dstring (avoiding a potential buffer
    overflow), support 10000 files and work from the top-level fs_userpath
    directory. adjust QFS_WriteFile and QFS_WriteBuffers etc to suit.
    
    make sw32 screenshots actually get written.
    
    hopefully everything gets written to the right places :)

 include/QF/quakefs.h               |   41 ++--
 include/QF/quakeio.h               |    1 -
 libs/console/client.c              |    2 +-
 libs/console/server.c              |    2 +-
 libs/gamecode/builtins/bi_file.c   |    3 +-
 libs/gamecode/builtins/bi_qfs.c    |    2 +-
 libs/gib/gib_builtin.c             |    8 +-
 libs/util/quakefs.c                |  115 +++++++----
 libs/util/quakeio.c                |   55 +----
 libs/util/sys.c                    |    4 +-
 libs/video/renderer/gl/gl_screen.c |   24 ++-
 libs/video/renderer/sw/screen.c    |   32 +--
 libs/video/renderer/sw32/screen.c  |   55 ++---
 nq/source/cl_demo.c                |    4 +-
 nq/source/host.c                   |    4 +-
 nq/source/host_cmd.c               |    7 +-
 qw/include/server.h                |    2 +-
 qw/source/cl_demo.c                |    7 +-
 qw/source/cl_slist.c               |   14 +-
 qw/source/crudefile.c              |    7 +-
 qw/source/locs.c                   |    4 +-
 qw/source/net_packetlog.c          |   10 +-
 qw/source/sbar.c                   |    6 +-
 qw/source/sv_ccmds.c               |   38 ++--
 qw/source/sv_demo.c                |  388 ++----------------------------------
 qw/source/sv_main.c                |    9 +-
 qw/source/sv_user.c                |   28 +--
 qw/source/teamplay.c               |    2 +-
 28 files changed, 249 insertions(+), 625 deletions(-)

commit c5be2fb
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Fri May 23 04:38:08 2003 +0000

    OK, I think I need caffeine.  This time, the Array class is really switched
    over to using ids.

 ruamoko/include/Array.h |   12 ++++++------
 ruamoko/lib/Array.r     |   14 +++++++-------
 2 files changed, 13 insertions(+), 13 deletions(-)

commit 3205f0f
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Fri May 23 04:29:01 2003 +0000

    Added the HUDAnimation class and GIB bindings to use it, as well as other
    enhancements and cleanups to the scriptable HUD system.

 ruamoko/cl_menu/Frame.h          |   14 ++++
 ruamoko/cl_menu/Frame.r          |   34 ++++++++++
 ruamoko/cl_menu/HUD.h            |   27 +++++++-
 ruamoko/cl_menu/HUD.r            |  114 +++++++++++++++++++++++++++-----
 ruamoko/cl_menu/Makefile.am      |    2 +-
 ruamoko/cl_menu/hud_interface.qc |  133 +++++++++++++++++++++++++++++++++-----
 6 files changed, 288 insertions(+), 36 deletions(-)

commit f9ff908
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Fri May 23 04:27:30 2003 +0000

    Changed the Array class to use object ids instead of null pointers for easy
    and safe freeing of elements when an Array is disposed.

 ruamoko/include/Array.h |    2 +-
 ruamoko/lib/Array.r     |    8 ++++----
 2 files changed, 5 insertions(+), 5 deletions(-)

commit 30c4da3
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Fri May 23 02:50:15 2003 +0000

    Change HUD::show and HUD::hide to HUD::enable and HUD::disable.  The global
    progs variable time is now updated before the HUD drawing function is run.

 libs/console/client.c |    8 ++++----
 libs/console/menu.c   |    2 ++
 2 files changed, 6 insertions(+), 4 deletions(-)

commit c3d18bd
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Thu May 22 02:32:38 2003 +0000

    Make file::read and file::write use the new QFS functions.  This allows
    reading files out of paks from GIB. file::find still needs to be updated
    (and renamed).

 libs/gib/gib_builtin.c |   29 ++++++-----------------------
 1 file changed, 6 insertions(+), 23 deletions(-)

commit 6a8469d
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 21 21:53:21 2003 +0000

    start working on VA support for borked GL libs

 include/QF/GL/qf_funcs_list.h  |   96 +++---
 libs/video/targets/Makefile.am |    2 +-
 libs/video/targets/vtxarray.c  |  636 ++++++++++++++++++++++++++++++++++++++++
 3 files changed, 685 insertions(+), 49 deletions(-)

commit abe657e
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 21 15:00:23 2003 +0000

    handle file openning issues a little more gracefully

 tools/qfvis/source/qfvis.c |    6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit 3607fec
Author: Bill Currie <bill@taniwha.org>
Date:   Tue May 20 15:56:23 2003 +0000

    copy was meant to be a permanent dstring

 libs/net/nc/net_udp6.c |    4 ----
 1 file changed, 4 deletions(-)

commit fad902f
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Sat May 17 17:36:10 2003 +0000

    Fixed a thinko that was causing events not to run under certain
    circumstances.

 libs/gib/gib_thread.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ba36016
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 16 19:44:25 2003 +0000

    wad pics don't have extensions (plugs a buffer underflow hole)

 libs/video/renderer/gl/gl_draw.c |   11 +++++------
 1 file changed, 5 insertions(+), 6 deletions(-)

commit 7e657c4
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 16 19:36:03 2003 +0000

    fix a buffer overflow (order of ops)

 libs/console/view.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 460c8f7
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 16 16:17:24 2003 +0000

    mindHog's qfpython patch. GIB info string event callbacks and a compile fix
    for broken x11 headers.

 libs/video/targets/vid_x11.c |    2 ++
 qw/include/server.h          |    6 +++---
 qw/include/sv_gib.h          |    2 ++
 qw/source/sv_gib.c           |    4 ++++
 qw/source/sv_pr_cmds.c       |   39 +++++++++++++++++++++++++++++++++++++++
 qw/source/sv_user.c          |   16 ++++++++++++----
 6 files changed, 62 insertions(+), 7 deletions(-)

commit ff5ad2e
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Fri May 16 07:24:58 2003 +0000

    Added text::white and text::brown builtins to produce text of specific
    colors.

 libs/gib/gib_builtin.c |   40 ++++++++++++++++++++++++++++++++++++++++
 1 file changed, 40 insertions(+)

commit 19559fb
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 16 00:19:24 2003 +0000

    fix misplaced bold

 tools/qfcc/doc/man/qfcc.1 |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c79c4f8
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 16 00:08:20 2003 +0000

    alpha sort the options

 tools/qfcc/doc/man/qfcc.1 |   94 ++++++++++++++++++++++-----------------------
 1 file changed, 47 insertions(+), 47 deletions(-)

commit 124d90f
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Thu May 15 22:39:34 2003 +0000

    Add the playcenter command to play a sound without 3d spatialization.

 libs/audio/renderer/snd_dma.c |   25 ++++++++++++++++++++++++-
 1 file changed, 24 insertions(+), 1 deletion(-)

commit 6eaa551
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Thu May 15 22:39:04 2003 +0000

    Nuke some dprintfs

 libs/gib/gib_tree.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 0ba2481
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Thu May 15 21:59:19 2003 +0000

    Applied taniwha's mem leak fix.

 libs/gamecode/builtins/bi_gib.c |    1 +
 1 file changed, 1 insertion(+)

commit 2c5933f
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 15 21:18:51 2003 +0000

    fix some errors pointed out by colin (thanks:)

 tools/qfcc/doc/man/qfcc.1 |   32 ++++++++++++++++----------------
 1 file changed, 16 insertions(+), 16 deletions(-)

commit 794bca7
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 15 20:46:16 2003 +0000

    don't segfault if the profile command is run before progs have been loaded

 nq/source/sv_progs.c |    4 ++++
 1 file changed, 4 insertions(+)

commit 9bd839e
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 15 18:55:57 2003 +0000

    correct a couple of typos

 tools/qfcc/source/options.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 7fb58c6
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 15 18:53:45 2003 +0000

    update the qfcc man page

 tools/qfcc/doc/man/qfcc.1 |   93 ++++++++++++++++++++++++++++++++++++++++++---
 1 file changed, 88 insertions(+), 5 deletions(-)

commit a2243e8
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 15 17:48:59 2003 +0000

    update the --help docs with all the options

 tools/qfcc/source/options.c |   21 +++++++++++++++++----
 1 file changed, 17 insertions(+), 4 deletions(-)

commit dcf1bcf
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Thu May 15 06:49:10 2003 +0000

    HUD interface leak fixes and enhancements.  Something is still leaking
    memory, though.

 ruamoko/cl_menu/HUD.h            |    4 +++-
 ruamoko/cl_menu/HUD.r            |   28 +++++++++++++++++++---
 ruamoko/cl_menu/hud_interface.qc |   48 +++++++++++++++++++++++++++-----------
 3 files changed, 62 insertions(+), 18 deletions(-)

commit dedb2fa
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 15 05:58:31 2003 +0000

    get [super ...] working correctly

 include/QF/pr_obj.h           |    5 +++
 libs/gamecode/engine/pr_obj.c |   38 ++++++++----------
 ruamoko/include/Object.h      |    2 +-
 ruamoko/lib/Object.r          |    4 +-
 tools/qfcc/include/expr.h     |    4 ++
 tools/qfcc/include/type.h     |    2 +
 tools/qfcc/source/class.c     |    2 +-
 tools/qfcc/source/emit.c      |    9 ++---
 tools/qfcc/source/expr.c      |   88 ++++++++++++++++++++++++++++++++---------
 tools/qfcc/source/method.c    |    9 +++--
 tools/qfcc/source/qc-lex.l    |    1 +
 tools/qfcc/source/type.c      |   11 ++++++
 12 files changed, 123 insertions(+), 52 deletions(-)

commit bfaa07c
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 15 05:19:05 2003 +0000

    better type mismatch error reporting

 tools/qfcc/source/linker.c |   24 ++++++++++++------------
 1 file changed, 12 insertions(+), 12 deletions(-)

commit 5fac3e6
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 15 05:10:28 2003 +0000

    fix a buffer underflow

 tools/qfcc/source/qfcc.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit dd03326
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Thu May 15 04:37:00 2003 +0000

    Make gcc2 stfu.

 libs/video/renderer/gl/gl_draw.c |    8 +++-----
 1 file changed, 3 insertions(+), 5 deletions(-)

commit 4260f55
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 14 21:36:41 2003 +0000

    make sure the rest of the server gets to run even if there's no network
    input (though I fixed this for windows too)

 qw/source/sv_sys_win.c |    3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit e160ead
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Wed May 14 21:17:32 2003 +0000

    Added the scriptable HUD interface between the engine, Rua, and GIB.

 include/QF/console.h             |    1 +
 libs/console/client.c            |   22 +++++-
 libs/console/menu.c              |   11 +++
 ruamoko/cl_menu/HUD.h            |   45 +++++++++++
 ruamoko/cl_menu/HUD.r            |  117 +++++++++++++++++++++++++++++
 ruamoko/cl_menu/Makefile.am      |    3 +-
 ruamoko/cl_menu/client_menu.qc   |   15 +---
 ruamoko/cl_menu/hud_interface.qc |  154 ++++++++++++++++++++++++++++++++++++++
 8 files changed, 355 insertions(+), 13 deletions(-)

commit 72c21f6
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Wed May 14 21:16:23 2003 +0000

    Add support for GIB handles to the Rua interface.

 libs/gamecode/builtins/bi_gib.c |   41 ++++++++++++++++++++++++++++++++++++++-
 1 file changed, 40 insertions(+), 1 deletion(-)

commit bf675e7
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Wed May 14 21:13:41 2003 +0000

    Fixed a few GIB bugs, added the chomp builtin.

 include/gib_vars.h     |    2 +-
 libs/gib/gib_builtin.c |   33 +++++++++++++++++++++++++++++----
 libs/gib/gib_execute.c |    2 +-
 libs/gib/gib_handle.c  |    2 +-
 libs/gib/gib_vars.c    |    6 +++---
 5 files changed, 35 insertions(+), 10 deletions(-)

commit fe5a62b
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Wed May 14 21:12:18 2003 +0000

    Fixed an incorrect builtin definition.

 ruamoko/include/gib.h |    4 ++++
 ruamoko/lib/gib.r     |    4 ++++
 2 files changed, 8 insertions(+)

commit cc3f98e
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Wed May 14 21:11:23 2003 +0000

    Added a removeItem method to the Array Ruamoko class.

 ruamoko/include/Array.h |    1 +
 ruamoko/lib/Array.r     |   13 +++++++++++++
 2 files changed, 14 insertions(+)

commit e206109
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Wed May 14 21:08:43 2003 +0000

    Fixed .tga loading for GL targets.  SW targets still need work in all
    likelyhood.

 libs/video/renderer/gl/gl_draw.c |   68 ++++++++++++++++++++++----------------
 1 file changed, 39 insertions(+), 29 deletions(-)

commit 8ed5962
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 14 16:29:27 2003 +0000

    comment out an unused function

 libs/net/nc/net_udp6.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 094c9c5
Author: Bill Currie <bill@taniwha.org>
Date:   Tue May 13 19:49:23 2003 +0000

    make derefencing a pointer without an offset more efficient

 tools/qfcc/source/expr.c |    8 ++++++--
 1 file changed, 6 insertions(+), 2 deletions(-)

commit f59f766
Author: Bill Currie <bill@taniwha.org>
Date:   Tue May 13 19:42:14 2003 +0000

    use the correct type when taking the address of a pointer derefernece

 tools/qfcc/source/emit.c |    2 +-
 tools/qfcc/source/expr.c |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit dd39fde
Author: Bill Currie <bill@taniwha.org>
Date:   Tue May 13 19:18:25 2003 +0000

    remove a debug print

 ruamoko/cl_menu/controls_o.qc |    1 -
 1 file changed, 1 deletion(-)

commit 054f4b7
Author: Bill Currie <bill@taniwha.org>
Date:   Tue May 13 06:20:08 2003 +0000

    oopsie, that was an ill-advised change :P

 libs/console/filelist.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 1ea1a2f
Author: Bill Currie <bill@taniwha.org>
Date:   Tue May 13 01:30:01 2003 +0000

    don't bother checking access restrictions in class_ivar_expr as
    class_find_ivar will catch them when the generated self.ivar is `parsed'.

 tools/qfcc/source/class.c |    5 -----
 1 file changed, 5 deletions(-)

commit 8eced18
Author: Bill Currie <bill@taniwha.org>
Date:   Mon May 12 15:04:04 2003 +0000

    make dist fix

 ruamoko/cl_menu/Makefile.am |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 0bc15fa
Author: Bill Currie <bill@taniwha.org>
Date:   Sun May 11 05:20:41 2003 +0000

    clean up hipnotic weapons sbar code a bit

 nq/source/sbar.c |   62 ++++++++++++++++++++++++------------------------------
 1 file changed, 27 insertions(+), 35 deletions(-)

commit 5c5bb91
Author: Bill Currie <bill@taniwha.org>
Date:   Sun May 11 04:51:14 2003 +0000

    get the hipnotic hud working properly

 nq/source/sbar.c |   36 +++++++++---------------------------
 1 file changed, 9 insertions(+), 27 deletions(-)

commit 9b9c435
Author: Bill Currie <bill@taniwha.org>
Date:   Sat May 10 04:20:21 2003 +0000

    don't draw the shotgun icon in hud mode if it won't fit and crop the lg
    icon

 nq/source/sbar.c |    6 +++---
 qw/source/sbar.c |    4 ++--
 2 files changed, 5 insertions(+), 5 deletions(-)

commit 23e4786
Author: Bill Currie <bill@taniwha.org>
Date:   Sat May 10 02:54:17 2003 +0000

    fix rogue's item code

 nq/source/sbar.c |   71 ++++++++++++++++++++++++++++++++----------------------
 1 file changed, 42 insertions(+), 29 deletions(-)

commit b5a960c
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 9 21:10:59 2003 +0000

    fix nq's gamedir handling for the -hipnotic etc shortcuts

 include/QF/quakefs.h |    1 -
 libs/util/quakefs.c  |   10 +---------
 nq/source/game.c     |   13 ++++++-------
 3 files changed, 7 insertions(+), 17 deletions(-)

commit 31db390
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 9 20:30:50 2003 +0000

    rename cl_overlay_gravity to cl_scoreboard_gravity, rename the hud/sbar,
    stuff from cl_* to hud_*, add hud_scoreboard_gravity to nq.

 nq/include/client.h |    2 +-
 nq/source/cl_view.c |    2 +-
 nq/source/sbar.c    |   60 ++++++++++++++++++++++++++++++++++++++++-----------
 qw/include/client.h |    6 +++---
 qw/source/cl_view.c |    2 +-
 qw/source/sbar.c    |   45 +++++++++++++++++++-------------------
 6 files changed, 76 insertions(+), 41 deletions(-)

commit aaba726
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 9 19:24:48 2003 +0000

    auto-arange the hud if the screen is too small for hipnotic or rogue

 nq/source/sbar.c |   54 +++++++++++++++++++++++++++++++-----------------------
 1 file changed, 31 insertions(+), 23 deletions(-)

commit 63fda1c
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 9 17:24:11 2003 +0000

    almost lost the rogue ammo icons :)

 nq/source/sbar.c |   17 ++++++++++++++---
 1 file changed, 14 insertions(+), 3 deletions(-)

commit ae9e666
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 9 16:52:41 2003 +0000

    rogue hud working now. not sure I'm happy with the way the ammo's drawn
    though as rogue didn't (seem to) supply unhighlighted versions of their
    alt weapon icons.

 nq/source/sbar.c |  311 +++++++++++++++++++++++++++++++++++-------------------
 1 file changed, 201 insertions(+), 110 deletions(-)

commit 806ba15
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 9 15:30:18 2003 +0000

    fix a couple warnings

 nq/source/sbar.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 7f11d7c1
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 9 07:27:46 2003 +0000

    get hipnotic's sbar working properly, with a hud to boot!!! :)

 nq/source/sbar.c |  638 ++++++++++++++++++++++++++++--------------------------
 1 file changed, 334 insertions(+), 304 deletions(-)

commit 6763d73
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Fri May 9 05:22:30 2003 +0000

    Make glError testing static, for now, to shut up compiler warnings.

 libs/video/renderer/gl/gl_rmain.c |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit f6b556a
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Fri May 9 01:41:56 2003 +0000

    *beats CVS with the cluebat*

 libs/video/renderer/gl/gl_rmain.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 09fa88e
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Fri May 9 01:30:22 2003 +0000

    Don't export R_TestErrors.

 include/QF/GL/qf_rmain.h |    3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit 5f35731
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 8 23:24:02 2003 +0000

    the beginnings of a jihad against buffer overflows

 libs/audio/cd/cd_sgi.c             |    2 +-
 libs/audio/renderer/snd_dma.c      |   29 +++++++++++------------------
 libs/console/client.c              |    3 ++-
 libs/console/filelist.c            |    2 +-
 libs/gamecode/engine/pr_load.c     |    7 ++++---
 libs/gamecode/engine/pr_parse.c    |   34 +++++++++++++++++++---------------
 libs/models/alias/gl_mesh.c        |   22 ++++++++++++++--------
 libs/models/alias/gl_model_alias.c |   12 ++----------
 libs/models/brush/gl_model_brush.c |   21 ++++++++++++---------
 libs/net/nc/net_udp.c              |   16 ++++++++++------
 libs/net/nc/net_udp6.c             |   14 +++++++++++---
 libs/net/net_chan.c                |   10 +++++++---
 libs/util/cvar.c                   |    5 +----
 libs/util/quakefs.c                |    2 +-
 14 files changed, 96 insertions(+), 83 deletions(-)

commit be0b386
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 8 23:05:39 2003 +0000

    add dstring_copy and dstring_copystr to make dstring init easier

 include/QF/dstring.h |    2 ++
 libs/util/dstring.c  |   16 ++++++++++++++++
 2 files changed, 18 insertions(+)

commit d68b4b6
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Thu May 8 22:32:02 2003 +0000

    \n is nice occasionally.

 libs/video/renderer/gl/gl_rmain.c |   14 +++++++-------
 1 file changed, 7 insertions(+), 7 deletions(-)

commit 28dd161
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Thu May 8 22:16:30 2003 +0000

    Clean up glError handling.

 libs/video/renderer/gl/gl_rmain.c |   93 ++++++++++++++++++++++++-------------
 1 file changed, 60 insertions(+), 33 deletions(-)

commit 4bb1095
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 8 21:22:33 2003 +0000

    stock sbar and hud seem to be working in nq (fps back, too:)

 nq/include/client.h |    1 -
 nq/source/cl_main.c |   13 -
 nq/source/sbar.c    | 1182 +++++++++++++++++++++++++++++++++------------------
 qw/source/sbar.c    |    4 +-
 4 files changed, 782 insertions(+), 418 deletions(-)

commit c81b1b5
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 8 15:12:46 2003 +0000

    make the fps etc display move with changing viewsize

 qw/source/sbar.c |    8 +++++++-
 1 file changed, 7 insertions(+), 1 deletion(-)

commit 6e103fe
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 8 06:29:53 2003 +0000

    add cl_overlay_gravity cvar to control the placement of the scoreboard
    overlay

 qw/source/sbar.c |   42 +++++++++++++++++++++++++++++++++++++++---
 1 file changed, 39 insertions(+), 3 deletions(-)

commit 0a5f3c3
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 8 05:49:57 2003 +0000

    ping/pl/fps/time now stays put and is now in the client rather than the
    renderer (so nq is currently missing it)

 libs/video/renderer/r_screen.c |   75 ------------------------------
 nq/source/cl_screen.c          |    2 -
 qw/include/client.h            |    1 +
 qw/source/cl_screen.c          |   42 -----------------
 qw/source/sbar.c               |   98 ++++++++++++++++++++++++++++++++++++++--
 5 files changed, 94 insertions(+), 124 deletions(-)

commit 878c1c5
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 8 04:13:42 2003 +0000

    hud works again

 qw/source/cl_main.c |   13 --
 qw/source/sbar.c    |  406 +++++++++++++++++++++++++++------------------------
 2 files changed, 218 insertions(+), 201 deletions(-)

commit 5bd0280
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 7 21:20:00 2003 +0000

    more inlining of varargs function avoidance

 tools/qfmodelgen/source/cmdlib.c |   42 +++++++++++++++++++-------------------
 1 file changed, 21 insertions(+), 21 deletions(-)

commit 5fb3b4e
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 7 21:10:37 2003 +0000

    fix a warning and correct some vid.height usages

 qw/source/sbar.c |   35 ++++++++++++++++++-----------------
 1 file changed, 18 insertions(+), 17 deletions(-)

commit e03ad81
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 7 21:03:58 2003 +0000

    reduce the code duplication in the deathmatch overlay code

 qw/source/sbar.c |  509 +++++++++++++++++-------------------------------------
 1 file changed, 155 insertions(+), 354 deletions(-)

commit 52f96e2
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 7 19:53:08 2003 +0000

    whitespace

 qw/source/sbar.c |   24 ++++++++++++------------
 1 file changed, 12 insertions(+), 12 deletions(-)

commit 5e56e01
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 7 17:23:18 2003 +0000

    qw now has centered scoreboard :)

 include/sbar.h   |    3 -
 nq/source/sbar.c |   76 +--------------
 qw/source/sbar.c |  284 +++++++++++++++++++++++++++++-------------------------
 3 files changed, 156 insertions(+), 207 deletions(-)

commit 1fcf04b
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 7 16:35:54 2003 +0000

    get the score overlays working again (not `viewed' yet)

 qw/source/sbar.c |  109 ++++++++++++++++++++----------------------------------
 1 file changed, 41 insertions(+), 68 deletions(-)

commit c939351
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 7 15:58:15 2003 +0000

    non-hud status bar now using the view api. hud version currently not
    working but that should be fixed soon :)

 qw/source/sbar.c |  696 +++++++++++++++++++++++++++++++++++++-----------------
 1 file changed, 480 insertions(+), 216 deletions(-)

commit 0ebf9d6
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 7 15:00:17 2003 +0000

    more inline avoidance

 tools/qfcc/source/linker.c |   75 +++++++++++++++++++++++---------------------
 1 file changed, 40 insertions(+), 35 deletions(-)

commit 9cab099
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 7 07:18:36 2003 +0000

    more inline stuff

 tools/qfbsp/source/qfbsp.c |   26 +++++++++++++-------------
 1 file changed, 13 insertions(+), 13 deletions(-)

commit dc9d2c8
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 7 07:10:15 2003 +0000

    fix various sizing issues

 libs/console/client.c             |    4 ++--
 libs/console/view.c               |   24 ++++++++++++------------
 libs/video/targets/vid.c          |    4 ++--
 libs/video/targets/vid_3dfxsvga.c |   13 +++++++------
 libs/video/targets/vid_glx.c      |   13 +++++++------
 libs/video/targets/vid_sdl.c      |    2 +-
 libs/video/targets/vid_sdl32.c    |    2 +-
 libs/video/targets/vid_sgl.c      |    2 +-
 libs/video/targets/vid_wgl.c      |    2 +-
 libs/video/targets/vid_x11.c      |    2 +-
 10 files changed, 35 insertions(+), 33 deletions(-)

commit c903cfd
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 7 05:41:46 2003 +0000

    still more inline guff

 qw/source/master.c |   35 +++++++++++++++++++----------------
 1 file changed, 19 insertions(+), 16 deletions(-)

commit 63c8043
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 7 04:24:50 2003 +0000

    more inline avoidance

 qw/source/sv_send.c |  190 +++++++++++++++++++++++++--------------------------
 qw/source/sv_user.c |   38 ++++++-----
 2 files changed, 115 insertions(+), 113 deletions(-)

commit 0fec378
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 7 04:24:20 2003 +0000

    view.c needs to be in the main console lib rather than the client plugin
    and make view_draw the default draw function for new views

 libs/console/Makefile.am |    5 +++--
 libs/console/client.c    |    1 -
 libs/console/view.c      |    1 +
 3 files changed, 4 insertions(+), 3 deletions(-)

commit 6fb5acc
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 7 02:45:17 2003 +0000

    more auto-inline avoidance

 tools/qfcc/source/expr.c |  162 +++++++++++++++++++++++-----------------------
 1 file changed, 81 insertions(+), 81 deletions(-)

commit fa670c3
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 7 01:49:31 2003 +0000

    make sure Net_LogPrintf can't get inlined, tell gcc it's a printf style
    function and clean up the resulting warnings

 qw/source/net_packetlog.c |   59 +++++++++++++++++++++++----------------------
 1 file changed, 30 insertions(+), 29 deletions(-)

commit 4dcc29a
Author: Bill Currie <bill@taniwha.org>
Date:   Tue May 6 21:52:58 2003 +0000

    bloody gcc deciding #import isn't good enough :P

 tools/Forge/BundleController.h                 |   17 ++++---
 tools/Forge/BundleController.m                 |   12 ++---
 tools/Forge/Bundles/MainPrefs/MainPrefs.h      |   11 ++--
 tools/Forge/Bundles/MainPrefs/MainPrefs.m      |   24 ++++-----
 tools/Forge/Bundles/MapEdit/Brush.h            |   11 ++--
 tools/Forge/Bundles/MapEdit/CameraView.h       |    6 +--
 tools/Forge/Bundles/MapEdit/CameraView.m       |    2 +-
 tools/Forge/Bundles/MapEdit/Clipper.m          |    4 +-
 tools/Forge/Bundles/MapEdit/Dict.h             |    2 +-
 tools/Forge/Bundles/MapEdit/Dict.m             |    2 +-
 tools/Forge/Bundles/MapEdit/DictList.h         |    2 +-
 tools/Forge/Bundles/MapEdit/DictList.m         |    2 +-
 tools/Forge/Bundles/MapEdit/EntityClass.h      |    4 +-
 tools/Forge/Bundles/MapEdit/EntityClass.m      |    2 +-
 tools/Forge/Bundles/MapEdit/InspectorControl.h |    2 +-
 tools/Forge/Bundles/MapEdit/InspectorControl.m |    8 +--
 tools/Forge/Bundles/MapEdit/KeypairView.m      |    2 +-
 tools/Forge/Bundles/MapEdit/PopScrollView.h    |    2 +-
 tools/Forge/Bundles/MapEdit/PopScrollView.m    |    2 +-
 tools/Forge/Bundles/MapEdit/Preferences.m      |    2 +-
 tools/Forge/Bundles/MapEdit/Project.h          |    2 +-
 tools/Forge/Bundles/MapEdit/Project.m          |    2 +-
 tools/Forge/Bundles/MapEdit/QuakeEd.m          |    2 +-
 tools/Forge/Bundles/MapEdit/QuakeEd_main.m     |    2 +-
 tools/Forge/Bundles/MapEdit/SetBrush.m         |    2 +-
 tools/Forge/Bundles/MapEdit/TexturePalette.m   |    2 +-
 tools/Forge/Bundles/MapEdit/TextureView.m      |    2 +-
 tools/Forge/Bundles/MapEdit/Things.h           |    2 +-
 tools/Forge/Bundles/MapEdit/Things.m           |    2 +-
 tools/Forge/Bundles/MapEdit/UserPath.h         |    4 +-
 tools/Forge/Bundles/MapEdit/UserPath.m         |   12 ++---
 tools/Forge/Bundles/MapEdit/XYView.h           |    6 +--
 tools/Forge/Bundles/MapEdit/XYView.m           |    2 +-
 tools/Forge/Bundles/MapEdit/ZScrollView.h      |    2 +-
 tools/Forge/Bundles/MapEdit/ZScrollView.m      |    2 +-
 tools/Forge/Bundles/MapEdit/ZView.h            |    4 +-
 tools/Forge/Bundles/MapEdit/ZView.m            |    2 +-
 tools/Forge/Bundles/MapEdit/qedefs.h           |   64 ++++++++++++------------
 tools/Forge/Bundles/MapEdit/render.m           |    2 +-
 tools/Forge/Controller.h                       |   19 ++++---
 tools/Forge/Controller.m                       |   14 +++---
 tools/Forge/Documentation/Template.m           |    2 +-
 tools/Forge/PrefsController.h                  |   17 ++++---
 tools/Forge/PrefsController.m                  |   12 ++---
 tools/Forge/PrefsView.h                        |   11 ++--
 tools/Forge/Project.h                          |    9 +++-
 tools/Forge/Project.m                          |   18 +++----
 tools/Forge/main.m                             |    2 +-
 48 files changed, 187 insertions(+), 154 deletions(-)

commit a4abf52
Author: Bill Currie <bill@taniwha.org>
Date:   Tue May 6 18:00:03 2003 +0000

    there's no need to call Con_CheckResize every frame and it's now
    detrimental anyway

 libs/video/renderer/r_screen.c |    2 --
 1 file changed, 2 deletions(-)

commit c397504
Author: Bill Currie <bill@taniwha.org>
Date:   Tue May 6 03:19:29 2003 +0000

    fix menu centering for 320xY

 libs/console/client.c |    3 ---
 1 file changed, 3 deletions(-)

commit f12f4a8
Author: Bill Currie <bill@taniwha.org>
Date:   Tue May 6 02:41:37 2003 +0000

    add view_insert to provide greater control over view order

 include/QF/view.h   |    1 +
 libs/console/view.c |   19 +++++++++++++++++--
 2 files changed, 18 insertions(+), 2 deletions(-)

commit b2bbcb3
Author: Bill Currie <bill@taniwha.org>
Date:   Tue May 6 02:30:38 2003 +0000

    fix the missing chat input line

 libs/console/client.c |   22 +++++++++++-----------
 1 file changed, 11 insertions(+), 11 deletions(-)

commit 56bfc6d
Author: Bill Currie <bill@taniwha.org>
Date:   Tue May 6 02:25:46 2003 +0000

    fix the input line location bug and change enabled to visible due to
    enabled meaning something else in UIs

 include/QF/view.h     |    2 +-
 libs/console/client.c |   12 ++++++------
 libs/console/view.c   |    4 ++--
 3 files changed, 9 insertions(+), 9 deletions(-)

commit 508fb4f
Author: Bill Currie <bill@taniwha.org>
Date:   Tue May 6 02:19:13 2003 +0000

    new view stuff mostly working. just a few visual bugs to iron out

 include/QF/console.h           |    3 +-
 include/QF/plugin/console.h    |    1 +
 include/QF/view.h              |    4 +
 libs/console/client.c          |  401 ++++++++++++++++++++++------------------
 libs/console/menu.c            |   23 ++-
 libs/console/view.c            |   63 ++++++-
 ruamoko/cl_menu/client_menu.qc |   63 ++++---
 ruamoko/cl_menu/controls_o.qc  |   30 +--
 ruamoko/cl_menu/menu.h         |    2 +-
 ruamoko/cl_menu/menu.r         |    2 +-
 ruamoko/cl_menu/options.qc     |  179 +++++++++---------
 ruamoko/cl_menu/servlist.qc    |   43 ++---
 ruamoko/include/InputLine.h    |    2 +
 ruamoko/lib/InputLine.r        |    7 +
 14 files changed, 475 insertions(+), 348 deletions(-)

commit 1bdcd87
Author: Bill Currie <bill@taniwha.org>
Date:   Mon May 5 18:50:14 2003 +0000

    initial work on dynamic view support for the console. I'm aware that
    QF/view.h vs view.h may cause some confusion, but I'm hoping to eleminate
    view.h.
    
    Also put the sample hud.txt into docs so it doesn't get lost.

 doc/hud.txt              |   49 +++++++++++++++
 include/QF/view.h        |   69 +++++++++++++++++++++
 libs/console/Makefile.am |    2 +-
 libs/console/view.c      |  148 ++++++++++++++++++++++++++++++++++++++++++++++
 4 files changed, 267 insertions(+), 1 deletion(-)

commit 789c7f4
Author: Bill Currie <bill@taniwha.org>
Date:   Mon May 5 18:35:28 2003 +0000

    update the copyright year

 doc/template.c |    2 +-
 doc/template.h |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 06608fb
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Apr 30 14:55:58 2003 +0000

    round the mmap length up to the nearest page size

 libs/audio/targets/snd_oss.c |    7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

commit 95ae17a
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Apr 30 02:52:41 2003 +0000

    I don't know why MAP_SHARED is needed, but it's not compatable with
    write-only mode, so make it part of snd_oss_rw

 libs/audio/targets/snd_oss.c |    7 ++++---
 1 file changed, 4 insertions(+), 3 deletions(-)

commit 09f3f1e
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Apr 30 02:14:44 2003 +0000

    mindHog's plugin global symbol handling patch so his python plugin can work
    (reloads the plugin with RTLD_GLOBAL if the plugin requests it).

 include/QF/plugin/general.h |    3 +++
 libs/util/plugin.c          |   54 +++++++++++++++++++++++++++++++++++++++----
 2 files changed, 52 insertions(+), 5 deletions(-)

commit ff299c3
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Apr 29 21:45:57 2003 +0000

    add map to admin commands for DrSpliff

 qw/source/sv_main.c |    1 +
 1 file changed, 1 insertion(+)

commit 30b25af
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Apr 29 03:14:37 2003 +0000

    bring back the rw/wo code

 libs/audio/targets/snd_oss.c |   27 ++++++++++++++++-----------
 1 file changed, 16 insertions(+), 11 deletions(-)

commit 18ae5b7
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Apr 28 21:02:03 2003 +0000

    compile fixes for the alpha

 qw/source/sv_user.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit c6094b9
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Apr 28 19:55:03 2003 +0000

    mindHog's patch for making Hash_DelElement work the way he wanted it to

 qw/source/sv_user.c |   20 ++++++++++++++++++++
 1 file changed, 20 insertions(+)

commit 0985c90
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Apr 28 16:04:22 2003 +0000

    hash.h:
    	write some docs on mixing (eg) Hash_Add and Hash_DelElement
    sv_user.c:
    	fix a warning

 include/QF/hash.h   |    8 +++++++-
 qw/source/sv_user.c |    2 +-
 2 files changed, 8 insertions(+), 2 deletions(-)

commit a43d20f
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Apr 28 15:56:09 2003 +0000

    mindHog's user command patch (with change to builtin name) making the
    function generally available (eg, for his python plugin)

 qw/include/server.h |    9 ++++
 qw/source/sv_user.c |  118 +++++++++++++++++++++++++++++++++++----------------
 2 files changed, 91 insertions(+), 36 deletions(-)

commit 62e36ef
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Apr 26 05:12:16 2003 +0000

    make /command work when not using curses

 libs/console/server.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 4a73d5d
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Apr 26 04:30:07 2003 +0000

    this seems to fix the "end of file" issues on streams

 include/snd_render.h          |    2 +
 libs/audio/renderer/snd_mem.c |  103 +++++++++++++++++++++++++----------------
 libs/audio/renderer/snd_mix.c |   24 ++++------
 libs/audio/renderer/vorbis.c  |    1 +
 libs/audio/renderer/wav.c     |    1 +
 5 files changed, 76 insertions(+), 55 deletions(-)

commit b6b5089
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Apr 25 17:00:22 2003 +0000

    add a "nosave" flag to defs making it easier to make defs that don't get
    saved automaticly

 tools/qfcc/include/def.h      |    1 +
 tools/qfcc/include/obj_file.h |    1 +
 tools/qfcc/source/class.c     |   11 +++++++++++
 tools/qfcc/source/def.c       |    1 +
 tools/qfcc/source/emit.c      |    1 +
 tools/qfcc/source/expr.c      |    2 ++
 tools/qfcc/source/function.c  |    1 +
 tools/qfcc/source/immediate.c |    3 +++
 tools/qfcc/source/linker.c    |   32 +++++++++++++++++---------------
 tools/qfcc/source/method.c    |    2 ++
 tools/qfcc/source/obj_file.c  |    3 +++
 tools/qfcc/source/qfcc.c      |   36 +++++++++++++++++++++++++-----------
 tools/qfcc/source/struct.c    |    1 +
 13 files changed, 69 insertions(+), 26 deletions(-)

commit 3418e90
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Apr 25 03:06:34 2003 +0000

    mindHog's fix for RemoveCommand being totally borked (oops:)

 libs/util/cmd.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit e16a211
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Apr 24 04:57:30 2003 +0000

    PR_SetString doesn't like null pointers, it seems. While fixing
    PR_SetString would be a better fix, this is faster code.

 libs/gamecode/builtins/bi_qfile.c |    5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit 2a127dd
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Apr 23 20:10:51 2003 +0000

    allow sorting defs by address

 tools/qfprogs/include/qfprogs.h |    3 +++
 tools/qfprogs/source/globals.c  |   24 +++++++++++++++++++++++-
 tools/qfprogs/source/qfprogs.c  |   10 ++++++++--
 3 files changed, 34 insertions(+), 3 deletions(-)

commit 1998096
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Apr 23 19:50:16 2003 +0000

    don't create defs for the components of vector or quaternion defs

 tools/qfcc/source/immediate.c |    6 ------
 1 file changed, 6 deletions(-)

commit 8f4308c
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Apr 23 18:25:09 2003 +0000

    get .param_size and .debug_file linked in properly

 tools/qfcc/source/obj_file.c |   17 +++++++++--------
 tools/qfcc/source/qfcc.c     |    2 ++
 2 files changed, 11 insertions(+), 8 deletions(-)

commit 57254e5
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Apr 23 06:17:36 2003 +0000

    fix a double ;

 tools/qfcc/source/expr.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 8b24578
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Apr 23 01:56:44 2003 +0000

    print the operator for the precedence notice properly

 tools/qfcc/source/expr.c |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit f7d806e
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Apr 22 20:11:16 2003 +0000

    can now handle > vector sized parameters

 include/QF/pr_comp.h              |    2 +-
 include/QF/progs.h                |    8 ++++++--
 libs/gamecode/builtins/pr_cmds.c  |   19 +++++++++----------
 libs/gamecode/engine/pr_exec.c    |    9 ++++-----
 libs/gamecode/engine/pr_obj.c     |    2 +-
 libs/gamecode/engine/pr_resolve.c |   27 ++++++++++++++++++++++++++-
 tools/qfcc/include/type.h         |    4 ++--
 tools/qfcc/source/expr.c          |    2 +-
 tools/qfcc/source/immediate.c     |    2 +-
 tools/qfcc/source/linker.c        |   36 ++++++++++++++++++++----------------
 tools/qfcc/source/qfcc.c          |   27 +++++++++++++++++----------
 tools/qfcc/source/type.c          |   16 +++++++++-------
 tools/qwaq/builtins.c             |   11 +++++++----
 13 files changed, 104 insertions(+), 61 deletions(-)

commit e732cf5
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Apr 22 18:20:15 2003 +0000

    remove all references to OFS_* from the C code. only the macros in progs.h
    use them now

 include/QF/pr_comp.h                  |    1 +
 include/QF/progs.h                    |   46 ++++++++++++++++++++-----------
 libs/console/menu.c                   |   46 +++++++++++++++----------------
 libs/gamecode/builtins/bi_cbuf.c      |    4 +--
 libs/gamecode/builtins/bi_cmd.c       |    2 +-
 libs/gamecode/builtins/bi_cvar.c      |    2 +-
 libs/gamecode/builtins/bi_file.c      |    6 ++---
 libs/gamecode/builtins/bi_gib.c       |    4 +--
 libs/gamecode/builtins/bi_hash.c      |   12 ++++-----
 libs/gamecode/builtins/bi_inputline.c |    4 +--
 libs/gamecode/builtins/bi_plist.c     |   11 ++++----
 libs/gamecode/builtins/bi_qfile.c     |   18 ++++++-------
 libs/gamecode/builtins/bi_qfs.c       |   12 ++++-----
 libs/gamecode/builtins/pr_cmds.c      |   32 +++++++++++-----------
 libs/gamecode/engine/pr_edict.c       |    3 ++-
 libs/gamecode/engine/pr_exec.c        |   12 +++------
 libs/gamecode/engine/pr_obj.c         |   36 ++++++++++++-------------
 libs/gamecode/engine/pr_strings.c     |    4 +--
 libs/video/renderer/r_progs.c         |    8 +++---
 libs/video/targets/pr_keys.c          |    6 ++---
 nq/source/sv_pr_cmds.c                |   22 +++++++--------
 qw/source/sv_pr_cmds.c                |   48 ++++++++++++++++-----------------
 qw/source/sv_user.c                   |    8 +++---
 tools/qwaq/builtins.c                 |   12 ++++-----
 tools/qwaq/main.c                     |    2 +-
 25 files changed, 185 insertions(+), 176 deletions(-)

commit a21054f
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Apr 22 17:26:49 2003 +0000

    handle def aliases properly in emit_move_expr

 tools/qfcc/source/emit.c |    4 ++++
 1 file changed, 4 insertions(+)

commit 6a0b74c
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Apr 22 15:48:39 2003 +0000

    detect type mismatches in method declarations and definitions

 ruamoko/game/GameEntity.r |    2 +-
 ruamoko/game/World.r      |    2 +-
 ruamoko/lib/InputLine.r   |    3 ++-
 ruamoko/lib/Point.r       |    4 ++--
 ruamoko/lib/Size.r        |    4 ++--
 tools/qfcc/source/class.c |    5 ++++-
 6 files changed, 12 insertions(+), 8 deletions(-)

commit 2f6fc5d
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Apr 22 15:29:32 2003 +0000

    general revamp so params and the return value use proper defs rather than
    hardcoded locations. this will allow use of quaternions in the future.

 tools/qfcc/include/def.h      |    2 +-
 tools/qfcc/include/expr.h     |    2 ++
 tools/qfcc/include/opcodes.h  |    6 ++--
 tools/qfcc/include/type.h     |    2 ++
 tools/qfcc/source/def.c       |    2 --
 tools/qfcc/source/emit.c      |   65 +++++++++++++++++++++++------------------
 tools/qfcc/source/expr.c      |   32 ++++++++++++++++----
 tools/qfcc/source/idstuff.c   |    2 ++
 tools/qfcc/source/immediate.c |   13 +++++++--
 tools/qfcc/source/linker.c    |   57 +++++++++++++++++++++++++++++++-----
 tools/qfcc/source/opcodes.c   |   16 +++++-----
 tools/qfcc/source/qfcc.c      |   28 +++++++++++++-----
 tools/qfcc/source/type.c      |   55 ++++++++++++++++++++++++----------
 13 files changed, 199 insertions(+), 83 deletions(-)

commit 47d4fec
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Apr 22 05:39:12 2003 +0000

    allow a named def with 0 offset to be printed

 tools/qfprogs/source/globals.c |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit f842d98
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Apr 22 01:37:13 2003 +0000

    initialize noise1

 libs/video/renderer/gl/gl_dyn_textures.c |    1 +
 1 file changed, 1 insertion(+)

commit 9ff240e
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Apr 21 18:33:27 2003 +0000

    file name consistency

 nq/source/Makefile.am  |    4 +-
 nq/source/pr_cmds.c    | 1440 ------------------------------------------------
 nq/source/sv_pr_cmds.c | 1440 ++++++++++++++++++++++++++++++++++++++++++++++++
 3 files changed, 1442 insertions(+), 1442 deletions(-)

commit 905f182
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Apr 21 18:26:21 2003 +0000

    temporarily remove location support from nq (and location markers from both)
    until client code has been cleaned up more

 libs/video/renderer/gl/gl_rmain.c     |    8 +-
 libs/video/renderer/sw/sw_rmain.c     |    7 +-
 libs/video/renderer/sw32/sw32_rmain.c |    8 +-
 nq/source/Makefile.am                 |    2 +-
 nq/source/host.c                      |    5 -
 nq/source/locs.c                      |  281 ---------------------------------
 6 files changed, 10 insertions(+), 301 deletions(-)

commit 7d06343
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Apr 21 18:09:53 2003 +0000

    make the opened sfx name usable

 libs/audio/renderer/vorbis.c |    1 +
 libs/audio/renderer/wav.c    |    1 +
 2 files changed, 2 insertions(+)

commit a477b6c
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Apr 21 18:00:10 2003 +0000

    all that just to get rid of it. *shrug*

 nq/include/Makefile.am |    2 +-
 nq/include/conproc.h   |   45 -------
 nq/source/Makefile.am  |    2 +-
 nq/source/conproc.c    |  349 ------------------------------------------------
 nq/source/sys_win.c    |   38 ------
 5 files changed, 2 insertions(+), 434 deletions(-)

commit 2609aad
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Apr 21 17:48:59 2003 +0000

    clean up conproc's api as such (what's this thing for, anyway?)

 nq/source/conproc.c |  306 +++++++++++++++++++++++++--------------------------
 1 file changed, 153 insertions(+), 153 deletions(-)

commit 848bb89
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Apr 21 17:28:56 2003 +0000

    win32 compile fix

 libs/audio/renderer/snd_mem.c |    4 ++++
 1 file changed, 4 insertions(+)

commit 92d64f0
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Apr 21 17:08:20 2003 +0000

    unused file cleanup

 nq/source/mplib.c |  250 -------------
 nq/source/mplpc.c | 1032 -----------------------------------------------------
 2 files changed, 1282 deletions(-)

commit b436516
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Apr 21 04:49:02 2003 +0000

    fix a buffer overrun issue with -game

 libs/util/quakefs.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a8d171e
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Apr 21 04:02:58 2003 +0000

    replace a warped wheel with a strdup wheel ;)

 libs/util/plugin.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit eac5b83
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Apr 21 01:44:55 2003 +0000

    remove some debug info

 libs/audio/renderer/vorbis.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 194c9aa
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Apr 21 01:39:07 2003 +0000

    fix the file handle leak

 libs/audio/renderer/snd_dma.c |    4 ++--
 libs/audio/renderer/vorbis.c  |    2 +-
 2 files changed, 3 insertions(+), 3 deletions(-)

commit efe9dd8
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Apr 21 01:24:53 2003 +0000

    fix the segfault on starting a map only to die from file handle starvation :P

 libs/audio/renderer/snd_dma.c |    4 ++++
 1 file changed, 4 insertions(+)

commit 714bd34
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Apr 20 07:19:51 2003 +0000

    'copy' streams on openning. fixes the shared stream issues, though other
    problems might arrise (eg, running out of file handles or memory)

 include/QF/sound.h            |    2 ++
 libs/audio/renderer/snd_dma.c |   31 +++++++++++++++++-----
 libs/audio/renderer/snd_mem.c |    8 ++++++
 libs/audio/renderer/snd_mix.c |    1 +
 libs/audio/renderer/vorbis.c  |   59 ++++++++++++++++++++++++++++++++++-------
 libs/audio/renderer/wav.c     |   49 +++++++++++++++++++++++++++++-----
 6 files changed, 127 insertions(+), 23 deletions(-)

commit 52f41f8
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Apr 20 03:42:19 2003 +0000

    make streams work in chunks of 256 samples (won't work so well for non power
    of 2 resample rates :/)

 include/snd_render.h          |    1 +
 libs/audio/renderer/snd_mem.c |    7 +++++++
 libs/audio/renderer/vorbis.c  |    2 +-
 libs/audio/renderer/wav.c     |    2 +-
 4 files changed, 10 insertions(+), 2 deletions(-)

commit e4ba0ad
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Apr 20 02:05:28 2003 +0000

    move to static initialization for plugin info

 libs/audio/renderer/snd_dma.c |  134 ++++++++++++++++++++++-------------------
 1 file changed, 73 insertions(+), 61 deletions(-)

commit 49571b2
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Apr 17 17:43:21 2003 +0000

    crystal clear playback on resampled streams :) (still borked when shared,
    though :/)

 include/snd_render.h          |    7 ++-
 libs/audio/renderer/snd_mem.c |  133 +++++++++++++++++++++++++++++------------
 libs/audio/renderer/vorbis.c  |    9 +--
 libs/audio/renderer/wav.c     |    9 +--
 4 files changed, 110 insertions(+), 48 deletions(-)

commit 64d5e4e
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Apr 17 15:18:16 2003 +0000

    mindHog's (mindhog@mindhog.net) plugin command patch

 include/QF/plugin.h |    1 +
 libs/util/plugin.c  |  105 ++++++++++++++++++++++++++++++++++++++++++++++++++-
 2 files changed, 105 insertions(+), 1 deletion(-)

commit 51f7b93
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Apr 17 03:58:16 2003 +0000

    more headpos resetage

 libs/audio/renderer/snd_mem.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 28cc2e2
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Apr 17 03:53:54 2003 +0000

    headpos needs resetting too at sfx end

 libs/audio/renderer/snd_mem.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit fb1a5f6
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Apr 17 03:31:45 2003 +0000

    kill debug print :P

 libs/console/server.c |    1 -
 1 file changed, 1 deletion(-)

commit 772b8d5
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Apr 17 02:55:26 2003 +0000

    more triage :P

 libs/audio/renderer/snd_dma.c |    7 +------
 1 file changed, 1 insertion(+), 6 deletions(-)

commit 87025a4
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Apr 17 02:40:17 2003 +0000

    get sound (generally) working again

 libs/audio/renderer/snd_mem.c |   10 ++++------
 libs/audio/renderer/snd_mix.c |    6 +++---
 2 files changed, 7 insertions(+), 9 deletions(-)

commit d566790
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Apr 17 02:03:47 2003 +0000

    make the input line scrolling unsigned int clean

 libs/console/inputline.c |    7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

commit 9a40bf2
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Apr 17 00:25:55 2003 +0000

    get the fix right

 libs/video/targets/fbset_modes_l.l |    1 +
 tools/qfcc/source/qc-lex.l         |    1 +
 2 files changed, 2 insertions(+)

commit 5cb8429
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Apr 17 00:14:13 2003 +0000

    bah, cleanup for flex versions :P

 libs/video/targets/fbset_modes_l.l |    2 ++
 tools/qfcc/source/qc-lex.l         |    2 +-
 2 files changed, 3 insertions(+), 1 deletion(-)

commit eb099ae
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Apr 17 00:01:48 2003 +0000

    make qf gcc 3.3 clean

 include/QF/console.h                   |    8 ++++----
 include/QF/info.h                      |    2 +-
 include/QF/pr_comp.h                   |   32 +++++++++++++++---------------
 include/QF/progs.h                     |    2 +-
 include/QF/sound.h                     |    8 ++++----
 include/snd_render.h                   |   34 ++++++++++++++++----------------
 libs/audio/cd/cd_linux.c               |    2 +-
 libs/audio/renderer/snd_dma.c          |   18 +++++++++++------
 libs/audio/renderer/snd_mem.c          |   30 +++++++++++++++-------------
 libs/audio/renderer/snd_mix.c          |   30 +++++++++++++++-------------
 libs/audio/snd.c                       |    2 +-
 libs/audio/targets/snd_oss.c           |    2 +-
 libs/console/buffer.c                  |    2 +-
 libs/console/client.c                  |    4 ++--
 libs/console/console.c                 |   10 ++++++----
 libs/console/inputline.c               |    4 ++--
 libs/console/server.c                  |    2 +-
 libs/gamecode/builtins/bi_cbuf.c       |    2 +-
 libs/gamecode/builtins/bi_gib.c        |    2 +-
 libs/gamecode/builtins/bi_init.c       |   22 +++++++++++----------
 libs/gamecode/builtins/bi_inputline.c  |    4 ++--
 libs/gamecode/builtins/pr_cmds.c       |    3 ++-
 libs/gamecode/engine/pr_debug.c        |    6 +++---
 libs/gamecode/engine/pr_edict.c        |    6 +++---
 libs/gamecode/engine/pr_exec.c         |   13 +++++-------
 libs/gamecode/engine/pr_load.c         |    4 ++--
 libs/gamecode/engine/pr_obj.c          |    2 +-
 libs/gamecode/engine/pr_opcode.c       |    4 ++--
 libs/gamecode/engine/pr_parse.c        |    5 +++--
 libs/gamecode/engine/pr_resolve.c      |    4 ++--
 libs/gamecode/engine/pr_strings.c      |   12 ++++++-----
 libs/gib/exp.c                         |    8 +++++---
 libs/gib/gib_builtin.c                 |   17 +++++++++-------
 libs/gib/gib_execute.c                 |    4 ++--
 libs/gib/regex.c                       |   20 +++++++++----------
 libs/models/alias/gl_mesh.c            |    7 +++++--
 libs/models/alias/gl_model_alias.c     |    2 +-
 libs/models/brush/model_brush.c        |    2 +-
 libs/net/nm/net_dgrm.c                 |   22 ++++++++++-----------
 libs/util/hash.c                       |    4 ++--
 libs/util/msg.c                        |    2 +-
 libs/util/pakfile.c                    |    2 +-
 libs/util/qargs.c                      |    2 +-
 libs/util/quakeio.c                    |    4 ++--
 libs/util/riff.c                       |    2 +-
 libs/util/wad.c                        |    2 +-
 libs/util/zone.c                       |    2 +-
 libs/video/renderer/gl/gl_draw.c       |    6 +++---
 libs/video/renderer/gl/gl_dyn_lights.c |    2 +-
 libs/video/renderer/gl/gl_dyn_part.c   |   15 +++++++-------
 libs/video/renderer/gl/gl_lightmap.c   |   16 +++++++--------
 libs/video/renderer/gl/gl_mod_alias.c  |    3 ++-
 libs/video/renderer/gl/gl_rsurf.c      |    5 +++--
 libs/video/renderer/gl/gl_screen.c     |    6 ++++--
 libs/video/renderer/gl/gl_skin.c       |    4 ++--
 libs/video/renderer/gl/gl_sky_clip.c   |   10 ----------
 libs/video/renderer/gl/noisetextures.c |   12 ++++++-----
 libs/video/renderer/r_light.c          |    6 +++---
 libs/video/renderer/r_main.c           |    4 +++-
 libs/video/renderer/r_screen.c         |    2 +-
 libs/video/renderer/sw/d_fill.c        |    2 +-
 libs/video/renderer/sw/d_modech.c      |    2 +-
 libs/video/renderer/sw/draw.c          |   15 +++++++-------
 libs/video/renderer/sw/screen.c        |    6 ++++--
 libs/video/renderer/sw/sw_rdraw.c      |    4 ++--
 libs/video/renderer/sw/sw_rmain.c      |    9 +++++----
 libs/video/renderer/sw/sw_rpart.c      |    2 +-
 libs/video/renderer/sw/sw_rsurf.c      |    2 +-
 libs/video/renderer/sw32/d_fill.c      |    6 +++---
 libs/video/renderer/sw32/d_modech.c    |    2 +-
 libs/video/renderer/sw32/draw.c        |   19 +++++++++---------
 libs/video/renderer/sw32/screen.c      |    4 ++--
 libs/video/renderer/sw32/sw32_rdraw.c  |    4 ++--
 libs/video/renderer/sw32/sw32_rmain.c  |    7 ++++---
 libs/video/renderer/sw32/sw32_rmisc.c  |    4 ++--
 libs/video/renderer/sw32/sw32_rpart.c  |    2 +-
 libs/video/renderer/sw32/sw32_rsurf.c  |    2 +-
 libs/video/targets/fbset.c             |    2 +-
 libs/video/targets/fbset_modes_l.l     |   19 ++++++++++++++++++
 libs/video/targets/keys.c              |   12 ++++++-----
 libs/video/targets/vid_3dfxsvga.c      |    7 ++++---
 libs/video/targets/vid_fbdev.c         |    2 +-
 libs/video/targets/vid_glx.c           |    5 +++--
 libs/video/targets/vid_sgl.c           |    5 +++--
 nq/source/cl_tent.c                    |   22 ---------------------
 nq/source/host.c                       |    4 +++-
 nq/source/host_cmd.c                   |    7 ++++---
 nq/source/sbar.c                       |    2 +-
 nq/source/sdl_link.c                   |    2 +-
 qw/source/cl_demo.c                    |    3 ++-
 qw/source/cl_ents.c                    |    2 +-
 qw/source/cl_main.c                    |    2 +-
 qw/source/cl_slist.c                   |    6 +++---
 qw/source/cl_tent.c                    |   22 ---------------------
 qw/source/sbar.c                       |   24 +++++++++++-----------
 qw/source/sdl_link.c                   |    2 +-
 qw/source/sv_ccmds.c                   |    2 +-
 qw/source/sv_main.c                    |    2 +-
 qw/source/sv_user.c                    |    6 +++---
 qw/source/teamplay.c                   |    6 +++---
 tools/qfcc/include/options.h           |    2 +-
 tools/qfcc/source/def.c                |    2 +-
 tools/qfcc/source/emit.c               |    2 +-
 tools/qfcc/source/expr.c               |    2 +-
 tools/qfcc/source/qc-lex.l             |    9 +++++----
 tools/qfcc/source/qfcc.c               |    2 +-
 tools/qfdefs/include/def.h             |    4 ++--
 tools/qfdefs/source/fix_globals.c      |    2 +-
 tools/qfdefs/source/gendefs.c          |    3 ++-
 tools/qfmodelgen/source/cmdlib.c       |    4 ++--
 tools/qfmodelgen/source/lbmlib.c       |    2 +-
 tools/qfmodelgen/source/scriplib.c     |    2 +-
 tools/qfmodelgen/source/trilib.c       |    6 +++---
 tools/qfprogs/source/disassemble.c     |    2 +-
 tools/qfprogs/source/globals.c         |    4 ++--
 tools/qfprogs/source/lines.c           |    7 ++++---
 tools/qfprogs/source/modules.c         |    2 +-
 tools/qfvis/source/qfvis.c             |    4 ++--
 tools/wav/qfwavinfo.c                  |    6 +++---
 119 files changed, 407 insertions(+), 392 deletions(-)

commit 7ca2aae
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Apr 16 19:41:52 2003 +0000

    fixes for latest flex

 tools/qfcc/source/qc-lex.l |   20 ++++++++++++++++++++
 1 file changed, 20 insertions(+)

commit ce44d35
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Apr 16 15:43:55 2003 +0000

    allow the server to run when there's no input

 qw/source/sv_sys_unix.c |    3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit 589c3e4
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Apr 16 05:06:19 2003 +0000

    get nq-server working properly

 libs/console/server.c |    1 +
 libs/util/sys.c       |    4 ++--
 nq/source/host.c      |    2 +-
 nq/source/sys_unixd.c |    3 +--
 4 files changed, 5 insertions(+), 5 deletions(-)

commit f55bac4
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Apr 16 04:07:55 2003 +0000

    fix nq-servers non-curses console input so it actually works

 libs/util/sys.c       |    5 +++--
 nq/source/host.c      |    6 +++---
 nq/source/sys_unixd.c |    3 +++
 3 files changed, 9 insertions(+), 5 deletions(-)

commit 53a0c9d
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Apr 16 01:27:38 2003 +0000

    strip the \r from the line endings

 README.cygwin |   80 ++++++++++++++++++++++++++++-----------------------------
 1 file changed, 40 insertions(+), 40 deletions(-)

commit 1b64114
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Tue Apr 15 23:55:52 2003 +0000

    Commit WildCode's lost readme.

 README.cygwin |   49 ++++++++++++++++++++++---------------------------
 1 file changed, 22 insertions(+), 27 deletions(-)

commit 63e6ae2
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Apr 15 21:11:41 2003 +0000

    report the name of the stream if reading is truncated

 libs/audio/renderer/snd_mem.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 0421c33
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Apr 15 19:40:46 2003 +0000

    make sure the cbuf is usable when text gets added

 libs/util/cbuf.c |    4 ++++
 1 file changed, 4 insertions(+)

commit 37fa93e
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Apr 15 04:19:33 2003 +0000

    horrible hack for `fixing' glitchy sound effects when a stream is shared by
    more than one object

 libs/audio/renderer/snd_mix.c |   16 ++++++++++++++++
 1 file changed, 16 insertions(+)

commit 5505aba
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Apr 15 04:03:02 2003 +0000

    minor cleanups

 include/snd_render.h          |    1 -
 libs/audio/renderer/snd_mem.c |    7 +------
 2 files changed, 1 insertion(+), 7 deletions(-)

commit 130a3f4
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Apr 15 03:21:29 2003 +0000

    fix the -ve reads

 libs/audio/renderer/snd_dma.c |    9 ---------
 libs/audio/renderer/snd_mix.c |    6 +++---
 2 files changed, 3 insertions(+), 12 deletions(-)

commit da44c78
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Apr 15 02:34:17 2003 +0000

    get the new sound system mostly working. just getting a bogus read count
    in the stream reader at the moment, otherwise it's working wonderfully :)

 include/alsa_funcs_list.h         |    1 +
 libs/audio/renderer/snd_dma.c     |    6 ++++++
 libs/audio/renderer/snd_mem.c     |   19 +++++++++++++++++++
 libs/audio/renderer/snd_mix.c     |   19 ++++++++++---------
 libs/audio/renderer/vorbis.c      |    7 +++++--
 libs/audio/renderer/wav.c         |   11 +++++++----
 libs/audio/snd.c                  |    4 ++--
 libs/audio/targets/snd_alsa_0_9.c |    1 +
 8 files changed, 51 insertions(+), 17 deletions(-)

commit dfff6bc
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Apr 14 16:28:20 2003 +0000

    duplicate the vorbis file info when creating a stream

 libs/audio/renderer/vorbis.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 9fda72c
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Apr 14 15:47:08 2003 +0000

    streamed sounds /almost/ work. sound like crap but no crashes

 include/snd_render.h           |    2 +-
 libs/audio/renderer/snd_dma.c  |    3 +
 libs/audio/renderer/snd_mix.c  |  136 ++++++++++++++++++++++++++++++++--------
 libs/audio/renderer/snd_mixa.S |    8 +--
 libs/audio/renderer/vorbis.c   |    2 +-
 libs/audio/renderer/wav.c      |    2 +-
 6 files changed, 119 insertions(+), 34 deletions(-)

commit d5c2c09
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Apr 14 06:17:28 2003 +0000

    pre-emptive make dist fixes :)

 include/Makefile.am |   12 +++++++-----
 1 file changed, 7 insertions(+), 5 deletions(-)

commit aab4dcf
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Apr 14 06:11:53 2003 +0000

    getting there with streams. just need to get the painters working, I think.
    (streaming currently disabled for anything < 30s :)

 include/snd_render.h          |    3 +
 libs/audio/renderer/snd_mem.c |  109 ++++++++++++++++++++++++++++++++++
 libs/audio/renderer/vorbis.c  |  131 ++++++++---------------------------------
 libs/audio/renderer/wav.c     |   92 +++++++++++++++++++++++------
 4 files changed, 211 insertions(+), 124 deletions(-)

commit 38ef81c
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Apr 14 01:40:40 2003 +0000

    set the buffer length as early as possible for cached sounds

 libs/audio/renderer/snd_mem.c |    5 +++--
 libs/audio/renderer/vorbis.c  |    2 +-
 libs/audio/renderer/wav.c     |    2 +-
 3 files changed, 5 insertions(+), 4 deletions(-)

commit 11e2f0d
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Mon Apr 14 01:17:55 2003 +0000

    Added a generic interface for using handles in GIB and made GIB threads
    use it.

 include/QF/gib.h       |    6 +++
 include/gib_handle.h   |   44 +++++++++++++++++++++
 include/gib_thread.h   |    5 ++-
 libs/gib/Makefile.am   |    6 +--
 libs/gib/gib_builtin.c |    8 ++--
 libs/gib/gib_handle.c  |  103 ++++++++++++++++++++++++++++++++++++++++++++++++
 libs/gib/gib_init.c    |    4 ++
 libs/gib/gib_thread.c  |   55 +++++++++++++-------------
 8 files changed, 195 insertions(+), 36 deletions(-)

commit e707e9b
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Sun Apr 13 22:07:58 2003 +0000

    Moved gib_*.h into include/ and moved the necessary declarations and struct
    definitions to QF/gib.h to interface with libQFgib.

 include/QF/Makefile.am          |    6 +--
 include/QF/gib.h                |  108 +++++++++++++++++++++++++++++++++++++++
 include/QF/gib_buffer.h         |   77 ----------------------------
 include/QF/gib_builtin.h        |   60 ----------------------
 include/QF/gib_execute.h        |   33 ------------
 include/QF/gib_function.h       |   56 --------------------
 include/QF/gib_init.h           |   32 ------------
 include/QF/gib_parse.h          |   48 -----------------
 include/QF/gib_process.h        |   35 -------------
 include/QF/gib_regex.h          |   45 ----------------
 include/QF/gib_semantics.h      |   37 --------------
 include/QF/gib_thread.h         |   61 ----------------------
 include/QF/gib_tree.h           |   70 -------------------------
 include/QF/gib_vars.h           |   57 ---------------------
 include/gib_buffer.h            |   47 +++++++++++++++++
 include/gib_builtin.h           |   40 +++++++++++++++
 include/gib_execute.h           |   32 ++++++++++++
 include/gib_function.h          |   56 ++++++++++++++++++++
 include/gib_parse.h             |   48 +++++++++++++++++
 include/gib_process.h           |   38 ++++++++++++++
 include/gib_regex.h             |   45 ++++++++++++++++
 include/gib_semantics.h         |   37 ++++++++++++++
 include/gib_thread.h            |   54 ++++++++++++++++++++
 include/gib_tree.h              |   70 +++++++++++++++++++++++++
 include/gib_vars.h              |   57 +++++++++++++++++++++
 libs/console/client.c           |    2 +-
 libs/gamecode/builtins/bi_gib.c |    7 ++-
 libs/gib/gib_buffer.c           |   28 ++++++----
 libs/gib/gib_builtin.c          |   21 ++++----
 libs/gib/gib_execute.c          |   17 +++---
 libs/gib/gib_function.c         |   11 ++--
 libs/gib/gib_init.c             |   20 ++++----
 libs/gib/gib_parse.c            |   11 ++--
 libs/gib/gib_process.c          |    9 ++--
 libs/gib/gib_regex.c            |    2 +-
 libs/gib/gib_semantics.c        |    6 +--
 libs/gib/gib_thread.c           |   11 ++--
 libs/gib/gib_tree.c             |    2 +-
 libs/gib/gib_vars.c             |    6 +--
 libs/video/targets/keys.c       |    2 +-
 nq/source/host.c                |    3 +-
 qw/include/sv_gib.h             |    2 +-
 qw/source/cl_main.c             |    3 +-
 qw/source/cl_parse.c            |    3 +-
 qw/source/sv_gib.c              |    3 +-
 qw/source/sv_main.c             |    4 --
 qw/source/sv_user.c             |    1 -
 qw/source/teamplay.c            |    2 +-
 tools/carne/main.c              |   14 +++--
 49 files changed, 729 insertions(+), 710 deletions(-)

commit 3b703db
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Sun Apr 13 20:43:52 2003 +0000

    Added the beginnings of an interface between Ruamoko and GIB.  Although the
    API is by no means finalized, it's now possible to write GIB builtins in
    Ruamoko that can take arguments and return values to GIB.

 include/QF/csqc.h                  |    2 +
 include/QF/gib_builtin.h           |    6 +-
 libs/console/menu.c                |    1 +
 libs/gamecode/builtins/Makefile.am |    2 +-
 libs/gamecode/builtins/bi_gib.c    |  157 ++++++++++++++++++++++++++++++++++++
 libs/gamecode/builtins/bi_init.c   |    1 +
 libs/gib/gib_builtin.c             |   27 +++++--
 ruamoko/cl_menu/client_menu.qc     |   13 +++
 ruamoko/include/Makefile.am        |    2 +-
 ruamoko/include/gib.h              |    7 ++
 ruamoko/lib/Makefile.am            |    2 +-
 ruamoko/lib/gib.r                  |    4 +
 12 files changed, 214 insertions(+), 10 deletions(-)

commit c168b40
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Sun Apr 13 20:31:06 2003 +0000

    Added map::current and map::timeElapsed GIB builtins.

 qw/include/server.h  |    2 ++
 qw/source/sv_ccmds.c |    6 ++++++
 qw/source/sv_gib.c   |   16 ++++++++++++++++
 3 files changed, 24 insertions(+)

commit 1b2d7b7
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Apr 13 06:46:24 2003 +0000

    streams getting closer, not working yet, though

 include/snd_render.h          |    1 +
 libs/audio/renderer/snd_mem.c |   12 ++-
 libs/audio/renderer/vorbis.c  |  188 +++++++++++++++++++++++++++++++++++------
 3 files changed, 171 insertions(+), 30 deletions(-)

commit 105ef11
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Apr 13 05:58:22 2003 +0000

    return a version for GL_VERSION

 tools/gl_stub/gls_norm.c  |    2 ++
 tools/gl_stub/gls_trace.c |    2 ++
 2 files changed, 4 insertions(+)

commit 63c3038
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Sun Apr 13 05:48:28 2003 +0000

    Added the useful dstring_freeze function to convert a dstring to a
    finalized, plain C string.

 include/QF/dstring.h |    5 +++--
 libs/util/dstring.c  |    8 ++++++++
 2 files changed, 11 insertions(+), 2 deletions(-)

commit 23278d0
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Apr 12 00:03:56 2003 +0000

    fix looping

 libs/audio/renderer/snd_dma.c |    1 +
 libs/audio/renderer/snd_mem.c |    4 ++++
 2 files changed, 5 insertions(+)

commit 4eaeb91
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Apr 11 23:52:18 2003 +0000

    disable debug

 libs/audio/renderer/snd_mem.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit b7ff08f
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Apr 11 23:50:45 2003 +0000

    effectively disable streamed oggs for now

 libs/audio/renderer/vorbis.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit dccff75
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Apr 11 23:30:26 2003 +0000

    don't want to lose this

 tools/Forge/Bundles/MapEdit/QuakeEd.gmodel | 9061 ++++++++++++++++++++++++++++
 1 file changed, 9061 insertions(+)

commit e3f8c83
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Apr 11 21:14:38 2003 +0000

    getting closer. wav's successfully load, but playback is always looped (?).
    oggs hang

 include/QF/sound.h            |    4 +-
 include/snd_render.h          |   31 +++++++------
 libs/audio/renderer/snd_mem.c |   44 ++++++++++++++++---
 libs/audio/renderer/vorbis.c  |   95 ++++++++++++++--------------------------
 libs/audio/renderer/wav.c     |   97 +++++++++++++++++++++++------------------
 5 files changed, 141 insertions(+), 130 deletions(-)

commit 948c97a
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Apr 11 18:59:14 2003 +0000

    cached wav files almost work (seems cached ogg are borked now :/)

 include/snd_render.h          |    4 +-
 libs/audio/renderer/snd_mem.c |  189 ++++++++++++++++++++++++++++++++++-------
 libs/audio/renderer/vorbis.c  |   12 +--
 libs/audio/renderer/wav.c     |   20 +++--
 4 files changed, 182 insertions(+), 43 deletions(-)

commit 5be73df
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Apr 11 18:28:26 2003 +0000

    temporary fix to handle wav files in a pak file

 libs/util/riff.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 725f1d0
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Apr 11 14:38:31 2003 +0000

    don't compile any vorbis code if it's unavailable

 libs/audio/renderer/snd_mem.c |    2 ++
 libs/audio/renderer/vorbis.c  |   20 ++------------------
 2 files changed, 4 insertions(+), 18 deletions(-)

commit f287e78
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Fri Apr 11 05:58:58 2003 +0000

    Optimized the way resetting buffer states occurs and fixed thread::kill so
    threads actually die as they are supposed to.

 include/QF/gib_thread.h |    1 +
 libs/gib/gib_builtin.c  |   16 ++++++++++------
 libs/gib/gib_thread.c   |    2 +-
 libs/util/cbuf.c        |    7 +++++--
 4 files changed, 17 insertions(+), 9 deletions(-)

commit 8012a40
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Apr 11 04:39:51 2003 +0000

    90% there for cache wav support. will likely segfault :)

 include/snd_render.h      |    2 +-
 libs/audio/renderer/wav.c |   71 +++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 72 insertions(+), 1 deletion(-)

commit af11473
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Fri Apr 11 04:37:41 2003 +0000

    Oops, forgot these.

 include/QF/gib_semantics.h |   37 ++++
 libs/gib/gib_semantics.c   |  436 ++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 473 insertions(+)

commit 12724f5
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Apr 11 02:58:24 2003 +0000

    cached oggs work

 libs/audio/renderer/vorbis.c |   17 ++++++++++++++++-
 1 file changed, 16 insertions(+), 1 deletion(-)

commit d8c0f50
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Fri Apr 11 02:57:11 2003 +0000

    The ultimate GIB bugfix commit, including reworked semantic processing,
    a fix for arguments passed to a GIB function run via rcon, and various
    other fixes.

 include/QF/Makefile.am    |   14 +-
 include/QF/gib_function.h |    6 +-
 include/QF/gib_parse.h    |    3 +-
 include/QF/gib_tree.h     |    6 +-
 libs/gib/Makefile.am      |    3 +-
 libs/gib/gib_builtin.c    |   22 ++-
 libs/gib/gib_execute.c    |   88 ++++++-----
 libs/gib/gib_function.c   |   39 ++++-
 libs/gib/gib_parse.c      |  353 +++++++++------------------------------------
 libs/gib/gib_process.c    |    2 +-
 libs/gib/gib_thread.c     |    2 +-
 tools/carne/main.c        |    2 +-
 12 files changed, 200 insertions(+), 340 deletions(-)

commit 645b7ca
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Fri Apr 11 02:36:10 2003 +0000

    New version of infobot.gib that supports factoid locking, and an
    insignificant change to the GIB docs.

 doc/config/gib/infobot.gib |    8 ++++++--
 doc/gib/GIB.lyx            |    2 +-
 2 files changed, 7 insertions(+), 3 deletions(-)

commit 21e0e34
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Apr 11 02:21:25 2003 +0000

    fix the calling of a null pointer (oops:)

 libs/audio/renderer/snd_mem.c |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit ccb56ee
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Apr 11 01:17:48 2003 +0000

    half way though the sfx loader re-write. nothing works :)

 include/QF/sound.h              |   25 ++-
 include/snd_render.h            |   64 ++++---
 libs/audio/renderer/Makefile.am |   17 +-
 libs/audio/renderer/snd_dma.c   |   67 +++----
 libs/audio/renderer/snd_mem.c   |  375 ++++++++++++---------------------------
 libs/audio/renderer/snd_mix.c   |   31 ++--
 libs/audio/renderer/vorbis.c    |  201 ++++++++++++++++-----
 libs/audio/renderer/wav.c       |  224 +++++++----------------
 8 files changed, 433 insertions(+), 571 deletions(-)

commit e5a23c9
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Apr 10 22:52:58 2003 +0000

    make riff.c portable

 include/QF/riff.h     |    1 +
 libs/util/riff.c      |   53 +++++++++++++++++++++++++++++++++++++++----------
 tools/wav/qfwavinfo.c |    6 +++++-
 3 files changed, 48 insertions(+), 12 deletions(-)

commit 722c553
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Apr 10 22:03:55 2003 +0000

    read fmt chunks properly

 include/QF/riff.h     |    4 ++--
 libs/util/riff.c      |   15 +++++++++++++++
 tools/wav/qfwavinfo.c |   11 +++++++++++
 3 files changed, 28 insertions(+), 2 deletions(-)

commit 5e98c76
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Apr 10 21:45:12 2003 +0000

    riff namespace cleanup (sorta, it's ugly:/)

 include/QF/riff.h     |   87 +++++++++++++-------------
 libs/util/riff.c      |  164 ++++++++++++++++++++++++-------------------------
 tools/wav/qfwavinfo.c |   34 +++++-----
 3 files changed, 143 insertions(+), 142 deletions(-)

commit c58dac3
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Apr 10 21:34:51 2003 +0000

    don't actually read the main `data' chunks; only refer to them by location.
    allows support for huge wav files (eg, cdda.wav)

 libs/util/riff.c |   14 ++++++++++++++
 1 file changed, 14 insertions(+)

commit 8c13014
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Apr 10 21:33:43 2003 +0000

    kill the debug info

 tools/wav/qfwavinfo.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit e1b7795
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Apr 10 21:18:53 2003 +0000

    but the third castle stood!

 libs/util/riff.c |  160 +++++++++++++++++++++++++++++++++++++++---------------
 1 file changed, 116 insertions(+), 44 deletions(-)

commit 0045ab7
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Apr 10 21:11:40 2003 +0000

    implement Qungetc and nuke Qgetpos and Qsetpos

 include/QF/quakeio.h |    5 +--
 libs/util/quakeio.c  |   88 ++++++++++++++++++++++++++++++++------------------
 2 files changed, 57 insertions(+), 36 deletions(-)

commit 9afc3cf
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Apr 10 16:54:12 2003 +0000

    copyright date fixes

 libs/gamecode/builtins/bi_hash.c  |    2 +-
 libs/gamecode/builtins/bi_plist.c |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 022cac6
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Apr 10 16:53:54 2003 +0000

    oops, forgot this

 include/QF/Makefile.am |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit e937fec
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Apr 10 16:52:39 2003 +0000

    move the riff reading code into libQFutil

 include/QF/riff.h     |  118 ++++++++++++++
 libs/util/Makefile.am |    3 +-
 libs/util/riff.c      |  381 +++++++++++++++++++++++++++++++++++++++++++
 tools/wav/qfwavinfo.c |  433 ++-----------------------------------------------
 4 files changed, 511 insertions(+), 424 deletions(-)

commit 39886eb
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Apr 10 16:11:09 2003 +0000

    handle short files more robustly

 libs/util/quakeio.c |    6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit 7052a6f
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Apr 10 05:20:59 2003 +0000

    work toward making the riff reader more generally useful by pluggin all the
    memory leaks. next step is to get it so the data chunk isn't actually read
    but rather its location and size stored.

 tools/wav/qfwavinfo.c |  120 ++++++++++++++++++++++++++++++++++++++++++++++++-
 1 file changed, 118 insertions(+), 2 deletions(-)

commit f61d0f0
Author: Timothy C. McGrath <misty-chan@users.sourceforge.net>
Date:   Thu Apr 10 01:36:02 2003 +0000

    Fixed a bug Drspliff pointed out that was causing people to be kicked from sensitive servers for 'faking console messages'.
    
    Tim McGrath

 qw/source/teamplay.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ff577f1
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Apr 9 16:38:17 2003 +0000

    add a \n to the grab failed message

 libs/video/targets/in_x11.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c9f0652
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Apr 9 07:30:49 2003 +0000

    start of split-out wav loader. not done yet (probably doesn't compile) but
    easier to keep track of here :)

 libs/audio/renderer/wav.c |  226 +++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 226 insertions(+)

commit b80357a
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Apr 9 05:55:41 2003 +0000

    change _FOpenFile to take a dstring for foundname plugging a potential
    buffer overflow.

 doc/.gitignore                |    1 +
 include/QF/quakefs.h          |    4 ++--
 libs/audio/renderer/snd_mem.c |    8 ++++++--
 libs/util/quakefs.c           |   19 ++++++++++++-------
 nq/source/locs.c              |    3 +--
 qw/source/locs.c              |    4 ++--
 qw/source/sv_user.c           |   13 ++++++++-----
 7 files changed, 32 insertions(+), 20 deletions(-)

commit dd297bc
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Apr 8 22:23:16 2003 +0000

    start work on support for stereo samples

 include/snd_render.h          |   14 ++++++--------
 libs/audio/renderer/snd_mix.c |   41 +++++++++++++++++++++++++++++++++++++++++
 2 files changed, 47 insertions(+), 8 deletions(-)

commit d3b6fcb
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Apr 8 19:20:48 2003 +0000

    revert the inappropriately complicated event code for the simpler version.
    even that's not likely to be final

 include/QF/in_event.h         |   64 +--------------------
 libs/video/targets/in_event.c |  124 -----------------------------------------
 2 files changed, 1 insertion(+), 187 deletions(-)

commit 255a752
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Apr 8 18:45:12 2003 +0000

    merge IN_SendKeyEvents and IN_Commands into IN_ProcessEvents

 include/QF/input.h              |   11 ++++-------
 libs/video/targets/in_common.c  |   11 +++--------
 libs/video/targets/in_fbdev.c   |    2 +-
 libs/video/targets/in_sdl.c     |    2 +-
 libs/video/targets/in_svgalib.c |    2 +-
 libs/video/targets/in_win.c     |    2 +-
 libs/video/targets/in_x11.c     |    2 +-
 nq/source/host.c                |    9 ++-------
 nq/source/sv_ded.c              |    7 +------
 qw/source/cl_main.c             |    6 +-----
 10 files changed, 16 insertions(+), 38 deletions(-)

commit 35eb866
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Apr 8 17:55:32 2003 +0000

    kill VID_HandlePause and IN_HandlePause as they never did anything and
    IN_ModeChanged as it's a dead prototype

 include/QF/input.h             |    5 -----
 include/QF/plugin/input.h      |    2 --
 include/QF/vid.h               |    3 ---
 libs/video/targets/in_common.c |    5 -----
 libs/video/targets/vid.c       |    5 -----
 nq/source/cl_parse.c           |    4 ----
 6 files changed, 24 deletions(-)

commit fcc069d
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Apr 8 17:47:43 2003 +0000

    more unused files

 libs/video/targets/vid_ext.c  |  766 -----------------------------------------
 libs/video/targets/vid_null.c |   96 ------
 2 files changed, 862 deletions(-)

commit 40a73ea
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Apr 8 17:32:55 2003 +0000

    don't need this

 libs/video/targets/in_null.c |   67 ------------------------------------------
 1 file changed, 67 deletions(-)

commit 7f31f05
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Apr 8 05:33:49 2003 +0000

    alpha compile fixes

 libs/gamecode/builtins/bi_hash.c |   14 ++++++++------
 1 file changed, 8 insertions(+), 6 deletions(-)

commit 01bff9c
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Apr 8 04:13:49 2003 +0000

    WildCode's alias model VA prepatory patch

 include/QF/model.h                    |    3 +-
 include/QF/modelgen.h                 |    4 +
 libs/models/alias/gl_mesh.c           |  258 ++++++++++++++++++---------------
 libs/models/model.c                   |    2 +
 libs/video/renderer/gl/gl_mod_alias.c |  127 ++++++++++++++--
 5 files changed, 269 insertions(+), 125 deletions(-)

commit 8fc721a
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Apr 8 04:01:20 2003 +0000

    plug another overflow

 libs/gamecode/engine/pr_strings.c |    5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit d4a4cde
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Apr 8 02:56:36 2003 +0000

    fix a buffer overflow (oops, not paying attention)

 libs/util/qfplist.c |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 0b0dfcc
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Apr 8 02:35:09 2003 +0000

    nuke the string api (never really liked it)

 include/QF/csqc.h                  |    2 -
 libs/console/menu.c                |    1 -
 libs/gamecode/builtins/Makefile.am |    2 +-
 libs/gamecode/builtins/bi_init.c   |    1 -
 libs/gamecode/builtins/bi_string.c |  132 ------------------------------------
 ruamoko/cl_menu/Makefile.am        |    2 +-
 ruamoko/cl_menu/client_menu.qc     |    3 +-
 ruamoko/cl_menu/controls_o.qc      |    3 +-
 ruamoko/cl_menu/options.qc         |    2 +-
 ruamoko/cl_menu/options_util.qc    |    2 +-
 ruamoko/cl_menu/string.h           |    9 ---
 ruamoko/cl_menu/string.r           |    6 --
 12 files changed, 6 insertions(+), 159 deletions(-)

commit 5d40d7e
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Apr 8 01:34:34 2003 +0000

    use the correct array for getting the number of elements

 ruamoko/cl_menu/controls_o.qc |   66 ++++++++++++++++++++---------------------
 1 file changed, 33 insertions(+), 33 deletions(-)

commit 0566bbf
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Apr 8 00:46:10 2003 +0000

    fix a snafu

 ruamoko/cl_menu/controls_o.qc |    1 -
 1 file changed, 1 deletion(-)

commit 13fd0b8
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Apr 7 22:34:39 2003 +0000

    nuke the string hash api as it's been obsoleted

 include/QF/csqc.h                   |    2 -
 libs/console/menu.c                 |    1 -
 libs/gamecode/builtins/Makefile.am  |    2 +-
 libs/gamecode/builtins/bi_init.c    |    1 -
 libs/gamecode/builtins/bi_strhash.c |  458 -----------------------------------
 ruamoko/cl_menu/Makefile.am         |    4 +-
 ruamoko/cl_menu/controls_o.qc       |  183 +++++++-------
 ruamoko/cl_menu/stringh.h           |   12 -
 ruamoko/cl_menu/stringh.r           |    9 -
 ruamoko/include/Array.h             |    1 +
 ruamoko/lib/Array.r                 |    5 +
 11 files changed, 109 insertions(+), 569 deletions(-)

commit a9fb183
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Apr 7 22:24:15 2003 +0000

    fix another struct type parsing bug

 tools/qfcc/source/type.c |    5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit b7d7e7e
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Apr 7 21:57:26 2003 +0000

    allow assignment from void pointer to any pointer type

 tools/qfcc/source/type.c |    2 ++
 1 file changed, 2 insertions(+)

commit 84ee27f
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Apr 7 21:15:45 2003 +0000

    bah, still not used to qc needing @extern on functions :P

 ruamoko/include/hash.h  |   34 +++++++++++++++++-----------------
 ruamoko/include/plist.h |   20 ++++++++++----------
 2 files changed, 27 insertions(+), 27 deletions(-)

commit 72036d7
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Apr 7 20:15:38 2003 +0000

    hmm, forgot a chunk :P

 libs/gamecode/builtins/bi_plist.c |   15 ++++++++++++++-
 1 file changed, 14 insertions(+), 1 deletion(-)

commit 7001f1d
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Apr 7 20:02:06 2003 +0000

    plist api (hope it works:)

 include/QF/csqc.h                  |    2 +
 libs/gamecode/builtins/Makefile.am |    2 +-
 libs/gamecode/builtins/bi_init.c   |    1 +
 libs/gamecode/builtins/bi_plist.c  |  178 ++++++++++++++++++++++++++++++++++++
 ruamoko/include/Makefile.am        |    2 +-
 ruamoko/include/plist.h            |   19 ++++
 ruamoko/lib/Makefile.am            |    3 +-
 ruamoko/lib/plist.r                |   14 +++
 8 files changed, 218 insertions(+), 3 deletions(-)

commit d5003f3
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Apr 7 19:29:52 2003 +0000

    make plist arrays unlimited in size

 include/QF/qfplist.h |    6 ++----
 libs/util/qfplist.c  |   12 ++++++++++--
 2 files changed, 12 insertions(+), 6 deletions(-)

commit 55eb6c3
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Apr 7 18:30:47 2003 +0000

    plug a memory leak

 tools/qfcc/source/expr.c |    5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit 66ff0cf
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Apr 7 18:17:43 2003 +0000

    fix some type parsing errors for structs and arrays

 tools/qfcc/source/type.c |    3 +++
 1 file changed, 3 insertions(+)

commit ee82170
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Apr 7 17:44:18 2003 +0000

    implement nested (and struct) block initializers

 tools/qfcc/source/expr.c |   56 ++++++++++++++++++++++++++++++++++++----------
 1 file changed, 44 insertions(+), 12 deletions(-)

commit 33c9ce0
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Apr 7 16:38:34 2003 +0000

    add hash table api

 include/QF/csqc.h                  |    2 +
 libs/gamecode/builtins/Makefile.am |    3 +-
 libs/gamecode/builtins/bi_hash.c   |  328 ++++++++++++++++++++++++++++++++++++
 libs/gamecode/builtins/bi_init.c   |    4 +-
 ruamoko/include/hash.h             |   25 +++
 ruamoko/lib/Makefile.am            |    6 +-
 ruamoko/lib/hash.r                 |   19 +++
 7 files changed, 382 insertions(+), 5 deletions(-)

commit a72d3f6
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Apr 6 01:04:37 2003 +0000

    fix a segfault causing typo :P

 libs/gamecode/builtins/bi_qfile.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit e483333
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Apr 5 07:59:29 2003 +0000

    beat the skydome bugs to a pulp. no more seam (and probably a bunch faster
    on slow cards)

 libs/video/renderer/gl/gl_sky.c |  165 +++++++++++++++++++++++++++++++++------
 1 file changed, 142 insertions(+), 23 deletions(-)

commit 3c58b71
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Apr 4 21:48:47 2003 +0000

    don't subdivide hint or skip brushes

 tools/qfbsp/source/surfaces.c |    3 +++
 1 file changed, 3 insertions(+)

commit 6cc7d43
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Apr 4 07:00:51 2003 +0000

    make the texture coords in skyvec always 1/2 pixel in from the edge

 libs/video/renderer/gl/gl_sky.c |  111 +++++++++++++++++++++------------------
 1 file changed, 59 insertions(+), 52 deletions(-)

commit e00966b
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Apr 3 23:09:43 2003 +0000

    speed up 16 bit vertex lerping by getting GL to do the 1/256 scaling for us

 libs/video/renderer/gl/gl_mod_alias.c |   29 +++++++++++++++--------------
 1 file changed, 15 insertions(+), 14 deletions(-)

commit 87e73b6
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Mar 31 16:30:23 2003 +0000

    portability fixes from freebsd (MrFixit? q@uni.de)

 tools/zpak |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 58541b6
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Mar 26 18:45:44 2003 +0000

    support printing a couple more types (especially for edicts)

 libs/gamecode/engine/pr_edict.c |   11 +++++++++++
 1 file changed, 11 insertions(+)

commit 25a7216
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Mar 25 17:49:27 2003 +0000

    ent file support

 nq/source/sv_main.c |    9 ++++++++-
 qw/source/sv_init.c |    8 +++++++-
 2 files changed, 15 insertions(+), 2 deletions(-)

commit 87a3143
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Mar 25 17:47:52 2003 +0000

    don't warn for ! precedence

 tools/qfcc/source/expr.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit fafc578
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Mar 25 17:40:02 2003 +0000

    correct a comment and ws

 libs/gamecode/engine/pr_parse.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 0550741
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Mar 25 17:18:58 2003 +0000

    catch ! == bogosity

 tools/qfcc/source/expr.c |   14 +++++++++++---
 1 file changed, 11 insertions(+), 3 deletions(-)

commit 81cf1cc
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Mar 25 16:34:07 2003 +0000

    don't seg on hint and skip brushs. hint and clip brushes are now known to
    work (what is a skip brush?)

 tools/qfbsp/source/brush.c |   43 +++++++++++++++++++++++++------------------
 1 file changed, 25 insertions(+), 18 deletions(-)

commit 8db859b
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Tue Mar 25 07:25:22 2003 +0000

    Minor bit of neatening, remove CHAIN_SURF alias, so it's clearer what is being used where.

 libs/video/renderer/gl/gl_rsurf.c |   16 +++++-----------
 1 file changed, 5 insertions(+), 11 deletions(-)

commit 6c7701a
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Mon Mar 24 20:21:24 2003 +0000

    Prevent bad gl_max_size settings from causing buggy drivers to freak out.

 libs/video/renderer/gl/gl_draw.c   |   92 +++++++++++++++++++++---------------
 libs/video/renderer/r_cvar.c       |    4 +-
 libs/video/targets/vid_common_gl.c |   16 +++++++
 3 files changed, 70 insertions(+), 42 deletions(-)

commit eb5f213
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Mar 24 17:40:27 2003 +0000

    don't create temp files when only preprocessing

 tools/qfcc/source/cpp.c |    7 ++++---
 1 file changed, 4 insertions(+), 3 deletions(-)

commit fc553ce
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Mar 22 04:33:52 2003 +0000

    don't seg if there's no texture data

 tools/qfvis/source/soundphs.c |    3 +++
 1 file changed, 3 insertions(+)

commit bd08b03
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Mar 21 22:18:20 2003 +0000

    don't assuming 32 bpp in setup_pixrow_span

 libs/util/tga.c |   23 ++++++++++++-----------
 1 file changed, 12 insertions(+), 11 deletions(-)

commit 91bebf1
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Fri Mar 21 22:08:46 2003 +0000

    Don't need LA for greyscale textures, switch to luminance-only.

 include/QF/texture.h |    2 ++
 libs/util/tga.c      |   17 +++++++----------
 2 files changed, 9 insertions(+), 10 deletions(-)

commit 3bfdf0a
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Fri Mar 21 21:28:09 2003 +0000

    Test for gl errors every frame.

 include/QF/GL/qf_rmain.h          |    1 +
 libs/video/renderer/gl/gl_rmain.c |   55 ++++++++++++++++++++++++++++++++++++-
 2 files changed, 55 insertions(+), 1 deletion(-)

commit 41bfde9
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Fri Mar 21 21:26:26 2003 +0000

    More cleaning up after slobs.

 nq/source/cl_main.c  |    4 +-
 nq/source/cl_parse.c |    6 +-
 nq/source/cl_tent.c  |    8 +-
 nq/source/cl_view.c  |    2 +-
 nq/source/host_cmd.c |    4 +-
 nq/source/locs.c     |   30 ++++----
 nq/source/mplpc.c    |    4 +-
 nq/source/pr_cmds.c  |  210 +++++++++++++++++++++++++++++++-------------------
 8 files changed, 160 insertions(+), 108 deletions(-)

commit 5fb8aa0
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Fri Mar 21 21:25:44 2003 +0000

    Code style, people. Love it or leave it!

 qw/source/cl_cam.c        |    6 +-
 qw/source/cl_demo.c       |   10 +--
 qw/source/cl_ents.c       |    8 +-
 qw/source/cl_main.c       |   16 ++--
 qw/source/cl_parse.c      |   16 ++--
 qw/source/cl_pred.c       |    4 +-
 qw/source/cl_skin.c       |    4 +-
 qw/source/cl_slist.c      |  202 ++++++++++++++++++++-------------------------
 qw/source/cl_tent.c       |    4 +-
 qw/source/cl_view.c       |    2 +-
 qw/source/crudefile.c     |   50 +++++------
 qw/source/locs.c          |   40 +++++----
 qw/source/master.c        |    4 +-
 qw/source/net_packetlog.c |   26 +++---
 qw/source/sbar.c          |   24 +++---
 qw/source/sv_ccmds.c      |   90 ++++++++++----------
 qw/source/sv_demo.c       |   15 ++--
 qw/source/sv_ents.c       |    2 +-
 qw/source/sv_gib.c        |   55 ++++++------
 qw/source/sv_init.c       |    2 +-
 qw/source/sv_main.c       |   63 +++++++-------
 qw/source/sv_pr_cmds.c    |   62 +++++++-------
 qw/source/sv_send.c       |   60 +++++++-------
 qw/source/sv_sys_unix.c   |    4 +-
 qw/source/sv_user.c       |   15 ++--
 qw/source/teamplay.c      |   30 +++----
 26 files changed, 400 insertions(+), 414 deletions(-)

commit 16eac17
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Mar 21 16:18:51 2003 +0000

    correct the scaling of the 5 bit color map types

 libs/util/tga.c |   20 ++++++++++----------
 1 file changed, 10 insertions(+), 10 deletions(-)

commit fa775c6
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Mar 21 06:08:57 2003 +0000

    oops, missed a case

 libs/util/tga.c |    2 ++
 1 file changed, 2 insertions(+)

commit 7e0ce3d
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Mar 21 06:08:17 2003 +0000

    skip over any present colormap for non-colormap types

 libs/util/tga.c |   17 +++++++++++++++++
 1 file changed, 17 insertions(+)

commit 3e349ee
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Mar 21 05:03:32 2003 +0000

    we now theoreticly support greyscale tga files too :)

 libs/util/tga.c |  104 ++++++++++++++++++++++++++++++++++++++++++++++++++++---
 1 file changed, 100 insertions(+), 4 deletions(-)

commit 6c850c5
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Mar 21 04:23:16 2003 +0000

    seriously clean up LoadTGA by using a decoder table and implement colormap
    support (8 bpp only)

 libs/util/tga.c |  295 +++++++++++++++++++++++++++++++++++++++++++++----------
 1 file changed, 241 insertions(+), 54 deletions(-)

commit 265edd1
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Fri Mar 21 00:52:30 2003 +0000

    Small optimization.

 qw/source/pmove.c |    4 +---
 1 file changed, 1 insertion(+), 3 deletions(-)

commit bf18436
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Fri Mar 21 00:51:57 2003 +0000

    Whitespace.

 libs/util/mathlib.c |    8 +++-----
 1 file changed, 3 insertions(+), 5 deletions(-)

commit 00c61fe
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Mar 20 23:30:24 2003 +0000

    add a luminance/alpha tex def

 include/QF/texture.h |    7 ++++---
 1 file changed, 4 insertions(+), 3 deletions(-)

commit c525bc4
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Mar 20 23:11:58 2003 +0000

    call the correct read functions for 32 bit rle expansion

 libs/util/tga.c |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 3225792
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Mar 20 23:02:53 2003 +0000

    cleanup unused vars

 libs/util/tga.c |   21 ++++++++-------------
 1 file changed, 8 insertions(+), 13 deletions(-)

commit b2bc3f1
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Mar 20 22:54:44 2003 +0000

    support RLE tga files for all 4 directions

 libs/util/tga.c |  276 ++++++++++++++++++++++++++++++++-----------------------
 1 file changed, 161 insertions(+), 115 deletions(-)

commit abdb21e
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Mar 20 21:25:56 2003 +0000

    however, don't need read_rgb and read_rgba

 libs/util/tga.c |   21 ---------------------
 1 file changed, 21 deletions(-)

commit 4222c50
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Mar 20 21:24:04 2003 +0000

    darn, broke the reverse direction and fixing it produces horrid code

 libs/util/tga.c |  130 ++++++++++++++++++++++++++++++++++++++++---------------
 1 file changed, 94 insertions(+), 36 deletions(-)

commit 1a18044
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Mar 20 21:08:47 2003 +0000

    merge the forward and reverse blitters/readers using a direction flag which
    gets optimized out

 libs/util/tga.c |  130 +++++++++++++++----------------------------------------
 1 file changed, 36 insertions(+), 94 deletions(-)

commit a01456f
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Mar 20 21:08:04 2003 +0000

    allocate space for the texture correctly

 libs/util/pcx.c |    7 ++++---
 1 file changed, 4 insertions(+), 3 deletions(-)

commit 88c2735
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Thu Mar 20 19:58:18 2003 +0000

    Make sprite rendering use vertex arrays, as a test for detection of vertex array support (tests only for OpenGL 1.1 or better, at the moment, no driver blacklist yet).

 include/QF/GL/qf_lightmap.h            |    2 +
 include/QF/render.h                    |   12 +--
 include/r_dynamic.h                    |    1 +
 include/r_local.h                      |    1 +
 include/varrays.h                      |   11 ++
 libs/models/alias/gl_model_alias.c     |   31 ++++--
 libs/video/renderer/gl/gl_lightmap.c   |   49 +++++++++
 libs/video/renderer/gl/gl_mod_sprite.c |  175 +++++++++++++++++++++++++++++---
 libs/video/renderer/gl/gl_rmain.c      |    5 +
 libs/video/renderer/gl/gl_rmisc.c      |    2 +
 libs/video/renderer/gl/gl_rsurf.c      |    4 +-
 libs/video/targets/vid_common_gl.c     |   58 +++++++----
 12 files changed, 299 insertions(+), 52 deletions(-)

commit 4ea47fc
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Mar 19 07:03:51 2003 +0000

    give up on ancient mingw

 include/winquake.h |   19 -------------------
 1 file changed, 19 deletions(-)

commit 29ab911
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Mar 18 19:49:23 2003 +0000

    this might come in handy

 tools/Forge/Bundles/MapEdit/.gitignore |    7 +++++++
 1 file changed, 7 insertions(+)

commit 48a5ad0
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Mar 18 19:48:24 2003 +0000

    my WIP on porting QuakeEd to GNUstep/QuakeForge

 tools/Forge/Bundles/MapEdit/Brush.h              |   55 +
 tools/Forge/Bundles/MapEdit/CameraView.h         |   61 +
 tools/Forge/Bundles/MapEdit/CameraView.m         |  971 ++
 tools/Forge/Bundles/MapEdit/Clipper.h            |   24 +
 tools/Forge/Bundles/MapEdit/Clipper.m            |  230 +
 tools/Forge/Bundles/MapEdit/Dict.h               |   47 +
 tools/Forge/Bundles/MapEdit/Dict.m               |  583 ++
 tools/Forge/Bundles/MapEdit/DictList.h           |   12 +
 tools/Forge/Bundles/MapEdit/DictList.m           |   69 +
 tools/Forge/Bundles/MapEdit/Entity.h             |   40 +
 tools/Forge/Bundles/MapEdit/Entity.m             |  485 +
 tools/Forge/Bundles/MapEdit/EntityClass.h        |   42 +
 tools/Forge/Bundles/MapEdit/EntityClass.m        |  265 +
 tools/Forge/Bundles/MapEdit/GNUmakefile          |   27 +
 tools/Forge/Bundles/MapEdit/GNUmakefile.preamble |   39 +
 tools/Forge/Bundles/MapEdit/InspectorControl.h   |   71 +
 tools/Forge/Bundles/MapEdit/InspectorControl.m   |  128 +
 tools/Forge/Bundles/MapEdit/KeypairView.h        |   16 +
 tools/Forge/Bundles/MapEdit/KeypairView.m        |   93 +
 tools/Forge/Bundles/MapEdit/Map.h                |   68 +
 tools/Forge/Bundles/MapEdit/Map.m                | 1125 ++
 tools/Forge/Bundles/MapEdit/PopScrollView.h      |   11 +
 tools/Forge/Bundles/MapEdit/PopScrollView.m      |   87 +
 tools/Forge/Bundles/MapEdit/Preferences.h        |   78 +
 tools/Forge/Bundles/MapEdit/Preferences.m        |  330 +
 tools/Forge/Bundles/MapEdit/Project.h            |  108 +
 tools/Forge/Bundles/MapEdit/Project.m            |  526 +
 tools/Forge/Bundles/MapEdit/QuakeEd.h            |   98 +
 tools/Forge/Bundles/MapEdit/QuakeEd.m            | 1026 ++
 tools/Forge/Bundles/MapEdit/QuakeEd_main.m       |   15 +
 tools/Forge/Bundles/MapEdit/SetBrush.h           |  158 +
 tools/Forge/Bundles/MapEdit/SetBrush.m           | 2034 ++++
 tools/Forge/Bundles/MapEdit/TexturePalette.h     |  113 +
 tools/Forge/Bundles/MapEdit/TexturePalette.m     |  818 ++
 tools/Forge/Bundles/MapEdit/TextureView.h        |   12 +
 tools/Forge/Bundles/MapEdit/TextureView.m        |  152 +
 tools/Forge/Bundles/MapEdit/Things.h             |   42 +
 tools/Forge/Bundles/MapEdit/Things.m             |  317 +
 tools/Forge/Bundles/MapEdit/UserPath.h           |   72 +
 tools/Forge/Bundles/MapEdit/UserPath.m           |  209 +
 tools/Forge/Bundles/MapEdit/XYView.h             |   66 +
 tools/Forge/Bundles/MapEdit/XYView.m             | 1384 +++
 tools/Forge/Bundles/MapEdit/ZScrollView.h        |   11 +
 tools/Forge/Bundles/MapEdit/ZScrollView.m        |   71 +
 tools/Forge/Bundles/MapEdit/ZView.h              |   42 +
 tools/Forge/Bundles/MapEdit/ZView.m              |  869 ++
 tools/Forge/Bundles/MapEdit/cmdlib.c             |  611 ++
 tools/Forge/Bundles/MapEdit/cmdlib.h             |   62 +
 tools/Forge/Bundles/MapEdit/help.txt             |  175 +
 tools/Forge/Bundles/MapEdit/jrbase1.map          |11858 ++++++++++++++++++++++
 tools/Forge/Bundles/MapEdit/mathlib.c            |   93 +
 tools/Forge/Bundles/MapEdit/mathlib.h            |   31 +
 tools/Forge/Bundles/MapEdit/misc.m               |  274 +
 tools/Forge/Bundles/MapEdit/qedefs.h             |   57 +
 tools/Forge/Bundles/MapEdit/quake.qpr            |   13 +
 tools/Forge/Bundles/MapEdit/readme.txt           |   33 +
 tools/Forge/Bundles/MapEdit/render.h             |   13 +
 tools/Forge/Bundles/MapEdit/render.m             |  748 ++
 58 files changed, 27068 insertions(+)

commit 3423ed5
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Mar 18 19:15:31 2003 +0000

    expand the plist api to make plist creation easier

 include/QF/qfplist.h |   11 +++
 libs/util/qfplist.c  |  217 +++++++++++++++++++++++++++++++++++++-------------
 2 files changed, 174 insertions(+), 54 deletions(-)

commit d7a3608
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Mar 17 19:54:57 2003 +0000

    can now convert v3 models to v6

 tools/misc/mdl.py     |    5 ++--
 tools/misc/mdlconv.py |   66 +++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 69 insertions(+), 2 deletions(-)

commit 067405b
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Mar 17 18:41:07 2003 +0000

    finally have v3 mdl figured out

 tools/misc/mdl.py |   24 +++++++++---------------
 1 file changed, 9 insertions(+), 15 deletions(-)

commit df148a3
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Mar 17 05:52:45 2003 +0000

    more packet log spam

 qw/source/cl_demo.c |    5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit aa345fa
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Mar 17 05:39:10 2003 +0000

    use the window size for the fullscreen view

 libs/video/targets/context_x11.c |   18 +++++++++---------
 1 file changed, 9 insertions(+), 9 deletions(-)

commit a8a8792
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Mar 17 05:17:58 2003 +0000

    support vid_conwidth cvar (for -conwidth). while present in all targets, it
    will only work in gl

 libs/video/targets/vid.c          |   13 +++++++++++++
 libs/video/targets/vid_3dfxsvga.c |    5 -----
 libs/video/targets/vid_glx.c      |    8 --------
 libs/video/targets/vid_sgl.c      |    8 --------
 4 files changed, 13 insertions(+), 21 deletions(-)

commit 6621bbe
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Mar 17 04:39:33 2003 +0000

    don't spam packet logs accidently :)

 qw/source/sv_main.c |    5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 27a02de
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Mar 17 04:36:06 2003 +0000

    fix a double fclose

 tools/qfbsp/source/outside.c |    2 --
 1 file changed, 2 deletions(-)

commit 3a85d98
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Mar 17 00:52:16 2003 +0000

    fix an out-by-one error

 tools/qfvis/source/qfvis.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 2173151
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Mar 16 03:17:50 2003 +0000

    get packet logging working with mvds

 include/netchan.h         |   22 ++++----------
 qw/source/cl_demo.c       |    5 +++-
 qw/source/cl_main.c       |    2 +-
 qw/source/net_packetlog.c |   73 +++++++++++++++++++++++++--------------------
 qw/source/sv_main.c       |    4 ++-
 qw/source/sv_send.c       |   12 +++-----
 6 files changed, 57 insertions(+), 61 deletions(-)

commit dc74519
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Mar 14 01:00:53 2003 +0000

    no flags for mdl v3, but yes to skin type

 tools/misc/mdl.py |   27 ++++++++++++---------------
 1 file changed, 12 insertions(+), 15 deletions(-)

commit f604a84
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Mar 14 00:43:33 2003 +0000

    attempting to reverse engineer mdl ver 3

 tools/misc/mdl.py |   39 ++++++++++++++++++++++++++++-----------
 1 file changed, 28 insertions(+), 11 deletions(-)

commit 1e423b9
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Mar 13 19:16:45 2003 +0000

    make certain classes get referenced when inheriting from them

 tools/qfcc/source/class.c |   50 +++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 50 insertions(+)

commit 548d3b6
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Mar 13 18:45:45 2003 +0000

    pr_load.c:
    	PR_RelocateBuiltins must be called before PR_InitRuntime
    pr_obj.c:
    	don't segfault on broken classes

 libs/gamecode/engine/pr_load.c |    3 +++
 libs/gamecode/engine/pr_obj.c  |    8 ++++++--
 2 files changed, 9 insertions(+), 2 deletions(-)

commit 5cb79f4
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Mar 13 17:31:01 2003 +0000

    fix missing break

 tools/qfprogs/source/qfprogs.c |    1 +
 1 file changed, 1 insertion(+)

commit 0f119c7
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Mar 13 16:33:29 2003 +0000

    don't bother lowercasing download filenames now that they're forced
    lowercase during the precache stage

 qw/source/sv_user.c |   10 ----------
 1 file changed, 10 deletions(-)

commit 2dd3fab
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Mar 13 16:29:55 2003 +0000

    force model and sound names coming in from the progs to be lowercase

 qw/source/sv_pr_cmds.c |   80 ++++++++++++++++++++++--------------------------
 1 file changed, 37 insertions(+), 43 deletions(-)

commit eeb2439
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Mar 13 05:43:45 2003 +0000

    need a specific entry for "qw:qw" since servers set the gamedir to "qw"
    explicitly

 libs/util/quakefs.c |    3 +++
 1 file changed, 3 insertions(+)

commit e105198
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Mar 13 05:41:55 2003 +0000

    ensure the path passed to Sys_DebugLog is expanded

 libs/util/sys.c |    5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit 6a79ee5
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Mar 13 03:18:34 2003 +0000

    the correct fix for overzealous linking: preemptively turf unused externs

 tools/qfcc/source/linker.c |    7 +++----
 1 file changed, 3 insertions(+), 4 deletions(-)

commit bb1b7c4
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Mar 13 01:50:49 2003 +0000

    don't pull in a lib object file due to an /unused/ undefined def.

 tools/qfcc/source/linker.c |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit c1b587c
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Mar 13 01:21:54 2003 +0000

    include qfadmin in the dist tarball

 doc/Makefile.am |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 2858bc4
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Mar 12 22:38:02 2003 +0000

    d'oh

 libs/gamecode/engine/pr_debug.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 71a6071
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Mar 12 22:31:44 2003 +0000

    make pr_source_path a ; separated list of dirs and make it controllable in
    qfprogs

 include/QF/progs.h              |    1 +
 libs/gamecode/engine/pr_debug.c |   53 +++++++++++++++++++++++++++++++--------
 libs/gamecode/engine/pr_load.c  |    8 ++++++
 tools/qfprogs/source/qfprogs.c  |   20 ++++++++++++---
 4 files changed, 67 insertions(+), 15 deletions(-)

commit 15781b2
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Mar 12 21:58:24 2003 +0000

    make vector.x work in classes work and don't give an uninitialized warning
    for vec.x = 0;

 tools/qfcc/source/expr.c |   10 +++++++++-
 1 file changed, 9 insertions(+), 1 deletion(-)

commit 82c7867
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Mar 12 16:34:26 2003 +0000

    white space

 qw/source/sv_demo.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 664e121
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Mar 12 02:22:06 2003 +0000

    make the output a little more readable

 tools/misc/mdl.py |   15 +++++++++------
 1 file changed, 9 insertions(+), 6 deletions(-)

commit c186266
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Mar 12 02:21:51 2003 +0000

    whitespace

 libs/models/alias/gl_mesh.c |    3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit ff2a40a
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Mar 11 06:31:30 2003 +0000

    WildCode's dx cleanups

 include/winquake.h          |    6 ------
 libs/audio/targets/snd_dx.c |   12 ++----------
 2 files changed, 2 insertions(+), 16 deletions(-)

commit 661b812
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Mar 11 05:58:06 2003 +0000

    call QFS_Gamedir only if the gamedir actually changes

 qw/source/cl_parse.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 63edd41
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Mar 11 02:55:22 2003 +0000

    use the command line for the file name rather than hardcoding it

 tools/misc/mdl.py |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 2aee6a7
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Mar 10 23:42:27 2003 +0000

    preliminary doxygen support

 configure.ac          |    1 +
 doc/.gitignore        |    3 +-
 doc/Makefile.am       |    4 +
 doc/quakeforge.dox.in | 1044 +++++++++++++++++++++++++++++++++++++++++++++++++
 4 files changed, 1051 insertions(+), 1 deletion(-)

commit cf3aead
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Mar 10 21:28:18 2003 +0000

    more error checking ala WildCode

 libs/audio/renderer/snd_dma.c |    5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 2d796e0
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Mar 10 21:26:57 2003 +0000

    ignore dvi files

 tools/qfcc/doc/.gitignore |    1 +
 1 file changed, 1 insertion(+)

commit 627c6f7
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Mar 10 21:23:05 2003 +0000

    allow casting between function types

 tools/qfcc/source/emit.c     |    6 ++++--
 tools/qfcc/source/expr.c     |    1 +
 tools/qfcc/source/qc-parse.y |    6 +++---
 3 files changed, 8 insertions(+), 5 deletions(-)

commit cbd2c42
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Mar 10 21:21:22 2003 +0000

    WildCode's win32 sound fixes

 configure.ac                   |   13 +-
 libs/audio/targets/Makefile.am |    7 +-
 libs/audio/targets/snd_dx.c    |  541 ++++++++++++++++++++++++++++++++++++++++
 libs/audio/targets/snd_win.c   |  401 ++---------------------------
 4 files changed, 570 insertions(+), 392 deletions(-)

commit e3ad60f
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Mar 10 21:00:48 2003 +0000

    add WildCode's error checking for win32 cpp handling

 tools/qfcc/source/cpp.c |    6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit 72d1343
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Mar 10 20:44:50 2003 +0000

    add some comments about the coordinate systems used in AngleVectors

 libs/util/mathlib.c |   38 +++++++++++++++++++++++++++++++++++---
 1 file changed, 35 insertions(+), 3 deletions(-)

commit a565f2f
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Mar 10 16:49:01 2003 +0000

    `document' the new client functions

 qw/source/sv_pr_cmds.c |   10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit 4c7daeb
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Mar 10 16:39:40 2003 +0000

    provide SV_UserCmd builtin so progs can emulate a client but use the
    engine's physics code

 qw/include/server.h    |    3 +++
 qw/source/sv_pr_cmds.c |   23 +++++++++++++++++++++++
 qw/source/sv_user.c    |    8 ++++----
 3 files changed, 30 insertions(+), 4 deletions(-)

commit 57a470a
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Mar 8 07:17:32 2003 +0000

    alpha compile fixes (unused functions)

 libs/video/renderer/sw/fpu.c  |   10 ----------
 libs/video/renderer/sw/fpua.S |   17 -----------------
 2 files changed, 27 deletions(-)

commit a8c9899
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Mar 7 22:30:15 2003 +0000

    hopefully better input grabbing state tracking

 include/context_x11.h            |    1 -
 libs/video/targets/context_x11.c |   55 --------------------------------------
 libs/video/targets/in_x11.c      |   53 ++++++++++++++++++++++++++++++++----
 3 files changed, 48 insertions(+), 61 deletions(-)

commit c731afa
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Mar 7 03:55:51 2003 +0000

    hopefully fix the input grabbing (and evem more hopefully, without driving
    Despair to ... um... ;)

 include/QF/input.h              |    3 +--
 libs/video/targets/in_common.c  |   12 +-----------
 libs/video/targets/in_fbdev.c   |   11 ++---------
 libs/video/targets/in_sdl.c     |   15 +++++++--------
 libs/video/targets/in_svgalib.c |   11 ++---------
 libs/video/targets/in_win.c     |   11 ++---------
 libs/video/targets/in_x11.c     |   36 +++++++++++++++++++-----------------
 7 files changed, 34 insertions(+), 65 deletions(-)

commit 7bdf1bd
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Mar 6 19:06:10 2003 +0000

    don't count server clients as clients

 qw/source/sv_main.c |    5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit f70b1fb
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Mar 5 18:19:32 2003 +0000

    actually free the client when SV_FreeClient is called (oops:)

 qw/source/sv_pr_cmds.c |    5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit bfaef77
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Mar 5 18:18:42 2003 +0000

    the first fielddef isn't always null (esp with qfcc), so check to see if it
    needs printing too

 libs/gamecode/engine/pr_edict.c |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 6c028a5
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Mar 5 03:56:50 2003 +0000

    bot player stats seem to be working working

 qw/include/server.h    |    1 +
 qw/source/sv_main.c    |    2 ++
 qw/source/sv_pr_cmds.c |   18 ++++++++++++++++++
 qw/source/sv_send.c    |    2 +-
 qw/source/sv_user.c    |    2 +-
 5 files changed, 23 insertions(+), 2 deletions(-)

commit 6b20862
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Mar 4 21:13:10 2003 +0000

    disable some debug

 tools/qfcc/source/expr.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit d788d02
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Mar 4 17:38:42 2003 +0000

    for now don't allow bots to survive map changes

 qw/source/sv_init.c |    7 +++++++
 1 file changed, 7 insertions(+)

commit 3e05400
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Mar 4 17:28:31 2003 +0000

    add SV_SetUserinfo builtin

 qw/source/sv_pr_cmds.c |   14 ++++++++++++--
 1 file changed, 12 insertions(+), 2 deletions(-)

commit 4de6a20
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Mar 4 17:03:49 2003 +0000

    fix a bug with \\ handling just before the end of a string constant

 tools/qfcc/source/qc-lex.l |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 2310e94
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Mar 4 16:00:57 2003 +0000

    fix userid setup

 qw/source/sv_main.c    |   18 +++-------
 qw/source/sv_pr_cmds.c |   94 ++++++++++++++++++++++++++++++++----------------
 2 files changed, 67 insertions(+), 45 deletions(-)

commit e131ec5
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Mar 4 07:44:22 2003 +0000

    fix the status seg

 qw/source/sv_pr_cmds.c |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit cee4846
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Mar 4 07:36:34 2003 +0000

    hmm, that segs :), but then, so does doing "status" while bots are going

 qw/source/sv_pr_cmds.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a10704f
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Mar 4 04:10:25 2003 +0000

    boundscheck the client entity

 qw/source/sv_pr_cmds.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 9fbbadb
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Mar 4 04:03:02 2003 +0000

    disable the disconnect events for bots as I'm not yet sure how I'm going to
    do things

 qw/source/sv_pr_cmds.c |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit fc73244
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Mar 4 03:35:12 2003 +0000

    implement SV_AllocClient and SV_FreeClient builtins

 qw/include/server.h    |    2 ++
 qw/source/sv_main.c    |   20 +++++++++-----------
 qw/source/sv_pr_cmds.c |   40 ++++++++++++++++++++++++++++++++++++++++
 3 files changed, 51 insertions(+), 11 deletions(-)

commit 34f3970
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Tue Mar 4 03:23:41 2003 +0000

    Added the "map" GIB event to qw-server.

 qw/include/sv_gib.h |    3 +++
 qw/source/sv_gib.c  |    2 ++
 qw/source/sv_init.c |    3 +++
 3 files changed, 8 insertions(+)

commit c078918
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Mar 4 01:36:30 2003 +0000

    break out the client slot allocation code into a separate function

 qw/source/sv_main.c |   65 ++++++++++++++++++++++++++++-----------------------
 1 file changed, 36 insertions(+), 29 deletions(-)

commit da3cac2
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Mar 3 21:46:41 2003 +0000

    oops, didn't notice the lack of {}s

 qw/source/sv_ents.c    |    2 +-
 qw/source/sv_pr_cmds.c |    3 ++-
 2 files changed, 3 insertions(+), 2 deletions(-)

commit c52ce7f
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Mar 3 21:41:13 2003 +0000

    slight optimisation

 qw/source/sv_pr_cmds.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 1c774bc
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Mar 3 21:10:29 2003 +0000

    remove some debug code :P

 tools/qfcc/source/immediate.c |    2 --
 1 file changed, 2 deletions(-)

commit 4c5c711
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Mar 3 21:09:41 2003 +0000

    fix a nasty bug where immediates would get aliased. (eg, 2 and 1073741824).

 tools/qfcc/source/immediate.c |   20 ++++++++++++--------
 1 file changed, 12 insertions(+), 8 deletions(-)

commit f57eb91
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Mon Mar 3 19:32:56 2003 +0000

    Another little FIXME. (Cleanup I'll do soon, hopefully)

 libs/video/targets/context_sdl.c |    1 +
 1 file changed, 1 insertion(+)

commit 2000954
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Mon Mar 3 19:20:44 2003 +0000

    Whitespace, and a workaround for show_* misplacement.

 libs/video/renderer/r_screen.c |    4 ++--
 qw/source/cl_parse.c           |    8 ++++----
 qw/source/cl_screen.c          |    7 +++++--
 3 files changed, 11 insertions(+), 8 deletions(-)

commit d469a06
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Mar 3 18:30:09 2003 +0000

    move the maxclients and maxspectators range checks into callbacks

 qw/source/sv_main.c |   42 ++++++++++++++++++++++++++++++++++--------
 1 file changed, 34 insertions(+), 8 deletions(-)

commit beecb55
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Mar 3 17:52:11 2003 +0000

    use %g instead of %f and the 0s hack

 libs/util/cvar.c |    8 +-------
 1 file changed, 1 insertion(+), 7 deletions(-)

commit 389542f
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Mar 3 17:08:45 2003 +0000

    first step in creating an interface for the snagging of client slots by
    the progs

 qw/include/server.h  |    1 +
 qw/source/sv_ccmds.c |   22 +++++++++++++++-------
 qw/source/sv_gib.c   |    6 +++---
 qw/source/sv_main.c  |   20 +++++++++-----------
 qw/source/sv_send.c  |    6 +++---
 qw/source/sv_user.c  |    4 ++--
 6 files changed, 33 insertions(+), 26 deletions(-)

commit 8db10ff
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Mar 3 16:13:04 2003 +0000

    prototype the new Write functions

 ruamoko/include/message.h |    3 +++
 1 file changed, 3 insertions(+)

commit b64f193
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Mon Mar 3 05:34:26 2003 +0000

    Rest of the Write* update.

 ruamoko/lib/message.r |    3 +++
 1 file changed, 3 insertions(+)

commit 8883375
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Mon Mar 3 05:28:13 2003 +0000

    Use Write*V and WriteBytes, instead of antique bloated functions. ;)

 ruamoko/game/Axe.r     |    8 ++------
 ruamoko/game/tempent.r |    8 ++------
 2 files changed, 4 insertions(+), 12 deletions(-)

commit e472c6b
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Mon Mar 3 05:24:45 2003 +0000

    *shakes an angry shambler at ugly codingstyle*

 ruamoko/cl_menu/client_menu.qc  |   34 ++---
 ruamoko/cl_menu/console.qc      |    2 +-
 ruamoko/cl_menu/controls_o.qc   |  213 +++++++++++++++-----------------
 ruamoko/cl_menu/menu.h          |   13 +-
 ruamoko/cl_menu/options.qc      |  261 +++++++++++++++++++--------------------
 ruamoko/cl_menu/options_util.qc |   73 +++++------
 ruamoko/cl_menu/servlist.qc     |   15 ++-
 7 files changed, 296 insertions(+), 315 deletions(-)

commit 3b99b73
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Sun Mar 2 05:11:22 2003 +0000

    Fixed two bugs in complex variable substitution.

 libs/gib/gib_vars.c |   31 ++++++++++++++++++++-----------
 1 file changed, 20 insertions(+), 11 deletions(-)

commit 1a40e5b
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Mar 2 03:25:47 2003 +0000

    implement WriteBytes for qc

 qw/include/sv_pr_cmds.h |    1 +
 qw/source/sv_pr_cmds.c  |   25 +++++++++++++++++++++++++
 2 files changed, 26 insertions(+)

commit cd3fc35
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Sat Mar 1 07:24:58 2003 +0000

    Fixed a bug on out-of-bounds array access attempts and enhanced the now-
    functioning infobot.gib.

 doc/config/gib/infobot.gib |  116 +++++++++++++++++++++++++++++---------------
 libs/gib/gib_vars.c        |   29 ++++++-----
 2 files changed, 92 insertions(+), 53 deletions(-)

commit 2be8a85
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Sat Mar 1 02:44:58 2003 +0000

    Oops, make 'return' GIB builtin actually end the current function.

 include/QF/gib_buffer.h |    2 +-
 libs/gib/gib_buffer.c   |    2 +-
 libs/gib/gib_builtin.c  |    4 +++-
 3 files changed, 5 insertions(+), 3 deletions(-)

commit 90752b3
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Feb 28 23:36:56 2003 +0000

    make TYPE (void) NAME valid (no args)

 tools/qfcc/source/qc-parse.y |    9 ++++++---
 1 file changed, 6 insertions(+), 3 deletions(-)

commit 7f37260
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Feb 28 16:22:42 2003 +0000

    this bit shouldn't know about windows

 libs/audio/renderer/snd_dma.c |   19 ------------------
 libs/audio/renderer/snd_mix.c |   43 ++---------------------------------------
 2 files changed, 2 insertions(+), 60 deletions(-)

commit 15cc02f
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Fri Feb 28 06:51:16 2003 +0000

    Added client::print, client::printChat, client::printAll, and
    client::printAllChat GIB builtins.

 qw/source/sv_gib.c |   29 +++++++++++++++++++++++++++++
 1 file changed, 29 insertions(+)

commit a99c859
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Feb 28 05:53:40 2003 +0000

    "main" in progs is never called

 qw/source/sv_progs.c |    1 -
 1 file changed, 1 deletion(-)

commit a9a169e
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Feb 28 05:35:27 2003 +0000

    make the more relevant parts of qfs available to progs. bi_file.c will
    eventually be moving into bi_qfs.c

 include/QF/csqc.h                  |    9 +-
 libs/console/menu.c                |    1 +
 libs/gamecode/builtins/Makefile.am |    2 +-
 libs/gamecode/builtins/bi_file.c   |   10 ++-
 libs/gamecode/builtins/bi_init.c   |    3 +-
 libs/gamecode/builtins/bi_qfile.c  |  166 +++++++++++++++++-------------------
 libs/gamecode/builtins/bi_qfs.c    |  140 ++++++++++++++++++++++++++++++
 7 files changed, 239 insertions(+), 92 deletions(-)

commit 6ef4770
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Feb 28 05:28:35 2003 +0000

    make the menu load when the gamedir hasn't been set

 libs/console/client.c |    5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit a45223d
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Feb 28 05:18:49 2003 +0000

    d'oh, forgot about "default"

 tools/qfcc/source/switch.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit e9b1173
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Fri Feb 28 05:09:46 2003 +0000

    Added client.connect, client.spawn, and client.disconnect GIB events.

 qw/include/Makefile.am |    4 ++--
 qw/include/sv_gib.h    |   35 +++++++++++++++++++++++++++++++++++
 qw/source/sv_gib.c     |   13 +++++++++++++
 qw/source/sv_main.c    |    5 +++++
 qw/source/sv_user.c    |   12 +++++++++---
 5 files changed, 64 insertions(+), 5 deletions(-)

commit 7f72596
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Fri Feb 28 05:07:15 2003 +0000

    Fix a bug with embedded commands and make the parser more anal about what
    can be embedded.

 libs/gib/gib_execute.c |   14 +++++++-------
 libs/gib/gib_parse.c   |    8 +++++++-
 2 files changed, 14 insertions(+), 8 deletions(-)

commit d2edce3
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Feb 28 04:59:40 2003 +0000

    give qc access to WriteCoordV and WriteAngleV

 qw/include/server.h     |    2 ++
 qw/include/sv_pr_cmds.h |    2 ++
 qw/source/sv_nchan.c    |   20 ++++++++++++++++++++
 qw/source/sv_pr_cmds.c  |   38 ++++++++++++++++++++++++++++++++++++++
 4 files changed, 62 insertions(+)

commit ef762e2
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Feb 28 04:54:07 2003 +0000

    allow initialized globals (since they're constant) to be used in most places
    constants are required (switch, initializing globals, enums)

 tools/qfcc/include/expr.h    |    2 ++
 tools/qfcc/source/expr.c     |   28 ++++++++++++++++++++++++++++
 tools/qfcc/source/qc-parse.y |    4 ++++
 tools/qfcc/source/switch.c   |    2 ++
 4 files changed, 36 insertions(+)

commit 11596e4
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Fri Feb 28 04:03:45 2003 +0000

    Fixed a bug with parse trees being freed early.

 libs/gib/gib_execute.c |    1 +
 1 file changed, 1 insertion(+)

commit ce80fff
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Wed Feb 26 07:44:34 2003 +0000

    Massive bug and memory leak fixing.

 libs/gib/gib_execute.c |   18 ++++++++++--------
 libs/gib/gib_parse.c   |   37 ++++++++++++++++++++++++++-----------
 libs/gib/gib_process.c |    2 +-
 libs/util/cbuf.c       |    3 ++-
 tools/carne/main.c     |   15 +++++++++------
 5 files changed, 48 insertions(+), 27 deletions(-)

commit 382f13f
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 26 05:01:18 2003 +0000

    fix a decl mismatch

 tools/qfcc/include/qfcc.h |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 61d3157
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Wed Feb 26 02:51:40 2003 +0000

    Fix a braino that most likely broke concatenation.

 libs/gib/gib_parse.c |    7 ++++++-
 1 file changed, 6 insertions(+), 1 deletion(-)

commit 2364c49
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Wed Feb 26 02:28:10 2003 +0000

    Add DrSpliff's qfadmin GIB script to CVS.

 doc/config/gib/qfadmin.gib |  338 ++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 338 insertions(+)

commit d47aa71
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Wed Feb 26 02:18:11 2003 +0000

    Added a line to the latex preamble to use postscript fonts on PS/PDF
    ouput.  This makes the PDF version much more readable, especially in
    acrobat.

 doc/gib/GIB.lyx |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 106fb77
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 25 20:54:24 2003 +0000

    need AppKit/NSImage.h now

 tools/Forge/Bundles/MainPrefs/MainPrefs.m |    1 +
 1 file changed, 1 insertion(+)

commit 32ed283
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 25 18:13:56 2003 +0000

    don't need that FIXME

 libs/util/quakefs.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit be728c7
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 25 17:19:47 2003 +0000

    Initialize p_mouse_x and p_mouse_y from the EnterNotify event so that the
    first mouse move of the game doesn't screw up your view. Also does resonable
    behaviour when entering and leaving the window.

 libs/video/targets/context_x11.c |    2 +-
 libs/video/targets/in_x11.c      |   12 +++++++++++-
 2 files changed, 12 insertions(+), 2 deletions(-)

commit 5fc0697
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Tue Feb 25 08:35:31 2003 +0000

    Warning fix (c might be used before initialization).
    Too tired to check if there's an actual bug there. Goodnight...

 libs/gib/gib_parse.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 020a926
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Tue Feb 25 08:04:48 2003 +0000

    Made the parser anal about concatenation usage and fixed several bugs by
    running /dev/urandom through carne to catch problems.

 doc/config/gib/infobot.gib |  137 +++++++++++++++++++++++++++++++++++++-------
 libs/gib/gib_execute.c     |   18 +++---
 libs/gib/gib_parse.c       |   30 +++++++---
 3 files changed, 148 insertions(+), 37 deletions(-)

commit 05fb5fe
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 25 07:48:12 2003 +0000

    make syntax errors a little easier to understand

 tools/qfcc/source/qc-parse.y |    5 +++++
 1 file changed, 5 insertions(+)

commit c9fbb33
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Tue Feb 25 06:52:27 2003 +0000

    Cleaned up the GIB parser and GIB_Execute() a lot.  Made aliases work in
    GIB.  Added some breakpoint GIB builtins for debugging script/intepreter
    interactions.  Made carne work properly again (local variables don't
    disappear in interactive mode)

 include/QF/gib_parse.h |    4 +-
 include/QF/gib_tree.h  |   28 +++++++----
 libs/gib/gib_buffer.c  |   40 ++++++++++++---
 libs/gib/gib_builtin.c |   69 ++++++++++---------------
 libs/gib/gib_execute.c |  130 ++++++++++++++++++++++++++----------------------
 libs/gib/gib_parse.c   |  123 ++++++++++++++++++++++++++-------------------
 libs/gib/gib_process.c |    2 +-
 libs/gib/gib_tree.c    |    4 +-
 libs/util/cbuf.c       |    4 +-
 9 files changed, 226 insertions(+), 178 deletions(-)

commit 1201f61
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Tue Feb 25 06:04:42 2003 +0000

    Move a test inside function, rather than repeated all over the place.

 libs/video/targets/context_sdl.c |    3 +--
 libs/video/targets/context_x11.c |   12 +++---------
 libs/video/targets/in_common.c   |   16 +++++++++-------
 3 files changed, 13 insertions(+), 18 deletions(-)

commit a9c61bb
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Tue Feb 25 05:45:11 2003 +0000

    Updated for OpenGL 1.4, plus whitespace.

 libs/video/renderer/gl/gl_textures.c |   26 ++++++++++++++++++--------
 1 file changed, 18 insertions(+), 8 deletions(-)

commit e959df1
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Tue Feb 25 03:56:58 2003 +0000

    Whitespace. Grr!

 qw/source/cl_parse.c |    3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit 2ba8e87
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 24 21:51:08 2003 +0000

    convert \ to / in paths in windows

 tools/qfcc/include/qfcc.h   |    7 +++++++
 tools/qfcc/source/options.c |   12 ++++++------
 tools/qfcc/source/qfcc.c    |   15 ++++++++++++++-
 3 files changed, 27 insertions(+), 7 deletions(-)

commit b928f94
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 24 20:10:33 2003 +0000

    produce a warning if both @self and self are used in the same progs

 tools/qfcc/source/linker.c |   25 +++++++++++++++++++++++++
 1 file changed, 25 insertions(+)

commit 5a58c58
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 24 19:13:56 2003 +0000

    don't initialize external defs. this broke source line/file tracking for
    @extern defs in headers.

 tools/qfcc/source/def.c |    2 --
 1 file changed, 2 deletions(-)

commit c145fdb
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 24 18:51:12 2003 +0000

    make the line number dump more useful

 tools/qfprogs/source/lines.c |   38 ++++++++++++++++++++++++++++++++++----
 1 file changed, 34 insertions(+), 4 deletions(-)

commit 93834f2
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 24 16:01:52 2003 +0000

    better source line tracking

 libs/gamecode/engine/pr_debug.c |   11 ++++++++---
 1 file changed, 8 insertions(+), 3 deletions(-)

commit 5f75aa0
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 24 15:33:57 2003 +0000

    don't relocate a null function constant

 tools/qfcc/source/immediate.c |    3 ++-
 tools/qfcc/source/linker.c    |   21 +++++++++++++++------
 2 files changed, 17 insertions(+), 7 deletions(-)

commit 38d5c8c
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 24 03:34:11 2003 +0000

    better line search algorithm (not perfect yet, though)

 libs/gamecode/engine/pr_debug.c |   16 +++++++++++-----
 1 file changed, 11 insertions(+), 5 deletions(-)

commit 5c3892c
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 24 03:07:26 2003 +0000

    make sure the string is valid before attempting to print it

 libs/gamecode/engine/pr_edict.c |    7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

commit 44285ba
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Feb 23 23:43:43 2003 +0000

    speed up qfo writing by about 12.5:1 (for large object files, anyway) by
    making compression optional (compressed qfo files will still be handled
    transparently)

 tools/qfcc/include/options.h |    1 +
 tools/qfcc/source/obj_file.c |    3 ++-
 tools/qfcc/source/options.c  |    4 ++++
 tools/qfcc/source/qfodump.c  |    1 +
 4 files changed, 8 insertions(+), 1 deletion(-)

commit 71a4ff6
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Sun Feb 23 22:53:36 2003 +0000

    Use floor() or ceil() based on sign for 'trunc' GIB math function.

 libs/gib/ops.c |    4 +---
 1 file changed, 1 insertion(+), 3 deletions(-)

commit 0fd0bd5
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sun Feb 23 22:53:03 2003 +0000

    Replace removed bigendian declaration.

 include/QF/qendian.h |    2 ++
 1 file changed, 2 insertions(+)

commit 6141bc3
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Sun Feb 23 22:14:07 2003 +0000

    Removed the 'random' GIB builtin and replaced it with the rand() math
    function in the math evaluator.  Added the trunc() math function as well.

 include/ops.h          |    2 ++
 libs/gib/exp.c         |    2 ++
 libs/gib/gib_builtin.c |   12 ------------
 libs/gib/ops.c         |   15 +++++++++++++++
 4 files changed, 19 insertions(+), 12 deletions(-)

commit 36774a6
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Sun Feb 23 21:14:33 2003 +0000

    Use atof when checking truth values.

 libs/gib/gib_execute.c |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit d9ed34a
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sun Feb 23 20:21:06 2003 +0000

    More video mode selection robustness improvements.

 libs/video/targets/vid_sgl.c |   28 +++++++++++++++++-----------
 1 file changed, 17 insertions(+), 11 deletions(-)

commit 59c4290
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sun Feb 23 17:39:23 2003 +0000

    Fix handling of all non-RLE-compressed tga formats we supposedly support. Now
    we work even if the first pixel isn't in lower left. ;)
    Handling the RLE-compressed oddball cases would require a lot more code
    duplication, will brute force that later if nobody beats me to it with a clean
    solution.

 libs/util/tga.c |  125 +++++++++++++++++++++++++++++++++++++++++++++++++++----
 1 file changed, 117 insertions(+), 8 deletions(-)

commit fe8161c
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Sun Feb 23 05:10:14 2003 +0000

    Might as well spell check what I have so far...

 doc/gib/GIB.lyx |   14 +++++++-------
 1 file changed, 7 insertions(+), 7 deletions(-)

commit e338dd4
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Sun Feb 23 05:08:15 2003 +0000

    Finished up the section on flow control and outlined the section on
    functions.  Added example script output to figures.

 doc/gib/GIB.lyx      |  335 +++++++++++++++++++++++++++++++++++++++++++++++++-
 doc/gib/break.gib    |    8 ++
 doc/gib/continue.gib |    6 +
 doc/gib/examples.sh  |   10 ++
 doc/gib/for.gib      |    3 +
 5 files changed, 357 insertions(+), 5 deletions(-)

commit d85639d
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Sun Feb 23 03:20:53 2003 +0000

    Added more to the GIB docs.

 doc/gib/GIB.lyx       |  459 +++++++++++++++++++++++++++++++++++++++++++++++--
 doc/gib/if-chain.gib  |    7 +
 doc/gib/if-else.gib   |    5 +
 doc/gib/if-simple.gib |    3 +
 doc/gib/while.gib     |    5 +
 5 files changed, 469 insertions(+), 10 deletions(-)

commit c026e61
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Feb 22 23:23:16 2003 +0000

    make LittleLong and co defines rather than function pointers

 include/QF/qendian.h |   22 +++++++++++++++-------
 libs/util/qendian.c  |   12 ------------
 2 files changed, 15 insertions(+), 19 deletions(-)

commit 599ae15
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Feb 22 22:38:55 2003 +0000

    give the hash functions more unique names

 tools/qfcc/source/qc-parse.y |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 5acf0bb
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Sat Feb 22 07:19:51 2003 +0000

    Fixed a bug in the 'contains' GIB builtin and added more to the GIB docs.

 doc/gib/GIB.lyx        |  262 +++++++++++++++++++++++++++++++++++++++++++++++-
 libs/gib/gib_builtin.c |    4 +-
 2 files changed, 261 insertions(+), 5 deletions(-)

commit 5d634d6
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Fri Feb 21 23:48:35 2003 +0000

    Wrote some more of the GIB docs.  Writing this stuff is brutal.

 doc/gib/GIB.lyx |  236 +++++++++++++++++++++++++++++++++++++++++++++----------
 1 file changed, 193 insertions(+), 43 deletions(-)

commit af44b12
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Feb 21 22:31:40 2003 +0000

    don't store pointers to defs in the hash table as the defs can move around
    due to realloc. can now link large progs

 tools/qfcc/source/linker.c |   98 ++++++++++++++++++++++++++++++--------------
 1 file changed, 68 insertions(+), 30 deletions(-)

commit 132bd4a
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Feb 21 22:30:49 2003 +0000

    remove some incorrect comments

 tools/qfcc/source/options.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 00b3083
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Fri Feb 21 21:33:36 2003 +0000

    Added the beginnings of GIB documentation.

 doc/gib/GIB.lyx      |  910 ++++++++++++++++++++++++++++++++++++++++
 doc/gib/curly.gib    |    5 +
 doc/gib/gib_head.eps | 1117 ++++++++++++++++++++++++++++++++++++++++++++++++++
 3 files changed, 2032 insertions(+)

commit 72e5221
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Feb 21 15:09:02 2003 +0000

    minor debugging tweaks

 libs/gamecode/engine/pr_debug.c |    4 ++--
 libs/gamecode/engine/pr_edict.c |    3 ++-
 2 files changed, 4 insertions(+), 3 deletions(-)

commit 6805d47
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Feb 21 02:37:44 2003 +0000

    improve Hash_Free's docs

 include/QF/hash.h |    6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit 152538b
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Feb 20 20:33:03 2003 +0000

    zap the Cmd_Return stuff as that's dead and burried

 libs/gamecode/builtins/bi_cmd.c |    7 -------
 1 file changed, 7 deletions(-)

commit bb5f5e0
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 19 21:41:37 2003 +0000

    fix a couple of gcc 2.95 warnings

 libs/models/brush/gl_model_brush.c |    6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit e3ea39e
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Wed Feb 19 17:41:16 2003 +0000

    QuakeForge now supports map specific textures in `textures/mapname/`.

 libs/models/brush/gl_model_brush.c |   34 ++++++++++++++++++++++------------
 1 file changed, 22 insertions(+), 12 deletions(-)

commit d93fcee
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 19 17:39:21 2003 +0000

    fix a snafu in SVC_DirectConnect related to info strings, make
    Info_ParseString take (and pass on to Info_SetValueForStarKey) a flags arg
    and simplify the flags handing in Info_SetValueForStarKey.

 include/QF/info.h    |    2 +-
 libs/util/info.c     |   26 ++++++++++++--------------
 qw/source/cl_main.c  |    8 ++++----
 qw/source/cl_parse.c |    4 ++--
 qw/source/cl_slist.c |    2 +-
 qw/source/sv_main.c  |   19 +++++--------------
 6 files changed, 25 insertions(+), 36 deletions(-)

commit b6a3bc8
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 19 06:26:49 2003 +0000

    try to give line numbers in the traceback

 libs/gamecode/engine/pr_debug.c |   29 ++++++++++++++++++++++++++---
 1 file changed, 26 insertions(+), 3 deletions(-)

commit a53dba9
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 18 20:09:13 2003 +0000

    hopefully silence some versions of which

 bootstrap |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 5b79b75
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Tue Feb 18 20:08:05 2003 +0000

    Updates to the Ruamoko manual, still very much in progress.

 tools/qfcc/doc/hello.r         |    8 +
 tools/qfcc/doc/hello2.r        |   10 +
 tools/qfcc/doc/qfcc-output.txt |   10 +
 tools/qfcc/doc/qfcc.lyx        | 1738 ++++++++++++++++++++++++++++++++--------
 tools/qfcc/doc/radians.r       |   23 +
 5 files changed, 1468 insertions(+), 321 deletions(-)

commit 03505e8
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 18 17:25:58 2003 +0000

    add the gib scripts to the distribution tarball

 doc/Makefile.am |    3 +++
 1 file changed, 3 insertions(+)

commit a9fa6c0
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Mon Feb 17 20:33:56 2003 +0000

    Remove some stupid hacks so that negation works again.

 libs/gib/exp.c |   10 +++-------
 1 file changed, 3 insertions(+), 7 deletions(-)

commit 00d71f1
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Mon Feb 17 08:55:40 2003 +0000

    Make %var expansion actually work.

 libs/gib/gib_parse.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 7eb2e42
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Sun Feb 16 22:43:06 2003 +0000

    Made QFS_NextFilename use Qexpand_squiggle on fs_userpath so screenshots
    are saved to sequential filenames correctly.  This might be temporary if
    taniwha has a better way of handling squiggle expansion in QFS in mind.

 libs/util/quakefs.c |    7 ++++---
 1 file changed, 4 insertions(+), 3 deletions(-)

commit f6da3ba
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Sun Feb 16 21:27:18 2003 +0000

    Temporarily fixed GIB filesystem access until I can work out a system that
    better meshes with the new QFS.  Fixed up some GIB scripts a bit.

 doc/config/gib/infobot.gib |    4 ++--
 doc/config/gib/sshot.gib   |    9 ++++-----
 libs/gib/gib_builtin.c     |    9 +++++----
 3 files changed, 11 insertions(+), 11 deletions(-)

commit 8f8d866
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Sun Feb 16 20:16:22 2003 +0000

    Oops, forget this.

 qw/source/sv_gib.c |  113 ++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 113 insertions(+)

commit af165dc
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Sun Feb 16 19:54:41 2003 +0000

    Added an extensible server-side infobot written in GIB.

 doc/config/gib/infobot.gib |  142 ++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 142 insertions(+)

commit 760210d
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Sun Feb 16 19:46:34 2003 +0000

    GIB:  Many bugfixes and cleanups.  Added bitwise math operations, expansion
    of leaf names in a stem variable via %var, the builtin functions 'count'
    and 'contains', and an initial interface between qw-server and GIB to allow
    querying of clients and their info strings.  Also cleaned up the chat event
    interface a bit.  Renamed a few builtins.

 include/QF/gib_builtin.h |    1 +
 include/QF/gib_tree.h    |    2 +-
 include/ops.h            |    4 +++
 libs/gib/exp.c           |    4 +++
 libs/gib/gib_builtin.c   |   37 ++++++++++++++++----
 libs/gib/gib_execute.c   |   86 +++++++++++++++++++++++++++-------------------
 libs/gib/gib_function.c  |    4 +--
 libs/gib/gib_parse.c     |    2 +-
 libs/gib/gib_vars.c      |   34 +++++++++++-------
 libs/gib/ops.c           |   23 +++++++++++++
 qw/include/server.h      |    1 +
 qw/source/Makefile.am    |    2 +-
 qw/source/sv_main.c      |    3 +-
 qw/source/sv_user.c      |   17 +++++----
 14 files changed, 151 insertions(+), 69 deletions(-)

commit af520a3
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Sun Feb 16 02:44:24 2003 +0000

    More cleanups and bug fixes.  Added stem-and-leaf variables back in and
    added the global::delete builtin.

 include/QF/gib_thread.h |    1 -
 include/QF/gib_vars.h   |    6 +-
 libs/gib/gib_buffer.c   |    1 +
 libs/gib/gib_builtin.c  |   60 +++++++++++-----
 libs/gib/gib_execute.c  |   23 +++---
 libs/gib/gib_function.c |    8 +--
 libs/gib/gib_process.c  |   94 +++++--------------------
 libs/gib/gib_thread.c   |    7 +-
 libs/gib/gib_vars.c     |  180 +++++++++++++++++++++++++++++++++++------------
 9 files changed, 218 insertions(+), 162 deletions(-)

commit d626575
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Sat Feb 15 21:26:15 2003 +0000

    Fixed use of a dstring without allocating one.

 qw/source/cl_parse.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit fc37941
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Sat Feb 15 02:27:25 2003 +0000

    Tidied up some Sys_Printf()s that indent mangled.

 libs/gib/gib_buffer.c |   61 +++++++++++++++++++++++++++++--------------------
 1 file changed, 36 insertions(+), 25 deletions(-)

commit a98d4c5
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Feb 15 00:05:22 2003 +0000

    first stab at configurable downloads

 qw/source/cl_parse.c |   34 ++++++++++++++++++++++++----------
 1 file changed, 24 insertions(+), 10 deletions(-)

commit c91137e
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Feb 14 22:42:11 2003 +0000

    run gib through indent

 libs/gib/exp.c          |  354 +++++++++++++++++----------------
 libs/gib/gib_buffer.c   |  138 ++++++-------
 libs/gib/gib_builtin.c  |  499 ++++++++++++++++++++++++++---------------------
 libs/gib/gib_execute.c  |  120 +++++++-----
 libs/gib/gib_function.c |   55 +++---
 libs/gib/gib_init.c     |   30 +--
 libs/gib/gib_parse.c    |  203 +++++++++++--------
 libs/gib/gib_process.c  |  125 +++++++-----
 libs/gib/gib_regex.c    |   64 +++---
 libs/gib/gib_thread.c   |   57 +++---
 libs/gib/gib_tree.c     |   21 +-
 libs/gib/gib_vars.c     |   80 ++++----
 libs/gib/ops.c          |    2 +-
 13 files changed, 974 insertions(+), 774 deletions(-)

commit 851d203
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Feb 14 22:36:10 2003 +0000

    work towards a more secure qfs

 include/QF/quakefs.h               |   15 +++--
 libs/console/client.c              |   13 ++--
 libs/gamecode/builtins/bi_file.c   |    4 +-
 libs/gib/gib_builtin.c             |    4 +-
 libs/models/alias/gl_mesh.c        |   10 +--
 libs/util/quakefs.c                |  122 +++++++++++++++++++++++++-----------
 libs/video/targets/vid_common_gl.c |    5 +-
 nq/source/cl_demo.c                |    7 +--
 nq/source/host.c                   |    4 +-
 nq/source/host_cmd.c               |    7 ++-
 qw/source/cl_demo.c                |   15 +++--
 qw/source/cl_main.c                |   11 ++--
 qw/source/cl_parse.c               |   36 +++++------
 qw/source/crudefile.c              |   45 +++++--------
 qw/source/game.c                   |    2 +-
 qw/source/sv_ccmds.c               |   22 ++-----
 qw/source/sv_demo.c                |   32 +++++-----
 qw/source/sv_main.c                |    3 +-
 qw/source/teamplay.c               |    3 +-
 19 files changed, 193 insertions(+), 167 deletions(-)

commit 68d2167
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Feb 14 20:36:15 2003 +0000

    fix a sequence point issue that could cause index to be put on the stack
    before being initialized

 libs/gib/gib_execute.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 6a687f5
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Feb 14 19:46:07 2003 +0000

    rename all the globals in quakefs.[ch] to be QFS_* or qfs_*

 include/QF/quakefs.h                  |   51 ++++-----
 libs/audio/renderer/snd_mem.c         |    8 +-
 libs/console/client.c                 |   11 +-
 libs/console/filelist.c               |    2 +-
 libs/console/menu.c                   |    4 +-
 libs/gamecode/builtins/bi_file.c      |    4 +-
 libs/gamecode/engine/pr_debug.c       |    4 +-
 libs/gamecode/engine/pr_load.c        |   10 +-
 libs/gib/gib_builtin.c                |    2 +-
 libs/gib/gib_init.c                   |    2 +-
 libs/models/alias/gl_mesh.c           |    8 +-
 libs/models/alias/gl_model_alias.c    |    2 +-
 libs/models/alias/model_alias.c       |    4 +-
 libs/models/brush/gl_model_brush.c    |    8 +-
 libs/models/model.c                   |    4 +-
 libs/models/sprite/gl_model_sprite.c  |    2 +-
 libs/util/cmd.c                       |    4 +-
 libs/util/pcx.c                       |    6 +-
 libs/util/quakefs.c                   |  202 +++++++++++++++++----------------
 libs/util/sys.c                       |    2 +-
 libs/util/tga.c                       |    6 +-
 libs/util/wad.c                       |    2 +-
 libs/video/renderer/gl/gl_draw.c      |    6 +-
 libs/video/renderer/gl/gl_dyn_part.c  |    2 +-
 libs/video/renderer/gl/gl_rmisc.c     |   12 +-
 libs/video/renderer/gl/gl_screen.c    |    2 +-
 libs/video/renderer/gl/gl_sky.c       |    4 +-
 libs/video/renderer/sw/draw.c         |    2 +-
 libs/video/renderer/sw/screen.c       |    4 +-
 libs/video/renderer/sw/sw_rpart.c     |    2 +-
 libs/video/renderer/sw32/draw.c       |    2 +-
 libs/video/renderer/sw32/screen.c     |    2 +-
 libs/video/renderer/sw32/sw32_rpart.c |    2 +-
 libs/video/targets/vid_common_gl.c    |    6 +-
 nq/source/cl_demo.c                   |   10 +-
 nq/source/cl_parse.c                  |    4 +-
 nq/source/com.c                       |    3 +-
 nq/source/game.c                      |    6 +-
 nq/source/host.c                      |    8 +-
 nq/source/host_cmd.c                  |   10 +-
 nq/source/locs.c                      |    4 +-
 nq/source/skin.c                      |    6 +-
 qw/source/cl_demo.c                   |   20 ++--
 qw/source/cl_main.c                   |   14 +--
 qw/source/cl_parse.c                  |   24 ++--
 qw/source/cl_skin.c                   |    2 +-
 qw/source/com.c                       |    4 +-
 qw/source/crudefile.c                 |   10 +-
 qw/source/game.c                      |    4 +-
 qw/source/locs.c                      |    4 +-
 qw/source/skin.c                      |    6 +-
 qw/source/sv_ccmds.c                  |   12 +-
 qw/source/sv_demo.c                   |   44 +++----
 qw/source/sv_init.c                   |    4 +-
 qw/source/sv_main.c                   |    2 +-
 qw/source/sv_user.c                   |    2 +-
 qw/source/teamplay.c                  |    2 +-
 tools/qfbsp/source/options.c          |    2 +-
 tools/qfbsp/source/qfbsp.c            |    6 +-
 tools/qflight/source/qflight.c        |    4 +-
 tools/qfvis/source/qfvis.c            |    6 +-
 61 files changed, 308 insertions(+), 309 deletions(-)

commit a710e80
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Feb 14 19:07:15 2003 +0000

    d'oh, forgot to include qfile.h

 ruamoko/include/Makefile.am |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit fd76361
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Feb 14 18:17:17 2003 +0000

    implement a proper (and optionally secure) QFile interace for ruamoko.

 include/QF/csqc.h                  |   10 ++
 libs/console/menu.c                |    1 +
 libs/gamecode/builtins/Makefile.am |    2 +-
 libs/gamecode/builtins/bi_file.c   |   39 +----
 libs/gamecode/builtins/bi_qfile.c  |  318 ++++++++++++++++++++++++++++++++++++
 ruamoko/cl_menu/client_menu.qc     |    8 +-
 ruamoko/include/file.h             |    7 +-
 ruamoko/include/qfile.h            |   24 +++
 ruamoko/lib/Makefile.am            |    4 +-
 ruamoko/lib/file.r                 |    4 +-
 ruamoko/lib/qfile.r                |   18 ++
 11 files changed, 382 insertions(+), 53 deletions(-)

commit 9d3d4e0
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Fri Feb 14 08:36:39 2003 +0000

    Updated the header to zoom.gib, removed cb.gib pending a rewrite for the
    new version of GIB, and added two scripts from alphageek.

 doc/config/gib/adjustvolume.gib |   58 +++++++++++++
 doc/config/gib/cb.gib           |  182 ---------------------------------------
 doc/config/gib/sshot.gib        |   91 ++++++++++++++++++++
 doc/config/gib/zoom.gib         |    6 +-
 4 files changed, 153 insertions(+), 184 deletions(-)

commit 3c522a8
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Fri Feb 14 08:06:01 2003 +0000

    Various cleanups and bugfixes.  Added proper line number reporting to
    errors.  A few new builtin functions, such as slice::find and thread::list.

 include/QF/cbuf.h         |    8 ++-
 include/QF/cmd.h          |    2 +-
 include/QF/gib_buffer.h   |   14 ++++
 include/QF/gib_builtin.h  |    5 +-
 include/QF/gib_function.h |    4 +-
 include/QF/gib_parse.h    |    6 +-
 include/QF/gib_thread.h   |    3 +
 include/QF/gib_tree.h     |   27 +++++---
 libs/console/client.c     |    9 +--
 libs/gib/gib_buffer.c     |  131 +++++++++++++++++++++++++++++++----
 libs/gib/gib_builtin.c    |  165 +++++++++++++++++++++++++++------------------
 libs/gib/gib_execute.c    |   14 ++--
 libs/gib/gib_function.c   |   27 ++++++--
 libs/gib/gib_init.c       |   16 +++--
 libs/gib/gib_parse.c      |   90 ++++++++++++++++++-------
 libs/gib/gib_process.c    |   10 +--
 libs/gib/gib_thread.c     |    7 +-
 libs/gib/gib_tree.c       |   28 ++++++--
 libs/util/cbuf.c          |   60 +++++++----------
 libs/util/cmd.c           |   12 ++--
 libs/util/idparse.c       |    8 +++
 libs/video/targets/keys.c |    9 +--
 qw/source/teamplay.c      |    4 +-
 tools/carne/main.c        |   14 +++-
 24 files changed, 456 insertions(+), 217 deletions(-)

commit 2cb4c78
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Fri Feb 14 02:21:31 2003 +0000

    Remove dead cvar.

 include/QF/joystick.h |    1 -
 1 file changed, 1 deletion(-)

commit a34980e
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Fri Feb 14 00:58:22 2003 +0000

    Fix easter_egg toggling.

 libs/video/renderer/gl/gl_dyn_part.c |   17 +++++------------
 1 file changed, 5 insertions(+), 12 deletions(-)

commit 6d6fade
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Thu Feb 13 21:48:28 2003 +0000

    Change mach64 test to only happen at particle system inits, rather than testing for every individual particle injection.
    Mach64 now gets id particle effects. Disabling the majority of effects isn't the best method, IMO.

 libs/video/renderer/gl/gl_dyn_part.c |   40 +++++++++++++++++++---------------
 1 file changed, 22 insertions(+), 18 deletions(-)

commit ed02b5b
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Thu Feb 13 19:07:33 2003 +0000

    Ignore *.sym.gz

 ruamoko/game/.gitignore |    1 +
 1 file changed, 1 insertion(+)

commit d655347
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Thu Feb 13 19:06:27 2003 +0000

    Ignore *.dat.gz

 ruamoko/game/.gitignore |    1 +
 1 file changed, 1 insertion(+)

commit 911933c
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Thu Feb 13 19:04:08 2003 +0000

    *punts cvs*

 include/QF/input.h |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 646f875
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Thu Feb 13 19:03:48 2003 +0000

    Add return value checking for in_grab. Also some dead code removal, dangling comment and white space cleanup.

 libs/video/targets/context_sdl.c |    3 +++
 libs/video/targets/context_x11.c |   33 +++++++--------------------------
 libs/video/targets/in_common.c   |   14 ++++++--------
 libs/video/targets/in_fbdev.c    |    6 ++++--
 libs/video/targets/in_sdl.c      |    8 ++++----
 libs/video/targets/in_svgalib.c  |    6 ++++--
 libs/video/targets/in_win.c      |    6 ++++--
 libs/video/targets/in_x11.c      |   11 ++++++-----
 8 files changed, 38 insertions(+), 49 deletions(-)

commit 53d3252
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Feb 13 18:24:30 2003 +0000

    don't adjust the system gamma unless the window has focus. also quench an
    internal warning (the event system can't handle shm events (doesn't seem to
    need to anyway)).

 include/QF/vid.h                 |    1 +
 include/context_x11.h            |    1 +
 libs/video/targets/context_x11.c |    6 ++++--
 libs/video/targets/in_x11.c      |    4 ++++
 libs/video/targets/vid_x11.c     |    6 +++---
 5 files changed, 13 insertions(+), 5 deletions(-)

commit 1f04776
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Thu Feb 13 00:06:24 2003 +0000

    Mostly whitespace.

 hw/source/master.c |   10 ++--------
 1 file changed, 2 insertions(+), 8 deletions(-)

commit 6466f44
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Wed Feb 12 23:56:29 2003 +0000

    x86-64 fix from Mike A. Harris.

 hw/source/master.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit af33733
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Wed Feb 12 23:41:20 2003 +0000

    More x86-64 (AMD, not intel IA64, taniwha!) fixes.
    Compile problems pointed out by Mike A. Harris. Thanks!

 libs/video/renderer/sw/fpu.c      |    2 ++
 libs/video/renderer/sw/nonintel.c |    4 +---
 2 files changed, 3 insertions(+), 3 deletions(-)

commit aaa6c2a
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 12 23:29:16 2003 +0000

    fix some warnings picked up by ia-64

 libs/util/quakefs.c |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 55d61f4
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 12 22:51:14 2003 +0000

    put the plugins back into ${libdir}/quakeforge ('twas a mis-understanding)

 RPM/quakeforge.spec.in |   15 ++++++++-------
 configure.ac           |    4 ++--
 2 files changed, 10 insertions(+), 9 deletions(-)

commit 1051b8c
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 12 20:08:55 2003 +0000

    missed a net.h -> netmain.h

 include/netchan.h      |    2 +-
 include/netmain.h      |    2 +-
 libs/net/nm/net_wins.c |    2 +-
 3 files changed, 3 insertions(+), 3 deletions(-)

commit 8ff653a
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 12 19:41:44 2003 +0000

    forgot to clean up the net headers

 hw/source/master.c     |    4 ----
 nq/include/Makefile.am |    3 +--
 qw/include/Makefile.am |    2 +-
 3 files changed, 2 insertions(+), 7 deletions(-)

commit 84f90f9
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 12 18:36:14 2003 +0000

    more cleanup

 hw/source/master.c |   40 ++++++++++++++++++++--------------------
 1 file changed, 20 insertions(+), 20 deletions(-)

commit 7e968f0
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 12 17:46:48 2003 +0000

    fix up unknown packet output

 hw/source/master.c |   58 +++++++++++++++++++++-------------------------------
 1 file changed, 23 insertions(+), 35 deletions(-)

commit 5c6b3c1
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 12 17:15:03 2003 +0000

    various cleanups

 hw/include/Makefile.am |    3 +-
 hw/include/defs.h      |  114 ----------------------
 hw/source/master.c     |  254 ++++++++++++++++++++++++------------------------
 3 files changed, 130 insertions(+), 241 deletions(-)

commit aee559c
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 12 15:38:39 2003 +0000

    don't ask for the qw and nq net libs :P

 configure.ac |   48 ++++++++++++++++++++++++------------------------
 1 file changed, 24 insertions(+), 24 deletions(-)

commit 3fbb55f
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Wed Feb 12 06:53:38 2003 +0000

    More variable declares in the middle of functions. gcc 2.95 does not seem to like this at all...

 hw/source/master.c |    5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

commit 872c2f5
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Wed Feb 12 06:24:30 2003 +0000

    Attempt to fix alphageek's compile problem, and clean up other horrors.

 hw/source/master.c |   82 ++++++++++++++++++----------------------------------
 1 file changed, 28 insertions(+), 54 deletions(-)

commit e74d05c
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 12 04:48:45 2003 +0000

    oops, didn't mean to link hw-master staticly

 hw/source/Makefile.am |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit cd448e1
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 12 02:39:24 2003 +0000

    initialize the cmd and cvar stuff properly (hey, look, pretty console with
    +set sv_use_curses 1:)

 hw/source/master.c |  130 +++++++++++++++++++++++++++++-----------------------
 1 file changed, 72 insertions(+), 58 deletions(-)

commit 21d8b4f
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 11 22:48:57 2003 +0000

    link in hw, move the qw and nq networking code into libs/net and make
    hw-master use libnetchan. there are evil include hacks that will need to be
    taken care of in net*.[ch]

 Makefile.am               |    2 +-
 configure.ac              |   10 +
 hw/source/Makefile.am     |    2 +-
 hw/source/master.c        |    2 +-
 include/Makefile.am       |    9 +-
 include/net_dgrm.h        |   42 ++
 include/net_loop.h        |   48 ++
 include/net_udp.h         |   53 ++
 include/net_vcr.h         |   45 ++
 include/net_wins.h        |   60 ++
 include/netchan.h         |  170 ++++++
 include/netmain.h         |  344 +++++++++++
 libs/Makefile.am          |    2 +-
 libs/net/.gitignore       |    7 +
 libs/net/Makefile.am      |   17 +
 libs/net/nc/.gitignore    |    7 +
 libs/net/nc/Makefile.am   |   17 +
 libs/net/nc/net_udp.c     |  433 ++++++++++++++
 libs/net/nc/net_udp6.c    |  561 ++++++++++++++++++
 libs/net/net_chan.c       |  432 ++++++++++++++
 libs/net/net_main.c       |  989 +++++++++++++++++++++++++++++++
 libs/net/nm/.gitignore    |    7 +
 libs/net/nm/Makefile.am   |   18 +
 libs/net/nm/net_bsd.c     |  101 ++++
 libs/net/nm/net_dgrm.c    | 1444 +++++++++++++++++++++++++++++++++++++++++++++
 libs/net/nm/net_loop.c    |  275 +++++++++
 libs/net/nm/net_udp.c     |  486 +++++++++++++++
 libs/net/nm/net_vcr.c     |  196 ++++++
 libs/net/nm/net_win.c     |  101 ++++
 libs/net/nm/net_wins.c    |  616 +++++++++++++++++++
 nq/include/client.h       |    2 +-
 nq/include/net.h          |  344 -----------
 nq/include/net_dgrm.h     |   42 --
 nq/include/net_loop.h     |   48 --
 nq/include/net_udp.h      |   53 --
 nq/include/net_vcr.h      |   45 --
 nq/include/net_wins.h     |   60 --
 nq/include/server.h       |    2 +-
 nq/source/Makefile.am     |   18 +-
 nq/source/net_bsd.c       |  101 ----
 nq/source/net_dgrm.c      | 1443 --------------------------------------------
 nq/source/net_loop.c      |  274 ---------
 nq/source/net_main.c      |  988 -------------------------------
 nq/source/net_udp.c       |  486 ---------------
 nq/source/net_vcr.c       |  195 ------
 nq/source/net_win.c       |  101 ----
 nq/source/net_wins.c      |  616 -------------------
 qw/include/client.h       |    2 +-
 qw/include/net.h          |  170 ------
 qw/include/server.h       |    2 +-
 qw/source/Makefile.am     |   21 +-
 qw/source/cl_main.c       |    2 +-
 qw/source/cl_sys_unix.c   |    2 +-
 qw/source/cl_sys_win.c    |    2 +-
 qw/source/msg_ucmd.c      |    2 +-
 qw/source/net_chan.c      |  431 --------------
 qw/source/net_packetlog.c |    2 +-
 qw/source/net_udp.c       |  433 --------------
 qw/source/net_udp6.c      |  561 ------------------
 qw/source/sv_main.c       |    2 +-
 60 files changed, 6507 insertions(+), 6439 deletions(-)

commit 4bd1718
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 11 21:24:27 2003 +0000

    re-arrange viewsize handling to fix the hud bug in glx

 include/QF/render.h                |    3 +++
 libs/video/renderer/gl/gl_screen.c |   34 +++++++++------------------------
 libs/video/renderer/r_cvar.c       |   18 +++++++++++++++++-
 libs/video/renderer/r_screen.c     |    9 ++++-----
 libs/video/renderer/sw/screen.c    |   34 +++++++--------------------------
 libs/video/renderer/sw32/screen.c  |   34 +++++++--------------------------
 nq/source/cl_main.c                |   11 -----------
 nq/source/sbar.c                   |   35 ++++++++++++++++++++++++++++++++++
 qw/source/cl_main.c                |   13 -------------
 qw/source/sbar.c                   |   37 +++++++++++++++++++++++++++++++++++-
 10 files changed, 118 insertions(+), 110 deletions(-)

commit eaa82b1
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 11 05:59:08 2003 +0000

    IPv6 compile fixes from doneill (slightly modded)

 qw/source/net_udp6.c |   13 +++++++------
 1 file changed, 7 insertions(+), 6 deletions(-)

commit f7d29ae
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 11 04:12:55 2003 +0000

    add alphageek's suggestion of "--without-tools" for server only build

 INSTALL |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 44985eb
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 10 22:09:33 2003 +0000

    fix a typo

 INSTALL |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit bc0eb9f
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 10 22:05:00 2003 +0000

    more obsolete network code nukage

 nq/include/Makefile.am |    7 +++----
 nq/include/net_bw.h    |   47 ------------------------------------------
 nq/include/net_ipx.h   |   47 ------------------------------------------
 nq/include/net_mp.h    |   47 ------------------------------------------
 nq/include/net_wipx.h  |   53 ------------------------------------------------
 nq/source/net_win.c    |   25 -----------------------
 6 files changed, 3 insertions(+), 223 deletions(-)

commit 408a9c7
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Mon Feb 10 22:00:38 2003 +0000

    Notes on how to build just the server, for the impatient.

 INSTALL |    5 +++++
 1 file changed, 5 insertions(+)

commit 80002a5
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 10 21:56:04 2003 +0000

    these aren't supported anymore (not as if they're /really/ gone)

 nq/source/Makefile.am |    3 +-
 nq/source/net_bw.c    |  795 -------------------------------------------------
 nq/source/net_dos.c   |  166 -----------
 nq/source/net_ipx.c   |  736 ---------------------------------------------
 nq/source/net_mp.c    |  480 -----------------------------
 nq/source/net_none.c  |   56 ----
 nq/source/net_wipx.c  |  471 -----------------------------
 7 files changed, 1 insertion(+), 2706 deletions(-)

commit f4fdbee
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 10 21:41:22 2003 +0000

    make the low level network code and packet logging less incentuous

 qw/include/net.h     |   41 ++++++++++++++++++++++++++++++++---------
 qw/source/cl_demo.c  |    2 +-
 qw/source/cl_main.c  |   10 +++++-----
 qw/source/cl_slist.c |   20 ++++++++++----------
 qw/source/net_chan.c |    8 ++++----
 qw/source/net_udp.c  |    5 -----
 qw/source/sv_ccmds.c |    2 +-
 qw/source/sv_main.c  |   16 ++++++++--------
 qw/source/sv_send.c  |    2 +-
 qw/source/sv_user.c  |    2 +-
 10 files changed, 63 insertions(+), 45 deletions(-)

commit ab7c310
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 10 21:39:38 2003 +0000

    link against the correct lib :P

 hw/source/Makefile.am |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit caa5579
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 10 21:10:28 2003 +0000

    don't need these any more

 hw/source/cmds.c     |  219 ---------------
 hw/source/net.c      |  736 --------------------------------------------------
 hw/source/net_test.c |  329 ----------------------
 hw/source/vars.c     |  105 -------
 4 files changed, 1389 deletions(-)

commit 920b5b2
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 10 21:09:54 2003 +0000

    cvs ignorage

 hw/.gitignore         |    3 +++
 hw/include/.gitignore |    3 +++
 hw/source/.gitignore  |   14 ++++++++++++++
 nq/.gitignore         |    9 +--------
 qw/.gitignore         |   12 ------------
 5 files changed, 21 insertions(+), 20 deletions(-)

commit ee56645
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 10 21:06:30 2003 +0000

    d'oh

 hw/source/master.c |  590 ++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 590 insertions(+)

commit 36c6768
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 10 21:06:03 2003 +0000

    "it compiles, but it's a dirty hack"

 hw/include/defs.h     |  113 +-----
 hw/source/Makefile.am |    4 +-
 hw/source/cmds.c      |  221 ++++++------
 hw/source/net.c       |  913 ++++++++++++++++++++++---------------------------
 hw/source/net_test.c  |  324 ++++++++----------
 hw/source/vars.c      |  100 +++---
 6 files changed, 708 insertions(+), 967 deletions(-)

commit 2dc7cba
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 10 21:04:50 2003 +0000

    remove a redundant prototype

 include/QF/msg.h |    1 -
 1 file changed, 1 deletion(-)

commit 6df2c96
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 10 21:04:08 2003 +0000

    white space

 qw/source/sv_main.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 5ca662a
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 10 19:31:45 2003 +0000

    put in the beginnings of my hw-master port. /NOT/ tied into the build yet
    so it won't affect 0.5.3 at all.

 hw/Makefile.am         |    4 +
 hw/include/Makefile.am |    5 +
 hw/include/defs.h      |  215 +++++++++++++
 hw/source/Makefile.am  |   47 +++
 hw/source/cmds.c       |  244 ++++++++++++++
 hw/source/net.c        |  825 ++++++++++++++++++++++++++++++++++++++++++++++++
 hw/source/net_test.c   |  365 +++++++++++++++++++++
 hw/source/vars.c       |  113 +++++++
 8 files changed, 1818 insertions(+)

commit d494be3
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 10 03:40:04 2003 +0000

    fix for id1 no longer being created automaticly

 RPM/quakeforge.spec.in |    1 +
 1 file changed, 1 insertion(+)

commit d86b431
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 10 03:19:54 2003 +0000

    fix a couple of warnings

 libs/video/targets/vid_sgl.c |   14 +++++++-------
 1 file changed, 7 insertions(+), 7 deletions(-)

commit 83f0901
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sun Feb 9 19:35:49 2003 +0000

    Cleaned up fisheye code which totally ignored QF coding style.
    Also attempt to fix an init bug in R_InitFishEyeOnce (add gl_cube_map_capable = false to else).

 libs/video/renderer/gl/gl_rmain.c |  112 ++++++++++++++++++++++---------------
 1 file changed, 66 insertions(+), 46 deletions(-)

commit 76eb791
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sun Feb 9 10:18:43 2003 +0000

    More whitespace.

 libs/video/targets/context_x11.c |    1 +
 1 file changed, 1 insertion(+)

commit 5466f33
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sun Feb 9 10:17:20 2003 +0000

    Whitespace, while I'm in the area...

 libs/video/targets/vid_3dfxsvga.c |    1 +
 1 file changed, 1 insertion(+)

commit 22641c4
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sun Feb 9 10:15:20 2003 +0000

    Make -sgl video mode selection much more robust. Particularly needs testing with voodoo 1 & 2, and on windows.
    If you have problems with input grabbing, try `+set vid_fullscreen 1` or `+set in_grab 1` on the command line.

 libs/video/targets/vid_sgl.c |   39 +++++++++++++++++++++++++++------------
 1 file changed, 27 insertions(+), 12 deletions(-)

commit 7d46e1c
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Feb 7 22:53:35 2003 +0000

    ditto

 RPM/quakeforge.spec.in |   14 +++++++-------
 1 file changed, 7 insertions(+), 7 deletions(-)

commit b141f2b
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Feb 7 22:52:17 2003 +0000

    move $fs_sharepath/QFplugins to  $fs_sharepath/QF/plugins

 configure.ac |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 74e5660
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Feb 7 22:03:03 2003 +0000

    merge in the changes on the release_0_5_2 branch in preparation for 0.5.3

 RPM/quakeforge.spec.in |    5 ++---
 debian/changelog       |    8 ++++++++
 debian/quakeforge.conf |    9 ++++-----
 3 files changed, 14 insertions(+), 8 deletions(-)

commit 1be25d5
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Feb 7 21:46:42 2003 +0000

    don't install game.dat but do gzip it

 ruamoko/game/Makefile.am |   16 ++++++++++++----
 1 file changed, 12 insertions(+), 4 deletions(-)

commit db0d67e
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Feb 7 21:46:17 2003 +0000

    include menu.dat in the packages. yay!

 RPM/quakeforge.spec.in |    1 +
 1 file changed, 1 insertion(+)

commit 137b568
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Feb 7 20:18:59 2003 +0000

    move menu.dat to its new home :)

 libs/util/quakefs.c         |    4 ++++
 ruamoko/cl_menu/Makefile.am |    2 +-
 2 files changed, 5 insertions(+), 1 deletion(-)

commit 3ab4eb6
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Feb 6 21:47:33 2003 +0000

    Arkadi's mach64 patch

 include/QF/GL/qf_vid.h                   |    2 ++
 libs/video/renderer/gl/gl_dyn_part.c     |    7 +++++--
 libs/video/renderer/gl/gl_dyn_textures.c |    8 +++++---
 libs/video/targets/vid_common_gl.c       |    5 +++++
 4 files changed, 17 insertions(+), 5 deletions(-)

commit c46b58f
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 5 05:16:51 2003 +0000

    fix an oopsie

 tools/qfbsp/source/outside.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c5f7138
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 5 05:06:14 2003 +0000

    emit clipnodes in the correct order

 tools/qfbsp/source/writebsp.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 7073afc
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 4 23:26:26 2003 +0000

    port in OQ's detail, hint and skip brush/texture enhancements

 tools/qfbsp/include/bsp5.h    |   10 ++++
 tools/qfbsp/include/map.h     |    1 +
 tools/qfbsp/source/brush.c    |    4 ++
 tools/qfbsp/source/csg4.c     |   19 +++++-
 tools/qfbsp/source/map.c      |   40 +++++++++++--
 tools/qfbsp/source/outside.c  |   72 +++++++++++++++++++++++
 tools/qfbsp/source/portals.c  |  113 +++++++++++++++++++++++++++++++++--
 tools/qfbsp/source/region.c   |    3 +
 tools/qfbsp/source/solidbsp.c |   72 +++++++++++++++++++----
 tools/qfbsp/source/surfaces.c |    3 +-
 tools/qfbsp/source/tjunc.c    |    5 +-
 tools/qfbsp/source/writebsp.c |    2 +
 tools/qfvis/include/vis.h     |   28 +++++----
 tools/qfvis/source/base-vis.c |   26 ++++-----
 tools/qfvis/source/flow.c     |   52 ++++++++---------
 tools/qfvis/source/qfvis.c    |  130 ++++++++++++++++++++++++++---------------
 tools/qfvis/source/soundphs.c |    8 +--
 17 files changed, 462 insertions(+), 126 deletions(-)

commit 2dd8a6c
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 4 18:19:57 2003 +0000

    grok quest's "map2" format (as well as the original)

 tools/qfbsp/source/map.c |   89 ++++++++++++++++++++++++++++++++++++++--------
 1 file changed, 75 insertions(+), 14 deletions(-)

commit 78a8e04
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 4 17:02:35 2003 +0000

    d'oh, wrong branch

 RPM/quakeforge.spec.in |    2 --
 1 file changed, 2 deletions(-)

commit 3ca0759
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 3 22:43:00 2003 +0000

    remove the null plugins from the packages (quakeforge-common.postinst might
    not be correct)

 debian/quakeforge-common.postinst |    2 +-
 debian/rules                      |    2 --
 2 files changed, 1 insertion(+), 3 deletions(-)

commit ab2aa3a
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 3 22:42:13 2003 +0000

    start merging in "map2" (quest) support

 tools/qfbsp/source/map.c |   46 ++++++++++++++++++++++++++++------------------
 1 file changed, 28 insertions(+), 18 deletions(-)

commit 06dc22a
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 3 16:05:53 2003 +0000

    make "wait" work again.

 libs/util/idparse.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 963fa8e
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Feb 2 04:54:40 2003 +0000

    fix non-vorbis compile

 libs/audio/renderer/vorbis.c |    2 ++
 1 file changed, 2 insertions(+)

commit 79322d6
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Feb 2 03:43:49 2003 +0000

    header stuff

 include/snd_render.h |   35 +++++++++++++++++++++++++++++++++++
 1 file changed, 35 insertions(+)

commit 3fcc6ae
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jan 31 23:16:28 2003 +0000

    a bit more cleanup with more _null deaths

 configure.ac                   |    8 +--
 libs/Makefile.am               |    2 +-
 libs/audio/cd.c                |    6 +-
 libs/audio/cd/Makefile.am      |    6 +-
 libs/audio/cd/cd_linux.c       |    3 +
 libs/audio/cd/cd_null.c        |  112 -------------------------------------
 libs/audio/cd/cd_sdl.c         |    4 ++
 libs/audio/cd/cd_sgi.c         |    3 +
 libs/audio/cd/cd_win.c         |    4 ++
 libs/audio/renderer/snd_dma.c  |    2 -
 libs/audio/snd.c               |    5 +-
 libs/audio/targets/Makefile.am |    7 +--
 libs/audio/targets/snd_null.c  |  119 ----------------------------------------
 13 files changed, 27 insertions(+), 254 deletions(-)

commit e6a6f70
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jan 31 22:34:47 2003 +0000

    don't need this any more

 libs/audio/renderer/snd_null.c |  210 ----------------------------------------
 1 file changed, 210 deletions(-)

commit 5870c2c
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Fri Jan 31 21:47:16 2003 +0000

    Nuked some code obsoleted by reference counting.

 include/QF/gib_tree.h |    2 +-
 libs/gib/gib_parse.c  |    9 ---------
 libs/gib/gib_tree.c   |   14 +++-----------
 3 files changed, 4 insertions(+), 21 deletions(-)

commit 05fb5f9
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jan 31 20:51:04 2003 +0000

    partial cleanup. more to come later :)

 include/Makefile.am               |    4 +-
 include/QF/sound.h                |  100 +------------------------------------
 include/snd_render.h              |   98 ++++++++++++++++++++++++++++++++++++
 libs/audio/renderer/snd_dma.c     |    5 ++
 libs/audio/renderer/snd_mem.c     |    2 +
 libs/audio/renderer/snd_mix.c     |    5 +-
 libs/audio/renderer/vorbis.c      |    1 +
 libs/audio/snd.c                  |    2 -
 libs/audio/targets/snd_alsa_0_5.c |    1 -
 libs/audio/targets/snd_alsa_0_9.c |    1 -
 libs/audio/targets/snd_disk.c     |    1 -
 11 files changed, 112 insertions(+), 108 deletions(-)

commit 48c3e5a
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Fri Jan 31 20:36:39 2003 +0000

    Fixed a stupid, stupid bug.

 libs/gib/gib_buffer.c |    2 --
 1 file changed, 2 deletions(-)

commit 93b767d
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jan 31 20:19:42 2003 +0000

    reduce the heavy pointer dereferencing needed to access the sound plugins

 libs/audio/renderer/snd_dma.c |   15 ++++----
 libs/audio/snd.c              |   76 ++++++++++++++++++++++-------------------
 2 files changed, 49 insertions(+), 42 deletions(-)

commit c103d77
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jan 31 19:55:21 2003 +0000

    make SND_ClearBuffer get called directly by Block/UnblockSound and remove
    S_ClearBuffer from the api

 include/QF/plugin/snd_render.h |    2 --
 include/QF/sound.h             |    1 -
 libs/audio/renderer/snd_dma.c  |    9 ++++++---
 libs/audio/snd.c               |    7 -------
 libs/video/targets/in_sdl.c    |    2 --
 libs/video/targets/in_win.c    |    2 --
 libs/video/targets/in_x11.c    |    2 --
 7 files changed, 6 insertions(+), 19 deletions(-)

commit 881e791
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jan 31 19:14:12 2003 +0000

    cut some overhead on sound rendering

 include/QF/plugin/snd_render.h |    1 +
 include/QF/sound.h             |   13 -----------
 libs/audio/renderer/snd_dma.c  |   12 +++++-----
 libs/audio/snd.c               |   48 +---------------------------------------
 4 files changed, 8 insertions(+), 66 deletions(-)

commit 570a724
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jan 31 18:19:55 2003 +0000

    patches from the FreeBSD ports that are still applicable

 libs/audio/renderer/Makefile.am  |    2 +-
 libs/video/targets/vid_svgalib.c |    6 ++++++
 2 files changed, 7 insertions(+), 1 deletion(-)

commit c788a2e
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jan 31 17:56:05 2003 +0000

    remove a redundant call to S_Init_Cvars and call S_ClearBuffer when sound
    is blocked and unblocked.

 libs/audio/snd.c            |    1 -
 libs/video/targets/in_sdl.c |    2 ++
 libs/video/targets/in_win.c |    2 ++
 libs/video/targets/in_x11.c |    2 ++
 4 files changed, 6 insertions(+), 1 deletion(-)

commit b0e6f46
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Fri Jan 31 05:22:20 2003 +0000

    GIB: Even more bugfixes.

 libs/gib/gib_builtin.c |    8 ++++----
 libs/gib/gib_execute.c |   13 ++++++++-----
 libs/gib/gib_parse.c   |    9 ++++++---
 3 files changed, 18 insertions(+), 12 deletions(-)

commit 92fc810
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jan 31 04:56:11 2003 +0000

    change the master timeout to 10 minutes. 5 is too tight as that's the
    heartbeat time on a server

 qw/source/master.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 3e693cb
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jan 31 04:51:35 2003 +0000

    change the default of sys_dead_sleep to 0

 libs/util/sys.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit bf3da64
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jan 31 04:49:31 2003 +0000

    flush the output each log call

 qw/source/master.c |    1 +
 1 file changed, 1 insertion(+)

commit fdb74e1
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jan 31 04:40:40 2003 +0000

    win32 doesn't like random

 libs/gib/gib_builtin.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit cd55334
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jan 31 04:11:06 2003 +0000

    give qw-master timestamped logging

 qw/source/master.c |   34 ++++++++++++++++++++++++++--------
 1 file changed, 26 insertions(+), 8 deletions(-)

commit 47d35f3
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Fri Jan 31 03:43:56 2003 +0000

    GIB: Added ifnot, fixed several bugs, updated zoom.gib yet again.

 doc/config/gib/zoom.gib |   12 ++++++------
 include/QF/gib_tree.h   |   19 +++++++++----------
 libs/gib/gib_builtin.c  |   14 ++++++++------
 libs/gib/gib_execute.c  |   22 +++++++++++++---------
 libs/gib/gib_parse.c    |    9 ++++-----
 5 files changed, 40 insertions(+), 36 deletions(-)

commit 783602e
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Fri Jan 31 01:42:56 2003 +0000

    D'oh!

 doc/config/gib/zoom.gib |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 748985b
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Fri Jan 31 00:12:04 2003 +0000

    Updated zoom.gib to work with the new version of GIB.

 doc/config/gib/zoom.gib |   78 +++++++++++++++++++++++++++--------------------
 1 file changed, 45 insertions(+), 33 deletions(-)

commit 580ca17
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Thu Jan 30 23:26:43 2003 +0000

    GIB:  Added proper reference counting on parse trees, got threads working
    again, added a few new builtins and renamed some others, made misc. fixes
    and enhancements.

 include/QF/gib_buffer.h   |    1 +
 include/QF/gib_function.h |    5 ++-
 include/QF/gib_thread.h   |    2 +-
 include/QF/gib_tree.h     |    5 +--
 libs/gib/gib_buffer.c     |   16 ++++++-
 libs/gib/gib_builtin.c    |  106 ++++++++++++++++++++-------------------------
 libs/gib/gib_execute.c    |    5 ++-
 libs/gib/gib_function.c   |   33 +++++++-------
 libs/gib/gib_parse.c      |    6 +--
 libs/gib/gib_thread.c     |   44 ++++++++++---------
 libs/gib/gib_tree.c       |   28 +++++-------
 tools/carne/main.c        |    2 +-
 12 files changed, 126 insertions(+), 127 deletions(-)

commit 4ee0c42
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Thu Jan 30 20:43:57 2003 +0000

    Made GIB var substitution use cvars as a last resort.

 libs/gib/gib_process.c |   13 +++++++++++--
 1 file changed, 11 insertions(+), 2 deletions(-)

commit b668134
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 30 20:31:44 2003 +0000

    reset the client's msecs when resetting the rest of the network stats

 qw/source/sv_user.c |    1 +
 1 file changed, 1 insertion(+)

commit 1f16e95
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 30 04:43:40 2003 +0000

    add gib_tree.h

 include/QF/Makefile.am |   12 ++++++------
 1 file changed, 6 insertions(+), 6 deletions(-)

commit 1568797
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Wed Jan 29 22:46:24 2003 +0000

    Fix a braino that caused COM_execute_sets to work improperly.

 libs/util/idparse.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 2d76671
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 29 22:29:37 2003 +0000

    detect multiple initializations of globals

 tools/qfcc/source/qc-parse.y |   10 +++++++---
 1 file changed, 7 insertions(+), 3 deletions(-)

commit 8a9cd78
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 29 20:32:44 2003 +0000

    fix up a couple of error cases (and catch them!)

 libs/gamecode/engine/pr_load.c |    2 +-
 tools/qfprogs/source/qfprogs.c |   12 ++++++++----
 2 files changed, 9 insertions(+), 5 deletions(-)

commit 1f5cabc
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Wed Jan 29 04:34:23 2003 +0000

    A few GIB bugfixes, cleanups, and enhancements.  Still more to come.

 include/QF/cbuf.h       |    8 ++---
 include/QF/gib_buffer.h |    3 +-
 include/QF/gib_vars.h   |    1 +
 libs/gib/gib_buffer.c   |   11 ------
 libs/gib/gib_builtin.c  |   86 ++++++++++++++++++++++++++++++++---------------
 libs/gib/gib_execute.c  |   59 +++++---------------------------
 libs/gib/gib_parse.c    |   13 ++++---
 libs/gib/gib_vars.c     |   28 +++++++++++++++
 libs/util/cbuf.c        |    5 +--
 libs/util/idparse.c     |    1 -
 10 files changed, 112 insertions(+), 103 deletions(-)

commit 06cd013
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Tue Jan 28 23:55:21 2003 +0000

    Fix for older compilers that only allow variables to be declared at the top
    of a program block.

 libs/gib/gib_parse.c |    3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit 1668dd5
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Tue Jan 28 22:37:34 2003 +0000

    Whoops, missed these.

 libs/video/targets/keys.c |    2 +-
 qw/source/teamplay.c      |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 979ee7b
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Tue Jan 28 21:31:55 2003 +0000

    Fix misleading comment and cvar documentation.

 libs/video/targets/in_common.c |    5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 59fbd48
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Tue Jan 28 21:16:21 2003 +0000

    Overhauled GIB to parse scripts in advance, among other design and language
    changes.  There still remains some bugs to be squashed, a feature or two to
    add, and some polishing to be done.  However, it seems to be in a workable
    state.

 include/QF/Makefile.am    |    2 +-
 include/QF/cbuf.h         |   17 +-
 include/QF/gib_buffer.h   |   47 ++-
 include/QF/gib_builtin.h  |   14 +-
 include/QF/gib_execute.h  |   33 ++
 include/QF/gib_function.h |   10 +-
 include/QF/gib_parse.h    |   10 +-
 include/QF/gib_process.h  |    6 +-
 include/QF/gib_tree.h     |   57 ++++
 include/QF/gib_vars.h     |   24 +-
 libs/console/client.c     |    2 +-
 libs/gib/Makefile.am      |    4 +-
 libs/gib/gib_buffer.c     |  115 ++++++-
 libs/gib/gib_builtin.c    |  426 +++++++++---------------
 libs/gib/gib_execute.c    |  264 +++++++++++++++
 libs/gib/gib_function.c   |   63 ++--
 libs/gib/gib_init.c       |    8 +-
 libs/gib/gib_parse.c      |  792 ++++++++++++++++++++++-----------------------
 libs/gib/gib_process.c    |  371 ++++++++-------------
 libs/gib/gib_thread.c     |    5 +-
 libs/gib/gib_tree.c       |   88 +++++
 libs/gib/gib_vars.c       |  214 +++++-------
 libs/util/cbuf.c          |   59 +---
 libs/util/idparse.c       |   97 ++++--
 tools/carne/main.c        |   17 +-
 25 files changed, 1522 insertions(+), 1223 deletions(-)

commit 26c06c0
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 27 23:14:07 2003 +0000

    s/__attribute/__attribute__/

 tools/qfbsp/include/bsp5.h |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ba12255
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 27 21:56:30 2003 +0000

    get the qfs variable substitution more-or-less working

 libs/util/quakefs.c |  229 +++++++++++++++++++++++++--------------------------
 1 file changed, 113 insertions(+), 116 deletions(-)

commit fd5695e
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 27 18:16:15 2003 +0000

    hash.[ch]:
    	add Hash_Free to ease freeing of hash table entries.
    quakefs.c:
    	beginnings of proper variable subtitution in qfs. not yet working but
    	it compiles.

 include/QF/hash.h   |    3 ++
 libs/util/hash.c    |    7 ++++
 libs/util/quakefs.c |   97 +++++++++++++++++++++++++++++++++++++++++++++++++++
 3 files changed, 107 insertions(+)

commit 55bec57
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 22 20:00:46 2003 +0000

    get -game working again (well enough for "nq-x11 -game slide" to work,
    anwyay:)

 libs/util/quakefs.c |   95 +++++++++++++++++++++++++++++++++++++++++++--------
 1 file changed, 80 insertions(+), 15 deletions(-)

commit 0ec386d
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 21 22:19:07 2003 +0000

    create the demo path `properly'

 qw/source/sv_demo.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 1342533
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 20 21:28:36 2003 +0000

    make the PF_Find search field error more informative

 libs/gamecode/builtins/pr_cmds.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c5eb7d6
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 16 21:44:42 2003 +0000

    bring back the screen saver code

 libs/video/targets/context_x11.c |   22 ++++++++++++++++++++++
 1 file changed, 22 insertions(+)

commit 341b6a1
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 16 16:11:28 2003 +0000

    this /should/ fix the windows server input problems. based on Timmmm's fix.

 libs/util/sys.c |    5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit d63cde4
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 15 18:26:58 2003 +0000

    import the GL_ARB_texture_cube_map defines

 include/QF/GL/extensions.h        |   16 ++++++++++++++++
 libs/video/renderer/gl/gl_rmain.c |    2 --
 2 files changed, 16 insertions(+), 2 deletions(-)

commit 205933b
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 15 17:09:08 2003 +0000

    it was the test that was wrong :P

 configure.ac |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit e8d8ac8
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 15 17:01:24 2003 +0000

    damn, had it right the first time

 configure.ac |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 5cc9bce
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 15 17:00:14 2003 +0000

    fix a braino left over from a previous itteration

 configure.ac |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 0ea15c3
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 15 16:53:34 2003 +0000

    sw and gl fisheye patches from Arkadi Shishlov (arkadi@it.lv). I don't
    think /I/ can play that way (dizzy:)

 include/QF/GL/qf_funcs_list.h     |   22 +--
 include/r_cvar.h                  |    3 +
 libs/video/renderer/gl/gl_rmain.c |  317 ++++++++++++++++++++++++++++++++++++-
 libs/video/renderer/r_cvar.c      |   32 +++-
 libs/video/renderer/sw/sw_rmain.c |  302 ++++++++++++++++++++++++++++++++++-
 5 files changed, 652 insertions(+), 24 deletions(-)

commit 761a754
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 15 15:31:36 2003 +0000

    re-arrange things so __attribute__ and __builtin_expect are properly
    autoconfiscated so rcsid will continue to work with gcc 3.3

 configure.ac                             |   30 ++++++++++++++++++++++
 doc/template.c                           |    6 ++---
 include/QF/Makefile.am                   |    2 +-
 include/QF/console.h                     |    1 -
 include/QF/dstring.h                     |    2 --
 include/QF/gcc_attr.h                    |   41 ------------------------------
 include/QF/quakeio.h                     |    2 --
 include/QF/sys.h                         |    2 --
 include/QF/tga.h                         |    1 -
 include/QF/va.h                          |    2 --
 include/qstring.h                        |    2 --
 libs/audio/cd.c                          |    8 +++---
 libs/audio/cd/cd_linux.c                 |    7 ++---
 libs/audio/cd/cd_null.c                  |    6 ++---
 libs/audio/cd/cd_sdl.c                   |    7 ++---
 libs/audio/cd/cd_sgi.c                   |    6 ++---
 libs/audio/cd/cd_win.c                   |    6 ++---
 libs/audio/cd/cd_xmms.c                  |    8 +++---
 libs/audio/renderer/snd_dma.c            |    7 ++---
 libs/audio/renderer/snd_mem.c            |    7 ++---
 libs/audio/renderer/snd_mix.c            |    7 ++---
 libs/audio/renderer/snd_null.c           |    6 ++---
 libs/audio/renderer/vorbis.c             |    7 ++---
 libs/audio/snd.c                         |    6 ++---
 libs/audio/targets/snd_alsa_0_5.c        |    7 ++---
 libs/audio/targets/snd_alsa_0_9.c        |    6 ++---
 libs/audio/targets/snd_disk.c            |    7 ++---
 libs/audio/targets/snd_mme.c             |    6 ++---
 libs/audio/targets/snd_null.c            |    6 ++---
 libs/audio/targets/snd_oss.c             |    7 ++---
 libs/audio/targets/snd_sdl.c             |    7 ++---
 libs/audio/targets/snd_sgi.c             |    5 ++--
 libs/audio/targets/snd_sun.c             |    7 ++---
 libs/audio/targets/snd_win.c             |    6 ++---
 libs/console/buffer.c                    |    6 ++---
 libs/console/client.c                    |    7 ++---
 libs/console/complete.c                  |    7 ++---
 libs/console/console.c                   |    6 ++---
 libs/console/filelist.c                  |    7 ++---
 libs/console/inputline.c                 |    7 ++---
 libs/console/list.c                      |    7 ++---
 libs/console/menu.c                      |    6 ++---
 libs/console/server.c                    |    7 ++---
 libs/gamecode/builtins/bi_cbuf.c         |    7 ++---
 libs/gamecode/builtins/bi_cmd.c          |    6 ++---
 libs/gamecode/builtins/bi_cvar.c         |    6 ++---
 libs/gamecode/builtins/bi_file.c         |    7 ++---
 libs/gamecode/builtins/bi_init.c         |    7 ++---
 libs/gamecode/builtins/bi_inputline.c    |    6 ++---
 libs/gamecode/builtins/bi_strhash.c      |    6 ++---
 libs/gamecode/builtins/bi_string.c       |    6 ++---
 libs/gamecode/builtins/pr_cmds.c         |    7 ++---
 libs/gamecode/engine/pr_builtins.c       |    7 ++---
 libs/gamecode/engine/pr_debug.c          |    7 ++---
 libs/gamecode/engine/pr_edict.c          |    7 ++---
 libs/gamecode/engine/pr_exec.c           |    7 ++---
 libs/gamecode/engine/pr_load.c           |    7 ++---
 libs/gamecode/engine/pr_obj.c            |    7 ++---
 libs/gamecode/engine/pr_opcode.c         |    7 ++---
 libs/gamecode/engine/pr_parse.c          |    7 ++---
 libs/gamecode/engine/pr_resolve.c        |    7 ++---
 libs/gamecode/engine/pr_resource.c       |    6 ++---
 libs/gamecode/engine/pr_strings.c        |    7 ++---
 libs/gamecode/engine/pr_zone.c           |    7 ++---
 libs/gib/gib_buffer.c                    |    6 ++---
 libs/gib/gib_builtin.c                   |    6 ++---
 libs/gib/gib_function.c                  |    6 ++---
 libs/gib/gib_init.c                      |    6 ++---
 libs/gib/gib_parse.c                     |    6 ++---
 libs/gib/gib_process.c                   |    6 ++---
 libs/gib/gib_regex.c                     |    6 ++---
 libs/gib/gib_thread.c                    |    6 ++---
 libs/gib/gib_vars.c                      |    6 ++---
 libs/models/alias/gl_mesh.c              |    7 ++---
 libs/models/alias/gl_model_alias.c       |    7 ++---
 libs/models/alias/model_alias.c          |    7 ++---
 libs/models/alias/sw_model_alias.c       |    7 ++---
 libs/models/brush/gl_model_brush.c       |    7 ++---
 libs/models/brush/model_brush.c          |    7 ++---
 libs/models/brush/sw_model_brush.c       |    7 ++---
 libs/models/clip_hull.c                  |    6 ++---
 libs/models/gl_model_fullbright.c        |    6 ++---
 libs/models/model.c                      |    7 ++---
 libs/models/sprite/gl_model_sprite.c     |    7 ++---
 libs/models/sprite/model_sprite.c        |    7 ++---
 libs/models/sprite/sw_model_sprite.c     |    6 ++---
 libs/util/bspfile.c                      |    7 ++---
 libs/util/buildnum.c                     |    7 ++---
 libs/util/cbuf.c                         |    7 ++---
 libs/util/checksum.c                     |    7 ++---
 libs/util/cmd.c                          |    7 ++---
 libs/util/crc.c                          |    6 ++---
 libs/util/cvar.c                         |    7 ++---
 libs/util/dirent.c                       |    6 ++---
 libs/util/dstring.c                      |    6 ++---
 libs/util/fendian.c                      |    6 ++---
 libs/util/fnmatch.c                      |    6 ++---
 libs/util/hash.c                         |    7 ++---
 libs/util/idparse.c                      |    6 ++---
 libs/util/info.c                         |    7 ++---
 libs/util/link.c                         |    6 ++---
 libs/util/mathlib.c                      |    7 ++---
 libs/util/mdfour.c                       |    7 ++---
 libs/util/msg.c                          |    7 ++---
 libs/util/pcx.c                          |    7 ++---
 libs/util/plugin.c                       |    7 ++---
 libs/util/qargs.c                        |    7 ++---
 libs/util/qendian.c                      |    6 ++---
 libs/util/qfplist.c                      |    6 ++---
 libs/util/quakefs.c                      |    7 ++---
 libs/util/quakeio.c                      |    7 ++---
 libs/util/sizebuf.c                      |    7 ++---
 libs/util/string.c                       |    6 ++---
 libs/util/sys.c                          |    6 +++--
 libs/util/tga.c                          |    7 ++---
 libs/util/va.c                           |    7 ++---
 libs/util/ver_check.c                    |    6 ++---
 libs/util/wad.c                          |    7 ++---
 libs/util/zone.c                         |    7 ++---
 libs/video/renderer/gl/gl_draw.c         |    7 ++---
 libs/video/renderer/gl/gl_dyn_lights.c   |    7 ++---
 libs/video/renderer/gl/gl_dyn_part.c     |    7 ++---
 libs/video/renderer/gl/gl_dyn_textures.c |    7 ++---
 libs/video/renderer/gl/gl_graph.c        |    7 ++---
 libs/video/renderer/gl/gl_lightmap.c     |    7 ++---
 libs/video/renderer/gl/gl_mod_alias.c    |    7 ++---
 libs/video/renderer/gl/gl_mod_sprite.c   |    6 ++---
 libs/video/renderer/gl/gl_rmain.c        |    7 ++---
 libs/video/renderer/gl/gl_rmisc.c        |    7 ++---
 libs/video/renderer/gl/gl_rsurf.c        |    7 ++---
 libs/video/renderer/gl/gl_screen.c       |    7 ++---
 libs/video/renderer/gl/gl_skin.c         |    7 ++---
 libs/video/renderer/gl/gl_sky.c          |    7 ++---
 libs/video/renderer/gl/gl_sky_clip.c     |    7 ++---
 libs/video/renderer/gl/gl_textures.c     |    7 ++---
 libs/video/renderer/gl/gl_warp.c         |    6 ++---
 libs/video/renderer/gl/noisetextures.c   |    7 ++---
 libs/video/renderer/r_cvar.c             |    6 ++---
 libs/video/renderer/r_efrag.c            |    6 ++---
 libs/video/renderer/r_ent.c              |    7 ++---
 libs/video/renderer/r_graph.c            |    6 ++---
 libs/video/renderer/r_light.c            |    7 ++---
 libs/video/renderer/r_main.c             |    7 ++---
 libs/video/renderer/r_part.c             |    6 ++---
 libs/video/renderer/r_progs.c            |    7 ++---
 libs/video/renderer/r_screen.c           |    7 ++---
 libs/video/renderer/sw/d_edge.c          |    6 ++---
 libs/video/renderer/sw/d_fill.c          |    6 ++---
 libs/video/renderer/sw/d_init.c          |    6 ++---
 libs/video/renderer/sw/d_modech.c        |    6 ++---
 libs/video/renderer/sw/d_part.c          |    6 ++---
 libs/video/renderer/sw/d_polyse.c        |    6 ++---
 libs/video/renderer/sw/d_scan.c          |    6 ++---
 libs/video/renderer/sw/d_sky.c           |    6 ++---
 libs/video/renderer/sw/d_sprite.c        |    6 ++---
 libs/video/renderer/sw/d_surf.c          |    6 ++---
 libs/video/renderer/sw/d_vars.c          |    6 ++---
 libs/video/renderer/sw/d_zpoint.c        |    6 ++---
 libs/video/renderer/sw/draw.c            |    7 ++---
 libs/video/renderer/sw/fpu.c             |    6 ++---
 libs/video/renderer/sw/nonintel.c        |    6 ++---
 libs/video/renderer/sw/screen.c          |    7 ++---
 libs/video/renderer/sw/sw_graph.c        |    6 ++---
 libs/video/renderer/sw/sw_raclip.c       |    6 ++---
 libs/video/renderer/sw/sw_ralias.c       |    6 ++---
 libs/video/renderer/sw/sw_rbsp.c         |    6 ++---
 libs/video/renderer/sw/sw_rdraw.c        |    6 ++---
 libs/video/renderer/sw/sw_redge.c        |    6 ++---
 libs/video/renderer/sw/sw_rmain.c        |    7 ++---
 libs/video/renderer/sw/sw_rmisc.c        |    6 ++---
 libs/video/renderer/sw/sw_rpart.c        |    6 ++---
 libs/video/renderer/sw/sw_rsky.c         |    6 ++---
 libs/video/renderer/sw/sw_rsprite.c      |    7 ++---
 libs/video/renderer/sw/sw_rsurf.c        |    6 ++---
 libs/video/renderer/sw/sw_skin.c         |    6 ++---
 libs/video/renderer/sw32/d_edge.c        |    6 ++---
 libs/video/renderer/sw32/d_fill.c        |    6 ++---
 libs/video/renderer/sw32/d_init.c        |    6 ++---
 libs/video/renderer/sw32/d_modech.c      |    6 ++---
 libs/video/renderer/sw32/d_part.c        |    6 ++---
 libs/video/renderer/sw32/d_polyse.c      |    6 ++---
 libs/video/renderer/sw32/d_scan.c        |    6 ++---
 libs/video/renderer/sw32/d_sky.c         |    6 ++---
 libs/video/renderer/sw32/d_sprite.c      |    6 ++---
 libs/video/renderer/sw32/d_surf.c        |    6 ++---
 libs/video/renderer/sw32/d_vars.c        |    6 ++---
 libs/video/renderer/sw32/d_zpoint.c      |    6 ++---
 libs/video/renderer/sw32/draw.c          |    7 ++---
 libs/video/renderer/sw32/screen.c        |    7 ++---
 libs/video/renderer/sw32/sw32_graph.c    |    6 ++---
 libs/video/renderer/sw32/sw32_raclip.c   |    6 ++---
 libs/video/renderer/sw32/sw32_ralias.c   |    6 ++---
 libs/video/renderer/sw32/sw32_rbsp.c     |    6 ++---
 libs/video/renderer/sw32/sw32_rdraw.c    |    6 ++---
 libs/video/renderer/sw32/sw32_redge.c    |    6 ++---
 libs/video/renderer/sw32/sw32_rmain.c    |    7 ++---
 libs/video/renderer/sw32/sw32_rmisc.c    |    6 ++---
 libs/video/renderer/sw32/sw32_rpart.c    |    6 ++---
 libs/video/renderer/sw32/sw32_rsky.c     |    7 ++---
 libs/video/renderer/sw32/sw32_rsprite.c  |    7 ++---
 libs/video/renderer/sw32/sw32_rsurf.c    |    6 ++---
 libs/video/renderer/sw32/sw32_skin.c     |    6 ++---
 libs/video/targets/context_sdl.c         |    7 ++---
 libs/video/targets/context_x11.c         |    7 ++---
 libs/video/targets/dga_check.c           |    6 ++---
 libs/video/targets/in_common.c           |    7 ++---
 libs/video/targets/in_event.c            |    7 ++---
 libs/video/targets/in_fbdev.c            |    7 ++---
 libs/video/targets/in_null.c             |    6 ++---
 libs/video/targets/in_sdl.c              |    6 ++---
 libs/video/targets/in_svgalib.c          |    7 ++---
 libs/video/targets/in_win.c              |    6 ++---
 libs/video/targets/in_x11.c              |    7 ++---
 libs/video/targets/joy.c                 |    6 ++---
 libs/video/targets/joy_linux.c           |    6 ++---
 libs/video/targets/joy_null.c            |    6 ++---
 libs/video/targets/joy_win.c             |    7 ++---
 libs/video/targets/keys.c                |    7 ++---
 libs/video/targets/old_keys.c            |    7 ++---
 libs/video/targets/pr_keys.c             |    6 ++---
 libs/video/targets/qfgl_ext.c            |    7 ++---
 libs/video/targets/vid.c                 |    6 ++---
 libs/video/targets/vid_3dfxsvga.c        |    7 ++---
 libs/video/targets/vid_common_gl.c       |    7 ++---
 libs/video/targets/vid_common_sw.c       |    6 ++---
 libs/video/targets/vid_common_sw32.c     |    6 ++---
 libs/video/targets/vid_ext.c             |    6 ++---
 libs/video/targets/vid_fbdev.c           |    7 ++---
 libs/video/targets/vid_glx.c             |    7 ++---
 libs/video/targets/vid_null.c            |    6 ++---
 libs/video/targets/vid_sdl.c             |    7 ++---
 libs/video/targets/vid_sdl32.c           |    7 ++---
 libs/video/targets/vid_sgl.c             |    7 ++---
 libs/video/targets/vid_svgalib.c         |    7 ++---
 libs/video/targets/vid_wgl.c             |    6 ++---
 libs/video/targets/vid_x11.c             |    7 ++---
 nq/include/host.h                        |    1 -
 nq/include/net.h                         |    1 -
 nq/include/server.h                      |    1 -
 nq/source/cl_cam.c                       |    6 ++---
 nq/source/cl_cmd.c                       |    3 ---
 nq/source/cl_demo.c                      |    7 ++---
 nq/source/cl_input.c                     |    7 ++---
 nq/source/cl_main.c                      |    6 ++---
 nq/source/cl_parse.c                     |    7 ++---
 nq/source/cl_screen.c                    |    7 ++---
 nq/source/cl_tent.c                      |    7 ++---
 nq/source/cl_view.c                      |    6 ++---
 nq/source/com.c                          |    6 ++---
 nq/source/conproc.c                      |    6 ++---
 nq/source/game.c                         |    3 ---
 nq/source/host.c                         |    6 ++---
 nq/source/host_cmd.c                     |    6 ++---
 nq/source/host_skin.c                    |    7 ++---
 nq/source/locs.c                         |    7 ++---
 nq/source/mplib.c                        |    6 ++---
 nq/source/mplpc.c                        |    6 ++---
 nq/source/net_bsd.c                      |    6 ++---
 nq/source/net_bw.c                       |    6 ++---
 nq/source/net_dgrm.c                     |    7 ++---
 nq/source/net_dos.c                      |    5 ++--
 nq/source/net_ipx.c                      |    6 ++---
 nq/source/net_loop.c                     |    6 ++---
 nq/source/net_main.c                     |    7 ++---
 nq/source/net_mp.c                       |    6 ++---
 nq/source/net_none.c                     |    5 ++--
 nq/source/net_udp.c                      |    7 ++---
 nq/source/net_vcr.c                      |    6 ++---
 nq/source/net_win.c                      |    5 ++--
 nq/source/net_wins.c                     |    6 ++---
 nq/source/net_wipx.c                     |    6 ++---
 nq/source/pr_cmds.c                      |    7 ++---
 nq/source/sbar.c                         |    6 ++---
 nq/source/sdl_link.c                     |    6 ++---
 nq/source/skin.c                         |    7 ++---
 nq/source/sv_cl_phys.c                   |    6 ++---
 nq/source/sv_cvar.c                      |    3 ---
 nq/source/sv_ded.c                       |    6 ++---
 nq/source/sv_main.c                      |    6 ++---
 nq/source/sv_model.c                     |    7 +++--
 nq/source/sv_move.c                      |    6 ++---
 nq/source/sv_phys.c                      |    6 ++---
 nq/source/sv_progs.c                     |    7 ++---
 nq/source/sv_user.c                      |    6 ++---
 nq/source/sys_sdl.c                      |    7 ++---
 nq/source/sys_unix.c                     |    7 ++---
 nq/source/sys_unixd.c                    |    7 ++---
 nq/source/sys_win.c                      |    6 ++---
 nq/source/sys_wind.c                     |    6 ++---
 nq/source/world.c                        |    7 ++---
 qw/include/host.h                        |    1 -
 qw/include/net.h                         |    1 -
 qw/include/server.h                      |    1 -
 qw/source/cl_cam.c                       |    7 ++---
 qw/source/cl_cmd.c                       |    7 ++---
 qw/source/cl_cvar.c                      |    7 ++---
 qw/source/cl_demo.c                      |    7 ++---
 qw/source/cl_ents.c                      |    7 ++---
 qw/source/cl_input.c                     |    7 ++---
 qw/source/cl_main.c                      |    7 ++---
 qw/source/cl_ngraph.c                    |    7 ++---
 qw/source/cl_parse.c                     |    7 ++---
 qw/source/cl_pred.c                      |    6 ++---
 qw/source/cl_screen.c                    |    7 ++---
 qw/source/cl_skin.c                      |    7 ++---
 qw/source/cl_slist.c                     |    6 ++---
 qw/source/cl_sys_sdl.c                   |    7 ++---
 qw/source/cl_sys_unix.c                  |    7 ++---
 qw/source/cl_sys_win.c                   |    7 ++---
 qw/source/cl_tent.c                      |    7 ++---
 qw/source/cl_view.c                      |    6 ++---
 qw/source/com.c                          |    6 ++---
 qw/source/crudefile.c                    |    7 ++---
 qw/source/game.c                         |    3 ---
 qw/source/locs.c                         |    7 ++---
 qw/source/master.c                       |    7 ++---
 qw/source/msg_ucmd.c                     |    7 ++---
 qw/source/net_chan.c                     |    7 ++---
 qw/source/net_packetlog.c                |    7 ++---
 qw/source/net_svc.c                      |    7 ++---
 qw/source/net_udp.c                      |    7 ++---
 qw/source/net_udp6.c                     |    7 ++---
 qw/source/pmove.c                        |    6 ++---
 qw/source/pmovetst.c                     |    7 ++---
 qw/source/sbar.c                         |    7 ++---
 qw/source/sdl_link.c                     |    6 ++---
 qw/source/skin.c                         |    7 ++---
 qw/source/sv_ccmds.c                     |    7 ++---
 qw/source/sv_demo.c                      |    7 ++---
 qw/source/sv_ents.c                      |    7 ++---
 qw/source/sv_init.c                      |    7 ++---
 qw/source/sv_main.c                      |    7 ++---
 qw/source/sv_model.c                     |    7 +++--
 qw/source/sv_move.c                      |    6 ++---
 qw/source/sv_nchan.c                     |    7 ++---
 qw/source/sv_phys.c                      |    6 ++---
 qw/source/sv_pr_cmds.c                   |    7 ++---
 qw/source/sv_progs.c                     |    3 ---
 qw/source/sv_send.c                      |    7 ++---
 qw/source/sv_sys_unix.c                  |    7 ++---
 qw/source/sv_sys_win.c                   |    6 ++---
 qw/source/sv_user.c                      |    7 ++---
 qw/source/teamplay.c                     |    7 ++---
 qw/source/world.c                        |    7 ++---
 tools/gas2masm/gas2masm.c                |    7 ++---
 tools/pak/pak.c                          |    6 ++---
 tools/qfbsp/source/brush.c               |    3 ---
 tools/qfbsp/source/csg4.c                |    7 ++---
 tools/qfbsp/source/map.c                 |    7 ++---
 tools/qfbsp/source/merge.c               |    6 ++---
 tools/qfbsp/source/nodraw.c              |    6 ++---
 tools/qfbsp/source/options.c             |    7 ++---
 tools/qfbsp/source/outside.c             |    6 ++---
 tools/qfbsp/source/portals.c             |    7 ++---
 tools/qfbsp/source/qfbsp.c               |    7 ++---
 tools/qfbsp/source/region.c              |    7 ++---
 tools/qfbsp/source/solidbsp.c            |    7 ++---
 tools/qfbsp/source/surfaces.c            |    7 ++---
 tools/qfbsp/source/tjunc.c               |    7 ++---
 tools/qfbsp/source/writebsp.c            |    7 ++---
 tools/qfcc/source/class.c                |    7 ++---
 tools/qfcc/source/cpp.c                  |    6 ++---
 tools/qfcc/source/debug.c                |    7 ++---
 tools/qfcc/source/def.c                  |    7 ++---
 tools/qfcc/source/emit.c                 |    7 ++---
 tools/qfcc/source/expr.c                 |    7 ++---
 tools/qfcc/source/function.c             |    7 ++---
 tools/qfcc/source/idstuff.c              |    7 ++---
 tools/qfcc/source/immediate.c            |    7 ++---
 tools/qfcc/source/linker.c               |    7 ++---
 tools/qfcc/source/method.c               |    7 ++---
 tools/qfcc/source/obj_file.c             |    7 ++---
 tools/qfcc/source/opcodes.c              |    7 ++---
 tools/qfcc/source/options.c              |    6 ++---
 tools/qfcc/source/qc-lex.l               |    6 ++---
 tools/qfcc/source/qc-parse.y             |    6 ++---
 tools/qfcc/source/qfcc.c                 |    6 ++---
 tools/qfcc/source/qfodump.c              |    6 ++---
 tools/qfcc/source/reloc.c                |    7 ++---
 tools/qfcc/source/strpool.c              |    7 ++---
 tools/qfcc/source/struct.c               |    7 ++---
 tools/qfcc/source/switch.c               |    7 ++---
 tools/qfcc/source/type.c                 |    7 ++---
 tools/qfdefs/source/defs.c               |    7 ++---
 tools/qfdefs/source/fix_globals.c        |    6 ++---
 tools/qfdefs/source/gendefs.c            |    6 ++---
 tools/qfdefs/source/qfdefs.c             |    6 ++---
 tools/qflight/source/entities.c          |    7 ++---
 tools/qflight/source/ltface.c            |    7 ++---
 tools/qflight/source/options.c           |    7 ++---
 tools/qflight/source/qflight.c           |    7 ++---
 tools/qflight/source/threads.c           |    7 ++---
 tools/qflight/source/trace.c             |    7 ++---
 tools/qfprogs/source/disassemble.c       |    6 ++---
 tools/qfprogs/source/globals.c           |    6 ++---
 tools/qfprogs/source/lines.c             |    6 ++---
 tools/qfprogs/source/modules.c           |    6 ++---
 tools/qfprogs/source/qfprogs.c           |    6 ++---
 tools/qfprogs/source/strings.c           |    6 ++---
 tools/qfvis/source/base-vis.c            |    6 ++---
 tools/qfvis/source/flow.c                |    6 ++---
 tools/qfvis/source/options.c             |    7 ++---
 tools/qfvis/source/qfvis.c               |    7 ++---
 tools/qfvis/source/soundphs.c            |    7 ++---
 tools/qwaq/builtins.c                    |    6 ++---
 tools/qwaq/main.c                        |    6 ++---
 406 files changed, 1390 insertions(+), 1232 deletions(-)

commit a4dfef6
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 14 20:18:29 2003 +0000

    make all files with rcsid include config.h

 doc/template.c                    |    3 +++
 libs/console/menu.c               |    4 ++++
 libs/gib/gib_init.c               |    4 ++++
 libs/gib/gib_regex.c              |    4 ++++
 libs/gib/gib_thread.c             |    4 ++++
 libs/gib/gib_vars.c               |    4 ++++
 libs/util/dirent.c                |    4 ++++
 libs/util/dstring.c               |    4 ++++
 libs/util/fendian.c               |    4 ++++
 nq/source/sdl_link.c              |    4 ++++
 qw/source/sdl_link.c              |    4 ++++
 tools/gas2masm/gas2masm.c         |    4 ++++
 tools/qfbsp/source/nodraw.c       |    4 ++++
 tools/qfcc/source/qc-lex.l        |    1 +
 tools/qfcc/source/qc-parse.y      |    1 +
 tools/qfdefs/source/fix_globals.c |    4 ++++
 tools/qfdefs/source/gendefs.c     |    6 ++++++
 tools/qwaq/builtins.c             |    4 ++++
 tools/qwaq/main.c                 |    4 ++++
 19 files changed, 71 insertions(+)

commit 9323f35
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 13 17:32:00 2003 +0000

    move the default GameCode definitions from qw:* and nq:* to QuakeWorld and
    Quake as that seems to be a more logical place for them.

 libs/util/quakefs.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit c9204e3
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 13 16:46:13 2003 +0000

    forgot the path for nq games

 libs/util/quakefs.c |    1 +
 1 file changed, 1 insertion(+)

commit e2d199c
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sun Jan 12 16:58:31 2003 +0000

    Try to open graphics at desktop bit depth, rather than 8bpp. Might explain some very grainy windows screenshots...

 libs/video/targets/vid_sgl.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit e2eb4f6
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jan 10 23:44:13 2003 +0000

    correct the automake dependency

 debian/control |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 3b9e7db
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jan 10 23:07:04 2003 +0000

    fix the skins dowload location issue (not really to my satisfaction, but it
    will do for now)

 include/QF/quakefs.h |    1 +
 libs/util/quakefs.c  |    5 +++++
 qw/source/cl_parse.c |   28 +++++++++++++++-------------
 3 files changed, 21 insertions(+), 13 deletions(-)

commit 2e0ed33
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jan 10 22:47:18 2003 +0000

    basic (very!) implementation of the new filesystem directory struture code.
    All the details of game directories will be fully configurable (search
    paths and gamecode file name currently supported). Downloading of skins to
    qw/skins only currently broken (will download to $gamedir/skins for now).

 include/QF/quakefs.h |   12 ++-
 libs/util/quakefs.c  |  270 ++++++++++++++++++++++++++++++++++++++++----------
 libs/util/wad.c      |   11 --
 nq/source/host.c     |    3 +-
 nq/source/sv_progs.c |   16 ++-
 qw/source/cl_main.c  |    3 +-
 qw/source/cl_parse.c |   24 +++--
 qw/source/game.c     |    2 -
 qw/source/sv_main.c  |    5 +-
 qw/source/sv_progs.c |   16 ++-
 10 files changed, 263 insertions(+), 99 deletions(-)

commit 33365ef
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jan 10 18:09:09 2003 +0000

    Hurricane's patch for correcting time kick. (Closes: #67)

 qw/source/sv_user.c |   42 +++++++++++++++++++++++-------------------
 1 file changed, 23 insertions(+), 19 deletions(-)

commit f8eda03
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 9 17:06:27 2003 +0000

    fix a const correctness issue

 libs/audio/targets/snd_alsa_0_5.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 0926ab6
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 8 22:42:55 2003 +0000

    make the plugin cvars rom rather than archive

 libs/audio/cd.c  |    2 +-
 libs/audio/snd.c |    6 +++---
 2 files changed, 4 insertions(+), 4 deletions(-)

commit e32dc4c
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 8 16:07:45 2003 +0000

    missed the new headers

 include/Makefile.am    |   11 ++++++-----
 tools/qwaq/Makefile.am |    2 +-
 2 files changed, 7 insertions(+), 6 deletions(-)

commit b2e1160
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 8 15:56:11 2003 +0000

    toss these in before they get lost

 ruamoko/include/View.h |   21 +++++++++++++++++++++
 ruamoko/lib/View.r     |   19 +++++++++++++++++++
 2 files changed, 40 insertions(+)

commit 34d4483
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Wed Jan 8 01:46:28 2003 +0000

    white noise, er space.

 libs/video/renderer/r_screen.c |    1 -
 1 file changed, 1 deletion(-)

commit d2820cd
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Tue Jan 7 22:12:54 2003 +0000

    Reduce code duplication, kill a function used by only one caller.
    Also disables a workaround for "interpolation seams" that I believe to be an old DRI bug. If anyone has skybox (not dome!) seams, try altering the ftc `if 0` to `if 1`.

 libs/video/renderer/gl/gl_sky.c |   59 +++++++++++++++------------------------
 1 file changed, 23 insertions(+), 36 deletions(-)

commit 9538e00
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 7 20:02:30 2003 +0000

    small bit of cleanup

 libs/video/targets/vid_wgl.c |   21 ++-------------------
 1 file changed, 2 insertions(+), 19 deletions(-)

commit e7d138e
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 6 21:41:46 2003 +0000

    string const correctness

 libs/audio/cd/cd_xmms.c |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit de610ee
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 6 20:01:13 2003 +0000

    missed this file

 include/context_sdl.h |   36 ++++++++++++++++++++++++++++++++++++
 1 file changed, 36 insertions(+)

commit ca720c2
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 6 19:05:51 2003 +0000

    blah, forgot about no-asm :P

 libs/video/renderer/sw/d_polyse.c   |    6 ++--
 libs/video/renderer/sw/sw_redge.c   |   60 ++++++++++++++++++++++++++++++++++-
 libs/video/renderer/sw/sw_rsprite.c |    2 +-
 3 files changed, 63 insertions(+), 5 deletions(-)

commit 71196fe
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 6 18:28:13 2003 +0000

    make gcc more anal about prototypes, string constants and function
    visibility (ie, global functions must have a prototype)

 configure.ac                             |    2 +-
 include/QF/GL/qf_rmain.h                 |    1 -
 include/QF/console.h                     |    4 +
 include/QF/csqc.h                        |    2 +-
 include/QF/gib_process.h                 |    1 -
 include/QF/in_event.h                    |    4 +-
 include/QF/locs.h                        |    2 +-
 include/QF/mathlib.h                     |    5 +-
 include/QF/plugin.h                      |    8 +-
 include/QF/progs.h                       |    1 +
 include/QF/qargs.h                       |    4 +-
 include/QF/qfplist.h                     |    2 +-
 include/QF/quakefs.h                     |    2 +-
 include/QF/render.h                      |    1 +
 include/QF/teamplay.h                    |    4 +-
 include/d_iface.h                        |    1 +
 include/exp.h                            |    4 +-
 include/getopt.h                         |    7 -
 include/regex.h                          |    2 +-
 libs/audio/cd.c                          |    2 +-
 libs/audio/cd/cd_linux.c                 |    1 +
 libs/audio/cd/cd_null.c                  |    1 +
 libs/audio/cd/cd_sdl.c                   |    1 +
 libs/audio/cd/cd_sgi.c                   |    3 +-
 libs/audio/cd/cd_win.c                   |    1 +
 libs/audio/cd/cd_xmms.c                  |    3 +-
 libs/audio/renderer/snd_dma.c            |   23 ++--
 libs/audio/renderer/snd_mem.c            |   20 +--
 libs/audio/renderer/snd_mix.c            |    4 +-
 libs/audio/renderer/snd_null.c           |    1 +
 libs/audio/targets/snd_alsa_0_5.c        |    6 +-
 libs/audio/targets/snd_alsa_0_9.c        |    3 +-
 libs/audio/targets/snd_disk.c            |    1 +
 libs/audio/targets/snd_null.c            |    1 +
 libs/audio/targets/snd_oss.c             |    1 +
 libs/audio/targets/snd_sdl.c             |    1 +
 libs/audio/targets/snd_sgi.c             |    1 +
 libs/audio/targets/snd_sun.c             |    1 +
 libs/audio/targets/snd_win.c             |    7 +-
 libs/console/client.c                    |    7 +-
 libs/console/filelist.c                  |    4 +-
 libs/console/menu.c                      |    6 +-
 libs/console/server.c                    |   18 +--
 libs/gamecode/builtins/bi_cbuf.c         |    1 +
 libs/gamecode/builtins/bi_cmd.c          |    1 +
 libs/gamecode/builtins/bi_cvar.c         |    1 +
 libs/gamecode/builtins/bi_file.c         |    1 +
 libs/gamecode/builtins/bi_inputline.c    |    1 +
 libs/gamecode/builtins/bi_strhash.c      |    1 +
 libs/gamecode/builtins/bi_string.c       |    1 +
 libs/gamecode/builtins/pr_cmds.c         |   62 ++++-----
 libs/gamecode/engine/pr_debug.c          |    2 +-
 libs/gamecode/engine/pr_edict.c          |   38 +-----
 libs/gamecode/engine/pr_exec.c           |    2 +-
 libs/gamecode/engine/pr_obj.c            |    2 +-
 libs/gamecode/engine/pr_parse.c          |    4 +-
 libs/gamecode/engine/pr_resolve.c        |    4 +-
 libs/gib/exp.c                           |   14 +-
 libs/gib/gib_builtin.c                   |   95 +++++++-------
 libs/gib/gib_function.c                  |    6 +-
 libs/gib/gib_init.c                      |    3 +-
 libs/gib/gib_parse.c                     |    4 +-
 libs/gib/gib_process.c                   |    9 +-
 libs/gib/gib_regex.c                     |    4 +-
 libs/gib/gib_thread.c                    |    7 +-
 libs/gib/gib_vars.c                      |    6 +-
 libs/gib/ops.c                           |    2 +
 libs/gib/regex.c                         |   57 ++++----
 libs/models/alias/gl_mesh.c              |   14 +-
 libs/models/alias/gl_model_alias.c       |    4 +-
 libs/models/alias/model_alias.c          |    2 +-
 libs/models/brush/gl_model_brush.c       |    4 +-
 libs/models/brush/model_brush.c          |   36 ++---
 libs/models/model.c                      |    4 +-
 libs/models/sprite/model_sprite.c        |    4 +-
 libs/util/buildnum.c                     |   10 +-
 libs/util/cmd.c                          |   41 +++---
 libs/util/cvar.c                         |   10 +-
 libs/util/getopt.c                       |    4 +-
 libs/util/idparse.c                      |    7 +-
 libs/util/info.c                         |    2 +-
 libs/util/mathlib.c                      |    5 +-
 libs/util/plugin.c                       |    2 +-
 libs/util/qargs.c                        |   35 ++---
 libs/util/qfplist.c                      |    2 +-
 libs/util/quakefs.c                      |   14 +-
 libs/util/string.c                       |    2 +-
 libs/util/ver_check.c                    |    1 +
 libs/util/zone.c                         |   30 ++---
 libs/video/renderer/gl/gl_dyn_lights.c   |    4 +-
 libs/video/renderer/gl/gl_dyn_part.c     |   91 ++++++-------
 libs/video/renderer/gl/gl_dyn_textures.c |    1 +
 libs/video/renderer/gl/gl_graph.c        |    1 +
 libs/video/renderer/gl/gl_mod_alias.c    |    6 +-
 libs/video/renderer/gl/gl_rmain.c        |    1 +
 libs/video/renderer/gl/gl_rmisc.c        |    2 +-
 libs/video/renderer/gl/gl_screen.c       |    2 +-
 libs/video/renderer/gl/gl_sky.c          |   10 +-
 libs/video/renderer/gl/gl_sky_clip.c     |    4 +-
 libs/video/renderer/gl/gl_textures.c     |   14 +-
 libs/video/renderer/gl/gl_warp.c         |    1 +
 libs/video/renderer/gl/noisetextures.c   |    1 +
 libs/video/renderer/r_cvar.c             |    1 +
 libs/video/renderer/r_efrag.c            |    2 +-
 libs/video/renderer/r_ent.c              |    5 -
 libs/video/renderer/r_light.c            |    3 +-
 libs/video/renderer/r_part.c             |   27 ++--
 libs/video/renderer/r_screen.c           |   45 +------
 libs/video/renderer/sw/d_edge.c          |    4 +-
 libs/video/renderer/sw/d_init.c          |   12 --
 libs/video/renderer/sw/d_modech.c        |    2 +-
 libs/video/renderer/sw/d_polyse.c        |   39 +-----
 libs/video/renderer/sw/d_sky.c           |    2 +-
 libs/video/renderer/sw/d_sprite.c        |    6 +-
 libs/video/renderer/sw/d_surf.c          |   38 +-----
 libs/video/renderer/sw/draw.c            |    4 +-
 libs/video/renderer/sw/screen.c          |    2 +-
 libs/video/renderer/sw/sw_raclip.c       |    4 +-
 libs/video/renderer/sw/sw_ralias.c       |   16 +--
 libs/video/renderer/sw/sw_rbsp.c         |    6 +-
 libs/video/renderer/sw/sw_rdraw.c        |    2 +-
 libs/video/renderer/sw/sw_redge.c        |  151 +--------------------
 libs/video/renderer/sw/sw_rmain.c        |   12 +-
 libs/video/renderer/sw/sw_rmisc.c        |   43 +-----
 libs/video/renderer/sw/sw_rpart.c        |   42 +++---
 libs/video/renderer/sw/sw_rsky.c         |    2 +
 libs/video/renderer/sw/sw_rsprite.c      |    8 +-
 libs/video/renderer/sw/sw_rsurf.c        |    6 +-
 libs/video/renderer/sw32/d_edge.c        |    4 +-
 libs/video/renderer/sw32/d_init.c        |   12 --
 libs/video/renderer/sw32/d_modech.c      |    2 +-
 libs/video/renderer/sw32/d_polyse.c      |    6 +-
 libs/video/renderer/sw32/d_scan.c        |    2 +-
 libs/video/renderer/sw32/d_sky.c         |    2 +-
 libs/video/renderer/sw32/d_sprite.c      |    6 +-
 libs/video/renderer/sw32/d_surf.c        |   50 +------
 libs/video/renderer/sw32/draw.c          |    4 +-
 libs/video/renderer/sw32/screen.c        |    2 +-
 libs/video/renderer/sw32/sw32_raclip.c   |    4 +-
 libs/video/renderer/sw32/sw32_ralias.c   |   16 +--
 libs/video/renderer/sw32/sw32_rbsp.c     |    6 +-
 libs/video/renderer/sw32/sw32_rdraw.c    |    2 +-
 libs/video/renderer/sw32/sw32_redge.c    |   97 +-------------
 libs/video/renderer/sw32/sw32_rmain.c    |   12 +-
 libs/video/renderer/sw32/sw32_rmisc.c    |   43 +-----
 libs/video/renderer/sw32/sw32_rpart.c    |   42 +++---
 libs/video/renderer/sw32/sw32_rsky.c     |    1 +
 libs/video/renderer/sw32/sw32_rsprite.c  |    8 +-
 libs/video/renderer/sw32/sw32_rsurf.c    |    4 +-
 libs/video/targets/context_sdl.c         |    4 +-
 libs/video/targets/context_x11.c         |   23 ++--
 libs/video/targets/fbset_modes_l.l       |    5 +-
 libs/video/targets/in_fbdev.c            |    8 +-
 libs/video/targets/in_svgalib.c          |    4 +-
 libs/video/targets/joy.c                 |    4 +-
 libs/video/targets/joy_win.c             |    8 +-
 libs/video/targets/keys.c                |   38 +++---
 libs/video/targets/old_keys.c            |    6 +-
 libs/video/targets/pr_keys.c             |    1 +
 libs/video/targets/qfgl_ext.c            |    2 +-
 libs/video/targets/vid.c                 |    2 +-
 libs/video/targets/vid_3dfxsvga.c        |   21 +--
 libs/video/targets/vid_common_gl.c       |   12 +-
 libs/video/targets/vid_common_sw32.c     |   11 +-
 libs/video/targets/vid_fbdev.c           |    5 +-
 libs/video/targets/vid_glx.c             |   11 +-
 libs/video/targets/vid_null.c            |    1 +
 libs/video/targets/vid_sdl.c             |    2 +
 libs/video/targets/vid_sgl.c             |   10 +-
 libs/video/targets/vid_svgalib.c         |   18 +--
 libs/video/targets/vid_wgl.c             |    1 +
 libs/video/targets/vid_x11.c             |    3 +-
 nq/include/host.h                        |    6 +-
 nq/include/net.h                         |    2 +-
 nq/include/server.h                      |    4 +-
 nq/include/sv_pr_cmds.h                  |    1 -
 nq/source/cl_cam.c                       |    3 +-
 nq/source/cl_cmd.c                       |   17 ---
 nq/source/cl_demo.c                      |    6 +-
 nq/source/cl_input.c                     |   76 +++++------
 nq/source/cl_main.c                      |   18 +--
 nq/source/cl_parse.c                     |   22 ++--
 nq/source/cl_screen.c                    |    2 +-
 nq/source/cl_tent.c                      |    8 +-
 nq/source/cl_view.c                      |   24 ++--
 nq/source/com.c                          |    2 +-
 nq/source/host.c                         |   16 +--
 nq/source/host_cmd.c                     |   70 +++++-----
 nq/source/host_skin.c                    |    2 +-
 nq/source/locs.c                         |    2 +-
 nq/source/net_dgrm.c                     |   18 +--
 nq/source/net_main.c                     |    8 +-
 nq/source/net_udp.c                      |    2 +-
 nq/source/net_vcr.c                      |    2 +-
 nq/source/net_wins.c                     |    8 +-
 nq/source/pr_cmds.c                      |    8 +-
 nq/source/sbar.c                         |   52 ++------
 nq/source/sv_cl_phys.c                   |   10 +-
 nq/source/sv_ded.c                       |   12 +-
 nq/source/sv_main.c                      |   22 ++--
 nq/source/sv_model.c                     |    1 +
 nq/source/sv_move.c                      |    8 +-
 nq/source/sv_phys.c                      |   30 ++---
 nq/source/sv_progs.c                     |    6 +-
 nq/source/sv_user.c                      |   18 +--
 nq/source/sys_sdl.c                      |    2 +-
 nq/source/sys_win.c                      |   12 +-
 nq/source/world.c                        |   17 ++-
 qw/include/crudefile.h                   |    6 +-
 qw/include/host.h                        |    2 +-
 qw/include/net.h                         |    1 +
 qw/include/server.h                      |    2 +
 qw/include/sv_pr_cmds.h                  |    2 -
 qw/source/cl_cam.c                       |    6 +-
 qw/source/cl_cmd.c                       |    2 +-
 qw/source/cl_demo.c                      |   18 +--
 qw/source/cl_ents.c                      |   16 +--
 qw/source/cl_input.c                     |   80 ++++++------
 qw/source/cl_main.c                      |   48 +++----
 qw/source/cl_parse.c                     |   42 +++---
 qw/source/cl_pred.c                      |    1 +
 qw/source/cl_screen.c                    |    4 +-
 qw/source/cl_skin.c                      |    2 +-
 qw/source/cl_slist.c                     |   52 ++++----
 qw/source/cl_sys_sdl.c                   |    2 +-
 qw/source/cl_sys_win.c                   |   10 +-
 qw/source/cl_tent.c                      |    8 +-
 qw/source/cl_view.c                      |   44 ++-----
 qw/source/com.c                          |    3 +-
 qw/source/crudefile.c                    |   12 +-
 qw/source/game.c                         |    2 +-
 qw/source/locs.c                         |    2 +-
 qw/source/master.c                       |   16 +--
 qw/source/msg_ucmd.c                     |    1 +
 qw/source/net_chan.c                     |    2 -
 qw/source/net_packetlog.c                |   26 ++--
 qw/source/net_udp.c                      |    8 +-
 qw/source/pmove.c                        |   24 ++--
 qw/source/pmovetst.c                     |    2 +-
 qw/source/sbar.c                         |   56 +++-----
 qw/source/sv_ccmds.c                     |   60 ++++-----
 qw/source/sv_demo.c                      |   69 ++++------
 qw/source/sv_ents.c                      |   14 +-
 qw/source/sv_init.c                      |    6 +-
 qw/source/sv_main.c                      |   84 ++++++------
 qw/source/sv_model.c                     |    1 +
 qw/source/sv_move.c                      |    8 +-
 qw/source/sv_nchan.c                     |    2 +-
 qw/source/sv_phys.c                      |   28 ++--
 qw/source/sv_pr_cmds.c                   |   20 +--
 qw/source/sv_progs.c                     |    6 +-
 qw/source/sv_send.c                      |    8 +-
 qw/source/sv_sys_unix.c                  |    2 +-
 qw/source/sv_sys_win.c                   |    2 +-
 qw/source/sv_user.c                      |  113 +++++-----------
 qw/source/teamplay.c                     |    8 +-
 qw/source/world.c                        |   17 ++-
 tools/bsp2img/bsp2img.c                  |   14 +-
 tools/carne/main.c                       |    8 +-
 tools/qfbsp/include/bsp5.h               |    2 +-
 tools/qfbsp/include/map.h                |   12 +-
 tools/qfbsp/include/options.h            |    2 +-
 tools/qfbsp/source/brush.c               |  109 ++--------------
 tools/qfbsp/source/csg4.c                |   15 +--
 tools/qfbsp/source/map.c                 |   38 +++---
 tools/qfbsp/source/merge.c               |   25 +---
 tools/qfbsp/source/outside.c             |   10 +-
 tools/qfbsp/source/portals.c             |  106 ++-------------
 tools/qfbsp/source/qfbsp.c               |   31 ++---
 tools/qfbsp/source/region.c              |  209 +-----------------------------
 tools/qfbsp/source/solidbsp.c            |   37 ++----
 tools/qfbsp/source/surfaces.c            |   82 +-----------
 tools/qfbsp/source/tjunc.c               |   27 ++--
 tools/qfbsp/source/writebsp.c            |   22 ++--
 tools/qfcc/include/cpp.h                 |    2 +-
 tools/qfcc/include/def.h                 |    4 +-
 tools/qfcc/include/idstuff.h             |    2 +-
 tools/qfcc/source/cpp.c                  |    4 +-
 tools/qfcc/source/emit.c                 |   16 +--
 tools/qfcc/source/expr.c                 |   12 +-
 tools/qfcc/source/idstuff.c              |    3 +-
 tools/qfcc/source/linker.c               |    4 +-
 tools/qfcc/source/obj_file.c             |    2 +-
 tools/qfcc/source/qc-lex.l               |    2 +
 tools/qfcc/source/qc-parse.y             |    4 +-
 tools/qfcc/source/qfcc.c                 |    8 +-
 tools/qfcc/source/qfodump.c              |   10 +-
 tools/qfcc/source/type.c                 |    2 +-
 tools/qfdefs/source/fix_globals.c        |    2 +-
 tools/qfdefs/source/gendefs.c            |    2 +-
 tools/qfdefs/source/qfdefs.c             |    2 +-
 tools/qflight/include/entities.h         |    8 +-
 tools/qflight/source/entities.c          |   18 +--
 tools/qflight/source/ltface.c            |   12 +-
 tools/qflight/source/qflight.c           |    4 +-
 tools/qflight/source/trace.c             |    2 +-
 tools/qfmodelgen/include/cmdlib.h        |   28 ++--
 tools/qfmodelgen/source/cmdlib.c         |  161 +++--------------------
 tools/qfmodelgen/source/lbmlib.c         |   12 +-
 tools/qfmodelgen/source/modelgen.c       |   36 ++---
 tools/qfmodelgen/source/trilib.c         |    2 +-
 tools/qfprogs/source/globals.c           |    6 +-
 tools/qfprogs/source/modules.c           |    8 +-
 tools/qfprogs/source/qfprogs.c           |    3 +-
 tools/qfvis/source/flow.c                |    6 +-
 tools/qfvis/source/qfvis.c               |   24 ++--
 tools/qfvis/source/soundphs.c            |    2 +-
 tools/qwaq/builtins.c                    |    2 +
 tools/qwaq/main.c                        |    4 +-
 tools/qwaq/qwaq.h                        |    1 +
 tools/wav/qfwavinfo.c                    |   14 +-
 311 files changed, 1641 insertions(+), 2891 deletions(-)

commit 6b705ad
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jan 4 03:08:32 2003 +0000

    fix a missed libasm -> libvid_asm change

 libs/video/targets/Makefile.am |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c522970
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Fri Jan 3 04:30:38 2003 +0000

    Added a GIB event system for registering GIB callback functions to be
    started when a named event occurs.  Added a few test events to the qw
    client and server.  Cleaned up the range GIB builtin a bit.

 include/QF/gib_thread.h |   17 ++++++++++++-
 libs/gib/gib_builtin.c  |   30 ++++++++++++++---------
 libs/gib/gib_init.c     |    3 +++
 libs/gib/gib_thread.c   |   50 +++++++++++++++++++++++++++++++++++---
 qw/include/cl_main.h    |    2 ++
 qw/source/cl_main.c     |    5 ++++
 qw/source/cl_parse.c    |   62 +++--------------------------------------------
 qw/source/sv_user.c     |    7 ++++++
 8 files changed, 103 insertions(+), 73 deletions(-)

commit 79a6381
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Fri Jan 3 04:15:32 2003 +0000

    Fix a memory leak.

 libs/gib/gib_function.c |    1 +
 1 file changed, 1 insertion(+)

commit 86d73f1
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Fri Jan 3 04:12:27 2003 +0000

    Include protection.

 include/QF/gib_function.h |    5 +++++
 1 file changed, 5 insertions(+)

commit 091e9d3
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Fri Jan 3 04:10:50 2003 +0000

    A few cleanups, and made assignment/incremement/decrement operations
    return a value.

 libs/gib/gib_parse.c |   12 ++++++++----
 1 file changed, 8 insertions(+), 4 deletions(-)

commit 8a2fbf4
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jan 3 03:36:45 2003 +0000

    alphageek's crosshair patch modified so it's crosshair 3 (need to port this
    to the sw renderer's:/)

 libs/video/renderer/gl/gl_draw.c |   57 ++++++++++++++++++++++++++------------
 1 file changed, 39 insertions(+), 18 deletions(-)

commit 218d938
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Fri Dec 27 17:24:46 2002 +0000

    Fix libtoolize test. -z tests for zero string length.
    Now bootstrap works on debian again.

 bootstrap |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit d02d502
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Dec 20 23:53:34 2002 +0000

    check for socklen_t evailability

 qw/source/master.c |    6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit f75c88b
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Dec 20 23:49:11 2002 +0000

    work around a gcc (GCC) 3.1 20020420 (prerelease) bug in darwin (ppc?)

 libs/video/renderer/sw/sw_rsprite.c |    9 ++++++++-
 1 file changed, 8 insertions(+), 1 deletion(-)

commit 122b0d8
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Dec 20 23:41:24 2002 +0000

    values.h doesn't seem to be needed and doesn't exist on darwin anyway

 tools/bsp2img/bsp2img.c |    1 -
 1 file changed, 1 deletion(-)

commit dbd5b16
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Dec 20 23:40:47 2002 +0000

    rename the convenience libs to avoid problems with libx11 vs libX11 on
    darwin (damn case insensitive file systems :P)

 acinclude.m4                   |    2 +-
 libs/video/targets/Makefile.am |   86 ++++++++++++++++++++--------------------
 nq/source/Makefile.am          |   28 ++++++-------
 qw/source/Makefile.am          |   38 +++++++++---------
 4 files changed, 77 insertions(+), 77 deletions(-)

commit abea626
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Dec 20 23:39:26 2002 +0000

    autodetect glibtoolize vs libtoolize for darwin

 bootstrap |   11 ++++++++---
 1 file changed, 8 insertions(+), 3 deletions(-)

commit c8db558
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Dec 20 22:35:41 2002 +0000

    don't need sys/mman.h

 nq/source/sys_unix.c |    1 -
 1 file changed, 1 deletion(-)

commit 7fe5715
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Dec 20 22:33:32 2002 +0000

    ignore some files that show up in darwin

 .gitignore |    5 +++++
 1 file changed, 5 insertions(+)

commit 1130eed
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 19 16:58:44 2002 +0000

    make the "no mouse" error message a little more informative

 libs/video/targets/in_svgalib.c |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit c85fd3b
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 18 20:53:49 2002 +0000

    fix a potential underflow and plug a memory leak

 libs/util/qfplist.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 637de7b
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 18 16:09:47 2002 +0000

    chage PL_ObjectForKey to take a plitem directly and typecheck the item

 include/QF/qfplist.h |    2 +-
 libs/util/qfplist.c  |   10 ++++++++--
 2 files changed, 9 insertions(+), 3 deletions(-)

commit f03cc28
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Tue Dec 17 22:35:14 2002 +0000

    Fixed dsvprintf to work with different implementations of vsnprintf.

 libs/util/dstring.c |   19 +++++++++++++------
 1 file changed, 13 insertions(+), 6 deletions(-)

commit a84b6bb
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Dec 16 23:26:14 2002 +0000

    make stuff static that can be and nuke some useless stuff

 include/QF/vid.h             |    3 -
 include/in_win.h             |    5 --
 include/winquake.h           |   11 ++-
 libs/video/targets/in_win.c  |   43 +++---------
 libs/video/targets/vid_wgl.c |  157 ++++++++++--------------------------------
 nq/source/sys_win.c          |    3 -
 qw/source/cl_sys_win.c       |    2 -
 7 files changed, 50 insertions(+), 174 deletions(-)

commit ee86836
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Dec 16 21:57:36 2002 +0000

    we don't currently support scitech's mgl

 libs/video/targets/vid_mgl.c | 2894 ------------------------------------------
 1 file changed, 2894 deletions(-)

commit d332a9f
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Dec 16 21:09:25 2002 +0000

    remove useless file

 libs/video/targets/vid_win.c |   50 ------------------------------------------
 1 file changed, 50 deletions(-)

commit 86ed9e1
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Dec 16 19:39:02 2002 +0000

    add some missing ()s

 libs/video/targets/vid_svgalib.c |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 1c4b40c
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Dec 16 19:36:46 2002 +0000

    similar cleanups to vid_svgalib.c

 libs/video/targets/vid_fbdev.c |  170 ++++++++++------------------------------
 1 file changed, 40 insertions(+), 130 deletions(-)

commit 8014612
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Dec 16 19:36:14 2002 +0000

    require an 8 bpp mode

 libs/video/targets/vid_svgalib.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 4b32916
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Mon Dec 16 19:26:53 2002 +0000

    Legibility. Whitespace. Stuff like that.

 libs/video/targets/vid_svgalib.c |   37 +++++++++++++++++--------------------
 1 file changed, 17 insertions(+), 20 deletions(-)

commit e381d2a
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Dec 16 19:23:41 2002 +0000

    remove vid_mode and the mode description commands

 libs/video/targets/vid_svgalib.c |   81 --------------------------------------
 1 file changed, 81 deletions(-)

commit 1311773
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Dec 16 18:50:09 2002 +0000

    make -svga mode selection consistent with -x11 etc and also fix the mode
    matching algo so it actually works

 libs/video/targets/vid_svgalib.c |  145 +++++++++++++-------------------------
 1 file changed, 48 insertions(+), 97 deletions(-)

commit f053f3b
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Mon Dec 16 17:59:45 2002 +0000

    Whitespace. Grr.

 libs/video/targets/vid_svgalib.c |   47 +++++++++++++++++++-------------------
 1 file changed, 24 insertions(+), 23 deletions(-)

commit 2c643cd
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Sun Dec 15 07:01:50 2002 +0000

    Reworked _dvsprintf a bit to make it cleaner and fix a segfault when
    appending to large strings.

 libs/util/dstring.c |   25 +++++++++----------------
 1 file changed, 9 insertions(+), 16 deletions(-)

commit 19ac57d
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Sat Dec 14 20:34:20 2002 +0000

    Fixed a bug with aliases and updated cb.gib a bit.

 doc/config/gib/cb.gib |    4 ++--
 libs/util/cmd.c       |    7 +++++--
 2 files changed, 7 insertions(+), 4 deletions(-)

commit b821680
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Dec 14 01:56:37 2002 +0000

    fix a warning

 libs/gib/gib_builtin.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 32e5e6e
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Fri Dec 13 23:36:05 2002 +0000

    Numerous GIB bug fixes and optimizations.  Fixed/updated some GIB scripts
    as well.

 doc/config/gib/cb.gib    |    6 +-
 doc/config/gib/zoom.gib  |    4 +-
 include/QF/gib_builtin.h |    2 +-
 libs/gib/gib_builtin.c   |  214 +++++++++++++++++++---------------------------
 libs/gib/gib_parse.c     |    8 +-
 5 files changed, 100 insertions(+), 134 deletions(-)

commit 2a5ac8c
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Dec 13 23:21:09 2002 +0000

    returning value for void function now a warning for traditional

 tools/qfcc/source/expr.c |    7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

commit 64a9a81
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Dec 13 23:16:42 2002 +0000

    allow if (void expr) (with warning) in traditional mode

 tools/qfcc/source/expr.c |    4 ++++
 1 file changed, 4 insertions(+)

commit aec0c9e
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Dec 13 23:05:24 2002 +0000

    make return type missmatch a warning for --traditional

 tools/qfcc/source/expr.c |   10 +++++++---
 1 file changed, 7 insertions(+), 3 deletions(-)

commit 12c9704
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Dec 13 23:03:27 2002 +0000

    win32 compile fix

 nq/source/locs.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 7c86ec2
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Dec 13 17:58:51 2002 +0000

    go to newer mingw setup

 tools/cross/cross.sh |  198 ++++++++++++++++++++++++++++----------------------
 1 file changed, 111 insertions(+), 87 deletions(-)

commit 9fd59ac
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Dec 13 16:53:22 2002 +0000

    make sure r_screen.h gets distributed

 include/Makefile.am |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 3b7f7bd
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 12 20:11:01 2002 +0000

    get working with both older (0.3) and newer (2.2) mingw

 include/winquake.h |   23 +++++++++++++++++++----
 1 file changed, 19 insertions(+), 4 deletions(-)

commit 8ee1461
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 12 05:13:56 2002 +0000

    fix a changed url and make binutils compile with recent bison

 tools/cross/cross.sh |   16 +++++++++++++++-
 1 file changed, 15 insertions(+), 1 deletion(-)

commit 31969b6
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 12 05:12:09 2002 +0000

    a couple of missed cleanups from the screen merge

 libs/video/targets/vid_wgl.c |    5 +----
 1 file changed, 1 insertion(+), 4 deletions(-)

commit 7e4979e
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 11 22:09:23 2002 +0000

    make sure the baselines always point to entities

 nq/source/cl_main.c |    1 +
 1 file changed, 1 insertion(+)

commit 37c5bb6
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 11 17:34:48 2002 +0000

    merge the bulk of the three screen files into r_screen.c so all common code
    is shared.

 include/r_screen.h                 |   80 ++++++
 libs/video/renderer/Makefile.am    |    2 +-
 libs/video/renderer/gl/gl_screen.c |  495 +-------------------------------
 libs/video/renderer/r_screen.c     |  552 ++++++++++++++++++++++++++++++++++++
 libs/video/renderer/sw/screen.c    |  499 +-------------------------------
 libs/video/renderer/sw32/screen.c  |  498 +-------------------------------
 6 files changed, 636 insertions(+), 1490 deletions(-)

commit bf3fa3d
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 11 16:45:40 2002 +0000

    remove some dead code and a lot of unnecessary diffs

 libs/video/renderer/gl/gl_screen.c |  101 ++++++++---------
 libs/video/renderer/sw/screen.c    |  211 +++++++++++++++---------------------
 libs/video/renderer/sw32/screen.c  |  211 ++++++++++++++++--------------------
 libs/video/targets/vid_mgl.c       |    3 -
 libs/video/targets/vid_wgl.c       |    3 -
 nq/source/host.c                   |    3 -
 nq/source/sv_ded.c                 |    2 -
 7 files changed, 224 insertions(+), 310 deletions(-)

commit ca55210
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 11 05:46:42 2002 +0000

    remove some redundant steps

 libs/video/renderer/gl/gl_screen.c |   17 ++---------------
 1 file changed, 2 insertions(+), 15 deletions(-)

commit 88f7b9a
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 11 05:33:54 2002 +0000

    it's rgb, not rbg

 libs/video/renderer/gl/gl_screen.c |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit e5400d4
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Dec 10 18:25:11 2002 +0000

    remove some debug code

 tools/gl_stub/gl_stub.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 15655c2
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Dec 10 18:24:38 2002 +0000

    get snaps working properly

 libs/video/renderer/gl/gl_screen.c |   21 +++++++++++----------
 libs/video/renderer/sw/screen.c    |   12 ++++++------
 qw/source/cl_screen.c              |    3 ++-
 3 files changed, 19 insertions(+), 17 deletions(-)

commit c158f00
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Dec 10 15:30:16 2002 +0000

    fix gl_stub so it works again and also get the gl functions being looked up
    properly

 libs/video/targets/vid_glx.c |    4 ++-
 tools/gl_stub/gl_stub.c      |   68 ++++++++++++++++++++++++++++++++++++++----
 tools/gl_stub/gls_norm.c     |   43 --------------------------
 tools/gl_stub/gls_trace.c    |   50 -------------------------------
 4 files changed, 66 insertions(+), 99 deletions(-)

commit 7da551d
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Dec 10 05:04:30 2002 +0000

    the output is rather mangled but the client no longer crashes

 libs/video/renderer/gl/gl_screen.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 74ee0cf
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Tue Dec 10 00:04:15 2002 +0000

    Changed the behavior of field::get with a null field separator to match
    that of for loops.  Added support for var++, var--, var += foo, var -= foo,
    var *= foo, and var /= foo.

 include/QF/gib_vars.h  |    2 ++
 libs/gib/gib_builtin.c |   12 +++++--
 libs/gib/gib_parse.c   |   81 +++++++++++++++++++++++++++++++++++++++---------
 libs/gib/gib_vars.c    |   27 ++++++++++++++++
 4 files changed, 105 insertions(+), 17 deletions(-)

commit b627952
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Dec 9 22:34:18 2002 +0000

    make  m_forward, m_side, m_yaw get saved in qw clients

 qw/source/cl_main.c |    7 ++++---
 1 file changed, 4 insertions(+), 3 deletions(-)

commit de7299a
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Dec 9 17:47:12 2002 +0000

    don't crash when doing a remote screenshot

 libs/video/renderer/gl/gl_screen.c |    4 ++++
 libs/video/renderer/sw/screen.c    |    4 ++++
 2 files changed, 8 insertions(+)

commit 9126661
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Sun Dec 8 20:55:40 2002 +0000

    Added the sqrt and abs math functions and the continue GIB builtin.  I
    changed where a loop program gets copied back into its buffer so that the
    continue builtin would work.

 include/ops.h          |    2 ++
 libs/gib/exp.c         |    2 ++
 libs/gib/gib_builtin.c |   14 +++++++++++++-
 libs/gib/gib_parse.c   |   10 ++++------
 libs/gib/ops.c         |   12 ++++++++++++
 5 files changed, 33 insertions(+), 7 deletions(-)

commit 0a8ff6a
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Tue Dec 3 05:54:13 2002 +0000

    In addition to .gib files, anything exec'ed from within a GIB buffer is now
    put in a new buffer on the stack and stripped of comments.  Fixed an
    instance of a function name that I forgot to change in cb.gib.

 doc/config/gib/cb.gib |    2 +-
 libs/gib/gib_init.c   |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 46a093f
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Mon Dec 2 20:03:12 2002 +0000

    Change sv_use_curses default to 0, until curses has scrollback support.

 libs/console/server.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 92ea1de
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Dec 2 16:26:18 2002 +0000

    apply Kaare Slettnes' key name extention patch (Closes: #62)

 include/QF/keys.h         |    7 ++++++-
 libs/video/targets/keys.c |    5 +++++
 2 files changed, 11 insertions(+), 1 deletion(-)

commit 714f2ce
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Sun Dec 1 07:22:42 2002 +0000

    Fixed several GIB bugs, optimized Cbuf_Execute_Stack a bit, changed QW
    clients to use a separate buffer for stufftext commands.

 libs/gib/gib_builtin.c |   11 +++++------
 libs/util/cbuf.c       |    4 +++-
 qw/include/client.h    |    2 +-
 qw/source/cl_main.c    |    3 +++
 qw/source/cl_parse.c   |    6 +++---
 5 files changed, 15 insertions(+), 11 deletions(-)

commit 05bee9d
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Sat Nov 30 21:12:45 2002 +0000

    Use Cbuf_Execute_Stack instead of Cbuf_Execute.  This guarantees that GIB
    scripts executed from server.cfg will be run immediately.

 qw/source/sv_main.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 2d45070
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Nov 28 20:19:28 2002 +0000

    fix libtool version checking for 1.4e thanks to neobird

 bootstrap |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 034af57
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Sat Nov 23 07:00:59 2002 +0000

    User info keys besides *ver are no longer explicitly set to default values
    because registering their respective cvars already does this.  Closes bug
    #42.

 qw/source/cl_main.c |    5 -----
 1 file changed, 5 deletions(-)

commit f1279be
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Sat Nov 23 05:47:17 2002 +0000

    Fixed a segfault with very high resolutions.

 libs/video/renderer/sw/d_scan.c |    6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit 8d35d67
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Nov 22 17:45:30 2002 +0000

    clean up the multiple definitions of the DF_* flags

 qw/include/protocol.h |    8 ++++++++
 qw/source/cl_ents.c   |    9 ---------
 qw/source/sv_demo.c   |    9 ---------
 qw/source/sv_ents.c   |    9 ---------
 4 files changed, 8 insertions(+), 27 deletions(-)

commit a089934
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Nov 22 05:22:07 2002 +0000

    fix a really nasty wrong index bug that would cause SIGFPE when recording demos

 qw/source/sv_demo.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a62a92c
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Thu Nov 21 00:20:39 2002 +0000

    Fixed regex::extract to start at the correct argument when setting the
    value of variables.

 libs/gib/gib_builtin.c |   10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit ee30860
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Nov 20 21:44:04 2002 +0000

    fix a bunch of ;; typos

 include/QF/sys.h              |    2 +-
 libs/audio/targets/snd_win.c  |    2 +-
 libs/video/renderer/r_light.c |    2 +-
 nq/source/cl_parse.c          |    2 +-
 nq/source/net_wipx.c          |    2 +-
 qw/include/pmove.h            |    2 +-
 qw/source/net_packetlog.c     |    6 +++---
 tools/qfcc/source/opcodes.c   |    2 +-
 8 files changed, 10 insertions(+), 10 deletions(-)

commit d78f34e
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Nov 20 21:21:22 2002 +0000

    fix some spelling errors

 libs/gamecode/engine/pr_obj.c |    7 ++++---
 1 file changed, 4 insertions(+), 3 deletions(-)

commit 261dcfe
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Nov 20 17:20:52 2002 +0000

    FreeBSD patch from q (see what happens for the other BSDs)

 libs/audio/targets/snd_oss.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit c0fbd45
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Nov 20 02:15:32 2002 +0000

    d'oh, I forgot pthread_attr_setstacksize took two arguments. hope this still
    works

 configure.ac |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 630a762
Author: Timothy C. McGrath <misty-chan@users.sourceforge.net>
Date:   Wed Nov 20 01:27:03 2002 +0000

    Taniwha fixed a problem for me - gcc on my ps2 at least when -pthread
    isn't a valid option does not bomb out with a error status so this is
    the workaround.
    
    Tim McGrath (Hikaru/Misty/Misty-chan)

 configure.ac |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 854f6d9
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Tue Nov 19 06:24:29 2002 +0000

    Created gib_regex.[ch] to manage regular expressions in GIB.  Regexs are
    now cached and only recompiled when compile flags change.  Changed regex
    builtins to take an options string argument after the regular expression.

 include/QF/Makefile.am |   13 ++--
 include/QF/gib_regex.h |   45 +++++++++++++
 libs/gib/Makefile.am   |    2 +-
 libs/gib/gib_builtin.c |  105 ++++++-----------------------
 libs/gib/gib_init.c    |    3 +
 libs/gib/gib_regex.c   |  174 ++++++++++++++++++++++++++++++++++++++++++++++++
 6 files changed, 252 insertions(+), 90 deletions(-)

commit 1251cbd
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 19 05:40:04 2002 +0000

    gee, you'ld think gnu would get pointer <-> int portability right :P

 libs/gib/regex.c |   12 ++++++------
 1 file changed, 6 insertions(+), 6 deletions(-)

commit 599b51b
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 19 05:03:42 2002 +0000

    hmm, hadn't noticed "stdint.h"

 tools/bsp2img/bsp2img.c |    1 -
 1 file changed, 1 deletion(-)

commit ac8acaa
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 19 05:02:57 2002 +0000

    need limits.h

 tools/bsp2img/bsp2img.c |    1 +
 1 file changed, 1 insertion(+)

commit 63dfd5e
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 19 05:01:39 2002 +0000

    MAXINT isn't as portable as one would like

 tools/bsp2img/bsp2img.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a17673b
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 19 04:34:44 2002 +0000

    fix some warnings

 libs/gib/regex.c |   12 ++++++------
 1 file changed, 6 insertions(+), 6 deletions(-)

commit 860306e
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Tue Nov 19 04:24:09 2002 +0000

    Oops, forgot these.

 include/Makefile.am    |    4 ++--
 include/QF/gib_parse.h |    1 +
 2 files changed, 3 insertions(+), 2 deletions(-)

commit 0e0d8bd
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Tue Nov 19 04:15:36 2002 +0000

    Added support for enclosing embedded commands in $() and cleaned up the
    parser a bit to accomodate this.  Backslashes in double quotes are now only
    removed if they escape a character that can't be written normally, or
    another backslash.  Removed start position support from string::findsub
    since variable slices can be used instead.  Added support for regular
    expressions in the form of regex::match, regex::replace, and
    regex::extract.  Checked in regex.c from GNU regex 0.12 for platforms that
    do not have regex functions in their standard library. Two minor changes
    were made to this file to fix gcc warnings.  Prepared the path transform
    function for a change to a filesystem rooted at fs_userpath instead of the
    current gamedir, but these changes are commented out pending security
    considerations.

 include/regex.h        |  490 +++++
 libs/gib/Makefile.am   |    2 +-
 libs/gib/gib_builtin.c |  157 +-
 libs/gib/gib_parse.c   |   26 +-
 libs/gib/gib_process.c |   58 +-
 libs/gib/gib_vars.c    |    5 +-
 libs/gib/regex.c       | 4954 ++++++++++++++++++++++++++++++++++++++++++++++++
 7 files changed, 5647 insertions(+), 45 deletions(-)

commit 0866f5d
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Nov 18 23:22:52 2002 +0000

    nuke a bunch of commented out code

 tools/bsp2img/bsp2img.c |   55 ++++-------------------------------------------
 1 file changed, 4 insertions(+), 51 deletions(-)

commit b44d61e
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Nov 18 22:46:53 2002 +0000

    use bspfile for reading the map

 tools/bsp2img/bsp2img.c |  357 +++++++++++------------------------------------
 1 file changed, 83 insertions(+), 274 deletions(-)

commit b1184fc
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Nov 18 22:14:31 2002 +0000

    run through indent and do some cleanup

 tools/bsp2img/bsp2img.c | 2239 ++++++++++++++++++++++++-----------------------
 1 file changed, 1132 insertions(+), 1107 deletions(-)

commit 2a1d855
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Nov 18 20:48:29 2002 +0000

    Import Matthew Wong's bsp2bmp utility using quakeio functions, creating an
    image_t type for the line point drawing, ditching the raw and bmp formats
    in favor of pcx (for now), and renaming to bsp2img. I plan on working on
    getopt, bspfile and other image formats in the future as well as generally
    cleaning up the code.

 configure.ac              |   13 +-
 tools/Makefile.am         |    2 +-
 tools/bsp2img/.gitignore  |    6 +
 tools/bsp2img/CHANGELOG   |   20 +
 tools/bsp2img/Makefile.am |   18 +
 tools/bsp2img/README      |   94 ++++
 tools/bsp2img/bsp2img.c   | 1218 +++++++++++++++++++++++++++++++++++++++++++++
 7 files changed, 1369 insertions(+), 2 deletions(-)

commit 4479842
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Nov 18 15:01:02 2002 +0000

    remove a duplicate perror call

 tools/qwaq/main.c |    1 -
 1 file changed, 1 deletion(-)

commit acbd838
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Sun Nov 17 00:12:14 2002 +0000

    Fixed a format string and added a cast to some pointer arithmetic.  This
    fix compile problems on non-intel archs.

 libs/gib/gib_builtin.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d4b1c74
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Sat Nov 16 20:56:04 2002 +0000

    Added the string::findsub builtin.  Added a reset function to the cbuf
    interpreter struct so that custom cbuf data can be reset after an error.
    This fixes a bug where GIB would think it was still waiting for a return
    value after an error occurred in an embedded command.

 include/QF/cbuf.h        |    1 +
 include/QF/gib_buffer.h  |    3 +--
 include/QF/gib_builtin.h |    2 ++
 libs/gib/gib_buffer.c    |    6 ++++++
 libs/gib/gib_builtin.c   |   25 ++++++++++++++++++++++++-
 libs/gib/gib_parse.c     |    1 +
 libs/util/cbuf.c         |    2 ++
 libs/util/idparse.c      |    1 +
 8 files changed, 38 insertions(+), 3 deletions(-)

commit ac8169b
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Sat Nov 16 03:52:07 2002 +0000

    Changed file::find to take the path and glob as one argument.  Made some
    miscellaneous file access cleanups.

 libs/gib/gib_builtin.c |   53 ++++++++++++++++++++++++++++++------------------
 1 file changed, 33 insertions(+), 20 deletions(-)

commit f26ec73
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Nov 16 02:03:39 2002 +0000

    fix an uninitialized variable

 libs/gib/gib_builtin.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 78785a9
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Fri Nov 15 23:27:07 2002 +0000

    Added a primitive interactive mode to carne and modified the file::read
    GIB builtin to use Qopen instead of COM_LoadHunkFile.  This makes it work
    properly in carne.

 libs/gib/gib_builtin.c |   16 ++++++---
 tools/carne/main.c     |   88 ++++++++++++++++++++++++++++++++++++++----------
 2 files changed, 82 insertions(+), 22 deletions(-)

commit cb81f17
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Nov 15 17:12:16 2002 +0000

    bah, bloody bison inconsistencies

 tools/qfcc/source/qc-parse.y |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 06df342
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Nov 15 14:56:57 2002 +0000

    fix a stray ;

 libs/gamecode/engine/pr_obj.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 2ad18a4
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Nov 14 22:17:25 2002 +0000

    don't double print Sys_Error messages when the print function is still
    the default

 libs/util/sys.c |   10 ++++++----
 1 file changed, 6 insertions(+), 4 deletions(-)

commit 10e34e6
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Nov 14 22:02:27 2002 +0000

    ignorage

 tools/carne/.gitignore |    6 ++++++
 1 file changed, 6 insertions(+)

commit d1199f2
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Nov 14 20:42:48 2002 +0000

    get categories working in the runtime :)

 libs/gamecode/engine/pr_obj.c |   69 +++++++++++++++++++++++++++++++++++++++++
 1 file changed, 69 insertions(+)

commit bad252c
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Nov 14 18:44:01 2002 +0000

    support category dumping

 tools/qfprogs/source/modules.c |   17 ++++++++++++++++-
 1 file changed, 16 insertions(+), 1 deletion(-)

commit 04867e0
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Nov 14 18:29:21 2002 +0000

    fix a silly bug that caused object names to get mangled when they had a
    super class

 tools/qfprogs/source/modules.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 3c215ce
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Nov 14 18:17:43 2002 +0000

    getting closer to working categories

 tools/qfcc/include/class.h   |   36 ++++--
 tools/qfcc/include/method.h  |    2 +-
 tools/qfcc/source/class.c    |  278 +++++++++++++++++++++++-------------------
 tools/qfcc/source/expr.c     |    5 +-
 tools/qfcc/source/method.c   |   15 ++-
 tools/qfcc/source/qc-parse.y |   60 ++++-----
 tools/qfcc/source/type.c     |    8 +-
 7 files changed, 230 insertions(+), 174 deletions(-)

commit e544c12
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Nov 14 15:37:09 2002 +0000

    fix a clobbered by longjump warning

 libs/util/sys.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 625e1e3
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Thu Nov 14 05:28:54 2002 +0000

    Added Sys_PathType, which reports whether a path is absolute, relative
    below, or relative above (uses .. to ascend the filesystem). Changed
    file functions in GIB to use this.  GIB can now be initialized in a
    non-sandboxed mode, which at the moment means that GIB scripts run with
    carne can access the entire filesystem.

 include/QF/gib_builtin.h |    2 +-
 include/QF/gib_init.h    |    2 +-
 include/QF/sys.h         |    7 ++++
 libs/gib/gib_builtin.c   |   99 +++++++++++++++++++++++++---------------------
 libs/gib/gib_init.c      |    4 +-
 libs/util/sys.c          |   19 +++++++++
 nq/source/host.c         |    2 +-
 qw/source/cl_main.c      |    2 +-
 qw/source/sv_main.c      |    2 +-
 tools/carne/main.c       |    2 +-
 10 files changed, 88 insertions(+), 53 deletions(-)

commit 7b0c24a
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Thu Nov 14 02:10:55 2002 +0000

    Added carne, the stand-alone GIB interpreter.  Made a few changes to GIB
    to accommodate it.  Added the strict flag to cbufs, which causes an error
    to be generated when a command is not found instead of just warning the
    user.  GIB buffers have the strict flag set by default.

 configure.ac              |   14 ++++++++-
 include/QF/cbuf.h         |    2 ++
 include/QF/gib_function.h |    1 +
 libs/gib/gib_buffer.c     |    1 +
 libs/gib/gib_builtin.c    |    4 +--
 libs/gib/gib_function.c   |   19 ++++++++----
 libs/util/cmd.c           |    4 ++-
 tools/Makefile.am         |    2 +-
 tools/carne/Makefile.am   |   22 ++++++++++++++
 tools/carne/main.c        |   74 +++++++++++++++++++++++++++++++++++++++++++++
 10 files changed, 132 insertions(+), 11 deletions(-)

commit 6ce0abe
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Nov 13 20:20:50 2002 +0000

    more alpha compile fixes. Closes: #60 because while it started out for
    0.1.1 it developed into an alpha compile issue for 0.5.2

 include/r_local.h                     |   13 ++++---------
 libs/video/renderer/sw32/d_edge.c     |    2 +-
 libs/video/renderer/sw32/sw32_rmisc.c |    5 +++--
 3 files changed, 8 insertions(+), 12 deletions(-)

commit 836c469
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Nov 13 19:26:44 2002 +0000

    sys.[ch]:
    	handle SIGFPE and allow the registered signal handler to do recovery
    	rather than bail
    progs.h, pr_exec.c, pr_load.c:
    	if pr_faultchecks is 1 (0 is default), handle division by 0 gracefully
    	by loading the maximum representable number into the answer
    	Closes: #58
    the rest:
    	kill the SIGFPE stuff

 include/QF/progs.h             |    1 +
 include/QF/sys.h               |    2 +-
 libs/gamecode/engine/pr_exec.c |   45 +++++++++++++++++++++++++++++++++-------
 libs/gamecode/engine/pr_load.c |    4 ++++
 libs/util/sys.c                |   38 +++++++++++++++++++++++----------
 nq/source/sys_sdl.c            |    2 --
 nq/source/sys_unix.c           |    9 --------
 nq/source/sys_unixd.c          |    2 --
 qw/source/cl_sys_sdl.c         |    2 --
 qw/source/cl_sys_unix.c        |    9 --------
 10 files changed, 70 insertions(+), 44 deletions(-)

commit 8cf5c9a
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Nov 13 16:17:00 2002 +0000

    don't die on invalid strings

 tools/qfprogs/source/modules.c |   37 ++++++++++++++++++++++++-------------
 1 file changed, 24 insertions(+), 13 deletions(-)

commit cef0d95
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Wed Nov 13 03:03:37 2002 +0000

    Added useful error messages to the math parser, cleaned up implied
    multiplication a bit, and added some whitespace to cbuf errors for
    readability.

 include/exp.h          |    1 +
 libs/gib/exp.c         |   70 ++++++++++++++++++++++++++++--------------------
 libs/gib/gib_process.c |    3 +--
 libs/util/cbuf.c       |    4 +--
 4 files changed, 45 insertions(+), 33 deletions(-)

commit da33441
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 12 19:52:43 2002 +0000

    re-write category handling so it has a better chance of working (category
    using code now compiles)

 tools/qfcc/include/class.h   |   12 ++-
 tools/qfcc/source/class.c    |  187 +++++++++++++++++++++++++++---------------
 tools/qfcc/source/method.c   |    4 +-
 tools/qfcc/source/qc-parse.y |    3 +-
 tools/qfcc/source/type.c     |    8 +-
 5 files changed, 137 insertions(+), 77 deletions(-)

commit 33918c6
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 12 15:21:53 2002 +0000

    didn't realize that was there

 debian/quakeforge-common.shlibs |    1 +
 1 file changed, 1 insertion(+)

commit 75c91e7
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 12 02:56:10 2002 +0000

    qwaq progs now take args :)

 tools/qwaq/main.c  |   12 ++++++++++++
 tools/qwaq/main.qc |    7 ++++++-
 2 files changed, 18 insertions(+), 1 deletion(-)

commit 44d0408
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Tue Nov 12 02:53:24 2002 +0000

    Two small fixes.

 doc/config/gib/zoom.gib |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 13c5216
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 12 02:30:08 2002 +0000

    do some cleanup

 tools/qwaq/builtins.c |   31 +++++-----
 tools/qwaq/defs.qc    |    3 +-
 tools/qwaq/main.c     |  156 ++++++++++++++++++++++++++++++++-----------------
 3 files changed, 120 insertions(+), 70 deletions(-)

commit f561d25
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Nov 11 21:29:05 2002 +0000

    show what console says

 qw/source/sv_ccmds.c |    2 ++
 1 file changed, 2 insertions(+)

commit bde21fa
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Nov 11 18:10:26 2002 +0000

    packaging fixes the for resurrected gib lib

 RPM/quakeforge.spec.in |    3 +++
 debian/rules           |    3 +++
 2 files changed, 6 insertions(+)

commit 0f71b02
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Mon Nov 11 01:57:34 2002 +0000

    Changed the name of GIB builtins from string.length to string::length, etc.
    Made a few miscellaneous cleanups and enhancements to builtins and changed
    all the GIB scripts in CVS to reflect the new naming conventions.

 doc/config/gib/cb.gib     |   94 +++++++++---------
 doc/config/gib/ln.gib     |    2 +-
 doc/config/gib/zoom.gib   |   32 +++----
 libs/console/client.c     |    6 +-
 libs/gib/gib_builtin.c    |  230 +++++++++++++++++++++------------------------
 libs/video/targets/keys.c |   10 +-
 qw/source/teamplay.c      |    8 +-
 7 files changed, 178 insertions(+), 204 deletions(-)

commit aa5ad0f
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Nov 10 23:31:19 2002 +0000

    don't use glXGetProcAddressARB to look up the glX functions. hopefully fixes
    the nvidea segfault

 libs/video/targets/vid_glx.c |    6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit 8ebef28
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Sun Nov 10 03:24:00 2002 +0000

    Removed references to Cmd_Return, which should have gone away when GIB was
    separated out into an independent interpreter.

 ruamoko/include/cmd.h |    1 -
 ruamoko/lib/cmd.r     |    1 -
 2 files changed, 2 deletions(-)

commit 498bdcc
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Nov 10 02:50:42 2002 +0000

    compile fixes for alpha linux

 libs/gib/.gitignore               |    7 +
 libs/gib/gib_builtin.c            |    2 +-
 libs/video/renderer/sw/d_polyse.c |  280 ++++++++++++++++++-------------------
 tools/qfbsp/source/qfbsp.c        |    4 +-
 tools/qfcc/source/qfodump.c       |    4 +-
 tools/qfcc/source/strpool.c       |    6 +-
 tools/qfdefs/source/gendefs.c     |   12 +-
 tools/qflight/source/threads.c    |    5 +-
 tools/qfvis/source/qfvis.c        |    6 +-
 9 files changed, 167 insertions(+), 159 deletions(-)

commit 77288fe
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Nov 9 21:56:13 2002 +0000

    make dist fix

 include/QF/Makefile.am |   14 +++++++-------
 1 file changed, 7 insertions(+), 7 deletions(-)

commit 5f606a2
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Nov 9 07:58:34 2002 +0000

    \r terminates a line only if followed by \n or the end of the buffer

 libs/util/idparse.c |    7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

commit b40400d
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Sat Nov 9 07:13:52 2002 +0000

    Moved GIB into libs/gib and made util no longer depend on it.  Cleaned up
    some cruft from a previous incarnation of GIB.

 configure.ac                    |    1 +
 include/QF/cmd.h                |    2 -
 include/QF/gib_init.h           |   32 ++
 libs/Makefile.am                |    2 +-
 libs/gamecode/builtins/bi_cmd.c |   12 +-
 libs/gib/Makefile.am            |   10 +
 libs/gib/exp.c                  |  508 +++++++++++++++++++++++++
 libs/gib/gib_buffer.c           |   68 ++++
 libs/gib/gib_builtin.c          |  800 +++++++++++++++++++++++++++++++++++++++
 libs/gib/gib_function.c         |  139 +++++++
 libs/gib/gib_init.c             |   88 +++++
 libs/gib/gib_parse.c            |  541 ++++++++++++++++++++++++++
 libs/gib/gib_process.c          |  302 +++++++++++++++
 libs/gib/gib_thread.c           |  143 +++++++
 libs/gib/gib_vars.c             |  186 +++++++++
 libs/gib/ops.c                  |  149 ++++++++
 libs/util/Makefile.am           |   10 +-
 libs/util/cmd.c                 |   34 +-
 libs/util/exp.c                 |  508 -------------------------
 libs/util/gib_buffer.c          |   68 ----
 libs/util/gib_builtin.c         |  800 ---------------------------------------
 libs/util/gib_function.c        |  139 -------
 libs/util/gib_parse.c           |  541 --------------------------
 libs/util/gib_process.c         |  302 ---------------
 libs/util/gib_thread.c          |  143 -------
 libs/util/gib_vars.c            |  186 ---------
 libs/util/ops.c                 |  149 --------
 nq/source/Makefile.am           |    3 +-
 nq/source/host.c                |    2 +
 qw/source/Makefile.am           |    6 +-
 qw/source/cl_input.c            |    8 -
 qw/source/cl_main.c             |   32 +-
 qw/source/sv_main.c             |    2 +
 33 files changed, 2991 insertions(+), 2925 deletions(-)

commit 1dfbf4b
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Nov 8 23:13:52 2002 +0000

    win32 compile fixes

 include/winquake.h           |    1 +
 libs/video/targets/joy_win.c |  166 +++++++++++++++++++++---------------------
 libs/video/targets/vid_wgl.c |    1 -
 3 files changed, 84 insertions(+), 84 deletions(-)

commit d0084cb
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Nov 8 18:50:08 2002 +0000

    tell dh_strip to leave ruamoko libs alone

 debian/rules |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f94eeb5
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Nov 8 17:36:47 2002 +0000

    fix some alpha warnings

 tools/qfbsp/source/qfbsp.c |   11 +++++++++--
 1 file changed, 9 insertions(+), 2 deletions(-)

commit a5ead00
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Nov 8 17:13:23 2002 +0000

    small bit of cleanup

 libs/util/bspfile.c |   92 ++++++++++++++++++++++++++++-----------------------
 1 file changed, 50 insertions(+), 42 deletions(-)

commit 3d44623
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Nov 8 16:39:28 2002 +0000

    change Cmd_Exec_File's api so it can conditionally use normal or quake
    file system accesses. fixes the map.cfg exec problem

 include/QF/cmd.h     |    2 +-
 libs/util/cmd.c      |   11 ++++++++---
 nq/source/cl_parse.c |    4 ++--
 nq/source/host.c     |    6 +++---
 qw/source/cl_main.c  |    6 +++---
 qw/source/cl_parse.c |    4 ++--
 qw/source/sv_main.c  |    6 +++---
 7 files changed, 22 insertions(+), 17 deletions(-)

commit d46b37f
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Nov 8 03:35:22 2002 +0000

    use COM_CompressPath

 libs/gamecode/builtins/bi_file.c |   48 +++++---------------------------------
 1 file changed, 6 insertions(+), 42 deletions(-)

commit 864b181
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Nov 8 03:27:05 2002 +0000

    d'oh, COM_FOpenFile could probably do with a re-design of its api :P

 nq/source/cl_parse.c |    3 ++-
 qw/source/cl_parse.c |    3 ++-
 2 files changed, 4 insertions(+), 2 deletions(-)

commit 62bbd02
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Nov 8 03:12:22 2002 +0000

    prototype Com_CollapsePath

 include/QF/quakefs.h |    1 +
 1 file changed, 1 insertion(+)

commit ec0273e
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Nov 8 02:43:04 2002 +0000

    do a pre and post pass for maps/mapname.cfg and use maps_default.cfg if
    maps/mapname.cfg doesn't exist.

 libs/gamecode/engine/pr_exec.c |   58 +++++++++++++++++-----------------------
 nq/source/cl_parse.c           |   31 +++++++++++++++------
 qw/source/cl_parse.c           |   33 +++++++++++++++++------
 3 files changed, 73 insertions(+), 49 deletions(-)

commit 8d736d7
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Nov 7 16:43:05 2002 +0000

    uptime (via status) for qw-server and map time and auto map start for
    nq-server

 NEWS                 |    3 +++
 nq/source/host.c     |   11 +++++++++--
 nq/source/host_cmd.c |   19 ++++++++++++++++++-
 qw/source/sv_ccmds.c |    1 +
 4 files changed, 31 insertions(+), 3 deletions(-)

commit 71e95ee
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Nov 6 17:09:01 2002 +0000

    stop lying about responding to Delete events

 libs/video/targets/context_x11.c |    5 -----
 1 file changed, 5 deletions(-)

commit 749b56a
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Nov 6 16:32:28 2002 +0000

    forgot to fix these when I did the copyrights

 tools/qfcc/source/qc-lex.l   |   10 +++++-----
 tools/qfcc/source/qc-parse.y |   10 +++++-----
 2 files changed, 10 insertions(+), 10 deletions(-)

commit eeb4e4f
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Nov 6 14:56:39 2002 +0000

    how that got past my compile tests is beyond me

 include/QF/sound.h           |    1 +
 libs/audio/renderer/vorbis.c |    2 +-
 2 files changed, 2 insertions(+), 1 deletion(-)

commit ca4b3ac
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 5 19:12:51 2002 +0000

    big protototype cleanup. Now, except for a few cases, all non-static
    prototypes are in headers files.

 include/QF/GL/extensions.h             |    6 +
 include/QF/GL/qf_rsurf.h               |    2 +
 include/QF/draw.h                      |    2 +
 include/QF/model.h                     |    7 +
 include/QF/render.h                    |    5 +
 include/QF/sound.h                     |   12 +
 include/QF/vid.h                       |    2 +
 include/QF/zone.h                      |    2 +
 include/d_local.h                      |    7 +
 include/fbset.h                        |   10 +
 include/r_dynamic.h                    |    1 +
 include/r_local.h                      |   34 +++
 include/sbar.h                         |    5 +
 include/world.h                        |    3 +
 libs/audio/cd/cd_sgi.c                 |    2 -
 libs/audio/renderer/snd_dma.c          |  385 +++++++++++++++-----------------
 libs/audio/renderer/snd_mem.c          |    5 -
 libs/audio/renderer/snd_mix.c          |    5 -
 libs/audio/renderer/snd_null.c         |    5 -
 libs/audio/renderer/vorbis.c           |    4 -
 libs/gamecode/engine/pr_edict.c        |    2 -
 libs/models/brush/gl_model_brush.c     |  131 +++++++++++
 libs/models/brush/model_brush.c        |   30 ++-
 libs/models/brush/sw_model_brush.c     |    2 +-
 libs/models/model.c                    |   47 ++--
 libs/util/bspfile.c                    |   42 ++--
 libs/util/exp.c                        |   45 ++--
 libs/util/gib_buffer.c                 |    6 +-
 libs/util/gib_parse.c                  |    7 +-
 libs/util/gib_process.c                |    2 -
 libs/util/ops.c                        |   66 ++++--
 libs/util/wad.c                        |    3 -
 libs/util/zone.c                       |   28 +--
 libs/video/renderer/gl/gl_dyn_lights.c |    2 +-
 libs/video/renderer/gl/gl_rmain.c      |    4 -
 libs/video/renderer/gl/gl_rmisc.c      |    4 -
 libs/video/renderer/gl/gl_rsurf.c      |    3 +-
 libs/video/renderer/gl/gl_screen.c     |   34 ++-
 libs/video/renderer/gl/gl_warp.c       |  130 -----------
 libs/video/renderer/sw/d_polyse.c      |   11 +-
 libs/video/renderer/sw/d_scan.c        |    3 -
 libs/video/renderer/sw/screen.c        |   36 ++-
 libs/video/renderer/sw/sw_raclip.c     |   11 -
 libs/video/renderer/sw/sw_ralias.c     |    8 -
 libs/video/renderer/sw/sw_redge.c      |    7 -
 libs/video/renderer/sw/sw_rmain.c      |    5 -
 libs/video/renderer/sw/sw_rsurf.c      |    5 -
 libs/video/renderer/sw32/d_polyse.c    |  118 +++++-----
 libs/video/renderer/sw32/d_scan.c      |    4 -
 libs/video/renderer/sw32/screen.c      |   36 ++-
 libs/video/renderer/sw32/sw32_raclip.c |   11 -
 libs/video/renderer/sw32/sw32_ralias.c |    9 -
 libs/video/renderer/sw32/sw32_redge.c  |    7 -
 libs/video/renderer/sw32/sw32_rmain.c  |    5 -
 libs/video/renderer/sw32/sw32_rsurf.c  |   13 --
 libs/video/targets/fbset.c             |   16 +-
 libs/video/targets/in_win.c            |    2 -
 libs/video/targets/joy_win.c           |    5 -
 libs/video/targets/vid_3dfxsvga.c      |    8 -
 libs/video/targets/vid_ext.c           |    7 -
 libs/video/targets/vid_fbdev.c         |   12 -
 libs/video/targets/vid_svgalib.c       |    3 -
 libs/video/targets/vid_x11.c           |    3 -
 nq/include/client.h                    |    1 +
 nq/source/cl_cam.c                     |    3 -
 nq/source/cl_demo.c                    |    4 +-
 nq/source/cl_parse.c                   |    3 +-
 nq/source/com.c                        |    3 +-
 nq/source/conproc.c                    |    1 -
 nq/source/host_cmd.c                   |    3 -
 nq/source/locs.c                       |   38 ++--
 nq/source/mplib.c                      |    1 -
 nq/source/mplpc.c                      |    1 -
 nq/source/sbar.c                       |   10 +-
 nq/source/sv_model.c                   |    7 +-
 qw/include/cl_input.h                  |    2 +
 qw/include/client.h                    |    2 +
 qw/include/net.h                       |    2 +
 qw/include/pmove.h                     |    4 +
 qw/include/server.h                    |    1 +
 qw/include/sv_demo.h                   |    1 +
 qw/source/cl_cam.c                     |    2 -
 qw/source/cl_demo.c                    |   13 +-
 qw/source/cl_main.c                    |   22 +-
 qw/source/cl_parse.c                   |   39 ++--
 qw/source/cl_slist.c                   |    6 +-
 qw/source/com.c                        |    3 -
 qw/source/crudefile.c                  |    3 +-
 qw/source/locs.c                       |   38 ++--
 qw/source/net_chan.c                   |    2 +-
 qw/source/net_packetlog.c              |   38 ++--
 qw/source/pmove.c                      |    6 -
 qw/source/sbar.c                       |    4 -
 qw/source/sv_demo.c                    |    2 -
 qw/source/sv_main.c                    |   48 ++--
 qw/source/sv_model.c                   |    7 +-
 qw/source/sv_pr_cmds.c                 |    2 -
 qw/source/sv_send.c                    |    1 -
 qw/source/sv_user.c                    |    3 -
 tools/qfcc/source/obj_file.c           |    3 +-
 tools/qfmodelgen/source/cmdlib.c       |    3 +-
 tools/qfmodelgen/source/modelgen.c     |    3 +-
 102 files changed, 826 insertions(+), 946 deletions(-)

commit 43fa6a4
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Nov 4 17:54:31 2002 +0000

    inherited attributes rock :) (thanks, aho, ulman and sethi:)

 tools/qfcc/source/qc-parse.y |   92 ++++++++++++++++++++----------------------
 1 file changed, 44 insertions(+), 48 deletions(-)

commit 1cba65f
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Nov 4 02:24:28 2002 +0000

    fix a gcc 2.95 warning

 tools/qfcc/source/linker.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit a6a171a
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Nov 1 22:53:02 2002 +0000

    python before ruamoko does interesting things to the mind

 ruamoko/lib/Array.r |   70 +++++++++++++++++++++++++--------------------------
 1 file changed, 34 insertions(+), 36 deletions(-)

commit d5e9085
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Nov 1 18:11:20 2002 +0000

    add lib/ruamoko to the packages

 RPM/quakeforge.spec.in |    1 +
 debian/rules           |    3 ++-
 2 files changed, 3 insertions(+), 1 deletion(-)

commit be65608
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Nov 1 18:07:10 2002 +0000

    mention the qfcc search path improvements

 NEWS |    2 ++
 1 file changed, 2 insertions(+)

commit 7f69f59
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Nov 1 18:05:12 2002 +0000

    configure.ac:
    	define default include and lib paths for qfcc
    ruamoko:
    	{cl_menu,game}/Makefile.am:
    		conform to the new qfcc library linking rules
    	lib/Makefile.am:
    		install the libs to ${prefix}/lib/ruamoko
    qfcc:
    	linker.[ch]:
    		support path searching for -llib and make linker_add_lib search for
    		libfoo.a for -lfoo in the paths, or just a single dir search for the
    		libname otherwise.
    	options.c:
    		support -L libpath and setup the default include and lib paths
    		also change most strdup calls to save_string
    	qfcc.c:
    		check for foo.a as well as -lfoo when deciding whether the file is
    		an object file or lib file.

 configure.ac                |    2 ++
 ruamoko/cl_menu/Makefile.am |    2 +-
 ruamoko/game/Makefile.am    |    2 +-
 ruamoko/lib/Makefile.am     |    4 +++-
 tools/qfcc/include/linker.h |    1 +
 tools/qfcc/source/linker.c  |   48 +++++++++++++++++++++++++++++++++++++++++--
 tools/qfcc/source/options.c |   20 +++++++++++++-----
 tools/qfcc/source/qfcc.c    |   14 +++++++++----
 8 files changed, 79 insertions(+), 14 deletions(-)

commit ca95033
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Nov 1 01:39:36 2002 +0000

    and a bunch more cast fixes

 ruamoko/cl_menu/client_menu.qc  |   14 +++++++-------
 ruamoko/cl_menu/options.qc      |    6 +++---
 ruamoko/cl_menu/options_util.qc |    2 +-
 ruamoko/cl_menu/servlist.qc     |    2 +-
 ruamoko/game/World.r            |    4 ++--
 5 files changed, 14 insertions(+), 14 deletions(-)

commit 868201e
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Nov 1 01:31:37 2002 +0000

    remove a bunch of obsolete (and now wrong syntax anyway) casts

 ruamoko/include/Point.h |    1 -
 ruamoko/lib/InputLine.r |    2 +-
 ruamoko/lib/Point.r     |    4 ++--
 ruamoko/lib/Rect.r      |   18 +++++++++---------
 ruamoko/lib/Size.r      |    4 ++--
 5 files changed, 14 insertions(+), 15 deletions(-)

commit 9dc9ee5
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Oct 31 23:00:40 2002 +0000

    implement a dynamic array class

 ruamoko/include/Array.h     |   22 +++++++++++
 ruamoko/include/Makefile.am |    2 +-
 ruamoko/lib/Array.r         |   92 +++++++++++++++++++++++++++++++++++++++++++
 ruamoko/lib/Makefile.am     |    2 +-
 4 files changed, 116 insertions(+), 2 deletions(-)

commit 1a6a9f1
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Oct 31 23:00:13 2002 +0000

    make error reporting a little saner (hopefully)

 libs/util/pakfile.c |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 7af99f4
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Oct 31 22:58:59 2002 +0000

    expr.c:
    	fix a braino that caused only sizeof expr to work
    linker.c:
    	print an error message if unable to open the lib
    qc-parse.y:
    	revamp expression parsing so casting is done via (type)expr rather than
    	type(expr)
    	make it so pointers to pointers don't need ()s

 tools/qfcc/source/expr.c     |    2 +-
 tools/qfcc/source/linker.c   |    6 +++-
 tools/qfcc/source/qc-parse.y |   81 +++++++++++++++++++++++++-----------------
 3 files changed, 55 insertions(+), 34 deletions(-)

commit b367187
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Oct 30 15:54:17 2002 +0000

    make dist fix

 tools/qfcc/include/Makefile.am |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 667efab
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Oct 30 06:06:57 2002 +0000

    clean out the old win32 support. it's obsolete or dead or only semi-legal

 configure.ac                 |    1 -
 include/Makefile.am          |    8 +-
 include/win32/bc/borland.c   |   53 --------
 include/win32/bc/config.h    |  294 ----------------------------------------
 include/win32/mingw/config.h |  295 ----------------------------------------
 include/win32/vc/config.h    |  305 ------------------------------------------
 include/win32/vc/dirent.h    |  104 --------------
 include/win32/version.h      |   37 -----
 include/win32/version.h.in   |   37 -----
 9 files changed, 1 insertion(+), 1133 deletions(-)

commit 9a1223c
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Oct 30 05:06:03 2002 +0000

    need 14, not 4 for precache_sound

 tools/qfcc/source/expr.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 14ec351
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Oct 30 04:11:35 2002 +0000

    spelling corrections

 tools/qfcc/TODO |   10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit 7a195bb
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Oct 30 03:35:20 2002 +0000

    revert my fs code subversion (2001/07/17 22:10:20 utc commit) as it's no
    longer necessary with the new progs loading code

 libs/util/quakefs.c          |   17 +----
 tools/qfdefs/source/qfdefs.c |  152 ++++++++++++++++++++++++++++++------------
 2 files changed, 111 insertions(+), 58 deletions(-)

commit 37e2aa8
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Oct 30 02:43:23 2002 +0000

    remove some dead functions

 libs/util/quakefs.c |   51 +--------------------------------------------------
 1 file changed, 1 insertion(+), 50 deletions(-)

commit 912db03
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Oct 30 02:31:29 2002 +0000

    clean out the cmdlib crap from quakefs.c and nuke qfcc's last dependency
    on cmdlib.h (and nuke qfcc's cmdlib.h itself:)

 libs/util/quakefs.c              |   59 --------------------------------------
 tools/qfcc/include/cmdlib.h      |   31 --------------------
 tools/qfcc/source/idstuff.c      |    1 -
 tools/qfcc/source/qfcc.c         |   20 +++++++++++--
 tools/qfmodelgen/source/cmdlib.c |   20 +++++++++++++
 5 files changed, 38 insertions(+), 93 deletions(-)

commit 98563c1
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Oct 30 02:03:24 2002 +0000

    fix vorbis include handling when --with-vorbis is needed

 libs/audio/renderer/Makefile.am |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d2cedec
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Oct 29 15:24:17 2002 +0000

    make -t shortcut for --traditional work as pointed out by Dmitry Antipov
    (dmitry.antipov@mail.ru)

 tools/qfcc/source/options.c |    1 +
 1 file changed, 1 insertion(+)

commit aa36b85
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Oct 29 05:07:10 2002 +0000

    add PR_StringValid and PR_EdictValid to check the validity of progs string
    and entity values without crashing.

 include/QF/progs.h                |    2 ++
 libs/gamecode/engine/pr_edict.c   |   10 ++++++++++
 libs/gamecode/engine/pr_strings.c |   30 ++++++++++++++++++++++--------
 3 files changed, 34 insertions(+), 8 deletions(-)

commit 4ad8ed1
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Oct 26 03:41:34 2002 +0000

    *sigh* twice now forgot to remove that test code :P

 tools/qfcc/source/qc-lex.l |    1 -
 1 file changed, 1 deletion(-)

commit 2679ade
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Oct 26 03:41:10 2002 +0000

    forgot 0X0 was just as valid as 0x0

 tools/qfcc/source/qc-lex.l |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 99cdcc9
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Oct 26 03:23:19 2002 +0000

    support hex numbers

 tools/qfcc/source/qc-lex.l |   17 +++++++++++++++++
 1 file changed, 17 insertions(+)

commit 99e1851
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Sat Oct 26 03:09:38 2002 +0000

    Added support for escape characters of the form \### where ### is the
    decimal value of the desired character.

 libs/util/gib_process.c |   14 +++++++++++++-
 1 file changed, 13 insertions(+), 1 deletion(-)

commit d605394
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Oct 25 21:07:20 2002 +0000

    fix a nasty buffer overflow found by OptiMus

 qw/source/teamplay.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 01a7740
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Fri Oct 25 06:33:16 2002 +0000

    Added bind.get builtin that returns the command currently bound to a key.
    Fixed gib_builtin.h to include another needed header.

 include/QF/gib_builtin.h  |    1 +
 libs/video/targets/keys.c |   39 +++++++++++++++++++++++++++++++++++++++
 2 files changed, 40 insertions(+)

commit 8b46193
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Oct 24 22:36:15 2002 +0000

    seeking to 1 byte before the beginning of the file doesn't seem to be such
    a good idea

 libs/util/quakeio.c |   10 ++++++++--
 1 file changed, 8 insertions(+), 2 deletions(-)

commit bbb4574
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Oct 24 04:38:59 2002 +0000

    need skill, too! :P

 qw/source/sv_main.c |    3 +++
 1 file changed, 3 insertions(+)

commit 9298204
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Oct 24 02:45:16 2002 +0000

    support tonik's single player/coop qw port

 qw/include/sv_progs.h |    2 +-
 qw/source/sv_main.c   |    3 +++
 qw/source/sv_progs.c  |   25 +++++++++++++------------
 3 files changed, 17 insertions(+), 13 deletions(-)

commit 3f8920e
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Oct 23 22:55:28 2002 +0000

    apply Lorenzo Colitti's IPv6 mask patch (Closes: #57)

 qw/source/sv_main.c |    2 ++
 1 file changed, 2 insertions(+)

commit 012cc58
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Oct 23 20:42:02 2002 +0000

    move the debug related stuff from pr_exec.c to pr_debug.c

 libs/gamecode/engine/pr_debug.c |  128 ++++++++++++++++++++++++++++++++++++
 libs/gamecode/engine/pr_exec.c  |  137 ++-------------------------------------
 2 files changed, 133 insertions(+), 132 deletions(-)

commit 3a3da6a
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Oct 23 15:55:38 2002 +0000

    nuke PR_InitEdicts as it's redundant and only used in the tools due to
    forgetting to remove it

 libs/gamecode/engine/pr_edict.c |   25 -------------------------
 tools/qfprogs/source/qfprogs.c  |    4 +---
 tools/qwaq/main.c               |    4 +---
 3 files changed, 2 insertions(+), 31 deletions(-)

commit a4a5bb2
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Oct 23 04:57:08 2002 +0000

    split out the parsing code

 libs/gamecode/engine/Makefile.am |    4 +-
 libs/gamecode/engine/pr_edict.c  |  433 ---------------------------------
 libs/gamecode/engine/pr_parse.c  |  488 ++++++++++++++++++++++++++++++++++++++
 3 files changed, 490 insertions(+), 435 deletions(-)

commit 20d47cd
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Wed Oct 23 03:56:57 2002 +0000

    Added the global.delete builtin to clean up old global variables.  Updated
    cb.gib to use it.

 doc/config/gib/cb.gib   |    3 +++
 include/QF/gib_vars.h   |    2 +-
 libs/util/gib_builtin.c |   11 +++++++++++
 libs/util/gib_vars.c    |   23 +++++++++++++++++++++++
 4 files changed, 38 insertions(+), 1 deletion(-)

commit cfffd05
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Oct 23 02:44:42 2002 +0000

    missed these for mvd writing :P

 qw/source/sv_pr_cmds.c |   58 ++++++++++++++++++++++++++++++++++++++++++++----
 1 file changed, 54 insertions(+), 4 deletions(-)

commit 80e8522
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Oct 22 15:07:54 2002 +0000

    pr_xstatement now always reflects the currently executing statement making
    debugging easier in the event of a segfault

 include/QF/progs.h             |    2 +-
 libs/gamecode/engine/pr_exec.c |   91 +++++++++++++++++++++-------------------
 libs/gamecode/engine/pr_obj.c  |    2 +-
 3 files changed, 51 insertions(+), 44 deletions(-)

commit 567b905
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Oct 22 14:53:18 2002 +0000

    copyright block work

 tools/qfcc/include/class.h     |   10 +++++-----
 tools/qfcc/include/cmdlib.h    |    9 ---------
 tools/qfcc/include/cpp.h       |   10 +++++-----
 tools/qfcc/include/debug.h     |    8 ++++----
 tools/qfcc/include/def.h       |    8 ++++----
 tools/qfcc/include/emit.h      |   10 +++++-----
 tools/qfcc/include/expr.h      |   10 +++++-----
 tools/qfcc/include/function.h  |   10 +++++-----
 tools/qfcc/include/idstuff.h   |    8 ++++----
 tools/qfcc/include/immediate.h |    8 ++++----
 tools/qfcc/include/method.h    |   10 +++++-----
 tools/qfcc/include/opcodes.h   |    8 ++++----
 tools/qfcc/include/options.h   |   10 +++++-----
 tools/qfcc/include/qfcc.h      |    9 ++++-----
 tools/qfcc/include/reloc.h     |    8 ++++----
 tools/qfcc/include/struct.h    |   10 +++++-----
 tools/qfcc/include/switch.h    |   10 +++++-----
 tools/qfcc/include/type.h      |   10 +++++-----
 tools/qfcc/source/class.c      |   10 +++++-----
 tools/qfcc/source/cpp.c        |    6 +++---
 tools/qfcc/source/debug.c      |   10 +++++-----
 tools/qfcc/source/def.c        |   38 +++++++++++++++++++++++++-------------
 tools/qfcc/source/emit.c       |   10 +++++-----
 tools/qfcc/source/expr.c       |   10 +++++-----
 tools/qfcc/source/idstuff.c    |   38 +++++++++++++++++++++++++-------------
 tools/qfcc/source/immediate.c  |   37 ++++++++++++++++++++++++-------------
 tools/qfcc/source/opcodes.c    |   37 ++++++++++++++++++++++++-------------
 tools/qfcc/source/options.c    |    6 +++---
 tools/qfcc/source/qfodump.c    |   10 +++++-----
 tools/qfcc/source/reloc.c      |   10 +++++-----
 tools/qfcc/source/struct.c     |   10 +++++-----
 tools/qfcc/source/type.c       |   10 +++++-----
 32 files changed, 222 insertions(+), 186 deletions(-)

commit 9fd055e
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Tue Oct 22 05:34:59 2002 +0000

    A null ifs now causes every character to be considered a separate field in
    a for loop. You can now pass a field separator string to a for loop that
    will override the value of ifs.  Added the field.get command that returns
    a single field from a list.  It also can take a field separator string that
    overrides ifs.

 libs/util/gib_builtin.c |   56 ++++++++++++++++++++++++++++++++++++++++++++---
 1 file changed, 53 insertions(+), 3 deletions(-)

commit 1d96156
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Oct 22 04:30:20 2002 +0000

    make sure files loaded by the progs engine can be freed safely

 libs/console/menu.c |    7 +++++++
 1 file changed, 7 insertions(+)

commit 6203d45
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Oct 22 02:51:57 2002 +0000

    resture pr_xstatement on return from PR_ExecuteProgram so recursive calls
    don't mangle things with the new semantics of builtin calls

 libs/gamecode/engine/pr_exec.c |    1 +
 1 file changed, 1 insertion(+)

commit aad04ef
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Oct 21 16:38:45 2002 +0000

    move the correct amount of bytes (I keep forgetting the * 4 :P)

 libs/gamecode/engine/pr_exec.c |    5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 8fc17d2
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Oct 21 03:08:54 2002 +0000

    update

 tools/qfcc/TODO |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 4ee013c
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Oct 20 03:43:14 2002 +0000

    don't seg on null strings

 tools/qfcc/source/immediate.c |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 9f8d7fb
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Oct 20 03:31:49 2002 +0000

    re-write the hashing so pointers get merged only if they point to the same
    def

 tools/qfcc/source/immediate.c |  198 +++++++++++++++++++++++++----------------
 1 file changed, 120 insertions(+), 78 deletions(-)

commit 262bacc
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Oct 20 03:31:08 2002 +0000

    remove debug code :P

 tools/qfcc/source/emit.c |    3 ---
 1 file changed, 3 deletions(-)

commit b345f51
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Oct 20 03:30:22 2002 +0000

    provide Hash_Buffer so buffers can be hashed

 include/QF/hash.h |    5 +++++
 libs/util/hash.c  |   27 +++++++++++++++++++++++++++
 2 files changed, 32 insertions(+)

commit 7bb6dd7
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Oct 20 02:35:12 2002 +0000

    make chained structure assignments (mostly) work. found a bug in the
    handling of pointer immediates which needs fixing before this will work in
    general

 tools/qfcc/include/expr.h |    1 +
 tools/qfcc/source/emit.c  |   29 +++++++++++++++++++++++------
 tools/qfcc/source/expr.c  |   19 +++++++++++++------
 3 files changed, 37 insertions(+), 12 deletions(-)

commit 6ece3bc
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Oct 20 01:25:15 2002 +0000

    don't use move for non-structs. it wasn't an optimisation anyway. this
    fixes the internal error when compiling the quake1 progs

 tools/qfcc/source/expr.c |   10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit 65033cb
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Oct 18 17:47:31 2002 +0000

    make no_pogo_stick 3 force friction whether or not jump is active

 qw/source/pmove.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit dd727ed
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Oct 17 19:33:46 2002 +0000

    correct the type for obj_verror

 ruamoko/include/Object.h |    4 ++--
 ruamoko/lib/Object.r     |    4 ++--
 2 files changed, 4 insertions(+), 4 deletions(-)

commit 4810046
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Oct 17 19:33:06 2002 +0000

    copy the correct number of bytes

 libs/gamecode/engine/pr_obj.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 1c2d25c
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Oct 17 16:21:00 2002 +0000

    a couple of spelling corrections

 NEWS |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit ef33b97
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Oct 17 16:03:18 2002 +0000

    support as many packet entities in demos as qwex does (ie, 196). Makes me
    wonder if I should make the server support sending 196 packet entities to
    qf clients.

 qw/include/protocol.h |    3 ++-
 qw/include/sv_demo.h  |    2 --
 qw/source/cl_ents.c   |   12 ++++++------
 qw/source/cl_main.c   |    2 +-
 qw/source/sv_ents.c   |    7 +++++--
 5 files changed, 14 insertions(+), 12 deletions(-)

commit 4da662e
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Oct 16 22:17:26 2002 +0000

    implement pr_obj_msg_sendv

 include/QF/pr_comp.h          |    4 ++++
 libs/gamecode/engine/pr_obj.c |   19 ++++++++++++++-----
 2 files changed, 18 insertions(+), 5 deletions(-)

commit 2590f3d
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Oct 16 17:36:21 2002 +0000

    comment on @args etc

 NEWS |   10 +++++++++-
 1 file changed, 9 insertions(+), 1 deletion(-)

commit 3789314
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Oct 16 17:31:15 2002 +0000

    make the debug level controlable

 tools/qfprogs/source/qfprogs.c |   12 +++++++++---
 1 file changed, 9 insertions(+), 3 deletions(-)

commit 54564a4
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Oct 16 17:07:01 2002 +0000

    structure copies now seem to work

 tools/qfcc/source/emit.c |   42 +++++++++++++++++++++++++++++++++++++-----
 tools/qfcc/source/expr.c |   29 ++++++++++++++++++++++++-----
 2 files changed, 61 insertions(+), 10 deletions(-)

commit be4b809
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Oct 16 06:44:41 2002 +0000

    two new instructions: move and movep: basicly memmove. qfcc support coming
    as soon as I get it working :)

 include/QF/pr_comp.h             |    3 +++
 libs/gamecode/engine/pr_exec.c   |    8 ++++++++
 libs/gamecode/engine/pr_opcode.c |    3 +++
 3 files changed, 14 insertions(+)

commit 0c0e4b2
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Oct 16 06:39:49 2002 +0000

    d'oh, temps are never global

 tools/qfcc/source/emit.c |    1 -
 1 file changed, 1 deletion(-)

commit 5a182b7
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Oct 16 06:33:14 2002 +0000

    turns out that flags == 0 is quite valid (d'oh)

 tools/qfcc/source/obj_file.c |    4 ----
 1 file changed, 4 deletions(-)

commit 5eeb8bb
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Oct 16 06:31:00 2002 +0000

    bah, bison decided to re-arange my tokens!

 tools/qfcc/source/expr.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 8c2afef
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Wed Oct 16 04:59:34 2002 +0000

    Changed GIB_Arg* into macros.  Cleaned up GIB file access a bit and added
    file.move and file.delete builtins.  Added Qremove to quakeio.[ch]. Did
    a little cleaning and commenting in gib_parse.c.  Added support for \t
    and \r escape characters.

 include/QF/gib_builtin.h |   10 ++--
 include/QF/quakeio.h     |    1 +
 libs/util/gib_builtin.c  |  118 +++++++++++++++++++++++++++-------------------
 libs/util/gib_parse.c    |   35 +++++++++++---
 libs/util/gib_process.c  |   14 ++++--
 libs/util/quakeio.c      |    8 ++++
 6 files changed, 125 insertions(+), 61 deletions(-)

commit 7542a24
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Oct 16 02:28:08 2002 +0000

    replace @argc and @argv with @args.count and @args.list. @args is of type
    @va_list making it possible (though not yet: need to implement structure
    copy) to pass ... params around.

 tools/qfcc/include/type.h    |    1 +
 tools/qfcc/source/function.c |   15 +++++----------
 tools/qfcc/source/qc-lex.l   |    2 ++
 tools/qfcc/source/qc-parse.y |   24 +++++++++++++++++++++---
 tools/qfcc/source/type.c     |   18 +++++++++++++++++-
 5 files changed, 46 insertions(+), 14 deletions(-)

commit 27effb5
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Oct 16 02:05:39 2002 +0000

    make struct_t and enum_t globally visible, re-do how enum info is stored
    and make it possible to create a structure using a pre-existing type

 tools/qfcc/include/struct.h |   13 ++++++++++++
 tools/qfcc/source/struct.c  |   46 +++++++++++++++++++------------------------
 2 files changed, 33 insertions(+), 26 deletions(-)

commit 6af5704
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Oct 16 02:04:06 2002 +0000

    make pointers work a bit better

 tools/qfcc/include/expr.h    |    1 -
 tools/qfcc/source/emit.c     |    7 +++++--
 tools/qfcc/source/expr.c     |   12 ++----------
 tools/qfcc/source/obj_file.c |    4 ++++
 4 files changed, 11 insertions(+), 13 deletions(-)

commit 3b3b90e
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Oct 16 01:53:56 2002 +0000

    fix for new bison

 tools/qfcc/source/qc-parse.y |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 68b41f9
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Oct 15 19:52:46 2002 +0000

    make dstring_adjust `grow' in increments of 1024. this should speed up
    multiple appends nicely.
    also create davsprintf and dasprintf to /append/ the printed strings to the
    dstring rather than overwriting it as is done with dvsprintf and dsprintf.

 include/QF/dstring.h |    2 ++
 libs/util/dstring.c  |   52 +++++++++++++++++++++++++++++++++++++++++---------
 2 files changed, 45 insertions(+), 9 deletions(-)

commit 1f0b6e8
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Oct 15 18:53:33 2002 +0000

    change pr_obj_msgSend and pr_obj_msgSend_super so they either call builtin
    methods directly or setup the progs struct for a normal function call to
    call a progs method rather than recursively calling PR_ExecuteProgram. This
    will reduce method call overhead (both cpu and stack usage), fix the loss
    of tracing when calling a method and makes it possible to break out of the
    progs engine simply if threaded progs are ever implemented.

 include/QF/progs.h             |    1 +
 libs/gamecode/engine/pr_exec.c |    1 +
 libs/gamecode/engine/pr_obj.c  |   24 ++++++++++++++++++++++--
 3 files changed, 24 insertions(+), 2 deletions(-)

commit fcb06db
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Oct 15 17:36:12 2002 +0000

    blah :)

 NEWS |    1 +
 1 file changed, 1 insertion(+)

commit 99350cf
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Oct 15 17:32:47 2002 +0000

    cleanup some bitrot that caused qf to seg when using the null sound driver

 libs/audio/targets/snd_null.c |   17 +++++++++++++----
 1 file changed, 13 insertions(+), 4 deletions(-)

commit 72e1ab0
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Sun Oct 13 19:46:47 2002 +0000

    Added the sleep console command that waits for a specified amount of time.
    Note that this isn't a GIB-specific command but is very useful in GIB
    threads.  Fixed the range GIB command to respect the ifs local variable.

 include/QF/cbuf.h       |    2 ++
 libs/util/cbuf.c        |    6 ++++++
 libs/util/cmd.c         |   14 ++++++++++++++
 libs/util/gib_builtin.c |    5 ++++-
 4 files changed, 26 insertions(+), 1 deletion(-)

commit 70c1fee
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Sun Oct 13 19:18:10 2002 +0000

    Fixed some missing commas that resulted in garbled cbuf error messages.

 libs/util/gib_builtin.c |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 8b31103
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Sun Oct 13 05:52:06 2002 +0000

    Var substitution is now handled in the same pass as embedded return values.
    This prevents var substitution from being performed on the return value
    of a function.  The local variable ifs can now be set to specify a custom
    field separator for use in for loops.  file.find will also insert ifs
    between file names instead of a space if it is set.  file.find will also
    no longer put . and .. in a list of file names.

 include/QF/gib_buffer.h  |    2 +-
 include/QF/gib_process.h |    1 -
 libs/util/gib_builtin.c  |   25 ++++++--
 libs/util/gib_process.c  |  141 +++++++++++++++++++++-------------------------
 4 files changed, 83 insertions(+), 86 deletions(-)

commit ce2cfbc
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Oct 11 22:13:40 2002 +0000

    clear beam end time when beams expire

 nq/source/cl_tent.c |    3 +++
 qw/source/cl_tent.c |    3 +++
 2 files changed, 6 insertions(+)

commit 652907b
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Oct 11 21:32:17 2002 +0000

    X overlays crash fix from Vincent Cojot

 libs/video/targets/context_x11.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit eb83021
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Oct 11 20:54:34 2002 +0000

    hmm, missed that one

 qw/source/cl_sys_win.c |    2 --
 1 file changed, 2 deletions(-)

commit 9f7c669
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Oct 11 20:47:17 2002 +0000

    various win32 compile fixes for the latest mingw (not fully working due to
    LPCWAVEFORMATEX)

 libs/audio/cd/cd_win.c       |    2 +-
 libs/util/plugin.c           |    2 +-
 libs/util/sys.c              |    2 +-
 libs/video/targets/joy_win.c |    4 +---
 nq/source/conproc.c          |    2 +-
 qw/source/cl_main.c          |    3 +++
 qw/source/cl_slist.c         |    2 +-
 qw/source/cl_sys_win.c       |    2 +-
 qw/source/master.c           |    3 +++
 qw/source/sv_main.c          |    3 +++
 qw/source/sv_sys_win.c       |    2 ++
 11 files changed, 18 insertions(+), 9 deletions(-)

commit c1cad31
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Oct 11 17:43:51 2002 +0000

    fix some missing windows files

 nq/source/Makefile.am |    2 ++
 qw/source/Makefile.am |    2 ++
 2 files changed, 4 insertions(+)

commit 347815f
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Oct 11 03:40:41 2002 +0000

    Call CL_UpdateScreen a few extra times to make sure the screen gets updated
    before any lengthy pauses occur

 nq/source/host.c    |    5 +++++
 qw/source/cl_main.c |    5 +++++
 2 files changed, 10 insertions(+)

commit a055269
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Oct 11 03:29:39 2002 +0000

    workaround for buggy glibc memcpy (Closes: #28)

 libs/audio/renderer/snd_dma.c |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit cddca45
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Oct 11 03:15:41 2002 +0000

    behave sanely when the requested map doesn't exist (Closes #44). I'm
    closing the bug because X closing on qf receiving TERM or KILL is due to
    X segfaulting and thus is an X bug.

 nq/source/host_cmd.c |   16 +++++++++++++++-
 1 file changed, 15 insertions(+), 1 deletion(-)

commit d7e7b7d
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Oct 11 02:54:02 2002 +0000

    cause the model to load into a calloced buffer rather than the hunk temp
    region to avoid the data getting corrupted by cache shufflings. This
    /should/ fix the bad extents bug (Closes: #37)

 libs/models/model.c |    5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

commit 00b798c
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Thu Oct 10 20:12:32 2002 +0000

    MORE whitespace. Will it never end?

 libs/video/renderer/gl/gl_rmain.c |    5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

commit 0b0f9ee
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Thu Oct 10 20:03:23 2002 +0000

    More whitespace.

 libs/video/renderer/gl/gl_dyn_part.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit ef47bf6
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Thu Oct 10 19:49:36 2002 +0000

    gl_skymultipass -> gl_sky_multipass. Much nicer tab completion.

 include/r_cvar.h                     |    2 +-
 libs/video/renderer/gl/gl_sky.c      |    2 +-
 libs/video/renderer/gl/gl_sky_clip.c |    2 +-
 libs/video/renderer/r_cvar.c         |    4 ++--
 4 files changed, 5 insertions(+), 5 deletions(-)

commit b025a4e
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Thu Oct 10 19:44:27 2002 +0000

    Wh17e5p@c3!

 libs/video/renderer/sw/d_surf.c |   15 ++-------------
 1 file changed, 2 insertions(+), 13 deletions(-)

commit 0d28f4d
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Thu Oct 10 19:32:19 2002 +0000

    More whitespace.

 libs/video/targets/vid_common_gl.c |   18 +++++++-----------
 1 file changed, 7 insertions(+), 11 deletions(-)

commit 9648fbf
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Thu Oct 10 19:24:36 2002 +0000

    Whitespace.

 libs/audio/targets/snd_alsa_0_9.c |   18 +++++++++---------
 1 file changed, 9 insertions(+), 9 deletions(-)

commit 5f8118c
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Oct 10 03:35:45 2002 +0000

    bah

 qw/source/sv_ccmds.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 5e13394
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Oct 10 02:17:11 2002 +0000

    rewrite the user matching to assume a clean number refers to uid rathern
    than an leet matched name (Closes: #56)

 qw/source/sv_ccmds.c |  202 +++++++++++++++++++++-----------------------------
 1 file changed, 86 insertions(+), 116 deletions(-)

commit 8591a4c
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Oct 9 22:41:07 2002 +0000

    print the current map time with the map name for "map"

 qw/source/sv_ccmds.c |   36 +++++++++++++++++++++++++++++++++++-
 1 file changed, 35 insertions(+), 1 deletion(-)

commit f95510b
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Oct 9 20:35:25 2002 +0000

    make vector.x work for structure fields (which actually makes vectors more
    useful in structures:)

 tools/qfcc/source/expr.c |   17 ++++++++++++++++-
 1 file changed, 16 insertions(+), 1 deletion(-)

commit df1fdca
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Oct 9 19:33:47 2002 +0000

    add some notes about the threading of qfvis

 tools/qfvis/source/notes |   29 +++++++++++++++++++++++++++++
 1 file changed, 29 insertions(+)

commit 7e4e1a1
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Oct 9 19:30:43 2002 +0000

    partial support for accessing vector components as .x .y and .z rather than
    _x _y and _z

 tools/qfcc/source/expr.c |   52 ++++++++++++++++++++++++++++++++++++++++++++--
 1 file changed, 50 insertions(+), 2 deletions(-)

commit 22d3cf9
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Oct 9 19:17:45 2002 +0000

    rename the def_void and dev_function defs

 tools/qfcc/source/def.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 8238223
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Oct 9 19:16:55 2002 +0000

    support emitting bind sub-expressions

 tools/qfcc/source/emit.c |    4 ++++
 1 file changed, 4 insertions(+)

commit a20bb94
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Oct 8 22:35:37 2002 +0000

    type.[ch]:
    	provide a vector structure def so vector.[xyz] can be implemented
    def.c:
    	record the return address in get_temp to aid debugging

 tools/qfcc/include/type.h |    2 ++
 tools/qfcc/source/def.c   |    1 +
 tools/qfcc/source/type.c  |    7 +++++++
 3 files changed, 10 insertions(+)

commit 5756892
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Tue Oct 8 19:46:42 2002 +0000

    Tidy up progs dump output, and do some whitespace.

 libs/gamecode/engine/pr_edict.c |  214 +++++++++++++++++++--------------------
 1 file changed, 105 insertions(+), 109 deletions(-)

commit bca2759
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Oct 8 18:20:09 2002 +0000

    record the type of the result of a bind expr

 tools/qfcc/source/expr.c |    1 +
 1 file changed, 1 insertion(+)

commit f992090
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Oct 8 18:03:23 2002 +0000

    don't do extra manipulations for unnamed defs

 tools/qfcc/source/def.c |   37 ++++++++++++++++++++-----------------
 1 file changed, 20 insertions(+), 17 deletions(-)

commit fa31594
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Oct 8 04:09:44 2002 +0000

    ditto :)

 NEWS |    2 ++
 1 file changed, 2 insertions(+)

commit 95d504f
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Oct 8 04:08:07 2002 +0000

    make sv_maxrate changes effective immediately

 qw/source/sv_main.c |   29 ++++++++++++++++++++++++++++-
 1 file changed, 28 insertions(+), 1 deletion(-)

commit 80d2f8e
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Oct 7 22:15:19 2002 +0000

    make it so the demo recorder and normal protocol use common code to
    calculate the client stats

 qw/source/sv_send.c |   85 +++++++++++++++++++--------------------------------
 1 file changed, 32 insertions(+), 53 deletions(-)

commit cb368e0
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Oct 7 18:58:54 2002 +0000

    support writing the extended stats to mvds

 qw/source/sv_send.c |   14 ++++++++++++--
 1 file changed, 12 insertions(+), 2 deletions(-)

commit fb8a5af
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Oct 7 03:58:08 2002 +0000

    fix a bunch more potential message writes while playing demos

 qw/source/cl_cam.c   |   12 ++++++++----
 qw/source/cl_cvar.c  |    2 +-
 qw/source/cl_main.c  |    4 +++-
 qw/source/cl_parse.c |    8 +++++---
 qw/source/sbar.c     |    6 ++++--
 5 files changed, 21 insertions(+), 11 deletions(-)

commit 9c4f2d3
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Sun Oct 6 04:40:18 2002 +0000

    Add print and print.center GIB commands and fix a nasty bug with threads
    that could cause a double free.

 libs/console/client.c   |   18 ++++++++++++++++++
 libs/util/gib_builtin.c |   17 ++++++++++++++++-
 2 files changed, 34 insertions(+), 1 deletion(-)

commit a0f4981
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Oct 6 04:30:50 2002 +0000

    cl_parse.c:
    	print the name of the last svc parsed when a badread happens
    sv_ents.c:
    	allocate enough space for the svc_nails2 nails

 qw/source/cl_parse.c |    5 +++--
 qw/source/sv_ents.c  |    3 ++-
 2 files changed, 5 insertions(+), 3 deletions(-)

commit afad07b
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Oct 6 03:54:54 2002 +0000

    never print the rcon password given as it may be a legitimate password for
    another server (ie, confused person :)

 qw/source/sv_main.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 9145388
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Oct 5 04:52:09 2002 +0000

    /never/ write to the message buffers when playing a demo. This avoids the
    "SZ_GetSpace: overflow" messages when playing denis (especially mvd in 1st
    person mode).

 qw/source/cl_cam.c    |   12 ++++++++----
 qw/source/cl_parse.c  |   36 ++++++++++++++++++++++--------------
 qw/source/cl_screen.c |    2 +-
 qw/source/cl_skin.c   |    3 ++-
 4 files changed, 33 insertions(+), 20 deletions(-)

commit 6917d2c
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Oct 5 02:21:44 2002 +0000

    fix a silly pointed out by sixk@ifrance.com

 libs/video/targets/in_sdl.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f78d6cb
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Oct 4 15:01:46 2002 +0000

    update

 TODO |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 8e3335b
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Oct 4 14:49:15 2002 +0000

    uptodateitude

 NEWS |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 6e015bb
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Oct 4 03:36:51 2002 +0000

    d'oh, forgot to fix the FIXME :) fixes the seg on demo record start when
    more than 1 player is invovled

 qw/include/server.h |    1 -
 qw/source/sv_demo.c |   20 +++++++++++++-------
 2 files changed, 13 insertions(+), 8 deletions(-)

commit e698af0
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Oct 4 03:02:38 2002 +0000

    cut some spam

 qw/source/cl_cam.c |    6 ++----
 1 file changed, 2 insertions(+), 4 deletions(-)

commit 212e40b
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Oct 4 02:29:03 2002 +0000

    mvd recording :) (thanks to qwex 0.165b and highlander)

 qw/include/protocol.h  |    2 +-
 qw/include/server.h    |    8 +-
 qw/include/sv_demo.h   |   29 ++++--
 qw/source/cl_main.c    |    6 ++
 qw/source/sv_ccmds.c   |   51 ++++++----
 qw/source/sv_demo.c    |  256 +++++++++++++++++-------------------------------
 qw/source/sv_ents.c    |  131 +++++++++++++++++++++----
 qw/source/sv_main.c    |   28 +++++-
 qw/source/sv_pr_cmds.c |    2 +-
 qw/source/sv_send.c    |  206 ++++++++++++++++++++++++++++++++++++--
 qw/source/sv_user.c    |   54 ++++++----
 11 files changed, 532 insertions(+), 241 deletions(-)

commit 30c8646
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Oct 3 21:00:35 2002 +0000

    bring in sv_demo.c from qwex. This is only the beginning of the mvd server
    side support.

 qw/include/Makefile.am |    5 +-
 qw/include/server.h    |    8 +
 qw/include/sv_demo.h   |  116 ++++
 qw/source/Makefile.am  |    6 +-
 qw/source/sv_demo.c    | 1768 ++++++++++++++++++++++++++++++++++++++++++++++++
 5 files changed, 1898 insertions(+), 5 deletions(-)

commit d5117e2
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Oct 3 15:10:29 2002 +0000

    read excess nails correctly for nail2

 qw/source/cl_ents.c |    7 ++-----
 1 file changed, 2 insertions(+), 5 deletions(-)

commit d70caac
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Oct 2 22:56:34 2002 +0000

    whitespace

 qw/source/sv_ccmds.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c04bce8
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Oct 2 22:15:40 2002 +0000

    start trying to keep NEWS up to date starting with the MVD demo support in
    the clients

 NEWS |    5 +++++
 1 file changed, 5 insertions(+)

commit 2383340
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Oct 2 21:56:45 2002 +0000

    mvd playback support. seems to work (get some weird entities hanging around
    but I suspect that's the mod used in the demo I was testing with), but
    probably needs some cleanup.

 qw/include/cl_cam.h   |    3 ++
 qw/include/cl_ents.h  |    3 +-
 qw/include/cl_parse.h |    1 +
 qw/include/client.h   |    8 ++++
 qw/include/protocol.h |   12 +++++
 qw/source/cl_cam.c    |   42 ++++++++++++++++-
 qw/source/cl_demo.c   |  123 +++++++++++++++++++++++++++++++++++++++++++++----
 qw/source/cl_ents.c   |  109 ++++++++++++++++++++++++++++++++++++++++---
 qw/source/cl_input.c  |    7 ++-
 qw/source/cl_main.c   |   30 ++++++++++--
 qw/source/cl_parse.c  |   50 ++++++++++++++++----
 11 files changed, 355 insertions(+), 33 deletions(-)

commit 533a74a
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Oct 2 15:42:39 2002 +0000

    don't segfault if the client player temp info key is null (can happen in
    mvd)

 qw/source/sbar.c |    6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit 998d68a
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Wed Oct 2 04:15:23 2002 +0000

    In GL, have `r_speeds 1` display particle count.

 libs/video/renderer/gl/gl_screen.c |    5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 9aa84f4
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Oct 2 01:58:29 2002 +0000

    case i has 7 visits, not 6 :P

 libs/video/renderer/gl/gl_sky_clip.c |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit bf194e0
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Tue Oct 1 06:55:26 2002 +0000

    Update the Debian changelog.

 debian/changelog |   10 +++++++---
 1 file changed, 7 insertions(+), 3 deletions(-)

commit 9473437
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Tue Oct 1 06:47:15 2002 +0000

    Add quakeforge-oss's and quakeforge-alsa's postinst/prerm files to the dist.
    D'oh!

 debian/Makefile.am |    2 ++
 1 file changed, 2 insertions(+)

commit 1a18e9a
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Tue Oct 1 05:41:56 2002 +0000

    Fix the plugins' postinsts for the Policy-compliant pathnames.

 debian/quakeforge-alsa.postinst   |    2 +-
 debian/quakeforge-alsa.prerm      |    2 +-
 debian/quakeforge-common.postinst |    4 ++--
 debian/quakeforge-oss.postinst    |    2 +-
 debian/quakeforge-oss.prerm       |    2 +-
 5 files changed, 6 insertions(+), 6 deletions(-)

commit dc736f0
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Oct 1 05:17:25 2002 +0000

    don't run cvs2cl if there's no CVS dir

 RPM/build_rpm.in |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 975d5aa
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Tue Oct 1 05:06:51 2002 +0000

    Move plugins back to /usr/lib/quakeforge/plugins where Debian policy wants
    them.

 debian/rules |   20 ++++++++++----------
 1 file changed, 10 insertions(+), 10 deletions(-)

commit a2cf42c
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Oct 1 02:37:53 2002 +0000

    smarter gzipping thanks to alphageek (whew, slipped in at last moment:)

 tools/zpak |   29 +++++++++++++++++++----------
 1 file changed, 19 insertions(+), 10 deletions(-)

commit eff63a6
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Oct 1 02:22:48 2002 +0000

    packaging menu.dat is currently not a good idea due to lack of a clean
    place to put it. id1 and qw are essentially sacrosanct

 RPM/quakeforge.spec.in |    5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

commit fba516e
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Sep 30 23:19:08 2002 +0000

    heh, WildCode got the fix in on time :)

 NEWS |    1 -
 1 file changed, 1 deletion(-)

commit 7c9f1a5
Author: Chris Ison <cisos@bigpond.net.au>
Date:   Mon Sep 30 23:16:20 2002 +0000

    Bug Fix, mouse didn't work in svga client.Fixed by closing the mouse before initing it due to vga_init initing the mouse when called

 libs/video/targets/in_svgalib.c |    3 +++
 1 file changed, 3 insertions(+)

commit 73f8845
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Sep 30 22:16:59 2002 +0000

    add a warning about -svga

 NEWS |    1 +
 1 file changed, 1 insertion(+)

commit 6554701
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Sep 30 21:52:08 2002 +0000

    nuke --with-amd in favor of --with-arch

 configure.ac |   12 +-----------
 1 file changed, 1 insertion(+), 11 deletions(-)

commit 3d66833
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Sep 30 21:35:13 2002 +0000

    copy that fix for the other renderers

 libs/video/renderer/gl/gl_screen.c |    4 ++++
 libs/video/renderer/sw32/screen.c  |    4 ++++
 2 files changed, 8 insertions(+)

commit d7bbe82
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Sep 30 21:25:24 2002 +0000

    make sure the bottom part of the console gets updated properly if it covers
    the status bar.

 libs/video/renderer/sw/screen.c |    4 ++++
 1 file changed, 4 insertions(+)

commit 72bc818
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Sep 30 20:34:16 2002 +0000

    use AMTAR instead of TAR

 Makefile.am |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 28ef4c6
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Sep 30 20:06:52 2002 +0000

    add a list of known problems (that readily come to mind for me:)

 NEWS |   11 ++++++++++-
 1 file changed, 10 insertions(+), 1 deletion(-)

commit 8f8fbe6
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Sep 30 18:19:51 2002 +0000

    packaging tweaks

 RPM/quakeforge.spec.in |  427 ++++++++++++++++++++----------------------------
 debian/rules           |    6 +-
 2 files changed, 179 insertions(+), 254 deletions(-)

commit fd8f019
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Sep 30 18:19:38 2002 +0000

    nuke quakeforge-config.in and quakeforge-config as it's broken and will be
    replaced with a better setup (pkg-config)

 configure.ac         |    3 +--
 quakeforge-config.in |   72 --------------------------------------------------
 2 files changed, 1 insertion(+), 74 deletions(-)

commit b46ff2f
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Mon Sep 30 16:51:30 2002 +0000

    Debian changes. new packages, -utils and -maptools. qfmodelgen isn't in a
    package yet.

 debian/.gitignore |    2 ++
 debian/changelog  |    6 ++---
 debian/control    |   36 ++++++++++++++++++++++---
 debian/rules      |   76 ++++++++++++++++++++++++++++++++++++++++-------------
 4 files changed, 95 insertions(+), 25 deletions(-)

commit 510ac98
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Mon Sep 30 16:47:41 2002 +0000

    PF_Fixme(): better error message.

 qw/source/sv_pr_cmds.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 86d0093
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Mon Sep 30 16:45:51 2002 +0000

    Add a paragraph to the Rua doc's introduction.

 tools/qfcc/doc/qfcc.lyx |    8 +++++++-
 1 file changed, 7 insertions(+), 1 deletion(-)

commit ffb90a5
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Sep 30 16:40:06 2002 +0000

    win32 compile fixes

 libs/util/quakeio.c  |    3 +--
 nq/source/net_wins.c |    8 ++++----
 2 files changed, 5 insertions(+), 6 deletions(-)

commit d88f2a2
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Mon Sep 30 05:01:10 2002 +0000

    Bump version to 0.5.2.

 configure.ac |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 1699c45
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Mon Sep 30 05:00:44 2002 +0000

    Note how to actually build and install...

 INSTALL |    7 +++++++
 1 file changed, 7 insertions(+)

commit 599f0d9
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Mon Sep 30 04:55:41 2002 +0000

    Get rid of crappy old INSTALL, replace with beginnings of something more sane.

 INSTALL |  205 +++++++--------------------------------------------------------
 1 file changed, 20 insertions(+), 185 deletions(-)

commit 4a1db5a
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Sep 30 03:59:55 2002 +0000

    fix the crash on focus loss when using in_snd_block and -nosound

 libs/audio/targets/snd_alsa_0_9.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 6a96697
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Sep 30 03:31:22 2002 +0000

    use int_val instead of value for vid_fullscreen

 libs/video/targets/vid_sgl.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit be36020
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sun Sep 29 03:30:11 2002 +0000

    Minor cleanups.

 TODO |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit eb54acf
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sat Sep 28 02:33:39 2002 +0000

    Whitespace.

 nq/source/host_cmd.c |  139 ++++++++++++++++++++++++++------------------------
 nq/source/sv_main.c  |   80 ++++++++++++++---------------
 qw/source/cl_main.c  |   26 ++++------
 qw/source/pmove.c    |   24 ++++-----
 4 files changed, 131 insertions(+), 138 deletions(-)

commit a13a67b
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Sep 27 20:10:45 2002 +0000

    fix make dist (bogus stamp-h.in)

 include/Makefile.am |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 979d885
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Sep 27 05:46:30 2002 +0000

    get Qseek working properly (d'oh) and Qtell (forgot it needed adjusting)

 libs/util/quakeio.c |   26 +++++++++++++++++++++++---
 1 file changed, 23 insertions(+), 3 deletions(-)

commit 9d8d570
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Sep 27 04:27:19 2002 +0000

    using Qseek on a pak sub-file should work better. this should make oggs in
    paks work.

 include/QF/quakefs.h           |    1 -
 include/QF/quakeio.h           |    1 +
 libs/util/cmd.c                |    2 +-
 libs/util/quakefs.c            |   58 +++++++-----------------------
 libs/util/quakeio.c            |   78 +++++++++++++++++++++++++++++-----------
 tools/qfcc/source/linker.c     |    7 ++--
 tools/qfprogs/source/qfprogs.c |   22 +++---------
 7 files changed, 78 insertions(+), 91 deletions(-)

commit 5397ca6
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Sep 27 03:32:20 2002 +0000

    bring back the timekick code but make it an alternative (default) to the
    new timecheck code.

 qw/source/sv_main.c |    4 ---
 qw/source/sv_user.c |   90 +++++++++++++++++++++++++++++++++++++++++++++------
 2 files changed, 81 insertions(+), 13 deletions(-)

commit 6bf98db
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Sep 26 20:58:03 2002 +0000

    kill most of the diffs

 nq/source/skin.c |   57 ++++++++++++++++++++++++++++++++++++++++--------------
 qw/source/skin.c |   15 +++++++-------
 2 files changed, 50 insertions(+), 22 deletions(-)

commit c745d2a
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Sep 26 20:57:48 2002 +0000

    make gzipped oggs explicitly unsupported

 libs/util/quakefs.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 5b9d4fb
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Sep 26 19:37:01 2002 +0000

    close the file if vorbis doesn't like it

 libs/audio/renderer/vorbis.c |    1 +
 1 file changed, 1 insertion(+)

commit 2a56b8f
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Sep 26 03:58:22 2002 +0000

    go back to the `long way' for the cross product as qfvis was no longer
    getting the same results as vis (that may be acceptable, but not yet:)

 tools/qfvis/source/flow.c |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit d25ee82
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Sep 25 21:35:49 2002 +0000

    provide a tighter accuracy (but slower) _VectorNormalize for the tools

 include/QF/mathlib.h          |    1 +
 libs/util/mathlib.c           |   19 +++++++++++++++++++
 tools/qfbsp/source/brush.c    |    4 ++--
 tools/qfbsp/source/csg4.c     |    3 ++-
 tools/qfbsp/source/map.c      |    2 +-
 tools/qfbsp/source/merge.c    |    8 ++++----
 tools/qfbsp/source/outside.c  |    2 +-
 tools/qfbsp/source/portals.c  |    2 +-
 tools/qfbsp/source/qfbsp.c    |    2 +-
 tools/qfbsp/source/region.c   |    4 ++--
 tools/qfbsp/source/surfaces.c |    2 +-
 tools/qfbsp/source/tjunc.c    |   10 +++++-----
 tools/qflight/source/ltface.c |    8 ++++----
 tools/qfvis/source/qfvis.c    |    2 +-
 14 files changed, 45 insertions(+), 24 deletions(-)

commit 43d8cf9
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Sep 25 17:48:43 2002 +0000

    fix program name printing

 tools/qfbsp/source/qfbsp.c |    5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit e81a0e2
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Sep 25 01:51:58 2002 +0000

    qfvis and qflight are still copyright Id

 tools/qflight/include/entities.h |    1 +
 tools/qflight/include/light.h    |    1 +
 tools/qflight/include/threads.h  |    1 +
 tools/qflight/source/entities.c  |    1 +
 tools/qflight/source/ltface.c    |    1 +
 tools/qflight/source/qflight.c   |    1 +
 tools/qflight/source/threads.c   |    1 +
 tools/qflight/source/trace.c     |    1 +
 tools/qfvis/include/vis.h        |    1 +
 tools/qfvis/source/base-vis.c    |    1 +
 tools/qfvis/source/flow.c        |    1 +
 tools/qfvis/source/qfvis.c       |    1 +
 tools/qfvis/source/soundphs.c    |    1 +
 13 files changed, 13 insertions(+)

commit 50a143b
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Sep 24 22:28:35 2002 +0000

    tabs again :/

 NEWS |   12 ++++++------
 1 file changed, 6 insertions(+), 6 deletions(-)

commit 436a641
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Tue Sep 24 22:16:34 2002 +0000

    Slight poking at renderer portion of NEWS.

 NEWS |    8 +++++++-
 1 file changed, 7 insertions(+), 1 deletion(-)

commit 3241724
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Sep 24 21:48:47 2002 +0000

    use the vector math macros from mathlib.h to make the math in
    ClipToSeparators clearer and comment on how --level effects the vis
    calculations

 tools/qfvis/source/flow.c |   26 +++++++++++++++-----------
 1 file changed, 15 insertions(+), 11 deletions(-)

commit 554347b
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Sep 24 04:50:28 2002 +0000

    forgot qflight was threaded too

 tools/qflight/source/Makefile.am |    7 ++++---
 1 file changed, 4 insertions(+), 3 deletions(-)

commit 6cdf8e0
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Sep 24 03:01:23 2002 +0000

    qfbsp shouldn't be linking with -pthread

 tools/qfbsp/source/Makefile.am |    2 --
 1 file changed, 2 deletions(-)

commit 5904859
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Sep 24 02:46:03 2002 +0000

    split the base vis functions out of flow.c, add -D_REENTRANT to the compile
    for qfvis and a bunch of whitespace

 configure.ac                   |    8 ++-
 tools/qfvis/source/Makefile.am |    9 +--
 tools/qfvis/source/base-vis.c  |  135 ++++++++++++++++++++++++++++++++++++
 tools/qfvis/source/flow.c      |  132 ++++++++---------------------------
 tools/qfvis/source/qfvis.c     |  148 ++++++++++++++++++++--------------------
 5 files changed, 248 insertions(+), 184 deletions(-)

commit ded572b
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Sep 23 22:54:28 2002 +0000

    various var cleanups

 tools/qfvis/include/vis.h  |    9 +++------
 tools/qfvis/source/flow.c  |   26 ++++++++------------------
 tools/qfvis/source/qfvis.c |   11 ++++++-----
 3 files changed, 17 insertions(+), 29 deletions(-)

commit 918f2dd
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Sep 23 17:22:59 2002 +0000

    add some more stuff

 NEWS |   16 +++++++++++++++-
 1 file changed, 15 insertions(+), 1 deletion(-)

commit 4bf8ac5
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Sep 23 16:27:17 2002 +0000

    whitespace cleanup and add rcsid tags

 tools/qfbsp/include/bsp5.h    |    2 +
 tools/qfbsp/include/map.h     |    2 +
 tools/qfbsp/source/brush.c    |  108 ++++++++++++---------------------
 tools/qfbsp/source/csg4.c     |   84 +++++++++-----------------
 tools/qfbsp/source/map.c      |   28 +++------
 tools/qfbsp/source/merge.c    |   36 ++++++-----
 tools/qfbsp/source/nodraw.c   |    2 +
 tools/qfbsp/source/outside.c  |   24 ++++----
 tools/qfbsp/source/portals.c  |   54 ++++++++---------
 tools/qfbsp/source/qfbsp.c    |  134 +++++++++++++++++------------------------
 tools/qfbsp/source/region.c   |   61 +++++++++----------
 tools/qfbsp/source/solidbsp.c |   99 +++++++++++++-----------------
 tools/qfbsp/source/surfaces.c |   54 ++++++-----------
 tools/qfbsp/source/tjunc.c    |   26 +++-----
 tools/qfbsp/source/writebsp.c |   56 +++++++----------
 15 files changed, 312 insertions(+), 458 deletions(-)

commit 6721cd0
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Sep 23 14:54:52 2002 +0000

    expand out the tabs

 NEWS |  226 +++++++++++++++++++++++++++++++++---------------------------------
 1 file changed, 113 insertions(+), 113 deletions(-)

commit b0629d2
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Sep 23 06:18:48 2002 +0000

    handle the new case Despair discovered.

 libs/video/renderer/gl/gl_sky_clip.c |   19 +++++++++++--------
 1 file changed, 11 insertions(+), 8 deletions(-)

commit 58eb993
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Sep 23 05:18:53 2002 +0000

    add the new case despair discovered for me

 doc/skybox.fig |   47 ++++++++++++++++++++++++++++++++---------------
 1 file changed, 32 insertions(+), 15 deletions(-)

commit ee61eae
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 22 21:54:41 2002 +0000

    don't do threading if only 1 thread is used and add another state to
    vstatus_t for better portal state checking

 tools/qfvis/include/vis.h  |    5 +++--
 tools/qfvis/source/flow.c  |    4 +++-
 tools/qfvis/source/qfvis.c |   42 +++++++++++++++++++++++-------------------
 3 files changed, 29 insertions(+), 22 deletions(-)

commit 528eec1
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 22 21:32:36 2002 +0000

    go back to bailing out on errors

 tools/qfvis/source/flow.c  |    4 ++--
 tools/qfvis/source/qfvis.c |   39 +++++++++++++++++++--------------------
 2 files changed, 21 insertions(+), 22 deletions(-)

commit a751e39
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 22 04:17:30 2002 +0000

    re-enable the break to speed up vis

 tools/qfvis/source/flow.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c57b395
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 22 03:48:16 2002 +0000

    correct a spelling error and make a comment a little clearer

 tools/qfvis/source/flow.c  |   14 +++++++-------
 tools/qfvis/source/qfvis.c |    3 ++-
 2 files changed, 9 insertions(+), 8 deletions(-)

commit b6edd77
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Sep 21 22:15:57 2002 +0000

    more malloc/memset to calloc

 tools/qfvis/source/flow.c |    6 ++----
 1 file changed, 2 insertions(+), 4 deletions(-)

commit 90b4f5c
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Sep 21 21:42:30 2002 +0000

    correct the spelling of FindPassages

 tools/qfvis/source/qfvis.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit fca8434
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Sep 21 21:35:04 2002 +0000

    more grey space and replace malloc/memset 0 with calloc

 tools/qfvis/source/qfvis.c |   19 ++++---------------
 1 file changed, 4 insertions(+), 15 deletions(-)

commit 7d7e578
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Sep 21 21:27:38 2002 +0000

    white and grey space cleanup

 tools/qfvis/include/options.h |   11 +++---
 tools/qfvis/include/vis.h     |   54 +++++++++++++-------------
 tools/qfvis/source/qfvis.c    |   85 -----------------------------------------
 3 files changed, 33 insertions(+), 117 deletions(-)

commit c1c36f7
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Sep 21 21:17:32 2002 +0000

    remove a dead var from flow.c and make the mutex use defaults (not sure if
    the thing even works:( )

 tools/qfvis/source/flow.c  |    1 -
 tools/qfvis/source/qfvis.c |    8 ++++----
 2 files changed, 4 insertions(+), 5 deletions(-)

commit 35a1457
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Sep 21 03:51:50 2002 +0000

    report on the non-reliability of c_chains when threads are used

 tools/qfvis/source/flow.c  |    2 +-
 tools/qfvis/source/qfvis.c |    3 ++-
 2 files changed, 3 insertions(+), 2 deletions(-)

commit dd5cac4
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Sep 20 22:44:29 2002 +0000

    fix a few memory access bugs

 libs/util/bspfile.c            |   18 ++++++++++++------
 tools/qflight/source/ltface.c  |    8 ++++----
 tools/qflight/source/qflight.c |    2 +-
 3 files changed, 17 insertions(+), 11 deletions(-)

commit 00294f7
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Sep 20 22:31:44 2002 +0000

    hopefully make everything happy with the new bsp struct

 tools/qflight/include/light.h   |    3 +-
 tools/qflight/include/threads.h |    4 +--
 tools/qflight/source/entities.c |   20 ++++-------
 tools/qflight/source/ltface.c   |   15 +++++++--
 tools/qflight/source/qflight.c  |   22 ++++++------
 tools/qflight/source/threads.c  |   70 +++++++++++++++++++--------------------
 6 files changed, 66 insertions(+), 68 deletions(-)

commit c1c6883
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Sep 20 21:58:40 2002 +0000

    get qflight (maybe:) working with threads

 tools/qflight/include/threads.h  |    8 ++++++--
 tools/qflight/source/Makefile.am |    2 ++
 tools/qflight/source/qflight.c   |    4 ++--
 tools/qflight/source/threads.c   |   29 ++++++++++++++---------------
 4 files changed, 24 insertions(+), 19 deletions(-)

commit 4d9fb73
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Sep 20 21:48:34 2002 +0000

    use getopt and add wad search paths

 tools/qfbsp/include/Makefile.am |    2 +-
 tools/qfbsp/include/bsp5.h      |   14 ---
 tools/qfbsp/include/options.h   |   56 ++++++++++++
 tools/qfbsp/source/Makefile.am  |    4 +-
 tools/qfbsp/source/options.c    |  188 +++++++++++++++++++++++++++++++++++++++
 tools/qfbsp/source/outside.c    |   19 ++--
 tools/qfbsp/source/portals.c    |    7 +-
 tools/qfbsp/source/qfbsp.c      |  158 ++++++++++----------------------
 tools/qfbsp/source/surfaces.c   |    5 +-
 tools/qfbsp/source/tjunc.c      |    3 +-
 tools/qfbsp/source/writebsp.c   |   74 ++++++++++-----
 11 files changed, 369 insertions(+), 161 deletions(-)

commit 8fba02b
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Sep 20 19:30:56 2002 +0000

    zap some debug :/

 tools/qfbsp/source/writebsp.c |    1 -
 1 file changed, 1 deletion(-)

commit 544d4d6
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Sep 20 19:03:06 2002 +0000

    fix the missing LOCK and UNLOCK defs (found by accident:) and use a dstring
    for building the compressed vis data

 tools/qfvis/include/vis.h  |    6 +++-
 tools/qfvis/source/qfvis.c |   65 ++++++++++++++++----------------------------
 2 files changed, 29 insertions(+), 42 deletions(-)

commit b59a945
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Sep 20 18:17:36 2002 +0000

    write the texdata correctly and actually write the leaf info

 tools/qfbsp/source/writebsp.c |    5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit 5684355
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Sep 20 17:02:53 2002 +0000

    make _VectorCompare use EQUAL_EPSILON (VectorCompare is still the fast
    macro) and use it instead of VectorCompare in the map tools. This (and, it
    seems, RINT) fixes qfbsp on spc. Also, jump /all/ entities that get hit
    by the filler in qfbsp

 include/QF/mathlib.h               |    5 ++++-
 libs/util/mathlib.c                |    2 +-
 tools/qfbsp/include/bsp5.h         |    2 --
 tools/qfbsp/source/brush.c         |   10 +++++-----
 tools/qfbsp/source/map.c           |    2 +-
 tools/qfbsp/source/merge.c         |    2 +-
 tools/qfbsp/source/outside.c       |   13 +++++++++----
 tools/qfbsp/source/portals.c       |    4 ++--
 tools/qfbsp/source/region.c        |    2 +-
 tools/qfbsp/source/solidbsp.c      |    2 +-
 tools/qfbsp/source/surfaces.c      |    4 ++--
 tools/qfmodelgen/source/modelgen.c |    8 ++++----
 tools/qfvis/source/flow.c          |    2 +-
 13 files changed, 32 insertions(+), 26 deletions(-)

commit fa63d28
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Sep 19 22:48:30 2002 +0000

    correctly report the location of the hit entity

 tools/qfbsp/source/outside.c |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 8aa08de
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Sep 19 20:58:29 2002 +0000

    multiple wad files seem to work now

 tools/qfbsp/source/writebsp.c |   71 +++++++++++++++++++++++++----------------
 1 file changed, 44 insertions(+), 27 deletions(-)

commit 0cd34d1
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Sep 19 20:39:33 2002 +0000

    qfbsp now mostly works. only known issue is multiple texture wads don't
    load properly and possibly a "reached occupant" issue (dunno if it's the
    map or qfbsp)

 include/QF/bspfile.h          |   38 +++++++----
 libs/util/bspfile.c           |  113 +++++++++++++++++++++++++++++++++
 tools/qfbsp/include/map.h     |    2 +-
 tools/qfbsp/source/brush.c    |    4 +-
 tools/qfbsp/source/map.c      |   33 +++++-----
 tools/qfbsp/source/qfbsp.c    |   12 ++--
 tools/qfbsp/source/region.c   |   25 ++++----
 tools/qfbsp/source/surfaces.c |   22 +++----
 tools/qfbsp/source/writebsp.c |  139 +++++++++++++++++++++--------------------
 9 files changed, 257 insertions(+), 131 deletions(-)

commit 54fa6eb
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Thu Sep 19 19:12:16 2002 +0000

    Fix lack of compat.h/string.h includes.

 tools/qfbsp/source/csg4.c     |    3 +++
 tools/qfbsp/source/portals.c  |    3 +++
 tools/qfbsp/source/region.c   |    4 ++++
 tools/qfbsp/source/surfaces.c |    3 +++
 tools/qfbsp/source/tjunc.c    |    3 +++
 5 files changed, 16 insertions(+)

commit 8ae5a8e
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Thu Sep 19 18:51:19 2002 +0000

    Gobs of whitespace.

 tools/qfbsp/include/bsp5.h    |   81 +++++----------
 tools/qfbsp/include/map.h     |   29 +++---
 tools/qfbsp/source/brush.c    |  200 ++++++++++++------------------------
 tools/qfbsp/source/csg4.c     |   97 +++++++-----------
 tools/qfbsp/source/map.c      |  104 ++++++-------------
 tools/qfbsp/source/merge.c    |  101 ++++++------------
 tools/qfbsp/source/nodraw.c   |   39 +++----
 tools/qfbsp/source/outside.c  |   66 ++++--------
 tools/qfbsp/source/portals.c  |  162 +++++++++--------------------
 tools/qfbsp/source/qfbsp.c    |  228 ++++++++++-------------------------------
 tools/qfbsp/source/region.c   |  127 ++++++++---------------
 tools/qfbsp/source/solidbsp.c |  149 +++++++--------------------
 tools/qfbsp/source/surfaces.c |  147 +++++++++-----------------
 tools/qfbsp/source/tjunc.c    |  123 +++++++---------------
 tools/qfbsp/source/writebsp.c |  146 ++++++--------------------
 15 files changed, 547 insertions(+), 1252 deletions(-)

commit 4d520d5
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Sep 19 17:14:23 2002 +0000

    enough whitespace to crush a shambler

 tools/qfbsp/source/brush.c    |  627 ++++++++++++++++------------------
 tools/qfbsp/source/csg4.c     |  337 +++++++++----------
 tools/qfbsp/source/map.c      |  468 +++++++++++++-------------
 tools/qfbsp/source/merge.c    |  194 ++++++-----
 tools/qfbsp/source/nodraw.c   |   39 ++-
 tools/qfbsp/source/outside.c  |  165 +++++----
 tools/qfbsp/source/portals.c  |  388 ++++++++++-----------
 tools/qfbsp/source/qfbsp.c    |  743 ++++++++++++++++++++---------------------
 tools/qfbsp/source/region.c   |  385 ++++++++++-----------
 tools/qfbsp/source/solidbsp.c |  511 +++++++++++++---------------
 tools/qfbsp/source/surfaces.c |  341 +++++++++----------
 tools/qfbsp/source/tjunc.c    |  372 ++++++++++-----------
 tools/qfbsp/source/writebsp.c |  337 +++++++++----------
 13 files changed, 2353 insertions(+), 2554 deletions(-)

commit afa0b21
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Sep 19 16:58:48 2002 +0000

    Whee, now we have qfbsp. It compiles, but won't work as it hasn't been
    `ported' to the new bspfile stuff when it comes to creating/editing a bsp.

 configure.ac                    |   14 +-
 tools/Makefile.am               |    2 +-
 tools/qfbsp/.gitignore          |    4 +
 tools/qfbsp/Makefile.am         |    3 +
 tools/qfbsp/include/.gitignore  |    3 +
 tools/qfbsp/include/Makefile.am |    3 +
 tools/qfbsp/include/bsp5.h      |  318 ++++++++++++
 tools/qfbsp/include/map.h       |   69 +++
 tools/qfbsp/source/.gitignore   |    6 +
 tools/qfbsp/source/Makefile.am  |   25 +
 tools/qfbsp/source/brush.c      |  903 +++++++++++++++++++++++++++++++++
 tools/qfbsp/source/csg4.c       |  489 ++++++++++++++++++
 tools/qfbsp/source/map.c        |  612 ++++++++++++++++++++++
 tools/qfbsp/source/merge.c      |  302 +++++++++++
 tools/qfbsp/source/nodraw.c     |   73 +++
 tools/qfbsp/source/outside.c    |  276 ++++++++++
 tools/qfbsp/source/portals.c    |  600 ++++++++++++++++++++++
 tools/qfbsp/source/qfbsp.c      | 1070 +++++++++++++++++++++++++++++++++++++++
 tools/qfbsp/source/region.c     |  536 ++++++++++++++++++++
 tools/qfbsp/source/solidbsp.c   |  780 ++++++++++++++++++++++++++++
 tools/qfbsp/source/surfaces.c   |  538 ++++++++++++++++++++
 tools/qfbsp/source/tjunc.c      |  531 +++++++++++++++++++
 tools/qfbsp/source/writebsp.c   |  559 ++++++++++++++++++++
 23 files changed, 7714 insertions(+), 2 deletions(-)

commit e8d74f3
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Sep 19 15:28:16 2002 +0000

    round off the offsets/sizes again

 libs/util/bspfile.c |   40 +++++++++++++++++++++-------------------
 1 file changed, 21 insertions(+), 19 deletions(-)

commit d8a38ae
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Sep 19 06:01:06 2002 +0000

    don't fuss with function defs that aren't initialized

 tools/qfcc/source/linker.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 24a9b48
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Sep 19 05:35:17 2002 +0000

    rewrite bspfile.[ch] so they work off an object rather than global data.
    The direct filesystem access is also removed. Fix up qfvis and qflight to
    compile with the new bspfile. qfvis seems to work, qflight probably doesn't

 include/QF/bspfile.h            |   73 ++++----
 libs/util/bspfile.c             |  395 ++++++++++++++++++---------------------
 tools/qflight/include/light.h   |    2 +
 tools/qflight/source/entities.c |    6 +-
 tools/qflight/source/ltface.c   |   18 +-
 tools/qflight/source/qflight.c  |   23 ++-
 tools/qflight/source/trace.c    |    8 +-
 tools/qfvis/include/vis.h       |    2 +
 tools/qfvis/source/qfvis.c      |   62 +++---
 tools/qfvis/source/soundphs.c   |   20 +-
 10 files changed, 293 insertions(+), 316 deletions(-)

commit 86f542a
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Sep 19 05:11:42 2002 +0000

    kill the last VFile ref and make the calculate the file size on opening for
    reading (Qfilesize works only when Qopen is used in read mode).

 include/QF/qendian.h |   18 +++++++++---------
 include/QF/quakeio.h |    3 ++-
 libs/util/quakeio.c  |   44 +++++++++++++++++++++++++++++++++++++++++---
 3 files changed, 52 insertions(+), 13 deletions(-)

commit 48f53e1
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Thu Sep 19 03:19:50 2002 +0000

    space to tabs. Grr!

 ruamoko/game/tempent.r |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit e5582a9
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Thu Sep 19 02:45:57 2002 +0000

    typo fix

 tools/qfvis/source/qfvis.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 6376ebb
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Thu Sep 19 02:37:52 2002 +0000

    Whitespace.

 tools/qflight/include/entities.h |   24 +--
 tools/qflight/include/light.h    |    1 -
 tools/qflight/source/entities.c  |   99 +++++----
 tools/qflight/source/ltface.c    |  303 +++++++++++++--------------
 tools/qflight/source/options.c   |   22 +-
 tools/qflight/source/qflight.c   |   60 +++---
 tools/qflight/source/threads.c   |   42 ++--
 tools/qflight/source/trace.c     |  108 +++++-----
 tools/qfvis/include/vis.h        |   53 +++--
 tools/qfvis/source/flow.c        |   25 +--
 tools/qfvis/source/options.c     |   21 +-
 tools/qfvis/source/qfvis.c       |  422 ++++++++++++++++++--------------------
 tools/qfvis/source/soundphs.c    |   44 ++--
 13 files changed, 576 insertions(+), 648 deletions(-)

commit b3f842b
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Wed Sep 18 23:09:09 2002 +0000

    Whitespace, and one typo fix in an error message.

 tools/qfmodelgen/source/cmdlib.c   |  330 ++++++++++----------
 tools/qfmodelgen/source/lbmlib.c   |  314 ++++++++-----------
 tools/qfmodelgen/source/modelgen.c |  587 ++++++++++--------------------------
 tools/qfmodelgen/source/scriplib.c |   89 ++----
 tools/qfmodelgen/source/trilib.c   |  116 ++++---
 5 files changed, 523 insertions(+), 913 deletions(-)

commit ab42133
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Sep 18 21:35:00 2002 +0000

    forgot to update a pointer

 tools/qfvis/source/qfvis.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit b94fc0b
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Sep 18 21:14:24 2002 +0000

    avoid a buffer overflow when the new visdata is bigger than the old

 tools/qfvis/source/qfvis.c |   55 ++++++++++++++++++++++++++------------------
 1 file changed, 32 insertions(+), 23 deletions(-)

commit 606cb9a
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Sep 18 15:31:44 2002 +0000

    hopefully fix compiling in Irix

 nq/include/net.h     |    4 ++--
 nq/source/net_dgrm.c |    2 +-
 nq/source/net_udp.c  |    8 ++++----
 3 files changed, 7 insertions(+), 7 deletions(-)

commit 576fc27
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Sep 18 14:57:32 2002 +0000

    fix a braino in the QF_WITH_TARGETS macro

 acinclude.m4 |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 5189ffe
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Sep 18 14:38:41 2002 +0000

    fix software model lighting

 libs/video/renderer/r_light.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 599fea0
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Sep 18 06:07:38 2002 +0000

    redo bspfile to use dynamic allocation for the arrays to avoid buffer
    overflows. also fix up the verbosity levels in qfvis.c

 include/QF/bspfile.h       |   30 +++++++++----------
 libs/util/bspfile.c        |   69 +++++++++++++++++++++++---------------------
 tools/qfvis/source/qfvis.c |    6 ++--
 3 files changed, 54 insertions(+), 51 deletions(-)

commit ef49e4c
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Sep 18 04:23:58 2002 +0000

    get the skybox serverinfo working

 qw/source/cl_main.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 1025c6e
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Sep 18 03:55:43 2002 +0000

    forgot to remove my debug code

 nq/source/cl_parse.c |    2 --
 1 file changed, 2 deletions(-)

commit 0fbcd77
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Sep 18 03:48:06 2002 +0000

    when bailing out of the bits tests due to U_EXTEND2 not being set, jump
    to the forcelink test rather than returning from the function. fixes the
    intermission bug.

 nq/source/cl_parse.c |    5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit 91a6dd5
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Sep 17 22:37:32 2002 +0000

    bah, EXTRA_MANS doesn't work, even though automake doesn't complain :/

 tools/pak/Makefile.am          |    3 +--
 tools/qfcc/doc/man/Makefile.am |    2 +-
 tools/qflight/Makefile.am      |    2 +-
 tools/qfvis/Makefile.am        |    2 +-
 4 files changed, 4 insertions(+), 5 deletions(-)

commit 317c025
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Sep 17 22:19:14 2002 +0000

    macro-ize --with-{clients,servers} and implement --with-tools using the new
    macro

 acinclude.m4                        |   20 ++++
 configure.ac                        |  183 +++++++++++++++--------------------
 ruamoko/cl_menu/Makefile.am         |   11 ++-
 ruamoko/game/Makefile.am            |    9 +-
 ruamoko/lib/Makefile.am             |   12 ++-
 tools/pak/Makefile.am               |   16 ++-
 tools/qfcc/doc/man/Makefile.am      |    9 +-
 tools/qfcc/source/Makefile.am       |   13 ++-
 tools/qfdefs/source/Makefile.am     |   13 ++-
 tools/qflight/Makefile.am           |   10 +-
 tools/qflight/source/Makefile.am    |    9 +-
 tools/qfmodelgen/source/Makefile.am |    9 +-
 tools/qfprogs/source/Makefile.am    |    9 +-
 tools/qfvis/Makefile.am             |    9 +-
 tools/qfvis/source/Makefile.am      |    9 +-
 tools/qwaq/Makefile.am              |   14 ++-
 tools/wav/Makefile.am               |    9 +-
 17 files changed, 233 insertions(+), 131 deletions(-)

commit ece9660
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Sep 17 18:42:35 2002 +0000

    get @system working (Closes: #52). I'm not happy with the name of this
    operator and I'm very open to suggestions, but it seems to work. What
    @system does is to mark a def in such a way that the linker will allow it
    to be redefined /once/ giving the programmer control over where and when
    a def is defined, but initializing it elsewhere. This is most useful when
    working with v6 progs and separate compliation as the `system' defs need to
    be in a certain order in certain locations or the resuting progs.dat file
    will be incompatable with non-qf 0.5 servers.

 tools/qfcc/source/linker.c |   80 ++++++++++++++++++++++++++++++++------------
 1 file changed, 59 insertions(+), 21 deletions(-)

commit a9b16f5
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Tue Sep 17 05:13:13 2002 +0000

    Tweak ramp decay on new spark shower.

 libs/video/renderer/gl/gl_dyn_part.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 6fa4205
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Sep 17 05:11:28 2002 +0000

    tidy up SV_Serverinfo_f, move Cvar_Info from sv_cver.c to sv_ccmds.c and
    make the client no_pogo_stick cvar properly reflect the serverinfo

 qw/source/Makefile.am |    8 +++---
 qw/source/cl_main.c   |    3 --
 qw/source/cl_parse.c  |    3 +-
 qw/source/sv_ccmds.c  |   44 +++++++++++++++++++++++++----
 qw/source/sv_cvar.c   |   73 -------------------------------------------------
 5 files changed, 44 insertions(+), 87 deletions(-)

commit d6a2b54
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Tue Sep 17 02:14:58 2002 +0000

    Use ramps for spark showers, so they fade in color as well as alpha.
    Lightning doesn't have a ramp, so it doesn't use this feature yet.

 include/d_iface.h                    |    1 +
 libs/video/renderer/gl/gl_dyn_part.c |   23 ++++++++++++++++++-----
 2 files changed, 19 insertions(+), 5 deletions(-)

commit b940772
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Sep 16 20:32:32 2002 +0000

    make it so id can be assigned to any class or object pointer

 tools/qfcc/source/type.c |    2 ++
 1 file changed, 2 insertions(+)

commit 4a34960
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Sep 16 17:37:22 2002 +0000

    a bit of code cleanup

 tools/qfcc/source/linker.c |   69 +++++++++++++++++++++++++-------------------
 1 file changed, 39 insertions(+), 30 deletions(-)

commit 412db7e
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Sep 16 15:42:11 2002 +0000

    "for example" is more appropriate than "that is"

 NEWS                          |    2 +-
 tools/qfcc/include/def.h      |    2 ++
 tools/qfcc/include/obj_file.h |    1 +
 tools/qfcc/source/def.c       |    4 ++++
 tools/qfcc/source/obj_file.c  |    3 +++
 tools/qfcc/source/qc-lex.l    |    1 +
 tools/qfcc/source/qc-parse.y  |    3 ++-
 7 files changed, 14 insertions(+), 2 deletions(-)

commit 3b09f34
Author: Chris Ison <cisos@bigpond.net.au>
Date:   Mon Sep 16 07:17:24 2002 +0000

    fix up package names in license

 tools/3dfx_stub/3dfxstub.h  |   12 ++++++------
 tools/3dfx_stub/gl_stub.c   |   14 +++++++-------
 tools/3dfx_stub/gls_norm.c  |   12 ++++++------
 tools/3dfx_stub/gls_trace.c |   12 ++++++------
 4 files changed, 25 insertions(+), 25 deletions(-)

commit 5b113e8
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Sun Sep 15 09:24:06 2002 +0000

    Update NEWS with some more stuff, and easier-to-read layout.

 NEWS |  197 +++++++++++++++++++++++++++++++++++++++++-------------------------
 1 file changed, 122 insertions(+), 75 deletions(-)

commit 75c7119
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 15 05:04:14 2002 +0000

    gamma correct the loaded lightmaps so swgamma works better (MUCH better:)

 libs/models/brush/gl_model_brush.c |    5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 5547c56
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sat Sep 14 20:16:15 2002 +0000

    Fix fps limiting.

 qw/source/cl_main.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit eec3b7d
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Sep 14 07:51:53 2002 +0000

    fix missed header commit

 include/QF/progs.h              |    4 ++--
 libs/gamecode/engine/pr_edict.c |    2 +-
 libs/gamecode/engine/pr_exec.c  |    1 +
 3 files changed, 4 insertions(+), 3 deletions(-)

commit e551c1f
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Sat Sep 14 07:00:40 2002 +0000

    New dump format for progs. It looks like assembly code. setting pr_debug to 2
    or higher adds more debug information.

 libs/gamecode/engine/pr_edict.c |   68 ++++++++++++++++-------------
 libs/gamecode/engine/pr_exec.c  |   90 +++++++++++++++++++++++++--------------
 2 files changed, 95 insertions(+), 63 deletions(-)

commit d9eff16
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Sep 14 03:34:33 2002 +0000

    allow players to run down ramps normally when no_pogo_stick bit 1 is set

 qw/source/pmove.c |   16 ++++++++--------
 1 file changed, 8 insertions(+), 8 deletions(-)

commit 0137439
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Sep 13 21:02:01 2002 +0000

    forgot to remove my debug :P

 configure.ac |    3 ---
 1 file changed, 3 deletions(-)

commit 3ca9a80
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Sep 13 20:53:49 2002 +0000

    detect whether to use -pthread or -lpthread

 configure.ac |   14 +++++++++++++-
 1 file changed, 13 insertions(+), 1 deletion(-)

commit eb4aa7c
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Sep 13 17:38:19 2002 +0000

    produce better code for v6 %

 tools/qfcc/source/expr.c |   12 ++++++++----
 1 file changed, 8 insertions(+), 4 deletions(-)

commit 308ff71
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Sep 13 17:12:26 2002 +0000

    emit.c:
    	implement % for v6 code. hacky, but it works :) (Closes: #29)
    expr.c:
    	emit the body of a block expresion before emitting its result (needed
    	for v6 %)

 tools/qfcc/source/emit.c |    3 ++-
 tools/qfcc/source/expr.c |   22 ++++++++++++++++++++++
 2 files changed, 24 insertions(+), 1 deletion(-)

commit 1e5402a
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Sep 13 15:42:07 2002 +0000

    Closes: #50
    idstuff.c:
    	don't write the defs at offset 0 to progdefs.h
    qfcc.c:
    	generate progdefs.h and the crc for v6 code when linking object files
    	to the progs.dat

 tools/qfcc/source/idstuff.c |    4 +++-
 tools/qfcc/source/qfcc.c    |    9 ++++++++-
 2 files changed, 11 insertions(+), 2 deletions(-)

commit b8829fa
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Sep 13 15:07:48 2002 +0000

    bspfile.c:
    	start rewriting for saner code starting with making the private
    	functions static
    cmdlib.[ch]:
    	win32 compile fixes (remove redundant function)

 libs/util/bspfile.c               |    6 +++---
 tools/qfmodelgen/include/cmdlib.h |    1 -
 tools/qfmodelgen/source/cmdlib.c  |   20 --------------------
 3 files changed, 3 insertions(+), 24 deletions(-)

commit f7b4dff
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Sep 13 05:32:28 2002 +0000

    get larger player skins working in gl

 include/QF/skin.h                    |    3 ++-
 libs/models/alias/gl_model_alias.c   |    2 +-
 libs/video/renderer/gl/gl_skin.c     |   27 ++++++++++++++++++++++++---
 libs/video/renderer/sw/sw_skin.c     |    6 ++++++
 libs/video/renderer/sw32/sw32_skin.c |    5 +++++
 qw/source/cl_parse.c                 |    7 ++++---
 6 files changed, 42 insertions(+), 8 deletions(-)

commit e8baa18
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Sep 13 04:31:10 2002 +0000

    correct a spelling error

 qw/source/pmove.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit a6318a3
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Sep 13 04:30:18 2002 +0000

    enhanced no_pogo_stick control

 qw/include/client.h |    1 +
 qw/include/pmove.h  |    1 +
 qw/include/server.h |    1 +
 qw/source/cl_pred.c |    2 ++
 qw/source/pmove.c   |   18 ++++++++++++++++--
 qw/source/sv_user.c |    2 ++
 6 files changed, 23 insertions(+), 2 deletions(-)

commit 2a8896d
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Fri Sep 13 01:08:21 2002 +0000

    Grr, what's with cvs today?

 libs/video/renderer/gl/gl_dyn_part.c |   17 +++++++++--------
 1 file changed, 9 insertions(+), 8 deletions(-)

commit 028202c
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Sep 13 00:58:42 2002 +0000

    silence the MAX_PACKET_ENTITIES warning for general use

 qw/source/sv_ents.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit ca50e19
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Fri Sep 13 00:23:58 2002 +0000

    Oops.

 libs/video/renderer/r_part.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 723b1c9
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Thu Sep 12 22:52:16 2002 +0000

    Missed in last commit. Eeek...

 include/r_dynamic.h |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 7bf16df
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Thu Sep 12 22:09:55 2002 +0000

    More QSG2 work.

 nq/include/client.h  |   96 ++++++++++++++++++++++----------------------------
 nq/source/cl_main.c  |   13 +++----
 nq/source/cl_parse.c |   18 +++++-----
 qw/source/cl_ents.c  |    2 +-
 qw/source/cl_parse.c |    2 +-
 5 files changed, 59 insertions(+), 72 deletions(-)

commit beb6219
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Sep 12 21:11:52 2002 +0000

    bring in rvis' speedup. I won't pretend to understand what's going on, so
    it's tagged :)

 tools/qfvis/source/flow.c |    1 +
 1 file changed, 1 insertion(+)

commit 17a71cc
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Thu Sep 12 20:49:40 2002 +0000

    Allow float cl_maxfps settings, clean up code a bit.

 qw/source/cl_main.c |   10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit cd05f96
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Sep 12 19:33:17 2002 +0000

    forgot to uncomment the code that initialized uncompressed when I got
    portal loading working

 tools/qfvis/source/qfvis.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 090e65b
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Sep 12 18:34:17 2002 +0000

    mark allocated fields constant

 tools/qfcc/source/def.c |    1 +
 1 file changed, 1 insertion(+)

commit d7eea11
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Sep 12 18:30:24 2002 +0000

    static defs are initialized too

 tools/qfcc/source/qc-parse.y |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 842a9d2
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Sep 12 17:13:19 2002 +0000

    linker.c:
    	don't seg on uninitialized fields
    qc-parse.y:
    	support @extern and @static blocks (eg, @extern { ... };)

 tools/qfcc/source/linker.c   |    3 ++-
 tools/qfcc/source/qc-parse.y |   16 +++++++++++++---
 2 files changed, 15 insertions(+), 4 deletions(-)

commit 774b0ad
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Sep 12 06:48:05 2002 +0000

    get qfvis working, including pthreads

 configure.ac                   |   17 +++++++++------
 tools/qfvis/source/Makefile.am |    2 ++
 tools/qfvis/source/options.c   |    1 +
 tools/qfvis/source/qfvis.c     |   46 ++++++++++++++++++++--------------------
 4 files changed, 37 insertions(+), 29 deletions(-)

commit c2053c4
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Sep 12 05:40:46 2002 +0000

    whitespace

 NEWS |   10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit 0f71406
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Thu Sep 12 05:36:02 2002 +0000

    Added a blurb about the new timecheat protection.

 NEWS |    9 +++++++++
 1 file changed, 9 insertions(+)

commit 7f4cd09
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Thu Sep 12 04:57:40 2002 +0000

    Removed the old timecheat protection and added a system that adjusts
    time to what the server thinks is correct when too much inaccuracy
    builds up.  This nearly eliminates all speed cheating, both normal and
    reverse, except for a brief burst before the protection kicks in.  Might
    need cleaning up/tweaking.

 qw/include/server.h |    5 ++---
 qw/source/sv_main.c |   11 ++++-------
 qw/source/sv_user.c |   50 ++++++++++++--------------------------------------
 3 files changed, 18 insertions(+), 48 deletions(-)

commit 2f98af3
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Sep 11 21:33:58 2002 +0000

    implement non-asm versions of the bit plane mungers

 tools/qfmodelgen/source/lbmlib.c |   49 +++++++++++++++++++++++++++++++-------
 1 file changed, 40 insertions(+), 9 deletions(-)

commit c784b43
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Sep 11 20:22:17 2002 +0000

    bring in modelgel, quakeforgeized :) (more work needs to be done, though)

 configure.ac                         |    8 +
 tools/Makefile.am                    |    2 +-
 tools/qfmodelgen/.gitignore          |    3 +
 tools/qfmodelgen/Makefile.am         |    7 +
 tools/qfmodelgen/include/.gitignore  |    3 +
 tools/qfmodelgen/include/Makefile.am |    3 +
 tools/qfmodelgen/include/cmdlib.h    |  106 +++
 tools/qfmodelgen/include/lbmlib.h    |   61 ++
 tools/qfmodelgen/include/scriplib.h  |   40 ++
 tools/qfmodelgen/include/trilib.h    |   30 +
 tools/qfmodelgen/source/.gitignore   |    6 +
 tools/qfmodelgen/source/Makefile.am  |   14 +
 tools/qfmodelgen/source/cmdlib.c     |  785 +++++++++++++++++++++
 tools/qfmodelgen/source/lbmlib.c     |  529 +++++++++++++++
 tools/qfmodelgen/source/modelgen.c   | 1235 ++++++++++++++++++++++++++++++++++
 tools/qfmodelgen/source/scriplib.c   |  204 ++++++
 tools/qfmodelgen/source/trilib.c     |  194 ++++++
 17 files changed, 3229 insertions(+), 1 deletion(-)

commit f0c96dd
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Sep 11 19:26:44 2002 +0000

    fix a segfault causing silly

 qw/source/teamplay.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit fc5daab
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Sep 11 19:03:51 2002 +0000

    silly little python script for dumping models

 tools/misc/mdl.py |   67 +++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 67 insertions(+)

commit 0b47b60
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Wed Sep 11 18:58:19 2002 +0000

    Whitespace.

 qw/source/teamplay.c |   47 +++++++++++++++++++++++++----------------------
 1 file changed, 25 insertions(+), 22 deletions(-)

commit aae378c
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Sep 11 18:17:45 2002 +0000

    delete temporary .qfo files for (eg) qfcc -o test.dat test.qc

 tools/qfcc/source/qfcc.c |   17 ++++++++++++++---
 1 file changed, 14 insertions(+), 3 deletions(-)

commit 324b896
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Sep 11 16:21:26 2002 +0000

    create new_*_expr functions for all basic expression types except ex_poitner
    and use them instead of new_expr and setting the fields each time. Serious
    code cleanup :)

 tools/qfcc/include/expr.h    |   20 ++++-
 tools/qfcc/source/expr.c     |  181 ++++++++++++++++++++++++++++++------------
 tools/qfcc/source/method.c   |   10 +--
 tools/qfcc/source/qc-parse.y |   79 +++++-------------
 4 files changed, 170 insertions(+), 120 deletions(-)

commit cb241c5
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Tue Sep 10 23:40:13 2002 +0000

    Replace * with # in map names, rather than _. Seems to be the "standard" for replacement textures.

 libs/models/brush/gl_model_brush.c |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 32dcda1
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Sep 10 17:11:42 2002 +0000

    add cd_linux to quakeforge-common

 debian/rules |    1 +
 1 file changed, 1 insertion(+)

commit 5f80d65
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Sep 10 16:57:32 2002 +0000

    correct the alsa 0.9 example

 debian/quakeforge.conf |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit e522707
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Sep 10 15:46:50 2002 +0000

    put in some error checking on the Qopen calls

 tools/qfcc/source/obj_file.c |    2 ++
 tools/qfcc/source/qfcc.c     |   10 +++++++---
 2 files changed, 9 insertions(+), 3 deletions(-)

commit 867f964
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Sep 10 15:36:32 2002 +0000

    * taniwha salutes while taps is played

 tools/qfcc/source/Makefile.am |    2 +-
 tools/qfcc/source/cmdlib.c    |  140 -----------------------------------------
 tools/qfcc/source/qfcc.c      |   68 ++++++++++----------
 3 files changed, 35 insertions(+), 175 deletions(-)

commit 899ad6b
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Sep 10 15:13:12 2002 +0000

    use the correct palette when writing out screen shots

 libs/video/renderer/sw/screen.c   |    2 +-
 libs/video/renderer/sw32/screen.c |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit ecdd537
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Sep 10 06:35:32 2002 +0000

    beat sw gamma handling till GL works. after a fasion. it /looks/ like it was
    beaten on.

 include/QF/vid.h                  |    1 +
 libs/video/renderer/sw/screen.c   |    2 +-
 libs/video/renderer/sw32/screen.c |    2 +-
 libs/video/targets/vid.c          |   19 ++++++++++++-------
 libs/video/targets/vid_3dfxsvga.c |    2 +-
 libs/video/targets/vid_fbdev.c    |    2 +-
 libs/video/targets/vid_glx.c      |    2 +-
 libs/video/targets/vid_sdl.c      |    2 +-
 libs/video/targets/vid_sdl32.c    |    2 +-
 libs/video/targets/vid_sgl.c      |    2 +-
 libs/video/targets/vid_svgalib.c  |    2 +-
 libs/video/targets/vid_wgl.c      |    2 +-
 libs/video/targets/vid_x11.c      |    8 ++++----
 13 files changed, 27 insertions(+), 21 deletions(-)

commit ab9e376
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Tue Sep 10 06:33:01 2002 +0000

    Forgot to remove a line.

 doc/gib.html |    3 ---
 1 file changed, 3 deletions(-)

commit 05d437a
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Sep 10 04:07:34 2002 +0000

    make @extern and @static available to v6 progs

 tools/qfcc/source/qc-lex.l |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 9f6f506
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Sep 10 03:51:10 2002 +0000

    remove vid_basepal, creating vid.palette (current palette) and host_basepal

 include/QF/vid.h                      |    2 +-
 libs/video/renderer/gl/gl_draw.c      |    2 +-
 libs/video/renderer/gl/gl_screen.c    |    6 +++---
 libs/video/renderer/sw/screen.c       |   16 ++++++++--------
 libs/video/renderer/sw/sw_rmisc.c     |    2 +-
 libs/video/renderer/sw32/screen.c     |   10 +++++-----
 libs/video/renderer/sw32/sw32_rmisc.c |    2 +-
 libs/video/targets/vid.c              |    3 ++-
 libs/video/targets/vid_sdl32.c        |    4 ++--
 nq/source/cl_main.c                   |    2 +-
 nq/source/cl_tent.c                   |    6 +++---
 nq/source/host.c                      |    8 ++++----
 nq/source/skin.c                      |    4 ++--
 qw/source/cl_main.c                   |   10 +++++-----
 qw/source/cl_screen.c                 |    2 +-
 qw/source/cl_tent.c                   |    6 +++---
 qw/source/skin.c                      |    4 ++--
 17 files changed, 45 insertions(+), 44 deletions(-)

commit 232aca8
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Tue Sep 10 03:31:05 2002 +0000

    New version of GIB docs.

 doc/gib.html |   90 ++++++++++++++++++++++++++++++++++++++++++----------------
 1 file changed, 65 insertions(+), 25 deletions(-)

commit 1129381
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Tue Sep 10 01:26:02 2002 +0000

    Comments are now stripped out when a script is loaded instead of during
    execution.

 include/QF/gib_parse.h |    1 +
 libs/util/cmd.c        |    1 +
 libs/util/gib_parse.c  |   35 +++++++++++++++++++++++++----------
 3 files changed, 27 insertions(+), 10 deletions(-)

commit d7671d3
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Tue Sep 10 01:13:46 2002 +0000

    Added information about GIB.

 NEWS |   15 +++++++++++++++
 1 file changed, 15 insertions(+)

commit f6ab24e
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Sep 9 23:06:08 2002 +0000

    min-clamp ambientcolor instead of shadecolor. should make for more visible
    players

 libs/video/renderer/gl/gl_mod_alias.c |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit bbcd6ca
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Sep 9 22:03:19 2002 +0000

    start working on our changes

 NEWS |   57 +++++++++++++++++++++++++++++++++++++++++++++++++++++----
 1 file changed, 53 insertions(+), 4 deletions(-)

commit ceb264c
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Mon Sep 9 20:02:52 2002 +0000

    Make nq lightning handling match qw, which also gets some cleanups.

 nq/source/cl_tent.c |  124 +++++++++++++++++++++++++++++++++++++++++----------
 qw/source/cl_tent.c |   29 ++++++------
 2 files changed, 115 insertions(+), 38 deletions(-)

commit 20922dd
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Sep 9 17:28:19 2002 +0000

    rename basic bindings to movement bindings and move the two weopon related
    bindings from the movement menu to the weapon menu. now the movment menu
    /just/ fits on a 320x200 screen.

 ruamoko/cl_menu/controls_o.qc |   64 ++++++++++++++++++++---------------------
 1 file changed, 32 insertions(+), 32 deletions(-)

commit 4001d25
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Sep 9 16:26:39 2002 +0000

    be sure to use the correct key for allocating effects dlights on players

 qw/source/cl_ents.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 82b2f30
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Sep 9 15:56:29 2002 +0000

    actually check that the entities match before returning the overridden beam

 qw/source/cl_tent.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit cc6c820
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Sep 9 04:20:15 2002 +0000

    clear validsequence on disconnect so we don't do prediction before we get a
    world model when reconnecting

 qw/source/cl_main.c |    1 +
 1 file changed, 1 insertion(+)

commit d68c4f7
Author: Chris Ison <cisos@bigpond.net.au>
Date:   Sun Sep 8 03:36:34 2002 +0000

    clear cl.worldmodel on disconnect.

 nq/source/cl_main.c |    1 +
 1 file changed, 1 insertion(+)

commit 460ce5c
Author: Chris Ison <cisos@bigpond.net.au>
Date:   Sun Sep 8 03:21:53 2002 +0000

    clear cl.worldmodel on disconnect. make sure we don't parse server messages when we are disconnected

 qw/source/cl_main.c |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit bf53f43
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Sep 7 06:48:15 2002 +0000

    make PR_break do a backtrace instead of crashing the server

 libs/gamecode/builtins/pr_cmds.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 656b0e3
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Sep 7 06:47:16 2002 +0000

    add line-number dumping

 tools/qfprogs/include/Makefile.am |    2 +-
 tools/qfprogs/include/lines.h     |    8 +++++
 tools/qfprogs/source/Makefile.am  |    3 +-
 tools/qfprogs/source/lines.c      |   63 +++++++++++++++++++++++++++++++++++++
 tools/qfprogs/source/qfprogs.c    |    7 ++++-
 5 files changed, 80 insertions(+), 3 deletions(-)

commit f6cdbdf
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Sep 7 06:45:51 2002 +0000

    make sure an initialized def has the correct source file and line info

 tools/qfcc/source/def.c |    4 ++++
 1 file changed, 4 insertions(+)

commit 2cd6b68
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Sep 6 21:59:02 2002 +0000

    fix a redefined #define

 qw/source/net_udp6.c |    2 --
 1 file changed, 2 deletions(-)

commit b7c2f5e
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Fri Sep 6 21:52:11 2002 +0000

    Allow loading textures from `textures` directory, as well as from maps.

 libs/models/brush/gl_model_brush.c |   17 +++++++++++------
 1 file changed, 11 insertions(+), 6 deletions(-)

commit c4609f5
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Fri Sep 6 21:37:22 2002 +0000

    Experimentally allow external texture loading. Also prevent loading RGB textures as RGBA, which wastes a lot of texture memory, and looks ugly on 16bpp boards.

 libs/models/brush/gl_model_brush.c   |   34 ++++++++-----------
 libs/util/tga.c                      |    5 +--
 libs/video/renderer/gl/gl_skin.c     |   25 +++++---------
 libs/video/renderer/gl/gl_sky.c      |   14 +++-----
 libs/video/renderer/gl/gl_textures.c |   60 ++++++++++++++++++----------------
 5 files changed, 62 insertions(+), 76 deletions(-)

commit 2ba3585
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Sep 5 17:40:14 2002 +0000

    fix a braino with ~float const

 tools/qfcc/source/expr.c |    1 -
 1 file changed, 1 deletion(-)

commit 27b0314
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Sep 4 21:47:27 2002 +0000

    don't do the ObjQC types if --traditional is used

 tools/qfcc/source/type.c |   12 ++++++++++--
 1 file changed, 10 insertions(+), 2 deletions(-)

commit 67b01ca
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Sep 4 19:13:45 2002 +0000

    cleanup the output of connectionless prints a bit

 qw/source/cl_main.c |    6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit 5597dc2
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Sep 4 18:56:53 2002 +0000

    make maplist work over rcon

 include/QF/console.h |    1 +
 libs/console/list.c  |   15 ++++++++-------
 qw/source/sv_main.c  |    1 +
 3 files changed, 10 insertions(+), 7 deletions(-)

commit 4373e4b
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Sep 4 18:26:34 2002 +0000

    just bail from SV_Map_f if the requested map doesn't exist so play doesn't
    get interupted.

 qw/source/sv_ccmds.c |   17 +++++------------
 1 file changed, 5 insertions(+), 12 deletions(-)

commit 1d35f4d
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Sep 4 16:18:52 2002 +0000

    make ~ work for v6 progs by implementing ~x as -1 - x (will give bogus
    results if x has fractional bits, but it's better than it was:)

 tools/qfcc/source/expr.c |   11 ++++++++++-
 1 file changed, 10 insertions(+), 1 deletion(-)

commit 7af8e29
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Sep 4 15:12:05 2002 +0000

    zinx' klik mod makes heavy use of makestatic and that was causing the
    singon buffer to overflow. call SV_FlushSignon before writing the static
    entity data.

 qw/source/sv_pr_cmds.c |    3 +++
 1 file changed, 3 insertions(+)

commit 92db391
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sun Sep 1 23:45:22 2002 +0000

    Optimize model rendering a hair. WildCode spotted that minimum shade was only being applied to the view model (why do we set it up for other stuff if it's not going to be used?). While looking at that, I noticed we could do the divide by 200 in model setup.

 libs/models/model.c                   |    6 +++---
 libs/video/renderer/gl/gl_mod_alias.c |    5 ++---
 2 files changed, 5 insertions(+), 6 deletions(-)

commit 2e3d4a6
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sun Sep 1 20:02:12 2002 +0000

    Add a --disable-vorbis hack, for people with broken ogg vorbis installs (bleh, just fix it you silly people *grmbl*)

 configure.ac |   18 ++++++++++++------
 1 file changed, 12 insertions(+), 6 deletions(-)

commit 882d0f2
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 30 05:33:34 2002 +0000

    the code memory block can move around so take the address of a statement
    after statments have been emitted, not before.

 tools/qfcc/source/emit.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit ea75762
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 30 02:18:53 2002 +0000

    diff--

 nq/source/sys_sdl.c    |    2 +-
 qw/source/cl_sys_sdl.c |    1 +
 2 files changed, 2 insertions(+), 1 deletion(-)

commit 4a645da
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Fri Aug 30 01:23:06 2002 +0000

    Removed sensitivity.gib in favor of the more general ln.gib.

 doc/config/gib/ln.gib      |   27 +++++++++++++++++++++++++++
 doc/config/sensitivity.gib |    8 --------
 2 files changed, 27 insertions(+), 8 deletions(-)

commit 976edc8
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Fri Aug 30 00:25:31 2002 +0000

    Checked in my CustomTF class builder GIB script and two example support
    files.

 doc/config/gib/cb.gib               |  181 +++++++++++++++++++++++++++++++++++
 doc/config/gib/custom/prozac.menu   |  143 +++++++++++++++++++++++++++
 doc/config/gib/custom/warlock.class |   11 +++
 3 files changed, 335 insertions(+)

commit 1c52bc4
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Fri Aug 30 00:02:20 2002 +0000

    Checked GIB documentation in CVS.

 doc/gib.html |  490 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 490 insertions(+)

commit f981dbb
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Thu Aug 29 23:14:54 2002 +0000

    Moved zoom.gib into doc/config/gib and removed useless scripts.

 doc/config/gib/list.gib |  123 -----------------------------------------------
 doc/config/gib/std.gib  |   22 ---------
 doc/config/gib/str.gib  |  109 -----------------------------------------
 doc/config/gib/zoom.gib |  100 ++++++++++++++++++++++++++++++++++++++
 doc/config/zoom.gib     |  100 --------------------------------------
 5 files changed, 100 insertions(+), 354 deletions(-)

commit b32173d
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Thu Aug 29 22:12:51 2002 +0000

    GIB:  White space at the start of a list in a for loop is ignored.  The
    line where an error occurs in a cbuf is now printed.

 libs/util/cbuf.c        |   14 ++++++++++----
 libs/util/gib_builtin.c |    6 +++++-
 libs/util/gib_parse.c   |   41 +++++++++++++++++++++++++++--------------
 3 files changed, 42 insertions(+), 19 deletions(-)

commit 9a577c2
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Aug 29 18:56:55 2002 +0000

    make the old keyname message a little clearer

 libs/video/targets/old_keys.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f6729e3
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Aug 29 17:42:41 2002 +0000

    use MAX_CLIENTS instead of 32 for MAX_PHYSENTS

 qw/include/pmove.h |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d8c1c73
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Aug 29 17:32:16 2002 +0000

    up MAX_PHYSENTS from 32 to (32 + MAX_PACKET_ENTITIES) (ie, 96). While this
    will potentially slow down both client and server, player collision physics
    will be more accurate as more entities will be clipped against (and the
    client should never complain about physent overflow again).

 qw/include/pmove.h  |    2 +-
 qw/source/cl_ents.c |    6 ------
 2 files changed, 1 insertion(+), 7 deletions(-)

commit 92f3e23
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Thu Aug 29 15:42:37 2002 +0000

    Physics bugfix.

 qw/source/cl_main.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit e7f6930
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Thu Aug 29 04:00:30 2002 +0000

    Hacky key repeat handling, just like in_x11.c!

 libs/video/targets/in_sdl.c |   16 +++++++++++++---
 1 file changed, 13 insertions(+), 3 deletions(-)

commit 5da6fbe
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Aug 29 03:06:00 2002 +0000

    check for uninitialized variables used in function args

 tools/qfcc/source/expr.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 85465ef
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Wed Aug 28 23:00:30 2002 +0000

    Made for use whitespace as a field separator and nuked list.get until
    I figure out a standard way to specify a custom field separator.

 libs/util/gib_builtin.c |   46 +++++++++++++---------------------------------
 1 file changed, 13 insertions(+), 33 deletions(-)

commit 2d2dcaa
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 28 22:18:11 2002 +0000

    grenade and rocket launcher were swapped

 ruamoko/cl_menu/controls_o.qc |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit d151779
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 28 21:13:13 2002 +0000

    we haven't sent heartbeats to the id masters by default for a long time

 qw/source/sv_main.c |    2 --
 1 file changed, 2 deletions(-)

commit 3be5026
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 28 21:12:22 2002 +0000

    don't call SV_FinalMessage in SV_Error until networking has been
    initialized so bogus error messages don't get printed

 qw/source/sv_main.c |   19 ++++++++++++-------
 1 file changed, 12 insertions(+), 7 deletions(-)

commit be24d62
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 28 21:03:24 2002 +0000

    bah, thought I tested that. why dstrings were being used anyway I don't know...

 libs/console/client.c |   12 ++++--------
 1 file changed, 4 insertions(+), 8 deletions(-)

commit 246ab00
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 28 16:02:43 2002 +0000

    Change Con_ClearTyping to take a save flag that will cause the current line
    (if not empty) to be saved in the inputline history.
    
    Clear the input (but put in history) of say or say team when pressing escape.
    
    Don't say or say_team if the text is empty.

 include/QF/console.h                  |    2 +-
 libs/console/client.c                 |   13 +++++++++++--
 libs/console/inputline.c              |   13 +++++++------
 libs/gamecode/builtins/bi_inputline.c |    3 ++-
 ruamoko/include/InputLine.h           |    2 +-
 ruamoko/lib/InputLine.r               |    2 +-
 6 files changed, 23 insertions(+), 12 deletions(-)

commit 7cc9f48
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Wed Aug 28 08:28:05 2002 +0000

    Whoops.  I broke looping under some circumstances in GIB.  Fixed.

 libs/util/gib_parse.c |   12 +++++-------
 1 file changed, 5 insertions(+), 7 deletions(-)

commit 33d132f
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Wed Aug 28 08:00:35 2002 +0000

    Added initial support for newline-delimeted lists to GIB, including a for
    loop that takes a variable through all elements of such a list.

 include/QF/gib_buffer.h |    3 ++
 libs/util/gib_buffer.c  |    2 +
 libs/util/gib_builtin.c |  107 ++++++++++++++++++++++++++++++++++++++++++++++-
 libs/util/gib_parse.c   |   11 ++---
 4 files changed, 116 insertions(+), 7 deletions(-)

commit e1a9cfb
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 28 07:44:58 2002 +0000

    rename gl_max_vaelements to gl_vaelements_max

 libs/video/targets/vid_common_gl.c |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit a99329e
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 28 01:35:50 2002 +0000

    add a cvar to control the maximum vertex array size for buggy drivers.
    defaults to 0 (no limit).

 libs/video/targets/vid_common_gl.c |   19 +++++++++++++------
 1 file changed, 13 insertions(+), 6 deletions(-)

commit 250a920
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Tue Aug 27 23:25:52 2002 +0000

    Added file access builtins to GIB.

 libs/util/gib_builtin.c |  161 ++++++++++++++++++++++++++++++++++++++++++++++-
 1 file changed, 159 insertions(+), 2 deletions(-)

commit 7adaf45
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Aug 27 22:13:34 2002 +0000

    plug a memory leak

 libs/util/sys.c |    5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit be8df8b
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Aug 27 19:44:13 2002 +0000

    fix a nasty bug with looped vorbis sound effects. samples with loop lengths
    smaller than their unlooped sections were causing qf to hang.

 libs/audio/renderer/vorbis.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c1a8a02
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Tue Aug 27 19:38:04 2002 +0000

    Whitespace.

 libs/video/renderer/sw32/sw32_rmain.c |   11 ++++-------
 1 file changed, 4 insertions(+), 7 deletions(-)

commit a7380fe
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Aug 27 18:05:59 2002 +0000

    nuke msg_suppress_1 in favor of Sys_DPrintf

 libs/video/renderer/sw/d_surf.c   |    3 +--
 libs/video/renderer/sw32/d_surf.c |    3 +--
 libs/video/targets/vid_mgl.c      |    6 ------
 nq/include/game.h                 |    2 --
 nq/source/host.c                  |    1 -
 qw/include/host.h                 |    4 ----
 qw/source/com.c                   |    1 -
 7 files changed, 2 insertions(+), 18 deletions(-)

commit 68f607d
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Aug 27 17:53:24 2002 +0000

    sanity check the strings to snprintf in open_file as we seem to somehow be
    getting a stack overflow in there.

 libs/util/quakefs.c |    7 +++++++
 1 file changed, 7 insertions(+)

commit bb1adf6
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Aug 27 16:28:58 2002 +0000

    fix the command appended to f_reply message (so-and-so: Average percent
    fullbright for all loaded skins is 4.9%+forward 101) and make the cl_freply
    time check work closer to properly

 qw/source/teamplay.c |   31 ++++++++++++++++---------------
 1 file changed, 16 insertions(+), 15 deletions(-)

commit f473a4f
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Aug 27 16:01:51 2002 +0000

    more thorough reporting on bad surface extents

 libs/models/brush/model_brush.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit a0807c7
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Aug 27 08:33:21 2002 +0000

    fix the handling of escape when in the console before ever connecting

 nq/source/cl_main.c |   33 ++++++++++++++++++---------------
 qw/source/cl_main.c |   12 +++++-------
 2 files changed, 23 insertions(+), 22 deletions(-)

commit f1938f6
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Aug 27 08:11:10 2002 +0000

    fix some segfaults caused by my menu_item->text changes

 libs/console/menu.c |   14 ++++++++++----
 1 file changed, 10 insertions(+), 4 deletions(-)

commit ec47e08
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Aug 27 07:16:28 2002 +0000

    go back to using QFile, quakeio.h and quakefs.h

 include/QF/Makefile.am                |    6 +--
 include/QF/cvar.h                     |    4 +-
 include/QF/keys.h                     |    4 +-
 include/QF/pakfile.h                  |    4 +-
 include/QF/pcx.h                      |    4 +-
 include/QF/progs.h                    |    8 +--
 include/QF/quakefs.h                  |   89 +++++++++++++++++++++++++++++++++
 include/QF/quakeio.h                  |   59 ++++++++++++++++++++++
 include/QF/tga.h                      |    4 +-
 include/QF/vfile.h                    |   59 ----------------------
 include/QF/vfs.h                      |   89 ---------------------------------
 include/old_keys.h                    |    2 +-
 libs/audio/renderer/snd_mem.c         |    8 +--
 libs/audio/renderer/vorbis.c          |    8 +--
 libs/audio/targets/snd_disk.c         |    2 +-
 libs/console/client.c                 |    4 +-
 libs/console/filelist.c               |    2 +-
 libs/console/menu.c                   |    4 +-
 libs/console/server.c                 |    5 +-
 libs/gamecode/builtins/bi_file.c      |    4 +-
 libs/gamecode/engine/pr_builtins.c    |    2 +-
 libs/gamecode/engine/pr_debug.c       |    2 +-
 libs/gamecode/engine/pr_edict.c       |    6 +--
 libs/gamecode/engine/pr_load.c        |    6 +--
 libs/gamecode/engine/pr_resolve.c     |    2 +-
 libs/models/alias/gl_mesh.c           |    4 +-
 libs/models/alias/gl_model_alias.c    |    4 +-
 libs/models/alias/model_alias.c       |    2 +-
 libs/models/brush/gl_model_brush.c    |    4 +-
 libs/models/model.c                   |    2 +-
 libs/models/sprite/gl_model_sprite.c  |    4 +-
 libs/util/bspfile.c                   |    5 +-
 libs/util/cmd.c                       |    8 +--
 libs/util/cvar.c                      |    4 +-
 libs/util/fendian.c                   |   18 +++----
 libs/util/pakfile.c                   |    4 +-
 libs/util/pcx.c                       |    4 +-
 libs/util/qendian.c                   |    2 +-
 libs/util/quakefs.c                   |   38 +++++++-------
 libs/util/quakeio.c                   |   42 ++++++++--------
 libs/util/tga.c                       |    4 +-
 libs/util/wad.c                       |    2 +-
 libs/video/renderer/gl/gl_draw.c      |    6 +--
 libs/video/renderer/gl/gl_dyn_part.c  |    4 +-
 libs/video/renderer/gl/gl_rmisc.c     |    2 +-
 libs/video/renderer/gl/gl_screen.c    |    2 +-
 libs/video/renderer/gl/gl_sky.c       |    4 +-
 libs/video/renderer/sw/draw.c         |    2 +-
 libs/video/renderer/sw/screen.c       |    2 +-
 libs/video/renderer/sw/sw_rpart.c     |    4 +-
 libs/video/renderer/sw32/draw.c       |    2 +-
 libs/video/renderer/sw32/screen.c     |    2 +-
 libs/video/renderer/sw32/sw32_rpart.c |    4 +-
 libs/video/targets/keys.c             |    2 +-
 libs/video/targets/vid_common_gl.c    |    4 +-
 libs/video/targets/vid_wgl.c          |    2 +-
 nq/include/client.h                   |    6 +--
 nq/include/net.h                      |    4 +-
 nq/include/server.h                   |    4 +-
 nq/source/com.c                       |    4 +-
 nq/source/game.c                      |    2 +-
 nq/source/host.c                      |    4 +-
 nq/source/host_cmd.c                  |    4 +-
 nq/source/locs.c                      |    6 +--
 nq/source/net_main.c                  |    4 +-
 nq/source/skin.c                      |    4 +-
 nq/source/sv_ded.c                    |    2 +-
 nq/source/sys_win.c                   |    4 +-
 qw/include/client.h                   |    6 +--
 qw/include/server.h                   |   12 ++---
 qw/source/cl_demo.c                   |    2 +-
 qw/source/cl_main.c                   |    6 +--
 qw/source/cl_parse.c                  |    4 +-
 qw/source/cl_slist.c                  |   10 ++--
 qw/source/com.c                       |    4 +-
 qw/source/crudefile.c                 |    6 +--
 qw/source/game.c                      |    2 +-
 qw/source/locs.c                      |    6 +--
 qw/source/net_packetlog.c             |    6 +--
 qw/source/sbar.c                      |    4 +-
 qw/source/skin.c                      |    4 +-
 qw/source/sv_ccmds.c                  |    4 +-
 qw/source/sv_init.c                   |    2 +-
 qw/source/sv_main.c                   |    6 +--
 qw/source/sv_user.c                   |    4 +-
 tools/qfcc/include/obj_file.h         |    4 +-
 tools/qfcc/source/linker.c            |    2 +-
 tools/qfcc/source/obj_file.c          |    8 +--
 tools/qfcc/source/qfodump.c           |    2 +-
 tools/qfdefs/source/qfdefs.c          |    4 +-
 tools/qflight/source/entities.c       |    3 +-
 tools/qflight/source/ltface.c         |   10 ++--
 tools/qflight/source/qflight.c        |   10 ++--
 tools/qflight/source/trace.c          |    9 ++--
 tools/qfprogs/source/disassemble.c    |    4 +-
 tools/qfprogs/source/qfprogs.c        |    8 +--
 tools/qfvis/source/flow.c             |    8 +--
 tools/qfvis/source/qfvis.c            |   10 ++--
 tools/qfvis/source/soundphs.c         |    8 +--
 tools/qwaq/main.c                     |    4 +-
 100 files changed, 403 insertions(+), 407 deletions(-)

commit 77445fe
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Tue Aug 27 06:46:49 2002 +0000

    Forgot a newline

 libs/util/gib_thread.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 98fc04e
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Tue Aug 27 04:47:49 2002 +0000

    Added threads and callbacks to GIB, as well as several QW callbacks dealing
    with player status.

 include/QF/Makefile.am    |   14 ++---
 include/QF/gib_function.h |    2 +-
 include/QF/gib_thread.h   |   43 ++++++++++++++
 libs/util/Makefile.am     |    6 +-
 libs/util/gib_builtin.c   |   51 +++++++++++++++-
 libs/util/gib_function.c  |   25 +++-----
 libs/util/gib_parse.c     |   10 +++-
 libs/util/gib_thread.c    |  143 +++++++++++++++++++++++++++++++++++++++++++++
 nq/source/host.c          |    5 ++
 qw/source/cl_main.c       |    5 ++
 qw/source/cl_parse.c      |   25 +++++++-
 qw/source/sv_main.c       |    5 ++
 12 files changed, 299 insertions(+), 35 deletions(-)

commit 070aee9
Author: Chris Ison <cisos@bigpond.net.au>
Date:   Tue Aug 27 00:27:33 2002 +0000

    added --with-efence

 configure.ac |    5 +++++
 1 file changed, 5 insertions(+)

commit c72f721
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Aug 26 23:40:30 2002 +0000

    fix the multiple frees of menus

 libs/console/menu.c |   22 ++++++++++++++++------
 1 file changed, 16 insertions(+), 6 deletions(-)

commit ed2ad98
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Mon Aug 26 23:08:34 2002 +0000

    Remove some unneeded libraries from qflight/qfvis.

 configure.ac |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit d855b51
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Mon Aug 26 23:08:04 2002 +0000

    Whitespace

 tools/qfvis/Makefile.am |    1 -
 1 file changed, 1 deletion(-)

commit 9b9a68d
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Mon Aug 26 23:02:17 2002 +0000

    Updated manpages.

 tools/qflight/qflight.1 |   78 ++++++++++++++++++-----------------------------
 tools/qfvis/qfvis.1     |   73 +++++++++++++++-----------------------------
 2 files changed, 53 insertions(+), 98 deletions(-)

commit 7f5c99e
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Aug 26 22:43:34 2002 +0000

    fix -sdl32 crashing on startup (vid_bitdepth init got lost)

 include/QF/vid.h                 |    1 +
 libs/video/targets/context_sdl.c |    4 ++++
 libs/video/targets/vid_sdl32.c   |    2 --
 3 files changed, 5 insertions(+), 2 deletions(-)

commit 0ff949f
Author: Chris Ison <cisos@bigpond.net.au>
Date:   Mon Aug 26 19:51:39 2002 +0000

    return empty string for glGetString by default .. was returning 0 but efence complained

 tools/3dfx_stub/gls_norm.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 38f6833
Author: Chris Ison <cisos@bigpond.net.au>
Date:   Mon Aug 26 19:50:00 2002 +0000

    tanihwa fix for reloading the menu.dat only when gamedir changes

 libs/console/client.c |    1 +
 1 file changed, 1 insertion(+)

commit 52f183a
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Aug 26 16:24:46 2002 +0000

    more getopt fixes. correct : and - for qflight and fix up the help screens

 tools/qflight/source/options.c |   23 +++++++++++------------
 tools/qfvis/source/options.c   |    4 ++--
 2 files changed, 13 insertions(+), 14 deletions(-)

commit 4a69ce1
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Aug 26 16:15:19 2002 +0000

    fix some getopt misconfigurations: missed args markers and "-" isn't needed
    because we don't care about option interleave

 tools/qfvis/source/options.c |   11 +++++------
 1 file changed, 5 insertions(+), 6 deletions(-)

commit df96985
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Aug 26 15:12:05 2002 +0000

    whitespace

 tools/qflight/source/entities.c |    2 +-
 tools/qflight/source/ltface.c   |    5 ++---
 tools/qflight/source/options.c  |   18 +++++++++---------
 tools/qflight/source/qflight.c  |    5 ++---
 tools/qflight/source/threads.c  |    4 ++--
 tools/qflight/source/trace.c    |    4 ++--
 6 files changed, 18 insertions(+), 20 deletions(-)

commit 5108c3c
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Aug 26 15:05:23 2002 +0000

    more (believable:) whitespace

 tools/qfvis/source/flow.c     |   22 +++++++++++++---------
 tools/qfvis/source/options.c  |    2 +-
 tools/qfvis/source/qfvis.c    |   20 ++++++++++++++------
 tools/qfvis/source/soundphs.c |    7 +++++--
 4 files changed, 33 insertions(+), 18 deletions(-)

commit 84f04f1
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Aug 26 14:57:42 2002 +0000

    whitespace like you wouldn't believe. s/^M/^J/g

 tools/qfvis/source/qfvis.c |    1 +
 1 file changed, 1 insertion(+)

commit 5595cb8
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Mon Aug 26 01:10:02 2002 +0000

    Blue armor?  Guess I shouldn't code too late at night...

 qw/source/cl_parse.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 2658c30
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Aug 26 00:31:07 2002 +0000

    use the LoadFile in libQFutil

 tools/qfcc/source/cmdlib.c |   23 -----------------------
 1 file changed, 23 deletions(-)

commit 8c82a54
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Aug 26 00:30:31 2002 +0000

    fix a 0 byte allocation

 libs/gamecode/builtins/bi_cbuf.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d11fbc0
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Mon Aug 26 00:11:16 2002 +0000

    Change from if/else if/else function for setting scale in a number of particle effects, to scale = pow (count, 0.23). Smooth particle size changes with varying count, and doesn't seem any slower in my benchmarks.

 libs/video/renderer/gl/gl_dyn_part.c |   12 ++++--------
 1 file changed, 4 insertions(+), 8 deletions(-)

commit 8c3e8cf
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sun Aug 25 23:59:11 2002 +0000

    Add manpage for qfvis.

 tools/qfvis/.gitignore |    1 -
 tools/qfvis/qfvis.1    |   98 ++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 98 insertions(+), 1 deletion(-)

commit 3d9c0b0
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sun Aug 25 23:18:20 2002 +0000

    Failed escapee!

 tools/qfvis/Makefile.am |    8 ++++++++
 1 file changed, 8 insertions(+)

commit fed01dd
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sun Aug 25 23:16:48 2002 +0000

    .gitignores for qf map tools

 tools/qflight/.gitignore         |    3 +++
 tools/qflight/include/.gitignore |    3 +++
 tools/qflight/source/.gitignore  |    6 ++++++
 tools/qfvis/.gitignore           |    5 +++++
 tools/qfvis/include/.gitignore   |    3 +++
 tools/qfvis/source/.gitignore    |    6 ++++++
 6 files changed, 26 insertions(+)

commit aaab480
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Aug 25 23:16:07 2002 +0000

    fix a bunch of potential malloc (0) calls

 tools/qfcc/source/obj_file.c |   51 ++++++++++++++++++++++++++++--------------
 1 file changed, 34 insertions(+), 17 deletions(-)

commit cfedb80
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sun Aug 25 23:10:57 2002 +0000

    Rest of support for qflight/qfvis. bspfile.c and quakefs.c will need cleaning up, compare to previous cvs versions...

 configure.ac          |   16 +++
 libs/util/Makefile.am |   11 +-
 libs/util/bspfile.c   |  337 +++++++++++++++++++++++++++++++++++++++++++++++++
 libs/util/quakefs.c   |   94 +++++++++++---
 4 files changed, 432 insertions(+), 26 deletions(-)

commit a3af2d9
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sun Aug 25 23:06:23 2002 +0000

    Add Hideo's WIP qflight & qfvis.

 tools/Makefile.am                 |    2 +-
 tools/qflight/Makefile.am         |    7 +
 tools/qflight/include/Makefile.am |    3 +
 tools/qflight/include/entities.h  |   63 +++
 tools/qflight/include/light.h     |   63 +++
 tools/qflight/include/options.h   |   49 ++
 tools/qflight/include/threads.h   |   49 ++
 tools/qflight/qflight.1           |   98 ++++
 tools/qflight/source/Makefile.am  |   14 +
 tools/qflight/source/entities.c   |  311 +++++++++++++
 tools/qflight/source/ltface.c     |  571 ++++++++++++++++++++++++
 tools/qflight/source/options.c    |  145 ++++++
 tools/qflight/source/qflight.c    |  164 +++++++
 tools/qflight/source/threads.c    |  106 +++++
 tools/qflight/source/trace.c      |  231 ++++++++++
 tools/qfvis/include/Makefile.am   |    3 +
 tools/qfvis/include/options.h     |   46 ++
 tools/qfvis/include/vis.h         |  137 ++++++
 tools/qfvis/source/Makefile.am    |   14 +
 tools/qfvis/source/flow.c         |  457 +++++++++++++++++++
 tools/qfvis/source/options.c      |  135 ++++++
 tools/qfvis/source/qfvis.c        |  884 +++++++++++++++++++++++++++++++++++++
 tools/qfvis/source/soundphs.c     |  176 ++++++++
 23 files changed, 3727 insertions(+), 1 deletion(-)

commit 5567a69
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sun Aug 25 20:47:13 2002 +0000

    Whitespace, plus hopefully make it more clear when Ogg Vorbis support isn't being compiled.

 configure.ac |   32 ++++++++++++++++----------------
 1 file changed, 16 insertions(+), 16 deletions(-)

commit e2e6058
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sun Aug 25 16:51:30 2002 +0000

    Code in variable declarations. Yuck. *thwaps taniwha*

 libs/models/alias/gl_model_alias.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ddb90e1
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sun Aug 25 16:35:22 2002 +0000

    More whitespace. Eek.

 libs/models/clip_hull.c |    7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

commit 89412ee
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sun Aug 25 16:34:28 2002 +0000

    One step closer to BSD working. Now just needs some work on autoconfiscation... Yech.

 libs/audio/targets/snd_oss.c |    3 +++
 1 file changed, 3 insertions(+)

commit 19315a3
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sun Aug 25 14:25:38 2002 +0000

    Whitespace, comment cleanups.

 libs/models/alias/gl_mesh.c          |   55 +++++++++++++---------------------
 libs/models/alias/gl_model_alias.c   |   10 +++----
 libs/models/alias/model_alias.c      |    8 ++---
 libs/models/alias/sw_model_alias.c   |   46 +++++++++++++---------------
 libs/models/brush/gl_model_brush.c   |    4 +--
 libs/models/brush/model_brush.c      |    2 +-
 libs/models/brush/sw_model_brush.c   |    2 +-
 libs/models/clip_hull.c              |    2 +-
 libs/models/gl_model_fullbright.c    |    6 ++--
 libs/models/model.c                  |    8 ++---
 libs/models/sprite/gl_model_sprite.c |    6 ++--
 libs/models/sprite/model_sprite.c    |    2 +-
 libs/models/sprite/sw_model_sprite.c |    2 +-
 13 files changed, 65 insertions(+), 88 deletions(-)

commit ff03367
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sun Aug 25 05:55:28 2002 +0000

    Whitespace and comment cleanups.

 libs/video/renderer/gl/gl_rsurf.c |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 4645615
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sun Aug 25 04:47:57 2002 +0000

    Whitespace.

 libs/util/cbuf.c |   11 ++++----
 libs/util/tga.c  |    3 +--
 libs/util/zone.c |   74 ++++++++++++++++++++++++++++--------------------------
 3 files changed, 45 insertions(+), 43 deletions(-)

commit 9d6bdf5
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sat Aug 24 07:40:10 2002 +0000

    Attempt to work around BSD segfault.

 libs/audio/targets/snd_oss.c |   44 ++++++++++++++++++++++++------------------
 1 file changed, 25 insertions(+), 19 deletions(-)

commit 876eaa4
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Sat Aug 24 05:14:46 2002 +0000

    Added a few useful builtins and began adding GIB hooks into quakeworld.
    The player global branch variable is now updated with useful information
    and the location.get builtin is available to return the current location
    of the player based on loc files.  Fixed a bug with zooming out in zoom.gib.

 doc/config/zoom.gib      |    2 +-
 include/QF/gib_builtin.h |    5 +++++
 include/QF/gib_vars.h    |    9 +++++----
 libs/util/gib_builtin.c  |   32 ++++++++++++++++++++++++++++----
 libs/util/gib_function.c |    4 ++--
 libs/util/gib_parse.c    |    6 +++---
 libs/util/gib_process.c  |    7 +++----
 libs/util/gib_vars.c     |   25 +++++++++++++++++++++++--
 qw/source/cl_parse.c     |   35 ++++++++++++++++++++++++++++++++++-
 qw/source/teamplay.c     |   18 ++++++++++++++++++
 10 files changed, 122 insertions(+), 21 deletions(-)

commit 147f940
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Fri Aug 23 21:55:59 2002 +0000

    Kill dead gl_occlusion cvar.

 include/r_cvar.h             |    1 -
 libs/video/renderer/r_cvar.c |    4 ----
 2 files changed, 5 deletions(-)

commit 32f4e53
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Fri Aug 23 21:18:00 2002 +0000

    Fixed the GIB math evaluator to handle unary operators properly, made
    indexing/clipping more like python, made some cosmetic changes to zoom.gib,
    and added the ability for GIB builtins to return values.

 doc/config/zoom.gib     |    3 ++-
 include/ops.h           |    1 +
 libs/util/exp.c         |   27 ++++++++++++++++++---------
 libs/util/gib_builtin.c |   27 +++++++++++++++++++++++++++
 libs/util/gib_parse.c   |    5 +++++
 libs/util/gib_process.c |   30 ++++++++++++++++++++----------
 libs/util/ops.c         |    5 +++++
 7 files changed, 78 insertions(+), 20 deletions(-)

commit 7bf21e2
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Fri Aug 23 21:14:43 2002 +0000

    Use R_CullSphere for rotated bsp models.

 libs/video/renderer/gl/gl_rsurf.c |   30 +++++++++++++++---------------
 1 file changed, 15 insertions(+), 15 deletions(-)

commit d757c10
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Fri Aug 23 20:46:19 2002 +0000

    Only need one define for R_Cull*

 include/QF/mathlib.h |    4 ++--
 libs/util/mathlib.c  |    3 +--
 2 files changed, 3 insertions(+), 4 deletions(-)

commit 5e9330c
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Fri Aug 23 07:45:46 2002 +0000

    Cleaned up the return builtin and made variable stripping ([foo:bar])
    more robust.

 libs/util/gib_builtin.c |   12 ++++++-----
 libs/util/gib_process.c |   54 +++++++++++++++++++++++++++--------------------
 2 files changed, 38 insertions(+), 28 deletions(-)

commit 6e8bd2a
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Fri Aug 23 07:04:29 2002 +0000

    defines and ifdefs for R_CullSphere, just like R_CullBox.

 include/QF/mathlib.h |    5 ++++-
 libs/util/mathlib.c  |    1 +
 2 files changed, 5 insertions(+), 1 deletion(-)

commit aa85219
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Fri Aug 23 04:09:00 2002 +0000

    Commit R_CullSphere use for alias models. Only a 3.3% speed hit for me, and should quiet "foo is disappearing" whinging.

 libs/video/renderer/gl/gl_mod_alias.c |   19 +++++++------------
 1 file changed, 7 insertions(+), 12 deletions(-)

commit ef7a728
Author: Jamie Wilkinson <jaq@spacepants.org>
Date:   Fri Aug 23 02:52:20 2002 +0000

    - Fixed a spelling error in the menus.  The american
      spelling of "favourite" still bugs me though ;-)

 ruamoko/cl_menu/servlist.qc |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 0085cd6
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Thu Aug 22 23:04:44 2002 +0000

    Lots of whitespace in sv_user.c, plus fix sv_timekick help strings, and up sv_timekick_fuzz from 15 to 30 ms.

 qw/source/sv_main.c |    7 +-
 qw/source/sv_user.c |  357 ++++++++++++++++++++-------------------------------
 2 files changed, 144 insertions(+), 220 deletions(-)

commit 0715464
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Thu Aug 22 22:43:47 2002 +0000

    Yay for escape characters.

 doc/config/sensitivity.gib |   10 +++++-----
 include/QF/gib_parse.h     |    2 ++
 libs/util/gib_parse.c      |   14 +++++++++++++-
 libs/util/gib_process.c    |   17 ++++++++++++++++-
 4 files changed, 36 insertions(+), 7 deletions(-)

commit 06e6c92
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Thu Aug 22 20:50:12 2002 +0000

    Fixed some bugs related to comments and global variables.  Updated zoom.gib
    to work with the new GIB parser.  It should be fully functional.

 doc/config/zoom.gib   |   57 +++++++++++++++++++++++++++++--------------------
 libs/util/gib_parse.c |   21 ++++++++++++------
 2 files changed, 49 insertions(+), 29 deletions(-)

commit 44e2fba
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Thu Aug 22 20:06:30 2002 +0000

    More whitespace.

 libs/models/alias/gl_model_alias.c |   62 ++++++++++++++--------------
 libs/models/brush/gl_model_brush.c |   25 +++++-------
 libs/models/brush/model_brush.c    |   78 +++++++++++++++++-------------------
 libs/models/brush/sw_model_brush.c |    3 +-
 libs/models/sprite/model_sprite.c  |   31 +++++++-------
 5 files changed, 92 insertions(+), 107 deletions(-)

commit d4a385a
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Aug 22 19:24:50 2002 +0000

    fix for new gib syntax

 doc/config/sensitivity.gib |    7 ++++---
 1 file changed, 4 insertions(+), 3 deletions(-)

commit 6ab0175
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Thu Aug 22 19:16:44 2002 +0000

    Whitespace...

 libs/models/gl_model_fullbright.c |   17 ++++++++++-------
 1 file changed, 10 insertions(+), 7 deletions(-)

commit e6e9207
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Thu Aug 22 19:08:33 2002 +0000

    Whoops, more whitespace.

 libs/models/model.c |    7 +++----
 1 file changed, 3 insertions(+), 4 deletions(-)

commit c44ec19
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Aug 22 19:00:55 2002 +0000

    handle up to 512x512 map textures /properly/. would be nicer if the max
    could be dynamic

 libs/models/brush/model_brush.c       |    3 ++-
 libs/video/renderer/gl/gl_lightmap.c  |    2 +-
 libs/video/renderer/sw/d_surf.c       |    4 ++--
 libs/video/renderer/sw/sw_rsurf.c     |    2 +-
 libs/video/renderer/sw32/d_surf.c     |    4 ++--
 libs/video/renderer/sw32/sw32_rsurf.c |    2 +-
 6 files changed, 9 insertions(+), 8 deletions(-)

commit 27f9b7a
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Thu Aug 22 18:45:58 2002 +0000

    Whitespace.

 libs/models/model.c |   26 ++++++++++++++------------
 1 file changed, 14 insertions(+), 12 deletions(-)

commit 87b5d2e
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Thu Aug 22 18:38:07 2002 +0000

    Whitespace.

 libs/models/clip_hull.c |   16 +++++++++-------
 1 file changed, 9 insertions(+), 7 deletions(-)

commit 9f1cedf
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Aug 22 16:20:06 2002 +0000

    don't seg if given a null table (ie, no vars in this context)

 libs/util/gib_vars.c |    2 ++
 1 file changed, 2 insertions(+)

commit 502898a
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Aug 22 16:14:15 2002 +0000

    install zpak when doing make install

 tools/Makefile.am |    1 +
 1 file changed, 1 insertion(+)

commit ea063fe
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 21 22:57:43 2002 +0000

    remove the bogus -p $(STRIP)

 ruamoko/lib/Makefile.am |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 42c03bb
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 21 22:52:29 2002 +0000

    fix an out-by-one error that was causing segfaults for single line commands
    ending with a // comment

 libs/util/idparse.c |    5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

commit 9bf3ccd
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Wed Aug 21 06:06:05 2002 +0000

    SDL-using targets are now aware if the cursor is in the window or not. in_snd_block now works for them.
    (Also cursor hiding when in window was fixed for -sgl, already committed)

 libs/video/targets/in_sdl.c |   55 ++++++++++++++++++++++++++++++++-----------
 1 file changed, 41 insertions(+), 14 deletions(-)

commit f92c2d8
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Wed Aug 21 06:00:08 2002 +0000

    Whitespace cleanups and some cruft removal.

 libs/video/targets/vid_sdl.c   |   25 +++++++++----------------
 libs/video/targets/vid_sdl32.c |   33 ++++++++++++---------------------
 libs/video/targets/vid_sgl.c   |   14 ++++++--------
 3 files changed, 27 insertions(+), 45 deletions(-)

commit 9d2e09f
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Wed Aug 21 05:59:00 2002 +0000

    Whitespace.

 libs/video/targets/in_x11.c  |    5 ++---
 libs/video/targets/vid_glx.c |   22 ++++++++--------------
 2 files changed, 10 insertions(+), 17 deletions(-)

commit 84afd9e
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 21 05:15:08 2002 +0000

    d'oh, dunno why I did 8 bit that way, put /it/ back to the old shared buffer
    way because it always worked and it really doesn't need the slowdown.

 libs/video/targets/vid_x11.c |   39 +++++++++++----------------------------
 1 file changed, 11 insertions(+), 28 deletions(-)

commit be75ff4
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 21 04:58:47 2002 +0000

    fix -x11 screenshots and remove some dead code

 TODO                             |    2 +-
 libs/video/targets/vid_svgalib.c |   24 ----------
 libs/video/targets/vid_x11.c     |   90 +++++++++++++++++++-------------------
 3 files changed, 47 insertions(+), 69 deletions(-)

commit 498eac3
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 21 03:57:36 2002 +0000

    hmm, missed that one

 qw/source/Makefile.am |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 09d89a3
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 21 02:25:51 2002 +0000

    move bi_keys from csqc to pr_keys in targets allowing the server to link
    with libQFcsqc (need a new name:P)

 libs/gamecode/builtins/Makefile.am |    2 +-
 libs/gamecode/builtins/bi_init.c   |    1 -
 libs/gamecode/builtins/bi_keys.c   |  141 ------------------------------------
 libs/video/targets/Makefile.am     |    3 +-
 libs/video/targets/keys.c          |    3 +
 libs/video/targets/pr_keys.c       |  141 ++++++++++++++++++++++++++++++++++++
 6 files changed, 147 insertions(+), 144 deletions(-)

commit 6b55907
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 21 02:10:47 2002 +0000

    Nuke the screen saver code as it hasn't been needed since we stopped using
    dga keyboard input

 libs/video/targets/context_x11.c |   22 ----------------------
 1 file changed, 22 deletions(-)

commit 1489ee8
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Wed Aug 21 01:55:31 2002 +0000

    Remove old keyboard/mouse grabber cruft.

 libs/video/targets/context_x11.c |   41 +++++---------------------------------
 1 file changed, 5 insertions(+), 36 deletions(-)

commit c12518d
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 21 01:51:27 2002 +0000

    windows knows only a subset of the signals

 libs/util/sys.c |   18 +++++++++++++-----
 1 file changed, 13 insertions(+), 5 deletions(-)

commit b96617e
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Wed Aug 21 01:40:21 2002 +0000

    Some more whitespace, plus stop unconditionally resuming cd audio and sound when focus restored.

 libs/video/targets/in_x11.c |   11 ++++++-----
 1 file changed, 6 insertions(+), 5 deletions(-)

commit ee7e332
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Wed Aug 21 00:05:27 2002 +0000

    Merging common SDL video code into context_sdl.c, to make adding SDL features easier.

 libs/video/targets/Makefile.am   |    7 +--
 libs/video/targets/context_sdl.c |   80 ++++++++++++++++++++++++++++++
 libs/video/targets/in_sdl.c      |    7 +--
 libs/video/targets/vid_sdl.c     |   60 ++---------------------
 libs/video/targets/vid_sdl32.c   |   63 +++---------------------
 libs/video/targets/vid_sgl.c     |   99 +++-----------------------------------
 6 files changed, 107 insertions(+), 209 deletions(-)

commit 168915f
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Wed Aug 21 00:04:35 2002 +0000

    Some header cleanup, some whitespace.

 libs/video/targets/context_x11.c |   55 ++++++++++++++++++++------------------
 libs/video/targets/in_x11.c      |   31 ++++++++++-----------
 2 files changed, 43 insertions(+), 43 deletions(-)

commit 5009213
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Aug 20 23:04:57 2002 +0000

    Move the signal handling code from video/targets/* to sys.c (I'm leaving
    the SDL target files for Despair since he's working on the currently). Also
    make progs segfault handling much more robust (and general: sigill etc too:)

 include/QF/sys.h                  |    4 +-
 libs/gamecode/engine/pr_exec.c    |   23 ++++----
 libs/util/sys.c                   |  113 ++++++++++++++++++++++++++++++++++++-
 libs/util/sys_ia32.S              |    4 +-
 libs/video/targets/context_x11.c  |   82 ---------------------------
 libs/video/targets/vid_3dfxsvga.c |   60 --------------------
 nq/source/host.c                  |    2 +
 nq/source/sys_sdl.c               |    2 +-
 nq/source/sys_win.c               |    2 +-
 qw/source/cl_main.c               |    2 +
 qw/source/sv_main.c               |    2 +
 qw/source/sv_progs.c              |   12 ----
 12 files changed, 137 insertions(+), 171 deletions(-)

commit 118e982
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Aug 20 22:29:04 2002 +0000

    odd, must have forgotten to test this lot

 ruamoko/cl_menu/client_menu.qc |    1 +
 ruamoko/cl_menu/options.qc     |    1 +
 ruamoko/cl_menu/servlist.qc    |    1 +
 3 files changed, 3 insertions(+)

commit d328e18
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Aug 20 21:19:53 2002 +0000

    implement the "new" inputline api making it possible to pull the Draw_*
    functions out of bi_inputline.c. now somebody can be insane enough to
    implement a qc controled console for the server ;) (more importantly, one
    step closer to being able to have the server link with libQFcsqc (hah!))

 include/QF/csqc.h                     |    3 +++
 libs/console/client.c                 |   34 ++++++++++++++++++++++++---------
 libs/console/menu.c                   |    5 +++++
 libs/gamecode/builtins/bi_inputline.c |   27 +++++++++++---------------
 ruamoko/include/InputLine.h           |   19 +++++++++---------
 ruamoko/lib/InputLine.r               |   24 ++++++++++-------------
 6 files changed, 64 insertions(+), 48 deletions(-)

commit 5d51e01
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Aug 20 21:16:50 2002 +0000

    bah, forgot the header changes :P

 tools/qfcc/include/qfcc.h |    1 +
 1 file changed, 1 insertion(+)

commit 3e87e3e
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Aug 20 21:13:18 2002 +0000

    allow ';' after @class ...

 tools/qfcc/source/options.c  |    3 +++
 tools/qfcc/source/qc-parse.y |    2 +-
 tools/qfcc/source/qfcc.c     |    3 ---
 3 files changed, 4 insertions(+), 4 deletions(-)

commit 094cf08
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Aug 20 19:31:56 2002 +0000

    bah, bloody string builtins in gcc 2.95

 tools/qfprogs/source/modules.c |    7 +++++++
 1 file changed, 7 insertions(+)

commit 099e273
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Aug 20 19:16:11 2002 +0000

    various msvc fixes thanks to muzzy (hope he doesn't give up:)

 configure.ac                 |    1 -
 include/QF/sys.h             |    8 ++++----
 include/qstring.h            |    2 ++
 libs/video/targets/vid_mgl.c |    2 +-
 libs/video/targets/vid_wgl.c |    2 +-
 nq/source/locs.c             |    4 ++++
 nq/source/net_udp.c          |    2 +-
 nq/source/net_wipx.c         |    2 ++
 nq/source/sys_win.c          |    2 +-
 qw/source/cl_sys_win.c       |    2 +-
 qw/source/locs.c             |    4 ++++
 tools/3dfx_stub/gls_trace.c  |    2 +-
 tools/cross/cross-make.sh    |    2 +-
 tools/gl_stub/gls_trace.c    |    2 +-
 14 files changed, 24 insertions(+), 13 deletions(-)

commit 371e92c
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Aug 20 17:21:32 2002 +0000

    finally fix chained function calls /properly/. need to make sure /all/ args
    get their user count incremented, not just the head of the chain

 tools/qfcc/source/expr.c |    8 ++++++--
 1 file changed, 6 insertions(+), 2 deletions(-)

commit 76a7637
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Aug 20 14:31:47 2002 +0000

    provide a way to dump module information

 tools/qfprogs/include/Makefile.am |    2 +-
 tools/qfprogs/include/modules.h   |    8 +++
 tools/qfprogs/source/Makefile.am  |    2 +-
 tools/qfprogs/source/modules.c    |  122 +++++++++++++++++++++++++++++++++++++
 tools/qfprogs/source/qfprogs.c    |    7 ++-
 5 files changed, 138 insertions(+), 3 deletions(-)

commit e429195
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Aug 20 07:10:16 2002 +0000

    allow qfdefs to build standalone again (thanks, raorn)

 tools/qfdefs/configure.in |    8 ++++++++
 1 file changed, 8 insertions(+)

commit b97b70b
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Aug 20 06:22:28 2002 +0000

    final InputLine object conversion

 ruamoko/cl_menu/servlist.qc |   10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit e4d587f
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Aug 20 06:12:02 2002 +0000

    get the args in the right order for Rect

 ruamoko/cl_menu/client_menu.qc |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit c927b2e
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Aug 20 06:11:10 2002 +0000

    quakefs.c:
    	allow . and .. in a path so long as the result doesn't escape from the
    	game directory
    cl_menu/Makefile.am:
    	don't strip source paths
    optoins.qc:
    	use InputLine object
    def.c:
    	use notice to show stray temps
    emit.c:
    	make sure expression args get emitted for function calls
    expr.c:
    	'C' is a cast
    	rewrite cast_expr to handle casted pointere derefs

 libs/util/quakefs.c         |   83 +++++++++++++++++++++++++++++++++++--------
 ruamoko/cl_menu/Makefile.am |    4 +--
 ruamoko/cl_menu/options.qc  |   47 ++++++++++++------------
 tools/qfcc/source/def.c     |   21 +++++++----
 tools/qfcc/source/emit.c    |    2 +-
 tools/qfcc/source/expr.c    |   24 +++++++------
 6 files changed, 122 insertions(+), 59 deletions(-)

commit 5d71356
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Aug 20 02:52:04 2002 +0000

    gah, that /did/ work, dunno what happend. must have done a tweak before
    committing again :/ This currently produces some pseudo warnings about
    dangling temps, but that's better than producing broken code

 tools/qfcc/source/expr.c |    3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit 7de0dd6
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Tue Aug 20 02:31:19 2002 +0000

    Whoops, missed one Length.

 nq/source/cl_cam.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c91f1a2
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Tue Aug 20 02:22:40 2002 +0000

    Rename Length to VectorLength.

 include/QF/mathlib.h                   |   18 ++--
 libs/models/brush/model_brush.c        |    4 +-
 libs/models/model.c                    |    2 +-
 libs/util/mathlib.c                    |    2 +-
 libs/video/renderer/gl/gl_dyn_lights.c |    3 +-
 libs/video/renderer/sw/sw_rmain.c      |    4 +-
 libs/video/renderer/sw32/sw32_rmain.c  |    7 +-
 nq/source/cl_cam.c                     |  138 +++++++++++++-------------
 nq/source/pr_cmds.c                    |  169 +++++++++++++-------------------
 nq/source/sv_phys.c                    |    2 +-
 nq/source/sv_user.c                    |    4 +-
 qw/source/cl_cam.c                     |   77 +++++++--------
 qw/source/sv_phys.c                    |    4 +-
 qw/source/sv_send.c                    |    2 +-
 14 files changed, 192 insertions(+), 244 deletions(-)

commit b99a72e
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Aug 20 02:09:34 2002 +0000

    pr_obj.c:
    	call obj_find_message with super instead of class when doing a super
    	lookup
    client_menu.[ch]:
    	use the InputLine object instead of directly using the api
    InputLine.r:
    	builint functions are = #0, not = 0 :P
    function.[ch]:
    	provide copy_params
    method.[ch]
    	provide copy_keywordargs
    expr.c:
    	call inc_users for the parm temp if it's a bind expression
    	revers a copy of the selector when building the selector name so the
    	selector doesn't get mangled
    qc-parse.y:
    	catch erronous func = const inintializers (should be func = #const)

 libs/gamecode/engine/pr_obj.c  |    2 +-
 ruamoko/cl_menu/client_menu.h  |    2 +-
 ruamoko/cl_menu/client_menu.qc |   20 ++++++++++----------
 ruamoko/lib/InputLine.r        |    2 +-
 tools/qfcc/include/function.h  |    1 +
 tools/qfcc/include/method.h    |    1 +
 tools/qfcc/source/expr.c       |    5 +++++
 tools/qfcc/source/function.c   |   13 +++++++++++++
 tools/qfcc/source/method.c     |   13 +++++++++++++
 tools/qfcc/source/qc-parse.y   |    6 +++++-
 10 files changed, 51 insertions(+), 14 deletions(-)

commit e8a834d
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Aug 20 01:51:27 2002 +0000

    print the function number when dumping functions

 tools/qfprogs/source/globals.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 32a85e7
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Tue Aug 20 00:48:59 2002 +0000

    Clipping cleanups.
    Calculate radius for alias models as well as brush.
    Culling is no longer optional on alias models (was only ever disabled for viewmodel, which is a lot of extra effort to avoid clip testing 1 thing out of hundreds).
    Clip QSG2 scaled alias models with a scaled bbox.

 include/QF/mathlib.h                  |   19 ++++++++-
 include/QF/model.h                    |   76 +++++++++++++++++----------------
 libs/models/alias/model_alias.c       |   32 ++++++--------
 libs/models/brush/model_brush.c       |   50 ++++++----------------
 libs/models/model.c                   |   19 ++++++---
 libs/video/renderer/gl/gl_mod_alias.c |   44 +++++++++++--------
 libs/video/renderer/gl/gl_rmain.c     |    6 +--
 libs/video/renderer/gl/gl_rsurf.c     |   22 +++++-----
 8 files changed, 138 insertions(+), 130 deletions(-)

commit e9febea
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Mon Aug 19 06:00:31 2002 +0000

    Whitespace.

 libs/models/alias/gl_model_alias.c |   11 +++++++----
 1 file changed, 7 insertions(+), 4 deletions(-)

commit 55cdde8
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Aug 19 04:15:46 2002 +0000

    rename clmodel to model

 libs/video/renderer/gl/gl_mod_alias.c |   20 ++++++++++----------
 1 file changed, 10 insertions(+), 10 deletions(-)

commit b1a180b
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Aug 19 04:05:02 2002 +0000

    move the view model check for min_light into the model loader (checks for
    progs/v_*)

 libs/models/model.c                   |    2 ++
 libs/video/renderer/gl/gl_mod_alias.c |    2 +-
 2 files changed, 3 insertions(+), 1 deletion(-)

commit 450acbd
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Aug 19 04:00:02 2002 +0000

    fix for current pak

 tools/zpak |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit b6e311d
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Aug 19 03:58:55 2002 +0000

    varous make dist fixes

 ruamoko/game/Makefile.am         |    2 +-
 tools/qfdefs/Makefile.am         |    5 +----
 tools/qfdefs/include/Makefile.am |    1 +
 3 files changed, 3 insertions(+), 5 deletions(-)

commit d663cfb
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Aug 19 03:30:27 2002 +0000

    make ChangeLog is little easier to read

 Makefile.am |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 2b1fd8e
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Aug 19 02:48:38 2002 +0000

    fix the menu keybinding not working bug

 include/QF/idparse.h             |    9 ++++++++-
 include/QF/keys.h                |    4 ++--
 libs/gamecode/builtins/bi_keys.c |   15 ---------------
 libs/video/targets/keys.c        |    8 ++++----
 nq/source/host.c                 |    2 +-
 nq/source/sv_ded.c               |    2 +-
 qw/source/cl_main.c              |    2 +-
 7 files changed, 17 insertions(+), 25 deletions(-)

commit 797dcc4
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Aug 19 02:01:36 2002 +0000

    hide .libs

 tools/qfdefs/source/.gitignore |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 451eaba
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Aug 19 01:58:01 2002 +0000

    change the value type for MSG_Write(Byte|Short|Long) from unsigned int to
    int to avoid float -> unsigned int conversion problems

 include/QF/msg.h |    6 +++---
 libs/util/msg.c  |   18 +++++++++---------
 2 files changed, 12 insertions(+), 12 deletions(-)

commit 3431b7c
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Aug 19 00:05:51 2002 +0000

    float -> unsigned int needs to pass though int otherwise we lose the negative
    range on the ps2 (nasal demons:)

 libs/util/msg.c |   18 +++++++++---------
 1 file changed, 9 insertions(+), 9 deletions(-)

commit d850f0a
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Aug 18 04:35:31 2002 +0000

    build qfdefs by default now. remember to bootstrap and configure

 configure.ac                    |    9 ++++++++-
 tools/Makefile.am               |    2 +-
 tools/qfdefs/source/Makefile.am |   20 +++++++++++++-------
 3 files changed, 22 insertions(+), 9 deletions(-)

commit a94bdb1
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Aug 18 04:08:02 2002 +0000

    @sizeof (foo) should work now

 tools/qfcc/include/expr.h    |    1 +
 tools/qfcc/source/expr.c     |   15 +++++++++++++++
 tools/qfcc/source/qc-lex.l   |    6 ++++++
 tools/qfcc/source/qc-parse.y |   41 ++++++++++++++++++++++++++++-------------
 4 files changed, 50 insertions(+), 13 deletions(-)

commit d796f9e
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Sun Aug 18 00:30:07 2002 +0000

    Add $(top_srcdir)/include to ruamoko/lib's includes (to get key.h). This didn't
    show up if you already had QF installed.

 ruamoko/lib/Makefile.am |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 01e7432
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Sat Aug 17 23:03:26 2002 +0000

    Fix qwaq build.

 tools/qwaq/Makefile.am  |    2 +-
 tools/qwaq/progs.src.in |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 8cee7b7
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Sat Aug 17 07:17:53 2002 +0000

    Whoops! Need to add the header changes.

 ruamoko/include/Rect.h |    6 +++++-
 ruamoko/include/Size.h |   44 ++++++--------------------------------------
 2 files changed, 11 insertions(+), 39 deletions(-)

commit 51ce063
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Sat Aug 17 06:47:03 2002 +0000

    Implement Size and Rect.

 ruamoko/lib/Makefile.am |    4 +--
 ruamoko/lib/Rect.r      |   89 +++++++++++++++++++++++++++++++++++++++++++++++
 ruamoko/lib/Size.r      |   74 +++++++++++++++++++++++++++++++++++++++
 3 files changed, 165 insertions(+), 2 deletions(-)

commit 5e1ce57
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Sat Aug 17 05:27:34 2002 +0000

    Okay, this might or might not work (but it should). It's the beginning of the
    Ruamoko standard library overhaul.

 ruamoko/cl_menu/client_menu.h  |    2 +-
 ruamoko/cl_menu/client_menu.qc |    2 +-
 ruamoko/cl_menu/options.qc     |    2 +-
 ruamoko/cl_menu/servlist.qc    |    2 +-
 ruamoko/game/Axe.h             |   18 +++
 ruamoko/game/Axe.r             |   55 +++++++
 ruamoko/game/GameEntity.h      |   25 ++++
 ruamoko/game/GameEntity.r      |   22 +++
 ruamoko/game/Makefile.am       |    2 +-
 ruamoko/game/Weapon.h          |   13 ++
 ruamoko/game/World.h           |    6 +
 ruamoko/game/World.r           |   82 +++++++++++
 ruamoko/game/axe.h             |   15 --
 ruamoko/game/axe.r             |   54 -------
 ruamoko/game/gameent.h         |   23 ---
 ruamoko/game/gameent.r         |   21 ---
 ruamoko/game/weapon.h          |   11 --
 ruamoko/game/world.h           |    6 -
 ruamoko/game/world.r           |   70 ---------
 ruamoko/include/Entity.h       |   51 +++++++
 ruamoko/include/InputLine.h    |   45 ++++++
 ruamoko/include/Makefile.am    |   20 +--
 ruamoko/include/Object.h       |  137 ++++++++++++++++++
 ruamoko/include/Point.h        |   27 ++++
 ruamoko/include/Rect.h         |   39 +++++
 ruamoko/include/Size.h         |   61 ++++++++
 ruamoko/include/debug.h        |   82 ++++++++++-
 ruamoko/include/draw.h         |    2 +-
 ruamoko/include/entities.h     |   84 +++++++++++
 ruamoko/include/entity.h       |   30 ----
 ruamoko/include/inputline.h    |   39 -----
 ruamoko/include/math.h         |  119 +++++++++++++++-
 ruamoko/include/object.h       |  137 ------------------
 ruamoko/include/point.h        |   17 ---
 ruamoko/lib/Entity.r           |   28 ++++
 ruamoko/lib/InputLine.r        |   66 +++++++++
 ruamoko/lib/Makefile.am        |   17 ++-
 ruamoko/lib/Object.r           |  309 ++++++++++++++++++++++++++++++++++++++++
 ruamoko/lib/Point.r            |   64 +++++++++
 ruamoko/lib/draw.r             |   10 +-
 ruamoko/lib/entities.r         |   12 ++
 ruamoko/lib/entity.r           |   42 ------
 ruamoko/lib/inputline.r        |   67 ---------
 ruamoko/lib/object.r           |  309 ----------------------------------------
 ruamoko/lib/point.r            |   33 -----
 45 files changed, 1366 insertions(+), 912 deletions(-)

commit 52588e0
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sat Aug 17 03:25:54 2002 +0000

    Not a basic instruction. ;)

 ruamoko/cl_menu/options.qc |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 300f638
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 16 22:58:44 2002 +0000

    finalize the move of the menu code

 Makefile.am               |    2 +-
 configure.ac              |    2 -
 cs-code/.gitignore        |    8 -
 cs-code/Makefile.am       |   42 ---
 cs-code/cbuf.h            |    9 -
 cs-code/cbuf.r            |    6 -
 cs-code/client_menu.h     |    8 -
 cs-code/client_menu.qc    |  491 ---------------------------
 cs-code/cmd.h             |   10 -
 cs-code/cmd.r             |    7 -
 cs-code/console.qc        |   90 -----
 cs-code/controls_o.h      |    7 -
 cs-code/controls_o.qc     |  485 ---------------------------
 cs-code/cvar.h            |    6 -
 cs-code/cvar.r            |    3 -
 cs-code/draw.h            |   23 --
 cs-code/draw.r            |   60 ----
 cs-code/file.h            |   11 -
 cs-code/file.r            |    5 -
 cs-code/game.h            |   20 --
 cs-code/game.r            |   17 -
 cs-code/inputline.h       |   16 -
 cs-code/inputline.r       |   10 -
 cs-code/inputline_util.qc |   27 --
 cs-code/key.h             |   10 -
 cs-code/key.r             |    6 -
 cs-code/menu.h            |   29 --
 cs-code/menu.r            |   26 --
 cs-code/options.h         |   13 -
 cs-code/options.qc        |  809 ---------------------------------------------
 cs-code/options_util.h    |   11 -
 cs-code/options_util.qc   |  164 ---------
 cs-code/servlist.h        |    6 -
 cs-code/servlist.qc       |  108 ------
 cs-code/string.h          |    9 -
 cs-code/string.r          |    6 -
 cs-code/stringh.h         |   12 -
 cs-code/stringh.r         |    9 -
 ruamoko/Makefile.am       |    2 +-
 39 files changed, 2 insertions(+), 2583 deletions(-)

commit c1c6c05
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 16 22:53:37 2002 +0000

    pr_obj.c:
    	delay class fixups so order doesn't matter
    class.c:
    	write out the class and category diffs properly

 libs/gamecode/engine/pr_obj.c |   80 ++++++++++++++++++++---------------------
 tools/qfcc/source/class.c     |   20 ++++++-----
 2 files changed, 52 insertions(+), 48 deletions(-)

commit e1f6830
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 16 22:00:54 2002 +0000

    missed this too, bah!

 ruamoko/lib/inputline.r |    8 ++++++++
 ruamoko/lib/system.r    |    2 ++
 2 files changed, 10 insertions(+)

commit f8e3655
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 16 21:58:48 2002 +0000

    should have committed this with the previous commit

 configure.ac |    1 +
 1 file changed, 1 insertion(+)

commit a27041c
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 16 21:54:21 2002 +0000

    prepare to move the client menu code. not used yet due to some ObjQC bugs
    and I don't think people would appreciate losing their menus :)

 ruamoko/cl_menu/.gitignore        |    8 +
 ruamoko/cl_menu/Makefile.am       |   43 ++
 ruamoko/cl_menu/client_menu.h     |    8 +
 ruamoko/cl_menu/client_menu.qc    |  499 +++++++++++++++++++++++
 ruamoko/cl_menu/console.qc        |   90 ++++
 ruamoko/cl_menu/controls_o.h      |    7 +
 ruamoko/cl_menu/controls_o.qc     |  487 ++++++++++++++++++++++
 ruamoko/cl_menu/inputline_util.qc |   27 ++
 ruamoko/cl_menu/menu.h            |   23 ++
 ruamoko/cl_menu/menu.r            |   20 +
 ruamoko/cl_menu/options.h         |   13 +
 ruamoko/cl_menu/options.qc        |  811 +++++++++++++++++++++++++++++++++++++
 ruamoko/cl_menu/options_util.h    |   11 +
 ruamoko/cl_menu/options_util.qc   |  165 ++++++++
 ruamoko/cl_menu/servlist.h        |    6 +
 ruamoko/cl_menu/servlist.qc       |  108 +++++
 ruamoko/cl_menu/string.h          |    9 +
 ruamoko/cl_menu/string.r          |    6 +
 ruamoko/cl_menu/stringh.h         |   12 +
 ruamoko/cl_menu/stringh.r         |    9 +
 ruamoko/include/inputline.h       |    6 +
 ruamoko/include/system.h          |    2 +
 22 files changed, 2370 insertions(+)

commit c1f5659
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 16 21:52:37 2002 +0000

    bi_inputline.c:
    	add InputLine_SetUserData
    pr_resolve.c:
    	report the correct missing symbol (self instead of time)

 libs/gamecode/builtins/bi_inputline.c |   12 ++++++++++++
 libs/gamecode/engine/pr_resolve.c     |    4 +++-
 2 files changed, 15 insertions(+), 1 deletion(-)

commit 932ac62
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 16 20:49:32 2002 +0000

    more error checking fixes

 tools/qfcc/source/qfcc.c |    2 ++
 1 file changed, 2 insertions(+)

commit a12fa85
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 16 20:15:10 2002 +0000

    bring in most of the remaining api bits from cs-code (except string and
    stringh: I'm not really that keen on those interfaces and I'ld like to
    see them go away) and create libcsqc for most of it (key goes into gui)

 ruamoko/include/Makefile.am |    4 +++-
 ruamoko/include/cbuf.h      |    9 +++++++++
 ruamoko/include/cmd.h       |   10 ++++++++++
 ruamoko/include/cvar.h      |    6 ++++++
 ruamoko/include/file.h      |   11 +++++++++++
 ruamoko/include/key.h       |   10 ++++++++++
 ruamoko/lib/Makefile.am     |    8 ++++++--
 ruamoko/lib/cbuf.r          |    6 ++++++
 ruamoko/lib/cmd.r           |    7 +++++++
 ruamoko/lib/cvar.r          |    3 +++
 ruamoko/lib/file.r          |    5 +++++
 ruamoko/lib/key.r           |    6 ++++++
 12 files changed, 82 insertions(+), 3 deletions(-)

commit 5a9e527
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 16 19:57:26 2002 +0000

    add the draw api interface with a QPic class

 ruamoko/include/Makefile.am |    2 +-
 ruamoko/include/draw.h      |   39 ++++++++++++++++
 ruamoko/lib/Makefile.am     |    2 +-
 ruamoko/lib/draw.r          |  103 +++++++++++++++++++++++++++++++++++++++++++
 4 files changed, 144 insertions(+), 2 deletions(-)

commit 8a43157
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 16 19:50:16 2002 +0000

    generate the selector name in the correct order for selector expressions

 tools/qfcc/source/expr.c |    1 +
 1 file changed, 1 insertion(+)

commit e2adc43
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 16 18:42:09 2002 +0000

    make it clearer just what the inputline params are

 ruamoko/include/inputline.h |    4 ++--
 ruamoko/lib/inputline.r     |    6 +++---
 2 files changed, 5 insertions(+), 5 deletions(-)

commit 4b1ceb9
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 16 18:29:21 2002 +0000

    hopefully take care of glGetProcAddress type once and for all :)

 include/QF/GL/funcs.h             |   12 +++---------
 libs/video/targets/qfgl_ext.c     |    5 +----
 libs/video/targets/vid_3dfxsvga.c |   20 +++++++++++++++++---
 libs/video/targets/vid_glx.c      |   20 +++++++++++++++++---
 libs/video/targets/vid_sgl.c      |   11 ++---------
 libs/video/targets/vid_wgl.c      |   29 ++++++++++++-----------------
 6 files changed, 52 insertions(+), 45 deletions(-)

commit a4fa9da
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 16 17:54:12 2002 +0000

    ingore some autotools files

 tools/qfdefs/.gitignore         |    1 +
 tools/qfdefs/include/.gitignore |    1 +
 2 files changed, 2 insertions(+)

commit dc10116
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 16 17:52:17 2002 +0000

    clean up some bitrot

 tools/qfdefs/acconfig.h      |    9 ---------
 tools/qfdefs/source/qfdefs.c |    1 -
 2 files changed, 10 deletions(-)

commit 6c5cad0
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 16 17:20:40 2002 +0000

    make dist fixes

 ruamoko/include/Makefile.am |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit cab813c
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 16 16:51:00 2002 +0000

    check the scope when checking for duplicate vector sub-defs

 tools/qfcc/source/def.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 3b65cbc
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Fri Aug 16 07:53:11 2002 +0000

    Raorn's SDL_GL_GetProc support. Makes -sgl targets work again, hopefully on windows as well as linux.
    
    Now just need to get key repeat, focus handling and sound blocking on focus loss working like x11 input system does, and sdl support will be in pretty good shape. And clean out all the stupid #ifdefs...

 libs/video/targets/vid_sgl.c |   46 +++++++++++++++++++++---------------------
 1 file changed, 23 insertions(+), 23 deletions(-)

commit f068b47
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Aug 15 21:11:57 2002 +0000

    complain when MAX_PACKET_ENTITIES gets hit to see if this is our problem

 qw/source/sv_ents.c |   10 ++++++++--
 1 file changed, 8 insertions(+), 2 deletions(-)

commit 045e52c
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Aug 15 21:00:51 2002 +0000

    start working on gui stuff for the new client menus and make the header file
    protection macros consistent

 ruamoko/include/crudefile.h  |    6 ++---
 ruamoko/include/debug.h      |    6 ++---
 ruamoko/include/entity.h     |    6 ++---
 ruamoko/include/infokey.h    |    6 ++---
 ruamoko/include/inputline.h  |   33 +++++++++++++++++++++++
 ruamoko/include/math.h       |    6 ++---
 ruamoko/include/message.h    |    6 ++---
 ruamoko/include/nq_message.h |    6 ++---
 ruamoko/include/object.h     |    6 ++---
 ruamoko/include/physics.h    |    6 ++---
 ruamoko/include/point.h      |   17 ++++++++++++
 ruamoko/include/qw_message.h |    6 ++---
 ruamoko/include/qw_physics.h |    6 ++---
 ruamoko/include/qw_sys.h     |    6 ++---
 ruamoko/include/sound.h      |    6 ++---
 ruamoko/include/string.h     |    6 ++---
 ruamoko/include/system.h     |    6 ++---
 ruamoko/lib/Makefile.am      |    6 ++++-
 ruamoko/lib/entity.r         |    2 +-
 ruamoko/lib/inputline.r      |   59 ++++++++++++++++++++++++++++++++++++++++++
 ruamoko/lib/point.r          |   33 +++++++++++++++++++++++
 21 files changed, 193 insertions(+), 47 deletions(-)

commit 45a1ef2
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Aug 15 20:13:18 2002 +0000

    allow assignment of any pointer type to void pointers

 tools/qfcc/source/type.c |    2 ++
 1 file changed, 2 insertions(+)

commit 20394c3
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Aug 15 19:09:48 2002 +0000

    add Makefile and Makefile.in

 ruamoko/.gitignore         |    2 ++
 ruamoko/game/.gitignore    |    2 ++
 ruamoko/include/.gitignore |    2 ++
 ruamoko/lib/.gitignore     |    2 ++
 4 files changed, 8 insertions(+)

commit 75ec077
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Aug 15 19:08:44 2002 +0000

    bugger the dependencies, I want to be able to use this stuff for the menus!

 Makefile.am                 |    2 +-
 configure.ac                |    9 +++++++++
 ruamoko/Makefile            |    5 -----
 ruamoko/Makefile.am         |    1 +
 ruamoko/game/Makefile       |   31 -------------------------------
 ruamoko/game/Makefile.am    |   29 +++++++++++++++++++++++++++++
 ruamoko/include/Makefile.am |    6 ++++++
 ruamoko/lib/Makefile        |   42 ------------------------------------------
 ruamoko/lib/Makefile.am     |   26 ++++++++++++++++++++++++++
 9 files changed, 72 insertions(+), 79 deletions(-)

commit f753dd8
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Aug 15 19:06:21 2002 +0000

    put \n on some error messages

 libs/util/pakfile.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 36ca7b5
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Aug 15 18:53:03 2002 +0000

    fix several problems caused by insufficient error checking and some double
    Qclose calls

 tools/qfcc/include/linker.h  |    4 ++--
 tools/qfcc/source/linker.c   |   13 +++++++++----
 tools/qfcc/source/obj_file.c |   20 ++++++++++++--------
 tools/qfcc/source/qfcc.c     |    6 ++++--
 4 files changed, 27 insertions(+), 16 deletions(-)

commit 00c6d01
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Aug 15 18:51:58 2002 +0000

    forgot qwaq relied on cs-code's object.r

 tools/qwaq/Makefile.am  |    4 ++--
 tools/qwaq/progs.src.in |    2 +-
 2 files changed, 3 insertions(+), 3 deletions(-)

commit dce4bac
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Aug 15 17:34:55 2002 +0000

    remove the redundant object.* files now that ruamoko exists (they're not used
    here anyway)

 cs-code/Makefile.am |    4 +-
 cs-code/object.h    |  132 ----------------------
 cs-code/object.r    |  309 ---------------------------------------------------
 3 files changed, 2 insertions(+), 443 deletions(-)

commit c865653
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Thu Aug 15 09:38:23 2002 +0000

    Use function pointers for DeathmatchOverlay, instead of a ridiculous if/else tangle. Bulkier, but considerably faster.

 include/sbar.h       |    3 +
 qw/source/cl_main.c  |    4 +
 qw/source/cl_parse.c |    4 +
 qw/source/sbar.c     |  708 ++++++++++++++++++++++++++++++++++++++------------
 4 files changed, 556 insertions(+), 163 deletions(-)

commit 8842d12
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Aug 15 07:24:56 2002 +0000

    prototypes seem ok now and fix dependecy tracking for newer cpp

 ruamoko/game/Makefile     |    2 +-
 ruamoko/include/message.h |    2 +-
 ruamoko/lib/Makefile      |    2 +-
 ruamoko/lib/message.r     |    2 +-
 4 files changed, 4 insertions(+), 4 deletions(-)

commit d97a584
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Aug 15 07:05:17 2002 +0000

    get everything compiling again. there are likely still incorrect prototypes

 ruamoko/game/axe.r           |    6 +++---
 ruamoko/game/tempent.r       |    2 +-
 ruamoko/game/world.r         |    4 ----
 ruamoko/include/math.h       |    2 +-
 ruamoko/include/physics.h    |    2 +-
 ruamoko/include/qw_message.h |    2 ++
 ruamoko/include/sound.h      |    2 +-
 ruamoko/lib/math.r           |    2 +-
 ruamoko/lib/physics.r        |    3 +--
 ruamoko/lib/sound.r          |    2 +-
 10 files changed, 12 insertions(+), 15 deletions(-)

commit 118fc4b
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Aug 15 06:56:37 2002 +0000

    create prototypes and linkages for all the server builtins, both nq and qw

 ruamoko/game/Makefile        |    4 ----
 ruamoko/game/message.h       |   51 ------------------------------------------
 ruamoko/game/message.r       |   12 ----------
 ruamoko/game/sound.h         |   18 ---------------
 ruamoko/game/sound.r         |    3 ---
 ruamoko/game/trace.h         |   17 --------------
 ruamoko/game/trace.r         |   14 ------------
 ruamoko/game/vector.h        |    7 ------
 ruamoko/game/vector.r        |    5 -----
 ruamoko/include/crudefile.h  |   11 +++++++++
 ruamoko/include/debug.h      |   13 +++++++++++
 ruamoko/include/entity.h     |   11 +++++++++
 ruamoko/include/infokey.h    |    7 ++++++
 ruamoko/include/math.h       |   19 ++++++++++++++++
 ruamoko/include/message.h    |   48 +++++++++++++++++++++++++++++++++++++++
 ruamoko/include/nq_message.h |    6 +++++
 ruamoko/include/physics.h    |   30 +++++++++++++++++++++++++
 ruamoko/include/qw_message.h |    6 +++++
 ruamoko/include/qw_physics.h |    7 ++++++
 ruamoko/include/qw_sys.h     |    6 +++++
 ruamoko/include/sound.h      |   19 ++++++++++++++++
 ruamoko/include/string.h     |   15 +++++++++++++
 ruamoko/include/system.h     |   18 +++++++++++++++
 ruamoko/lib/Makefile         |   17 ++++++++++++--
 ruamoko/lib/crudefile.r      |    8 +++++++
 ruamoko/lib/debug.r          |   10 +++++++++
 ruamoko/lib/entity.r         |   12 ++++++++--
 ruamoko/lib/infokey.r        |    4 ++++
 ruamoko/lib/math.r           |   16 +++++++++++++
 ruamoko/lib/message.r        |   12 ++++++++++
 ruamoko/lib/nq_message.r     |    3 +++
 ruamoko/lib/physics.r        |   29 ++++++++++++++++++++++++
 ruamoko/lib/qw_message.r     |    3 +++
 ruamoko/lib/qw_physics.r     |    4 ++++
 ruamoko/lib/qw_sys.r         |    3 +++
 ruamoko/lib/sound.r          |    4 ++++
 ruamoko/lib/string.r         |   12 ++++++++++
 ruamoko/lib/system.r         |   15 +++++++++++++
 38 files changed, 364 insertions(+), 135 deletions(-)

commit 0ebaa98
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Aug 15 03:22:58 2002 +0000

    fix a vim snafu

 qw/source/sv_pr_cmds.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 01c375c
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 14 22:38:24 2002 +0000

    update test verbosity checks for the new default verbosity

 tools/pak/pak.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit bfd02b6
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 14 22:33:10 2002 +0000

    mess around with the builtin comments

 nq/source/pr_cmds.c    |  102 +++++++++++-----------
 qw/source/sv_pr_cmds.c |  218 ++++++++++++++----------------------------------
 2 files changed, 115 insertions(+), 205 deletions(-)

commit d34c725
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 14 22:03:44 2002 +0000

    make it possible to get to the console via the menu for when ` doesn't work

 cs-code/options.qc |    8 ++++++++
 1 file changed, 8 insertions(+)

commit 141df55
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 14 20:01:23 2002 +0000

    zap some FIXMEs

 libs/util/cmd.c     |    8 --------
 libs/util/quakefs.c |    1 -
 2 files changed, 9 deletions(-)

commit 9c79651
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 14 19:38:23 2002 +0000

    scan for saved files when menu_load or menu_save is used

 cs-code/client_menu.qc |    1 +
 1 file changed, 1 insertion(+)

commit 8adad57
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 14 18:45:09 2002 +0000

    Make the cbuf api use a supplied cbuf rather than allocating its own. Kills
    a FIXME and (Closes: #32)

 include/QF/csqc.h                |    2 ++
 libs/console/menu.c              |    1 +
 libs/gamecode/builtins/bi_cbuf.c |   55 +++++++++++++++++++++++++++++++-------
 3 files changed, 48 insertions(+), 10 deletions(-)

commit 8f9d707
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 14 16:24:29 2002 +0000

    forgot to remove the .deps dir on clean

 ruamoko/lib/Makefile |    1 +
 1 file changed, 1 insertion(+)

commit a88b8e0
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 14 16:15:20 2002 +0000

    hide the .d files

 ruamoko/game/.gitignore    |    1 +
 ruamoko/game/Makefile      |    6 ++++--
 ruamoko/include/.gitignore |    1 +
 ruamoko/lib/.gitignore     |    1 +
 ruamoko/lib/Makefile       |    4 +++-
 5 files changed, 10 insertions(+), 3 deletions(-)

commit f39c65e
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 14 15:59:27 2002 +0000

    make building the whole lot easier

 ruamoko/.gitignore    |    5 +++++
 ruamoko/Makefile      |    5 +++++
 ruamoko/game/Makefile |    2 ++
 ruamoko/lib/Makefile  |    2 ++
 4 files changed, 14 insertions(+)

commit bbaaaae
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 14 15:40:30 2002 +0000

    add the beginnings of a library for mods and a mod using the new features
    of qfcc. doesn't do much yet.

 ruamoko/game/.gitignore    |    5 +
 ruamoko/game/Makefile      |   31 +++++
 ruamoko/game/axe.h         |   15 +++
 ruamoko/game/axe.r         |   54 ++++++++
 ruamoko/game/gameent.h     |   23 ++++
 ruamoko/game/gameent.r     |   21 +++
 ruamoko/game/message.h     |   51 ++++++++
 ruamoko/game/message.r     |   12 ++
 ruamoko/game/sound.h       |   18 +++
 ruamoko/game/sound.r       |    3 +
 ruamoko/game/tempent.h     |   21 +++
 ruamoko/game/tempent.r     |   13 ++
 ruamoko/game/trace.h       |   17 +++
 ruamoko/game/trace.r       |   14 ++
 ruamoko/game/vector.h      |    7 +
 ruamoko/game/vector.r      |    5 +
 ruamoko/game/weapon.h      |   11 ++
 ruamoko/game/world.h       |    6 +
 ruamoko/game/world.r       |   74 +++++++++++
 ruamoko/include/.gitignore |    5 +
 ruamoko/include/entity.h   |   19 +++
 ruamoko/include/object.h   |  137 ++++++++++++++++++++
 ruamoko/lib/.gitignore     |    6 +
 ruamoko/lib/Makefile       |   24 ++++
 ruamoko/lib/entity.r       |   34 +++++
 ruamoko/lib/object.r       |  309 ++++++++++++++++++++++++++++++++++++++++++++
 26 files changed, 935 insertions(+)

commit 520a3c0
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Wed Aug 14 10:49:38 2002 +0000

    Tiny speedup, cleanup.

 qw/source/sbar.c |   49 ++++++++++++++++++++++++++++---------------------
 1 file changed, 28 insertions(+), 21 deletions(-)

commit 1a0cf8d
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 14 06:28:38 2002 +0000

    remove some redundant/incorrect code

 libs/video/renderer/gl/gl_mod_alias.c |    3 ---
 1 file changed, 3 deletions(-)

commit 7ed7938
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 14 05:45:50 2002 +0000

    get colored lighting working reasonably well

 libs/video/renderer/gl/gl_mod_alias.c |   53 +++++++++++++--------------------
 1 file changed, 21 insertions(+), 32 deletions(-)

commit 513b573
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Wed Aug 14 05:28:07 2002 +0000

    Got indexing into variables working and cleaned up variables a bit.
    Partially translated zoom.gib into the new language, but it isn't done yet.

 doc/config/zoom.gib     |   46 ++++++++++++-----------------
 include/QF/gib_parse.h  |    1 +
 libs/util/gib_builtin.c |   44 ++++++++++++++++++++++++++-
 libs/util/gib_parse.c   |   12 +++++++-
 libs/util/gib_process.c |   75 ++++++++++++++++++++++++++++++++++++++++++++++-
 5 files changed, 148 insertions(+), 30 deletions(-)

commit 87fd1ad
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Wed Aug 14 05:16:11 2002 +0000

    Enable compiling the null plugin by default.

 configure.ac                  |    4 +-
 libs/audio/targets/snd_null.c |  163 +++++++----------------------------------
 2 files changed, 30 insertions(+), 137 deletions(-)

commit 2037db2
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Wed Aug 14 05:12:57 2002 +0000

    whitespace.

 libs/audio/targets/snd_disk.c |   14 +++++++-------
 1 file changed, 7 insertions(+), 7 deletions(-)

commit ec11de2
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Wed Aug 14 05:04:15 2002 +0000

    White space.

 cs-code/object.r |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 5ef0831
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Wed Aug 14 05:02:25 2002 +0000

    Debian updates.

 debian/changelog |    6 ++++++
 debian/rules     |    2 +-
 2 files changed, 7 insertions(+), 1 deletion(-)

commit 09ce2b0
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 14 03:55:23 2002 +0000

    make sure a class' super class gets referenced when the class is implemented
    to ensure the super class' object file gets linked in when it's in a library

 tools/qfcc/source/class.c  |    4 +++-
 tools/qfcc/source/linker.c |    3 +--
 2 files changed, 4 insertions(+), 3 deletions(-)

commit fabaf84
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 14 03:44:41 2002 +0000

    fix a missing reloc ref for .this

 tools/qfcc/source/linker.c |    4 ++++
 1 file changed, 4 insertions(+)

commit 53b257c
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Aug 13 22:02:07 2002 +0000

    preprocessising fixes, including detecting when to stop at the preprocessing
    stage.

 tools/qfcc/include/options.h |    1 +
 tools/qfcc/source/cpp.c      |   13 ++++++++++---
 tools/qfcc/source/options.c  |   13 ++++++++++---
 tools/qfcc/source/qfcc.c     |    6 +++++-
 4 files changed, 26 insertions(+), 7 deletions(-)

commit 8474f14
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Aug 13 21:54:10 2002 +0000

    remove debug print

 tools/qfcc/source/class.c |    1 -
 1 file changed, 1 deletion(-)

commit 0840678
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Aug 13 21:19:30 2002 +0000

    handle extern -> defined transition properly for vectors

 tools/qfcc/source/def.c |   11 ++++++-----
 1 file changed, 6 insertions(+), 5 deletions(-)

commit 2f40943
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Aug 13 21:18:17 2002 +0000

    don't change the hidden parm type for protocol methods until they're used in a class

 tools/qfcc/source/class.c    |    6 ++++++
 tools/qfcc/source/qc-parse.y |    3 ++-
 2 files changed, 8 insertions(+), 1 deletion(-)

commit fa6f3cb
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Aug 13 21:17:20 2002 +0000

    loop over the method list correctly

 tools/qfcc/source/method.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 3971786
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Aug 13 21:16:42 2002 +0000

    clean up a follow on error for calling an undefined function

 tools/qfcc/source/expr.c |    3 +++
 1 file changed, 3 insertions(+)

commit aa76f81
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Aug 13 19:32:06 2002 +0000

    change the default verbosity to 0

 tools/pak/pak.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit cd6f82c
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Aug 13 17:03:26 2002 +0000

    fix Class mangling when compiling multipe source files to objects

 tools/qfcc/source/class.c |    2 ++
 1 file changed, 2 insertions(+)

commit e16e087
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Aug 13 04:22:26 2002 +0000

    hopefully a more accurate check for bison and flex

 configure.ac |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit ff02dfb
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Aug 12 16:42:26 2002 +0000

    make the sdl clients link reliably (some versions of binutils don't cope well
    with no .o files)

 nq/source/Makefile.am |    9 +++------
 nq/source/sdl_link.c  |   35 +++++++++++++++++++++++++++++++++++
 qw/source/Makefile.am |    6 +++---
 qw/source/sdl_link.c  |   35 +++++++++++++++++++++++++++++++++++
 4 files changed, 76 insertions(+), 9 deletions(-)

commit 2abaf27
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Aug 12 15:36:52 2002 +0000

    attempt to fix the dark models at centers of dlights

 libs/video/renderer/gl/gl_mod_alias.c |    8 +++++---
 1 file changed, 5 insertions(+), 3 deletions(-)

commit 8e97d62
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Aug 12 06:14:55 2002 +0000

    first stab at colored alias model lighting

 include/r_shared.h                    |    1 +
 libs/video/renderer/gl/gl_mod_alias.c |   99 +++++++++++++++++++++++----------
 libs/video/renderer/r_light.c         |    2 +-
 3 files changed, 71 insertions(+), 31 deletions(-)

commit 1afd2d9
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Aug 12 04:42:29 2002 +0000

    break out the 1 vs 3 lightmap components code into separate functions and
    do preliminary support for colored alias model lighting

 libs/video/renderer/r_light.c |   90 +++++++++++++++++++++++++++++++----------
 1 file changed, 69 insertions(+), 21 deletions(-)

commit 7e4e294
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Aug 12 02:05:45 2002 +0000

    fix the unlit models in full light bug

 libs/video/renderer/r_light.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit a69b172
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sat Aug 10 02:53:44 2002 +0000

    Cache grappling hook beam model loading, should speed up CTF beam handling. For mods with no beam model, wastes a pointer on a lightning bolt model. Better than crashing... ;)
    
    Also copy the sound effects LUT for spikes into nq, which I never got around to.

 nq/source/cl_tent.c |   63 +++++++++++++++++++++++++--------------------------
 qw/source/cl_tent.c |    6 ++++-
 2 files changed, 36 insertions(+), 33 deletions(-)

commit 4123d74
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 9 06:07:25 2002 +0000

    don't segfault when a surface uses the `null' texture (r_notexture_mip)

 libs/video/renderer/gl/gl_rmisc.c |    7 ++++++-
 libs/video/renderer/gl/gl_rsurf.c |    6 +++++-
 2 files changed, 11 insertions(+), 2 deletions(-)

commit a431a27
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 9 04:06:50 2002 +0000

    byteswap the reloc def field too (fixes the qfcc seg on big-endian systems)

 tools/qfcc/source/obj_file.c |    1 +
 1 file changed, 1 insertion(+)

commit ff8ea15
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 9 04:06:17 2002 +0000

    solaris compile fixes

 libs/util/gib_parse.c          |    4 ++--
 libs/util/gib_process.c        |    4 ++--
 tools/qfcc/source/type.c       |    4 ++--
 tools/qfprogs/source/qfprogs.c |    2 ++
 4 files changed, 8 insertions(+), 6 deletions(-)

commit b578386
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 9 02:44:23 2002 +0000

    fix model_t issues for solaris (now that I know which headers cause the
    problem...:)

 nq/source/net_udp.c  |    2 ++
 qw/source/cl_main.c  |   11 ++---------
 qw/source/cl_slist.c |   12 ++----------
 qw/source/master.c   |    2 ++
 qw/source/net_udp.c  |    2 ++
 qw/source/net_udp6.c |    2 ++
 qw/source/sv_main.c  |   17 +++++------------
 7 files changed, 17 insertions(+), 31 deletions(-)

commit 1354975
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Aug 8 22:24:02 2002 +0000

    clean out some unneeded includes and fix up model_t for sun (again:P)

 nq/source/sys_sdl.c    |    4 ----
 nq/source/sys_unixd.c  |    1 -
 qw/source/cl_slist.c   |   11 +++++++++++
 qw/source/cl_sys_sdl.c |    4 ----
 4 files changed, 11 insertions(+), 9 deletions(-)

commit 0eab1e6
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Aug 8 22:03:57 2002 +0000

    whitespace

 include/anorm_dots.h |  560 ++++++++++++++++++++++++++++++++++++++++++++++++--
 1 file changed, 544 insertions(+), 16 deletions(-)

commit 0390fe2
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Thu Aug 8 09:20:00 2002 +0000

    Added tree variables (blah.1, blah.2, blah.1.foobar, etc), global variables,
    made var substitution more robust, and began adding proper comments to
    the code.

 include/QF/Makefile.am    |    2 +-
 include/QF/gib_buffer.h   |   10 +---
 include/QF/gib_builtin.h  |    1 +
 include/QF/gib_function.h |    1 +
 include/QF/gib_parse.h    |    2 +
 include/QF/gib_process.h  |    1 +
 include/QF/gib_vars.h     |   47 +++++++++++++++
 libs/util/Makefile.am     |    7 ++-
 libs/util/gib_buffer.c    |   60 +++----------------
 libs/util/gib_builtin.c   |   35 ++++++++++--
 libs/util/gib_function.c  |   45 ++++++++++++++-
 libs/util/gib_parse.c     |  137 +++++++++++++++++++++++++++++++++++++++-----
 libs/util/gib_process.c   |   80 ++++++++++++++++++--------
 libs/util/gib_vars.c      |  140 +++++++++++++++++++++++++++++++++++++++++++++
 libs/util/idparse.c       |    7 +++
 15 files changed, 466 insertions(+), 109 deletions(-)

commit 30012cc
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Thu Aug 8 05:53:58 2002 +0000

    Fix K_RCTRL handling.

 libs/video/targets/in_x11.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit cbde41c
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Aug 8 04:41:41 2002 +0000

    damnit!

 libs/video/renderer/gl/gl_draw.c |   13 +------------
 1 file changed, 1 insertion(+), 12 deletions(-)

commit 3baec9e
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Aug 8 04:27:49 2002 +0000

    clean out the dead mtex code

 libs/video/renderer/gl/gl_draw.c  |   13 +++++-
 libs/video/renderer/gl/gl_rsurf.c |   80 +------------------------------------
 2 files changed, 14 insertions(+), 79 deletions(-)

commit cde6b7e
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Aug 8 03:06:26 2002 +0000

    clean up some unneeded sets

 configure.ac |    9 ---------
 1 file changed, 9 deletions(-)

commit ad03adb
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Aug 8 01:47:32 2002 +0000

    fix a couple of sillies with sdl

 qw/source/Makefile.am |   10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit 0963c24
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 7 18:46:53 2002 +0000

    improved server logging. "logfile" is gone from qw-server to be replaced
    with "sv_logfile" and thus giving nq-server logging as well.

 libs/console/server.c |   37 +++++++++++++++++++++++++++++++++++++
 qw/source/sv_ccmds.c  |   21 ---------------------
 qw/source/sv_main.c   |    7 +------
 qw/source/sv_send.c   |    2 --
 4 files changed, 38 insertions(+), 29 deletions(-)

commit c05db51
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 7 18:43:35 2002 +0000

    add Qputs

 include/QF/vfile.h  |    1 +
 libs/util/quakeio.c |   13 +++++++++++++
 2 files changed, 14 insertions(+)

commit ca92e58
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 7 18:21:36 2002 +0000

    part of the macroizing

 libs/video/targets/Makefile.am |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 64b608b
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 7 18:20:23 2002 +0000

    put *sys_sdl.c into a lib so it doesn't get compiled more than once and do
    more macroizing

 acinclude.m4          |   21 +++++++++++
 configure.ac          |   97 ++++++++++++++++++-------------------------------
 nq/source/Makefile.am |   42 +++++++++++----------
 qw/source/Makefile.am |   38 +++++++++----------
 4 files changed, 98 insertions(+), 100 deletions(-)

commit e171146
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 7 15:31:56 2002 +0000

    Make Sys_Error repeat it's message to stderr to increase the changes of the
    error being seen. (Closes: #39)

 libs/util/sys.c |   39 +++++++++++++++++++++++++++++----------
 1 file changed, 29 insertions(+), 10 deletions(-)

commit 5c60be3
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Wed Aug 7 06:17:50 2002 +0000

    If and while now work, and embedded commands use backticks instead of <> now
    to prevent conflicts with math expressions.  All clients and servers are set
    to create buffers with the normal parser.  However, scripts ending in .gib
    are now executed in a GIB buffer, and the export command can be used to
    make specific GIB functions available to normal command buffers (i.e. the
    console).

 include/QF/gib_buffer.h   |    7 +-
 include/QF/gib_builtin.h  |   10 +--
 include/QF/gib_function.h |    1 +
 include/QF/gib_parse.h    |    2 +-
 libs/util/cmd.c           |   15 ++++-
 libs/util/gib_buffer.c    |    2 +
 libs/util/gib_builtin.c   |  165 ++++++++++++++++++++++++++++++++++++++++-----
 libs/util/gib_parse.c     |   71 ++++++++++---------
 libs/util/gib_process.c   |    8 ++-
 nq/source/host.c          |    2 +-
 qw/source/cl_main.c       |    2 +-
 qw/source/sv_main.c       |    2 +-
 12 files changed, 224 insertions(+), 63 deletions(-)

commit e56404d
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Tue Aug 6 19:46:13 2002 +0000

    Use LUT instead of case for spike sound effects. Faster and more compact, though less legible.

 qw/source/cl_tent.c |   51 +++++++++++++++++++++++----------------------------
 1 file changed, 23 insertions(+), 28 deletions(-)

commit ff14989
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Aug 6 15:10:46 2002 +0000

    whitespace

 include/QF/Makefile.am |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 666c3fc
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Tue Aug 6 08:15:20 2002 +0000

    Embedded commands now work without any bugs I can detect.  Next up are
    loops, branching, and getting the tokenizer to give special treatment
    to certain builtin functions.  But first I should get some sleep :)

 include/QF/gib_buffer.h |    6 ++++-
 include/QF/gib_parse.h  |    2 ++
 libs/util/cbuf.c        |    5 +++--
 libs/util/gib_buffer.c  |    4 +++-
 libs/util/gib_builtin.c |   22 +++++++++++++++++++
 libs/util/gib_parse.c   |   43 +++++++++++++++---------------------
 libs/util/gib_process.c |   56 +++++++++++++++++++++++++++++++++++++++++++++--
 libs/util/idparse.c     |    3 ++-
 8 files changed, 109 insertions(+), 32 deletions(-)

commit bd9092a
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Aug 6 05:45:03 2002 +0000

    per map config files (eg, maps/start.cfg for maps/start.bsp)

 nq/source/cl_parse.c |   20 +++++++++++++++++---
 qw/source/cl_parse.c |   23 ++++++++++++++++++-----
 2 files changed, 35 insertions(+), 8 deletions(-)

commit abf1ef3
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Aug 6 03:52:38 2002 +0000

    convert the flag offset calculation from switch to a lookup table. this
    should be a touch faster avoiding the extra jumps

 qw/source/cl_ents.c |   44 +++++---------------------------------------
 1 file changed, 5 insertions(+), 39 deletions(-)

commit bdd0f69
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Mon Aug 5 05:58:17 2002 +0000

    Declared variable in the wrong spot.  Don't know why gcc 3 accepted it.

 libs/util/gib_parse.c |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 87f0f48
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Mon Aug 5 00:01:06 2002 +0000

    Local variables work, preparing to get embedded commands done.

 include/QF/gib_buffer.h   |    8 +++++
 include/QF/gib_builtin.h  |    5 ++++
 include/QF/gib_function.h |    1 +
 include/QF/gib_process.h  |    1 +
 libs/util/gib_buffer.c    |   56 +++++++++++++++++++++++++++++++++++
 libs/util/gib_builtin.c   |   17 +++++++++--
 libs/util/gib_function.c  |   22 ++++++++++++++
 libs/util/gib_parse.c     |   71 ++++++++++++++++++++++++++++++---------------
 libs/util/gib_process.c   |   25 +++++++++++++---
 9 files changed, 176 insertions(+), 30 deletions(-)

commit 86d4954
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Sun Aug 4 04:21:52 2002 +0000

    Make bootstrap deal with automake versions ending in -p[something]

 bootstrap |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit f0be492
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sat Aug 3 17:20:07 2002 +0000

    Optimize CTF flag handling.

 qw/source/cl_ents.c |   46 +++++++++++++++++++++++++++++-----------------
 1 file changed, 29 insertions(+), 17 deletions(-)

commit f773e1f
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sat Aug 3 07:07:23 2002 +0000

    Minor alias model rendering speedup.

 libs/video/renderer/gl/gl_mod_alias.c |   24 ++++++++++++------------
 1 file changed, 12 insertions(+), 12 deletions(-)

commit 10c3f91
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sat Aug 3 07:07:00 2002 +0000

    Revert taniwha's broken-radeon workaround.

 libs/video/renderer/gl/gl_draw.c |   13 +------------
 1 file changed, 1 insertion(+), 12 deletions(-)

commit 9c08f5b
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Aug 3 06:13:35 2002 +0000

    fix a typo that caused weirdness with the lerping

 libs/video/renderer/gl/gl_draw.c      |   13 ++++++++++++-
 libs/video/renderer/gl/gl_mod_alias.c |    2 +-
 2 files changed, 13 insertions(+), 2 deletions(-)

commit cf48363
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Sat Aug 3 06:04:00 2002 +0000

    More of GIB done: builtins, functions, various cleanups, math, etc.

 include/QF/Makefile.am           |   13 +--
 include/QF/cbuf.h                |   22 +++--
 include/QF/dstring.h             |   14 +--
 include/QF/gib_buffer.h          |   15 ++++
 include/QF/gib_builtin.h         |   38 ++++++++
 include/QF/gib_function.h        |   36 ++++++++
 include/QF/gib_parse.h           |    2 +
 include/QF/gib_process.h         |    2 +
 include/QF/idparse.h             |    4 +-
 libs/gamecode/builtins/bi_cbuf.c |    2 +-
 libs/gamecode/builtins/bi_keys.c |    2 +-
 libs/util/Makefile.am            |    8 +-
 libs/util/cbuf.c                 |   60 +++++++------
 libs/util/cmd.c                  |    7 +-
 libs/util/dstring.c              |   16 ++--
 libs/util/gib_buffer.c           |    1 +
 libs/util/gib_builtin.c          |  111 +++++++++++++++++++++++
 libs/util/gib_function.c         |   87 ++++++++++++++++++
 libs/util/gib_parse.c            |  181 ++++++++++++++++++++++++++++++++------
 libs/util/gib_process.c          |   56 ++++++++++--
 libs/util/idparse.c              |   21 ++++-
 nq/source/host.c                 |    2 +-
 qw/source/cl_main.c              |    2 +-
 qw/source/sv_main.c              |    7 +-
 24 files changed, 599 insertions(+), 110 deletions(-)

commit c519254
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Aug 3 01:29:26 2002 +0000

    remove an accidental commit

 libs/util/sys.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c6217dc
Author: Chris Ison <cisos@bigpond.net.au>
Date:   Sat Aug 3 00:19:41 2002 +0000

    fix bug where -commands where executed and command buffer could be filled when key repeated

 libs/video/targets/keys.c |    5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit 8de4d28
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 2 19:09:02 2002 +0000

    print cpp invocation for win32 too

 tools/qfcc/source/cpp.c |   11 ++++++++++-
 1 file changed, 10 insertions(+), 1 deletion(-)

commit 96f81b6
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 2 19:03:16 2002 +0000

    start using macros the clean up the mess

 acinclude.m4 |    9 +++++++++
 configure.ac |   58 +++++++++++++++++++++++++---------------------------------
 2 files changed, 34 insertions(+), 33 deletions(-)

commit 97d6f46
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Fri Aug 2 18:07:53 2002 +0000

    Speed up 16bit coord alias models a bit. (only one VectorScale per vertex now)

 libs/video/renderer/gl/gl_mod_alias.c |   11 +++++------
 1 file changed, 5 insertions(+), 6 deletions(-)

commit 175be2e
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 2 15:35:11 2002 +0000

    when adding new headers, be sure to update include_HEADERS or EXTRA_DIST as
    appropriate

 include/QF/Makefile.am |   14 +++++++-------
 1 file changed, 7 insertions(+), 7 deletions(-)

commit 3c3844d
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Fri Aug 2 04:07:25 2002 +0000

    Checked in the beginnings of GIB mark III and modified qw-server to use
    it for its console.

 include/QF/cbuf.h        |    4 +
 include/QF/gib_buffer.h  |   38 +++++++++
 include/QF/gib_parse.h   |   32 ++++++++
 include/QF/gib_process.h |   31 ++++++++
 libs/util/Makefile.am    |    7 +-
 libs/util/cbuf.c         |   24 ++++++
 libs/util/gib_buffer.c   |   47 ++++++++++++
 libs/util/gib_parse.c    |  191 ++++++++++++++++++++++++++++++++++++++++++++++
 libs/util/gib_process.c  |   49 ++++++++++++
 qw/source/sv_main.c      |    5 +-
 10 files changed, 424 insertions(+), 4 deletions(-)

commit 4bd940e
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 2 03:26:55 2002 +0000

    d'oh

 libs/util/ver_check.c |    2 ++
 1 file changed, 2 insertions(+)

commit 5f4c21d
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 2 03:22:32 2002 +0000

    casting from (signed) char to int does not one whit of good towards avoiding
    the problems associated with signed chars being used to index arrays. must
    cast to usigned char so the bit expansion is done on an unsigned value to
    avoid the sign extension.

 libs/util/quakefs.c   |    4 ++--
 libs/util/ver_check.c |   10 ++++++----
 qw/source/cl_main.c   |    2 +-
 qw/source/sv_user.c   |    2 +-
 4 files changed, 10 insertions(+), 8 deletions(-)

commit 5c6463a
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 2 02:30:40 2002 +0000

    ./bootstrap clean

 bootstrap |   21 +++++++++++++++++++++
 1 file changed, 21 insertions(+)

commit 8aa1562
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 2 01:51:26 2002 +0000

    fix our AC_PROG_LEX called twice message

 acinclude.m4 |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 99426c3
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Aug 1 20:23:24 2002 +0000

    fix a bug with automake detection

 bootstrap |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d6c05fd
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Aug 1 20:05:03 2002 +0000

    update the autoconf requirement

 configure.ac |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a13a228
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Aug 1 19:49:52 2002 +0000

    forgot to remove this

 qw/source/cl_misc.c |   35 -----------------------------------
 1 file changed, 35 deletions(-)

commit 2ce0f2d
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Aug 1 19:49:10 2002 +0000

    we now require modern autoconf (2.52+), automake (1.6+) and libtool (1.4+).
    This gives us a bunch more flexibility. plugins no longer have the "lib"
    prefix or the version suffix, they're now installed in
    $fs_sharepath/QFplugins,, builds should take much less time (in general,
    only one of pic or non-pic versions are build), bins and libs can have
    individual CFLAGS

 RPM/quakeforge.spec.in               |   36 ++++-----
 bootstrap                            |   49 +++++++-----
 configure.ac                         |  138 +++++++++++++++++++++++++++-------
 debian/quakeforge-alsa.postinst      |    2 +-
 debian/quakeforge-alsa.prerm         |    2 +-
 debian/quakeforge-common.postinst    |    4 +-
 debian/quakeforge-oss.postinst       |    2 +-
 debian/quakeforge-oss.prerm          |    2 +-
 debian/rules                         |   16 ++--
 libs/audio/Makefile.am               |    1 +
 libs/audio/cd/Makefile.am            |   46 ++++++------
 libs/audio/renderer/Makefile.am      |   21 +++---
 libs/audio/targets/Makefile.am       |   97 +++++++++++++-----------
 libs/console/Makefile.am             |   20 ++---
 libs/gamecode/builtins/Makefile.am   |    1 +
 libs/gamecode/engine/Makefile.am     |    1 +
 libs/models/Makefile.am              |    1 +
 libs/models/alias/Makefile.am        |    1 +
 libs/models/brush/Makefile.am        |    1 +
 libs/models/sprite/Makefile.am       |    1 +
 libs/util/Makefile.am                |    2 +-
 libs/util/plugin.c                   |    2 +-
 libs/video/renderer/gl/Makefile.am   |    1 +
 libs/video/renderer/sw/Makefile.am   |    1 +
 libs/video/renderer/sw32/Makefile.am |    1 +
 libs/video/targets/Makefile.am       |  123 ++++++++++++++++++++----------
 nq/source/Makefile.am                |   61 +++++++--------
 nq/source/host.c                     |    3 +
 qw/source/Makefile.am                |   77 +++++++++----------
 qw/source/cl_main.c                  |    6 ++
 qw/source/cl_misc.c                  |    6 --
 31 files changed, 453 insertions(+), 272 deletions(-)

commit 69bf19b
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Aug 1 17:13:58 2002 +0000

    when adding new header files, they MUST be included in include_HEADERS or
    EXTRA_DIST, as appropriate.

 include/QF/Makefile.am |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 612f5c2
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Aug 1 04:49:16 2002 +0000

    attempt to fix the win32 server input

 libs/util/sys.c |    7 ++++++-
 1 file changed, 6 insertions(+), 1 deletion(-)

commit 4e85063
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Thu Aug 1 02:42:19 2002 +0000

    Added support for execution stacks, misc. cleanups.

 include/QF/cbuf.h |    2 +-
 libs/util/cbuf.c  |   29 ++++++++++++++++++++++++++++-
 2 files changed, 29 insertions(+), 2 deletions(-)

commit 439f983
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Wed Jul 31 22:13:15 2002 +0000

    Whoops, missed some stuff that needed to be in idparse.h

 include/QF/cbuf.h               |    4 ----
 include/QF/idparse.h            |    2 ++
 libs/gamecode/engine/pr_edict.c |    1 +
 nq/source/host_cmd.c            |    1 +
 qw/source/sv_user.c             |    1 +
 tools/qfcc/source/qfcc.c        |    1 +
 6 files changed, 6 insertions(+), 4 deletions(-)

commit a93b221
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Wed Jul 31 22:03:53 2002 +0000

    Split off the old console parser into idparse.[ch] and prepared the cbuf
    struct and support functions for GIB mark III.
    
    Oh yeah, I'm back.

 include/QF/cbuf.h                |   20 ++++-
 include/QF/idparse.h             |   34 +++++++++
 libs/gamecode/builtins/bi_cbuf.c |    3 +-
 libs/gamecode/builtins/bi_keys.c |    3 +-
 libs/util/Makefile.am            |    4 +-
 libs/util/cbuf.c                 |  145 +++++------------------------------
 libs/util/cmd.c                  |    5 +-
 libs/util/idparse.c              |  156 ++++++++++++++++++++++++++++++++++++++
 nq/source/host.c                 |    3 +-
 qw/source/cl_main.c              |    3 +-
 qw/source/sv_main.c              |    3 +-
 11 files changed, 242 insertions(+), 137 deletions(-)

commit ad8176d
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jul 31 18:52:01 2002 +0000

    add qfwavinfo

 RPM/quakeforge.spec.in |    2 ++
 1 file changed, 2 insertions(+)

commit 4b9382d
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jul 31 18:51:34 2002 +0000

    nuke GGI_CFLAGS (never set)

 libs/video/targets/Makefile.am |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c86d7f2
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jul 31 17:00:19 2002 +0000

    forgot this

 tools/qfcc/include/cmdlib.h |    4 ----
 1 file changed, 4 deletions(-)

commit 7c26fa2
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jul 31 16:42:21 2002 +0000

    another cmdlib function dies

 tools/qfcc/source/cmdlib.c |   69 --------------------------------------------
 tools/qfcc/source/qfcc.c   |   13 +++++----
 2 files changed, 7 insertions(+), 75 deletions(-)

commit d3ae1b5
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jul 31 15:08:56 2002 +0000

    make dist fix

 include/QF/Makefile.am |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 0bb6769
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jul 31 06:06:44 2002 +0000

    fix the non-parsing of quakeforge.conf

 include/QF/cmd.h    |    2 +-
 libs/util/cmd.c     |    4 ++--
 nq/source/host.c    |    6 +++---
 qw/source/cl_main.c |    6 +++---
 qw/source/sv_main.c |    6 +++---
 5 files changed, 12 insertions(+), 12 deletions(-)

commit ad6e025
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jul 31 05:19:03 2002 +0000

    take cmd.[ch] back to basics. the gib code is temporarily gone pending
    renovations. cmd_source handling is a little hacky in nq, but it's working.

 cs-code/cmd.h                    |    1 -
 cs-code/cmd.r                    |    1 -
 include/QF/cbuf.h                |   13 +
 include/QF/cmd.h                 |  206 +---
 include/QF/keys.h                |    4 +-
 include/QF/plugin/console.h      |    1 +
 libs/console/client.c            |   31 +-
 libs/console/server.c            |    9 +-
 libs/gamecode/builtins/bi_cbuf.c |   23 +-
 libs/gamecode/builtins/bi_cmd.c  |    7 -
 libs/gamecode/builtins/bi_keys.c |   16 +-
 libs/gamecode/engine/pr_edict.c  |   15 +-
 libs/util/Makefile.am            |    2 +-
 libs/util/cbuf.c                 |   24 +-
 libs/util/cmd.c                  | 2314 +++-----------------------------------
 libs/video/targets/keys.c        |   42 +-
 nq/include/client.h              |    2 +
 nq/include/host.h                |    2 +
 nq/source/cl_cmd.c               |    6 +-
 nq/source/cl_main.c              |    3 +-
 nq/source/cl_parse.c             |    3 +-
 nq/source/host.c                 |   31 +-
 nq/source/host_cmd.c             |   31 +-
 nq/source/host_skin.c            |    2 +-
 nq/source/net_dgrm.c             |    2 +-
 nq/source/net_main.c             |   11 +-
 nq/source/pr_cmds.c              |    5 +-
 nq/source/sv_ded.c               |    2 +-
 nq/source/sv_user.c              |    3 +-
 qw/include/client.h              |    5 +
 qw/include/server.h              |    3 +
 qw/source/cl_cmd.c               |   15 +-
 qw/source/cl_main.c              |   52 +-
 qw/source/cl_parse.c             |   18 +-
 qw/source/sv_ccmds.c             |   22 +-
 qw/source/sv_main.c              |   44 +-
 qw/source/sv_pr_cmds.c           |    5 +-
 qw/source/sv_user.c              |    9 +-
 qw/source/teamplay.c             |    3 +-
 tools/qfprogs/source/qfprogs.c   |    1 -
 tools/qwaq/main.c                |    1 -
 41 files changed, 423 insertions(+), 2567 deletions(-)

commit 021decc
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jul 30 17:08:53 2002 +0000

    start on the cleanup of cmd.c. these aren't used yet, but the parsing is
    working

 include/QF/cbuf.h |   57 +++++++++++
 libs/util/cbuf.c  |  272 +++++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 329 insertions(+)

commit 46ee46f
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jul 30 04:55:33 2002 +0000

    dead code removal

 include/QF/cmd.h                |    4 ----
 libs/gamecode/builtins/bi_cmd.c |    1 -
 libs/util/cmd.c                 |   21 ---------------------
 3 files changed, 26 deletions(-)

commit b9d364d
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jul 30 02:06:37 2002 +0000

    whitespace clean up

 libs/util/cmd.c |  734 ++++++++++++++++++++++++++++++-------------------------
 1 file changed, 406 insertions(+), 328 deletions(-)

commit e0aa405
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jul 30 01:56:07 2002 +0000

    remove some dead code

 libs/util/cmd.c |   12 ------------
 1 file changed, 12 deletions(-)

commit cfdb7fb
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jul 29 22:36:20 2002 +0000

    another one bites the dust

 TODO |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit bd42e51
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jul 29 22:32:19 2002 +0000

    rename wav to qfwavinfo (thanks for the suggestion, Despair)

 tools/wav/.gitignore  |    2 +-
 tools/wav/Makefile.am |   10 +-
 tools/wav/qfwavinfo.c |  393 +++++++++++++++++++++++++++++++++++++++++++++++++
 tools/wav/wav.c       |  393 -------------------------------------------------
 4 files changed, 399 insertions(+), 399 deletions(-)

commit 5fd916a
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jul 29 22:25:32 2002 +0000

    looped oggs now work so long as they have a CUEPOINT= comment

 libs/audio/renderer/vorbis.c |   19 ++++++++++++++-----
 1 file changed, 14 insertions(+), 5 deletions(-)

commit 5d14e32
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jul 29 21:39:42 2002 +0000

    don't print the filename and only print the CUEPOINT if there is one

 tools/wav/wav.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit fc9b734
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jul 29 21:38:43 2002 +0000

    parse out the cuepoint info

 tools/wav/wav.c |  279 +++++++++++++++++++++++++++++++++++++++++--------------
 1 file changed, 208 insertions(+), 71 deletions(-)

commit d00ed96
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jul 29 19:52:19 2002 +0000

    give dstring_adjust a prototype and fix up some whitespace

 include/QF/dstring.h |    1 +
 libs/util/dstring.c  |    3 +--
 2 files changed, 2 insertions(+), 2 deletions(-)

commit edf5534
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jul 29 19:48:23 2002 +0000

    fix dependencies on dstring.h

 include/QF/cmd.h |    3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit c4cb25a
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Mon Jul 29 17:36:01 2002 +0000

    LOTS of cleanups. Couple little optimizations, plus add `cl_showscoresuid 2` to show both pings AND uid.

 qw/source/sbar.c |  203 +++++++++++++++++++++++++++++++++---------------------
 1 file changed, 125 insertions(+), 78 deletions(-)

commit b900b60
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jul 28 03:30:13 2002 +0000

    gcc 3.1 win32 compile fix

 tools/wav/wav.c |    4 ++++
 1 file changed, 4 insertions(+)

commit 0514d37
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jul 27 16:46:58 2002 +0000

    don't accept absurdly large vertex arrays

 libs/video/targets/vid_common_gl.c |    2 ++
 1 file changed, 2 insertions(+)

commit d04eeb3
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jul 27 06:43:28 2002 +0000

    get -wgl working again

 include/QF/GL/funcs.h        |    3 ++-
 libs/video/targets/vid_sgl.c |    6 ++++--
 libs/video/targets/vid_wgl.c |    2 +-
 3 files changed, 7 insertions(+), 4 deletions(-)

commit 01228a8
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jul 27 06:42:52 2002 +0000

    set the file mode before seeking

 libs/util/quakefs.c |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 4d74b80
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sat Jul 27 02:50:41 2002 +0000

    Dead code removal.

 qw/source/cl_pred.c |   13 -------------
 1 file changed, 13 deletions(-)

commit b3d6875
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jul 27 02:00:06 2002 +0000

    _vsnprintf doesn't like a null pointer in windows

 libs/util/dstring.c |    4 ++++
 1 file changed, 4 insertions(+)

commit 227491d
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sat Jul 27 00:44:54 2002 +0000

    Remove cl_predict_static, it doesn't need a cvar to control it anymore. Also some minor related cleanups.

 qw/source/cl_cam.c  |    3 +--
 qw/source/cl_ents.c |   19 +++++++++----------
 qw/source/cl_pred.c |   34 ++++++++++++++++++----------------
 3 files changed, 28 insertions(+), 28 deletions(-)

commit 81af9b1
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jul 26 20:50:53 2002 +0000

    move the VID_SetCaption call into CL_SetState where it belongs and fix
    CL_SetState for when connecting to the server (dunno how I mangled that one)

 qw/source/cl_main.c |   21 +++++++++++----------
 qw/source/cl_pred.c |    1 -
 2 files changed, 11 insertions(+), 11 deletions(-)

commit 587ac56
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jul 25 14:58:02 2002 +0000

    using R_FLOAT for setting individual fields of the return vector ain't so
    good a thing to do.

 libs/gamecode/builtins/pr_cmds.c |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 587de27
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Thu Jul 25 14:43:36 2002 +0000

    Another step towards QSG2 compliance.

 include/QF/model.h                   |   83 +++++++++++--------------------
 include/r_dynamic.h                  |    1 +
 libs/video/renderer/gl/gl_dyn_part.c |   70 +++++++++++++++++++-------
 libs/video/renderer/r_part.c         |    1 +
 nq/include/protocol.h                |   91 ++++++++++++++++++++--------------
 nq/source/cl_main.c                  |    2 +
 nq/source/cl_parse.c                 |   54 +++++++++++++++++++-
 nq/source/cl_tent.c                  |   76 +++++++++++-----------------
 qw/include/protocol.h                |   49 ++++++------------
 qw/source/cl_ents.c                  |    2 +
 qw/source/cl_tent.c                  |   30 ++++++-----
 11 files changed, 252 insertions(+), 207 deletions(-)

commit 3c7d65a
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Thu Jul 25 14:42:41 2002 +0000

    Whitespace.

 libs/video/renderer/r_cvar.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 4ed6826
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Thu Jul 25 14:01:36 2002 +0000

    Speedup when r_waterripple = 0, and small speedup to texture coordinate calculation.

 libs/video/renderer/gl/gl_warp.c |   22 ++++++++++++++--------
 1 file changed, 14 insertions(+), 8 deletions(-)

commit 2f57f95
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jul 25 05:33:16 2002 +0000

    don't show the single player menu line

 cs-code/client_menu.qc |    5 +++-
 cs-code/draw.h         |    1 +
 cs-code/draw.r         |    1 +
 cs-code/menu.h         |    2 ++
 cs-code/menu.r         |    2 ++
 libs/console/menu.c    |   77 ++++++++++++++++++++++++++++++++++++++----------
 6 files changed, 71 insertions(+), 17 deletions(-)

commit 51e4cad
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jul 25 05:04:22 2002 +0000

    get Draw_SubImage doing transparencies

 libs/video/renderer/sw32/draw.c |   12 ++++++++----
 1 file changed, 8 insertions(+), 4 deletions(-)

commit 51b189f
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jul 25 04:30:50 2002 +0000

    make Draw_SubPic do transparent pics

 libs/video/renderer/sw/draw.c |   40 ++++++++++++++++++++++++++++++++++------
 1 file changed, 34 insertions(+), 6 deletions(-)

commit de22355
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jul 24 21:42:33 2002 +0000

    use P_* for params and R_* for return values in builtins code

 include/QF/progs.h                    |    2 +-
 libs/console/menu.c                   |   50 +++----
 libs/gamecode/builtins/bi_cbuf.c      |    4 +-
 libs/gamecode/builtins/bi_cmd.c       |   18 +--
 libs/gamecode/builtins/bi_cvar.c      |    2 +-
 libs/gamecode/builtins/bi_file.c      |   16 +-
 libs/gamecode/builtins/bi_inputline.c |   43 +++---
 libs/gamecode/builtins/bi_keys.c      |   22 +--
 libs/gamecode/builtins/bi_strhash.c   |   52 +++----
 libs/gamecode/builtins/bi_string.c    |   22 +--
 libs/gamecode/builtins/pr_cmds.c      |  108 +++++++-------
 nq/source/pr_cmds.c                   |  170 +++++++++++-----------
 nq/source/sv_move.c                   |    4 +-
 qw/source/sv_move.c                   |    4 +-
 qw/source/sv_pr_cmds.c                |  258 ++++++++++++++++-----------------
 tools/qwaq/builtins.c                 |   46 +++---
 16 files changed, 408 insertions(+), 413 deletions(-)

commit defcede
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jul 24 21:39:03 2002 +0000

    give access to Draw_SubPic

 libs/video/renderer/r_progs.c |   73 +++++++++++++++++++++++++----------------
 1 file changed, 44 insertions(+), 29 deletions(-)

commit f14815a
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jul 24 15:58:52 2002 +0000

    change msurface_t's extents from short to unsigned short so >> expressions
    involving it go faster

 include/QF/model.h |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d3fc8c5
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Wed Jul 24 15:30:28 2002 +0000

    No need for function pointers on R_AddDynamicLights_*, they are never called from outside the R_BuildLightMaps_* function that matches them.
    Nice spotting, taniwha!

 libs/video/renderer/gl/gl_lightmap.c |   10 +++-------
 1 file changed, 3 insertions(+), 7 deletions(-)

commit 267ba0a
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jul 23 20:17:10 2002 +0000

    s/pak/wav/

 tools/wav/.gitignore |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 85c7e43
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Tue Jul 23 19:57:47 2002 +0000

    Split lightmaps off from surface drawing.

 include/QF/GL/Makefile.am            |    5 +-
 include/QF/GL/qf_lightmap.h          |   50 +++
 include/QF/GL/qf_rsurf.h             |    4 +-
 libs/video/renderer/gl/Makefile.am   |    2 +-
 libs/video/renderer/gl/gl_draw.c     |    4 +-
 libs/video/renderer/gl/gl_lightmap.c |  635 ++++++++++++++++++++++++++++++++++
 libs/video/renderer/gl/gl_rsurf.c    |  592 +------------------------------
 7 files changed, 700 insertions(+), 592 deletions(-)

commit 5f65a53
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jul 23 18:51:47 2002 +0000

    fix a bug with obj_msgSend and obj_msgSend_super when more than one file is
    compiled

 tools/qfcc/source/method.c |   19 ++-----------------
 1 file changed, 2 insertions(+), 17 deletions(-)

commit 1e49f0d
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jul 23 05:44:45 2002 +0000

    fix a segfault (what was I thinking when I wrote that line?)

 tools/qfcc/source/obj_file.c |   21 ++++++++++++++++-----
 1 file changed, 16 insertions(+), 5 deletions(-)

commit dd08f4f
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jul 22 21:47:01 2002 +0000

    fix some operation order issues (might fix the stuck key issue)

 qw/source/cl_main.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 4cc39a0
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jul 22 21:25:51 2002 +0000

    hopefully make CL_SetState a little more sensible

 qw/source/cl_main.c |   49 ++++++++++++++++++++++++++++---------------------
 1 file changed, 28 insertions(+), 21 deletions(-)

commit 25c8693
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jul 22 16:17:58 2002 +0000

    start working on a tool to sxtract the loop info from wav files

 configure.ac          |   16 +++-
 tools/Makefile.am     |    2 +-
 tools/wav/.gitignore  |    9 ++
 tools/wav/Makefile.am |   17 ++++
 tools/wav/wav.c       |  251 +++++++++++++++++++++++++++++++++++++++++++++++++
 5 files changed, 290 insertions(+), 5 deletions(-)

commit 227da6a
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sun Jul 21 23:35:36 2002 +0000

    Change pr_boundscheck default to 0. *grmbl*

 libs/gamecode/engine/pr_load.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c2a7564
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jul 21 07:12:17 2002 +0000

    implement -l, but -L isn't supported yet and the full lib name must be given

 tools/qfcc/include/linker.h   |    1 +
 tools/qfcc/include/obj_file.h |    4 ++-
 tools/qfcc/source/linker.c    |   79 +++++++++++++++++++++++++++++++++++------
 tools/qfcc/source/obj_file.c  |   26 ++++++++------
 tools/qfcc/source/qfcc.c      |    5 ++-
 tools/qfcc/source/qfodump.c   |    2 +-
 6 files changed, 93 insertions(+), 24 deletions(-)

commit acf9ce3
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jul 21 06:11:28 2002 +0000

    move pakfile.[ch] into libQFutil and make quakefs.c use it instead of its
    own code. This also removes the evil pak file count limit :)

 include/QF/Makefile.am  |    6 +-
 include/QF/pak.h        |    2 -
 include/QF/pakfile.h    |   62 +++++++++++
 include/QF/vfs.h        |   19 +---
 libs/console/filelist.c |    1 +
 libs/util/Makefile.am   |    4 +-
 libs/util/pakfile.c     |  262 +++++++++++++++++++++++++++++++++++++++++++++++
 libs/util/quakefs.c     |   63 ++----------
 tools/pak/Makefile.am   |    4 +-
 tools/pak/pak.c         |    2 +-
 tools/pak/pakfile.c     |  261 ----------------------------------------------
 tools/pak/pakfile.h     |   27 -----
 12 files changed, 341 insertions(+), 372 deletions(-)

commit 337deae
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jul 21 03:55:10 2002 +0000

    fix quit not quitting on a dedicated server

 nq/source/host_cmd.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f1423cb
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jul 20 05:20:40 2002 +0000

    print the cpp command line if verbosity is high enough

 tools/qfcc/source/cpp.c     |   10 ++++++----
 tools/qfcc/source/options.c |    6 ++++++
 2 files changed, 12 insertions(+), 4 deletions(-)

commit 3a14891
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jul 20 02:01:38 2002 +0000

    remove the file count restriction

 tools/pak/pakfile.c |    5 +----
 1 file changed, 1 insertion(+), 4 deletions(-)

commit e6ea44a
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Fri Jul 19 14:13:37 2002 +0000

    ? tools/qfcc/source/qfodump
    Not anymore.

 tools/qfcc/source/.gitignore |    1 +
 1 file changed, 1 insertion(+)

commit dee87f3
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jul 18 18:00:46 2002 +0000

    add .vimrc

 tools/.gitignore |    1 +
 1 file changed, 1 insertion(+)

commit 311d2a8
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jul 18 17:46:53 2002 +0000

    heh, forgot about EXTRA_DIST stuff

 cs-code/Makefile.am |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit a429295
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jul 18 05:16:30 2002 +0000

    fix some fixme's

 cs-code/client_menu.qc |    2 +-
 cs-code/file.h         |   10 ++++++----
 cs-code/file.r         |    7 +++----
 cs-code/object.r       |    2 +-
 4 files changed, 11 insertions(+), 10 deletions(-)

commit 60520e7
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jul 18 05:16:12 2002 +0000

    allow things like pointer == pointer for different pointer types that are in
    the same heirarchy

 tools/qfcc/source/expr.c |    5 +++++
 1 file changed, 5 insertions(+)

commit 8af81ed
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jul 18 01:15:52 2002 +0000

    fix a cpp warning

 cs-code/cvar.h |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit be19cbc
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jul 17 21:28:00 2002 +0000

    break up object.r to be more useful

 cs-code/object.h |  132 ++++++++++++++++++++++++++++++++++++++++++++++++++++++
 cs-code/object.r |   83 ++--------------------------------
 2 files changed, 136 insertions(+), 79 deletions(-)

commit 95bbb68
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jul 17 19:56:30 2002 +0000

    be a little clearer about cpp errors

 tools/qfcc/source/cpp.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f3b0146
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jul 17 19:17:28 2002 +0000

    forgot to remove menu_pics.qc and menu_util.qc

 cs-code/Makefile.am  |    5 ++---
 cs-code/menu_pics.qc |    5 -----
 2 files changed, 2 insertions(+), 8 deletions(-)

commit 21a4d6f
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jul 17 19:00:56 2002 +0000

    update the menu code to be built using separate compilation

 configure.ac             |    1 -
 cs-code/.gitignore       |    2 +-
 cs-code/Makefile.am      |   24 ++-
 cs-code/cbuf.h           |    9 +
 cs-code/cbuf.r           |    6 +
 cs-code/cbuf_def.qc      |    4 -
 cs-code/client_menu.h    |    8 +
 cs-code/client_menu.qc   |  487 ++++++++++++++++++++++++++++++++++++++++++++++
 cs-code/cmd.h            |   11 ++
 cs-code/cmd.r            |    8 +
 cs-code/cmd_def.qc       |    6 -
 cs-code/controls_o.h     |    7 +
 cs-code/controls_o.qc    |    7 +
 cs-code/cvar.h           |    6 +
 cs-code/cvar.r           |    3 +
 cs-code/cvar_def.qc      |    1 -
 cs-code/draw.h           |   22 +++
 cs-code/draw.r           |   59 ++++++
 cs-code/draw_def.qc      |   16 --
 cs-code/file.h           |    9 +
 cs-code/file.r           |    6 +
 cs-code/file_def.qc      |    4 -
 cs-code/game.h           |   20 ++
 cs-code/game.r           |   17 ++
 cs-code/game_def.qc      |    9 -
 cs-code/inputline.h      |   16 ++
 cs-code/inputline.r      |   10 +
 cs-code/inputline_def.qc |   10 -
 cs-code/key.h            |   10 +
 cs-code/key.r            |    6 +
 cs-code/key_defs.qc      |    5 -
 cs-code/menu.h           |   27 +++
 cs-code/menu.qc          |  464 -------------------------------------------
 cs-code/menu.r           |   24 +++
 cs-code/menu.src.in      |   25 ---
 cs-code/menu_def.qc      |   22 ---
 cs-code/menu_pics.qc     |    8 -
 cs-code/menu_util.qc     |   56 ------
 cs-code/options.h        |   13 ++
 cs-code/options.qc       |   11 ++
 cs-code/options_util.h   |   11 ++
 cs-code/options_util.qc  |    5 +-
 cs-code/servlist.h       |    6 +
 cs-code/servlist.qc      |    8 +-
 cs-code/string.h         |    9 +
 cs-code/string.r         |    6 +
 cs-code/string_def.qc    |    4 -
 cs-code/stringh.h        |   12 ++
 cs-code/stringh.r        |    9 +
 cs-code/stringh_def.qc   |    7 -
 50 files changed, 881 insertions(+), 655 deletions(-)

commit fb4ef47
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jul 17 19:00:16 2002 +0000

    make the filename output high verbosity

 tools/qfcc/source/linker.c |    3 ++-
 tools/qfcc/source/qfcc.c   |    3 ++-
 2 files changed, 4 insertions(+), 2 deletions(-)

commit e72b251
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jul 17 18:49:58 2002 +0000

    relocate the strings in an initialized array/struct

 tools/qfcc/source/expr.c |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 8d6c491
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jul 17 18:45:17 2002 +0000

    fix branches (been broken for a while :/)

 tools/qfcc/source/emit.c   |    1 +
 tools/qfcc/source/linker.c |    4 +++-
 2 files changed, 4 insertions(+), 1 deletion(-)

commit 90fa657
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jul 17 17:59:42 2002 +0000

    fix array type string parsing

 tools/qfcc/source/type.c |    2 ++
 1 file changed, 2 insertions(+)

commit 2c94688
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jul 17 17:49:17 2002 +0000

    default options.outputfile to "progs.dat" if not specified when linking

 tools/qfcc/source/qfcc.c |    2 ++
 1 file changed, 2 insertions(+)

commit 5ea3042
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jul 17 17:43:51 2002 +0000

    fix -c -o ...

 tools/qfcc/source/qfcc.c |    9 +++++++--
 1 file changed, 7 insertions(+), 2 deletions(-)

commit 7fcdef1
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jul 17 17:17:05 2002 +0000

    make sure current_type is set properly for struct fields

 tools/qfcc/source/qc-parse.y |    3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit b0d568d
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jul 17 15:40:08 2002 +0000

    local defs for debug info now work

 tools/qfcc/include/def.h     |    2 ++
 tools/qfcc/source/def.c      |   13 +++++++++++++
 tools/qfcc/source/function.c |    6 +-----
 tools/qfcc/source/obj_file.c |   11 +++++++++--
 tools/qfcc/source/qfcc.c     |   14 ++++----------
 tools/qfcc/source/qfodump.c  |    2 ++
 6 files changed, 31 insertions(+), 17 deletions(-)

commit 17cd418
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jul 17 14:39:54 2002 +0000

    get the source line for the function from a more reliable location

 tools/qfcc/source/qc-parse.y |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 980be66
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jul 17 14:21:52 2002 +0000

    bah, missed this file

 tools/qfcc/source/obj_file.c |   22 ++++++++++++++++++----
 1 file changed, 18 insertions(+), 4 deletions(-)

commit 34da93f
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jul 17 14:19:30 2002 +0000

    get line numbers working on link and fix a bug in the creation of aux
    functions

 tools/qfcc/include/debug.h   |    9 --------
 tools/qfcc/include/qfcc.h    |   12 +++++++++++
 tools/qfcc/source/debug.c    |   49 +++++++++++++++++-------------------------
 tools/qfcc/source/emit.c     |    2 +-
 tools/qfcc/source/function.c |   21 +++++++++++-------
 tools/qfcc/source/qc-parse.y |    7 +++---
 tools/qfcc/source/qfcc.c     |   39 +++++++++++++++++----------------
 tools/qfcc/source/qfodump.c  |   13 +++++++++++
 8 files changed, 82 insertions(+), 70 deletions(-)

commit bff6291
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jul 16 22:06:52 2002 +0000

    don't need to force developer now

 libs/gamecode/engine/pr_obj.c |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 8a96b5b
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jul 16 22:00:55 2002 +0000

    oops, forgot to remove the debug print :)

 tools/qfcc/source/linker.c |    1 -
 1 file changed, 1 deletion(-)

commit 678a45c
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jul 16 21:59:47 2002 +0000

    entity fields seem to work. I guess this means separate compilation is now
    useful :)

 tools/qfcc/include/obj_file.h |    4 ++-
 tools/qfcc/include/reloc.h    |    2 ++
 tools/qfcc/source/def.c       |    9 +++--
 tools/qfcc/source/linker.c    |   75 ++++++++++++++++++++++++++++++++++++-----
 tools/qfcc/source/obj_file.c  |    4 +++
 tools/qfcc/source/qfodump.c   |    3 ++
 tools/qfcc/source/reloc.c     |   10 ++++++
 7 files changed, 95 insertions(+), 12 deletions(-)

commit c36b7e3
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jul 16 20:09:14 2002 +0000

    fix external vectors and only complain about undefined externals that are
    actually used

 tools/qfcc/source/def.c    |    8 ++++----
 tools/qfcc/source/linker.c |   12 +++++++-----
 tools/qfcc/source/qfcc.c   |    4 ++--
 3 files changed, 13 insertions(+), 11 deletions(-)

commit ac1392e
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jul 16 19:03:56 2002 +0000

    object.r:
    	define __obj_exec_class, obj_msgSend and obj_msgSend_super for the way
    	qfcc now handles these defs
    pr_edict.c:
    	PR_ValueString now checks that the function is valid before trying to
    	print its name.
    class.c:
    	__obj_exec_class is now extern
    linker.c:
    	fix more mangled relocs
    method.c:
    	obj_msgSend and obj_msgSend_super are now extern
    qfcc.c:
    	fixes so obj_module_t doesn't get zapped
    type.c:
    	fixes so obj_module_t doesn't get zapped

 cs-code/object.r                |    3 +++
 libs/gamecode/engine/pr_edict.c |   12 +++++++++---
 tools/qfcc/source/class.c       |    9 +--------
 tools/qfcc/source/linker.c      |    4 +++-
 tools/qfcc/source/method.c      |    3 +--
 tools/qfcc/source/qfcc.c        |    5 +++--
 tools/qfcc/source/type.c        |   12 ++++++++++--
 7 files changed, 30 insertions(+), 18 deletions(-)

commit 3b1825b
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jul 16 17:35:40 2002 +0000

    fix the mangled relocs. oo hello world works again

 tools/qfcc/source/linker.c |   92 +++++++++++++++++---------------------------
 1 file changed, 36 insertions(+), 56 deletions(-)

commit 35d224f
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jul 16 15:39:49 2002 +0000

    a little more info and force developer on for now

 libs/gamecode/engine/pr_obj.c |   11 ++++++-----
 1 file changed, 6 insertions(+), 5 deletions(-)

commit 17c2def
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jul 16 06:40:34 2002 +0000

    def merging seems to mostly work (have some problems with method lists)

 tools/qfcc/source/linker.c   |  103 +++++++++++++++++++++++++++++++++++++-----
 tools/qfcc/source/obj_file.c |   14 ++++--
 tools/qfcc/source/qfodump.c  |    7 +--
 3 files changed, 107 insertions(+), 17 deletions(-)

commit 4d214bf
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jul 16 04:38:17 2002 +0000

    more hacks

 tools/qfcc/source/qfodump.c |    9 +++++----
 1 file changed, 5 insertions(+), 4 deletions(-)

commit 4d69deb
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jul 16 04:37:51 2002 +0000

    class.c:
    	use the correct type when creating the class def
    struct.c:
    	save the name

 tools/qfcc/source/class.c  |   12 ++++++++----
 tools/qfcc/source/struct.c |    2 +-
 2 files changed, 9 insertions(+), 5 deletions(-)

commit bf85885
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jul 15 22:10:03 2002 +0000

    fix a /really/ silly error that broke def relocations

 tools/qfcc/source/linker.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a4ad662
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jul 15 21:58:39 2002 +0000

    make a little more robust

 tools/qfcc/source/qfodump.c |    8 +++++++-
 1 file changed, 7 insertions(+), 1 deletion(-)

commit 295a9c1
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jul 15 21:49:46 2002 +0000

    move external defs from the external table to the global table when they
    get defined

 tools/qfcc/source/linker.c |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 463c572
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jul 15 21:45:32 2002 +0000

    clean up some duplicated code by using some template macros

 tools/qfcc/source/linker.c |   74 +++++++++++++++++++-------------------------
 1 file changed, 32 insertions(+), 42 deletions(-)

commit b9a237b
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jul 15 21:37:52 2002 +0000

    rename qfo_function_t to qfo_func_t and similar for other qfo *function* in
    obj_file.[ch]

 tools/qfcc/include/obj_file.h |   12 ++++-----
 tools/qfcc/source/linker.c    |   22 +++++++--------
 tools/qfcc/source/obj_file.c  |   59 ++++++++++++++++++++---------------------
 tools/qfcc/source/qfodump.c   |   12 ++++-----
 4 files changed, 52 insertions(+), 53 deletions(-)

commit 0d95bc7
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Mon Jul 15 09:29:50 2002 +0000

    Fix cl_predict_static default!

 qw/source/cl_pred.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 8539d79
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jul 14 05:40:38 2002 +0000

    make @self and @this work for separate compilation

 tools/qfcc/source/expr.c   |    4 +--
 tools/qfcc/source/linker.c |   83 +++++++++++++++++++++++++++++++++-----------
 2 files changed, 65 insertions(+), 22 deletions(-)

commit 06390e1
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jul 14 03:41:13 2002 +0000

    more relocs fixups. my little OO hello world progs works now :)

 tools/qfcc/include/expr.h     |    1 +
 tools/qfcc/source/class.c     |    5 +++--
 tools/qfcc/source/expr.c      |   48 ++++++++++++++++++++++-------------------
 tools/qfcc/source/immediate.c |    5 +++++
 tools/qfcc/source/qfodump.c   |    2 +-
 5 files changed, 36 insertions(+), 25 deletions(-)

commit e550ad6
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jul 13 06:09:03 2002 +0000

    more linking fixes, including seting up relocations. not quite working yet

 tools/qfcc/include/class.h   |    4 +-
 tools/qfcc/include/emit.h    |   14 ++++++
 tools/qfcc/include/method.h  |    3 +-
 tools/qfcc/include/reloc.h   |    3 ++
 tools/qfcc/include/struct.h  |    2 +-
 tools/qfcc/source/class.c    |  104 +++++++++++++++++++++++-------------------
 tools/qfcc/source/function.c |    2 +-
 tools/qfcc/source/method.c   |   34 ++++++--------
 tools/qfcc/source/obj_file.c |    6 +--
 tools/qfcc/source/qfcc.c     |    9 ++--
 tools/qfcc/source/reloc.c    |   25 ++++++++++
 tools/qfcc/source/struct.c   |   12 +++--
 12 files changed, 134 insertions(+), 84 deletions(-)

commit 34fa421
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jul 13 03:41:33 2002 +0000

    whitespace

 libs/gamecode/engine/pr_obj.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 9b6980a
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jul 13 03:21:27 2002 +0000

    fix an off by one error that was mangling functions

 tools/qfcc/source/linker.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 58ecbd1
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jul 13 03:20:45 2002 +0000

    new_struct doesn't like "" names

 tools/qfcc/source/type.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c0880a9
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jul 13 03:20:17 2002 +0000

    print the name of the duplicate struct

 tools/qfcc/source/struct.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c6ad0ff
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jul 13 02:24:06 2002 +0000

    fixup_relocs doesn't need qfo any more

 tools/qfcc/source/linker.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit b48d71f
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jul 12 22:27:40 2002 +0000

    make qfo functions 0 based. now having weird def problems :/

 tools/qfcc/source/linker.c   |    2 +-
 tools/qfcc/source/obj_file.c |    4 ++--
 2 files changed, 3 insertions(+), 3 deletions(-)

commit e6fc66a
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jul 12 21:44:04 2002 +0000

    grr, and another one :P

 tools/qfcc/source/type.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit b1b3c14
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jul 12 21:43:27 2002 +0000

    fix a bug in the parsing of structures

 tools/qfcc/source/type.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d80b448
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jul 12 21:14:46 2002 +0000

    select the correct function when fixing its def

 tools/qfcc/source/linker.c  |    2 +-
 tools/qfcc/source/qfodump.c |    4 ++--
 2 files changed, 3 insertions(+), 3 deletions(-)

commit 2a121d0
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jul 12 20:43:11 2002 +0000

    fix a couple of dumb bugs and update the function number calculation

 tools/qfcc/source/obj_file.c |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 06c03dd
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jul 12 20:26:51 2002 +0000

    make local defs always come after global defs in linked qfo files and make
    function relocations work better

 tools/qfcc/source/linker.c   |  244 ++++++++++++++++++++++++++++--------------
 tools/qfcc/source/obj_file.c |    6 +-
 2 files changed, 167 insertions(+), 83 deletions(-)

commit 5a6907d
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jul 12 20:22:06 2002 +0000

    some minor improvements

 tools/qfcc/source/qfodump.c |   97 +++++++++++++++++++++++++++++++++----------
 1 file changed, 75 insertions(+), 22 deletions(-)

commit b9b9f03
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jul 12 16:01:40 2002 +0000

    keep short defs out too

 tools/qfcc/source/emit.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 3cf754d
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jul 12 15:54:46 2002 +0000

    keep the return def out of .qfo files (for now, anyway)

 tools/qfcc/source/def.c  |   14 +++++++++-----
 tools/qfcc/source/expr.c |    2 +-
 2 files changed, 10 insertions(+), 6 deletions(-)

commit ddd7d82
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jul 12 06:19:02 2002 +0000

    quick and dirty util to dump the defs in a .qfo file

 tools/qfcc/source/Makefile.am |    5 ++
 tools/qfcc/source/qfodump.c   |  115 +++++++++++++++++++++++++++++++++++++++++
 2 files changed, 120 insertions(+)

commit 24d473c
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jul 12 06:17:24 2002 +0000

    more linking fixes

 tools/qfcc/include/def.h      |    1 +
 tools/qfcc/include/obj_file.h |    3 ++-
 tools/qfcc/source/def.c       |    7 +++++++
 tools/qfcc/source/linker.c    |   12 ++++++++----
 tools/qfcc/source/obj_file.c  |   12 ++++++++----
 5 files changed, 26 insertions(+), 9 deletions(-)

commit ce8f071
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jul 12 04:50:31 2002 +0000

    implement partial linking (doesn't work any better than full, though :P)

 tools/qfcc/include/options.h |    1 +
 tools/qfcc/source/linker.c   |   15 +++++++++------
 tools/qfcc/source/options.c  |    4 ++++
 tools/qfcc/source/qfcc.c     |   12 ++++++++----
 4 files changed, 22 insertions(+), 10 deletions(-)

commit 33b3fd1
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jul 12 03:26:47 2002 +0000

    fix some misc linking bugs

 tools/qfcc/source/linker.c |   17 +++++++++++++----
 1 file changed, 13 insertions(+), 4 deletions(-)

commit 0f5f686
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jul 11 22:38:23 2002 +0000

    it's as broken as all-get-out, but object files can now be linked

 tools/qfcc/include/qfcc.h     |    2 ++
 tools/qfcc/source/immediate.c |   19 +++++++++++++++++--
 tools/qfcc/source/obj_file.c  |   15 +++++++++++----
 tools/qfcc/source/qfcc.c      |    1 +
 4 files changed, 31 insertions(+), 6 deletions(-)

commit a989908
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jul 11 21:04:09 2002 +0000

    fix a bunch of silly bugs and get the linked output written (hangs, though)

 tools/qfcc/include/linker.h  |    2 +-
 tools/qfcc/source/def.c      |    3 ++-
 tools/qfcc/source/linker.c   |   56 ++++++++++++++++++++++--------------------
 tools/qfcc/source/obj_file.c |   18 ++++++++++++++
 tools/qfcc/source/qfcc.c     |    8 +++++-
 5 files changed, 57 insertions(+), 30 deletions(-)

commit 4d1dbc8
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jul 11 20:17:26 2002 +0000

    re-write qfo writing from progs, make qfo creation easier, (mostly) finish
    the linker. now for testing :)

 tools/qfcc/include/obj_file.h |   10 +++-
 tools/qfcc/source/linker.c    |   34 ++++++++++-
 tools/qfcc/source/obj_file.c  |  128 ++++++++++++++++++++++++++---------------
 tools/qfcc/source/qfcc.c      |   11 +++-
 4 files changed, 130 insertions(+), 53 deletions(-)

commit 4b83c65
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jul 11 20:16:03 2002 +0000

    fix RUP so it actually works. only works with powers of two now, though

 tools/qfcc/include/qfcc.h |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit de89733
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jul 11 20:14:45 2002 +0000

    fix a missing & that was causing problems with writing function refs

 tools/qfcc/source/method.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit bc5beea
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jul 11 17:06:15 2002 +0000

    getting closer to being able to link

 tools/qfcc/include/obj_file.h |   11 +++
 tools/qfcc/include/qfcc.h     |    2 +
 tools/qfcc/include/reloc.h    |    1 +
 tools/qfcc/source/linker.c    |  189 +++++++++++++++++++++++++++++++++++++----
 tools/qfcc/source/obj_file.c  |   86 +++++++++++++++++++
 tools/qfcc/source/reloc.c     |    2 +
 6 files changed, 273 insertions(+), 18 deletions(-)

commit 2df43ef
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jul 11 15:42:20 2002 +0000

    make data handling a little easier

 tools/qfcc/include/def.h   |    1 +
 tools/qfcc/source/def.c    |   12 ++++++++++++
 tools/qfcc/source/linker.c |   25 ++++++++++++++++++-------
 3 files changed, 31 insertions(+), 7 deletions(-)

commit 1db26ee
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jul 9 19:00:52 2002 +0000

    can't call pointer_type untill after the types are chained

 tools/qfcc/source/type.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 2cb6138
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jul 8 20:31:59 2002 +0000

    fix a silly segfault and make statement allocation saner

 tools/qfcc/include/emit.h    |   13 ++++++++++
 tools/qfcc/include/qfcc.h    |    4 +--
 tools/qfcc/source/class.c    |    3 ++-
 tools/qfcc/source/emit.c     |   57 +++++++++++++++++++++++++++++++-----------
 tools/qfcc/source/linker.c   |   40 ++++++++++-------------------
 tools/qfcc/source/obj_file.c |   15 ++++++-----
 tools/qfcc/source/qc-parse.y |    3 ++-
 tools/qfcc/source/qfcc.c     |   28 ++++++++++-----------
 tools/qfcc/source/reloc.c    |   15 +++++------
 9 files changed, 103 insertions(+), 75 deletions(-)

commit c1894db
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jul 8 18:53:07 2002 +0000

    split the emit stuf out of expr.h into emit.h

 tools/qfcc/include/Makefile.am |    6 ++---
 tools/qfcc/include/emit.h      |   39 ++++++++++++++++++++++++++++
 tools/qfcc/include/expr.h      |    3 ---
 tools/qfcc/source/emit.c       |   55 +++++++++++++++++++---------------------
 tools/qfcc/source/function.c   |    3 ++-
 5 files changed, 70 insertions(+), 36 deletions(-)

commit e815669
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jul 8 16:13:06 2002 +0000

    finish (for now:/) qfo_to_progs

 tools/qfcc/source/obj_file.c |    7 ++++++-
 1 file changed, 6 insertions(+), 1 deletion(-)

commit 24e242e
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jul 8 05:26:50 2002 +0000

    move the type strings into their own string pool so the progs strings don't
    get cluttered

 tools/qfcc/include/obj_file.h |    5 ++++-
 tools/qfcc/source/obj_file.c  |   14 ++++++++++++--
 2 files changed, 16 insertions(+), 3 deletions(-)

commit 598edb2
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jul 8 05:10:05 2002 +0000

    parse a type back from its encoding (some info will be lost)

 tools/qfcc/include/type.h    |    1 +
 tools/qfcc/source/obj_file.c |    2 +-
 tools/qfcc/source/type.c     |  115 ++++++++++++++++++++++++++++++++++++++++--
 3 files changed, 114 insertions(+), 4 deletions(-)

commit c50923f
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jul 8 05:07:18 2002 +0000

    expr_t forward declaration fix

 tools/qfcc/include/struct.h |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 4c8e157
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jul 8 03:05:44 2002 +0000

    nuke pr.statement_linenums as it was redundant and the info never used anyway

 tools/qfcc/include/qfcc.h  |    1 -
 tools/qfcc/source/emit.c   |    3 ---
 tools/qfcc/source/linker.c |    1 -
 tools/qfcc/source/qfcc.c   |    1 -
 4 files changed, 6 deletions(-)

commit 1f8a1d6
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Mon Jul 8 00:05:33 2002 +0000

    Fix r_particles_nearclip being forced to max.

 libs/video/renderer/r_cvar.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit d297c2b
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sun Jul 7 06:15:36 2002 +0000

    Colormod & alpha for brushmodels, excluding skypoly emittors.

 libs/video/renderer/gl/gl_rsurf.c |   65 ++++++++++++++++++++-----------------
 1 file changed, 36 insertions(+), 29 deletions(-)

commit edc4e27
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sun Jul 7 02:34:48 2002 +0000

    Minor order fixup.

 libs/video/renderer/gl/gl_screen.c |    4 +---
 1 file changed, 1 insertion(+), 3 deletions(-)

commit 6cef695
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sun Jul 7 02:33:00 2002 +0000

    Whitespace, prune dead code.

 qw/source/cl_view.c       |    2 --
 qw/source/msg_ucmd.c      |    1 -
 qw/source/net_chan.c      |    7 ++---
 qw/source/net_packetlog.c |   72 +++++++++++++++++----------------------------
 qw/source/net_svc.c       |    9 ++++--
 5 files changed, 35 insertions(+), 56 deletions(-)

commit caf9d820
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Sat Jul 6 03:00:28 2002 +0000

    Forge updates. Forge now saves, but does not load (heh) projects.

 tools/Forge/Bundles/MainPrefs/MainPrefs.gorm |  Bin 5398 -> 5459 bytes
 tools/Forge/Controller.h                     |   15 ++----
 tools/Forge/Controller.m                     |   70 +++++++++-----------------
 tools/Forge/English.lproj/Forge.classes      |    3 +-
 tools/Forge/English.lproj/Forge.gorm         |  Bin 11802 -> 11764 bytes
 tools/Forge/English.lproj/Project.classes    |    3 +-
 tools/Forge/English.lproj/Project.gorm       |  Bin 3286 -> 3356 bytes
 tools/Forge/PrefsController.h                |    2 +-
 tools/Forge/PrefsController.m                |    3 +-
 tools/Forge/Project.h                        |    7 ++-
 tools/Forge/Project.m                        |   54 +++++++++++++++++---
 tools/Forge/main.m                           |    3 +-
 12 files changed, 90 insertions(+), 70 deletions(-)

commit 5f54a19
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jul 6 02:22:15 2002 +0000

    fix an unused enum warning missed by gcc 3.0

 tools/Forge/Project.m |    2 ++
 1 file changed, 2 insertions(+)

commit 7e052a5
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jul 5 21:15:19 2002 +0000

    certain standard user commands (eg, say) can now be overriden by the progs,
    but only once (ie, it's an error for the progs to try to add a command twice)

 qw/source/sv_user.c |   49 +++++++++++++++++++++++++------------------------
 1 file changed, 25 insertions(+), 24 deletions(-)

commit 5b98893
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jul 5 20:19:13 2002 +0000

    bah, getting my "last changes vs last compile" backwards again :/

 tools/qfcc/source/strpool.c |   10 ++++++----
 1 file changed, 6 insertions(+), 4 deletions(-)

commit 8a40238
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jul 5 20:02:10 2002 +0000

    redo how progs strings are stored so multiple pools can exist

 tools/qfcc/include/Makefile.am |    2 +-
 tools/qfcc/include/immediate.h |    1 -
 tools/qfcc/include/obj_file.h  |    4 +-
 tools/qfcc/include/qfcc.h      |    7 ++-
 tools/qfcc/include/strpool.h   |   46 ++++++++++++++++
 tools/qfcc/source/Makefile.am  |    2 +-
 tools/qfcc/source/class.c      |    5 +-
 tools/qfcc/source/def.c        |    5 +-
 tools/qfcc/source/expr.c       |    7 +--
 tools/qfcc/source/function.c   |    2 +-
 tools/qfcc/source/idstuff.c    |    1 +
 tools/qfcc/source/immediate.c  |   39 +-------------
 tools/qfcc/source/linker.c     |   23 ++++----
 tools/qfcc/source/method.c     |   13 ++---
 tools/qfcc/source/obj_file.c   |  102 ++++++++++++++++++++++++++++++++---
 tools/qfcc/source/qfcc.c       |   13 ++---
 tools/qfcc/source/strpool.c    |  115 ++++++++++++++++++++++++++++++++++++++++
 17 files changed, 304 insertions(+), 83 deletions(-)

commit 5f13848
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jul 5 17:12:30 2002 +0000

    update the copyright year

 doc/template.c |    2 +-
 doc/template.h |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 576feac
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jul 5 17:02:39 2002 +0000

    correct copyright year

 tools/qfcc/include/linker.h |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 7132e67
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jul 5 16:59:25 2002 +0000

    type encoding improvements

 tools/qfcc/source/type.c |   19 ++++++++++++++++++-
 1 file changed, 18 insertions(+), 1 deletion(-)

commit e85b3a3
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jul 5 07:10:39 2002 +0000

    blah, not all automake versions support that

 qw/source/Makefile.am |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit a918790
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jul 5 07:05:52 2002 +0000

    evil hack, but this gets around the issue of libQFcsqc wanting the renderer

 qw/source/Makefile.am |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit b4f9652
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jul 5 06:55:38 2002 +0000

    give the server progs access to the Cmd api

 qw/source/Makefile.am |    1 +
 qw/source/sv_progs.c  |    3 +++
 2 files changed, 4 insertions(+)

commit cb81416
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jul 5 06:43:47 2002 +0000

    allow progs to register user commands (but not override any of the standard
    ones (yet))

 qw/include/server.h  |    1 +
 qw/source/sv_init.c  |    1 +
 qw/source/sv_progs.c |    2 +-
 qw/source/sv_user.c  |  140 +++++++++++++++++++++++++++++++++-----------------
 4 files changed, 97 insertions(+), 47 deletions(-)

commit 0ef4a75
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jul 3 21:38:14 2002 +0000

    d'oh, I thought I tested with those lines in :/

 tools/qfcc/source/linker.c |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 46bad45
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jul 3 21:32:03 2002 +0000

    move s_file, pr_source_line and pr_error_count into pr, make the linker
    errors more meaningful, and fix a blasted string.h issue (damn old gcc;P)

 tools/qfcc/include/qfcc.h    |    8 ++++----
 tools/qfcc/source/def.c      |    4 ++--
 tools/qfcc/source/emit.c     |    4 ++--
 tools/qfcc/source/expr.c     |   20 ++++++++++----------
 tools/qfcc/source/function.c |    6 +++---
 tools/qfcc/source/linker.c   |   17 +++++++++++++++++
 tools/qfcc/source/qc-lex.l   |    8 ++++----
 tools/qfcc/source/qc-parse.y |    5 +----
 tools/qfcc/source/qfcc.c     |   19 ++++++++-----------
 tools/qfcc/source/switch.c   |   12 ++++++------
 10 files changed, 57 insertions(+), 46 deletions(-)

commit 1337b8b
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jul 3 21:03:49 2002 +0000

    be a little more verbose with the "Bad surface extents" error.

 libs/models/brush/model_brush.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 357225c
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jul 3 20:47:45 2002 +0000

    fix a stray (

 nq/source/sys_win.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 102eab0
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jul 3 20:16:32 2002 +0000

    linker.[ch]:
    	start working on the linker.
    class.[ch]:
    	redo class defs so the pointer works (needs relocs still)
    obj_file.h:
    	add prototype for read_obj_file, QFO_* data access macros and include
    	pr_debug.h
    type.[ch]:
    	separate type system initialisation and recording of the standard types
    	so find_type works properly in multiple compilation
    def.c:
    	don't mark static defs as initialized
    expr.c:
    	proper class pointer def stuff
    immediate.c:
    	clean out dead vars/code
    obj_file.c:
    	allocate space for the line info and bail if the file can't be opened.
    qfcc.c:
    	register the standard types for each compile pass and start linking the
    	files

 tools/qfcc/include/Makefile.am |    4 +-
 tools/qfcc/include/class.h     |    3 +-
 tools/qfcc/include/linker.h    |   39 ++++++++++
 tools/qfcc/include/obj_file.h  |   11 +++
 tools/qfcc/include/type.h      |    1 +
 tools/qfcc/source/Makefile.am  |    4 +-
 tools/qfcc/source/class.c      |   39 ++++++----
 tools/qfcc/source/def.c        |    2 +-
 tools/qfcc/source/expr.c       |    6 +-
 tools/qfcc/source/immediate.c  |    8 --
 tools/qfcc/source/linker.c     |  165 ++++++++++++++++++++++++++++++++++++++++
 tools/qfcc/source/obj_file.c   |    7 +-
 tools/qfcc/source/qfcc.c       |    5 ++
 tools/qfcc/source/type.c       |   62 +++++++++------
 14 files changed, 297 insertions(+), 59 deletions(-)

commit 9332ea3
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jul 3 19:12:29 2002 +0000

    oops, forgot to copy the string again when I went from strdup to save_string

 tools/qfcc/source/def.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 73b68e7
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jul 3 18:29:36 2002 +0000

    close a small security hole where a malicious challenge could potentially
    wreak havoc with info strings.

 qw/source/cl_main.c |    5 +++++
 1 file changed, 5 insertions(+)

commit b81f778
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jul 3 06:42:54 2002 +0000

    make extern more of a no-op when the def alread exists

 tools/qfcc/source/def.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 065ec7f
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Wed Jul 3 06:31:03 2002 +0000

    Clean up the "fxMesa" error message so it makes more sense, and so most people
    will actually see it if they need it.

 libs/video/targets/qfgl_ext.c |    7 +++----
 1 file changed, 3 insertions(+), 4 deletions(-)

commit 9a2ba66
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Wed Jul 3 05:42:45 2002 +0000

    ugh, qw/source/cl_tent.c should have been committed with this.
    Change random number generation in spike hits, only generate 1 random number, and use a case to pick the results.

 nq/source/cl_tent.c |   36 +++++++++++++++++++++---------------
 1 file changed, 21 insertions(+), 15 deletions(-)

commit 64df22a
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Wed Jul 3 05:40:33 2002 +0000

    Whitespace, dead code removal, and a couple of tiny cleanups.

 qw/source/cl_main.c   |   68 ++++++++++----------
 qw/source/cl_ngraph.c |    4 +-
 qw/source/cl_parse.c  |  165 +++++++++++++++++++++++--------------------------
 qw/source/cl_screen.c |   10 ++-
 qw/source/cl_skin.c   |    1 -
 qw/source/cl_tent.c   |   51 ++++++++-------
 6 files changed, 144 insertions(+), 155 deletions(-)

commit c8fcdd5
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Wed Jul 3 00:37:28 2002 +0000

    Re-enable rendering lights on the player you are viewing from...

 qw/source/cl_ents.c |   36 ++++++++++++++++++------------------
 1 file changed, 18 insertions(+), 18 deletions(-)

commit 4bd03bf
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Wed Jul 3 00:36:44 2002 +0000

    Hack to make error-on-warnings happy. *pokes taniwha*

 tools/qfcc/source/def.c |    8 +++-----
 1 file changed, 3 insertions(+), 5 deletions(-)

commit 211b11c
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jul 2 23:08:44 2002 +0000

    some storage and obj file fixes

 tools/qfcc/source/def.c      |    3 +++
 tools/qfcc/source/obj_file.c |    1 +
 2 files changed, 4 insertions(+)

commit 1478dcd
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Tue Jul 2 21:37:22 2002 +0000

    Prune dead code.

 nq/source/cl_main.c  |    4 +---
 nq/source/cl_parse.c |    1 -
 nq/source/cl_view.c  |    3 ---
 nq/source/pr_cmds.c  |    5 -----
 nq/source/sv_user.c  |    2 --
 qw/source/cl_cam.c   |    1 -
 qw/source/cl_demo.c  |   13 ++-----------
 qw/source/cl_ents.c  |   14 +-------------
 qw/source/cl_main.c  |   10 ----------
 qw/source/cl_parse.c |   28 ++++++----------------------
 qw/source/cl_slist.c |    3 ---
 qw/source/cl_view.c  |    2 --
 qw/source/net_udp.c  |   13 ++++++-------
 qw/source/net_udp6.c |   18 ++++++++----------
 qw/source/sv_phys.c  |    3 +--
 15 files changed, 25 insertions(+), 95 deletions(-)

commit e6c4e0b
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jul 2 21:34:40 2002 +0000

    some more storage class work

 tools/qfcc/source/def.c  |  109 ++++++++++++++++++++++++++++++++--------------
 tools/qfcc/source/qfcc.c |    8 +++-
 2 files changed, 83 insertions(+), 34 deletions(-)

commit e185431
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Tue Jul 2 20:34:51 2002 +0000

    Clean out DDActive, except from -mgl, which isn't supported ATM. Clean up vid_mgl.c comments and dead code a bit.

 include/QF/vid.h             |    1 -
 include/winquake.h           |    1 -
 libs/video/targets/vid_mgl.c |  101 +++++++++++-------------------------------
 nq/source/sys_win.c          |   17 +++----
 qw/source/cl_sys_win.c       |   33 +++++++-------
 5 files changed, 50 insertions(+), 103 deletions(-)

commit 104013a
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jul 2 19:18:33 2002 +0000

    heh, we both forgot to nuke the prototypes :)

 include/QF/msg.h |    2 --
 1 file changed, 2 deletions(-)

commit 91dc5b2
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jul 2 19:15:29 2002 +0000

    nuke MSG_ReadChar. Other than the sign extention, it's redundant and nothing
    a suitable typecast can't take care of.

 libs/util/msg.c      |   17 +++--------------
 nq/source/cl_parse.c |    8 ++++----
 nq/source/cl_tent.c  |    2 +-
 3 files changed, 8 insertions(+), 19 deletions(-)

commit 5e5fdb7
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Tue Jul 2 19:13:53 2002 +0000

    Kill MSG_WriteChar.

 libs/util/msg.c        |   14 ++------------
 nq/source/pr_cmds.c    |   10 +++++-----
 nq/source/sv_main.c    |   14 +++++++-------
 qw/source/cl_main.c    |    4 ++--
 qw/source/sv_nchan.c   |    4 ++--
 qw/source/sv_pr_cmds.c |    2 +-
 6 files changed, 19 insertions(+), 29 deletions(-)

commit 8c2aa8f
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Tue Jul 2 18:57:38 2002 +0000

    typo fix and whitespace.

 include/QF/qendian.h |   15 ++++++---------
 1 file changed, 6 insertions(+), 9 deletions(-)

commit e5d8781
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jul 2 18:45:50 2002 +0000

    win32 compile fixes. still have problems with DDActive, but Despair's going
    to look at that.

 configure.ac                    |    9 ++++++---
 libs/audio/renderer/Makefile.am |    4 ++--
 libs/video/targets/vid_sgl.c    |    2 +-
 3 files changed, 9 insertions(+), 6 deletions(-)

commit ec5440f
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Tue Jul 2 18:35:36 2002 +0000

    Whitespace, plus a sprinkling of FIXME markers...

 qw/source/cl_input.c |    7 +++----
 1 file changed, 3 insertions(+), 4 deletions(-)

commit 1ca1154
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Tue Jul 2 18:07:51 2002 +0000

    Speed up client nail packet parsing.

 qw/source/cl_ents.c |   47 ++++++++++++++++++++++++++++-------------------
 1 file changed, 28 insertions(+), 19 deletions(-)

commit bc6e799
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jul 2 04:20:37 2002 +0000

    small patch from Geoffrey Broadwell <geoff@broadwell.org> for how to extract
    the quake data using lha.

 doc/QF-HOWTO |   10 +++++++---
 1 file changed, 7 insertions(+), 3 deletions(-)

commit aeab38f
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sun Jun 30 16:19:37 2002 +0000

    Minor cleanups.

 qw/source/cl_ents.c |   70 ++++++++++++++++++++++++---------------------------
 1 file changed, 33 insertions(+), 37 deletions(-)

commit d2dd6db
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sat Jun 29 18:28:32 2002 +0000

    More nail speedups for qw.

 nq/source/sv_main.c |    4 ++--
 qw/source/net_svc.c |   20 +++++++++-----------
 qw/source/sv_ents.c |   24 +++++++++++-------------
 3 files changed, 22 insertions(+), 26 deletions(-)

commit 2a3c31e
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sat Jun 29 03:25:25 2002 +0000

    More nail fixes, more MSG_* cleanups.

 qw/source/net_svc.c |  112 ++++++++++++++-------------------------------------
 1 file changed, 30 insertions(+), 82 deletions(-)

commit 66aa36b
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jun 28 17:59:32 2002 +0000

    start implementing storage classes (extern, static, etc)

 tools/qfcc/include/def.h      |   13 +++++++++++--
 tools/qfcc/include/obj_file.h |    5 +++--
 tools/qfcc/source/class.c     |   22 +++++++++++-----------
 tools/qfcc/source/def.c       |   14 ++++++++------
 tools/qfcc/source/expr.c      |    6 +++---
 tools/qfcc/source/function.c  |    8 ++++----
 tools/qfcc/source/method.c    |    7 +++----
 tools/qfcc/source/obj_file.c  |    6 ++++--
 tools/qfcc/source/qc-lex.l    |    2 ++
 tools/qfcc/source/qc-parse.y  |   16 ++++++++++++----
 tools/qfcc/source/qfcc.c      |    3 ++-
 tools/qfcc/source/struct.c    |    6 +++---
 tools/qfcc/source/switch.c    |    3 ++-
 13 files changed, 68 insertions(+), 43 deletions(-)

commit a49177c
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Fri Jun 28 17:47:26 2002 +0000

    Merge a few more lines into queue_character, and prepare for optimizing gl Draw_nString.

 libs/video/renderer/gl/gl_draw.c |   47 ++++++++++++++++++--------------------
 1 file changed, 22 insertions(+), 25 deletions(-)

commit 1828cbf
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jun 28 17:15:49 2002 +0000

    get the type for getProcAddress right

 include/QF/GL/funcs.h        |    2 +-
 libs/video/targets/vid_wgl.c |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 8e2dbc1
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jun 28 16:52:41 2002 +0000

    gzwrite doesn't like 0 bytes

 tools/qfcc/source/obj_file.c |   26 +++++++++++++++++---------
 1 file changed, 17 insertions(+), 9 deletions(-)

commit 1a0b69e
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jun 28 16:38:05 2002 +0000

    "qfcc *.qc" can now get through the prozac source withtout crashing (oodles
    of compile errors, though:)

 tools/qfcc/source/expr.c     |   29 ++++++++++++++++++++++++-----
 tools/qfcc/source/obj_file.c |   23 ++++++++++++++---------
 tools/qfcc/source/qfcc.c     |   15 ++++++++++-----
 3 files changed, 48 insertions(+), 19 deletions(-)

commit 8415db2
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jun 28 16:00:01 2002 +0000

    clear out the hash tables for compiling multiple object files

 tools/qfcc/include/class.h     |    2 ++
 tools/qfcc/include/def.h       |    1 +
 tools/qfcc/include/immediate.h |    2 ++
 tools/qfcc/include/method.h    |    2 ++
 tools/qfcc/include/qfcc.h      |    4 +++
 tools/qfcc/include/struct.h    |    3 ++
 tools/qfcc/include/type.h      |    2 ++
 tools/qfcc/source/class.c      |   11 +++++++
 tools/qfcc/source/def.c        |    7 +++++
 tools/qfcc/source/immediate.c  |   65 ++++++++++++++++++++++++----------------
 tools/qfcc/source/method.c     |    7 +++++
 tools/qfcc/source/qfcc.c       |   56 ++++++++++++++++++++++++++++------
 tools/qfcc/source/struct.c     |   14 +++++++++
 tools/qfcc/source/type.c       |    7 +++++
 14 files changed, 148 insertions(+), 35 deletions(-)

commit a6d999d
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Fri Jun 28 04:48:07 2002 +0000

    Speed up most of the MSG_Write* functions by reducing the number of times SZ_GetSpace gets called.

 libs/util/msg.c |   56 +++++++++++++++++++++++++++++++++----------------------
 1 file changed, 34 insertions(+), 22 deletions(-)

commit 1555324
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Fri Jun 28 02:11:13 2002 +0000

    Whitespace, and fixes for SV_EmitNailUpdate.

 qw/source/sv_ents.c |   80 ++++++++++++++++++++++++---------------------------
 1 file changed, 38 insertions(+), 42 deletions(-)

commit 536937b
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jun 27 22:51:42 2002 +0000

    print out function param info

 tools/qfprogs/source/globals.c |   13 ++++++++++---
 1 file changed, 10 insertions(+), 3 deletions(-)

commit 001571e
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jun 27 22:48:28 2002 +0000

    various memory saving tricks. seems to have not broken anything

 tools/qfcc/include/function.h |    7 +++--
 tools/qfcc/include/qfcc.h     |    2 ++
 tools/qfcc/source/class.c     |    4 +--
 tools/qfcc/source/def.c       |   12 ++++----
 tools/qfcc/source/expr.c      |   15 +++++-----
 tools/qfcc/source/function.c  |   52 +++++++++++++++++-----------------
 tools/qfcc/source/obj_file.c  |    7 ++---
 tools/qfcc/source/qc-lex.l    |   36 +++++++++++++-----------
 tools/qfcc/source/qc-parse.y  |   42 ++++++++++++++--------------
 tools/qfcc/source/qfcc.c      |   62 ++++++++++++++++++++++++++++++-----------
 tools/qfcc/source/reloc.c     |    2 +-
 tools/qfcc/source/struct.c    |    2 +-
 12 files changed, 140 insertions(+), 103 deletions(-)

commit 4e467ac
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Thu Jun 27 18:50:26 2002 +0000

    Whitespace.

 libs/video/targets/vid_sgl.c |   19 ++--
 libs/video/targets/vid_wgl.c |  213 ++++++++++++++++++++----------------------
 2 files changed, 112 insertions(+), 120 deletions(-)

commit e77d730
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jun 27 16:37:16 2002 +0000

    windows really sucks

 libs/video/targets/vid_sgl.c |    6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit be50d0e
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jun 27 15:13:43 2002 +0000

    sometimes, gcc 2.95 can be such a pain

 tools/qfcc/include/qfcc.h |    2 --
 tools/qfcc/source/reloc.c |    6 ++++++
 2 files changed, 6 insertions(+), 2 deletions(-)

commit 0997d24
Author: Chris Ison <cisos@bigpond.net.au>
Date:   Thu Jun 27 05:42:58 2002 +0000

    the long time needed 3dfxstub.so

 tools/3dfx_stub/3dfxstub.h  |   37 +
 tools/3dfx_stub/build       |    4 +
 tools/3dfx_stub/gl_stub.c   |  111 ++
 tools/3dfx_stub/gls_norm.c  | 2021 ++++++++++++++++++++++++++++++++++++
 tools/3dfx_stub/gls_trace.c | 2404 +++++++++++++++++++++++++++++++++++++++++++
 5 files changed, 4577 insertions(+)

commit c963f30
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Wed Jun 26 23:01:25 2002 +0000

    Add include for string.h. Needs to be done more portably, but I'm too tired.

 tools/qfcc/include/qfcc.h |    2 ++
 1 file changed, 2 insertions(+)

commit fd1ded5
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Wed Jun 26 22:20:12 2002 +0000

    Add r_nearclip and r_particles_nearclip. Also put some limits on r_farclip. And fix id's insane max and min float, and some minor improvements in frustum setup in GL.

 include/QF/mathlib.h                 |    4 +-
 include/QF/qendian.h                 |   24 ++++++-----
 include/compat.h                     |    1 +
 include/r_cvar.h                     |    2 +
 libs/util/mathlib.c                  |    6 +--
 libs/video/renderer/gl/gl_dyn_part.c |    3 +-
 libs/video/renderer/gl/gl_rmain.c    |   77 ++++++++++++++++------------------
 libs/video/renderer/r_cvar.c         |   43 ++++++++++++++++++-
 8 files changed, 100 insertions(+), 60 deletions(-)

commit 26dce37
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jun 26 22:10:59 2002 +0000

    clean up type allocation a little and also reloc allocation

 tools/qfcc/include/type.h  |    1 +
 tools/qfcc/source/reloc.c  |    5 ++++-
 tools/qfcc/source/struct.c |    2 +-
 tools/qfcc/source/type.c   |   10 +++++++++-
 4 files changed, 15 insertions(+), 3 deletions(-)

commit 362ec2a
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jun 26 16:27:23 2002 +0000

    do some freeing

 tools/qfcc/source/obj_file.c |    6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit c6d83ab
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jun 26 14:57:40 2002 +0000

    correct the type of getProcAddress for windows

 include/QF/GL/funcs.h |    4 ++++
 1 file changed, 4 insertions(+)

commit 50af936
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jun 26 14:45:00 2002 +0000

    whitespace

 include/QF/pr_debug.h |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 00d72be
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Wed Jun 26 06:33:00 2002 +0000

    Whitespace.

 qw/source/cl_pred.c |   18 +++++++++---------
 1 file changed, 9 insertions(+), 9 deletions(-)

commit 78a6260
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jun 25 21:36:10 2002 +0000

    get command line parsing working in an appropriate manner for separate
    compilation

 tools/qfcc/include/idstuff.h |    2 +-
 tools/qfcc/include/options.h |    2 +-
 tools/qfcc/source/idstuff.c  |    9 ++-
 tools/qfcc/source/options.c  |   31 ++++++++
 tools/qfcc/source/qfcc.c     |  168 ++++++++++++++++++++++++++++++------------
 5 files changed, 160 insertions(+), 52 deletions(-)

commit 8ddca92
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jun 25 17:07:52 2002 +0000

    fix a few allskins bugs

 qw/source/cl_skin.c |   17 ++++++++++++++++-
 1 file changed, 16 insertions(+), 1 deletion(-)

commit ecdb5a5
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jun 24 22:53:21 2002 +0000

    allow the output file to be specified on the command line

 tools/qfcc/include/cmdlib.h  |    6 +++---
 tools/qfcc/include/options.h |    1 +
 tools/qfcc/source/class.c    |    3 ++-
 tools/qfcc/source/cmdlib.c   |    6 +++---
 tools/qfcc/source/options.c  |    2 ++
 tools/qfcc/source/qfcc.c     |   12 ++++++------
 6 files changed, 17 insertions(+), 13 deletions(-)

commit 4d496a2
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jun 24 22:36:04 2002 +0000

    more endianess corrections and read/write line numbers

 tools/qfcc/include/obj_file.h |    5 +--
 tools/qfcc/source/obj_file.c  |   80 +++++++++++++++++++++++++++++++++++++----
 2 files changed, 77 insertions(+), 8 deletions(-)

commit 29d6791
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jun 24 21:41:05 2002 +0000

    forgot to byteswap the code and data

 tools/qfcc/source/obj_file.c |   19 +++++++++++++++++--
 1 file changed, 17 insertions(+), 2 deletions(-)

commit e6e11af
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Mon Jun 24 21:35:37 2002 +0000

    Move the contents of gl_funcs.c out of the renderer, and into targets where they belong. Also some cleanups. -sgl target is temporarily broken, all others should work.

 include/QF/GL/funcs.h              |    4 +
 libs/video/renderer/gl/Makefile.am |    6 +-
 libs/video/renderer/gl/gl_funcs.c  |  160 ------------------------------------
 libs/video/targets/qfgl_ext.c      |   52 ++++++++++++
 libs/video/targets/vid_3dfxsvga.c  |   89 +++++++++++++-------
 libs/video/targets/vid_glx.c       |   47 +++++++++--
 libs/video/targets/vid_sgl.c       |   17 +++-
 libs/video/targets/vid_wgl.c       |   58 +++++++++----
 8 files changed, 217 insertions(+), 216 deletions(-)

commit 70d8026
Author: Chris Ison <cisos@bigpond.net.au>
Date:   Mon Jun 24 15:56:01 2002 +0000

    Removing -3dfx's dependancy on clide

 configure.ac                      |   42 +++++++------------------------------
 libs/video/renderer/gl/gl_funcs.c |   11 +++++++---
 libs/video/targets/Makefile.am    |    2 +-
 libs/video/targets/vid_3dfxsvga.c |   26 ++++++++++++++++++++---
 nq/source/Makefile.am             |    2 +-
 qw/source/Makefile.am             |    2 +-
 6 files changed, 41 insertions(+), 44 deletions(-)

commit f77bb44
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jun 22 05:10:34 2002 +0000

    load a qfo back into memory. next step is to figure out linking

 tools/qfcc/include/obj_file.h |   45 +++++++------
 tools/qfcc/include/qfcc.h     |    2 +-
 tools/qfcc/source/obj_file.c  |  141 +++++++++++++++++++++++++++--------------
 3 files changed, 119 insertions(+), 69 deletions(-)

commit 9fee1d0
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jun 21 20:46:56 2002 +0000

    initial work on actually writing .qfo files. seems to work, but only test.qfo
    is ever writtin :)

 tools/qfcc/include/Makefile.am |    4 +-
 tools/qfcc/include/def.h       |    2 +
 tools/qfcc/include/function.h  |   23 ++--
 tools/qfcc/include/method.h    |    1 +
 tools/qfcc/include/obj_file.h  |   12 ++
 tools/qfcc/include/options.h   |    1 +
 tools/qfcc/include/qfcc.h      |    2 +
 tools/qfcc/include/reloc.h     |    1 +
 tools/qfcc/source/Makefile.am  |    4 +-
 tools/qfcc/source/class.c      |    3 +
 tools/qfcc/source/function.c   |    9 +-
 tools/qfcc/source/immediate.c  |    2 +-
 tools/qfcc/source/method.c     |    8 ++
 tools/qfcc/source/obj_file.c   |  243 ++++++++++++++++++++++++++++++++++++++++
 tools/qfcc/source/options.c    |   38 ++++---
 tools/qfcc/source/qc-parse.y   |   15 ++-
 tools/qfcc/source/qfcc.c       |   25 +++--
 tools/qfcc/source/reloc.c      |    1 +
 18 files changed, 343 insertions(+), 51 deletions(-)

commit a83ecbd
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jun 21 05:15:16 2002 +0000

    make sure we don't get stuck in the console when the server is in
    intermission mode. As far as I can tell, it's pure luck wether the
    svc_intermission comes before or after the first pass through the prediction
    code, and if it comes before, the prediction code will never run and thus
    never realise that it's ok to start rendering, so force the issue if in
    intermission mode.

 qw/source/cl_pred.c |   22 +++++++++++++++-------
 1 file changed, 15 insertions(+), 7 deletions(-)

commit f8dee80
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jun 20 20:28:01 2002 +0000

    add unions

 tools/qfcc/include/struct.h  |    1 +
 tools/qfcc/source/qc-lex.l   |    1 +
 tools/qfcc/source/qc-parse.y |    5 ++++-
 tools/qfcc/source/struct.c   |   23 +++++++++++++++++++++--
 4 files changed, 27 insertions(+), 3 deletions(-)

commit f8e4215
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jun 20 19:29:06 2002 +0000

    implement compiler "notices": potentially important information that isn't
    really a warning (unless requested) and can be silenced.

 tools/qfcc/include/expr.h    |    1 +
 tools/qfcc/include/options.h |    6 ++++++
 tools/qfcc/source/expr.c     |   41 ++++++++++++++++++++++++++++++++++++++---
 tools/qfcc/source/options.c  |   18 ++++++++++++++++++
 4 files changed, 63 insertions(+), 3 deletions(-)

commit 3476138
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jun 20 18:51:46 2002 +0000

    make --tradiontial cause "!foo & bar" evaluate as "!(foo & bar)" as per
    qfcc's broken behaviour.

 tools/qfcc/source/expr.c |    9 +++++++--
 1 file changed, 7 insertions(+), 2 deletions(-)

commit e5c470d
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jun 20 16:38:16 2002 +0000

    realtime should not be affected by pause and also should not be used for
    physics and progs, that's what sv.time is for. Things seem to work nicely,
    including map changing, and this /should/ make long uptime servers work so
    long as the map gets changes occasionally.

 qw/source/sv_main.c |   10 +++++++---
 qw/source/sv_phys.c |    4 ++--
 2 files changed, 9 insertions(+), 5 deletions(-)

commit 7ab3095
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jun 20 16:15:27 2002 +0000

    back out Misty's realtime reset work. It did achieve its goal, but winding
    realtime back caused the problems with clients not reconnect on map change
    and after my preliminary mucking around with time, I'm convinced there's a
    better way.

 qw/source/sv_ccmds.c |    4 ++--
 qw/source/sv_init.c  |    3 ---
 qw/source/sv_main.c  |   45 +++++++++++++++++++--------------------------
 qw/source/sv_user.c  |   11 +++++------
 4 files changed, 26 insertions(+), 37 deletions(-)

commit 8234988
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jun 19 23:16:41 2002 +0000

    yet more cleanup

 qw/source/cl_input.c |   26 ++++++++++++++++----------
 1 file changed, 16 insertions(+), 10 deletions(-)

commit a397ef9
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jun 19 19:58:36 2002 +0000

    Nuke Netchan_AckPacket because it didn't really achieve its goal ('twas a
    server bug anyway), broke qizmo (not that I really care: that's still qizmo's
    bug) and (most importantly) broke recording demos across map changes.
    (Closes: #14)

 qw/include/net.h     |    1 -
 qw/source/cl_parse.c |    6 ------
 qw/source/cl_skin.c  |    3 ---
 qw/source/net_chan.c |   11 -----------
 4 files changed, 21 deletions(-)

commit a246015
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Wed Jun 19 17:32:39 2002 +0000

    Order of operations fix for R_AddEfrags.

 qw/source/cl_ents.c |    9 +++++----
 1 file changed, 5 insertions(+), 4 deletions(-)

commit f1ced33
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jun 19 17:16:13 2002 +0000

    a little more cleanup

 qw/source/cl_input.c |   35 +++++++++++++++++------------------
 1 file changed, 17 insertions(+), 18 deletions(-)

commit 1ebc5e6
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Wed Jun 19 17:01:31 2002 +0000

    Whitespace.

 qw/source/cl_ents.c |    1 +
 1 file changed, 1 insertion(+)

commit 5e9baaa
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jun 19 16:03:01 2002 +0000

    optimise PF_aim for when sv_aim is >= 1 or when the client's noaim is 1

 qw/source/sv_pr_cmds.c |   16 +++++++++++-----
 1 file changed, 11 insertions(+), 5 deletions(-)

commit b4d7f0e
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jun 19 05:03:24 2002 +0000

    move the pps code into it's own function

 qw/source/cl_input.c |   63 ++++++++++++++++++++++++++++----------------------
 1 file changed, 36 insertions(+), 27 deletions(-)

commit 85a6c5a
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jun 19 04:11:27 2002 +0000

    remove a redundant call to IN_Move

 qw/source/cl_input.c |    3 ---
 1 file changed, 3 deletions(-)

commit 5052e3d
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jun 19 02:55:57 2002 +0000

    add qsg support for players and actually send EFFECTS2 and FRAME2 for
    packet entities

 qw/include/client.h   |    3 ---
 qw/include/protocol.h |   10 ++++++++
 qw/source/cl_ents.c   |   61 +++++++++++++++++++++++++++++++---------------
 qw/source/sv_ents.c   |   64 ++++++++++++++++++++++++++++++++++++++++++++++---
 4 files changed, 113 insertions(+), 25 deletions(-)

commit d2fadb2
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Tue Jun 18 23:50:53 2002 +0000

    Temporary workaround for invisible players.

 qw/source/cl_ents.c |    6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit c8bc5df
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Tue Jun 18 21:41:24 2002 +0000

    QSG2 glows almost working. Plus lots of typos killed.

 include/QF/render.h                  |    2 -
 libs/util/quakefs.c                  |    2 +-
 libs/video/renderer/gl/gl_screen.c   |    2 +-
 libs/video/targets/vid.c             |   12 ++--
 libs/video/targets/vid_common_gl.c   |    1 -
 libs/video/targets/vid_common_sw32.c |    1 -
 libs/video/targets/vid_mgl.c         |    2 -
 libs/video/targets/vid_null.c        |    1 -
 nq/source/cl_parse.c                 |   12 +---
 nq/source/cl_tent.c                  |    2 -
 qw/include/client.h                  |    7 ++
 qw/source/cl_ents.c                  |  128 ++++++++++++++++++++--------------
 qw/source/cl_sys_win.c               |    2 +-
 qw/source/cl_tent.c                  |    2 -
 qw/source/sv_main.c                  |    2 +-
 tools/qfcc/doc/qcc.txt               |    2 +-
 16 files changed, 96 insertions(+), 84 deletions(-)

commit f90f789
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jun 18 21:00:41 2002 +0000

    ok, I'm happy with this now (bit fields anent' so great for portable file
    formats:/)

 tools/qfcc/include/obj_file.h |   11 +++++++----
 1 file changed, 7 insertions(+), 4 deletions(-)

commit c25cfe6
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Tue Jun 18 15:40:30 2002 +0000

    A couple extra glFinishes a frame just aren't good for performance, even if they are a handy workaround for taniwha's text rendering bug...

 libs/video/renderer/gl/gl_draw.c |    1 -
 1 file changed, 1 deletion(-)

commit 1486c97
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jun 18 04:13:46 2002 +0000

    move the vertex setup and va flushing code into inline functions, killing a
    lot of duplicate code. Performance is not harmed :)
    also some whitespace

 libs/video/renderer/gl/gl_draw.c |  149 +++++++++++---------------------------
 1 file changed, 42 insertions(+), 107 deletions(-)

commit 632683e
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Mon Jun 17 16:18:34 2002 +0000

    Change `sv_maxrate 0` to unlimited. Change default to 10000. Remove forced ceiling of 10000.

 nq/source/cl_parse.c |    2 +-
 qw/source/cl_parse.c |    2 +-
 qw/source/net_chan.c |    2 +-
 qw/source/sv_init.c  |    2 +-
 qw/source/sv_main.c  |    6 +++---
 qw/source/sv_user.c  |    4 ++--
 6 files changed, 9 insertions(+), 9 deletions(-)

commit 3900c75
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Mon Jun 17 05:40:56 2002 +0000

    Spelling correction in printf.

 qw/source/cl_slist.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 717127e
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jun 17 05:31:08 2002 +0000

    don't print ! on uninitialized global defs that are the correct type for
    the instruction

 libs/gamecode/engine/pr_edict.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 8263d3b
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jun 17 05:29:20 2002 +0000

    start working on the format for the object files

 tools/qfcc/include/obj_file.h |  103 +++++++++++++++++++++++++++++++++++++++++
 1 file changed, 103 insertions(+)

commit 37d3fec
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jun 17 05:28:43 2002 +0000

    remove an unneeded field

 tools/qfcc/include/function.h |    1 -
 tools/qfcc/source/function.c  |    5 +++--
 2 files changed, 3 insertions(+), 3 deletions(-)

commit cbffb4b
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jun 17 02:43:38 2002 +0000

    clean up the vector def setup

 tools/qfcc/source/def.c |   76 ++++++++++++++++++++++-------------------------
 1 file changed, 35 insertions(+), 41 deletions(-)

commit b519c0b
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jun 17 01:22:45 2002 +0000

    fix a silly typo that was causing the _y of vectors to get pointed to the
    wrong place

 tools/qfcc/source/def.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 59dba82
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jun 17 00:26:13 2002 +0000

    fix an out-by-one error caused by over-optimisation of floats.

 libs/audio/renderer/snd_mem.c |    8 ++++++--
 1 file changed, 6 insertions(+), 2 deletions(-)

commit 8e254e4
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sun Jun 16 05:28:27 2002 +0000

    Document manual mouse invert.

 doc/QF-HOWTO |    5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit 2264c28
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jun 16 05:24:58 2002 +0000

    pr_strings:
    	remove a bogus 0x which caused confusion in an error message
    def.c:
    	vector fields still need an extra 3 globals for their component fields

 libs/gamecode/engine/pr_strings.c |    2 +-
 tools/qfcc/source/def.c           |    8 +++++++-
 2 files changed, 8 insertions(+), 2 deletions(-)

commit 02d3b43
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sun Jun 16 05:09:14 2002 +0000

    Fix the outdated menu entry in the HOWTO.

 doc/QF-HOWTO |    3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit 76704e9
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jun 16 04:22:51 2002 +0000

    the other part of the rename

 libs/audio/renderer/snd_mem.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 5ff7941
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jun 16 04:21:25 2002 +0000

    rename sfxcache_t size to bytes

 include/QF/sound.h |    2 +-
 include/asm_i386.h |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit ba4b11d
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jun 16 01:27:56 2002 +0000

    fix CCVER gathering for cross-compiling (the i386-mingw32msvc-gcc was
    throwing the regex off)

 configure.ac |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 00f5d82
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sat Jun 15 10:54:26 2002 +0000

    Make wizard spike hits visible, plus a couple minor cleanups.

 libs/video/renderer/gl/gl_dyn_part.c |   19 +++++++++----------
 1 file changed, 9 insertions(+), 10 deletions(-)

commit 2a4f2a7
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sat Jun 15 10:52:14 2002 +0000

    Whitespace.

 libs/video/renderer/gl/gl_sky.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 930ba48
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jun 15 05:43:56 2002 +0000

    other than sounds that are ment to loop not looping (due to losing that info
    when converting to ogg (I've got some ideas on that)), ogg/vorbis support is
    working. Doesn't seem to be too much of a load-time hit.

 include/QF/sound.h            |    3 ++-
 include/asm_i386.h            |    3 ++-
 libs/audio/renderer/snd_mem.c |   38 ++++++++++++++++++++++++++++++--------
 libs/audio/renderer/vorbis.c  |   37 +++++++++++++++++++++++++++----------
 4 files changed, 61 insertions(+), 20 deletions(-)

commit ddf4f25
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jun 15 03:20:59 2002 +0000

    *sigh*, sometimes I hate automake

 libs/audio/renderer/Makefile.am |    5 +++++
 1 file changed, 5 insertions(+)

commit 9f1e6f9
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jun 14 22:55:57 2002 +0000

    make the vorbis support mostly work. qf segs in Cache_TryAlloc when loading
    a map, but I think that's related to some of our other sound resample bugs.

 libs/audio/renderer/snd_mem.c |   17 +++++++++--------
 libs/audio/renderer/vorbis.c  |    7 ++++---
 2 files changed, 13 insertions(+), 11 deletions(-)

commit f2f6041
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jun 14 20:36:28 2002 +0000

    at long last, vorbis support :) load time only, though, so not yet suitable
    for huge samples.
    Also, change the file search order so that .gz is checked before the
    requested file.

 acinclude.m4                    |  704 +++++++++++++++++++++++++++++++++++++++
 configure.ac                    |    7 +-
 include/QF/vfs.h                |    2 +
 libs/audio/renderer/Makefile.am |    6 +-
 libs/audio/renderer/snd_mem.c   |   10 +
 libs/audio/renderer/vorbis.c    |  142 ++++++++
 libs/util/quakefs.c             |  146 ++++----
 7 files changed, 936 insertions(+), 81 deletions(-)

commit b65c96a
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jun 14 19:25:32 2002 +0000

    don't call draw_z_sky_polys for modes that don't need it

 libs/video/renderer/gl/gl_sky_clip.c |    7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

commit df55030
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Fri Jun 14 09:33:37 2002 +0000

    Fix alias bounding box sizes, so that large critters don't disappear when at edge of view frustrum...
    (Taken and debugged from tutorial on quakesrc.org)

 include/QF/model.h                 |    2 ++
 libs/models/alias/gl_model_alias.c |   12 ++++++------
 libs/models/alias/model_alias.c    |   17 ++++++++++-------
 libs/models/alias/sw_model_alias.c |    6 ++++++
 4 files changed, 24 insertions(+), 13 deletions(-)

commit 9482c15
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jun 14 07:55:19 2002 +0000

    fix the missing view model

 nq/source/cl_main.c |    8 +++-----
 nq/source/cl_view.c |    3 ---
 nq/source/sv_ded.c  |    5 +++++
 qw/source/cl_main.c |   12 +++++++-----
 qw/source/cl_view.c |    3 ---
 5 files changed, 15 insertions(+), 16 deletions(-)

commit eaf0f90
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Fri Jun 14 06:23:11 2002 +0000

    Undo thinko.

 libs/video/renderer/gl/gl_mod_sprite.c |    1 +
 1 file changed, 1 insertion(+)

commit c7432ca
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Fri Jun 14 06:08:45 2002 +0000

    Fixes to shadow rendering, plus get QSG scale working for alias models. Which breaks viewmodel rendering until we figure out how that is escaping getting scale set.

 libs/video/renderer/gl/gl_mod_alias.c |   20 ++++++++++----------
 1 file changed, 10 insertions(+), 10 deletions(-)

commit f12af8a
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Fri Jun 14 06:06:38 2002 +0000

    Minor cleanup/optimization of sprite model rendering.

 libs/video/renderer/gl/gl_mod_sprite.c |    1 -
 1 file changed, 1 deletion(-)

commit 463ac44
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Fri Jun 14 04:14:52 2002 +0000

    Minor optimization for shadows, and make translucent objects have shadows matching their alpha.

 libs/video/renderer/gl/gl_mod_alias.c |   11 ++++++-----
 1 file changed, 6 insertions(+), 5 deletions(-)

commit 942bf55
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Thu Jun 13 22:51:43 2002 +0000

    Flush console text before rendering menus, and a tiny optimization to fullscreen blend rendering in GL.

 libs/video/renderer/gl/gl_draw.c   |    2 ++
 libs/video/renderer/gl/gl_screen.c |    6 +++---
 2 files changed, 5 insertions(+), 3 deletions(-)

commit e774943
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jun 13 16:39:33 2002 +0000

    va.[ch]:
    	new va function: nva which returns a strduped buffer
    expr.c options.c:
    	use nva instead of strdup (va (...
    struct.c type.c:
    	make type encoding work properly for structs

 include/QF/va.h             |    4 +++-
 libs/util/va.c              |   27 ++++++++++++++++++++-----
 tools/qfcc/include/type.h   |    1 +
 tools/qfcc/source/expr.c    |    2 +-
 tools/qfcc/source/options.c |    6 +++---
 tools/qfcc/source/struct.c  |    4 +++-
 tools/qfcc/source/type.c    |   47 ++++++++++++++++++++++---------------------
 7 files changed, 57 insertions(+), 34 deletions(-)

commit b98e52f
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jun 13 15:36:00 2002 +0000

    make menu.dat dependent on qfcc

 cs-code/Makefile.am |    5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit fb03186
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jun 13 07:22:53 2002 +0000

    and for my next amazing feat, I'll remove the debug code :P

 tools/qfcc/source/emit.c |    5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

commit 5bbcbe0
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jun 13 07:20:15 2002 +0000

    arrays seem to be working nicely now (menus work:)

 tools/qfcc/source/emit.c |   35 ++++++++++++++++++++---------------
 tools/qfcc/source/expr.c |   11 ++++++++++-
 2 files changed, 30 insertions(+), 16 deletions(-)

commit 0d2bd0c
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Thu Jun 13 05:58:48 2002 +0000

    Finally added a file_read command.

 libs/util/cmd.c |   35 +++++++++++++++++++++++++++++++++++
 1 file changed, 35 insertions(+)

commit 10d7d17
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Thu Jun 13 05:24:52 2002 +0000

    Use vertex arrays for text. Another 1-3% speedup.

 include/QF/draw.h                    |    5 +-
 include/varrays.h                    |   16 +--
 libs/video/renderer/gl/gl_draw.c     |  226 ++++++++++++++++++++++++++--------
 libs/video/renderer/gl/gl_dyn_part.c |    5 +-
 libs/video/renderer/gl/gl_rmisc.c    |    6 +-
 libs/video/renderer/gl/gl_screen.c   |    1 +
 6 files changed, 189 insertions(+), 70 deletions(-)

commit 71c9cdc
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jun 13 04:40:09 2002 +0000

    create pointer types correctly

 tools/qfcc/source/qc-parse.y |   10 ++++++----
 1 file changed, 6 insertions(+), 4 deletions(-)

commit 88fc0be
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jun 12 22:37:18 2002 +0000

    arrays are /almost/ working again

 include/QF/pr_comp.h            |    3 +-
 libs/gamecode/engine/pr_edict.c |    8 +++--
 tools/qfcc/source/emit.c        |   75 ++++++++++++++++++++++++++++++---------
 tools/qfcc/source/expr.c        |   35 +++++++++++-------
 tools/qfcc/source/type.c        |   10 +++++-
 tools/qfprogs/source/strings.c  |    3 ++
 6 files changed, 100 insertions(+), 34 deletions(-)

commit c23a74e
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jun 12 20:26:30 2002 +0000

    fix the recvfrom address size

 qw/source/master.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 2da6bd4
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Wed Jun 12 04:45:21 2002 +0000

    Rename cl_nopred to cl_predict, cl_nostatpred to cl_predict_static, and disable prediction of static players by default.

 qw/source/cl_pred.c |   18 +++++++++---------
 1 file changed, 9 insertions(+), 9 deletions(-)

commit 87741d2
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Wed Jun 12 04:37:33 2002 +0000

    Tweak r_firecolor to reduce haloing on rocket dlights.

 libs/video/renderer/r_cvar.c |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 067c2dd
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jun 12 03:01:30 2002 +0000

    globals.c:
    	don't crash on bad function numbers
    qfprogs.c:
    	if the file doesn't load first try, thy appending .gz

 tools/qfprogs/source/globals.c |   15 ++++++++++-----
 tools/qfprogs/source/qfprogs.c |    9 +++++----
 2 files changed, 15 insertions(+), 9 deletions(-)

commit 0b1d1ad
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jun 11 17:24:37 2002 +0000

    qfprogs can now read the debug data

 include/QF/progs.h                 |    1 +
 libs/gamecode/engine/pr_debug.c    |   16 +++++---
 libs/gamecode/engine/pr_load.c     |    8 ++++
 tools/qfprogs/source/disassemble.c |    4 +-
 tools/qfprogs/source/qfprogs.c     |   74 ++++++++++++++++++++++--------------
 5 files changed, 68 insertions(+), 35 deletions(-)

commit 7985dee
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jun 11 14:55:13 2002 +0000

    and the other part of it

 configure.ac |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c7e5375
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jun 11 14:52:51 2002 +0000

    put in deek's gl_driver patch (he's got too many local changes)

 configure.ac |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit afcda85
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Tue Jun 11 14:22:42 2002 +0000

    qfcc doc updates. lots more stuff.

 tools/qfcc/doc/qfcc.lyx |  802 +++++++++++++++++++++++++++++++++++++----------
 1 file changed, 643 insertions(+), 159 deletions(-)

commit 331df31
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jun 11 06:54:32 2002 +0000

    get the function number early so things don't get mixed up when new functions
    get created while parsing a function

 tools/qfcc/include/function.h |    1 +
 tools/qfcc/source/function.c  |    7 +++----
 2 files changed, 4 insertions(+), 4 deletions(-)

commit 4932d0d
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jun 11 06:51:29 2002 +0000

    print the function number when printing the def

 tools/qfprogs/source/globals.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit fe48995
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Tue Jun 11 06:08:31 2002 +0000

    Fixed some error messages and a small bug in list.gib

 doc/config/gib/list.gib |    2 +-
 libs/util/cmd.c         |   13 +++++++------
 2 files changed, 8 insertions(+), 7 deletions(-)

commit f39e53b
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Tue Jun 11 05:41:59 2002 +0000

    Imported the beginnings of a standard "library" for GIB.

 doc/config/gib/list.gib |  123 +++++++++++++++++++++++++++++++++++++++++++++++
 doc/config/gib/std.gib  |   22 +++++++++
 doc/config/gib/str.gib  |  109 +++++++++++++++++++++++++++++++++++++++++
 3 files changed, 254 insertions(+)

commit f7d8c29
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jun 10 23:14:32 2002 +0000

    better global (and other space) def re-use

 tools/qfcc/include/def.h  |    2 +
 tools/qfcc/include/qfcc.h |    3 +-
 tools/qfcc/source/def.c   |  119 ++++++++++++++++++++++-----------------------
 tools/qfcc/source/emit.c  |    2 +-
 tools/qfcc/source/qfcc.c  |    6 ++-
 5 files changed, 66 insertions(+), 66 deletions(-)

commit bc4c458
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Mon Jun 10 23:05:29 2002 +0000

    Minor cleanup.

 qw/source/cl_ents.c |   13 +++++--------
 1 file changed, 5 insertions(+), 8 deletions(-)

commit dd52072
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Mon Jun 10 23:04:34 2002 +0000

    Whitespace.

 qw/source/teamplay.c |   28 ++++++++++++++--------------
 1 file changed, 14 insertions(+), 14 deletions(-)

commit 7459701
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jun 10 22:52:13 2002 +0000

    heh, forgot to ifdef the call to R_InitVars

 libs/video/renderer/sw/sw_rmain.c |   10 ++++++----
 1 file changed, 6 insertions(+), 4 deletions(-)

commit 3551b82
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jun 10 22:30:30 2002 +0000

    compile fix for when vidmode isn't available

 libs/video/targets/context_x11.c |   99 ++++++++++++++++++++------------------
 1 file changed, 51 insertions(+), 48 deletions(-)

commit b70ffbf
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Mon Jun 10 22:03:51 2002 +0000

    Fixed a warning message.  Changed writefile to file_write.  Added file_find
    which searches a directory for files matching a pattern and returns a \n-
    separated list.

 libs/util/cmd.c |   71 ++++++++++++++++++++++++++++++++++++++++++++++++++++---
 1 file changed, 68 insertions(+), 3 deletions(-)

commit 1f67ea4
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jun 10 20:54:22 2002 +0000

    add a global flag to def_t to make checking easier
    rename pr.globals to pr.near_data and add pr.far_data

 tools/qfcc/include/def.h      |    3 ++-
 tools/qfcc/include/qfcc.h     |    8 +++++---
 tools/qfcc/source/def.c       |    5 +++--
 tools/qfcc/source/emit.c      |    4 ++--
 tools/qfcc/source/expr.c      |    8 ++++----
 tools/qfcc/source/immediate.c |    4 ++--
 tools/qfcc/source/method.c    |    2 +-
 tools/qfcc/source/qc-parse.y  |    6 ++----
 tools/qfcc/source/qfcc.c      |   30 +++++++++++++++---------------
 9 files changed, 36 insertions(+), 34 deletions(-)

commit 7a13e6b
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jun 10 19:26:54 2002 +0000

    find the rest (I hope!) of the mis-tested scopes

 tools/qfcc/source/def.c    |    4 ++--
 tools/qfcc/source/expr.c   |    6 +++---
 tools/qfcc/source/method.c |    2 +-
 tools/qfcc/source/qfcc.c   |    5 +++--
 4 files changed, 9 insertions(+), 8 deletions(-)

commit a771bee
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jun 10 19:07:32 2002 +0000

    qfcc.c:
    	def->scope is always non-0
    qc-parse.y:
    	link defs from child scopes correctly

 tools/qfcc/source/qc-parse.y |    2 +-
 tools/qfcc/source/qfcc.c     |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 0747bcb
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jun 10 18:39:06 2002 +0000

    set the debug function number correctly

 tools/qfcc/source/function.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 98b601b
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jun 10 16:10:44 2002 +0000

    add the Objective-QC expressions

 tools/qfcc/doc/qfcc.lyx |  115 ++++++++++++++++++++++++++++++++++++++++++-----
 1 file changed, 105 insertions(+), 10 deletions(-)

commit a7f1e11
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jun 10 15:36:33 2002 +0000

    Patch to get oss sound working in BSD thanks to Alexander Leidinger
    <Alexander@Leidinger.net>

 libs/audio/targets/snd_oss.c |   52 +++++++++++++++++-------------------------
 1 file changed, 21 insertions(+), 31 deletions(-)

commit 374d229
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jun 10 06:18:59 2002 +0000

    more stuff

 tools/qfcc/doc/qfcc.lyx |  468 ++++++++++++++++++++++++++++++++++++++++++++++-
 1 file changed, 465 insertions(+), 3 deletions(-)

commit 38c7505
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jun 10 05:09:29 2002 +0000

    get a little further

 tools/qfcc/doc/qfcc.lyx |  120 +++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 120 insertions(+)

commit a414211
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jun 10 04:28:24 2002 +0000

    oh, no, not documentation!!! :)

 tools/qfcc/doc/qfcc.lyx |  287 +++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 287 insertions(+)

commit 42b1756
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jun 10 04:27:53 2002 +0000

    rename qfcc.txt to qcc.txt as it's really more relevant to the old qcc
    compiler, but still a good reference until the new docs are more advanced

 tools/qfcc/doc/qcc.txt  |  236 +++++++++++++++++++++++++++++++++++++++++++++++
 tools/qfcc/doc/qfcc.txt |  236 -----------------------------------------------
 2 files changed, 236 insertions(+), 236 deletions(-)

commit e47570d
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jun 9 16:34:50 2002 +0000

    must remember to test compile in the optimising tree :P

 tools/qfcc/source/qc-parse.y |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a4b06b1
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jun 9 16:31:08 2002 +0000

    blah, enums and switch... (at least gcc 3.1 is warning about that again:)

 libs/gamecode/engine/pr_exec.c |    1 +
 1 file changed, 1 insertion(+)

commit d0f76df
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jun 9 16:28:19 2002 +0000

    dump function and field defs

 tools/qfprogs/include/globals.h |    2 ++
 tools/qfprogs/source/globals.c  |   47 +++++++++++++++++++++++++++++++++++++++
 tools/qfprogs/source/qfprogs.c  |   10 ++++++++-
 3 files changed, 58 insertions(+), 1 deletion(-)

commit e305583
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jun 9 16:27:31 2002 +0000

    make the opcode a 16 bit enum to help with debugging (I hope this doesn't
    cause problems on weird archs).

 include/QF/pr_comp.h |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 5878233
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jun 9 05:19:13 2002 +0000

    give scopes types (static, params, locals for now)

 tools/qfcc/include/def.h     |    9 ++++++++-
 tools/qfcc/source/def.c      |    3 ++-
 tools/qfcc/source/expr.c     |    3 ++-
 tools/qfcc/source/function.c |    2 +-
 tools/qfcc/source/qc-parse.y |   29 ++++++++++++++---------------
 tools/qfcc/source/qfcc.c     |    6 +++---
 6 files changed, 30 insertions(+), 22 deletions(-)

commit 1e57351
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jun 9 04:30:02 2002 +0000

    there, no more PR_* functions or pr_* files :)

 tools/qfcc/include/def.h      |   20 +--
 tools/qfcc/source/Makefile.am |    6 +-
 tools/qfcc/source/class.c     |   22 +--
 tools/qfcc/source/def.c       |  398 +++++++++++++++++++++++++++++++++++++++++
 tools/qfcc/source/emit.c      |   28 +--
 tools/qfcc/source/expr.c      |   14 +-
 tools/qfcc/source/function.c  |   18 +-
 tools/qfcc/source/idstuff.c   |    2 +-
 tools/qfcc/source/immediate.c |   22 +--
 tools/qfcc/source/method.c    |   10 +-
 tools/qfcc/source/pr_def.c    |  398 -----------------------------------------
 tools/qfcc/source/qc-parse.y  |   10 +-
 tools/qfcc/source/qfcc.c      |    2 +-
 tools/qfcc/source/struct.c    |    6 +-
 tools/qfcc/source/switch.c    |    2 +-
 15 files changed, 479 insertions(+), 479 deletions(-)

commit 943c2ee
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jun 9 03:57:20 2002 +0000

    redo def allocation to come from configurable `spaces' (locals, globals, far
    globals, etc).

 tools/qfcc/include/def.h      |   51 +++++++++++++++++---------
 tools/qfcc/include/function.h |    1 +
 tools/qfcc/include/qfcc.h     |   23 ++++++------
 tools/qfcc/source/class.c     |   23 ++++++------
 tools/qfcc/source/cpp.c       |    2 ++
 tools/qfcc/source/emit.c      |   25 ++++++-------
 tools/qfcc/source/expr.c      |   13 ++++---
 tools/qfcc/source/function.c  |   21 +++++------
 tools/qfcc/source/idstuff.c   |    4 +--
 tools/qfcc/source/immediate.c |   27 ++++++++------
 tools/qfcc/source/method.c    |   29 +++++++--------
 tools/qfcc/source/pr_def.c    |   80 +++++++++++++++++++++++++++--------------
 tools/qfcc/source/qc-parse.y  |   73 +++++++++++++++++++------------------
 tools/qfcc/source/qfcc.c      |   50 +++++++++++++-------------
 tools/qfcc/source/struct.c    |    6 ++--
 tools/qfcc/source/switch.c    |    3 +-
 16 files changed, 238 insertions(+), 193 deletions(-)

commit 426dc07
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jun 9 03:41:11 2002 +0000

    fix a goof with the number of global defs

 tools/qfcc/source/qfcc.c |    6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit ee3f85c
Author: Timothy C. McGrath <misty-chan@users.sourceforge.net>
Date:   Sun Jun 9 02:44:11 2002 +0000

    	Whoops! I got slap happy with ()'s. I'll learn, just let me make more
    bugs ;)
    
    Tim McGrath (Misty)

 qw/source/sv_main.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 814b1b5
Author: Timothy C. McGrath <misty-chan@users.sourceforge.net>
Date:   Sat Jun 8 23:29:19 2002 +0000

    	Reworked logging and heartbeats so they use realtime again, instead of
    directly calling sys_doubletime () - managed to remove six calls. Proboably I
    should look through the code some more and find more ways to remove more calls
    ... The server works fine with them on my system as is, but I've gotten the
    impression from people in the know that spamming the clock this often is bound
    to cause non x86 arches to have problems.
    
    Tim McGrath (Misty)

 qw/source/sv_main.c |   14 ++++++--------
 1 file changed, 6 insertions(+), 8 deletions(-)

commit 1747c07
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jun 8 23:22:26 2002 +0000

    rename cl_demospeed to demo_speed and add demo_gzip (yeah, compressed demos)

 nq/include/client.h  |    3 +++
 nq/source/cl_demo.c  |   47 +++++++++++++++++++++++++++++++++++++----------
 nq/source/host.c     |   10 +++-------
 nq/source/sv_ded.c   |    7 +++++++
 qw/include/cl_demo.h |    6 +++++-
 qw/source/cl_demo.c  |   27 +++++++++++++++++++++++----
 qw/source/cl_main.c  |    8 ++------
 7 files changed, 80 insertions(+), 28 deletions(-)

commit 23246ba
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sat Jun 8 23:15:16 2002 +0000

    Sensitivity GIB alias.

 doc/config/sensitivity.gib |    7 +++++++
 1 file changed, 7 insertions(+)

commit 727fb74
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sat Jun 8 21:28:51 2002 +0000

    Clean up TODO.

 TODO |   40 +++++++++++++++++++---------------------
 1 file changed, 19 insertions(+), 21 deletions(-)

commit c82690c
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jun 8 21:12:59 2002 +0000

    bail out on errors

 RPM/build_rpm.in |    2 ++
 1 file changed, 2 insertions(+)

commit 1cc91e9
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jun 8 21:12:14 2002 +0000

    add reloc.h

 tools/qfcc/include/Makefile.am |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 9bca381
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Fri Jun 7 23:38:53 2002 +0000

    Remove R_Init_Entity. Never used, and probably doesn't belong in the renderer.

 libs/video/renderer/r_ent.c |   14 --------------
 1 file changed, 14 deletions(-)

commit 541f7ed
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jun 7 21:17:51 2002 +0000

    some def stuff shuffling

 tools/qfcc/include/def.h   |    9 +++++----
 tools/qfcc/source/pr_def.c |    5 +++++
 tools/qfcc/source/type.c   |    5 -----
 3 files changed, 10 insertions(+), 9 deletions(-)

commit ef57625
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jun 7 20:56:54 2002 +0000

    move pr_type_t

 include/QF/pr_comp.h |   10 ++++++++++
 include/QF/progs.h   |   10 ----------
 2 files changed, 10 insertions(+), 10 deletions(-)

commit 5c943d4
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jun 7 19:41:13 2002 +0000

    this should speed up progs a little bit

 libs/gamecode/engine/pr_exec.c |   12 +++++++++---
 1 file changed, 9 insertions(+), 3 deletions(-)

commit 0477b43
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jun 7 18:14:39 2002 +0000

    get rid of PR_GetArray: it's redundant

 tools/qfcc/include/def.h   |    3 ---
 tools/qfcc/source/pr_def.c |   17 -----------------
 tools/qfcc/source/switch.c |    9 ++++-----
 3 files changed, 4 insertions(+), 25 deletions(-)

commit 93169e1
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jun 7 17:46:58 2002 +0000

    rename two PR_* functions

 tools/qfcc/source/qfcc.c |   20 +++++---------------
 1 file changed, 5 insertions(+), 15 deletions(-)

commit dc0e319
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jun 7 17:39:57 2002 +0000

    fix a minor oopsie with the relocations

 tools/qfcc/source/emit.c |   10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit 00a54ad
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jun 7 17:29:30 2002 +0000

    redo relocations

 tools/qfcc/include/def.h      |    2 +-
 tools/qfcc/include/expr.h     |    5 +-
 tools/qfcc/include/opcodes.h  |   44 +++++++---------
 tools/qfcc/include/qfcc.h     |    1 +
 tools/qfcc/include/reloc.h    |   58 +++++++++++++++++++++
 tools/qfcc/source/Makefile.am |    2 +-
 tools/qfcc/source/emit.c      |   60 ++++++++++------------
 tools/qfcc/source/expr.c      |    2 +
 tools/qfcc/source/opcodes.c   |   30 ++---------
 tools/qfcc/source/qfcc.c      |   33 +++---------
 tools/qfcc/source/reloc.c     |  113 +++++++++++++++++++++++++++++++++++++++++
 tools/qfcc/source/switch.c    |   10 ++--
 12 files changed, 242 insertions(+), 118 deletions(-)

commit 442ccc3
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jun 7 15:46:15 2002 +0000

    no more Sys_* functions defined in nq or qw :)

 nq/source/host.c        |    1 -
 nq/source/sys_sdl.c     |   14 ++++----------
 nq/source/sys_unix.c    |    6 ------
 nq/source/sys_unixd.c   |    5 -----
 nq/source/sys_win.c     |    4 +++-
 nq/source/sys_wind.c    |    5 -----
 qw/source/cl_main.c     |    1 -
 qw/source/cl_sys_sdl.c  |   10 ++++------
 qw/source/cl_sys_unix.c |    5 -----
 qw/source/cl_sys_win.c  |    4 +++-
 qw/source/sv_main.c     |    1 -
 qw/source/sv_sys_unix.c |    4 +++-
 qw/source/sv_sys_win.c  |    4 +++-
 13 files changed, 20 insertions(+), 44 deletions(-)

commit 3de07df
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jun 7 15:11:59 2002 +0000

    *sigh*, I'm having a real problem this morning :P

 libs/util/sys_ia32.S |   91 ++------------------------------------------------
 1 file changed, 2 insertions(+), 89 deletions(-)

commit c0888ae
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jun 7 15:09:57 2002 +0000

    I really hate the way cvs won't let you undo a poorly thought out removal

 libs/util/sys_ia32.S |  172 ++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 172 insertions(+)

commit ebfdbd9
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jun 7 15:09:20 2002 +0000

    the fpu manipulation stuff seems to be better off in the one place that
    actually uses it...

 include/QF/sys.h                   |    5 +-
 include/r_local.h                  |    4 +
 libs/util/sys.c                    |   22 +----
 libs/util/sys_ia32.S               |  172 ------------------------------------
 libs/video/renderer/sw/Makefile.am |    4 +-
 libs/video/renderer/sw/fpu.c       |   62 +++++++++++++
 libs/video/renderer/sw/fpua.S      |  172 ++++++++++++++++++++++++++++++++++++
 libs/video/renderer/sw/sw_rmain.c  |    5 +-
 nq/source/sys_sdl.c                |    4 +-
 nq/source/sys_unix.c               |    3 -
 nq/source/sys_unixd.c              |    3 -
 nq/source/sys_win.c                |   10 +--
 qw/source/cl_sys_sdl.c             |    3 -
 qw/source/cl_sys_unix.c            |    3 -
 qw/source/cl_sys_win.c             |    5 --
 qw/source/sv_sys_unix.c            |    3 -
 qw/source/sv_sys_win.c             |    3 -
 17 files changed, 247 insertions(+), 236 deletions(-)

commit 054ec3c
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jun 7 14:46:37 2002 +0000

    blah

 include/win32/bc/borland.c |   23 -----------------------
 1 file changed, 23 deletions(-)

commit 4e07810
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jun 7 14:44:02 2002 +0000

    a little cleanup of unneeded lines

 libs/video/renderer/sw32/sw32_rmain.c |    9 ---------
 nq/source/sys_win.c                   |    5 -----
 qw/source/cl_sys_win.c                |    6 ------
 3 files changed, 20 deletions(-)

commit ceb7344
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Fri Jun 7 11:25:47 2002 +0000

    Order of operations cleanup, QSG2 alpha is now colormod[3] in entities.

 include/QF/render.h                    |    3 +-
 libs/video/renderer/gl/gl_mod_alias.c  |    2 +-
 libs/video/renderer/gl/gl_mod_sprite.c |    2 +-
 libs/video/renderer/r_ent.c            |    8 ++--
 nq/source/cl_main.c                    |    9 ++--
 nq/source/cl_parse.c                   |   25 +++++-----
 nq/source/cl_tent.c                    |    4 +-
 nq/source/cl_view.c                    |    4 +-
 qw/source/cl_ents.c                    |   81 ++++++++++++++++----------------
 qw/source/cl_parse.c                   |    8 ++--
 qw/source/cl_tent.c                    |    4 +-
 qw/source/cl_view.c                    |    4 +-
 12 files changed, 75 insertions(+), 79 deletions(-)

commit 90f4bf5
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Fri Jun 7 05:21:53 2002 +0000

    Improve dlight flag combination behaviors, plus some more dlight initialization cleanups.

 nq/source/cl_main.c  |   37 ++++++++++++++++++-------------------
 nq/source/cl_tent.c  |    8 ++++----
 qw/source/cl_ents.c  |   30 +++++++++++++++---------------
 qw/source/cl_parse.c |    5 ++---
 qw/source/cl_tent.c  |    9 +++++----
 5 files changed, 44 insertions(+), 45 deletions(-)

commit b552ace
Author: Timothy C. McGrath <misty-chan@users.sourceforge.net>
Date:   Thu Jun 6 23:38:35 2002 +0000

    	This should fix bans and heartbeats to work with realtime resets.
    
    Also of note, I found a line I missed for logging from the last checkin. Doh.
    
    Did not test heartbeats, although the code is so dead simple it ought to
    function.
    
    I did not test logging, although the code is rather simple so unless I missed
    something, it ought to work this time. ;)
    
    Tim McGrath (Misty)

 qw/source/sv_main.c |   18 ++++++++++--------
 1 file changed, 10 insertions(+), 8 deletions(-)

commit c848bf5
Author: Timothy C. McGrath <misty-chan@users.sourceforge.net>
Date:   Thu Jun 6 23:15:26 2002 +0000

    	Fixed logging to work with realtime resets.
    
    Tim McGrath (Misty)

 qw/source/sv_main.c |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit bd82405
Author: Timothy C. McGrath <misty-chan@users.sourceforge.net>
Date:   Thu Jun 6 23:05:57 2002 +0000

    	Fixed automatic muting/mute to work properly with realtime resets.
    
    Timothy C. McGrath (Misty)

 qw/source/sv_ccmds.c |    2 +-
 qw/source/sv_user.c  |    9 +++++----
 2 files changed, 6 insertions(+), 5 deletions(-)

commit 8f2b541
Author: Timothy C. McGrath <misty-chan@users.sourceforge.net>
Date:   Thu Jun 6 22:41:34 2002 +0000

    	This fixes cuffs so they work with realtime resets.
    
    Tim McGrath (Misty)

 qw/source/sv_ccmds.c |    2 +-
 qw/source/sv_main.c  |    2 +-
 qw/source/sv_user.c  |    2 +-
 3 files changed, 3 insertions(+), 3 deletions(-)

commit 8aa98c0
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jun 6 21:51:47 2002 +0000

    fix several silly mistakes

 tools/qfcc/include/qfcc.h    |    3 ++-
 tools/qfcc/source/function.c |    4 ++--
 tools/qfcc/source/qfcc.c     |    6 ++++--
 3 files changed, 8 insertions(+), 5 deletions(-)

commit 4314885
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jun 6 04:42:15 2002 +0000

    you know? it really helps if you test the right variable :P
    probably something from my copy-reduction efforts :/

 nq/source/cl_main.c |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit f6c6d9f
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Thu Jun 6 04:14:23 2002 +0000

    Add EF_DIMLIGHT to qw, make it work identically in nq.

 nq/source/cl_main.c |    5 +++--
 qw/source/cl_ents.c |    3 +++
 2 files changed, 6 insertions(+), 2 deletions(-)

commit 25ec0b8
Author: Timothy C. McGrath <misty-chan@users.sourceforge.net>
Date:   Thu Jun 6 00:32:04 2002 +0000

    	I figured out why realtime 0 caused progs to crash }:) ph33r me. Or
    not. Your choice.
    
    if sv_frametime is less than or equal to zero, progs does not enjoy life.
    Don't make progs suicide, join the > 0 club today!
    
    Tim McGrath (Misty)

 qw/source/sv_init.c |    3 +++
 qw/source/sv_main.c |   23 ++++++++++++++---------
 2 files changed, 17 insertions(+), 9 deletions(-)

commit 4694906
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Wed Jun 5 22:07:38 2002 +0000

    Check return value on R_AllocDlight. Small optimization, people cutting r_dlight_max heavily should like it.

 libs/video/renderer/gl/gl_rmain.c     |   15 +++++++------
 libs/video/renderer/r_light.c         |    4 +---
 libs/video/renderer/sw/sw_rmain.c     |   12 +++++-----
 libs/video/renderer/sw32/sw32_rmain.c |   12 +++++-----
 nq/source/cl_main.c                   |   39 +++++++++++++++++++--------------
 nq/source/cl_tent.c                   |   36 +++++++++++++++++-------------
 qw/source/cl_ents.c                   |   14 +++++++-----
 qw/source/cl_parse.c                  |    6 +++--
 qw/source/cl_tent.c                   |   36 +++++++++++++++++-------------
 9 files changed, 101 insertions(+), 73 deletions(-)

commit f317053
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jun 5 21:13:29 2002 +0000

    call malloc a little less often

 tools/qfcc/include/qfcc.h    |   14 ++++++++++++++
 tools/qfcc/source/expr.c     |   10 ++++++----
 tools/qfcc/source/pr_def.c   |   21 ++-------------------
 tools/qfcc/source/qc-lex.l   |   29 +++++++++++++++++------------
 tools/qfcc/source/qc-parse.y |   16 ++++++++++------
 tools/qfcc/source/type.c     |   11 +++++++----
 6 files changed, 56 insertions(+), 45 deletions(-)

commit 38d3a15
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jun 5 19:31:43 2002 +0000

    d'oh, forgot to compile test :P

 tools/qfcc/source/emit.c      |    2 +-
 tools/qfcc/source/expr.c      |    6 +++---
 tools/qfcc/source/function.c  |    2 +-
 tools/qfcc/source/immediate.c |    2 +-
 tools/qfcc/source/pr_def.c    |    8 ++++----
 5 files changed, 10 insertions(+), 10 deletions(-)

commit cb395c5
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jun 5 19:03:51 2002 +0000

    misc def improvments

 tools/qfcc/source/emit.c      |    2 +-
 tools/qfcc/source/expr.c      |    6 +++---
 tools/qfcc/source/function.c  |    2 +-
 tools/qfcc/source/immediate.c |    2 +-
 tools/qfcc/source/pr_def.c    |   19 ++++++++++++++-----
 tools/qfcc/source/qfcc.c      |    4 ++--
 6 files changed, 22 insertions(+), 13 deletions(-)

commit 9474765
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jun 5 17:45:44 2002 +0000

    remove some direct usages of pr.globals

 tools/qfcc/source/pr_def.c |    2 +-
 tools/qfcc/source/qfcc.c   |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit e17604f
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jun 5 17:12:55 2002 +0000

    remove all arbitrary limits except for globals. they'll need a little more
    work. Once they're done, it should take quite a big mod to crash qfcc due
    to too many strings/statements/etc :)

 tools/qfcc/include/expr.h     |    2 +-
 tools/qfcc/include/function.h |    1 -
 tools/qfcc/include/opcodes.h  |    6 +-
 tools/qfcc/include/qfcc.h     |   50 ++++++++---------
 tools/qfcc/source/class.c     |   26 ++++-----
 tools/qfcc/source/emit.c      |   38 ++++++++-----
 tools/qfcc/source/expr.c      |    8 +--
 tools/qfcc/source/function.c  |   13 ++---
 tools/qfcc/source/immediate.c |   15 +++--
 tools/qfcc/source/method.c    |   16 +++---
 tools/qfcc/source/opcodes.c   |    6 +-
 tools/qfcc/source/pr_def.c    |   10 ++--
 tools/qfcc/source/qc-parse.y  |    4 +-
 tools/qfcc/source/qfcc.c      |  124 ++++++++++++++++++++---------------------
 tools/qfcc/source/struct.c    |    2 +-
 tools/qfcc/source/switch.c    |    6 +-
 16 files changed, 162 insertions(+), 165 deletions(-)

commit 0552d31
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Wed Jun 5 06:46:21 2002 +0000

    Minor optimization.

 libs/video/renderer/gl/gl_mod_alias.c  |    4 ++--
 libs/video/renderer/gl/gl_mod_sprite.c |   17 +++++++++++++----
 2 files changed, 15 insertions(+), 6 deletions(-)

commit 0bce2d0
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Wed Jun 5 05:56:13 2002 +0000

    Add QSG2 colormod, alpha, and scale for sprites. Probably not used by anything, but there you go.

 libs/video/renderer/gl/gl_mod_sprite.c |    8 +++++++-
 1 file changed, 7 insertions(+), 1 deletion(-)

commit 32215b1
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jun 5 05:39:20 2002 +0000

    prepare functions and pr_globals for relocatability

 tools/qfcc/source/qfcc.c   |    2 --
 tools/qfcc/source/switch.c |    2 +-
 2 files changed, 1 insertion(+), 3 deletions(-)

commit 935f1e8
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jun 5 05:24:42 2002 +0000

    prepare the string hash table for relocatable strings space and fix a bug
    causing more string space to be allocated than necessary

 tools/qfcc/source/immediate.c |   19 ++++++++++---------
 1 file changed, 10 insertions(+), 9 deletions(-)

commit 7369224
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Wed Jun 5 00:13:46 2002 +0000

    Added the getinfo command to grab client info keys in GIB.  I might add
    the ability to grab info about any user, but this has potential abuses.
    I'll need to think it over.

 qw/source/cl_main.c |   17 +++++++++++++++++
 1 file changed, 17 insertions(+)

commit c58a4c5
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jun 4 21:54:47 2002 +0000

    forgot to move the prototypes

 tools/qfcc/include/def.h  |   16 ++++++++++++++++
 tools/qfcc/include/qfcc.h |   14 --------------
 2 files changed, 16 insertions(+), 14 deletions(-)

commit 69605d0
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jun 4 21:23:39 2002 +0000

    even more cleanup

 tools/qfcc/include/Makefile.am |    5 +--
 tools/qfcc/include/debug.h     |   50 +++++++++++++++++++++++++++++
 tools/qfcc/include/expr.h      |    2 +-
 tools/qfcc/include/opcodes.h   |   64 +++++++++++++++++++++++++++++++++++++
 tools/qfcc/include/qfcc.h      |   68 +++++++---------------------------------
 tools/qfcc/source/debug.c      |    4 ++-
 tools/qfcc/source/emit.c       |    5 ++-
 tools/qfcc/source/expr.c       |    3 +-
 tools/qfcc/source/function.c   |    3 ++
 tools/qfcc/source/idstuff.c    |    5 +--
 tools/qfcc/source/immediate.c  |    1 +
 tools/qfcc/source/method.c     |    1 +
 tools/qfcc/source/opcodes.c    |    2 ++
 tools/qfcc/source/pr_def.c     |    5 +--
 tools/qfcc/source/qc-parse.y   |    4 ++-
 tools/qfcc/source/qfcc.c       |    8 +++--
 tools/qfcc/source/struct.c     |    1 +
 tools/qfcc/source/switch.c     |    2 ++
 tools/qfcc/source/type.c       |    1 +
 19 files changed, 164 insertions(+), 70 deletions(-)

commit 080a464
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jun 4 20:43:11 2002 +0000

    fix CPP_NAME for independently built qfcc

 tools/qfcc/configure.in |   20 +++++++++++++++++---
 1 file changed, 17 insertions(+), 3 deletions(-)

commit 2d21e0e
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jun 4 18:45:45 2002 +0000

    idstuff is a better name for precache

 tools/qfcc/source/Makefile.am |    4 +-
 tools/qfcc/source/idstuff.c   |  282 +++++++++++++++++++++++++++++++++++++++++
 tools/qfcc/source/precache.c  |  282 -----------------------------------------
 3 files changed, 284 insertions(+), 284 deletions(-)

commit 06bddd3
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jun 4 18:44:03 2002 +0000

    more cleanup

 tools/qfcc/include/Makefile.am |    4 +-
 tools/qfcc/include/class.h     |    7 +-
 tools/qfcc/include/cpp.h       |   41 ++++++
 tools/qfcc/include/def.h       |   70 ++++++++++
 tools/qfcc/include/expr.h      |   29 ++--
 tools/qfcc/include/function.h  |   28 +++-
 tools/qfcc/include/idstuff.h   |   44 +++++++
 tools/qfcc/include/immediate.h |   41 ++++++
 tools/qfcc/include/method.h    |    9 +-
 tools/qfcc/include/options.h   |   71 ++++++++++
 tools/qfcc/include/qfcc.h      |  188 ++++++--------------------
 tools/qfcc/include/type.h      |   18 ++-
 tools/qfcc/source/Makefile.am  |    4 +-
 tools/qfcc/source/class.c      |    3 +-
 tools/qfcc/source/cpp.c        |    3 +-
 tools/qfcc/source/emit.c       |    6 +-
 tools/qfcc/source/expr.c       |    7 +-
 tools/qfcc/source/function.c   |    1 +
 tools/qfcc/source/immediate.c  |  285 ++++++++++++++++++++++++++++++++++++++++
 tools/qfcc/source/method.c     |    1 +
 tools/qfcc/source/opcodes.c    |    2 +
 tools/qfcc/source/options.c    |    4 +-
 tools/qfcc/source/pr_def.c     |    3 -
 tools/qfcc/source/pr_imm.c     |  249 -----------------------------------
 tools/qfcc/source/precache.c   |    7 +
 tools/qfcc/source/qc-lex.l     |    2 +
 tools/qfcc/source/qc-parse.y   |    6 +-
 tools/qfcc/source/qfcc.c       |   61 ++-------
 tools/qfcc/source/struct.c     |    1 +
 tools/qfcc/source/switch.c     |    1 +
 30 files changed, 700 insertions(+), 496 deletions(-)

commit 0f9adc1
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jun 4 16:17:10 2002 +0000

    win32 compile fixes

 configure.ac           |   12 ++++++++----
 libs/util/sys.c        |    6 +++++-
 nq/source/sys_win.c    |    1 -
 qw/source/sv_sys_win.c |    4 ----
 4 files changed, 13 insertions(+), 10 deletions(-)

commit 77d2442
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jun 4 05:25:37 2002 +0000

    more qfcc cleanup. split out some functions and kill some dead code

 tools/qfcc/include/qfcc.h     |   12 +
 tools/qfcc/source/Makefile.am |    6 +-
 tools/qfcc/source/cpp.c       |  264 ++++++++++++++++++++
 tools/qfcc/source/options.c   |  289 ++++++++++++++++++++++
 tools/qfcc/source/qfcc.c      |  530 +----------------------------------------
 5 files changed, 570 insertions(+), 531 deletions(-)

commit be28957
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jun 4 04:48:21 2002 +0000

    kill USE_CPP (and --enable-cpp) it's not needed any more

 configure.ac             |    1 -
 tools/qfcc/configure.in  |    6 ------
 tools/qfcc/source/qfcc.c |   32 +++++---------------------------
 3 files changed, 5 insertions(+), 34 deletions(-)

commit 328b591
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jun 4 04:36:57 2002 +0000

    some qfcc.c cleanup

 tools/qfcc/include/qfcc.h    |   14 +---
 tools/qfcc/source/precache.c |  149 ++++++++++++++++++++++++++++++++++++++++-
 tools/qfcc/source/qfcc.c     |  150 +-----------------------------------------
 3 files changed, 153 insertions(+), 160 deletions(-)

commit 1ba994f
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Mon Jun 3 23:29:34 2002 +0000

    This is a test hack, to see if chopping off some of the integer realtime's
    data helps in lengthening the amount of time a server can be up without Weird
    Stuff(tm) happening.

 libs/util/sys.c |    5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit 6ead7c9
Author: Timothy C. McGrath <misty-chan@users.sourceforge.net>
Date:   Mon Jun 3 23:11:09 2002 +0000

    Removed an unneeded check now that realtime = 0 in sv_init.c while map is
    loading went byebye.
    
    Tim McGrath (Misty)

 qw/source/sv_main.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 4039452
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jun 3 19:11:48 2002 +0000

    more sys cleanup. server consoles may be broken for non-curses.

 include/QF/sys.h        |    1 +
 libs/util/sys.c         |  142 +++++++++++++++++++++++++++++++++++++++++------
 nq/source/sys_sdl.c     |   12 ----
 nq/source/sys_unix.c    |   32 -----------
 nq/source/sys_unixd.c   |   26 ---------
 nq/source/sys_win.c     |   73 ------------------------
 nq/source/sys_wind.c    |   34 ------------
 qw/source/sv_sys_unix.c |   53 +-----------------
 qw/source/sv_sys_win.c  |   63 +--------------------
 9 files changed, 127 insertions(+), 309 deletions(-)

commit 0f94fd6
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jun 3 17:26:09 2002 +0000

    blah, forgot to #ifdef them :P

 libs/util/sys_ia32.S |    2 ++
 1 file changed, 2 insertions(+)

commit 54b299a
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jun 3 17:04:47 2002 +0000

    set the type and size of the fpu control word vars

 libs/util/sys_ia32.S |   10 ++++++++++
 1 file changed, 10 insertions(+)

commit d7c7ac7
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jun 3 16:34:46 2002 +0000

    don't add -version-info for static plugins

 configure.ac                    |    9 ++++-----
 libs/audio/cd/Makefile.am       |   14 +++++++-------
 libs/audio/renderer/Makefile.am |    4 ++--
 libs/audio/targets/Makefile.am  |   20 ++++++++++----------
 libs/console/Makefile.am        |    8 ++++----
 5 files changed, 27 insertions(+), 28 deletions(-)

commit b4e8e07
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jun 3 07:23:41 2002 +0000

    well, that's one way to confuse anybody
    fixes the floating point exception

 libs/video/renderer/sw/d_polysa.S  |    4 ++--
 libs/video/renderer/sw/sw_rdrawa.S |    4 ++--
 libs/video/renderer/sw/sw_rmain.c  |    3 +++
 libs/video/renderer/sw/sw_rvarsa.S |   12 ++++++++++++
 4 files changed, 19 insertions(+), 4 deletions(-)

commit 53703ec
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jun 3 06:41:15 2002 +0000

    that doesn't make any difference :/

 nq/source/sys_unix.c |    1 -
 1 file changed, 1 deletion(-)

commit 81b49f3
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jun 3 06:26:08 2002 +0000

    d'oh

 include/QF/sys.h |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 5f3f4b6
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jun 3 06:15:59 2002 +0000

    make sure exceptions are masked

 include/QF/sys.h     |    1 +
 nq/source/sys_unix.c |    1 +
 2 files changed, 2 insertions(+)

commit ad08ff7
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jun 3 06:01:19 2002 +0000

    there, finally got it right. ugh

 libs/util/sys_ia32.S |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 3ffec9e
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jun 3 04:58:42 2002 +0000

    d'oh, forgot to set up my GOT base register in all the functions :P

 libs/util/sys_ia32.S |   10 ++++++++++
 1 file changed, 10 insertions(+)

commit 07c7c05
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jun 3 04:06:25 2002 +0000

    finish making sys_ia32.S PIC friendly

 libs/util/sys_ia32.S |   46 +++++++++++++++++++++++++++++-----------------
 1 file changed, 29 insertions(+), 17 deletions(-)

commit e1d66fd
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jun 3 03:45:24 2002 +0000

    make sure qc-parse.h gets built before files that depend on it

 tools/qfcc/source/Makefile.am |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit b1ccfce
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Mon Jun 3 03:01:46 2002 +0000

    Remove the resetting of realtime -- there's a better solution coming, and this
    breaks a lot of stuff subtly.

 qw/source/sv_init.c |    3 ---
 1 file changed, 3 deletions(-)

commit 6335b7b
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jun 2 06:45:23 2002 +0000

    make it so debs can be build using -jN (if there's a better way, I don't
    know it)

 debian/rules |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f00e892
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jun 2 05:27:32 2002 +0000

    mingw gcc 3.1 is freaking weird

 include/getopt.h       |    8 ++++----
 libs/util/dirent.c     |    2 +-
 nq/source/sys_sdl.c    |    1 +
 qw/source/cl_sys_sdl.c |    1 +
 tools/pak/pakfile.c    |    4 ++++
 5 files changed, 11 insertions(+), 5 deletions(-)

commit 9a18bda
Author: Timothy C. McGrath <misty-chan@users.sourceforge.net>
Date:   Sun Jun 2 05:20:42 2002 +0000

    	Gee, I seem to have had time reset *after* progs was loaded. ...
    Fixed. This was dumb.
    
    Timothy McGrath. (Misty)

 qw/source/sv_init.c |    5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 321dbc8
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jun 2 04:07:18 2002 +0000

    missed a couple of global accesses

 libs/util/sys_ia32.S |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit c13e94d
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jun 2 01:10:31 2002 +0000

    must be more careful with the return value of va

 tools/qfcc/source/pr_imm.c |   27 +++++++++++++++------------
 1 file changed, 15 insertions(+), 12 deletions(-)

commit 13d6898
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Sat Jun 1 22:13:14 2002 +0000

    Changed aliases to be handled by the command registering system in
    preparation of separating GIB into its own module.  Command-related
    functions will stay in util, but the buffer handling code and interpreter
    will be moved out of cmd.c.

 include/QF/cmd.h        |    7 ++-
 libs/console/complete.c |   20 ++-----
 libs/util/cmd.c         |  140 ++++++++++-------------------------------------
 3 files changed, 38 insertions(+), 129 deletions(-)

commit 84b46d7
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jun 1 06:59:02 2002 +0000

    slowly killing cmdlib

 tools/qfcc/source/cmdlib.c |    2 --
 1 file changed, 2 deletions(-)

commit 94035ac
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jun 1 06:58:32 2002 +0000

    whitespace

 include/QF/pr_comp.h |   15 +++++----------
 1 file changed, 5 insertions(+), 10 deletions(-)

commit 8e479c5
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jun 1 05:57:55 2002 +0000

    don't need that any more :)

 tools/qfcc/acconfig.h   |   18 ------------------
 tools/qfcc/configure.in |    9 ++++++---
 2 files changed, 6 insertions(+), 21 deletions(-)

commit 12cfe61
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jun 1 05:37:18 2002 +0000

    do some file renaming

 tools/qfcc/source/Makefile.am |    6 +-
 tools/qfcc/source/opcodes.c   |  184 +++++++++++++++++++++++++++++++++++++++++
 tools/qfcc/source/pr_comp.c   |  128 ----------------------------
 tools/qfcc/source/pr_opcode.c |  184 -----------------------------------------
 tools/qfcc/source/precache.c  |  128 ++++++++++++++++++++++++++++
 5 files changed, 317 insertions(+), 313 deletions(-)

commit 7b993f9
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jun 1 05:30:16 2002 +0000

    more cleanups

 tools/qfcc/TODO               |    3 +-
 tools/qfcc/doc/qfcc.txt       |  236 ++++++++++++++++++++++++++++++++++++
 tools/qfcc/include/qfcc.h     |  263 +----------------------------------------
 tools/qfcc/source/Makefile.am |    2 +-
 tools/qfcc/source/class.c     |    1 +
 tools/qfcc/source/emit.c      |    1 +
 tools/qfcc/source/expr.c      |    1 +
 tools/qfcc/source/function.c  |    1 +
 tools/qfcc/source/method.c    |    1 +
 tools/qfcc/source/pr_comp.c   |    1 +
 tools/qfcc/source/pr_imm.c    |    1 +
 tools/qfcc/source/pr_lex.c    |   50 --------
 tools/qfcc/source/qc-lex.l    |    1 +
 tools/qfcc/source/qc-parse.y  |    1 +
 tools/qfcc/source/qfcc.c      |    4 +
 tools/qfcc/source/struct.c    |    1 +
 tools/qfcc/source/switch.c    |    1 +
 tools/qfcc/source/type.c      |    1 +
 18 files changed, 260 insertions(+), 310 deletions(-)

commit c4d0c57
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jun 1 05:06:19 2002 +0000

    clean up qfcc.h a bit

 tools/qfcc/include/qfcc.h  |   17 ----------------
 tools/qfcc/source/expr.c   |   21 ++------------------
 tools/qfcc/source/pr_def.c |   23 ++++++++++------------
 tools/qfcc/source/pr_imm.c |   43 ++++++++++++++++++-----------------------
 tools/qfcc/source/qfcc.c   |   46 ++++++++++++++++++--------------------------
 5 files changed, 50 insertions(+), 100 deletions(-)

commit 8f2d1fa
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jun 1 04:41:25 2002 +0000

    more cmdlib cleanup

 tools/qfcc/include/cmdlib.h   |   25 -------------------------
 tools/qfcc/include/qfcc.h     |    1 -
 tools/qfcc/source/class.c     |   11 +++++++++++
 tools/qfcc/source/cmdlib.c    |    4 ++--
 tools/qfcc/source/debug.c     |   11 +++++++++++
 tools/qfcc/source/emit.c      |    9 +++++++++
 tools/qfcc/source/expr.c      |    9 +++++++++
 tools/qfcc/source/function.c  |   17 +++++++++++++++--
 tools/qfcc/source/method.c    |   11 +++++++++++
 tools/qfcc/source/pr_comp.c   |   24 ++++++++++++++++++------
 tools/qfcc/source/pr_def.c    |    8 ++++++++
 tools/qfcc/source/pr_imm.c    |    8 ++++++++
 tools/qfcc/source/pr_opcode.c |    7 +++++++
 tools/qfcc/source/qc-lex.l    |   12 ++++++++++++
 tools/qfcc/source/qc-parse.y  |   11 +++++++++++
 tools/qfcc/source/qfcc.c      |    9 ++++++++-
 tools/qfcc/source/struct.c    |   11 +++++++++++
 tools/qfcc/source/switch.c    |   11 +++++++++++
 tools/qfcc/source/type.c      |    9 +++++++++
 19 files changed, 171 insertions(+), 37 deletions(-)

commit 3b7ddfb
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jun 1 03:04:11 2002 +0000

    fix a silly typo

 qw/source/Makefile.am |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 9630a23
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jun 1 03:00:13 2002 +0000

    more Sys_* cleanup

 libs/util/Makefile.am   |    2 +-
 libs/util/sys.c         |   27 ++++++++++
 libs/util/sys_ia32.S    |  138 +++++++++++++++++++++++++++++++++++++++++++++++
 nq/source/Makefile.am   |    2 +-
 nq/source/sys_ia32.S    |  116 ---------------------------------------
 nq/source/sys_sdl.c     |   12 -----
 nq/source/sys_unix.c    |   12 -----
 nq/source/sys_unixd.c   |   13 -----
 nq/source/sys_win.c     |   18 +------
 nq/source/sys_wind.c    |   25 ---------
 qw/source/Makefile.am   |    2 +-
 qw/source/cl_sys_sdl.c  |   12 -----
 qw/source/cl_sys_unix.c |   25 ---------
 qw/source/sys_x86.S     |  116 ---------------------------------------
 14 files changed, 169 insertions(+), 351 deletions(-)

commit fc0bb7e
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 31 22:50:43 2002 +0000

    move Sys_DebugLog

 libs/util/sys.c         |   15 +++++++++++++++
 nq/source/sys_sdl.c     |   15 ---------------
 nq/source/sys_unix.c    |   16 ----------------
 nq/source/sys_unixd.c   |   16 ----------------
 nq/source/sys_win.c     |    5 -----
 nq/source/sys_wind.c    |    5 -----
 qw/source/cl_sys_sdl.c  |   15 ---------------
 qw/source/cl_sys_unix.c |   16 ----------------
 qw/source/cl_sys_win.c  |   15 ---------------
 9 files changed, 15 insertions(+), 103 deletions(-)

commit e8026d9
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 31 21:05:58 2002 +0000

    touch, think and blocked now support methods
    also a little whitespace cleanup

 nq/include/sv_progs.h  |   51 ++++++++++++++++++++++++++++++++++++++++++++++++
 nq/source/host.c       |    3 +--
 nq/source/sv_cl_phys.c |    6 ++----
 nq/source/sv_main.c    |    6 ++----
 nq/source/sv_phys.c    |   20 +++++--------------
 nq/source/world.c      |    4 +---
 qw/include/sv_progs.h  |   50 +++++++++++++++++++++++++++++++++++++++++++++++
 qw/source/sv_phys.c    |   24 +++++++----------------
 qw/source/sv_user.c    |   19 ++++++------------
 qw/source/world.c      |    4 +---
 10 files changed, 126 insertions(+), 61 deletions(-)

commit 9e5f8c3
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 31 19:24:56 2002 +0000

    win32 compile fixes

 configure.ac           |    7 +++++++
 tools/qwaq/Makefile.am |   17 +++++++++--------
 2 files changed, 16 insertions(+), 8 deletions(-)

commit 55fcead
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 31 17:21:38 2002 +0000

    look for the .this field but don't complain if not found

 include/QF/progs.h            |    1 +
 libs/gamecode/engine/pr_obj.c |    1 +
 2 files changed, 2 insertions(+)

commit b3adadc
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 31 16:58:42 2002 +0000

    @this will provide an id field named ".this" (ie, .id .this (if .this would
    parse in the first place:))
    also kill build_type now that a field_type function is available in type.c

 tools/qfcc/include/expr.h    |    1 +
 tools/qfcc/include/type.h    |    1 +
 tools/qfcc/source/expr.c     |   10 ++++++++++
 tools/qfcc/source/qc-lex.l   |    1 +
 tools/qfcc/source/qc-parse.y |   25 +++++--------------------
 tools/qfcc/source/type.c     |   11 +++++++++++
 6 files changed, 29 insertions(+), 20 deletions(-)

commit cf9e1de
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 31 15:27:56 2002 +0000

    sv_progs_zone controls the size of the zone for the progs. defaults to
    256kb (64k `globals').

 nq/source/sv_progs.c |    6 +++++-
 qw/source/sv_progs.c |    6 +++++-
 2 files changed, 10 insertions(+), 2 deletions(-)

commit c25051e
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 31 15:04:23 2002 +0000

    link the obj runtime into the servers' progs engines

 nq/source/pr_cmds.c    |    1 +
 qw/source/sv_pr_cmds.c |    1 +
 2 files changed, 2 insertions(+)

commit a8e1776
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 31 14:58:42 2002 +0000

    initialize the meta class super class pointer correctly

 libs/gamecode/engine/pr_obj.c |    5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 0c64917
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 31 14:45:15 2002 +0000

    add a stub package to provide quake-game and fix up some dependencies

 RPM/quakeforge.spec.in |   41 ++++++++++++++++++++++++++++++++---------
 1 file changed, 32 insertions(+), 9 deletions(-)

commit 4d267ab
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 31 07:24:54 2002 +0000

    make things a little quieter

 cs-code/Makefile.am      |    4 ++--
 tools/qfcc/source/qfcc.c |    4 ++--
 tools/qwaq/Makefile.am   |    8 ++++----
 3 files changed, 8 insertions(+), 8 deletions(-)

commit 3af9678
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 31 06:55:35 2002 +0000

    make qwaq build as part of the main tree (but /not/ install)

 configure.ac            |    2 ++
 tools/Makefile.am       |    2 +-
 tools/qwaq/.gitignore   |    5 +----
 tools/qwaq/Makefile     |   30 ------------------------------
 tools/qwaq/Makefile.am  |   23 +++++++++++++++++++++++
 tools/qwaq/progs.src    |    7 -------
 tools/qwaq/progs.src.in |    7 +++++++
 7 files changed, 34 insertions(+), 42 deletions(-)

commit 2ee3aec
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 31 06:52:48 2002 +0000

    reverse the order of linking

 libs/gamecode/engine/pr_obj.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 96fe150
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Fri May 31 06:44:48 2002 +0000

    Add a clean target to quaketoascii's makefile.

 tools/quaketoascii/Makefile |    3 +++
 1 file changed, 3 insertions(+)

commit 6bb4998
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Fri May 31 06:42:04 2002 +0000

    Make debian/rules set --build instead of --host, to shut configure up.

 debian/rules |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit dd47617
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Fri May 31 06:40:52 2002 +0000

    Update some gitignore files.

 .gitignore                    |    1 +
 debian/.gitignore             |   19 ++++++++++++++++++-
 tools/quaketoascii/.gitignore |    1 +
 3 files changed, 20 insertions(+), 1 deletion(-)

commit c4811cc
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 31 06:16:10 2002 +0000

    seriously clean up qwaq. most of that stuff isn't needed any more

 tools/qwaq/main.c  |   28 -----------------------
 tools/qwaq/main.qc |   63 +++-------------------------------------------------
 2 files changed, 3 insertions(+), 88 deletions(-)

commit ce6854a
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 31 06:09:08 2002 +0000

    not everybody /has/ d.o :)

 tools/qwaq/Makefile |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 191232a
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 31 06:02:26 2002 +0000

    get qwaq working with the objective stuff and do a simple messaging test

 tools/qwaq/Makefile   |    2 +-
 tools/qwaq/builtins.c |    3 ---
 tools/qwaq/main.c     |    2 ++
 tools/qwaq/main.qc    |    7 +++++--
 tools/qwaq/progs.src  |    2 ++
 tools/qwaq/test.r     |   14 ++++++++++++++
 6 files changed, 24 insertions(+), 6 deletions(-)

commit ea3c699
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 31 06:01:47 2002 +0000

    actually /use/ method_list.method_next and chain the class methods onto the
    instance methods for root classes.

 libs/gamecode/engine/pr_obj.c |   13 ++++++++++---
 1 file changed, 10 insertions(+), 3 deletions(-)

commit 24e7a88
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 31 06:00:11 2002 +0000

    fix some method list emission bugs

 tools/qfcc/source/method.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit d85a238
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Fri May 31 05:38:06 2002 +0000

    Modified cmd.c to prepare for more file access functions and changed
    the bind system to keep a restricted flag on binds to prevent the
    server from executing restricted commands by binding them to keys.

 include/QF/keys.h                |    7 +++--
 libs/gamecode/builtins/bi_keys.c |    6 ++--
 libs/util/cmd.c                  |   57 +++++++++++++++++++++++++++-----------
 libs/video/targets/keys.c        |   35 ++++++++++++-----------
 4 files changed, 68 insertions(+), 37 deletions(-)

commit ccf2a0b
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 31 05:04:16 2002 +0000

    allocate defs using the correct size from the type

 tools/qfcc/source/pr_def.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 381bdb2
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 31 03:38:01 2002 +0000

    it seems some GL libs can return a null extension list (ie, null pointer)

 libs/video/targets/qfgl_ext.c |    3 +++
 1 file changed, 3 insertions(+)

commit 9134e05
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 30 21:56:57 2002 +0000

    return lists of multiple matching elements

 include/QF/hash.h |   10 ++++++++++
 libs/util/hash.c  |   56 +++++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 66 insertions(+)

commit 8a762bd
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 30 21:39:21 2002 +0000

    hack to work around the gl lighting fix breaking sw

 libs/models/brush/sw_model_brush.c |    1 +
 1 file changed, 1 insertion(+)

commit 3c7fb6a
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 30 21:18:58 2002 +0000

    fix some missing ;s

 tools/qfcc/source/qc-parse.y |    2 ++
 1 file changed, 2 insertions(+)

commit 4e67f8d
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 30 18:38:57 2002 +0000

    remove an extern

 libs/models/brush/model_brush.c |    1 -
 1 file changed, 1 deletion(-)

commit a7b5b56
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 29 20:58:53 2002 +0000

    implement Z_Realloc, PR_Zone_Realloc and pr_obj_realloc

 include/QF/progs.h             |    1 +
 include/QF/zone.h              |    1 +
 libs/gamecode/engine/pr_obj.c  |    9 +++++----
 libs/gamecode/engine/pr_zone.c |    6 ++++++
 libs/util/zone.c               |   33 +++++++++++++++++++++++++++++++++
 5 files changed, 46 insertions(+), 4 deletions(-)

commit ce8fbad
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 29 16:25:02 2002 +0000

    make dist fixes

 debian/Makefile.am |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 952c105
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 29 16:06:50 2002 +0000

    oops, another one

 debian/rules |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit b19a4d9
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 29 16:06:09 2002 +0000

    allow deb building to work from a dist tarball

 debian/rules |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 26cda32
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Wed May 29 11:21:25 2002 +0000

    Forge: partial support for projects. Very (VERY!) incomplete.

 tools/Forge/Controller.h                      |    6 +
 tools/Forge/Controller.m                      |   49 +-
 tools/Forge/English.lproj/Forge.classes       |  620 +++++++++++++++++++++++++
 tools/Forge/English.lproj/Forge.gorm          |  Bin 0 -> 11802 bytes
 tools/Forge/English.lproj/Localizable.strings |   49 +-
 tools/Forge/English.lproj/Project.classes     |  620 +++++++++++++++++++++++++
 tools/Forge/English.lproj/Project.gorm        |  Bin 0 -> 3286 bytes
 tools/Forge/Forge.classes                     |  611 ------------------------
 tools/Forge/Forge.gorm                        |  Bin 19447 -> 0 bytes
 tools/Forge/GNUmakefile                       |    7 +-
 tools/Forge/Project.h                         |   47 ++
 tools/Forge/Project.m                         |  136 ++++++
 12 files changed, 1477 insertions(+), 668 deletions(-)

commit 6c9c621
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Wed May 29 07:13:42 2002 +0000

    Forge updates: Windows are now remembered and stuff is in general a bit
    cleaner. Committing this so that the stuff I'm about to write won't totally
    fubar everything. :)

 tools/Forge/BundleController.h |    4 ++-
 tools/Forge/Controller.h       |   14 ++++++----
 tools/Forge/Controller.m       |   51 ++++++++++++++++++++++------------
 tools/Forge/Forge.classes      |    8 ++----
 tools/Forge/Forge.gorm         |  Bin 19419 -> 19447 bytes
 tools/Forge/PrefsController.h  |   17 ++++--------
 tools/Forge/PrefsController.m  |   60 +++++++++++++++++++++++++---------------
 7 files changed, 90 insertions(+), 64 deletions(-)

commit 8025dfd
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Tue May 28 23:34:02 2002 +0000

    "runLength-- > 0" made runLength negative, even though the test failed.
    Skins should work again.

 libs/util/pcx.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 9b7b059
Author: Bill Currie <bill@taniwha.org>
Date:   Tue May 28 06:05:36 2002 +0000

    speed up LoadPCX a bit

 libs/util/pcx.c |   56 +++++++++++++++++++++++--------------------------------
 1 file changed, 23 insertions(+), 33 deletions(-)

commit bebf3f9
Author: Bill Currie <bill@taniwha.org>
Date:   Tue May 28 05:34:06 2002 +0000

    massive speedup to noise_diamondsquare (not that it /really/ matters:)

 libs/video/renderer/gl/noisetextures.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 7a3b634
Author: Bill Currie <bill@taniwha.org>
Date:   Tue May 28 04:11:40 2002 +0000

    `adequate' temporary fix for r_lightmap_components 1

 include/QF/model.h           |    2 ++
 libs/video/renderer/r_cvar.c |   19 ++++++++++++++++++-
 nq/source/sv_model.c         |    2 +-
 qw/source/sv_model.c         |    2 +-
 4 files changed, 22 insertions(+), 3 deletions(-)

commit f313216
Author: Bill Currie <bill@taniwha.org>
Date:   Tue May 28 03:49:13 2002 +0000

    speedup r_lightmap_components 3 by ~4.2% in null-render

 libs/video/renderer/gl/gl_rsurf.c |   24 ++++++++++++------------
 1 file changed, 12 insertions(+), 12 deletions(-)

commit 101d38b
Author: Bill Currie <bill@taniwha.org>
Date:   Tue May 28 03:33:03 2002 +0000

    two win32 fixes for gcc 3.1

 libs/video/renderer/gl/gl_sky_clip.c |    4 ++++
 libs/video/targets/old_keys.c        |    4 ++++
 2 files changed, 8 insertions(+)

commit acdd37b
Author: Bill Currie <bill@taniwha.org>
Date:   Tue May 28 00:04:01 2002 +0000

    this seems to give ~2.9% speed boost to overkill for null-render

 libs/video/renderer/gl/gl_rsurf.c |  110 ++++++++++++++-----------------------
 1 file changed, 41 insertions(+), 69 deletions(-)

commit 37335f4
Author: Bill Currie <bill@taniwha.org>
Date:   Tue May 28 00:02:59 2002 +0000

    alpha doesn't like 0 for va_list :/

 qw/source/sv_main.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 7ebede0
Author: Bill Currie <bill@taniwha.org>
Date:   Mon May 27 20:49:16 2002 +0000

    don't run a physics frame if sv_frametime is 0

 qw/source/sv_main.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 6fbf011
Author: Bill Currie <bill@taniwha.org>
Date:   Mon May 27 20:28:10 2002 +0000

    rpm building fixes

 RPM/quakeforge.spec.in            |   22 +++++++--
 include/Makefile.am               |    8 ++--
 include/QF/Makefile.am            |    2 +-
 include/QF/exp.h                  |   91 -------------------------------------
 include/QF/ops.h                  |   46 -------------------
 include/exp.h                     |   91 +++++++++++++++++++++++++++++++++++++
 include/ops.h                     |   46 +++++++++++++++++++
 libs/util/cmd.c                   |    5 +-
 libs/util/exp.c                   |    5 +-
 tools/pak/Makefile.am             |    2 +
 tools/qfcc/include/Makefile.am    |    3 +-
 tools/qfprogs/include/Makefile.am |    2 +-
 12 files changed, 170 insertions(+), 153 deletions(-)

commit d94c292
Author: Bill Currie <bill@taniwha.org>
Date:   Mon May 27 18:10:25 2002 +0000

    try 2 on the dancing corpses. this should also fix the lack of lerping in nq

 nq/source/cl_main.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 9666243
Author: Timothy C. McGrath <misty-chan@users.sourceforge.net>
Date:   Sun May 26 20:30:12 2002 +0000

    Fixed my mistake - Had added a bracket which caused physics only to be
    done every maxtic instead of every *mintic* which is what it was supposed
    to be doing. Ooops.
    
    Also minor whitespace cleaning in sv_init.c
    
    Tim McGrath (Misty)

 qw/source/sv_init.c |    2 +-
 qw/source/sv_main.c |    4 ++--
 2 files changed, 3 insertions(+), 3 deletions(-)

commit 3edc57e
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Sun May 26 11:24:00 2002 +0000

    Forge updates. Compiles with latest GNUstep CVS, may not work with current
    release (but should).
    
    The interface is no longer defined in code -- it loads it from a .gorm file.
    
    The code is a lot cleaner, and I'm working on project management again.
    Generally, I'm having a lot of fun. :)

 tools/Forge/BundleController.h                     |    2 +
 tools/Forge/BundleController.m                     |    2 +
 tools/Forge/Bundles/MainPrefs/GNUmakefile          |    5 +-
 tools/Forge/Bundles/MainPrefs/GNUmakefile.preamble |    4 +-
 tools/Forge/Bundles/MainPrefs/MainPrefs.gorm       |  Bin 5374 -> 5398 bytes
 tools/Forge/Bundles/MainPrefs/MainPrefs.m          |   32 +-
 tools/Forge/Bundles/MainPrefs/MainPrefsView.h      |   57 --
 tools/Forge/Bundles/MainPrefs/MainPrefsView.m      |  158 ------
 tools/Forge/Controller.h                           |    6 +-
 tools/Forge/Controller.m                           |  157 +-----
 tools/Forge/Forge.classes                          |  590 ++++++++++++++------
 tools/Forge/Forge.gorm                             |  Bin 3457 -> 19419 bytes
 tools/Forge/GNUmakefile                            |    2 -
 tools/Forge/PrefsController.h                      |   16 +-
 tools/Forge/PrefsController.m                      |   86 ++-
 tools/Forge/PrefsPanel.h                           |   59 --
 tools/Forge/PrefsPanel.m                           |  165 ------
 17 files changed, 532 insertions(+), 809 deletions(-)

commit 802bcc2
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sun May 26 08:56:48 2002 +0000

    Another 0.657% speedup for greyscale lighting. Unfortunately, at a price of considerable code duplication. But this is necessary for other planned changes.

 libs/video/renderer/gl/gl_rsurf.c |  289 ++++++++++++++++++++++++++++---------
 1 file changed, 222 insertions(+), 67 deletions(-)

commit 6c8e2c2
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sun May 26 07:07:10 2002 +0000

    *grumbles about old gcc*

 libs/video/renderer/gl/gl_rsurf.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 2917748
Author: Timothy C. McGrath <misty-chan@users.sourceforge.net>
Date:   Sat May 25 21:58:39 2002 +0000

    Minor modifications to the glspeeds so they know about the setting 0 of
    cl_maxfps now :)

 doc/config/glspeed-v1.cfg |    4 ++--
 doc/config/glspeed-v2.cfg |    2 +-
 doc/config/glspeed-v3.cfg |    4 ++--
 3 files changed, 5 insertions(+), 5 deletions(-)

commit 75ec7de
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Sat May 25 21:55:34 2002 +0000

    This better actually fix the lightmap code.

 libs/video/renderer/gl/gl_rsurf.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 8ebd2c6
Author: Timothy C. McGrath <misty-chan@users.sourceforge.net>
Date:   Sat May 25 21:54:41 2002 +0000

    This hack makes realtime get reset on map load (in sv_init.c, set to 0)
    and also prevents old_time in sv_main.c from getting screwed up in the head
    and pausing the physics indefinitely (check and see if there is a faster way
    to do it :)
    
    What does this let us do? LEAVE THE SERVER RUNNING! Imprecision due to the
    server being on for long periods of time should now no longer be a problem,
    so long as you have a map rotation going at least once a day. :)
    
    I plan on committing updated versions of my glspeed cfgs next, and then
    looking at timeleft - just to make sure when sys_dead_sleep is 1 it can't
    overflow accidentally.
    
    Tim McGrath (Misty)

 qw/source/sv_init.c |    4 +++-
 qw/source/sv_main.c |    5 +++--
 2 files changed, 6 insertions(+), 3 deletions(-)

commit ddd9631
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Sat May 25 20:04:42 2002 +0000

    Removed useless dereferencing.  With any luck I understand what despair's
    code is supposed to do this time.

 libs/video/renderer/gl/gl_rsurf.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f1f942d
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sat May 25 15:29:22 2002 +0000

    Hacking my way towards working r_lightmap_components 1.
    
    Users of r_lightmap_components 1, should set `int mod_lightmap_bytes = 1` at the start of `quakeforge/libs/models/brush/gl_model_brush.c`.

 include/QF/model.h                 |    1 -
 libs/models/brush/gl_model_brush.c |   59 ++++++++++++++++++++++--------------
 libs/models/brush/model_brush.c    |    8 ++---
 libs/models/brush/sw_model_brush.c |    2 +-
 4 files changed, 40 insertions(+), 30 deletions(-)

commit b7900a2
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sat May 25 15:01:23 2002 +0000

    Undo snax's order of operation breakage, and fix the typo that broke lightmap merging for r_lightmap_components 1.
    
    The real problem with greyscale lighting, is in brush model loading. It'll probably take me a while to sort it out, since taniwha didn't get to it before taking off for the weekend. Sorry...

 libs/video/renderer/gl/gl_rsurf.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit a116529
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Sat May 25 02:47:53 2002 +0000

    pak tool: Re-add the -f option and clean up the man page.

 tools/pak/pak.1 |   35 +++++++++++++++++++++++++++--------
 tools/pak/pak.c |   26 +++++++++++++++++++-------
 2 files changed, 46 insertions(+), 15 deletions(-)

commit 11a14c0
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Fri May 24 23:32:34 2002 +0000

    Small order-of-operations fix.

 libs/video/renderer/gl/gl_rsurf.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 2fe76b3
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Fri May 24 17:12:41 2002 +0000

    Smarter lightmap handling code. Still considerable optimization possible, at expense of duplicate code.

 libs/video/renderer/gl/gl_rsurf.c |   81 +++++++++++++++++++++----------------
 1 file changed, 46 insertions(+), 35 deletions(-)

commit 030b8a7
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 24 02:59:10 2002 +0000

    add ' fps' to the std deviation line

 qw/source/cl_demo.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 35c2a4c
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 23 21:51:36 2002 +0000

    fix the gcc version checking for gcc 3.1

 configure.ac |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 25ebab2
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 23 05:42:51 2002 +0000

    only call Cbuf_ExecuteStack when the buffer has anything to execute. this
    gives an ~1.1% boost to overkill.

 libs/util/cmd.c |    9 ++++++---
 1 file changed, 6 insertions(+), 3 deletions(-)

commit 33e0552
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 22 22:35:37 2002 +0000

    Semi-major (more than minor:) progs convenience macro cleanup. There will
    be more to come.

 include/QF/progs.h               |   34 ++++-
 libs/gamecode/builtins/pr_cmds.c |    4 -
 libs/gamecode/engine/pr_obj.c    |  278 ++++++++++++++++++--------------------
 nq/source/pr_cmds.c              |    2 -
 qw/source/sv_pr_cmds.c           |    3 -
 5 files changed, 160 insertions(+), 161 deletions(-)

commit dc3f106
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 22 21:50:24 2002 +0000

    define G_POINTER convenince macro. null progs pointers will be null in C
    redefine G_STRUCT to use G_POINTER

 include/QF/progs.h |    9 ++++++++-
 1 file changed, 8 insertions(+), 1 deletion(-)

commit ea36fce
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 22 21:45:15 2002 +0000

    fix a few missed initializations

 libs/gamecode/engine/pr_obj.c |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 34ec521
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 22 20:43:29 2002 +0000

    vararg functions can now be imlemented in qc using @argc (number of params
    passed through ...) and @argv (array of vectors, one for each ... param)

 libs/gamecode/engine/pr_exec.c |   32 +++++++++++++++++++++++++++-----
 tools/qfcc/include/type.h      |    1 +
 tools/qfcc/source/function.c   |   27 ++++++++++++++++++++++++---
 tools/qfcc/source/pr_def.c     |    7 +++++--
 tools/qfcc/source/qc-lex.l     |    2 ++
 tools/qfcc/source/qc-parse.y   |   18 ++++--------------
 tools/qwaq/Makefile            |    2 +-
 tools/qwaq/main.qc             |   13 +++++++++++++
 8 files changed, 77 insertions(+), 25 deletions(-)

commit 018b3ae
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 22 19:02:26 2002 +0000

    more runtime implementation

 cs-code/object.r              |    4 +-
 libs/gamecode/engine/pr_obj.c |  202 +++++++++++++++++++++++++++++++++--------
 2 files changed, 167 insertions(+), 39 deletions(-)

commit 43e6092
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 22 17:32:44 2002 +0000

    initial stab at supporting most of the obj runtime

 cs-code/Makefile.am           |    2 +-
 cs-code/menu.src.in           |    1 +
 cs-code/object.r              |  381 +++++++++++++++++++++
 libs/gamecode/engine/pr_obj.c |  733 ++++++++++++++++++++++++++++++++++-------
 4 files changed, 999 insertions(+), 118 deletions(-)

commit 60457ee
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 22 17:18:48 2002 +0000

    clean up some expr creaion

 tools/qfcc/source/qc-parse.y |   14 +++-----------
 1 file changed, 3 insertions(+), 11 deletions(-)

commit 5b590c9
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 22 17:13:52 2002 +0000

    that seems to have got the type parsing right. (void []) () foo will work
    and .float () foo works too

 tools/qfcc/source/qc-parse.y |   54 +++++++++++++++++++++++++-----------------
 1 file changed, 32 insertions(+), 22 deletions(-)

commit ddcaef5
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 22 16:38:29 2002 +0000

    that didn't work so well :/
    back it out for now till I figure out how to get it parsing .float () foo
    correctly

 tools/qfcc/source/qc-parse.y |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 51fbbb7
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 22 16:29:24 2002 +0000

    qc-parse.y:
    	allow complex types for function return values
    type.c:
    	fix a missing break and an unneeded printout

 tools/qfcc/source/qc-parse.y |    2 +-
 tools/qfcc/source/type.c     |    3 ++-
 2 files changed, 3 insertions(+), 2 deletions(-)

commit 3967f5c
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 22 05:03:36 2002 +0000

    type.h:
    	*type_method to type_Method
    emit.c:
    	support casting between pointers
    expr.c:
    	support casting between pointers
    method.c:
    	correct the type for _cmd
    	type_method to type_Method.aux_type
    qc-lex.l:
    	Method type is a poniter to a method
    qc-parse.y:
    	support , args to messages (not fully implemented yet)
    type.c:
    	*type_method to type_Method and make type_Method a pointer to a method

 tools/qfcc/include/type.h    |    2 +-
 tools/qfcc/source/emit.c     |    8 ++++++--
 tools/qfcc/source/expr.c     |   26 ++++++++++++++++++--------
 tools/qfcc/source/method.c   |    4 ++--
 tools/qfcc/source/qc-lex.l   |    1 +
 tools/qfcc/source/qc-parse.y |    4 ++--
 tools/qfcc/source/type.c     |   14 +++++++-------
 7 files changed, 37 insertions(+), 22 deletions(-)

commit a1fe5ef
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 22 01:39:07 2002 +0000

    initialize class_Class.super_class iff @keywords are seen (ie, compiling
    obj code).

 tools/qfcc/include/class.h |    1 +
 tools/qfcc/source/class.c  |    6 ++++++
 tools/qfcc/source/qc-lex.l |    3 +++
 tools/qfcc/source/type.c   |    1 -
 4 files changed, 10 insertions(+), 1 deletion(-)

commit 33daf1e
Author: Bill Currie <bill@taniwha.org>
Date:   Tue May 21 23:39:21 2002 +0000

    provide temporary stubs for most of Object's methods

 libs/gamecode/engine/pr_obj.c |   43 +++++++++++++++++++++++++++++++++++++++++
 1 file changed, 43 insertions(+)

commit 4697ce2
Author: Bill Currie <bill@taniwha.org>
Date:   Tue May 21 23:38:40 2002 +0000

    define Protocol type correctly

 tools/qfcc/source/qc-lex.l |    1 +
 tools/qfcc/source/type.c   |    3 ++-
 2 files changed, 3 insertions(+), 1 deletion(-)

commit 4315707
Author: Bill Currie <bill@taniwha.org>
Date:   Tue May 21 23:29:21 2002 +0000

    class.c:
    	avoid possible segfault
    expr.c:
    	correct the return value type checking to handle super classes

 tools/qfcc/source/class.c |    8 +++++---
 tools/qfcc/source/expr.c  |    2 +-
 2 files changed, 6 insertions(+), 4 deletions(-)

commit 3a99ab8
Author: Bill Currie <bill@taniwha.org>
Date:   Tue May 21 23:02:56 2002 +0000

    trim off the trailing _ from method def names

 tools/qfcc/source/method.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 2a73235
Author: Bill Currie <bill@taniwha.org>
Date:   Tue May 21 22:51:46 2002 +0000

    fix some method bugs

 tools/qfcc/source/method.c   |    8 ++++++--
 tools/qfcc/source/qc-parse.y |    2 +-
 2 files changed, 7 insertions(+), 3 deletions(-)

commit 3815d4b
Author: Bill Currie <bill@taniwha.org>
Date:   Tue May 21 22:27:41 2002 +0000

    blah, unitialized variable

 libs/gamecode/engine/pr_obj.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 05c8cad
Author: Bill Currie <bill@taniwha.org>
Date:   Tue May 21 22:13:05 2002 +0000

    grr, really should make compat.h include string[s].h
    
    also, partially implement the messaging functions

 libs/gamecode/engine/pr_obj.c |   73 +++++++++++++++++++++++++++++++++++++++++
 1 file changed, 73 insertions(+)

commit 9820c5d
Author: Bill Currie <bill@taniwha.org>
Date:   Tue May 21 21:29:49 2002 +0000

    start working in the obj runtime. any and all functions named ".ctor" will
    be run in the order found.

 include/QF/progs.h               |   12 +++
 libs/console/menu.c              |    3 +
 libs/gamecode/engine/Makefile.am |    4 +-
 libs/gamecode/engine/pr_load.c   |    2 +
 libs/gamecode/engine/pr_obj.c    |  188 ++++++++++++++++++++++++++++++++++++++
 5 files changed, 207 insertions(+), 2 deletions(-)

commit 9f06f89
Author: Bill Currie <bill@taniwha.org>
Date:   Tue May 21 21:28:40 2002 +0000

    write out the module data needed for the obj runtime

 include/QF/pr_obj.h        |   15 ++++++
 tools/qfcc/include/class.h |    1 +
 tools/qfcc/include/qfcc.h  |    1 +
 tools/qfcc/include/type.h  |    2 +
 tools/qfcc/source/class.c  |  117 ++++++++++++++++++++++++++++++++++++++++----
 tools/qfcc/source/expr.c   |    4 ++
 tools/qfcc/source/qc-lex.l |    1 +
 tools/qfcc/source/qfcc.c   |    2 +
 tools/qfcc/source/struct.c |    8 ++-
 tools/qfcc/source/type.c   |   14 +++++-
 10 files changed, 153 insertions(+), 12 deletions(-)

commit a8c3fa8
Author: Bill Currie <bill@taniwha.org>
Date:   Tue May 21 21:14:32 2002 +0000

    correct the function names in PR_EnterFunction and PR_LeaveFunction

 libs/gamecode/engine/pr_exec.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 69c6bb7
Author: Bill Currie <bill@taniwha.org>
Date:   Tue May 21 21:06:27 2002 +0000

    forgot to fix the server error printing

 qw/source/sv_main.c |    6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit 1b550c8
Author: Bill Currie <bill@taniwha.org>
Date:   Tue May 21 21:03:46 2002 +0000

    finally get Sys_Error `right'

 libs/util/sys.c |   15 +++++++++------
 1 file changed, 9 insertions(+), 6 deletions(-)

commit 25969db
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Tue May 21 02:02:20 2002 +0000

    Added a temporary hack to make quake.rc, config.cfg, and default.cfg work
    in some mods that would generate mismatched quotes otherwise.

 include/QF/cmd.h |    2 ++
 libs/util/cmd.c  |   20 ++++++++++++--------
 2 files changed, 14 insertions(+), 8 deletions(-)

commit ee5d0b7
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Mon May 20 05:11:12 2002 +0000

    Added r_farclip to control the far clipping plane.

 include/r_cvar.h                  |    1 +
 libs/video/renderer/gl/gl_rmain.c |    2 +-
 libs/video/renderer/r_cvar.c      |    3 +++
 3 files changed, 5 insertions(+), 1 deletion(-)

commit 347962c
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Sun May 19 06:32:57 2002 +0000

    Fixed a bug introduced by my optimizations.

 libs/util/cmd.c |    6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit f78f921
Author: Bill Currie <bill@taniwha.org>
Date:   Sat May 18 00:49:16 2002 +0000

    search for `.self' before `self'

 libs/gamecode/engine/pr_builtins.c |    8 ++++----
 libs/gamecode/engine/pr_edict.c    |    2 +-
 libs/gamecode/engine/pr_exec.c     |   22 +++++++++++-----------
 libs/gamecode/engine/pr_opcode.c   |    6 +++---
 libs/gamecode/engine/pr_resolve.c  |   12 ++++++++----
 nq/source/sv_progs.c               |    1 -
 6 files changed, 27 insertions(+), 24 deletions(-)

commit e11e2f3
Author: Bill Currie <bill@taniwha.org>
Date:   Sat May 18 00:30:14 2002 +0000

    SELF -> @self (looks better (IMO:)) and make sure the .self def gets
    generatoed and used when @self is seen

 tools/qfcc/include/expr.h    |    1 +
 tools/qfcc/source/expr.c     |    9 +++++++++
 tools/qfcc/source/qc-lex.l   |    2 +-
 tools/qfcc/source/qc-parse.y |    1 +
 4 files changed, 12 insertions(+), 1 deletion(-)

commit 967d395
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Fri May 17 21:38:37 2002 +0000

    Optimized GIB a bit.

 include/QF/dstring.h |    1 -
 libs/util/cmd.c      |  263 +++++++++++++++++++++++++++-----------------------
 libs/util/dstring.c  |    1 +
 3 files changed, 143 insertions(+), 122 deletions(-)

commit 5be384d
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 17 20:25:46 2002 +0000

    create a `SELF' keyword so the global self entity can be handled sanely.
    Not fully implemented yet.

 tools/qfcc/source/qc-lex.l   |    1 +
 tools/qfcc/source/qc-parse.y |    2 +-
 2 files changed, 2 insertions(+), 1 deletion(-)

commit 2c0de5c
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 17 20:03:59 2002 +0000

    print out some extra info for function defs

 tools/qfprogs/source/globals.c |   31 ++++++++++++++++++++++++++-----
 1 file changed, 26 insertions(+), 5 deletions(-)

commit dc5cd84
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 17 19:47:15 2002 +0000

    `super' is now a keyword

 tools/qfcc/source/qc-lex.l   |    3 +++
 tools/qfcc/source/qc-parse.y |    4 +++-
 2 files changed, 6 insertions(+), 1 deletion(-)

commit 451bfbd
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 17 19:35:26 2002 +0000

    fix a snafu with current_class and get ivar access working properly (cross
    fingers:)

 tools/qfcc/include/class.h   |    3 +++
 tools/qfcc/source/class.c    |   43 ++++++++++++++++++++++++++++++++++++------
 tools/qfcc/source/expr.c     |   28 ++++++++++++++++++---------
 tools/qfcc/source/qc-parse.y |   40 +++++++++++++++++----------------------
 4 files changed, 76 insertions(+), 38 deletions(-)

commit d8c66ae
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 17 19:34:40 2002 +0000

    don't seg if strct is null

 tools/qfcc/source/struct.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 2e8c18f
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 17 18:46:11 2002 +0000

    handle unimplemented classes a little better (will do for now till I sort
    out some sort of resolution for them)

 tools/qfcc/source/class.c |    6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit b1d1159
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 17 18:35:54 2002 +0000

    allow methods to be builtins

 tools/qfcc/include/function.h |    3 +++
 tools/qfcc/source/function.c  |   24 ++++++++++++++++++++++++
 tools/qfcc/source/qc-parse.y  |   33 +++++++++++++++++----------------
 3 files changed, 44 insertions(+), 16 deletions(-)

commit 97170e9
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 17 17:58:57 2002 +0000

    setup the default visibility properly

 tools/qfcc/source/qc-parse.y |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ef9f9cd
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 17 17:37:44 2002 +0000

    pr_obj.h:
    	define the class info stuff
    expr.h pr_def.c:
    	fix a FIXME
    class.c expr.c type.c:
    	make id ev_pointer.ev_object rather than ev_pointer.ev_class

 include/QF/pr_obj.h        |   45 +++++++++++++++++++++++++++++++++++++++++++-
 tools/qfcc/include/expr.h  |    2 ++
 tools/qfcc/source/class.c  |    9 +++++----
 tools/qfcc/source/expr.c   |   20 +++++++++++++++++---
 tools/qfcc/source/pr_def.c |    2 --
 tools/qfcc/source/type.c   |    6 ++++--
 6 files changed, 72 insertions(+), 12 deletions(-)

commit 057aa61
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 17 16:44:47 2002 +0000

    `document' the type sizes

 libs/gamecode/engine/pr_edict.c |   32 ++++++++++++++++----------------
 1 file changed, 16 insertions(+), 16 deletions(-)

commit 6965642
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 17 06:20:27 2002 +0000

    get ivars working better (need to get rid of self.) and [super ...] now
    works.

 tools/qfcc/include/class.h   |    5 +++++
 tools/qfcc/source/class.c    |   42 ++++++++++++++++++++++++++++++++++++++---
 tools/qfcc/source/expr.c     |   43 ++++++++++++++++++++++++++++++------------
 tools/qfcc/source/method.c   |    3 +--
 tools/qfcc/source/qc-parse.y |   17 ++++++++++++++---
 tools/qfcc/source/type.c     |    4 ++++
 6 files changed, 94 insertions(+), 20 deletions(-)

commit 9d59915
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 17 03:17:33 2002 +0000

    it's a little hacky, but this might do better with keeping vid_gamma_avail
    straight.

 libs/video/targets/context_x11.c |   29 ++++++++++++++++-------------
 1 file changed, 16 insertions(+), 13 deletions(-)

commit 91c4039
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 16 23:44:53 2002 +0000

    add some functionality to qfprogs (globals and strings dumping)

 tools/qfprogs/include/globals.h  |    8 +++++
 tools/qfprogs/include/strings.h  |    8 +++++
 tools/qfprogs/source/Makefile.am |    2 +-
 tools/qfprogs/source/globals.c   |   58 +++++++++++++++++++++++++++++++
 tools/qfprogs/source/qfprogs.c   |   34 ++++++++++++++++--
 tools/qfprogs/source/strings.c   |   71 ++++++++++++++++++++++++++++++++++++++
 6 files changed, 177 insertions(+), 4 deletions(-)

commit 372c391
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 16 23:32:25 2002 +0000

    initialize the string hash table with ""

 tools/qfcc/source/qfcc.c |    1 +
 1 file changed, 1 insertion(+)

commit 04d76ce
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 16 23:32:03 2002 +0000

    build the method_list struct with the correct type

 tools/qfcc/source/type.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 7cdbef2
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 16 22:33:11 2002 +0000

    make class_def return a correct def

 tools/qfcc/include/class.h   |    1 +
 tools/qfcc/include/expr.h    |    1 +
 tools/qfcc/source/class.c    |   37 ++++++++++++++++++++++++++------
 tools/qfcc/source/qc-parse.y |   48 +++++++++++++++++++++---------------------
 4 files changed, 57 insertions(+), 30 deletions(-)

commit 4908b3c
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 16 21:57:03 2002 +0000

    `initialize' the defs for the obj constructs

 tools/qfcc/source/class.c  |    7 ++++++-
 tools/qfcc/source/method.c |    6 ++++++
 tools/qfcc/source/pr_imm.c |   18 ++++++++++++------
 tools/qfcc/source/struct.c |    1 +
 4 files changed, 25 insertions(+), 7 deletions(-)

commit eba5e68
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 16 20:48:41 2002 +0000

    check whether the method is an instance or class method when comparing

 tools/qfcc/source/class.c  |    4 +++-
 tools/qfcc/source/method.c |   10 ++++------
 2 files changed, 7 insertions(+), 7 deletions(-)

commit 779174c
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 16 20:20:23 2002 +0000

    get object pointer assignmets working and some static typing as well

 tools/qfcc/include/class.h   |    5 +++
 tools/qfcc/include/method.h  |    4 +-
 tools/qfcc/include/qfcc.h    |    1 +
 tools/qfcc/include/type.h    |    1 +
 tools/qfcc/source/class.c    |   33 ++++++++++++++++-
 tools/qfcc/source/expr.c     |   40 ++++++++++++++++----
 tools/qfcc/source/method.c   |   83 +++++++++++++++++++++---------------------
 tools/qfcc/source/qc-parse.y |    1 +
 tools/qfcc/source/struct.c   |   12 +++++-
 tools/qfcc/source/type.c     |   48 +++++++++++++++++++++++-
 10 files changed, 174 insertions(+), 54 deletions(-)

commit 73f4cb4
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 15 23:24:19 2002 +0000

    it seems object info emition works (needs more testing)

 tools/qfcc/include/class.h   |    8 +++
 tools/qfcc/include/method.h  |    3 ++
 tools/qfcc/include/qfcc.h    |    2 +-
 tools/qfcc/include/struct.h  |    2 +
 tools/qfcc/include/type.h    |    4 +-
 tools/qfcc/source/class.c    |  114 ++++++++++++++++++++++++++++++++++++++++++
 tools/qfcc/source/expr.c     |    2 +-
 tools/qfcc/source/method.c   |   68 +++++++++++++++++++++++++
 tools/qfcc/source/pr_def.c   |   18 ++-----
 tools/qfcc/source/qc-parse.y |   40 +++++++++------
 tools/qfcc/source/struct.c   |   40 ++++++++++++++-
 tools/qfcc/source/type.c     |   91 +++++++++++++++++++++++++++------
 12 files changed, 344 insertions(+), 48 deletions(-)

commit 4cb3a50
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Wed May 15 22:39:37 2002 +0000

    Whoops.  Fixed some GIB bugs.

 libs/util/cmd.c |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 58e8a99
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Wed May 15 22:14:17 2002 +0000

    GIB:  Added the writefile, legacy and eval commands and created the
    beginnings of a GIB security model for console access by the server.
    Fixed a bug in zoom.gib.

 doc/config/zoom.gib |    4 +-
 include/QF/cmd.h    |    3 ++
 libs/util/cmd.c     |  108 ++++++++++++++++++++++++++++++++++++++++++++++++++-
 3 files changed, 111 insertions(+), 4 deletions(-)

commit 539d0ac
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 15 19:27:23 2002 +0000

    correct a bunch of syntax errors

 include/QF/pr_obj.h |   12 ++++++------
 1 file changed, 6 insertions(+), 6 deletions(-)

commit 308fa78
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 15 19:10:23 2002 +0000

    lots of obj work

 tools/qfcc/include/class.h   |   30 ++++++--
 tools/qfcc/include/method.h  |    3 +-
 tools/qfcc/include/struct.h  |    1 +
 tools/qfcc/source/class.c    |   91 ++++++++++++++++++++++--
 tools/qfcc/source/method.c   |    6 +-
 tools/qfcc/source/qc-parse.y |  162 +++++++++++++++++++++++++++---------------
 tools/qfcc/source/struct.c   |   19 ++++-
 7 files changed, 236 insertions(+), 76 deletions(-)

commit 8f0661f
Author: Bill Currie <bill@taniwha.org>
Date:   Tue May 14 23:07:38 2002 +0000

    correct the copyright year

 libs/gamecode/builtins/bi_cmd.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit fe866e2
Author: Bill Currie <bill@taniwha.org>
Date:   Tue May 14 21:30:23 2002 +0000

    hopefully fix the nq-wgl crash

 nq/source/sys_win.c    |   32 +++++++-------------------------
 qw/source/cl_sys_win.c |    8 +-------
 2 files changed, 8 insertions(+), 32 deletions(-)

commit 22a5182
Author: Bill Currie <bill@taniwha.org>
Date:   Tue May 14 17:55:23 2002 +0000

    put my email about the key binding system up

 doc/bind.txt             |   76 ++++++++++++++++++++++++++++++++++++++++++++++
 doc/quakeforge-notes.txt |    1 +
 2 files changed, 77 insertions(+)

commit 6a5bbf6
Author: Bill Currie <bill@taniwha.org>
Date:   Tue May 14 06:37:28 2002 +0000

    memory allocation checking cleanup

 include/QF/sys.h                     |    4 ++--
 libs/models/gl_model_fullbright.c    |    3 +--
 libs/util/cmd.c                      |   18 ++++++------------
 libs/util/cvar.c                     |    3 +--
 libs/util/tga.c                      |    4 ----
 libs/video/renderer/gl/gl_screen.c   |    3 +--
 libs/video/renderer/gl/gl_textures.c |    3 +--
 libs/video/targets/fbset.c           |    3 +--
 libs/video/targets/vid_common_sw32.c |    3 +--
 libs/video/targets/vid_svgalib.c     |    3 +--
 libs/video/targets/vid_x11.c         |    3 +--
 nq/source/host.c                     |    6 ++----
 nq/source/locs.c                     |    3 +--
 qw/source/cl_slist.c                 |   12 ++++--------
 qw/source/locs.c                     |    3 +--
 tools/qfcc/source/cmdlib.c           |    3 +--
 tools/qfcc/source/expr.c             |    9 +++------
 tools/qfcc/source/pr_def.c           |    3 +--
 tools/qfcc/source/qc-lex.l           |    6 ++----
 tools/qfcc/source/qc-parse.y         |    6 ++----
 tools/qfcc/source/switch.c           |    6 ++----
 tools/qfcc/source/type.c             |    3 +--
 tools/qfdefs/source/fix_globals.c    |    3 +--
 tools/qwaq/main.c                    |    3 +--
 24 files changed, 38 insertions(+), 78 deletions(-)

commit 1e0611e
Author: Bill Currie <bill@taniwha.org>
Date:   Tue May 14 06:14:53 2002 +0000

    Sys_Error now makes sure all messages are terminated with a \n

 libs/util/sys.c |    1 +
 1 file changed, 1 insertion(+)

commit 44dcf74
Author: Bill Currie <bill@taniwha.org>
Date:   Tue May 14 06:12:29 2002 +0000

    strip the \n from all(?) of the Sys_Error calls (Sys_Error itself will be
    adding \n).

 libs/audio/renderer/snd_dma.c          |    2 +-
 libs/audio/targets/snd_alsa_0_5.c      |    4 +-
 libs/audio/targets/snd_sdl.c           |    2 +-
 libs/gamecode/builtins/bi_cmd.c        |    2 +-
 libs/models/alias/gl_model_alias.c     |    2 +-
 libs/models/alias/model_alias.c        |    4 +-
 libs/models/gl_model_fullbright.c      |    2 +-
 libs/models/model.c                    |    2 +-
 libs/models/sprite/model_sprite.c      |    2 +-
 libs/util/cmd.c                        |   12 ++---
 libs/util/cvar.c                       |    2 +-
 libs/util/dstring.c                    |    6 +--
 libs/util/info.c                       |    6 +--
 libs/util/mathlib.c                    |    4 +-
 libs/util/msg.c                        |    2 +-
 libs/util/qfplist.c                    |    2 +-
 libs/util/quakefs.c                    |    2 +-
 libs/util/tga.c                        |    8 +--
 libs/util/wad.c                        |    4 +-
 libs/util/zone.c                       |   20 +++----
 libs/video/renderer/gl/gl_dyn_part.c   |    2 +-
 libs/video/renderer/gl/gl_funcs.c      |    6 +--
 libs/video/renderer/gl/gl_graph.c      |    2 +-
 libs/video/renderer/gl/gl_screen.c     |    2 +-
 libs/video/renderer/gl/gl_sky_clip.c   |    2 +-
 libs/video/renderer/gl/gl_textures.c   |    2 +-
 libs/video/renderer/gl/noisetextures.c |    4 +-
 libs/video/renderer/r_efrag.c          |    2 +-
 libs/video/renderer/sw/d_surf.c        |    4 +-
 libs/video/renderer/sw32/d_edge.c      |    2 +-
 libs/video/renderer/sw32/d_fill.c      |    2 +-
 libs/video/renderer/sw32/d_part.c      |    2 +-
 libs/video/renderer/sw32/d_polyse.c    |    2 +-
 libs/video/renderer/sw32/d_scan.c      |    6 +--
 libs/video/renderer/sw32/d_sky.c       |    2 +-
 libs/video/renderer/sw32/d_sprite.c    |    2 +-
 libs/video/renderer/sw32/d_surf.c      |    4 +-
 libs/video/renderer/sw32/d_zpoint.c    |    2 +-
 libs/video/renderer/sw32/draw.c        |   18 +++----
 libs/video/renderer/sw32/screen.c      |    4 +-
 libs/video/renderer/sw32/sw32_graph.c  |    2 +-
 libs/video/renderer/sw32/sw32_ralias.c |    2 +-
 libs/video/renderer/sw32/sw32_rsky.c   |    2 +-
 libs/video/renderer/sw32/sw32_rsurf.c  |    2 +-
 libs/video/renderer/sw32/sw32_skin.c   |    2 +-
 libs/video/targets/context_x11.c       |    2 +-
 libs/video/targets/fbset.c             |    2 +-
 libs/video/targets/fbset_modes_l.l     |   90 ++++++++++++++++----------------
 libs/video/targets/in_win.c            |    4 +-
 libs/video/targets/in_x11.c            |    4 +-
 libs/video/targets/qfgl_ext.c          |    4 +-
 libs/video/targets/vid.c               |   12 ++---
 libs/video/targets/vid_3dfxsvga.c      |    2 +-
 libs/video/targets/vid_common_gl.c     |    2 +-
 libs/video/targets/vid_common_sw.c     |    6 +--
 libs/video/targets/vid_common_sw32.c   |    8 +--
 libs/video/targets/vid_ext.c           |    2 +-
 libs/video/targets/vid_fbdev.c         |   18 +++----
 libs/video/targets/vid_glx.c           |    3 +-
 libs/video/targets/vid_mgl.c           |    4 +-
 libs/video/targets/vid_sdl.c           |    2 +-
 libs/video/targets/vid_sdl32.c         |    4 +-
 libs/video/targets/vid_sgl.c           |    4 +-
 libs/video/targets/vid_svgalib.c       |    8 +--
 libs/video/targets/vid_wgl.c           |   14 ++---
 libs/video/targets/vid_x11.c           |   20 +++----
 nq/source/host.c                       |   16 +++---
 nq/source/locs.c                       |    2 +-
 nq/source/net_bw.c                     |    8 +--
 nq/source/net_dgrm.c                   |   12 ++---
 nq/source/net_ipx.c                    |    6 +--
 nq/source/net_loop.c                   |    2 +-
 nq/source/net_main.c                   |    2 +-
 nq/source/net_mp.c                     |    6 +--
 nq/source/net_udp.c                    |    8 +--
 nq/source/net_vcr.c                    |    2 +-
 nq/source/net_wins.c                   |    4 +-
 nq/source/net_wipx.c                   |    6 +--
 qw/source/cl_demo.c                    |    2 +-
 qw/source/cl_main.c                    |    4 +-
 qw/source/cl_slist.c                   |    8 +--
 qw/source/locs.c                       |    2 +-
 qw/source/sv_ccmds.c                   |    2 +-
 qw/source/sv_main.c                    |    6 +--
 qw/source/sv_progs.c                   |    2 +-
 qw/source/sv_send.c                    |    2 +-
 tools/qfcc/source/cmdlib.c             |    2 +-
 tools/qfcc/source/expr.c               |    6 +--
 tools/qfcc/source/pr_def.c             |    2 +-
 tools/qfcc/source/qc-lex.l             |    4 +-
 tools/qfcc/source/qc-parse.y           |    4 +-
 tools/qfcc/source/switch.c             |    4 +-
 tools/qfcc/source/type.c               |    2 +-
 tools/qfdefs/source/fix_globals.c      |    2 +-
 tools/qwaq/main.c                      |    4 +-
 95 files changed, 259 insertions(+), 260 deletions(-)

commit 6240c62
Author: Bill Currie <bill@taniwha.org>
Date:   Mon May 13 21:53:52 2002 +0000

    this should fix the problems with building the master server on bsd systems

 configure.ac       |   14 ++++++++++++++
 qw/source/master.c |    2 +-
 2 files changed, 15 insertions(+), 1 deletion(-)

commit 2c0a20a
Author: Bill Currie <bill@taniwha.org>
Date:   Mon May 13 20:11:33 2002 +0000

    fix the mis-generation of code for state-functions

 tools/qfcc/source/qc-parse.y |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 91779b0
Author: Bill Currie <bill@taniwha.org>
Date:   Mon May 13 19:37:36 2002 +0000

    new tool: qfprogs. currently only disassembles progs, but the idea is for it
    to become a progs oriented nm, objdump etc

 configure.ac                        |   12 ++-
 include/QF/pr_comp.h                |    8 +-
 libs/gamecode/engine/pr_edict.c     |    7 +-
 libs/gamecode/engine/pr_opcode.c    |    1 +
 tools/Makefile.am                   |    2 +-
 tools/qfprogs/.gitignore            |   11 ++
 tools/qfprogs/Makefile.am           |   24 +++++
 tools/qfprogs/include/.gitignore    |    6 ++
 tools/qfprogs/include/Makefile.am   |    3 +
 tools/qfprogs/include/disassemble.h |    8 ++
 tools/qfprogs/include/qfprogs.h     |    8 ++
 tools/qfprogs/source/.gitignore     |    6 ++
 tools/qfprogs/source/Makefile.am    |   15 +++
 tools/qfprogs/source/disassemble.c  |   71 +++++++++++++
 tools/qfprogs/source/qfprogs.c      |  194 +++++++++++++++++++++++++++++++++++
 15 files changed, 367 insertions(+), 9 deletions(-)

commit 0936686
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Sun May 12 20:28:19 2002 +0000

    GIB segfault fix

 libs/util/cmd.c |    2 ++
 1 file changed, 2 insertions(+)

commit f6697e0
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Sat May 11 20:44:59 2002 +0000

    Fixed an oversight in Cmd_FreeBuffer in GIB and made a few misc. fixes

 libs/util/cmd.c |   15 +++++++++++++--
 1 file changed, 13 insertions(+), 2 deletions(-)

commit 6d37a9e
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Sat May 11 06:09:50 2002 +0000

    Fixed up zoom.rc, renamed it to zoom.gib.  Made alias with only one
    argument print the contents of that alias.  Added the sleep command,
    which works like wait but pauses for a certain number of seconds.

 doc/config/zoom.gib |   96 +++++++++++++++++++++++++++++++++++++++++++++++++++
 doc/config/zoom.rc  |   96 ---------------------------------------------------
 include/QF/cmd.h    |    4 +++
 libs/util/cmd.c     |   31 +++++++++++++++++
 4 files changed, 131 insertions(+), 96 deletions(-)

commit 69894d9
Author: Bill Currie <bill@taniwha.org>
Date:   Sat May 11 04:04:30 2002 +0000

    define the obj structs needed for the runtime

 include/QF/pr_comp.h |    1 +
 include/QF/pr_obj.h  |  105 ++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 106 insertions(+)

commit 9b516ff
Author: Bill Currie <bill@taniwha.org>
Date:   Sat May 11 03:37:36 2002 +0000

    mild namespace cleanup

 tools/qfcc/include/expr.h |   16 ++++++++--------
 tools/qfcc/source/emit.c  |    2 +-
 2 files changed, 9 insertions(+), 9 deletions(-)

commit 56d033e
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Sat May 11 03:00:14 2002 +0000

    Auditted cmd.h and cmd.c to fix a bug, a few bits of useless code, and to
    add some preliminary comments about all the functions.  I also rearranged
    a lot of the functions to be more logically grouped.

 include/QF/cmd.h |   94 +++---
 libs/util/cmd.c  |  872 +++++++++++++++++++++++++++++-------------------------
 2 files changed, 524 insertions(+), 442 deletions(-)

commit 3fffa26
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Sat May 11 00:36:12 2002 +0000

    Added thread support to GIB and cleaned up escape characters yet again.
    With any luck it should actually work this time.  Added the getimpulse
    command so that GIB scripts can check if an impulse command is pending
    before sending their own.  Fixed all the memory leaks I could find.
    QuakeC and GIB seem to be clean except for maybe one or two sneaky leaks
    I can't track down.

 include/QF/cmd.h                    |    6 +
 libs/console/menu.c                 |    1 +
 libs/gamecode/builtins/bi_strhash.c |   30 ++--
 libs/util/cmd.c                     |  282 +++++++++++++++++++++++------------
 qw/source/cl_input.c                |    9 ++
 qw/source/cl_main.c                 |    7 +
 6 files changed, 226 insertions(+), 109 deletions(-)

commit 73e6cf0
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 10 23:19:57 2002 +0000

    implement type encoding

 include/QF/pr_comp.h            |    3 ++
 libs/gamecode/engine/pr_edict.c |    6 +++
 tools/qfcc/include/type.h       |   11 ++++--
 tools/qfcc/source/expr.c        |   12 +++++-
 tools/qfcc/source/type.c        |   80 +++++++++++++++++++++++++++++++++++++++
 5 files changed, 107 insertions(+), 5 deletions(-)

commit c04785f
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 10 18:39:59 2002 +0000

    move sys/types.h

 qw/source/master.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 672ba53
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 10 16:37:41 2002 +0000

    it's joy_*amp, not in_joy_*amp :/

 doc/sensitivity.fig |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 32e69ff
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 10 16:32:56 2002 +0000

    bah, /doc goes elsewhere :P

 doc/quakeforge-notes.txt |    2 +-
 doc/sensitivity.png      |  Bin 3960 -> 0 bytes
 2 files changed, 1 insertion(+), 1 deletion(-)

commit 552c0e8
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 10 16:28:11 2002 +0000

    add a schematic for how the sensitivity cvars work

 doc/quakeforge-notes.txt |    2 +-
 doc/sensitivity.fig      |  111 ++++++++++++++++++++++++++++++++++++++++++++++
 doc/sensitivity.png      |  Bin 0 -> 3960 bytes
 3 files changed, 112 insertions(+), 1 deletion(-)

commit b418701
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 10 02:11:23 2002 +0000

    missing ;

 tools/qfcc/source/qc-parse.y |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 2cd7161
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 10 00:00:23 2002 +0000

    more progress

 tools/qfcc/include/class.h   |   28 ++--
 tools/qfcc/include/method.h  |    8 +-
 tools/qfcc/include/struct.h  |   10 +-
 tools/qfcc/include/type.h    |    1 +
 tools/qfcc/source/class.c    |  128 ++++++++++++++----
 tools/qfcc/source/expr.c     |   14 +-
 tools/qfcc/source/method.c   |   26 +++-
 tools/qfcc/source/qc-parse.y |  295 +++++++++++++++++++++---------------------
 tools/qfcc/source/struct.c   |   25 +++-
 tools/qfcc/source/type.c     |   26 ++--
 10 files changed, 352 insertions(+), 209 deletions(-)

commit f2b8dc7
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 9 20:12:28 2002 +0000

    more progress

 tools/qfcc/include/function.h |    2 +
 tools/qfcc/include/method.h   |   11 ++++-
 tools/qfcc/include/type.h     |    6 +++
 tools/qfcc/source/expr.c      |   34 ++++++++-----
 tools/qfcc/source/function.c  |    8 +--
 tools/qfcc/source/method.c    |  110 +++++++++++++++++++++++++++++++++++------
 tools/qfcc/source/qc-parse.y  |    4 +-
 tools/qfcc/source/qfcc.c      |    5 +-
 tools/qfcc/source/type.c      |   82 ++++++++++++++++++++++++++++--
 9 files changed, 221 insertions(+), 41 deletions(-)

commit e4f740b
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Thu May 9 20:12:12 2002 +0000

    Buffers created for embedded commands are now marked with a special flag.
    This allows Cmd_Return_f to decide which buffer it should return a value
    to.  End result: you can put blocks of code with a return statement inside
    an embedded command statement.  I hope nobody minded me using my
    quakeforge.net account to code a bit :P

 include/QF/cmd.h |    1 +
 libs/util/cmd.c  |    4 +++-
 2 files changed, 4 insertions(+), 1 deletion(-)

commit 55e54bd
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 9 17:11:14 2002 +0000

    move the type and def externs to type.h

 tools/qfcc/include/qfcc.h  |   20 --------------------
 tools/qfcc/include/type.h  |   20 ++++++++++++++++++++
 tools/qfcc/source/emit.c   |    1 +
 tools/qfcc/source/pr_imm.c |    1 +
 tools/qfcc/source/qfcc.c   |    1 +
 tools/qfcc/source/switch.c |    1 +
 6 files changed, 24 insertions(+), 20 deletions(-)

commit f4fee3d
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 9 06:37:40 2002 +0000

    add id as a type

 tools/qfcc/source/qc-lex.l |    1 +
 1 file changed, 1 insertion(+)

commit 961d84e
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 9 06:34:48 2002 +0000

    clean up of qfcc.h and shuffle around the predefined types

 tools/qfcc/include/qfcc.h    |   57 +-----------------------
 tools/qfcc/include/type.h    |    1 +
 tools/qfcc/source/expr.c     |    2 +-
 tools/qfcc/source/function.c |    2 +-
 tools/qfcc/source/method.c   |   24 +++++++---
 tools/qfcc/source/pr_def.c   |   15 +------
 tools/qfcc/source/pr_lex.c   |   99 ------------------------------------------
 tools/qfcc/source/qc-parse.y |    5 +--
 tools/qfcc/source/type.c     |   75 +++++++++++++++++++++++++++++++-
 9 files changed, 101 insertions(+), 179 deletions(-)

commit 1b875c8
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 8 23:12:49 2002 +0000

    work on getting obj expressions going

 tools/qfcc/include/expr.h    |    6 +++
 tools/qfcc/include/method.h  |   11 +++++
 tools/qfcc/source/expr.c     |   37 +++++++++++++++
 tools/qfcc/source/method.c   |   25 ++++++++++
 tools/qfcc/source/qc-parse.y |  108 ++++++++++++++++++++++++++++++------------
 5 files changed, 158 insertions(+), 29 deletions(-)

commit 4074999
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Wed May 8 23:01:07 2002 +0000

    Numerous enhancement and fixes to GIB, including index ranges, fixed
    escape characters, and more.

 libs/util/cmd.c |  347 ++++++++++++++++++++++++++++++++-----------------------
 1 file changed, 202 insertions(+), 145 deletions(-)

commit 7f47447
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 8 21:24:24 2002 +0000

    getting closer to emiting ObjQC code

 tools/qfcc/include/class.h    |   60 +++++++++++++
 tools/qfcc/include/function.h |    3 +-
 tools/qfcc/include/method.h   |   57 ++++++++++++
 tools/qfcc/include/qfcc.h     |    2 +
 tools/qfcc/source/Makefile.am |    2 +-
 tools/qfcc/source/class.c     |   85 ++++++++++++++++++
 tools/qfcc/source/function.c  |    4 +-
 tools/qfcc/source/method.c    |   91 +++++++++++++++++++
 tools/qfcc/source/pr_lex.c    |    2 +
 tools/qfcc/source/qc-parse.y  |  192 +++++++++++++++++++++++++++++++++--------
 tools/qfcc/source/qfcc.c      |    4 +-
 tools/qfcc/source/type.c      |    2 +-
 12 files changed, 461 insertions(+), 43 deletions(-)

commit de86019
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 8 17:33:28 2002 +0000

    reverse the param order before building the function type and type check
    varargs functions with specified params.

 tools/qfcc/include/function.h |    2 ++
 tools/qfcc/source/expr.c      |   37 ++++++++++++--------
 tools/qfcc/source/function.c  |   77 +++++++++++++++++++++--------------------
 tools/qfcc/source/pr_lex.c    |    9 +++--
 tools/qfcc/source/qc-parse.y  |    3 +-
 tools/qfcc/source/type.c      |    8 +++--
 6 files changed, 79 insertions(+), 57 deletions(-)

commit b03bfa7
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 8 05:55:57 2002 +0000

    start working on the code generation for the Obj stuff

 tools/qfcc/source/qc-parse.y |  119 +++++++++++++++++++++---------------------
 1 file changed, 60 insertions(+), 59 deletions(-)

commit b226d24
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 8 05:15:19 2002 +0000

    rework the param parsing to make selectors easier to handle

 tools/qfcc/include/function.h |   51 ++++++++++
 tools/qfcc/include/qfcc.h     |    6 --
 tools/qfcc/source/Makefile.am |    2 +-
 tools/qfcc/source/expr.c      |    1 +
 tools/qfcc/source/function.c  |  204 ++++++++++++++++++++++++++++++++++++++
 tools/qfcc/source/pr_lex.c    |    3 +-
 tools/qfcc/source/qc-lex.l    |    2 +-
 tools/qfcc/source/qc-parse.y  |  217 +++++++----------------------------------
 tools/qfcc/source/type.c      |    1 +
 9 files changed, 293 insertions(+), 194 deletions(-)

commit d5b637a
Author: Bill Currie <bill@taniwha.org>
Date:   Tue May 7 16:55:54 2002 +0000

    first stab at implementing ObjC like features. The parser doesn't generate
    any code for the new features yet (I need to learn more about how objc
    /works/) but nothing seems to have been broken.

 tools/qfcc/source/qc-lex.l   |   26 ++++-
 tools/qfcc/source/qc-parse.y |  265 ++++++++++++++++++++++++++++++++++++------
 2 files changed, 255 insertions(+), 36 deletions(-)

commit 985caa2
Author: Bill Currie <bill@taniwha.org>
Date:   Tue May 7 04:32:28 2002 +0000

    put the framerate cap back in for now as it's vital for net play. we need to
    get network frames separated when not doing single player.

 nq/source/host.c |    7 +++++++
 1 file changed, 7 insertions(+)

commit cc0a428
Author: Bill Currie <bill@taniwha.org>
Date:   Tue May 7 03:47:01 2002 +0000

    traking pak command line changes...

 tools/zpak |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit c164aa4
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Mon May 6 16:36:07 2002 +0000

    Stomp out a warning.

 tools/pak/pak.c |    1 +
 1 file changed, 1 insertion(+)

commit 4ce4869
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Fri May 3 10:38:04 2002 +0000

    A better command-line interface for pak. NOTE: there has been a change in
    how pak gets the filename for the archive. Instead of requiring an -f
    argument, it now takes the first non-option argument as the filename. If
    this is a problem, it can be changed back.
    
    Also, a manual page.

 tools/pak/Makefile.am |    8 +-
 tools/pak/pak.1       |   79 ++++++++++++++++++++
 tools/pak/pak.c       |  198 +++++++++++++++++++++++++++++++++++++------------
 tools/pak/pak.h       |   55 ++++++++++++++
 4 files changed, 289 insertions(+), 51 deletions(-)

commit 74990f4
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Fri May 3 04:42:26 2002 +0000

    Testing it again. Closes: #35

 tools/Forge/main.m |    1 -
 1 file changed, 1 deletion(-)

commit 536418a
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Fri May 3 04:41:53 2002 +0000

    Testing my fix...

 tools/Forge/main.m |    1 +
 1 file changed, 1 insertion(+)

commit 527c1bc
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Fri May 3 04:31:32 2002 +0000

    testing. Closes: #35

 tools/Forge/main.m |    1 -
 1 file changed, 1 deletion(-)

commit 2e2d2e2
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Fri May 3 04:25:33 2002 +0000

    grr. Closes: #35

 tools/Forge/main.m |    1 +
 1 file changed, 1 insertion(+)

commit cd7f26e
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Fri May 3 04:14:28 2002 +0000

    grr. Closes: #35

 tools/Forge/main.m |    1 -
 1 file changed, 1 deletion(-)

commit 6214802
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Fri May 3 04:10:16 2002 +0000

    AGAIN. Closes: #35

 tools/Forge/main.m |    1 +
 1 file changed, 1 insertion(+)

commit 9e29959
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Fri May 3 04:07:06 2002 +0000

    again. Closes: Bug#35

 tools/Forge/main.m |    1 -
 1 file changed, 1 deletion(-)

commit a6231fd
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Fri May 3 04:06:19 2002 +0000

    one more time. Closes: Bug#35

 tools/Forge/main.m |    1 +
 1 file changed, 1 insertion(+)

commit 6481b04
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Fri May 3 04:00:53 2002 +0000

    boo. Closes: 35

 tools/Forge/main.m |    1 -
 1 file changed, 1 deletion(-)

commit 58dcd96
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Fri May 3 03:59:40 2002 +0000

    ?? (Closes: Bug#35)

 tools/Forge/main.m |    1 +
 1 file changed, 1 insertion(+)

commit c854369
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 3 03:56:06 2002 +0000

    blah blah blah

 tools/qfcc/TODO |    5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 4bacf36
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Fri May 3 03:49:44 2002 +0000

    grr. Closes: #35

 tools/Forge/main.m |    1 -
 1 file changed, 1 deletion(-)

commit 4423e6f
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Fri May 3 03:48:28 2002 +0000

    One more time... Closes: #35

 tools/Forge/main.m |    1 +
 1 file changed, 1 insertion(+)

commit a47997b
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Fri May 3 03:46:38 2002 +0000

    Okay, this'd better work. Closes: #35

 tools/Forge/main.m |    1 -
 1 file changed, 1 deletion(-)

commit 30f359f
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Fri May 3 03:39:49 2002 +0000

    testing AGAIN. Closes: Bug#35

 tools/Forge/main.m |    1 +
 1 file changed, 1 insertion(+)

commit 6d8cb67
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Fri May 3 03:33:54 2002 +0000

    testing again. Closes: Bug#35

 tools/Forge/main.m |    2 --
 1 file changed, 2 deletions(-)

commit caacd27
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Fri May 3 03:28:21 2002 +0000

    Testing again. Closes: #35

 tools/Forge/main.m |    2 ++
 1 file changed, 2 insertions(+)

commit 5a1a228
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Fri May 3 03:13:12 2002 +0000

    Doesn't do anything more, just looks a little prettier. Closes: #35

 tools/Forge/Forge.gorm |  Bin 1575 -> 3457 bytes
 1 file changed, 0 insertions(+), 0 deletions(-)

commit 54fb180
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 2 05:03:57 2002 +0000

    expr.h:
    	__attribute__((const)) has rather nasty results when it's not true
    expr.c:
    	fix up some mis-timed ex_error checks

 tools/qfcc/include/expr.h |    4 ++--
 tools/qfcc/source/expr.c  |   22 +++++++++-------------
 2 files changed, 11 insertions(+), 15 deletions(-)

commit 05788e5
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 1 22:08:59 2002 +0000

    don't generate useless expression warnings when that expression was caused
    by an error

 tools/qfcc/include/expr.h |    1 +
 tools/qfcc/source/emit.c  |    3 ++
 tools/qfcc/source/expr.c  |   77 +++++++++++++++++++++++++++++++++++++++++----
 3 files changed, 75 insertions(+), 6 deletions(-)

commit a9f3814
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 1 21:48:23 2002 +0000

    forgot to remove scope.h

 tools/qfcc/include/Makefile.am |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 067359b
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 1 21:42:29 2002 +0000

    d'oh, missed a ;

 tools/qfcc/source/qc-parse.y |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 962dc8e
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 1 21:35:39 2002 +0000

    rewrite the type and def parsing to allow more flexible types

 tools/qfcc/include/qfcc.h    |    5 +
 tools/qfcc/include/scope.h   |   41 ------
 tools/qfcc/source/emit.c     |    1 -
 tools/qfcc/source/expr.c     |    1 -
 tools/qfcc/source/qc-lex.l   |   10 +-
 tools/qfcc/source/qc-parse.y |  312 ++++++++++++++++++++----------------------
 tools/qfcc/source/switch.c   |    1 -
 7 files changed, 159 insertions(+), 212 deletions(-)

commit 4725a44
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 1 21:33:59 2002 +0000

    print out field types correctly

 tools/qfcc/source/type.c |    5 +++++
 1 file changed, 5 insertions(+)

commit b871c67
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Wed May 1 20:26:47 2002 +0000

    test commit.

 tools/Forge/Forge.classes |  293 +++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 293 insertions(+)

commit 594d81b
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 1 20:12:48 2002 +0000

    add dstring.h to include_HEADERS

 include/QF/Makefile.am |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 2eecffd
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Wed May 1 05:10:55 2002 +0000

    Changed the zoom script to be mathematically correct.  The simplest solution
    is often the correct one.

 doc/config/zoom.rc |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 44f9700
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Apr 30 16:37:11 2002 +0000

    two spelling correctsions are remove a redundant VectorCopy

 libs/video/renderer/gl/gl_sky_clip.c |    5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

commit 93febb9
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Apr 30 04:39:03 2002 +0000

    search for .gz first

 libs/util/quakefs.c |   29 ++++++++++++++++++++---------
 1 file changed, 20 insertions(+), 9 deletions(-)

commit 942b3c2
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Mon Apr 29 22:03:33 2002 +0000

    Floating point value of fov is now used.

 libs/video/renderer/sw32/screen.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 08f1235
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Apr 29 19:19:26 2002 +0000

    this /should/ fix CoolMoDee's autoconf 2.53 issues

 configure.ac                    |   16 ++++++++++------
 libs/audio/cd/Makefile.am       |   14 ++++++++------
 libs/audio/renderer/Makefile.am |    2 ++
 libs/audio/targets/Makefile.am  |   18 ++++++++++--------
 libs/console/Makefile.am        |   15 +++++++++------
 5 files changed, 39 insertions(+), 26 deletions(-)

commit a1fef28
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Apr 29 17:21:52 2002 +0000

    fix the sw32 fov caps so it maches sw and gl

 libs/video/renderer/sw32/screen.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 6c0b62d
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Mon Apr 29 01:41:07 2002 +0000

    Added my zoom script to CVS :P

 doc/config/zoom.rc |   96 ++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 96 insertions(+)

commit 6017367
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Mon Apr 29 01:04:29 2002 +0000

    Fixed the use of double quotes in chat messages and removed single quotes
    as an option to enclose tokens.

 include/QF/cmd.h      |    3 ++
 libs/console/client.c |   20 ++++++++----
 libs/util/cmd.c       |   85 +++++++++++++------------------------------------
 3 files changed, 40 insertions(+), 68 deletions(-)

commit 2711cbb
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Sun Apr 28 09:03:50 2002 +0000

    Don't restore gamma if it's never been initialized. :)

 libs/video/targets/context_x11.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ff901a3
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Sun Apr 28 08:30:54 2002 +0000

    Added argument-list functions to EXP with trig and inverse trig functions
    to start.  More will follow.  Switched to doubles from floats and allowed
    numbers with exponents to be parsed properly.  Also changed the number of
    significant digits printed to 10.  Changed fov so it is now capped at 1,
    not 10.  The float value of fov is now used instead of int, so more
    precision can be attained at small values.

 include/QF/exp.h                   |   42 +++++---
 include/QF/ops.h                   |   35 ++++---
 libs/util/cmd.c                    |    9 +-
 libs/util/exp.c                    |  204 ++++++++++++++++++++++++++++++------
 libs/util/ops.c                    |   59 ++++++++---
 libs/video/renderer/gl/gl_screen.c |    4 +-
 libs/video/renderer/sw/screen.c    |    4 +-
 7 files changed, 276 insertions(+), 81 deletions(-)

commit b93f37f
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Apr 27 04:08:30 2002 +0000

    a nother tiny optimisation: no nead to recalculate non-player beams every
    frame

 qw/source/cl_tent.c |  106 ++++++++++++++++++++++++++++++---------------------
 1 file changed, 62 insertions(+), 44 deletions(-)

commit 8a8e62f
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Apr 27 03:22:09 2002 +0000

    turns out that beams coming from the player entity get their start position
    updated which can cause the beam to shrink which can cause lightning ents
    to get stranded.

 qw/source/cl_tent.c |   26 ++++++++++++++------------
 1 file changed, 14 insertions(+), 12 deletions(-)

commit 98fea9f
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Apr 27 02:51:00 2002 +0000

    remove some debug code and fix some missing ;s

 tools/qfcc/source/qc-parse.y |    6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit a59e509
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Apr 27 00:25:40 2002 +0000

    Multi_key (K_COMPOSE) and Menu (K_MENU) are now supported

 libs/video/targets/in_x11.c |    8 ++++++++
 1 file changed, 8 insertions(+)

commit a5dc496
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Apr 27 00:07:47 2002 +0000

    support the printscr key in X

 libs/video/targets/in_x11.c |    4 ++++
 1 file changed, 4 insertions(+)

commit fc6fb80
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Apr 26 22:23:28 2002 +0000

    support all but \b, \< and \> of qccx' character escapes.

 tools/qfcc/source/qc-lex.l |   40 ++++++++++++++++++++++++++++++++++++++++
 1 file changed, 40 insertions(+)

commit 7121891
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Fri Apr 26 22:09:28 2002 +0000

    Fixed Cmd_If_f so that embedded commands work again.

 include/QF/cmd.h |    1 +
 libs/util/cmd.c  |   14 ++++++++++----
 2 files changed, 11 insertions(+), 4 deletions(-)

commit 1f468e2
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Apr 26 21:49:35 2002 +0000

    fix a silly parse snafu

 tools/qfcc/source/qc-parse.y |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit aa006ec
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Apr 26 21:42:50 2002 +0000

    qfcc now supports implicit string constant concatentation.

 tools/qfcc/source/qc-parse.y |   24 ++++++++++++++++++++----
 1 file changed, 20 insertions(+), 4 deletions(-)

commit 4f7245d
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Apr 26 21:28:06 2002 +0000

    allow type (parm, parm, ...) to compile (the parms aren't type checked yet)

 tools/qfcc/source/qc-parse.y |   14 +++++++++++---
 1 file changed, 11 insertions(+), 3 deletions(-)

commit 411ade4
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Fri Apr 26 20:25:01 2002 +0000

    Fix gamma again. Also some minor whitespace and slight code cleanup.

 libs/video/targets/context_x11.c |  145 +++++++++++++++++++++-----------------
 1 file changed, 79 insertions(+), 66 deletions(-)

commit ac73653
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Apr 26 18:55:37 2002 +0000

    XPutImage returns 0 for success, not error

 libs/video/targets/vid_x11.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 7afea40
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Apr 26 18:03:16 2002 +0000

    alpha gcc doesn't like -malign-*

 configure.ac |   25 ++++++++++++++++++-------
 1 file changed, 18 insertions(+), 7 deletions(-)

commit 9399b35
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Apr 26 17:15:00 2002 +0000

    alpha compile fix

 libs/util/cmd.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a1c6547
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Apr 26 16:05:24 2002 +0000

    when comparing addresses, it helps if the /whole/ address is compared :P

 qw/source/net_udp6.c |    6 ++----
 1 file changed, 2 insertions(+), 4 deletions(-)

commit 89f7604
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Apr 25 21:54:07 2002 +0000

    VID_GetGamma neither compiles nor is needed :)

 libs/video/targets/vid_glx.c |    6 ------
 libs/video/targets/vid_x11.c |    6 ------
 2 files changed, 12 deletions(-)

commit 54ed05e
Author: Chris Ison <cisos@bigpond.net.au>
Date:   Thu Apr 25 21:51:47 2002 +0000

    changed sig handling to allow for core dumps etc, like x11 and glx

 libs/video/targets/vid_3dfxsvga.c |   38 ++++++++++++++++++++++++++++++++++++-
 1 file changed, 37 insertions(+), 1 deletion(-)

commit b75d50d
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Thu Apr 25 20:53:15 2002 +0000

    X11 gamma restoration now works properly for systems with a normal gamma that
    uses all three components (red, green, blue).
    
    Next up: three-component internal gamma.

 include/context_x11.h            |    4 ++--
 libs/video/targets/context_x11.c |   41 ++++++++++++++++++++++++++++----------
 2 files changed, 33 insertions(+), 12 deletions(-)

commit c877ba7
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Thu Apr 25 20:28:15 2002 +0000

    System gamma is now restored properly in X11.

 libs/video/targets/context_x11.c |   12 +++++++-----
 1 file changed, 7 insertions(+), 5 deletions(-)

commit 45e98d8
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Apr 25 20:08:18 2002 +0000

    redo the cvar vector reading code to produce more useful results

 libs/util/cvar.c |    8 +++++++-
 1 file changed, 7 insertions(+), 1 deletion(-)

commit ce1c2e0
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Apr 25 19:39:26 2002 +0000

    sort the sources list

 libs/util/Makefile.am |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 7ca3ea2
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Apr 25 19:38:15 2002 +0000

    got a little too agressive with that optimisation :P (I'm surprised it worked
    at all)

 qw/source/cl_main.c |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 0deb11e
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Apr 25 19:04:25 2002 +0000

    this might fix the lightning bug (produces better code anyway)

 qw/source/cl_tent.c |   19 +++++++++++++------
 1 file changed, 13 insertions(+), 6 deletions(-)

commit 4223aaa
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Apr 25 17:16:40 2002 +0000

    a couple of very minor optimisations

 qw/source/cl_main.c |   11 +++++++----
 1 file changed, 7 insertions(+), 4 deletions(-)

commit b2579dc
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Thu Apr 25 16:50:56 2002 +0000

    WOOHOO! The hardcoded framerate cap is gone! cl_maxfps 0 now allows an
    unbounded frame rate (you can still set it to clamp your fps to, for example,
    your monitor's refresh rate), and cl_maxnetfps 0 is now based on your network
    rate.
    
    The NetQuake-compatible targets now also have an unbounded framerate. This is
    OK, because the built-in server uses its own tick rate.

 nq/source/host.c     |   15 ++-------------
 qw/include/client.h  |    2 ++
 qw/source/cl_input.c |   43 ++++++++++++++++++++-----------------------
 qw/source/cl_main.c  |    4 ++--
 4 files changed, 26 insertions(+), 38 deletions(-)

commit 7c134a6
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Thu Apr 25 14:34:15 2002 +0000

    Fix up the watervis stuff. Whoops! :)

 libs/video/renderer/r_cvar.c |    4 ++--
 nq/source/cl_screen.c        |    5 ++++-
 nq/source/host.c             |    2 --
 qw/source/cl_main.c          |    8 --------
 qw/source/cl_screen.c        |   10 ++++++++++
 qw/source/sv_main.c          |    2 +-
 6 files changed, 17 insertions(+), 14 deletions(-)

commit 13071a2
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Thu Apr 25 12:53:42 2002 +0000

    Clear up some comments.

 qw/source/sv_pr_cmds.c |    8 ++++++--
 1 file changed, 6 insertions(+), 2 deletions(-)

commit 6126eee
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Thu Apr 25 12:52:11 2002 +0000

    Clarify the meaning of the watervis serverinfo/Cvar in the server help

 qw/source/sv_main.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 5b069de
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Thu Apr 25 12:51:04 2002 +0000

    Redo r_wateralpha so that it doesn't force its value based on the watervis
    serverinfo. Instead, create a new cl_wateralpha float variable that is set to
    r_wateralpha->value in Host_Frame, and use that float during rendering.

 include/r_local.h                 |    3 ++-
 libs/video/renderer/gl/gl_rsurf.c |   12 ++++++------
 libs/video/renderer/r_cvar.c      |    1 +
 nq/source/host.c                  |    2 ++
 qw/source/cl_main.c               |    8 ++++++--
 5 files changed, 17 insertions(+), 9 deletions(-)

commit cd6217b
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Apr 25 04:51:04 2002 +0000

    bah, __builtin_expect is new in gcc 3

 include/QF/gcc_attr.h |    4 ++++
 1 file changed, 4 insertions(+)

commit da994c1
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Apr 25 04:32:55 2002 +0000

    rewrite R_SplitEntityOnNode to be itterative rather than recursive (using
    a static `stack') to avoid the function call overhead. this cuts about 40%
    of the execution time from this function.
    
    No matter what I tried, best results were obtained using __builtin_expect,
    so make sure non-gcc compilers do the right thing when they encounter it.

 include/QF/gcc_attr.h         |    1 +
 libs/video/renderer/r_efrag.c |  105 ++++++++++++++++++++++-------------------
 2 files changed, 58 insertions(+), 48 deletions(-)

commit 2b2c040
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Apr 25 04:30:03 2002 +0000

    stuff player, beam and explosion entities into the map (rather than
    building the render entity lists directly) so they get vis-clipped. The
    benefits of this to newer gl cards/drivers or sw is negligable, but is a
    pretty serious boost for the voodoo2 (~24%).

 qw/source/cl_ents.c |   12 ++++----
 qw/source/cl_tent.c |   83 +++++++++++++++++++++++++++------------------------
 2 files changed, 50 insertions(+), 45 deletions(-)

commit bf323c3
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Wed Apr 24 22:33:04 2002 +0000

    Cleaned up Cmd_Args.  It is no longer uselessly built up in
    Cmd_TokenizeString since I realized the code was just pulling it apart and
    putting it back together.  Added Cmd_Argsu to access the unprocessed
    command.  Added support for else following if in such a way that
    if/else if/else structures work.  Added support for unary operators in
    EXP and added the ! (not) operator.  The ifnot command will be kept
    for variety.

 include/QF/cmd.h |    1 +
 include/QF/exp.h |    1 +
 include/QF/ops.h |    1 +
 libs/util/cmd.c  |   52 +++++++++++++++++++-------
 libs/util/exp.c  |  108 ++++++++++++++++++++++++++++++++++--------------------
 libs/util/ops.c  |    5 +++
 6 files changed, 115 insertions(+), 53 deletions(-)

commit e4975cd
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Apr 23 17:23:18 2002 +0000

    very minor load-time optimisation

 libs/models/brush/gl_model_brush.c |    6 +-----
 1 file changed, 1 insertion(+), 5 deletions(-)

commit 7f295d6
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Tue Apr 23 07:47:24 2002 +0000

    Added the getserverinfo command to return the value of a server info key
    to GIB.  Fixed a bug in dstring_replace that was causing too much data to
    be copied when the incoming string was larger than what was being replaced.
    Very minor reorganization in cmd.c (1 function moved around I think).
    cmd.c should probably get broken up into separate files soon.

 include/QF/cmd.h    |    2 ++
 libs/util/cmd.c     |   33 +++++++++++++++++++--------------
 libs/util/dstring.c |    5 +++--
 qw/source/cl_main.c |   12 ++++++++++++
 4 files changed, 36 insertions(+), 16 deletions(-)

commit 349fbf7
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Mon Apr 22 04:23:36 2002 +0000

    Fixed a bug with escaped braces and quotes and added the strlen and streq
    commands to GIB.

 libs/util/cmd.c |   34 +++++++++++++++++++++++++++++-----
 1 file changed, 29 insertions(+), 5 deletions(-)

commit 44a905e
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Apr 20 03:22:14 2002 +0000

    forgot to delete the (commented out) calls to Cmd_Process

 qw/source/sv_main.c |    1 -
 qw/source/sv_user.c |    1 -
 2 files changed, 2 deletions(-)

commit 4ccc9d6
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Apr 19 22:54:27 2002 +0000

    dstring.c dstring.h:
    	add dstring_replace. this replaces a string of lenth rlen at position
    	pos with data of lenth len, growing, shrinking and shuffling data as
    	appropriate. At this rate, the dstring `class' will get buffer gap
    	editing capabilities :)
    cmd.c:
    	Cmd_TokenizeString builds cmd_active_buffer->line again.
    	Cmd_Process bails out instantly if cmd_active_buffer is a legacy buffer
    	and uses dstring_replace to modify the parameters in
    	cmd_active_buffer->line. This last change results in drastic
    	simplification (and accuracy) of the commandline reconstruction code,
    	both in Cmd_TokenizeString and Cmd_Process.

 include/QF/dstring.h |    2 ++
 libs/util/cmd.c      |   51 +++++++++++++++++++++++++++-----------------------
 libs/util/dstring.c  |   18 ++++++++++++++++++
 qw/source/sv_main.c  |    2 +-
 qw/source/sv_user.c  |    2 +-
 5 files changed, 50 insertions(+), 25 deletions(-)

commit 1ff8c71
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Apr 19 21:18:25 2002 +0000

    currently, Cmd_Process needs to be called after Cmd_TokenizeString, even
    for legacy buffers. I'm not terribly happy with this, but it fixes the
    broken "say" problem.

 qw/source/sv_main.c |    1 +
 qw/source/sv_user.c |    1 +
 2 files changed, 2 insertions(+)

commit ef81af9
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Apr 19 20:08:54 2002 +0000

    the "two birds with one stone" commit
    
    1) when /not/ building static plugins, the plugin info name is, once again,
       PluginInfo, but is still type_name_PluginInfo for static plugins. This
       allows plugins to be symlinked (highly desirable for the debian packages,
       and likely others). This also requires plugins to /not/ be loaded with
       RTLD_GLOBAL.
    2) because of 1, snd_alsa_0_9 has to explicitly load libasound itself. This
       just happens to fix my segfault on shutdown in RedHat 6.2.

 configure.ac                      |    1 +
 include/QF/plugin.h               |    6 ++
 include/alsa_funcs_list.h         |   64 +++++++++++++++++
 libs/audio/cd/cd_linux.c          |    2 +-
 libs/audio/cd/cd_null.c           |    2 +-
 libs/audio/cd/cd_sdl.c            |    2 +-
 libs/audio/cd/cd_sgi.c            |    2 +-
 libs/audio/cd/cd_win.c            |    2 +-
 libs/audio/cd/cd_xmms.c           |    2 +-
 libs/audio/renderer/snd_dma.c     |    2 +-
 libs/audio/renderer/snd_null.c    |    6 +-
 libs/audio/targets/Makefile.am    |    2 +-
 libs/audio/targets/snd_alsa_0_5.c |    2 +-
 libs/audio/targets/snd_alsa_0_9.c |  120 +++++++++++++++++++------------
 libs/audio/targets/snd_disk.c     |    2 +-
 libs/audio/targets/snd_null.c     |    6 +-
 libs/audio/targets/snd_oss.c      |    2 +-
 libs/audio/targets/snd_sdl.c      |    2 +-
 libs/audio/targets/snd_sgi.c      |    2 +-
 libs/audio/targets/snd_sun.c      |    2 +-
 libs/audio/targets/snd_win.c      |    2 +-
 libs/console/client.c             |    2 +-
 libs/console/server.c             |    2 +-
 libs/util/plugin.c                |  140 ++++++++++++++++++++++++-------------
 24 files changed, 266 insertions(+), 111 deletions(-)

commit 97029c0
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Apr 19 17:58:52 2002 +0000

    rearrange the svc_stufftext code so stuffbuff doesn't even get allocated if
    it's not needed. This should speed things up fractionally for well behaved
    mods/servers that send atomic svc_stufftext packets (ie, always ending in
    \n).

 qw/source/cl_parse.c |   21 ++++++++++++++-------
 1 file changed, 14 insertions(+), 7 deletions(-)

commit ea3c2f0
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Fri Apr 19 06:26:08 2002 +0000

    Changed stufftext behavior so that commands are built up until a \n is
    found at the end of the string.  This works around a stupidity in some
    servers where stufftext commands are sent in pieces and might not reach
    the client before execution occurs, resulting in parse errors.

 qw/source/cl_parse.c |   12 ++++++++++--
 1 file changed, 10 insertions(+), 2 deletions(-)

commit e34ab55
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Apr 17 21:15:19 2002 +0000

    munmap the sound buffer when closing the device. This might help with some
    hangs on shutdown.

 libs/audio/targets/snd_oss.c |   18 ++++++++++++++++++
 1 file changed, 18 insertions(+)

commit 4cb89c6
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Wed Apr 17 07:05:43 2002 +0000

    Moved commands from bound keys into a separate buffer, changed the syntax
    of for loops to be like that of C, changed math expressions to be
    enclosed in #{} instead of #().

 libs/console/client.c     |    2 +-
 libs/util/cmd.c           |   61 ++++++++++++++++++++++++---------------------
 libs/video/targets/keys.c |    6 ++---
 3 files changed, 37 insertions(+), 32 deletions(-)

commit e677b4a
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Apr 17 06:33:48 2002 +0000

    correct some cut&paste errors pointed out by Jaq

 configure.ac |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit fafb014
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Wed Apr 17 01:15:10 2002 +0000

    Oops.  Fixed a stupid bug that broke having more than one embedded command
    in a token.

 libs/util/cmd.c |    5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

commit cb79de3
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Tue Apr 16 23:56:21 2002 +0000

    Completely redid the way embedded functions are subroutines in general are
    handled, meaning that execution can be paused at any time without a hitch.
    Warning: This is a major change to the architecture (or lack thereof) of
    GIB.  Please test for bugs!  Also, there are a few ugly bits of code that
    need to be cleaned up, but that work for now.

 include/QF/cmd.h |   33 +++++-
 libs/util/cmd.c  |  294 +++++++++++++++++++++++++++++++++---------------------
 2 files changed, 206 insertions(+), 121 deletions(-)

commit d4cc899
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Apr 16 17:18:28 2002 +0000

    even id has that blasted bug :/

 qw/source/sv_progs.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 27f53fd
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Apr 16 17:03:27 2002 +0000

    link nq-sdl32 against the correct renderer (I'm surprised it worked at all)
    this fixes the inverted lightmaps (bug #27) and the borked bit depth
    settings.

 nq/source/Makefile.am |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit a4f3973
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Tue Apr 16 16:51:35 2002 +0000

    Add multitexture support for Alias models, and disable the multitexture
    support for BSP models, until they can be fixed. gl_multitexture should now
    actually be a speedup!
    
    NOTE: Some OpenGL implementations have trouble with the texture function
    used. 3Dfx Voodoo 1/2 are known to have this trouble. I don't know how to fix
    this, or even if it can be fixed. :/

 include/QF/GL/qf_vid.h                |    1 +
 libs/video/renderer/gl/gl_mod_alias.c |   73 +++++++++++++++++++++++++++++----
 libs/video/renderer/gl/gl_rsurf.c     |   18 ++++++++
 libs/video/targets/vid_common_gl.c    |    9 ++--
 4 files changed, 89 insertions(+), 12 deletions(-)

commit 3a76cf4
Author: Robin Redeker <elmex@ta-sa.org>
Date:   Tue Apr 16 13:37:36 2002 +0000

    Added automatic binding removal, if a 3rd key is being bind.

 cs-code/controls_o.qc |   10 +++++++---
 1 file changed, 7 insertions(+), 3 deletions(-)

commit a274525
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Tue Apr 16 08:07:40 2002 +0000

    Updated the Debian packages. They seem to work on my machine.

 debian/changelog                 |   18 ++++++++++++++++++
 debian/control                   |   15 ++++++++++++++-
 debian/quakeforge-alsa.postinst  |    7 +++++++
 debian/quakeforge-alsa.prerm     |    7 +++++++
 debian/quakeforge-common.shlibs  |    9 +++++++++
 debian/quakeforge-libs-gl.shlibs |    2 ++
 debian/quakeforge-libs-sw.shlibs |    2 ++
 debian/quakeforge-oss.postinst   |    7 +++++++
 debian/quakeforge-oss.prerm      |    7 +++++++
 debian/rules                     |   24 +++++++++++++++++++++---
 10 files changed, 94 insertions(+), 4 deletions(-)

commit 313c82e
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Apr 15 22:24:47 2002 +0000

    use dstring_new instead of dstring_newstr to avoid allocating memory that's
    only going to be reallocated immediatly anyway.

 tools/qfcc/source/qfcc.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 55a5c39
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Apr 15 22:17:02 2002 +0000

    Turns out that on PPC, va_list is an array (effectivly typedef struct
    __va_list_tag va_list[1];) which causes grief when attempting to reuse
    va_list variables (eg, in vsnprintf retry loops). This is the reason for
    MisterP's crashes as the pointers in va_list no longer point to valid data.
    
    acinclude.m4:
    	shamelessly steal the va_list, va_copy and __va_copy macros from
    	cdda2wav but modified so AC_DEFINE includes the description (so
    	acconfig.h can remain gone)
    configure.ac:
    	use AC_TYPE_VA_LIST, AC_FUNC_VA_COPY and AC_FUNC_VA__COPY
    dstring.c:
    	stash the incoming va_list args in a temp var before calling vsnprintf
    	then restore them each time before retrying, but only if va_list is an
    	array (hopefully this is ok for when va_list is a structure)

 acinclude.m4        |   61 +++++++++++++++++++++++++++++++++++++++++++++++++++
 configure.ac        |    4 ++++
 libs/util/dstring.c |   16 ++++++++++++++
 3 files changed, 81 insertions(+)

commit ed0342e
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Apr 15 19:06:25 2002 +0000

    clean up the mess of {send,recv}msg vs {sendto,recvfrom}

 qw/source/master.c |  160 +++++++++++++++++++++++++++-------------------------
 1 file changed, 82 insertions(+), 78 deletions(-)

commit 4ac2fc0
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Apr 15 18:13:17 2002 +0000

    add the -b dotted.quad option so qw-master can bind to a specific address.
    Useful on multi-homed machines where either you want qw-master to listen on
    only one address or your operating system is lame.
    
    While (currently) ugly, compiles for win32 again.

 qw/source/master.c |   82 ++++++++++++++++++++++++++++++++++++++++++----------
 1 file changed, 67 insertions(+), 15 deletions(-)

commit d89adf0
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Apr 15 14:51:15 2002 +0000

    ignore gzipped files

 cs-code/.gitignore |    1 +
 1 file changed, 1 insertion(+)

commit 9fa9f6a
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Apr 15 14:35:10 2002 +0000

    need to explicitly include sys/uio.h on older libc

 configure.ac       |    4 ++--
 qw/source/master.c |    3 +++
 2 files changed, 5 insertions(+), 2 deletions(-)

commit 347cdc5
Author: Chris Ison <cisos@bigpond.net.au>
Date:   Mon Apr 15 03:26:08 2002 +0000

    some small performance optimizations with textures and animations

 libs/video/renderer/gl/gl_mod_alias.c |    3 +--
 libs/video/renderer/gl/gl_rmain.c     |   13 ++++++++++-
 libs/video/renderer/gl/gl_rsurf.c     |   40 +++++++++++++++++++++++----------
 3 files changed, 41 insertions(+), 15 deletions(-)

commit 49deaf2
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Apr 14 22:52:52 2002 +0000

    that wasn't meant to get checked in. it came from an aborted change to
    how commands get register.

 libs/util/cmd.c |    1 -
 1 file changed, 1 deletion(-)

commit c3da90f
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Sun Apr 14 22:35:56 2002 +0000

    You can now assign to local variables with var = value.  You can also
    index into variables in either substitution (i.e. $bob[25]) or assignment
    (i.e. bob[25] = 'q') When using assignment into an index of a var, the
    current character is removed and replace with the new value.  That means
    that if the new value is longer than one character, the string will grow.
    A feature that may be done in the future is indexing between two values
    to get a substring, ie bob[25..30] = newstr.

 libs/util/cmd.c |  229 ++++++++++++++++++++++++++++++++++---------------------
 1 file changed, 142 insertions(+), 87 deletions(-)

commit 599e0f4
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Apr 14 03:44:16 2002 +0000

    make sure reply packets go out the same interface they cam in on.
    This breaks win32 builds :/

 qw/source/master.c |   55 +++++++++++++++++++++++++++++++++-------------------
 1 file changed, 35 insertions(+), 20 deletions(-)

commit 403af77
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Apr 14 01:25:24 2002 +0000

    give qc access to Cmd_Return

 cs-code/cmd_def.qc              |    1 +
 libs/gamecode/builtins/bi_cmd.c |    7 +++++++
 2 files changed, 8 insertions(+)

commit 503dab1
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Sun Apr 14 01:12:19 2002 +0000

    The tokenizer will now not break tokens appart within quotes or braces.
    This means things like echo ~{somefunc arg1 arg2} will get parsed properly
    without having to enclose it in quotes.  Exported the Cmd_Return function
    so that anything can return values to GIB (such as quakec).

 include/QF/cmd.h |    3 +++
 libs/util/cmd.c  |   69 +++++++++++++++++++++++++++++++++++++++++++++++-------
 2 files changed, 63 insertions(+), 9 deletions(-)

commit 2e69aa7
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Apr 13 19:52:24 2002 +0000

    need to use $CC instead of raw gcc when testing the version

 configure.ac |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit b4c8546
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Apr 13 04:56:00 2002 +0000

    add the keyhelp command. think xev

 libs/video/targets/keys.c |   22 ++++++++++++++++++++--
 1 file changed, 20 insertions(+), 2 deletions(-)

commit 97bc11a
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Apr 12 19:02:06 2002 +0000

    Closes: #26
    include Xlib.h when checking for xf86vmode.h and xf86dga.h

 configure.ac |   12 ++++++++----
 1 file changed, 8 insertions(+), 4 deletions(-)

commit c310cd2
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Apr 12 17:54:12 2002 +0000

    correct some email addresses

 qw/source/cl_ents.c |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 8220ddd
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Apr 12 17:19:49 2002 +0000

    and the command api to csqc and use it to bind menu_load and menu_save. F2
    and F3 now work in nq :)

 cs-code/Makefile.am                |    2 +-
 cs-code/cmd_def.qc                 |    5 ++
 cs-code/menu.qc                    |   12 ++-
 cs-code/menu.src.in                |    3 +-
 include/QF/cmd.h                   |    3 +-
 include/QF/csqc.h                  |    5 +-
 libs/console/menu.c                |    7 +-
 libs/gamecode/builtins/Makefile.am |    4 +-
 libs/gamecode/builtins/bi_cmd.c    |  171 ++++++++++++++++++++++++++++++++++++
 libs/gamecode/builtins/bi_init.c   |   15 ++--
 libs/util/cmd.c                    |   25 +++++-
 11 files changed, 232 insertions(+), 20 deletions(-)

commit a974eb2
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Apr 11 18:42:55 2002 +0000

    move buildnum.c to util and make nq and qw init more similar

 libs/util/Makefile.am     |    4 +--
 libs/util/buildnum.c      |   79 +++++++++++++++++++++++++++++++++++++++++++++
 libs/video/targets/keys.c |   20 ++++++++++--
 nq/source/host.c          |   13 ++++----
 qw/source/Makefile.am     |    3 +-
 qw/source/buildnum.c      |   79 ---------------------------------------------
 qw/source/cl_main.c       |   15 ++++-----
 7 files changed, 111 insertions(+), 102 deletions(-)

commit 0d52518
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Apr 10 21:03:02 2002 +0000

    fix some problems with error printing, especially when using the curses
    console

 qw/source/sv_main.c  |   17 ++++++++++++-----
 qw/source/sv_progs.c |    2 +-
 2 files changed, 13 insertions(+), 6 deletions(-)

commit 03ab757
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Apr 10 19:52:48 2002 +0000

    -p N or --strip-path N will strip up to N leading path elements for a
    source file's path.

 cs-code/Makefile.am        |    3 ++-
 tools/qfcc/include/qfcc.h  |    3 +++
 tools/qfcc/source/qc-lex.l |    2 +-
 tools/qfcc/source/qfcc.c   |   24 +++++++++++++++++++++++-
 4 files changed, 29 insertions(+), 3 deletions(-)

commit 32dfbd8
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Apr 10 19:12:45 2002 +0000

    oops, forgot to remove that 9: gzip -6 is better than -9 for quake data for
    some reason

 cs-code/Makefile.am |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 0a62c26
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Apr 10 19:11:19 2002 +0000

    compress progs files (and symbol tables) when zlib is available

 configure.ac        |    1 +
 cs-code/Makefile.am |   19 +++++++++++++++----
 2 files changed, 16 insertions(+), 4 deletions(-)

commit ba1da79
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Apr 10 18:22:46 2002 +0000

    add --with-arch to give more control over which architecture gcc compiles
    for. this is espeically useful when (eg) config.guess provies the arch as
    i686 but a i586 is more correct.

 configure.ac |   31 +++++++++++++++++++++++--------
 1 file changed, 23 insertions(+), 8 deletions(-)

commit d2954ce
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Apr 10 17:56:00 2002 +0000

    explicitly require bison and flex

 configure.ac |   10 ++++++++++
 1 file changed, 10 insertions(+)

commit ba9ad15
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Apr 10 06:56:25 2002 +0000

    it he's if I understand that Draw_CachePic puts the pic into the cache...

 cs-code/Makefile.am           |    2 +-
 cs-code/menu.qc               |    4 +--
 cs-code/menu_pics.qc          |   36 ---------------------
 cs-code/menu_util.qc          |   33 ++++++++++++-------
 cs-code/options.qc            |   24 +++++++-------
 cs-code/servlist.qc           |   12 +++----
 libs/video/renderer/r_progs.c |   72 ++++++++++++++++++++++++++++++++++++-----
 7 files changed, 107 insertions(+), 76 deletions(-)

commit e42c912
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Apr 10 05:08:00 2002 +0000

    remove some debug prints

 cs-code/menu_pics.qc |    4 +---
 1 file changed, 1 insertion(+), 3 deletions(-)

commit 0855e01
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Apr 10 01:38:21 2002 +0000

    d'oh, bloody gcc 2.95 builtin prototypes

 libs/video/renderer/r_progs.c |    6 ++++++
 1 file changed, 6 insertions(+)

commit 06cc748
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Apr 9 21:39:15 2002 +0000

    oops, forgot this

 cs-code/menu_pics.qc |   51 ++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 51 insertions(+)

commit 15e17ac
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Apr 9 21:38:41 2002 +0000

    the draw api now uses a `real' qpic_t rather than loading the pic every time

 cs-code/Makefile.am           |    2 +-
 cs-code/draw_def.qc           |   13 ++++++++++--
 cs-code/menu.qc               |    6 ++++--
 cs-code/menu.src.in           |    2 ++
 cs-code/menu_util.qc          |   31 ++++++++++-----------------
 cs-code/options.qc            |   24 ++++++++++-----------
 cs-code/servlist.qc           |   12 +++++------
 libs/video/renderer/r_progs.c |   46 +++++++++++++++++++++++++++++++----------
 8 files changed, 82 insertions(+), 54 deletions(-)

commit c71ce48
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Apr 9 21:37:46 2002 +0000

    fix a seg when trying to print a null type

 tools/qfcc/source/type.c |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 76d004f
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Apr 9 17:00:39 2002 +0000

    fix confim_quit

 libs/console/menu.c |    8 +++++++-
 qw/source/cl_main.c |    8 --------
 2 files changed, 7 insertions(+), 9 deletions(-)

commit 47a94ed
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Apr 9 16:21:27 2002 +0000

    clear out the string hash resources completely

 libs/gamecode/builtins/bi_strhash.c |    3 +++
 1 file changed, 3 insertions(+)

commit 8588d2d
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Apr 9 16:06:05 2002 +0000

    fix a silly braino in the resources code that was causing the resource
    structs to not get linked into the chain

 libs/gamecode/builtins/bi_inputline.c |    3 +++
 libs/gamecode/engine/pr_resource.c    |    2 +-
 2 files changed, 4 insertions(+), 1 deletion(-)

commit 9dd7deb
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Apr 9 15:29:48 2002 +0000

    better catching of invalid inputline pointers

 libs/gamecode/builtins/bi_inputline.c |   58 +++++++++++++++++++++++++--------
 1 file changed, 44 insertions(+), 14 deletions(-)

commit 05ec06d
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Apr 7 06:31:22 2002 +0000

    more FNDELAY to O_NONBLOCK

 nq/source/sys_unix.c |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit bad8b0f
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Apr 7 06:00:13 2002 +0000

    make the linux/solaris variant of CPP_NAME the default

 configure.ac |    7 +------
 1 file changed, 1 insertion(+), 6 deletions(-)

commit e496725
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Apr 7 05:53:33 2002 +0000

    oops, sh isn't C :)

 configure.ac |    2 ++
 1 file changed, 2 insertions(+)

commit e230d1a
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Apr 7 05:52:27 2002 +0000

    make CPP_NAME get set for solaris

 configure.ac |    1 +
 1 file changed, 1 insertion(+)

commit b29c0d7
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Apr 7 05:44:34 2002 +0000

    more signed char indeces

 tools/qfcc/source/qc-lex.l |    7 ++++---
 1 file changed, 4 insertions(+), 3 deletions(-)

commit 0f198f1
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Apr 7 05:40:27 2002 +0000

    %d and pid_t don't mix on solaris, so use %ld and cast to long

 tools/qfcc/source/qfcc.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 9540e9a
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Apr 7 05:35:32 2002 +0000

    s/FNDELAY/O_NONBLOCK/

 nq/source/sys_unixd.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 7d6792e
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Apr 7 05:27:15 2002 +0000

    don't build libasm at all when not doing asm

 nq/source/Makefile.am |   12 +++++++-----
 1 file changed, 7 insertions(+), 5 deletions(-)

commit 6390992
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Apr 7 05:03:54 2002 +0000

    damn sun's model_t :P

 qw/source/sv_main.c |    9 +++++++++
 1 file changed, 9 insertions(+)

commit 4f65a31
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Apr 7 04:57:42 2002 +0000

    oops :)

 libs/util/exp.c |    6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit 197db0a
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Apr 7 04:54:19 2002 +0000

    more signed char indeces

 libs/util/exp.c |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit ea9c1fc
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Apr 7 04:45:02 2002 +0000

    setenv isn't as portable as one could wish...

 libs/video/targets/vid_sgl.c |    7 ++++---
 1 file changed, 4 insertions(+), 3 deletions(-)

commit 9175360
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Apr 7 04:16:30 2002 +0000

    solaris' test doesn't like -e

 bootstrap |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit e4b549d
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Apr 7 03:43:33 2002 +0000

    hopefully fix this sucker

 bootstrap |   22 +++++++++++-----------
 1 file changed, 11 insertions(+), 11 deletions(-)

commit 9885aa5
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Apr 7 03:41:10 2002 +0000

    fix some signed char index warnings

 libs/util/cmd.c |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit eaccc6e
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Apr 7 03:31:20 2002 +0000

    looks like solaris' test doesn't short circuit

 bootstrap |   60 ++++++++++++++++++++++++++++++++----------------------------
 1 file changed, 32 insertions(+), 28 deletions(-)

commit db75da7
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Apr 7 03:24:29 2002 +0000

    this should fix compiling snd_sun on solaris

 libs/audio/targets/snd_sun.c |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit b26c2b2
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Apr 7 03:22:46 2002 +0000

    try to fix Damm's bootstrap error (invalid arg to -x)

 bootstrap |    6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit b322835
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Apr 3 18:50:36 2002 +0000

    fix a missing \n

 libs/models/alias/gl_model_alias.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 93c9f96
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Fri Mar 29 07:43:02 2002 +0000

    Added embedded commands with ~{} and the return command, created a token
    structure to help tidy the command buffer struct up a bit, fixed a few
    bugs and probably created 100 more.  A lot of things were changed to
    allow embedded commands:
    - Old buffers on the stack are left alone for Cbuf_ExecuteStack to
    clean up.  This is so return values can be extracted from them.
    - The imperative flag has been added.  An imperative buffer and all buffers
    following it can not be paused with the wait command.
    - The returning flag and retval dstring have been added.  If a buffer
    returned something, the flag will be set.
    - The return command was added so there was something to use in the
    substitution.  Return nukes all loop buffers since they don't really count
    as independent functions, sets the return value on the top buffer, and
    clears it.
    - Who knows what else.

 include/QF/cmd.h      |   31 +++--
 libs/console/client.c |   12 +-
 libs/util/cmd.c       |  306 +++++++++++++++++++++++++++++++++++++------------
 3 files changed, 260 insertions(+), 89 deletions(-)

commit 676bf39
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Wed Mar 27 06:24:19 2002 +0000

    Beautified GIB, improved looping and backtraces slightly.  Old buffers are
    now recycled, not freed.  Fixed some bugs in exp.c.  Ready to add embeded
    functions (read: function calls with return values) and for loops.
    Probably some other misc. fixes, I tend to go on debugging streaks.

 include/QF/cmd.h    |    5 +-
 libs/util/cmd.c     |  222 +++++++++++++++++++++++++++++++++++----------------
 libs/util/exp.c     |    4 +-
 qw/source/sv_main.c |    4 +-
 qw/source/sv_user.c |    2 +-
 5 files changed, 161 insertions(+), 76 deletions(-)

commit 807e7de
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Sun Mar 24 06:55:52 2002 +0000

    Fixed a bug with comments that don't have a newline after them.

 libs/util/cmd.c |   11 +++++++----
 1 file changed, 7 insertions(+), 4 deletions(-)

commit 7c4cecd
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Sat Mar 23 23:13:15 2002 +0000

    Fixed a stupid bug in Cmd_Exec_f that was causing map commands inside
    executed files to crash the server.

 libs/util/cmd.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 73f3246
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Fri Mar 22 07:11:05 2002 +0000

    Fixed a double free in exp.c, and made math error reports slightly more
    useful.

 libs/util/cmd.c |    2 +-
 libs/util/exp.c |    1 -
 2 files changed, 1 insertion(+), 2 deletions(-)

commit e1b61d2
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Fri Mar 22 00:22:03 2002 +0000

    Changed how looping works, fixed echo to work with taniwha's Cmd_Args
    changes, added the != operator for math evaluation, added break command
    to break out of loops early, added ifnot command, and who knows what else.

 include/QF/cmd.h |    3 ++
 include/QF/ops.h |    1 +
 libs/util/cmd.c  |  109 +++++++++++++++++++++++++++++++++---------------------
 libs/util/exp.c  |    1 +
 libs/util/ops.c  |    5 +++
 5 files changed, 76 insertions(+), 43 deletions(-)

commit 961a716
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Mar 21 21:56:59 2002 +0000

    minor oops

 libs/util/dstring.c |    1 -
 1 file changed, 1 deletion(-)

commit 5a30278
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Mar 21 21:56:22 2002 +0000

    whitespace

 libs/util/dstring.c |   68 ++++++++++++++++++++++++++++-----------------------
 1 file changed, 37 insertions(+), 31 deletions(-)

commit d00d6a5
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Mar 21 21:53:52 2002 +0000

    add dstring_insertsubstr

 include/QF/dstring.h |    2 ++
 libs/util/dstring.c  |   18 +++++++++++++++---
 2 files changed, 17 insertions(+), 3 deletions(-)

commit 619a77b
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Mar 21 21:45:00 2002 +0000

    fix a couple of brainos that broke quotes entirely

 libs/util/cmd.c |    7 +++----
 1 file changed, 3 insertions(+), 4 deletions(-)

commit c1deee9
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Mar 21 21:17:31 2002 +0000

    rework cmd_buffer_t->line and cmd_buffer_t->args building so quotes are
    preseved

 include/QF/cmd.h |    1 -
 libs/util/cmd.c  |   28 +++++++++-------------------
 2 files changed, 9 insertions(+), 20 deletions(-)

commit b7fc784
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Mar 21 21:16:26 2002 +0000

    add dstring_appendsubstr

 include/QF/dstring.h |    1 +
 libs/util/dstring.c  |    9 +++++++++
 2 files changed, 10 insertions(+)

commit 6f1b68a
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Mar 21 19:47:31 2002 +0000

    sys.h:
    	define SYS_CHECKMEM macro to ease memory allocation failure detection
    cmd.c:
    	loads of whitespace

 include/QF/sys.h |    6 +
 libs/util/cmd.c  |  797 +++++++++++++++++++++++++++++-------------------------
 2 files changed, 433 insertions(+), 370 deletions(-)

commit 388ff7b
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Wed Mar 20 22:57:26 2002 +0000

    Some bug fixes and memory leak fixes.  Local variables break randomly,
    probably due to my misuse of hash tables.  Anyone have any ideas?

 libs/gamecode/engine/pr_load.c |    4 +++-
 libs/util/cmd.c                |   44 ++++++++++++++++++++--------------------
 libs/util/exp.c                |    7 ++++++-
 libs/util/quakefs.c            |    2 +-
 4 files changed, 32 insertions(+), 25 deletions(-)

commit 264e9b1
Author: Robin Redeker <elmex@ta-sa.org>
Date:   Wed Mar 20 16:13:32 2002 +0000

    Added teamname to the playerconfig dialog.
    Made noskins a archived var.
    Added a network menu.
    -> just realized, that menu-code is still to blown
    and still sucks too much. i am thinking about a
    more templated menu-code. (tanwha: i will design something nice ;)

 cs-code/options.qc  |  190 +++++++++++++++++++++++++++++++++++++++++++++++----
 qw/source/cl_skin.c |    2 +-
 2 files changed, 177 insertions(+), 15 deletions(-)

commit d5fad09
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Wed Mar 20 04:24:31 2002 +0000

    Added local variables and replaced %-substitution with local variables.
    Made variable substitution recursive, so ${${foo}} will be the value of
    the variable whose name is contained in foo.  Added setl command to
    manipulate local variables.  The only other place they can be used is in
    variable substitution.

 include/QF/cmd.h |    5 ++
 libs/util/cmd.c  |  214 ++++++++++++++++++++++++++++++++++++++----------------
 libs/util/exp.c  |    2 +
 3 files changed, 158 insertions(+), 63 deletions(-)

commit adc8fc0
Author: Robin Redeker <elmex@ta-sa.org>
Date:   Tue Mar 19 19:07:28 2002 +0000

    Fixed a forgotten debugprint;

 cs-code/options.qc |    1 -
 1 file changed, 1 deletion(-)

commit 1808253
Author: Robin Redeker <elmex@ta-sa.org>
Date:   Tue Mar 19 18:08:07 2002 +0000

    Fixed some memory problems in my string-hashes.

 libs/gamecode/builtins/bi_strhash.c |   36 ++++++++++++++++++++++-------------
 1 file changed, 23 insertions(+), 13 deletions(-)

commit 59f5cfe
Author: Robin Redeker <elmex@ta-sa.org>
Date:   Tue Mar 19 17:40:03 2002 +0000

    Fixed the keyloading.

 cs-code/controls_o.qc |   70 +++++++++++++++++++++++++++++++++++++++++--------
 1 file changed, 59 insertions(+), 11 deletions(-)

commit 489bc72
Author: Robin Redeker <elmex@ta-sa.org>
Date:   Tue Mar 19 17:07:56 2002 +0000

    Playermenu working now fine.
    Added some api-functions to complete playermenu.
    (Playermenu isn't still finished)

 cs-code/controls_o.qc                 |    4 +---
 cs-code/inputline_def.qc              |    2 ++
 cs-code/inputline_util.qc             |   19 +-----------------
 cs-code/menu.qc                       |    6 ------
 cs-code/menu.src.in                   |    1 +
 cs-code/menu_def.qc                   |    6 ++++++
 cs-code/options.qc                    |   23 ++++++++++++++++++++++
 libs/gamecode/builtins/bi_inputline.c |   35 +++++++++++++++++++++++++++++++++
 8 files changed, 69 insertions(+), 27 deletions(-)

commit 504ee00
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Mar 19 17:03:52 2002 +0000

    and another one :/

 libs/console/menu.c |    3 +++
 1 file changed, 3 insertions(+)

commit 7816644
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Mar 19 16:59:25 2002 +0000

    missed a place for enter_hook

 libs/console/menu.c |    3 +++
 1 file changed, 3 insertions(+)

commit ee9bcc9
Author: Robin Redeker <elmex@ta-sa.org>
Date:   Tue Mar 19 16:20:54 2002 +0000

    Added Menu_Enter-/LeaveHook to the CodingStyle as a
    function prefix.

 doc/QCMenuCondingStyle |    2 ++
 1 file changed, 2 insertions(+)

commit 1683633
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Mon Mar 18 23:39:03 2002 +0000

    Changed to an execution stack system for aliases and config files, and
    added error backtraces.

 libs/util/cmd.c |   93 ++++++++++++++++++++++++++++++++++++++++---------------
 1 file changed, 68 insertions(+), 25 deletions(-)

commit d7487a1
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Mar 18 22:40:52 2002 +0000

    compile fix for win32

 tools/pak/pakfile.c |    4 ++++
 1 file changed, 4 insertions(+)

commit 2338d0c
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Mar 18 22:16:37 2002 +0000

    make zpak work with the new pak

 tools/zpak |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit b4b14b0
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Mar 18 22:16:14 2002 +0000

    fix an oopsie with the verbose output of extract and create

 tools/pak/pak.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 568e7ec
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Mar 18 22:01:51 2002 +0000

    make pak get built with the rest of the system

 configure.ac          |    8 ++++++++
 tools/Makefile.am     |    2 +-
 tools/pak/.gitignore  |    1 +
 tools/pak/Makefile    |   27 ---------------------------
 tools/pak/Makefile.am |   13 +++++++++++++
 5 files changed, 23 insertions(+), 28 deletions(-)

commit 1757030
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Mar 18 21:37:39 2002 +0000

    extraction works

 tools/pak/pak.c     |   38 +++++++++++++++++++++++++++++++++-----
 tools/pak/pakfile.c |   48 +++++++++++++++++++++++++++++++++++++++++++++---
 tools/pak/pakfile.h |    2 ++
 3 files changed, 80 insertions(+), 8 deletions(-)

commit 311811b
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Mar 18 20:52:21 2002 +0000

    start working on file extraction

 tools/pak/pakfile.c |   15 +++++++++++++++
 1 file changed, 15 insertions(+)

commit b01cda7
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Mar 18 20:20:56 2002 +0000

    callback hooks for entering/leaving menus

 cs-code/menu_def.qc |    2 ++
 libs/console/menu.c |   24 ++++++++++++++++++++++--
 2 files changed, 24 insertions(+), 2 deletions(-)

commit b0b36d8
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Mar 18 18:03:26 2002 +0000

    can now create pak files

 tools/pak/pak.c     |   15 ++++++-
 tools/pak/pakfile.c |  110 +++++++++++++++++++++++++++++++++++++++++++++++----
 tools/pak/pakfile.h |   10 +++--
 3 files changed, 123 insertions(+), 12 deletions(-)

commit 5f2dea4
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Mar 18 16:47:04 2002 +0000

    break the dependency between cmd.h and dstring.h

 include/QF/cmd.h      |    9 ++++-----
 libs/console/client.c |    1 +
 libs/console/server.c |    1 +
 3 files changed, 6 insertions(+), 5 deletions(-)

commit 655fe17
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Mar 18 07:30:21 2002 +0000

    fix handling of pointers in function params and local vars for qc functions

 cs-code/Makefile.am        |    2 +-
 cs-code/inputline_util.qc  |    5 ++---
 cs-code/menu.qc            |    1 +
 cs-code/string_def.qc      |    2 --
 tools/qfcc/source/pr_def.c |   37 +++++++++++++++++++++----------------
 5 files changed, 25 insertions(+), 22 deletions(-)

commit 46cc4ac
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Mon Mar 18 04:12:09 2002 +0000

    Fixed some bugs and generalized the command buffer interface.  Allowed for
    buffers to be linked into execution stacks and changed aliases and script
    files to be run in a new stack frame.  Cbuf_Execute executes the stack from
    the top down, so wait commands are handled properly.

 include/QF/cmd.h |   17 ++++-
 libs/util/cmd.c  |  218 ++++++++++++++++++++++++++++++++++--------------------
 libs/util/ops.c  |    2 +-
 3 files changed, 152 insertions(+), 85 deletions(-)

commit f4180e7
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Sun Mar 17 06:57:03 2002 +0000

    Added math evaluation, the ability for commands to span multiple lines
    within braces, and put support for comments back in (oops).  To use math
    evaluation, put a math expression inside $().  If you have spaces in your
    expression, you'll need to enclose the entire thing in quotes so it doesn't
    get split up into multiple tokens.

 include/QF/exp.h      |   74 ++++++++++++
 include/QF/ops.h      |   37 ++++++
 libs/util/Makefile.am |    2 +-
 libs/util/cmd.c       |   63 +++++++++-
 libs/util/exp.c       |  304 +++++++++++++++++++++++++++++++++++++++++++++++++
 libs/util/ops.c       |   79 +++++++++++++
 6 files changed, 556 insertions(+), 3 deletions(-)

commit aa00b77
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Sun Mar 17 03:31:03 2002 +0000

    Changed the token finder to be recursive, added if and while commands, and
    allow tokens within braces to continue across newlines.

 libs/util/cmd.c |  228 +++++++++++++++++++++++++++++++++++++++----------------
 1 file changed, 162 insertions(+), 66 deletions(-)

commit e9ca911
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Sat Mar 16 21:17:01 2002 +0000

    Added the ability to use curly braces to enclose tokens.  Tokens in braces
    won't be processed except for escape characters, so that escaped braces
    can be used within.  If an uneven number of curly braces are within a
    token, it will be misparsed, so escaped braces are important if you
    don't want them to be considered in the parsing of the token.  Ideally,
    braces within quotes within braces should not need to be escaped, but this
    would require a redesign of the parser to be recursive.  Maybe I will do
    this later.

 libs/util/cmd.c |   80 ++++++++++++++++++++++++++++++++++++++-----------------
 1 file changed, 55 insertions(+), 25 deletions(-)

commit adca50e
Author: Robin Redeker <elmex@ta-sa.org>
Date:   Sat Mar 16 20:22:01 2002 +0000

    Did further working on the menu code.
    Added a _unfinished_ Player options-submenu, for setting
    the name, top-/bottomcolor.
    Added Draw_Fill and such to the progs api.
    Added some comments.

 cs-code/controls_o.qc              |    2 +
 cs-code/draw_def.qc                |    1 +
 cs-code/inputline_util.qc          |   45 ++++++++++
 cs-code/menu.qc                    |   54 ------------
 cs-code/menu.src.in                |    2 +
 cs-code/menu_util.qc               |   54 ++++++++++++
 cs-code/options.qc                 |  165 +++++++++++++++++++++++++++++++++---
 cs-code/string_def.qc              |    3 +
 doc/QCMenuCondingStyle             |    3 +-
 libs/gamecode/builtins/bi_string.c |   21 +++++
 libs/video/renderer/r_progs.c      |   19 +++++
 11 files changed, 300 insertions(+), 69 deletions(-)

commit f3ee5d7
Author: Robin Redeker <elmex@ta-sa.org>
Date:   Sat Mar 16 15:56:07 2002 +0000

    Forgot to remove old code.

 cs-code/controls_o.qc |   66 ++-----------------------------------------------
 1 file changed, 2 insertions(+), 64 deletions(-)

commit afbd5d1
Author: Robin Redeker <elmex@ta-sa.org>
Date:   Sat Mar 16 15:54:18 2002 +0000

    Forgot to add the definitions for the stringhashes

 cs-code/stringh_def.qc |    7 +++++++
 1 file changed, 7 insertions(+)

commit 7575560
Author: Robin Redeker <elmex@ta-sa.org>
Date:   Sat Mar 16 15:52:17 2002 +0000

    1. general menu code cleanup
    2. added lots of comments to my menu code
    3. wrote a string hash api (key -> value assignment list)
    Hm, nothing else afaik. ;)

 cs-code/Makefile.am                 |    2 +-
 cs-code/controls_o.qc               |  418 ++++++++++++++++++++++++++-------
 cs-code/menu.src.in                 |    1 +
 cs-code/options.qc                  |   13 +-
 doc/QCMenuCondingStyle              |    1 -
 include/QF/csqc.h                   |    1 +
 libs/console/menu.c                 |    1 +
 libs/gamecode/builtins/Makefile.am  |    2 +-
 libs/gamecode/builtins/bi_init.c    |    1 +
 libs/gamecode/builtins/bi_strhash.c |  440 +++++++++++++++++++++++++++++++++++
 10 files changed, 789 insertions(+), 91 deletions(-)

commit 51805eb
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Mar 16 09:25:06 2002 +0000

    nothing much, just give wildcode a 30% speed boost. Basicly, stop binding
    a texture for every single brush poly: due to texsort, they will come in
    batches.

 include/r_local.h                     |    2 +-
 libs/video/renderer/gl/gl_rmain.c     |    5 ++++-
 libs/video/renderer/gl/gl_rsurf.c     |   29 ++++++++++++++---------------
 libs/video/renderer/sw/d_surf.c       |    2 +-
 libs/video/renderer/sw/sw_rsurf.c     |    3 ++-
 libs/video/renderer/sw32/d_surf.c     |    2 +-
 libs/video/renderer/sw32/sw32_rsurf.c |    3 ++-
 7 files changed, 25 insertions(+), 21 deletions(-)

commit 2a3e186
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Sat Mar 16 06:31:59 2002 +0000

    Bug fixes!  Fixed escape character detection, use of str = dstr->str
    without considering that realloc could result in dstr->str being
    changed.  Also made variable substitution of non-existant variables be
    replaced with a null string rather than being left alone, to prevent
    errors in scripts from causing weirdness as strings get passed through
    the parser several times.

 libs/util/cmd.c |   86 ++++++++++++++++++++++++++++---------------------------
 1 file changed, 44 insertions(+), 42 deletions(-)

commit 863b4e9
Author: Robin Redeker <elmex@ta-sa.org>
Date:   Sat Mar 16 00:14:24 2002 +0000

    Improved the menu code a bit, made style cleaner and
    added some comments to my menu code.

 cs-code/controls_o.qc   |    3 +
 cs-code/menu.qc         |    2 +-
 cs-code/options.qc      |  314 ++++++++++++++++++++++++++++++++++-------------
 cs-code/options_util.qc |  122 +++++++++++++++---
 doc/QCMenuCondingStyle  |    2 +-
 5 files changed, 339 insertions(+), 104 deletions(-)

commit 2bf1182
Author: Robin Redeker <elmex@ta-sa.org>
Date:   Sat Mar 16 00:00:14 2002 +0000

    Wrote a quick draft for QuakeC Menu coding

 doc/QCMenuCondingStyle |   27 +++++++++++++++++++++++++++
 1 file changed, 27 insertions(+)

commit 3ad92d3
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Mar 15 18:52:12 2002 +0000

    still only tests, but at least now it won't seg :)

 tools/pak/pak.c |   56 +++++++++++++++++++++++++++++++++++++++++++++++++++----
 1 file changed, 52 insertions(+), 4 deletions(-)

commit e386a02
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Mar 15 16:49:40 2002 +0000

    make sure unused player slots are skipped when linking (should fix elmex'
    segfault)

 qw/source/cl_ents.c |    3 +++
 1 file changed, 3 insertions(+)

commit 54037f1
Author: Robin Redeker <elmex@ta-sa.org>
Date:   Fri Mar 15 13:31:05 2002 +0000

    Fixed cl_fraglog and fs_fraglog cvar for being archived.
    Fixed fraglogging when playing demos.

 qw/source/cl_parse.c |    2 +-
 qw/source/sbar.c     |    4 ++--
 2 files changed, 3 insertions(+), 3 deletions(-)

commit bde0f94
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Mar 15 07:35:22 2002 +0000

    don't process server packets when a client packet has been read from a demo
    file. this was causing server packets to sometimes be processed multiple
    times.

 qw/source/cl_demo.c |    1 +
 qw/source/cl_main.c |    3 +++
 2 files changed, 4 insertions(+)

commit 0a90ddc
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Fri Mar 15 01:45:15 2002 +0000

    Fixed an error in extract line that caused escaped quotes to be parsed as
    normal quotes and made it so executed files are always inserted into the
    console buffer so that class config files in TF can use the new parser
    features, even though the exec command is run in the legacy buffer

 libs/util/cmd.c |   46 +++++++++++++++++++++++++++++++++-------------
 1 file changed, 33 insertions(+), 13 deletions(-)

commit 777495e
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Mar 14 21:33:56 2002 +0000

    hopefully fix our rocket trail problem

 qw/source/cl_ents.c |   18 ++++++++----------
 1 file changed, 8 insertions(+), 10 deletions(-)

commit 6faf095
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Mar 14 20:51:39 2002 +0000

    newest autoconf creates this dir...

 .gitignore |    1 +
 1 file changed, 1 insertion(+)

commit 5e74e7a
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Mar 14 20:49:16 2002 +0000

    fixes for most recent autoconf. fortunatly ac 2.13 is happy with them so
    acconfig.h is now gone :)

 acconfig.h   |  182 ----------------------------------------------------------
 configure.ac |   96 +++++++++++++++----------------
 2 files changed, 48 insertions(+), 230 deletions(-)

commit 706de39
Author: Robin Redeker <elmex@ta-sa.org>
Date:   Thu Mar 14 19:41:49 2002 +0000

    Made fraglogging switchable. And added it to the features-menu.
    cl_fraglog is the new cvar for toggling fraglogging.

 cs-code/options.qc |   12 ++++++++----
 qw/source/sbar.c   |   43 ++++++++++++++++++++++++++++++-------------
 2 files changed, 38 insertions(+), 17 deletions(-)

commit 91ca410
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Mar 14 19:40:59 2002 +0000

    remove a bonus TRACE

 tools/gl_stub/gls_trace.c |    1 -
 1 file changed, 1 deletion(-)

commit c4a8f35
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Mar 14 18:51:25 2002 +0000

    wonder how I forgot the -Werror...

 cs-code/Makefile.am |    2 +-
 cs-code/options.qc  |    3 +--
 2 files changed, 2 insertions(+), 3 deletions(-)

commit 33513ce
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Mar 14 18:48:04 2002 +0000

    demo autorecord patch from RvB

 cs-code/options.qc   |   40 +++++++++++++++++++++++++++++++++++++++-
 qw/include/cl_demo.h |    1 +
 qw/source/cl_demo.c  |   48 ++++++++++++++++++++++++++++--------------------
 qw/source/cl_main.c  |   17 ++++++++++++++---
 4 files changed, 82 insertions(+), 24 deletions(-)

commit 650912e
Author: Robin Redeker <elmex@ta-sa.org>
Date:   Thu Mar 14 15:43:08 2002 +0000

    Added my fancy automatic fraglog to the qw-client.
    Cvar fs_fraglog is a new cvar for the filename of the fraglog (default: qw-score.log)
    Any devel should take a look at qw/source/cl_parse.c and qw/source/sbar.c to verify
    the place where the function is placed and called, i am not shure if its correct there.

 qw/source/cl_parse.c |   10 +++++
 qw/source/sbar.c     |  107 ++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 117 insertions(+)

commit b97ac96
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Mar 14 00:05:04 2002 +0000

    fix the win32 side of pre-preocessing

 tools/qfcc/source/qfcc.c |   10 +++++++---
 1 file changed, 7 insertions(+), 3 deletions(-)

commit 180c517
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Mar 13 19:20:57 2002 +0000

    signal handling improvements

 include/QF/sys.h                 |    2 +-
 libs/video/targets/context_x11.c |   40 +++++++++++++++++++++++++-------------
 2 files changed, 27 insertions(+), 15 deletions(-)

commit 6aa4a69
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Mar 13 18:09:33 2002 +0000

    demo auto-naming patch from RvB

 qw/source/cl_demo.c |   52 ++++++++++++++++++++++++++++++++++++++++++---------
 1 file changed, 43 insertions(+), 9 deletions(-)

commit 6cefb63
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Mar 12 23:45:36 2002 +0000

    get back to work on creating a good command line pak file util. currently
    only dumps the file names/sizes and segs if it's used incorrectly, but it's
    a start.

 include/QF/Makefile.am |    2 +-
 include/QF/pak.h       |   50 +++++++++++++++++++++++++++++
 libs/util/quakefs.c    |   17 +---------
 tools/pak/.gitignore   |    7 +++++
 tools/pak/Makefile     |   27 ++++++++++++++++
 tools/pak/pak.c        |   14 +++++++++
 tools/pak/pakfile.c    |   82 ++++++++++++++++++++++++++++--------------------
 tools/pak/pakfile.h    |   21 +++++++++++++
 8 files changed, 169 insertions(+), 51 deletions(-)

commit 7c3f58e
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Mar 12 19:44:10 2002 +0000

    this should fix elmex's segfault

 qw/source/cl_ents.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f0609f0
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Mar 12 17:44:45 2002 +0000

    forgot about the need for the proto itself

 libs/gamecode/builtins/bi_file.c |    4 ++++
 1 file changed, 4 insertions(+)

commit adbb59c
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Mar 12 17:36:17 2002 +0000

    fix missing prototype for fnmatch on some systems

 libs/gamecode/builtins/bi_file.c |   10 +++++++++-
 1 file changed, 9 insertions(+), 1 deletion(-)

commit b5ed8a7
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Mar 12 00:07:43 2002 +0000

    tracing code can now be selected by setting GLSTUB_TRACE to a non-zero
    value (eg, export GLSTUB_TRACE=1)

 tools/gl_stub/gl_stub.c   |    9 +-
 tools/gl_stub/gls_trace.c |  386 +++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 394 insertions(+), 1 deletion(-)

commit 1d420ed
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Mar 11 23:55:50 2002 +0000

    start work on instrumenting GLstub.so

 include/QF/GL/funcs.h             |    2 +-
 include/QF/GL/qf_funcs_list.h     |  748 +++++++-------
 libs/video/renderer/gl/gl_funcs.c |    4 +-
 tools/gl_stub/.gitignore          |    1 +
 tools/gl_stub/build               |    3 +-
 tools/gl_stub/gl_stub.c           | 2025 +------------------------------------
 tools/gl_stub/gls_norm.c          | 2002 ++++++++++++++++++++++++++++++++++++
 tools/gl_stub/gls_trace.c         | 2002 ++++++++++++++++++++++++++++++++++++
 tools/gl_stub/glx_funcs_list.h    |   50 +
 9 files changed, 4481 insertions(+), 2356 deletions(-)

commit d5fe4e3
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Mar 11 19:01:13 2002 +0000

    make file open a little more secure

 libs/gamecode/builtins/bi_file.c |   85 ++++++++++++++++++++++++++++++++++++++
 1 file changed, 85 insertions(+)

commit 87e4148
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Mar 11 18:47:14 2002 +0000

    fix the client getting stuck trying to download (eg) "skins/  .pcx"

 qw/source/cl_parse.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 5a2538f
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Mar 8 23:11:42 2002 +0000

    dstring.[ch]:
    	create dsprintf and dvsprintf to do formated prints to dynamic strings.
    rest
    	Use the new functions :)

 include/QF/dstring.h              |    8 ++++++++
 libs/audio/targets/snd_alsa_0_9.c |    2 +-
 libs/console/client.c             |   36 ++++++++++++++----------------------
 libs/console/server.c             |   28 ++++++++--------------------
 libs/util/dstring.c               |   33 +++++++++++++++++++++++++++++++++
 libs/util/quakeio.c               |   15 +++++++--------
 libs/util/sys.c                   |   12 ++++++++----
 libs/util/va.c                    |   27 ++++++++-------------------
 tools/qfcc/source/qfcc.c          |   15 ++++-----------
 9 files changed, 91 insertions(+), 85 deletions(-)

commit f945907
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Mar 8 21:04:46 2002 +0000

    another missed gib reference

 configure.ac |    1 -
 1 file changed, 1 deletion(-)

commit d3870a1
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Mar 8 20:56:22 2002 +0000

    fix a missing dstring_adjust call (I guess I need to make a dsprintf:)

 tools/qfcc/source/qfcc.c |    5 +++++
 1 file changed, 5 insertions(+)

commit de60a14
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Mar 7 18:36:48 2002 +0000

    break out the preprocessing code into a function so I can later preprocess
    the progs.src file. also use snax's new dynamic strings for the tempname.

 tools/qfcc/source/qfcc.c |  250 ++++++++++++++++++++++++----------------------
 1 file changed, 131 insertions(+), 119 deletions(-)

commit 538515b
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Mar 6 04:17:50 2002 +0000

    forgot to nuke this

 libs/gib/.gitignore |    7 -------
 1 file changed, 7 deletions(-)

commit 8f7f646
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Mar 5 22:36:04 2002 +0000

    white space

 include/QF/dstring.h |    3 ++-
 libs/util/dstring.c  |   48 ++++++++++++++++++++++++++++++++++++------------
 2 files changed, 38 insertions(+), 13 deletions(-)

commit 544ca81
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Mar 5 21:47:03 2002 +0000

    "gib" never got all that useful, and with the new command parser coming in
    and csqc, it's pretty obsolete, too.

 include/QF/Makefile.am      |    2 +-
 include/QF/gib.h            |   73 ------------
 libs/Makefile.am            |    2 +-
 libs/gib/Makefile.am        |   13 ---
 libs/gib/gib.c              |   98 ----------------
 libs/gib/gib_error.h        |   43 -------
 libs/gib/gib_instructions.c |  261 -------------------------------------------
 libs/gib/gib_instructions.h |   43 -------
 libs/gib/gib_interpret.c    |  233 --------------------------------------
 libs/gib/gib_interpret.h    |   48 --------
 libs/gib/gib_modules.c      |  191 -------------------------------
 libs/gib/gib_modules.h      |   41 -------
 libs/gib/gib_parse.c        |  246 ----------------------------------------
 libs/gib/gib_parse.h        |   41 -------
 libs/gib/gib_stack.c        |  105 -----------------
 libs/gib/gib_stack.h        |   62 ----------
 libs/gib/gib_vars.c         |  104 -----------------
 libs/gib/gib_vars.h         |   37 ------
 nq/source/Makefile.am       |    1 -
 nq/source/host.c            |    3 -
 20 files changed, 2 insertions(+), 1645 deletions(-)

commit 066c2c8
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Tue Mar 5 21:26:37 2002 +0000

    The final checkin before merging.  Hopefully no showstopping bugs remain.

 libs/util/cmd.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 669ca72
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Mon Mar 4 02:37:40 2002 +0000

    Added a bonus feature: %i evaluation in aliases.  Just put %i in an alias
    and it will get replaced with the ith argument to the alias, 0 being the
    name of the alias itself.  %% will get replaced by %, out of range
    numbers will simply be removed, and non-numbers will be ignored.

 libs/util/cmd.c |   38 +++++++++++++++++++++++++++++++++++---
 1 file changed, 35 insertions(+), 3 deletions(-)

commit 7241d69
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Mon Mar 4 01:11:05 2002 +0000

    Fixes to echo, correct use of cmd_source and src_command, and change nq to
    use cmd_legacybuffer for stufftext.

 libs/util/cmd.c      |   13 ++++---------
 nq/source/cl_parse.c |    2 +-
 2 files changed, 5 insertions(+), 10 deletions(-)

commit 8d124f9
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Sun Mar 3 23:28:57 2002 +0000

    Implemented variable substitution and did various cleanups to the parser.
    Changed Cmd_TokenizeString to accept a flag that controls the application
    of filters (tags, variables, escape characters) to the tokens and modified
    a few places in the source that called it.  Added a secondary command
    buffer that is parsed without filters for legacy command support.
    Currently, it is only used for commands stuffed into the console from the
    server.  It is hacky, and I hope to eventually generalize the console
    interface to support any number of buffers and audit the rest of the code
    to recognize it.  For now, the legacy buffer at least keeps escape
    character parsing from destroying info strings.

 include/QF/cmd.h     |   10 +-
 include/QF/dstring.h |   32 +++++
 libs/util/cmd.c      |  369 ++++++++++++++++++++++++++++----------------------
 qw/source/cl_parse.c |    3 +-
 qw/source/sv_main.c  |    4 +-
 qw/source/sv_user.c  |    2 +-
 6 files changed, 253 insertions(+), 167 deletions(-)

commit f78ec56
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Sun Mar 3 08:29:28 2002 +0000

    Added escape characters, the <i> tag to ignore tags enclosed within it, and
    generally cleaned the parser up.  If a line begins with |, it will be
    stripped off by the tokenizer and no tags or escape characters will be
    processed.  Commands stuffed into the console from the server are prepended
    with | to ensure backward compatibility.  This can also be used anywhere
    backward compatibility is needed, such as where info strings are stuffed
    into the console, or as an alternative to using escape characters in the
    entire string.

 libs/console/client.c |    2 +
 libs/util/cmd.c       |  130 +++++++++++++++++++++++++++++++------------------
 qw/source/cl_parse.c  |    1 +
 3 files changed, 86 insertions(+), 47 deletions(-)

commit 26d7463
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Mar 3 06:03:51 2002 +0000

    the majority of raptor's sgi build patch. I'll look at the last two bits
    (server.c and vid_sdl.c) later.

 configure.ac                         |    2 +-
 include/compat.h                     |    4 +-
 libs/audio/cd/cd_sgi.c               |  123 +++++++++++++++++++++++-----------
 libs/audio/targets/snd_sgi.c         |   79 +++++++++++-----------
 libs/gib/gib_interpret.c             |    4 +-
 libs/gib/gib_modules.c               |    2 +-
 libs/models/alias/gl_model_alias.c   |    3 +-
 libs/models/alias/model_alias.c      |    2 +-
 libs/util/qfplist.c                  |    8 +--
 libs/util/string.c                   |    5 +-
 libs/video/renderer/gl/gl_funcs.c    |    6 +-
 libs/video/renderer/gl/gl_sky_clip.c |    6 ++
 libs/video/targets/old_keys.c        |    3 +
 qw/source/cl_misc.c                  |    7 +-
 qw/source/sv_main.c                  |    1 +
 qw/source/teamplay.c                 |    8 +--
 16 files changed, 156 insertions(+), 107 deletions(-)

commit 4a7f3b3
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Sun Mar 3 06:00:44 2002 +0000

    This commit fixes up cmd_args to rebuild a string from the processed
    tokens and adds support for comments.

 libs/util/cmd.c |   35 +++++++++++++++++++++++++++--------
 1 file changed, 27 insertions(+), 8 deletions(-)

commit 119731e
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Mar 3 04:42:32 2002 +0000

    fix a buffer overflow snax found

 libs/util/cmd.c |   22 ++++++++++++++++------
 1 file changed, 16 insertions(+), 6 deletions(-)

commit 6936615
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Sun Mar 3 04:26:37 2002 +0000

    HTML-like tags are more or less done.  Next up is variable substitution
    and escape characters.

 libs/util/cmd.c |   80 +++++++++++++++++++++++++++++++------------------------
 1 file changed, 45 insertions(+), 35 deletions(-)

commit 557846b
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Sun Mar 3 03:36:27 2002 +0000

    This is the first commit to the newcmd branch, which is a mostly-rewritten
    console command parser.  It will eventually include html-like tags for
    modifying text (gold numbers, brown characters, etc) and escaped characters.
    The major differences so far are that dynamic strings are now used instead
    of static buffers, and single quotes can be used to enclose tokens as
    well as double quotes.

 include/QF/cmd.h      |    1 -
 include/QF/dstring.h  |   20 +++
 libs/util/Makefile.am |    2 +-
 libs/util/cmd.c       |  345 ++++++++++++++++++++++---------------------------
 libs/util/dstring.c   |  113 ++++++++++++++++
 5 files changed, 287 insertions(+), 194 deletions(-)

commit 864e765
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Mar 1 22:35:25 2002 +0000

    update the cvs location

 doc/QF-HOWTO |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit a384870
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Feb 28 04:12:20 2002 +0000

    cl_chatmode works again

 libs/console/client.c |   40 ++++++++++++++++++++++++++++++++++++----
 1 file changed, 36 insertions(+), 4 deletions(-)

commit 009e634
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 27 06:55:21 2002 +0000

    now, so long as ulimit allows it, we can always get a core dump. Looks a
    little odd:
    
    Received signal 11, exiting...
    IN_Shutdown
    IN_LL_Shutdown
    VID_Shutdown
    Segmentation fault (core dumped)
    
    but the core file does accurately show the error

 include/QF/sys.h                 |    1 +
 libs/util/sys.c                  |    8 ++---
 libs/video/targets/context_x11.c |   69 ++++++++++++++------------------------
 3 files changed, 30 insertions(+), 48 deletions(-)

commit 2f62b74
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 27 05:22:21 2002 +0000

    After an interesting discussion with Lordhavoc, make the GPU do more work in
    the background. This is achieved by doing only a (qf)glFlush at the end of
    the frame, doing the inter rendering-frame processing (ie, client frame
    processing), glFinish, glXSwapBuffers, then starting the next frame. I've
    changed the glFinish call in SCR_UpdateScreen to glFlush and the glFlush
    call in GL_EndRendering to glFinish because there's no point in calling
    glFinish followed by glFlush. Also, SwapBuffers should always be precedded
    by glFinish rather than just glFlush (in Lordhavoc's experience). The
    GL_EndRendering at the end of SCR_UpdateScreen got moved to the beginning.

 libs/video/renderer/gl/gl_rmisc.c  |    2 --
 libs/video/renderer/gl/gl_screen.c |    5 +++--
 libs/video/targets/vid_3dfxsvga.c  |    2 +-
 libs/video/targets/vid_glx.c       |    2 +-
 libs/video/targets/vid_sgl.c       |    2 +-
 libs/video/targets/vid_wgl.c       |    4 +++-
 6 files changed, 9 insertions(+), 8 deletions(-)

commit 5d3830e
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 26 07:32:23 2002 +0000

    move SV_SetMoveVars

 qw/source/sv_init.c |   16 ++++++++++++++++
 qw/source/sv_phys.c |   15 ---------------
 2 files changed, 16 insertions(+), 15 deletions(-)

commit 8eba01b
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 26 05:18:08 2002 +0000

    another, probably vain, attempt at getting qf to at least /work/ with
    gcc- 2.96 :/

 configure.ac |   36 ++++++++++++++++++++++--------------
 1 file changed, 22 insertions(+), 14 deletions(-)

commit cfb6c1d
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 26 00:14:16 2002 +0000

    first stab at hardware gamma support for windows. WILL screw up system gamma :)

 libs/video/targets/vid_wgl.c |   38 ++++++++++++++++++++++++++++++++++++--
 1 file changed, 36 insertions(+), 2 deletions(-)

commit 6ba5e82
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 25 23:11:39 2002 +0000

    use sv_gravity->value instead of movevars.gravity

 qw/source/sv_phys.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 3e4c200
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 25 22:57:17 2002 +0000

    more evil hacks to get nq's and qw's sv_phys.c similar.

 nq/include/server.h   |    2 ++
 nq/include/sv_progs.h |    7 ++++++-
 nq/source/host.c      |   54 +++----------------------------------------------
 nq/source/sv_main.c   |    2 ++
 nq/source/sv_phys.c   |   33 +++++++++++++++++++++++++++---
 nq/source/sv_progs.c  |   13 ++++++++++++
 qw/include/server.h   |    1 +
 qw/source/sv_main.c   |   18 +++++++++++++++--
 qw/source/sv_phys.c   |   29 +++++++++-----------------
 qw/source/sv_progs.c  |    3 +--
 10 files changed, 84 insertions(+), 78 deletions(-)

commit 676527a
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 25 18:40:51 2002 +0000

    if the velocity is 0, don't bother clipping it.

 qw/source/pmove.c   |    6 ++++--
 qw/source/sv_phys.c |    3 +++
 2 files changed, 7 insertions(+), 2 deletions(-)

commit da1f9fc
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 25 17:41:21 2002 +0000

    cut&paste + 1am = crippled quakeguy. d'oh :P

 qw/source/sv_user.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 81eda40
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 25 16:35:01 2002 +0000

    convert so ifs to ?:

 cs-code/options.qc |   12 ++----------
 1 file changed, 2 insertions(+), 10 deletions(-)

commit 86f9213
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 25 16:20:43 2002 +0000

    invert mouse option from RvB

 cs-code/options.qc |   16 ++++++++++++++++
 1 file changed, 16 insertions(+)

commit 9ea0138
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 25 07:44:17 2002 +0000

    eliminate GetEdictFieldValue, mostly merge SV_AddGravity, and clean up
    some whitespace in sv_phys.c

 libs/gamecode/engine/pr_edict.c |   13 --------
 nq/source/host_cmd.c            |   62 ++++++++++++---------------------------
 nq/source/sv_main.c             |   12 ++++----
 nq/source/sv_phys.c             |   34 ++++++++++-----------
 qw/include/sv_progs.h           |    3 ++
 qw/source/sv_phys.c             |   38 ++++++++++++++----------
 qw/source/sv_progs.c            |    3 ++
 qw/source/sv_send.c             |   13 ++++----
 qw/source/sv_user.c             |   11 +++----
 9 files changed, 77 insertions(+), 112 deletions(-)

commit cd29f8b
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 25 06:34:06 2002 +0000

    remove an unneeded prototyp

 nq/source/sv_phys.c |    2 --
 qw/source/sv_phys.c |    2 --
 2 files changed, 4 deletions(-)

commit d5ed3be
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 25 03:24:46 2002 +0000

    when touching entities, it is possible for the next linked entity to be
    freed, and thus unlinked. when this mappens, make sure the pointer to the
    next entity to be touched gets updated appropriatly.

 nq/source/world.c |    9 +++++++++
 qw/source/world.c |    9 +++++++++
 2 files changed, 18 insertions(+)

commit 8e31211
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 25 03:22:32 2002 +0000

    don't link in a MOVETYPE_NONE edict that has freed itself via its think
    function.

 nq/source/sv_phys.c |    4 ++--
 qw/source/sv_phys.c |    4 ++--
 2 files changed, 4 insertions(+), 4 deletions(-)

commit 860e3eb
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Feb 24 01:11:34 2002 +0000

    make unsigned arrays/pointers more useful by allowing them to be used as
    unbounded arrays

 tools/qfcc/source/expr.c |    5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 7db3eae
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Feb 23 17:43:58 2002 +0000

    more problems pointed out by raorn

 configure.ac |   18 ++++++++----------
 1 file changed, 8 insertions(+), 10 deletions(-)

commit 9d0d8c4
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Feb 23 17:43:41 2002 +0000

    win32 compile fix

 libs/util/sys.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f3944a8
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Feb 23 17:09:41 2002 +0000

    fix a couple mistakes pointed out by raorn

 configure.ac |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit ae2303c
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Fri Feb 22 11:17:20 2002 +0000

    Hide the reason for a plugin load failure unless developer is set.

 libs/util/plugin.c |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 9bd2e6a
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Fri Feb 22 10:24:26 2002 +0000

    Another test, and reformatting a text file.

 doc/ideas/language.txt |  213 ++++++++++++++++++++++++++++++++++++++----------
 1 file changed, 169 insertions(+), 44 deletions(-)

commit 4eb6c51
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Fri Feb 22 10:16:02 2002 +0000

    TODO stuff, and a test of the log_accum script.

 TODO |    2 ++
 1 file changed, 2 insertions(+)

commit 2970647
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Feb 22 08:55:24 2002 +0000

    gl_driver default is now configurable

 acconfig.h                   |    3 +++
 configure.ac                 |   23 +++++++++++++++++++----
 libs/video/renderer/r_cvar.c |    8 ++------
 3 files changed, 24 insertions(+), 10 deletions(-)

commit 3e4422a
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Feb 22 05:48:59 2002 +0000

    ok, the usleep is back, but it's controlled via cl_usleep which defaults to
    off.

 qw/source/cl_main.c |   20 +++++++++++++++++++-
 1 file changed, 19 insertions(+), 1 deletion(-)

commit 96d3a99
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Feb 22 05:28:17 2002 +0000

    bring sv_phys.c closer to being mergable. I've temporarily(?) disabled
    Maddes' max velocity `fix' (yeah, it's physicly correct, but...). I'll
    probably cvar it.

 include/world.h        |    2 +-
 nq/include/server.h    |    7 +
 nq/source/Makefile.am  |    2 +-
 nq/source/sv_cl_phys.c |  376 ++++++++++++++++++++++++++++++++
 nq/source/sv_phys.c    |  570 ++++++++++++------------------------------------
 qw/include/server.h    |    2 +-
 qw/source/sv_phys.c    |  226 ++++++-------------
 7 files changed, 589 insertions(+), 596 deletions(-)

commit 80723fd
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Feb 21 20:34:04 2002 +0000

     o  don't ice when ex_name or ex_nil expressions show up in emit_expr.
        instead, treat as useless epxression.
     o  mark rvalue expressions as such
     o  increment the users of a managed temp def when in an rvalue expr

 tools/qfcc/include/expr.h    |    3 ++-
 tools/qfcc/source/emit.c     |   11 +++++++----
 tools/qfcc/source/expr.c     |    2 ++
 tools/qfcc/source/pr_def.c   |    9 +++++----
 tools/qfcc/source/qc-parse.y |    1 +
 5 files changed, 17 insertions(+), 9 deletions(-)

commit 0c511d3
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Feb 21 08:46:22 2002 +0000

    a couple fixes pointed out by raorn (thanks)

 tools/qfpreqcc/qfpreqcc |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 972bd88
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Feb 21 07:56:27 2002 +0000

    rewrite QFGL_ExtensionAddress to just use QFGL_ProcAddress and be done with
    it. hopefully this will fix raorn's crash.

 libs/video/targets/qfgl_ext.c |   37 ++++++++++++++-----------------------
 1 file changed, 14 insertions(+), 23 deletions(-)

commit 9bbcae0
Author: Chris Ison <cisos@bigpond.net.au>
Date:   Wed Feb 20 23:28:15 2002 +0000

    removed cl_bob cvars from config

 doc/config/glspeed-v2.cfg |    3 ---
 1 file changed, 3 deletions(-)

commit 5a1c0af
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 20 20:53:41 2002 +0000

    more cloning :)

 nq/source/sv_move.c   |   33 ++++++++++++++-------------------
 qw/include/sv_progs.h |    1 +
 qw/source/sv_move.c   |   36 +++++++++++-------------------------
 3 files changed, 26 insertions(+), 44 deletions(-)

commit 87cb964
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 20 20:21:08 2002 +0000

    reduce the fluffy diffs

 nq/source/sv_phys.c |  105 +++++++++++++++++++++++++--------------------------
 qw/source/sv_phys.c |   43 +++++++++++----------
 2 files changed, 73 insertions(+), 75 deletions(-)

commit c9432fd
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 20 20:20:17 2002 +0000

    remove unneeded stuff

 nq/source/sv_model.c |    2 --
 qw/source/sv_model.c |    2 --
 2 files changed, 4 deletions(-)

commit 8ee5acb
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 20 19:22:52 2002 +0000

    redo Sys_Error so it's more usable throughout quake

 include/QF/sys.h       |    5 ++++-
 libs/console/console.c |    2 +-
 libs/util/sys.c        |   58 +++++++++++++++++++++++++++++++-----------------
 nq/include/server.h    |    2 --
 nq/source/host.c       |    3 ++-
 nq/source/sv_main.c    |   13 -----------
 nq/source/world.c      |    9 ++++----
 qw/include/server.h    |    1 -
 qw/source/sv_ccmds.c   |    2 +-
 qw/source/sv_ents.c    |    4 ++--
 qw/source/sv_init.c    |    5 +++--
 qw/source/sv_main.c    |   16 +++++--------
 qw/source/sv_phys.c    |    5 +++--
 qw/source/sv_pr_cmds.c |    7 +++---
 qw/source/sv_progs.c   |    3 ++-
 qw/source/sv_send.c    |    8 +++----
 qw/source/world.c      |    9 ++++----
 17 files changed, 80 insertions(+), 72 deletions(-)

commit ea79349
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 20 18:35:49 2002 +0000

    nq world.c and qw world.c are now identical ignoring the $Id line

 nq/include/server.h |    2 ++
 nq/source/sv_main.c |   13 +++++++++++++
 nq/source/world.c   |   25 ++++---------------------
 qw/source/world.c   |   19 ++-----------------
 4 files changed, 21 insertions(+), 38 deletions(-)

commit 4ab577a
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 19 23:22:59 2002 +0000

    nuke some useless (or even harmful) prototypes

 nq/include/net.h |   19 -------------------
 1 file changed, 19 deletions(-)

commit b6c3317
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 19 20:47:45 2002 +0000

    give nq host_mem_size so -mem can be a cvar (similar to sv_mem_size and
    cl_mem_size in qw).

 include/QF/sys.h      |    1 +
 libs/util/sys.c       |   23 ++++++++++++++++++++
 nq/include/host.h     |    2 +-
 nq/source/host.c      |   49 +++++++++++++++++++++++++++++++----------
 nq/source/sys_sdl.c   |   15 +------------
 nq/source/sys_unix.c  |   19 ++++------------
 nq/source/sys_unixd.c |   28 ++++++++----------------
 nq/source/sys_win.c   |   58 +++++++++----------------------------------------
 nq/source/sys_wind.c  |   13 ++++-------
 qw/source/cl_main.c   |    1 +
 10 files changed, 91 insertions(+), 118 deletions(-)

commit 9aace57
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 19 19:24:18 2002 +0000

    fix a core dump when failing to allocate the hunk

 qw/source/cl_main.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 301eb4b
Author: Timothy C. McGrath <misty-chan@users.sourceforge.net>
Date:   Tue Feb 19 00:58:17 2002 +0000

    Changed show_fps, show_time, show_pl and show_ping into archived cvars. They
    were archived originally, but apparently some insane little gremlin keeps
    reverting my change without telling me why :)
    
    Tim/Misty/Misty-chan

 nq/source/cl_main.c |    4 ++--
 qw/source/cl_main.c |    8 ++++----
 2 files changed, 6 insertions(+), 6 deletions(-)

commit e38259e
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 19 00:16:56 2002 +0000

    warn when a top-level local shadows a parameter

 tools/qfcc/source/qc-parse.y |    8 +++++++-
 1 file changed, 7 insertions(+), 1 deletion(-)

commit 7019456
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 18 19:21:53 2002 +0000

    kill the usleep. I don't know why, nor do I really care, but it causes qw to
    not run at full speed even though it shouldn't.

 qw/source/cl_main.c |    7 -------
 1 file changed, 7 deletions(-)

commit d1fcfd1
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 18 06:23:59 2002 +0000

    Implement --traditional so qfcc can be a nicer qcc. This disables several
    keywords (quaternion integer function for break continue switch case default
    NIL struct enum typedef) and converts some errors to warnings (assignment to
    constants, insufficient function arguments, return; from non-void function,
    anal function `pointer' type checks)

 tools/qfcc/include/qfcc.h  |    1 +
 tools/qfcc/source/emit.c   |    5 ++++-
 tools/qfcc/source/expr.c   |   29 ++++++++++++++++++------
 tools/qfcc/source/qc-lex.l |   52 +++++++++++++++++++++++---------------------
 tools/qfcc/source/qfcc.c   |    5 +++++
 5 files changed, 59 insertions(+), 33 deletions(-)

commit 7c9a192
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Feb 17 07:32:36 2002 +0000

    add servlist.qc
    My fault for telling wildcode menu.src instead of menu.src.in :)

 cs-code/menu.src.in |    1 +
 1 file changed, 1 insertion(+)

commit 952d14a
Author: Chris Ison <cisos@bigpond.net.au>
Date:   Sun Feb 17 00:21:48 2002 +0000

    the early beginnings of the serverlist qc

 cs-code/Makefile.am |    2 +-
 cs-code/menu.qc     |   11 +++++-
 cs-code/servlist.qc |  104 +++++++++++++++++++++++++++++++++++++++++++++++++++
 3 files changed, 115 insertions(+), 2 deletions(-)

commit 49ef391
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Feb 16 05:15:24 2002 +0000

    make dist fix
    ----------------------------------------------------------------------

 tools/qfcc/include/Makefile.am |    3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit dcd4ec1
Author: Chris Ison <cisos@bigpond.net.au>
Date:   Sat Feb 16 04:21:03 2002 +0000

    fixed up positioning of say_team input, also fixed length of say and say_team, thanx taniwha

 libs/console/client.c |   13 +++++--------
 1 file changed, 5 insertions(+), 8 deletions(-)

commit 234305f
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 13 17:58:30 2002 +0000

    make sure networking is initialized before doing /anything/. this should
    fix the host lookup failurs for win32 when using -f.

 qw/source/master.c |   31 +++++++++++++++++++------------
 1 file changed, 19 insertions(+), 12 deletions(-)

commit 2c1173a
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 13 17:52:53 2002 +0000

    totally zap a client slot when the server sends an svc_updateuserinfo with
    a blank info string as the only way this should ever happen is when the
    server is dropping the relevant client so our client might as well drop it
    too.

 qw/source/cl_parse.c |   20 ++++++++++++++------
 1 file changed, 14 insertions(+), 6 deletions(-)

commit f1ea286
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 13 17:50:47 2002 +0000

    don't bother writing client info for unused client slots. If demo
    compatability breaks, this is one place to check for why (but I don't think
    it will).

 qw/source/cl_demo.c |    2 ++
 1 file changed, 2 insertions(+)

commit af66348
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 13 08:35:46 2002 +0000

    print out the error string when failing to get shared memory

 libs/video/targets/vid_x11.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 2e8f780
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 13 05:49:24 2002 +0000

    return "" from PF_infokey when the client the key is being requested from
    has been dropped. This fixes a nasty crash at the end of a match in tf 2.8+

 qw/source/sv_pr_cmds.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 814e2dd
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 13 00:57:00 2002 +0000

    hopefully a more correct implementation

 libs/util/string.c |    8 ++------
 1 file changed, 2 insertions(+), 6 deletions(-)

commit 42ba67e
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 12 21:34:28 2002 +0000

    *sigh*, getting this right is proving to be a pain :P

 libs/console/client.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 0188291
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 12 21:26:34 2002 +0000

    get it right this time :/

 libs/console/client.c |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit befc411
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 12 20:39:11 2002 +0000

    fix a braino for vsnprintf return code handling

 libs/console/client.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit b400020
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 12 17:44:41 2002 +0000

    move the getopt files from qfcc/source to libs/util, link qw-master against
    libQFutil and enable the option parsting in qw-master for win32.

 include/Makefile.am            |    2 +-
 include/getopt.h               |  169 +++++++
 libs/util/Makefile.am          |    2 +-
 libs/util/getopt.c             | 1056 ++++++++++++++++++++++++++++++++++++++++
 libs/util/getopt1.c            |  188 +++++++
 qw/source/Makefile.am          |    4 +-
 qw/source/master.c             |    9 +-
 tools/qfcc/include/Makefile.am |    2 +-
 tools/qfcc/include/getopt.h    |  169 -------
 tools/qfcc/source/Makefile.am  |    2 +-
 tools/qfcc/source/getopt.c     | 1056 ----------------------------------------
 tools/qfcc/source/getopt1.c    |  188 -------
 12 files changed, 1422 insertions(+), 1425 deletions(-)

commit 799cfa5
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 12 04:29:44 2002 +0000

    fix the recent win32 crash bug
    Q_vsnprintfz should return -1 when size is 0. also make client.c's C_Print
    use vsnprintf correctly

 libs/console/client.c |    9 ++++++---
 libs/util/string.c    |    4 ++++
 2 files changed, 10 insertions(+), 3 deletions(-)

commit a954741
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 12 04:17:31 2002 +0000

    compile fixes for win32

 qw/source/master.c |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 6f7b3fa
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 11 21:28:18 2002 +0000

    more magic number nukage and add a couple comments

 qw/source/master.c |    7 ++++---
 1 file changed, 4 insertions(+), 3 deletions(-)

commit 7c0d8f2
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 11 21:23:28 2002 +0000

    remove some evile magic numbers

 qw/source/master.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 6c6b8ca
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 11 20:50:54 2002 +0000

    at rxr's request, allow the master server to read in a static list of
    servers (qw-master -f servers.txt). These servers can not be removed from
    the master server without editing the file and restarting the server. The
    format of the server list file is a simple line-by-line list of the servers'
    addresses and their port (optional: defaults to 27500):
    
    servername([ :]port)?
    
    one per line.

 qw/source/master.c |   88 +++++++++++++++++++++++++++++++++++++++++++---------
 1 file changed, 73 insertions(+), 15 deletions(-)

commit b5c2c0e
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 11 19:36:36 2002 +0000

    clean up a fixme. this doesn't fix serplord's out-of-bounds problem, but
    that's because his qc compiler is doing weird stuff.

 libs/gamecode/engine/pr_opcode.c |   29 ++++++++++++++++++++---------
 1 file changed, 20 insertions(+), 9 deletions(-)

commit d47533a
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 6 19:06:05 2002 +0000

    hopefully fix strcasecmp and strnlen for those systems that don't hide them

 acconfig.h       |    6 ++++++
 configure.ac     |   22 ++++++++++++++++++++--
 include/compat.h |   14 ++++++++++----
 3 files changed, 36 insertions(+), 6 deletions(-)

commit 4f6e61d
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 5 22:56:21 2002 +0000

    win32 compile fix

 tools/qfcc/source/qfcc.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 1629891
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 5 22:08:19 2002 +0000

    default sourcedir to "" rather than "./" and strip leading paths from the
    tempname when preserving temps

 tools/qfcc/source/qfcc.c |   29 ++++++++++++++++++++++-------
 1 file changed, 22 insertions(+), 7 deletions(-)

commit 94d2f2b
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 5 19:43:22 2002 +0000

    make dist fixes

 cs-code/Makefile.am |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit cb0db8b
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 5 19:35:45 2002 +0000

    disable debug putout and allow the cpp command line to be specified.

 tools/qfcc/include/qfcc.h |    1 -
 tools/qfcc/source/qfcc.c  |   19 ++++++++++---------
 2 files changed, 10 insertions(+), 10 deletions(-)

commit f2a8f8f
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 5 18:40:47 2002 +0000

    make cpp command line selection more intelligent. This should take care of
    the stuck cpp problem on openbsd.

 configure.ac             |   21 +++++++-
 tools/qfcc/source/qfcc.c |  125 ++++++++++++++++++++++++++++++++++++----------
 2 files changed, 120 insertions(+), 26 deletions(-)

commit 718c64b
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 4 05:35:05 2002 +0000

    don't wrap around the ends of slider bars

 cs-code/options_util.qc |    5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit ba90269
Author: Robin Redeker <elmex@ta-sa.org>
Date:   Sat Feb 2 13:19:05 2002 +0000

    Percentage-bars now look like in old quake

 cs-code/options.qc      |   19 +++++++++++++++----
 cs-code/options_util.qc |    9 +++++----
 2 files changed, 20 insertions(+), 8 deletions(-)

commit c7e50a7
Author: Robin Redeker <elmex@ta-sa.org>
Date:   Sat Feb 2 12:43:14 2002 +0000

    Added some bindings to the binding-submenu.
    Added a audio-menu and soem other stuff i forgot.

 cs-code/controls_o.qc   |   67 ++++++++++++++--
 cs-code/game_def.qc     |    1 +
 cs-code/options.qc      |  197 ++++++++++++++++++++++++++++++++---------------
 cs-code/options_util.qc |   42 +++++++++-
 4 files changed, 233 insertions(+), 74 deletions(-)

commit 03e0b2e
Author: Robin Redeker <elmex@ta-sa.org>
Date:   Sat Feb 2 10:20:37 2002 +0000

    Completed bindings-submenu, now all basic-bindings from old quake
    are there.

 cs-code/controls_o.qc |  133 ++++++++++++++++++++++++++++++++++++-------------
 cs-code/game_def.qc   |    2 +
 2 files changed, 101 insertions(+), 34 deletions(-)

commit 2ac4ab1
Author: Robin Redeker <elmex@ta-sa.org>
Date:   Sat Feb 2 09:38:25 2002 +0000

    The option-menus now have a better layout and
    the control-binding-submenu works a lot better now too.
    I added some string-functions for the API.

 cs-code/controls_o.qc   |   66 ++++++++++++++++++++++++++++++-----------------
 cs-code/key_defs.qc     |    3 ++-
 cs-code/options.qc      |   17 +++++++-----
 cs-code/options_util.qc |   14 ++++++++++
 cs-code/string_def.qc   |    3 ++-
 5 files changed, 70 insertions(+), 33 deletions(-)

commit 67d53f4
Author: Robin Redeker <elmex@ta-sa.org>
Date:   Sat Feb 2 09:38:19 2002 +0000

    Added some QC-API functions: String_Cut, String_Len, Key_CountBindings.

 libs/gamecode/builtins/bi_keys.c   |   45 ++++++++++++++++++++++++++++++++++--
 libs/gamecode/builtins/bi_string.c |   43 ++++++++++++++++++++++++++++++++++
 2 files changed, 86 insertions(+), 2 deletions(-)

commit ecc20a7
Author: Robin Redeker <elmex@ta-sa.org>
Date:   Sat Feb 2 08:06:50 2002 +0000

    Worked on the options-menu and made gamma-bar more useable and
    moved control-binding (still in construction) to a extra-submenu.

 cs-code/Makefile.am     |    2 +-
 cs-code/controls_o.qc   |   95 ++++++++++++++++++++
 cs-code/menu.src.in     |    3 +
 cs-code/options.qc      |  227 +++++++++++++----------------------------------
 cs-code/options_util.qc |   31 +++++++
 5 files changed, 193 insertions(+), 165 deletions(-)

commit 60e99d7
Author: Robin Redeker <elmex@ta-sa.org>
Date:   Fri Feb 1 18:50:56 2002 +0000

    Fixed a bug with callback-calling in Menu_KeyEvent

 libs/console/menu.c |   13 ++++++++-----
 1 file changed, 8 insertions(+), 5 deletions(-)

commit cf2f42e
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Feb 1 17:32:40 2002 +0000

    make it so menu items can get called for any keypress. this is optionally
    done by setting the allkeys param to 1. when this is the case, if the menu
    item function returns 0, normal processing is done, otherwise processing
    stops.

 cs-code/menu.qc     |   26 +++++++++++++++-----------
 cs-code/menu_def.qc |    2 +-
 cs-code/options.qc  |   27 +++++++++++++++------------
 libs/console/menu.c |   11 +++++++++++
 4 files changed, 42 insertions(+), 24 deletions(-)

commit 8503b43
Author: Robin Redeker <elmex@ta-sa.org>
Date:   Thu Jan 31 21:10:43 2002 +0000

    Added beginnings for the command-binding to the
    option-menu.

 cs-code/cvar_def.qc |    1 +
 cs-code/game_def.qc |    1 +
 cs-code/key_defs.qc |    3 ++
 cs-code/options.qc  |   79 ++++++++++++++++++++++++++++++++++++++++++++++++---
 4 files changed, 80 insertions(+), 4 deletions(-)

commit f8452e5
Author: Robin Redeker <elmex@ta-sa.org>
Date:   Thu Jan 31 21:09:36 2002 +0000

    Added declarations for QC-Keys-API.

 include/QF/csqc.h |    2 ++
 1 file changed, 2 insertions(+)

commit fa575a3
Author: Robin Redeker <elmex@ta-sa.org>
Date:   Thu Jan 31 21:08:45 2002 +0000

    Added a start for the QC-Keys-API

 libs/console/menu.c                |    2 +
 libs/gamecode/builtins/Makefile.am |    2 +-
 libs/gamecode/builtins/bi_cvar.c   |   62 ++++++++++++++++++++++
 libs/gamecode/builtins/bi_init.c   |    2 +
 libs/gamecode/builtins/bi_keys.c   |  100 ++++++++++++++++++++++++++++++++++++
 5 files changed, 167 insertions(+), 1 deletion(-)

commit a3c699a
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Thu Jan 31 07:49:29 2002 +0000

    Fix three gitignores.

 cs-code/.gitignore           |    1 +
 tools/.gitignore             |    1 +
 tools/qfcc/source/.gitignore |    3 ++-
 3 files changed, 4 insertions(+), 1 deletion(-)

commit 72bd704
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 31 07:37:56 2002 +0000

    BSD compile fixes

 libs/audio/renderer/snd_mixa.S      |    4 ++--
 libs/util/math.S                    |    2 +-
 libs/video/renderer/sw/sw_raclipa.S |   16 ++++++++--------
 3 files changed, 11 insertions(+), 11 deletions(-)

commit 03ae513
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 31 06:50:18 2002 +0000

    compile fixes. we've finally got a sun sound user

 libs/audio/targets/snd_sun.c |   41 ++++++++++++++---------------------------
 1 file changed, 14 insertions(+), 27 deletions(-)

commit ad6d847
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 30 22:57:48 2002 +0000

    fix qfcc's incorrect allocation/initialization for pointers (eg, float [] foo)

 cs-code/menu.qc            |    1 -
 tools/qfcc/source/pr_def.c |   12 ++++++++----
 2 files changed, 8 insertions(+), 5 deletions(-)

commit 938037c
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 30 22:20:52 2002 +0000

    you can now type in the input lines. the data doesn't get used yet, though

 cs-code/menu.qc |   39 +++++++++++++++++++++++++++++++++------
 1 file changed, 33 insertions(+), 6 deletions(-)

commit 3d9c8a9
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 30 22:17:55 2002 +0000

    get nil conversions working fully and things like !pointer

 tools/qfcc/source/expr.c |   25 +++++++++++++++++++++----
 1 file changed, 21 insertions(+), 4 deletions(-)

commit 681950c
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 30 22:14:13 2002 +0000

    print [val] for pointers

 libs/gamecode/engine/pr_edict.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit bb97d2d
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 30 21:49:31 2002 +0000

    set some more cvars to the correct values for single player play

 cs-code/menu.qc |    3 +++
 1 file changed, 3 insertions(+)

commit 40e987c
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 30 21:25:00 2002 +0000

    provide InputLine_SetWidth so the drawn width can be set

 cs-code/inputline_def.qc              |    3 ++-
 libs/gamecode/builtins/bi_inputline.c |   15 +++++++++++++--
 2 files changed, 15 insertions(+), 3 deletions(-)

commit d1460f6
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 30 21:23:46 2002 +0000

    rename the width parameter to lsize as it's the size of the input line, not
    the drawn width

 include/QF/console.h     |    2 +-
 libs/console/inputline.c |    8 ++++----
 2 files changed, 5 insertions(+), 5 deletions(-)

commit 6d63d1d
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 30 21:20:12 2002 +0000

    implement comparisons and not for pointers

 include/QF/pr_comp.h             |   15 +++++++++++----
 libs/gamecode/engine/pr_exec.c   |   15 +++++++++++----
 libs/gamecode/engine/pr_opcode.c |   18 ++++++++++++++----
 3 files changed, 36 insertions(+), 12 deletions(-)

commit e1abe4c
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 30 21:13:57 2002 +0000

    finalize the crc of the progs file

 libs/gamecode/engine/pr_load.c |    2 ++
 1 file changed, 2 insertions(+)

commit c74e2a5
Author: Robin Redeker <elmex@ta-sa.org>
Date:   Wed Jan 30 20:02:15 2002 +0000

    Added a gamma-selector (but waiting still for new key-handling-api)
    and auto-run option.

 cs-code/options.qc |  102 ++++++++++++++++++++++++++++++++++++++++++++++------
 1 file changed, 92 insertions(+), 10 deletions(-)

commit b7cfb95
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 30 17:41:16 2002 +0000

    update for new progs loader api and the makefile for the option of static
    linking

 tools/qwaq/Makefile |    3 ++-
 tools/qwaq/main.c   |   23 +++++++++++++----------
 2 files changed, 15 insertions(+), 11 deletions(-)

commit e5e157a
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 30 17:20:10 2002 +0000

    update for new progs loader api

 tools/qfdefs/source/qfdefs.c |   32 +++++++++++++++++++-------------
 1 file changed, 19 insertions(+), 13 deletions(-)

commit 7ef4426
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 30 08:41:18 2002 +0000

    inputline api `done'. now just to get it working

 libs/console/menu.c                   |    2 +
 libs/gamecode/builtins/bi_inputline.c |   95 ++++++++++++++++++++++++++++++++-
 2 files changed, 95 insertions(+), 2 deletions(-)

commit ee3f51f
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 30 08:34:44 2002 +0000

    "" to <> for system headers

 libs/gamecode/builtins/bi_file.c   |    4 ++--
 libs/gamecode/builtins/bi_string.c |    4 ++--
 2 files changed, 4 insertions(+), 4 deletions(-)

commit c76f7d8
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 30 08:09:53 2002 +0000

    fix an API snafu (oops:)

 include/QF/progs.h             |    2 +-
 libs/gamecode/engine/pr_zone.c |    4 ++--
 2 files changed, 3 insertions(+), 3 deletions(-)

commit c66bc5a
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 30 06:29:32 2002 +0000

    whitespace

 include/QF/progs.h |    3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit 8561dfa
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 30 06:21:20 2002 +0000

    basic resource management system for the VM

 include/QF/progs.h                 |   20 ++++++++
 libs/console/menu.c                |   11 +++--
 libs/gamecode/engine/Makefile.am   |    2 +-
 libs/gamecode/engine/pr_load.c     |   11 +++++
 libs/gamecode/engine/pr_resource.c |   95 ++++++++++++++++++++++++++++++++++++
 5 files changed, 134 insertions(+), 5 deletions(-)

commit 9c6def5
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 29 22:32:56 2002 +0000

    fade the screen when drawing the menus (this is optional per menu)

 cs-code/menu.qc     |    8 ++++++++
 cs-code/menu_def.qc |    1 +
 cs-code/options.qc  |    3 +++
 libs/console/menu.c |   11 +++++++++++
 4 files changed, 23 insertions(+)

commit ce50872
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 29 21:51:33 2002 +0000

    oops, forgot this

 cs-code/key_defs.qc |    1 +
 1 file changed, 1 insertion(+)

commit 476c3d2
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 29 21:51:19 2002 +0000

    helps if I understand what elmex was up to :)

 cs-code/menu.qc     |    4 +---
 cs-code/menu.src.in |    3 +++
 cs-code/options.qc  |    4 +---
 3 files changed, 5 insertions(+), 6 deletions(-)

commit 0ea713ed
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 29 20:53:44 2002 +0000

    redo the progs loader to allocate all the memory needed for progs in one
    shot, allowing for caller specified alloc and edicts and zone memory sizes.
    (progs + edicts + zone).

 include/QF/progs.h             |   17 ++++++-
 libs/console/menu.c            |   12 +++--
 libs/gamecode/engine/pr_load.c |  107 +++++++++++++++++++++++++++-------------
 libs/gamecode/engine/pr_zone.c |    4 +-
 nq/source/sv_main.c            |    5 +-
 nq/source/sv_progs.c           |    2 +-
 qw/source/sv_init.c            |    3 --
 qw/source/sv_progs.c           |    2 +-
 8 files changed, 100 insertions(+), 52 deletions(-)

commit 00216df
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 29 20:50:27 2002 +0000

    fix a couple of compile issues (comment out the options_menu call and
    include QF/keys.h again)

 cs-code/menu.qc |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 6c1fbd0
Author: Robin Redeker <elmex@ta-sa.org>
Date:   Tue Jan 29 19:04:24 2002 +0000

    Added options menu. Can now be find in options.qc.
    Only mouse-grab, fullscreen and crosshair can be changed by
    it now.

 cs-code/Makefile.am   |    2 +-
 cs-code/game_def.qc   |    5 ++
 cs-code/menu.qc       |    6 +--
 cs-code/options.qc    |  128 +++++++++++++++++++++++++++++++++++++++++++++++++
 cs-code/string_def.qc |    1 +
 5 files changed, 136 insertions(+), 6 deletions(-)

commit 0906ac5
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 29 18:44:31 2002 +0000

    get the positioning correct for Draw_CenterPic

 libs/video/renderer/r_progs.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit b64693a
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 29 18:16:49 2002 +0000

    get the param order correct for the menu item callback

 libs/console/menu.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 98f8642
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Mon Jan 28 21:22:21 2002 +0000

    Oops. Well, I fscked that one up. It's fixed now.

 tools/Forge/Controller.h |   15 ++++++++-------
 1 file changed, 8 insertions(+), 7 deletions(-)

commit 6f29bcb
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 28 18:00:48 2002 +0000

    break the loop from CRC_Block into CRC_ProcessBlock so that crcs can be
    caclulated over multiple blocks.

 include/QF/crc.h |    1 +
 libs/util/crc.c  |   15 +++++++++++----
 2 files changed, 12 insertions(+), 4 deletions(-)

commit 21b6e68
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 28 17:15:36 2002 +0000

    break out the non-edict code into sensible locations

 include/QF/progs.h                 |    1 +
 libs/gamecode/engine/Makefile.am   |    3 +-
 libs/gamecode/engine/pr_builtins.c |  132 ++++++++++++
 libs/gamecode/engine/pr_edict.c    |  420 ------------------------------------
 libs/gamecode/engine/pr_load.c     |  256 ++++++++++++++++++++++
 libs/gamecode/engine/pr_resolve.c  |  195 +++++++++++++++++
 6 files changed, 586 insertions(+), 421 deletions(-)

commit 418f922
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Mon Jan 28 15:23:13 2002 +0000

    Minor Forge updates, clearing out the backlog so I can do some more
    development.

 tools/Forge/Controller.h  |   14 +++++++-------
 tools/Forge/Controller.m  |    1 +
 tools/Forge/Forge.classes |    2 +-
 tools/Forge/Forge.gorm    |  Bin 1059 -> 1575 bytes
 4 files changed, 9 insertions(+), 8 deletions(-)

commit 7ea87aa
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Mon Jan 28 03:39:15 2002 +0000

    oops. Actually commit the new document icon this time.

 tools/Forge/ForgeDocument.tiff |  Bin 0 -> 9552 bytes
 1 file changed, 0 insertions(+), 0 deletions(-)

commit 2aa2066
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jan 27 21:19:29 2002 +0000

    FPH column for the score list from RvB

 qw/source/sbar.c |   65 +++++++++++++++++++++++++++++++++++-------------------
 1 file changed, 42 insertions(+), 23 deletions(-)

commit 29c6873
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Sat Jan 26 22:09:15 2002 +0000

    More Forge stuff.
    
    Forge now loads the bundles in its resources first, and then loads the
    bundles from the User, Local, Network, and System library directories,
    in that order -- if it is told to by the defaults system.
    
    Also, the MainPrefs class has some new options, to control what
    directories Forge loads bundles from.

 tools/Forge/BundleController.m                  |   26 +++++-
 tools/Forge/Bundles/MainPrefs/MainPrefs.classes |    8 ++
 tools/Forge/Bundles/MainPrefs/MainPrefs.gorm    |  Bin 3279 -> 5374 bytes
 tools/Forge/Bundles/MainPrefs/MainPrefs.h       |   13 ++-
 tools/Forge/Bundles/MainPrefs/MainPrefs.m       |   96 ++++++++++++++++----
 tools/Forge/Bundles/MainPrefs/MainPrefsView.h   |   16 +++-
 tools/Forge/Bundles/MainPrefs/MainPrefsView.m   |  107 ++++++++++++++++++-----
 tools/Forge/PrefsController.m                   |    2 +-
 8 files changed, 223 insertions(+), 45 deletions(-)

commit 8ef321e
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Sat Jan 26 05:13:25 2002 +0000

    Forge updates -- an icon for .forge files, some app info updates, and a
    nib-loading fix for MainPrefs.

 tools/Forge/Bundles/MainPrefs/GNUmakefile |    9 ++++-----
 tools/Forge/Bundles/MainPrefs/MainPrefs.m |    4 ++--
 tools/Forge/ForgeInfo.plist               |   12 ++++++++++++
 tools/Forge/GNUmakefile                   |    1 +
 4 files changed, 19 insertions(+), 7 deletions(-)

commit 9585b6a
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Fri Jan 25 08:45:28 2002 +0000

    Forge updates. Preferences is no more, since each bundle will have its
    own prefs anyway. The "sample" bundle MainPrefs is more complete, and is
    now loading its interface from a .gorm file -- this would be a .nib on
    NeXTstep or Mac OS X, and it should be ready to run on those OSes
    already -- since it doesn't do much. :)

 tools/Forge/Bundles/MainPrefs/GNUmakefile       |    4 +
 tools/Forge/Bundles/MainPrefs/MainPrefs.classes |   84 ++++++
 tools/Forge/Bundles/MainPrefs/MainPrefs.gorm    |  Bin 0 -> 3279 bytes
 tools/Forge/Bundles/MainPrefs/MainPrefs.h       |   10 +-
 tools/Forge/Bundles/MainPrefs/MainPrefs.m       |  147 +++++++++-
 tools/Forge/Bundles/MainPrefs/MainPrefsView.h   |   10 +
 tools/Forge/Bundles/MainPrefs/MainPrefsView.m   |   49 +++-
 tools/Forge/Forge.classes                       |   17 +-
 tools/Forge/GNUmakefile                         |    2 -
 tools/Forge/Preferences.h                       |   89 ------
 tools/Forge/Preferences.m                       |  335 -----------------------
 11 files changed, 285 insertions(+), 462 deletions(-)

commit 4c8154a
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Fri Jan 25 08:38:17 2002 +0000

    commit mods before I nuke the file.

 tools/Forge/Preferences.m |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 750100b
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jan 25 00:01:05 2002 +0000

    obsolete declaration cleanup and const correctness for Key_GetBinding

 include/QF/keys.h         |   26 +++++++++-----------------
 libs/video/targets/keys.c |    4 ++--
 2 files changed, 11 insertions(+), 19 deletions(-)

commit 08210bc
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 24 04:43:47 2002 +0000

    fix an accidental double byteswap that broke progs for big-endian machines

 libs/gamecode/engine/pr_edict.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 316386b
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 24 02:44:19 2002 +0000

    mod->textures can legitimatly have null textures, so be on the lookout for
    them. This fixes the client crash on certain levels.

 libs/models/brush/gl_model_brush.c |    2 ++
 1 file changed, 2 insertions(+)

commit 85588c8
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 23 22:37:44 2002 +0000

    start implementing the api for input lines and clean up a couple csqc
    prototype issues.

 cs-code/inputline_def.qc              |    7 +++
 cs-code/menu.qc                       |    4 ++
 cs-code/menu.src.in                   |    1 +
 include/QF/cmd.h                      |    2 -
 include/QF/csqc.h                     |    2 +
 libs/console/menu.c                   |    1 +
 libs/gamecode/builtins/Makefile.am    |    2 +-
 libs/gamecode/builtins/bi_file.c      |    2 -
 libs/gamecode/builtins/bi_init.c      |    5 ++-
 libs/gamecode/builtins/bi_inputline.c |   78 +++++++++++++++++++++++++++++++++
 libs/gamecode/builtins/bi_string.c    |    6 +--
 tools/qwaq/builtins.c                 |    3 --
 12 files changed, 100 insertions(+), 13 deletions(-)

commit 68637ee
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 23 22:35:48 2002 +0000

    start implementing dynamic memory for progs

 include/QF/progs.h               |    6 ++++
 libs/gamecode/engine/Makefile.am |    2 +-
 libs/gamecode/engine/pr_edict.c  |    2 ++
 libs/gamecode/engine/pr_zone.c   |   66 ++++++++++++++++++++++++++++++++++++++
 4 files changed, 75 insertions(+), 1 deletion(-)

commit ad8b567
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 23 22:34:46 2002 +0000

    prototype Z_ClearZone

 include/QF/zone.h |    1 +
 1 file changed, 1 insertion(+)

commit 00b1ea4
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 23 22:34:08 2002 +0000

    remove obsolete function

 include/QF/console.h |    1 -
 1 file changed, 1 deletion(-)

commit 16cc0c2
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 23 22:33:22 2002 +0000

    forgot to implement store.p

 libs/gamecode/engine/pr_exec.c |    1 +
 1 file changed, 1 insertion(+)

commit 52aa1c3
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 23 21:16:43 2002 +0000

    qfcc now supports typedef

 include/QF/keys.h |    4 +---
 1 file changed, 1 insertion(+), 3 deletions(-)

commit ed91b16
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 23 21:07:38 2002 +0000

    add Menu_GetIndex

 libs/console/menu.c |   11 +++++++++++
 1 file changed, 11 insertions(+)

commit 6a393d1
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 23 20:50:25 2002 +0000

    implement typedef

 tools/qfcc/include/type.h    |    2 ++
 tools/qfcc/source/qc-lex.l   |    5 +++--
 tools/qfcc/source/qc-parse.y |   18 ++++++++++-------
 tools/qfcc/source/type.c     |   45 ++++++++++++++++++++++++++++++++++++++++++
 4 files changed, 61 insertions(+), 9 deletions(-)

commit b7eded6
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 23 19:41:50 2002 +0000

    more work on the mp menus and split out most of the builtin defs

 cs-code/Makefile.am   |    2 +-
 cs-code/cbuf_def.qc   |    4 ++
 cs-code/draw_def.qc   |    6 +++
 cs-code/file_def.qc   |    4 ++
 cs-code/menu.qc       |  106 ++++++++++++++++++++++++++++++++++---------------
 cs-code/menu.src.in   |    6 +++
 cs-code/menu_def.qc   |   13 ++++++
 cs-code/string_def.qc |    1 +
 8 files changed, 109 insertions(+), 33 deletions(-)

commit 7dc9a93
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 23 19:01:19 2002 +0000

    clear the download name on failures

 qw/source/cl_parse.c |    3 +++
 1 file changed, 3 insertions(+)

commit 8b33d29
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 23 04:12:53 2002 +0000

    make sure -fno-strict-aliasing gets set for gcc 2.96 (dunno if this will
    work, but worth a try)

 configure.ac |    9 +++++++++
 1 file changed, 9 insertions(+)

commit f882e84
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 23 03:13:31 2002 +0000

    enable -fstrict-aliasing by default for gcc 3

 configure.ac |   15 +++++++++++++--
 1 file changed, 13 insertions(+), 2 deletions(-)

commit 4416121
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 23 00:51:55 2002 +0000

    start on the join menu and change the draw functions to return integer
    instead of void

 cs-code/menu.qc |   41 +++++++++++++++++++++++++++++++++++------
 1 file changed, 35 insertions(+), 6 deletions(-)

commit eb2c782
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 23 00:48:03 2002 +0000

    don't bail out of Menu_Draw if the qc draw function returns 0. this allows
    for combined C/QC drawing.

 libs/console/menu.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 6b468f4
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 22 20:18:40 2002 +0000

    package fixups

 RPM/quakeforge.spec.in |  229 +++++++++++++++++++++---------------------------
 1 file changed, 100 insertions(+), 129 deletions(-)

commit 3f958ae
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 22 18:04:03 2002 +0000

    more make dist fixes

 cs-code/Makefile.am            |    6 ++++--
 include/QF/Makefile.am         |    2 +-
 tools/qfcc/doc/man/Makefile.am |    2 ++
 tools/qfcc/include/Makefile.am |    3 ++-
 tools/qfcc/source/Makefile.am  |    1 +
 5 files changed, 10 insertions(+), 4 deletions(-)

commit ecd539c
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 22 17:17:18 2002 +0000

    some make dist fixes

 doc/Makefile.am                |    6 +++---
 tools/qfcc/Makefile.am         |    2 +-
 tools/qfcc/include/Makefile.am |    2 +-
 3 files changed, 5 insertions(+), 5 deletions(-)

commit c8ef2d8
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 22 07:42:35 2002 +0000

    subdirs must come /after/ their parent in the AC_OUTPUT list

 tools/qfcc/configure.in |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 0eea947
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 22 07:10:18 2002 +0000

    get qfcc to build for win32 (cross building will need QFCC to be
    over-ridden)

 configure.ac |   15 +++++++++------
 1 file changed, 9 insertions(+), 6 deletions(-)

commit cfa3591
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 22 06:22:52 2002 +0000

    d'oh, should be installing into fs_sharepath :P

 configure.ac        |    1 +
 cs-code/Makefile.am |    2 +-
 2 files changed, 2 insertions(+), 1 deletion(-)

commit 8a24b28
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 22 05:48:03 2002 +0000

    scary, but the only changes qfcc needed to build as part of quakeforge was
    to auto-substitued the libs and headers.
    
     o  unconditionally build qfcc (for now, anyway) when building quakeforge
        (needed for cs-code compilation)
     o  when built as part of quakeforge (qfcc should still be buildable
        independently) always enable cpp
     o  autoconfiscate the client-side code
     o  build the client-side code using the built qfcc
     o  install the client-side code in $(datadir)/quakeforge/id1

 Makefile.am                   |    2 +-
 acconfig.h                    |    9 +++++++++
 configure.ac                  |   22 ++++++++++++++++++++++
 cs-code/.gitignore            |    2 ++
 cs-code/Makefile              |    7 -------
 cs-code/Makefile.am           |   18 ++++++++++++++++++
 cs-code/menu.src              |    3 ---
 cs-code/menu.src.in           |    3 +++
 tools/.gitignore              |    1 +
 tools/Makefile.am             |    1 +
 tools/qfcc/bootstrap          |    1 +
 tools/qfcc/configure.in       |    8 ++++++++
 tools/qfcc/source/Makefile.am |    9 +++++++--
 13 files changed, 73 insertions(+), 13 deletions(-)

commit d936d5d
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 22 03:05:48 2002 +0000

    fix a missing ;

 include/QF/qtypes.h |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f1f2dd7
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 21 23:30:54 2002 +0000

    generate progdefs.h only for v6only
    generate files.dat only if -F or --files is given on the command line

 tools/qfcc/include/qfcc.h |    1 +
 tools/qfcc/source/qfcc.c  |   13 ++++++++++---
 2 files changed, 11 insertions(+), 3 deletions(-)

commit b4bdda9
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 21 23:01:14 2002 +0000

    remove some obsolete files

 doc/cvarlist.txt       | 1696 ------------------------------------------------
 doc/makefile.linuxi386 | 1240 -----------------------------------
 doc/makefile.solaris   |  483 --------------
 doc/readme.solaris     |   98 ---
 4 files changed, 3517 deletions(-)

commit fc20793
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 21 21:58:29 2002 +0000

    our very own icon :)

 doc/qf.ico |  Bin 0 -> 4710 bytes
 1 file changed, 0 insertions(+), 0 deletions(-)

commit bd106d7
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 21 21:46:57 2002 +0000

    throw this in cvs for now. it's not used at all, and I don't know if I plan
    on using it.

 cs-code/console.qc |   90 ++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 90 insertions(+)

commit cc84828
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 21 21:39:27 2002 +0000

    start on the multiplayer menu

 cs-code/Makefile |    2 +-
 cs-code/menu.qc  |   12 +++++++++++-
 2 files changed, 12 insertions(+), 2 deletions(-)

commit 5450fdb
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 21 21:38:34 2002 +0000

    don't seg on menus with no items

 libs/console/menu.c |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 3ae1580
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 21 20:00:38 2002 +0000

    protect against gcc 2.94.4's stdbool.h

 include/QF/qtypes.h |    6 ++++++
 1 file changed, 6 insertions(+)

commit 6d41118
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 21 19:41:22 2002 +0000

    load and save menus now work

 cs-code/Makefile |    2 +-
 cs-code/menu.qc  |   64 ++++++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 65 insertions(+), 1 deletion(-)

commit ec0b3d8
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 21 19:40:45 2002 +0000

    make Menu_SelectMenu(NIL) do the right thing and handle qc code that clears
    the current menu but forgets to return 1 in keyevent

 libs/console/menu.c |    9 ++++++---
 1 file changed, 6 insertions(+), 3 deletions(-)

commit 7775dab
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 21 19:19:07 2002 +0000

    remove debug

 tools/qfcc/source/switch.c |    1 -
 1 file changed, 1 deletion(-)

commit f2d097c
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 21 19:18:41 2002 +0000

    resolve the case value before checking its type

 tools/qfcc/include/expr.h  |    1 +
 tools/qfcc/source/switch.c |    3 +++
 2 files changed, 4 insertions(+)

commit 20eec42
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 21 19:10:01 2002 +0000

    allow keys.h to be used in QC

 include/QF/keys.h |   22 ++++++++++++++--------
 1 file changed, 14 insertions(+), 8 deletions(-)

commit 2ce5a91
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 21 19:09:23 2002 +0000

    allow enum {...} name; but ignore name (eases C <-> QC header compat)

 tools/qfcc/source/qc-parse.y |    7 ++++++-
 1 file changed, 6 insertions(+), 1 deletion(-)

commit 64c5983
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 21 19:03:29 2002 +0000

    enum support

 tools/qfcc/include/expr.h    |    1 +
 tools/qfcc/include/struct.h  |    3 ++
 tools/qfcc/source/expr.c     |   31 ++++++++++++++-----
 tools/qfcc/source/pr_def.c   |    5 +++
 tools/qfcc/source/qc-lex.l   |    1 +
 tools/qfcc/source/qc-parse.y |   43 ++++++++++++++++++++------
 tools/qfcc/source/struct.c   |   70 ++++++++++++++++++++++++++++++++++++++++++
 7 files changed, 138 insertions(+), 16 deletions(-)

commit d5fb0f5
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 21 17:36:22 2002 +0000

    fix some .. path compression bugs

 libs/gamecode/builtins/bi_file.c |   14 +++++++++-----
 1 file changed, 9 insertions(+), 5 deletions(-)

commit 9833b70
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 21 16:48:08 2002 +0000

    oops, forgot to remove the debug code

 libs/gamecode/builtins/pr_cmds.c |    1 -
 1 file changed, 1 deletion(-)

commit f3efed9
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 21 16:47:50 2002 +0000

    .0 isn't valid for integer formats

 libs/gamecode/builtins/pr_cmds.c |   16 ++++++++++------
 1 file changed, 10 insertions(+), 6 deletions(-)

commit 5b0e6dc
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 21 07:24:51 2002 +0000

    add file and string modules to csqc. the file nodule is rather parnoid
    about the path it's handed (need to get even more paranoid, though). the
    string module just has char replacement so far. Add Draw_CenterPic to
    r_progs.c, but this will only last till qpic_t is supported in qc.
    the load menu almost works: just need to add key handling and fix a bug in
    PF_sprintf

 cs-code/menu.qc                    |   93 ++++++++++++++++++++---
 include/QF/csqc.h                  |    5 ++
 libs/console/menu.c                |    5 +-
 libs/gamecode/builtins/Makefile.am |    2 +-
 libs/gamecode/builtins/bi_file.c   |  145 ++++++++++++++++++++++++++++++++++++
 libs/gamecode/builtins/bi_string.c |   69 +++++++++++++++++
 libs/video/renderer/r_progs.c      |   50 +++++++++++++
 7 files changed, 357 insertions(+), 12 deletions(-)

commit d59e7d3
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jan 20 04:11:08 2002 +0000

    you can now start a new single player game via the menus

 cs-code/menu.qc     |   26 +++++++++++++++++++++++++-
 libs/console/menu.c |    4 +++-
 2 files changed, 28 insertions(+), 2 deletions(-)

commit e8f6fce
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jan 20 04:10:36 2002 +0000

    call BI_Init in the clients

 include/QF/cmd.h      |    5 ++++-
 nq/source/Makefile.am |    5 +++--
 nq/source/host.c      |    2 ++
 nq/source/sv_ded.c    |    4 ++++
 qw/source/Makefile.am |    7 ++++---
 qw/source/cl_main.c   |    2 ++
 6 files changed, 19 insertions(+), 6 deletions(-)

commit 1168f1a
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jan 20 04:09:36 2002 +0000

    libQFcsqc (I'm not adverse to renaming it) is born. so far, only provides
    Cbuf builtins.

 include/QF/csqc.h                  |   37 +++++++++++++++++++
 libs/gamecode/builtins/Makefile.am |    5 ++-
 libs/gamecode/builtins/bi_cbuf.c   |   71 ++++++++++++++++++++++++++++++++++++
 libs/gamecode/builtins/bi_init.c   |   42 +++++++++++++++++++++
 4 files changed, 154 insertions(+), 1 deletion(-)

commit 14ac3ac
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jan 20 03:09:03 2002 +0000

    add a builtin (gametype) for detecting the, well, game type (ie, netquake
    or quakeworld) which just returns the apprproate string. the single player
    menu is now acessable in nq but not qw :)

 cs-code/menu.qc                  |   25 +++++++++++++++++++------
 include/QF/progs.h               |    2 ++
 libs/gamecode/builtins/pr_cmds.c |    9 +++++++++
 nq/source/host.c                 |    2 ++
 qw/source/cl_main.c              |    2 ++
 qw/source/sv_progs.c             |    1 +
 6 files changed, 35 insertions(+), 6 deletions(-)

commit db7a226
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jan 20 01:39:06 2002 +0000

    bring in the standard builtins and randomize the quit message

 cs-code/menu.qc     |    4 +++-
 libs/console/menu.c |    1 +
 2 files changed, 4 insertions(+), 1 deletion(-)

commit 9f67e81
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jan 20 00:47:01 2002 +0000

    don't handle key presses if there's no callback and no items

 libs/console/menu.c |    2 ++
 1 file changed, 2 insertions(+)

commit 9f6a16a
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jan 20 00:38:02 2002 +0000

    shrink the hardrule (for want of a better name) by 2 chars so it fits

 nq/source/host.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 95e200a
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jan 20 00:32:14 2002 +0000

    fix console command line quit

 libs/console/menu.c |   13 +++++++++++++
 1 file changed, 13 insertions(+)

commit 35de51e
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jan 20 00:06:08 2002 +0000

    the quit menu works now. however, quit from the console doesn't

 cs-code/menu.qc             |  136 ++++++++++++++++++++++++++++++++++++++++++-
 include/QF/plugin/console.h |    1 +
 libs/console/client.c       |    2 +-
 libs/console/menu.c         |   92 +++++++++++++++++++++++++----
 4 files changed, 217 insertions(+), 14 deletions(-)

commit 39d432b
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jan 20 00:04:50 2002 +0000

    make sure force_commandline in the console data gets set appropriatly

 nq/source/cl_main.c  |    5 +++++
 nq/source/host.c     |    1 +
 nq/source/host_cmd.c |    5 ++++-
 qw/source/cl_main.c  |   11 +++++++++--
 4 files changed, 19 insertions(+), 3 deletions(-)

commit bb82e48
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jan 20 00:03:34 2002 +0000

    add Draw_String to csqc

 libs/video/renderer/r_progs.c |   11 +++++++++++
 1 file changed, 11 insertions(+)

commit 60e1b2c
Author: Chris Ison <cisos@bigpond.net.au>
Date:   Sat Jan 19 23:06:28 2002 +0000

    fixed 3dfx not building due to mis-named lib

 nq/source/Makefile.am |    2 +-
 qw/source/Makefile.am |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 84636f2
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jan 19 22:53:00 2002 +0000

    make sure r_progs gets linked in when using the .a lib

 libs/video/renderer/r_main.c |    2 ++
 1 file changed, 2 insertions(+)

commit 6767d6b
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jan 19 20:45:45 2002 +0000

    win32 compile fixes

 include/compat.h                 |    2 ++
 include/qstring.h                |    5 +++++
 libs/console/menu.c              |   18 ++++++++++++++++++
 libs/util/string.c               |   11 +++++++----
 libs/video/renderer/gl/gl_draw.c |    1 +
 libs/video/targets/joy_win.c     |    1 -
 libs/video/targets/vid_wgl.c     |    7 ++++---
 nq/source/Makefile.am            |    3 +--
 nq/source/net_wins.c             |    2 +-
 9 files changed, 39 insertions(+), 11 deletions(-)

commit 9181dda
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jan 19 07:40:35 2002 +0000

    don't go to game when leaving menus when there's no game. doesn't actually
    work properly, but I think that's a bug in the main client code.

 libs/console/menu.c |    9 +++++++--
 1 file changed, 7 insertions(+), 2 deletions(-)

commit b73851d
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jan 19 07:19:39 2002 +0000

    the menu cursor can now be moved up and down using the mouse wheel

 cs-code/menu.qc     |   28 ++++++++++++++++++++++++----
 libs/console/menu.c |   27 +++++++++++++++++++++++++--
 2 files changed, 49 insertions(+), 6 deletions(-)

commit 29c19ca
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jan 19 06:18:52 2002 +0000

    Menu_CenterPic now centers the pic (horizontally) as intended

 libs/console/menu.c |    8 +++++++-
 1 file changed, 7 insertions(+), 1 deletion(-)

commit b1b848a
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jan 19 05:56:25 2002 +0000

    finally get the damn spinner working (not in the right place, though)

 cs-code/menu.qc     |   12 ++++++------
 libs/console/menu.c |    8 +++++---
 2 files changed, 11 insertions(+), 9 deletions(-)

commit 786a88b
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jan 19 05:45:48 2002 +0000

    blah, bloody separate LDADD and DEPENDENCIES. well, this'll fix 'em :P

 nq/source/Makefile.am |  168 +++++++++++++++++++++++--------------------------
 qw/source/Makefile.am |  152 ++++++++++++++++++++++----------------------
 2 files changed, 156 insertions(+), 164 deletions(-)

commit a78ea14
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jan 19 04:37:47 2002 +0000

    provide stubs for the client-only functions (they might prove useful in the
    server later anyway). this fixes nq-server's segs

 libs/console/server.c |   28 ++++++++++++++++++++++++----
 1 file changed, 24 insertions(+), 4 deletions(-)

commit 6af9a5d
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jan 19 03:31:51 2002 +0000

    make the builtins an array of pointers so the hash table doesn't get royally
    screwed up

 include/QF/progs.h              |    3 ++-
 libs/gamecode/engine/pr_edict.c |   22 +++++++++++++---------
 libs/gamecode/engine/pr_exec.c  |   12 +++---------
 qw/source/sv_pr_cmds.c          |    2 +-
 4 files changed, 19 insertions(+), 20 deletions(-)

commit 6ab3329
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jan 19 03:28:52 2002 +0000

    bring back togglemenu

 libs/console/menu.c |   17 +++++++++++++++--
 1 file changed, 15 insertions(+), 2 deletions(-)

commit 15e7e35
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jan 19 02:29:29 2002 +0000

    make K_ESCAPE bindable

 libs/video/targets/keys.c |    3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit 7def886
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jan 18 23:53:51 2002 +0000

    fix a goof with the progs loader for the server interface

 libs/gamecode/engine/pr_edict.c |    3 +++
 1 file changed, 3 insertions(+)

commit fcc9cbf
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jan 18 23:45:28 2002 +0000

    the main menu page now displays and can be entered/left. K_ESCAPE is now
    handled exclusively by the console.

 cs-code/menu.qc           |    2 +-
 include/QF/console.h      |    2 ++
 libs/console/client.c     |   36 ++++++++++++++++++++++++------
 libs/console/menu.c       |   53 +++++++++++++++++++++++++++++++++++++++++++++
 libs/video/targets/keys.c |   23 +++++---------------
 5 files changed, 91 insertions(+), 25 deletions(-)

commit 10acad1
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jan 18 22:35:46 2002 +0000

    first tie-in for the renderer (Draw_Pic: the interface will likely change
    to better match the real interface, but this will do for now)

 cs-code/menu.qc                 |    5 ++++
 include/QF/render.h             |    2 ++
 libs/console/menu.c             |    3 ++
 libs/video/renderer/Makefile.am |    4 ++-
 libs/video/renderer/r_progs.c   |   58 +++++++++++++++++++++++++++++++++++++++
 nq/source/Makefile.am           |   31 +++++++++++++--------
 qw/source/Makefile.am           |   24 ++++++++--------
 7 files changed, 104 insertions(+), 23 deletions(-)

commit ac71d10
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jan 18 22:02:59 2002 +0000

    menu code now gets initialized (menu_init in the progs).

 include/QF/console.h            |    2 +
 include/QF/keys.h               |    2 +-
 include/QF/plugin/console.h     |    2 +-
 include/QF/progs.h              |    1 +
 libs/console/client.c           |    6 ++-
 libs/console/menu.c             |   98 +++++++++++++++++++++++++++++++++++----
 libs/gamecode/engine/pr_edict.c |   34 +++++++++-----
 7 files changed, 122 insertions(+), 23 deletions(-)

commit bb96a5b
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jan 18 19:19:33 2002 +0000

    first use of client side QuakeC :) (and having more than one progs instance
    seems to work, too). The menu code gets loaded, but is currently otherwise
    unused as of yet.

 include/QF/console.h            |    5 +
 include/QF/plugin/console.h     |    2 +
 include/QF/progs.h              |    2 +-
 libs/console/Makefile.am        |    2 +-
 libs/console/client.c           |   17 +++-
 libs/console/console.c          |    7 ++
 libs/console/menu.c             |  193 +++++++++++++++++++++++++++++++++++++++
 libs/console/server.c           |    1 +
 libs/gamecode/engine/pr_edict.c |   12 ++-
 nq/source/cl_parse.c            |    1 +
 nq/source/host.c                |    5 +-
 qw/source/cl_main.c             |    6 ++
 qw/source/cl_parse.c            |    1 +
 13 files changed, 244 insertions(+), 10 deletions(-)

commit bff69d1
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jan 18 18:24:05 2002 +0000

    add .vimrc

 cs-code/.gitignore |    1 +
 1 file changed, 1 insertion(+)

commit cef918d
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jan 18 08:26:37 2002 +0000

    get array initialisation worrking

 cs-code/Makefile             |    5 ++++
 cs-code/menu.qc              |    4 +--
 tools/qfcc/include/expr.h    |    6 +++--
 tools/qfcc/source/expr.c     |   34 ++++++++++++++++++++++++++
 tools/qfcc/source/pr_def.c   |   13 ++++++++++
 tools/qfcc/source/qc-parse.y |   55 +++++++++++++++++++++++++++++++++++++++++-
 tools/qfcc/source/qfcc.c     |    5 ++++
 tools/qwaq/main.qc           |   11 +++++++++
 8 files changed, 128 insertions(+), 5 deletions(-)

commit e3b2bfb
Author: Chris Ison <cisos@bigpond.net.au>
Date:   Thu Jan 17 22:04:58 2002 +0000

    clear key states on game start

 include/QF/input.h           |    2 ++
 include/in_win.h             |    1 -
 libs/video/targets/vid_mgl.c |    1 +
 libs/video/targets/vid_win.c |    2 +-
 nq/source/cl_main.c          |    1 +
 qw/source/cl_main.c          |    1 +
 6 files changed, 6 insertions(+), 2 deletions(-)

commit c3b2533
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 17 21:49:47 2002 +0000

    fix shifted key input

 libs/console/client.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 7093c05
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 17 21:27:31 2002 +0000

    console scrolling works again, and even better than before :)

 libs/console/client.c |   39 ++++++++++++++++++++++++++++++++++++---
 1 file changed, 36 insertions(+), 3 deletions(-)

commit 59cec48
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 17 19:41:01 2002 +0000

    oops (hmm, I seem to be doing a lot of that lately:/)

 cs-code/Makefile |    2 +-
 cs-code/menu.qc  |   14 +++++++-------
 2 files changed, 8 insertions(+), 8 deletions(-)

commit 7247415
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 17 19:33:32 2002 +0000

    usual thing

 cs-code/.gitignore |    3 +++
 1 file changed, 3 insertions(+)

commit d69762f
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 17 19:32:04 2002 +0000

    integer() and float() casts seem to work

 cs-code/menu.qc                  |   22 ++++---
 libs/gamecode/engine/pr_opcode.c |    4 ++
 tools/qfcc/include/expr.h        |    1 +
 tools/qfcc/source/emit.c         |  123 +++++++++++++++++++++-----------------
 tools/qfcc/source/expr.c         |   16 +++++
 tools/qfcc/source/qc-parse.y     |    1 +
 6 files changed, 104 insertions(+), 63 deletions(-)

commit d05e3c0
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 17 19:10:07 2002 +0000

    fix an init order oopsie. sorry about that, guys.

 nq/source/host.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 08c1d57
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 17 16:59:00 2002 +0000

    fix a param scoping error

 tools/qfcc/source/qc-parse.y |   16 +++++++---------
 1 file changed, 7 insertions(+), 9 deletions(-)

commit 31a98f0
Author: Seth Galbraith <sgalbrai@linknet.kitsap.lib.wa.us>
Date:   Thu Jan 17 16:31:34 2002 +0000

    only load tgas for texture names that end in backslash

 libs/models/brush/gl_model_brush.c |   20 +++++++++++++++++---
 1 file changed, 17 insertions(+), 3 deletions(-)

commit 7227ab4
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 17 08:19:53 2002 +0000

    qfcc.c:
    	add -P,--progs-src so you can specify the name of the progs.src file
    rest:
    	add/use print_type

 tools/qfcc/include/type.h |    1 +
 tools/qfcc/source/expr.c  |    5 ++++-
 tools/qfcc/source/qfcc.c  |   12 +++++++++++-
 tools/qfcc/source/type.c  |   34 ++++++++++++++++++++++++++++++++++
 4 files changed, 50 insertions(+), 2 deletions(-)

commit 55bb282
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 17 08:15:43 2002 +0000

    beginnings of the menu code

 cs-code/Makefile |    2 ++
 cs-code/menu.qc  |   40 ++++++++++++++++++++++++++++++++++++++++
 cs-code/menu.src |    3 +++
 3 files changed, 45 insertions(+)

commit 7eb9d70
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 17 04:29:41 2002 +0000

    oops, forgot to write that one

 nq/source/host.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 5a1c7ec
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 17 04:11:36 2002 +0000

    init order cleanup

 nq/source/com.c       |    2 --
 nq/source/host.c      |   31 ++++++++++++++++---------------
 nq/source/sys_sdl.c   |    3 ---
 nq/source/sys_unix.c  |    3 ---
 nq/source/sys_unixd.c |    3 ---
 nq/source/sys_win.c   |    5 -----
 nq/source/sys_wind.c  |    3 ---
 qw/source/cl_main.c   |   41 ++++++++++++++---------------------------
 8 files changed, 30 insertions(+), 61 deletions(-)

commit 303581b
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 17 02:47:22 2002 +0000

    oops?

 libs/console/console.c |    9 +++++++++
 1 file changed, 9 insertions(+)

commit 5e8d695
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 17 02:37:52 2002 +0000

    make sure the download progress bar gets erased when a dl is done

 qw/source/cl_parse.c |    1 +
 1 file changed, 1 insertion(+)

commit c998c63
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 17 02:27:53 2002 +0000

    make all of the input lines use the same rendering code

 libs/console/client.c |   67 ++++++++++++++++---------------------------------
 1 file changed, 21 insertions(+), 46 deletions(-)

commit e090f8d
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 17 02:10:36 2002 +0000

    finally get the say scroller working

 libs/console/client.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 6dbdfc0
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 17 02:10:06 2002 +0000

    yeah, it's an icky global, but it's actually the right way to get at the
    model header in the model loader.

 libs/models/alias/gl_model_alias.c |    8 +++-----
 1 file changed, 3 insertions(+), 5 deletions(-)

commit f67f021
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 17 02:06:49 2002 +0000

    don't need those anymore

 libs/util/Makefile.am |    2 +-
 libs/util/con_print.c |   45 -----------------
 libs/util/console.c   |  128 -------------------------------------------------
 3 files changed, 1 insertion(+), 174 deletions(-)

commit 9329d15
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 17 00:05:30 2002 +0000

    more chat improvements

 libs/console/client.c |   32 ++++++++++++++++++++------------
 1 file changed, 20 insertions(+), 12 deletions(-)

commit 9e5c7da
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 16 23:06:28 2002 +0000

    move the chat code from keys.c to client.c.
    oops, chat just got input history, dear me

 libs/console/client.c     |   71 ++++++++++++++++++++++++++++++++++++++++++---
 libs/console/inputline.c  |    2 +-
 libs/video/targets/keys.c |   66 ++---------------------------------------
 3 files changed, 70 insertions(+), 69 deletions(-)

commit ceec1a8
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 16 22:09:41 2002 +0000

    fix some installing issues for dynamic plugins

 libs/console/Makefile.am |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit c86c5a7
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 16 21:53:42 2002 +0000

    finally, the client console is merged

 include/QF/console.h               |   19 +-
 include/QF/keys.h                  |    1 +
 include/QF/plugin/console.h        |   12 +-
 libs/console/client.c              |  294 ++++++++++------
 libs/console/console.c             |   30 +-
 libs/console/inputline.c           |    7 +
 libs/console/server.c              |    3 +
 libs/video/renderer/gl/gl_screen.c |   19 +-
 libs/video/renderer/sw/screen.c    |   17 +-
 libs/video/renderer/sw32/screen.c  |   17 +-
 libs/video/targets/keys.c          |  174 +---------
 nq/source/Makefile.am              |    7 +-
 nq/source/console.c                |  648 ----------------------------------
 nq/source/host.c                   |   10 +
 nq/source/sv_ded.c                 |    8 +
 qw/source/Makefile.am              |    5 +-
 qw/source/cl_main.c                |   11 +
 qw/source/cl_parse.c               |    4 +-
 qw/source/console.c                |  675 ------------------------------------
 19 files changed, 293 insertions(+), 1668 deletions(-)

commit 778af42
Author: Seth Galbraith <sgalbrai@linknet.kitsap.lib.wa.us>
Date:   Wed Jan 16 20:32:39 2002 +0000

    external tga skin loading, doesn't work for players (teamcolor stuff)

 include/QF/model.h                 |    1 +
 libs/models/alias/gl_model_alias.c |   50 ++++++++++++++++++++++++++++++++++++
 libs/models/alias/sw_model_alias.c |    6 +++++
 libs/models/model.c                |    1 +
 nq/source/sv_model.c               |    5 ++++
 qw/source/sv_model.c               |    5 ++++
 6 files changed, 68 insertions(+)

commit 9dedd21
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 16 16:27:56 2002 +0000

    start getting the shared console code working

 acconfig.h                  |    4 +++
 configure.ac                |   18 +++++++++++
 include/QF/plugin/console.h |    1 +
 libs/console/Makefile.am    |   10 +++---
 libs/console/client.c       |   72 ++++++++++++++++++-------------------------
 5 files changed, 58 insertions(+), 47 deletions(-)

commit 0dcfc6d
Author: Seth Galbraith <sgalbrai@linknet.kitsap.lib.wa.us>
Date:   Wed Jan 16 01:59:05 2002 +0000

    load tga versions of .lmp files if present

 libs/video/renderer/gl/gl_draw.c |   19 ++++++++++++++++++-
 1 file changed, 18 insertions(+), 1 deletion(-)

commit 93116bc
Author: Seth Galbraith <sgalbrai@linknet.kitsap.lib.wa.us>
Date:   Wed Jan 16 01:02:50 2002 +0000

    external mip texture loading

 include/QF/model.h                 |    1 +
 libs/models/brush/gl_model_brush.c |   29 +++++++++++++++++++++++++++++
 libs/models/brush/sw_model_brush.c |    5 +++++
 libs/models/model.c                |    1 +
 nq/source/sv_model.c               |    5 +++++
 qw/source/sv_model.c               |    5 +++++
 6 files changed, 46 insertions(+)

commit 9c19691
Author: Seth Galbraith <sgalbrai@linknet.kitsap.lib.wa.us>
Date:   Tue Jan 15 21:05:34 2002 +0000

    cleanup, implemented tga loading for gfx.wad files

 libs/models/sprite/gl_model_sprite.c |   24 +++++++++++-------------
 libs/video/renderer/gl/gl_draw.c     |   23 ++++++++++++++++++++---
 2 files changed, 31 insertions(+), 16 deletions(-)

commit 5c2a17f
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 14 17:41:38 2002 +0000

    the /much/ better fix for the server crashing when dropping a client

 qw/source/sv_main.c |   11 +++--------
 1 file changed, 3 insertions(+), 8 deletions(-)

commit 2e3c1a5
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Mon Jan 14 15:06:00 2002 +0000

    some minor Forge updates.

 tools/Forge/Controller.m  |   59 ++++++++++++++++++++++++---------------------
 tools/Forge/Forge.classes |   39 +++++++++---------------------
 tools/Forge/Forge.gorm    |  Bin 5274 -> 1059 bytes
 3 files changed, 42 insertions(+), 56 deletions(-)

commit 9d59d95
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jan 12 05:32:21 2002 +0000

    more cleanups

 libs/console/complete.c            |    2 --
 libs/gamecode/builtins/pr_cmds.c   |    1 -
 libs/video/renderer/r_light.c      |    1 -
 libs/video/targets/in_event.c      |    1 -
 libs/video/targets/vid_common_gl.c |    1 -
 libs/video/targets/vid_svgalib.c   |    2 +-
 nq/source/cl_main.c                |    2 +-
 nq/source/cl_view.c                |    1 -
 nq/source/host.c                   |    1 -
 nq/source/net_dgrm.c               |    1 -
 nq/source/pr_cmds.c                |    5 +----
 nq/source/sbar.c                   |    8 +-------
 qw/source/cl_main.c                |    8 +-------
 qw/source/sv_ccmds.c               |    5 ++---
 14 files changed, 7 insertions(+), 32 deletions(-)

commit 6637f3f
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jan 12 04:46:15 2002 +0000

    more FIXME and whitespace cleanups

 libs/models/alias/model_alias.c |    5 ++---
 libs/models/brush/model_brush.c |   17 ++++++-----------
 2 files changed, 8 insertions(+), 14 deletions(-)

commit 630aa80
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jan 12 04:34:53 2002 +0000

    various cleanups including TODOs and FIXMEs and rewrite va to use a dynamic
    buffer.

 libs/console/server.c |    2 +-
 libs/util/cmd.c       |   12 +++++-------
 libs/util/hash.c      |    6 ++----
 libs/util/mathlib.c   |   34 ++++++++--------------------------
 libs/util/quakefs.c   |    8 --------
 libs/util/va.c        |   31 +++++++++++++++++++++++--------
 6 files changed, 39 insertions(+), 54 deletions(-)

commit 4af4c69
Author: Robin Redeker <elmex@ta-sa.org>
Date:   Fri Jan 11 10:15:59 2002 +0000

    Rearranged the text and added some new hints.

 doc/QF-HOWTO |   68 ++++++++++++++++++++++++++++++++++++++--------------------
 1 file changed, 45 insertions(+), 23 deletions(-)

commit 3b6c2c8
Author: Seth Galbraith <sgalbrai@linknet.kitsap.lib.wa.us>
Date:   Fri Jan 11 04:20:41 2002 +0000

    pretty 32 bit color sprite tga loading - e.g progs/s_light.spr_0.tga

 libs/models/sprite/gl_model_sprite.c |   25 +++++++++++++++++++++++++
 1 file changed, 25 insertions(+)

commit 5f4c7ee
Author: Seth Galbraith <sgalbrai@linknet.kitsap.lib.wa.us>
Date:   Fri Jan 11 03:00:32 2002 +0000

    implemented VP_PARALLEL_UPRIGHT - ask about my Mighty Oak

 libs/video/renderer/gl/gl_mod_sprite.c |    6 ++++++
 1 file changed, 6 insertions(+)

commit 7dc5b58
Author: Seth Galbraith <sgalbrai@linknet.kitsap.lib.wa.us>
Date:   Fri Jan 11 01:26:21 2002 +0000

    also try to load skies from gfx/env as darkplaces does

 libs/video/renderer/gl/gl_sky.c |   10 ++++++++--
 1 file changed, 8 insertions(+), 2 deletions(-)

commit d87af88
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 10 23:45:23 2002 +0000

    some docs thanks to elmex

 doc/QF-HOWTO |  206 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 206 insertions(+)

commit 38acbd9
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Thu Jan 10 21:22:51 2002 +0000

    Whitespace. Grr.

 libs/audio/cd/cd_xmms.c |   73 +++++++++++++++++------------------------------
 1 file changed, 26 insertions(+), 47 deletions(-)

commit 6132049
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 10 20:19:22 2002 +0000

    gl_draw.c: whitespace
    draw.c: (both sw and sw32) fix Draw_nString to be similar to gl_draw.c

 libs/video/renderer/gl/gl_draw.c |    5 ++---
 libs/video/renderer/sw/draw.c    |    6 +++---
 libs/video/renderer/sw32/draw.c  |    4 ++--
 3 files changed, 7 insertions(+), 8 deletions(-)

commit 140f806
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 10 07:48:41 2002 +0000

    more Draw_{Character,String,nString} optimisations

 nq/source/sbar.c |   12 ++++++------
 qw/source/sbar.c |   24 ++++++++++++------------
 2 files changed, 18 insertions(+), 18 deletions(-)

commit 2fb1d13
Author: Chris Ison <cisos@bigpond.net.au>
Date:   Thu Jan 10 04:28:17 2002 +0000

    fix potential bug in mini score display

 qw/source/sbar.c |   14 ++++----------
 1 file changed, 4 insertions(+), 10 deletions(-)

commit 859c18d
Author: Chris Ison <cisos@bigpond.net.au>
Date:   Thu Jan 10 03:54:00 2002 +0000

    tidy up Draw_String calls and switched to Draw_nString were needed

 libs/video/renderer/gl/gl_draw.c |    4 ++--
 qw/source/sbar.c                 |   29 +++++++++--------------------
 2 files changed, 11 insertions(+), 22 deletions(-)

commit f01cc24
Author: Chris Ison <cisos@bigpond.net.au>
Date:   Wed Jan 9 23:51:32 2002 +0000

    minor bug fixes to Draw_nString changes and Draw_Character tidy up, ie: typos and miss understanding

 nq/source/console.c |   10 +++++-----
 qw/source/console.c |   12 ++++++------
 2 files changed, 11 insertions(+), 11 deletions(-)

commit 6073ff8
Author: Chris Ison <cisos@bigpond.net.au>
Date:   Wed Jan 9 21:20:22 2002 +0000

    added Draw_nString for displaying a non \0 terminated string

 include/QF/draw.h                  |    1 +
 libs/video/renderer/gl/gl_draw.c   |   34 ++++++++++++++++++++++++++++++++++
 libs/video/renderer/gl/gl_screen.c |    5 ++---
 libs/video/renderer/sw/draw.c      |   10 ++++++++++
 libs/video/renderer/sw/screen.c    |    4 +---
 libs/video/renderer/sw32/draw.c    |    9 +++++++++
 libs/video/renderer/sw32/screen.c  |    6 +-----
 nq/source/console.c                |   19 ++++++-------------
 nq/source/sbar.c                   |   10 +++-------
 qw/source/console.c                |   20 ++++++--------------
 qw/source/sbar.c                   |    8 ++------
 11 files changed, 75 insertions(+), 51 deletions(-)

commit 96c7159
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 8 20:07:19 2002 +0000

    keep track of the times of the last event (for those events that report time)
    and use that instead of CurrentTime in the X selection code (as recommended
    by the ICCCM)

 include/context_x11.h            |    1 +
 libs/video/targets/context_x11.c |    9 ++-------
 libs/video/targets/in_x11.c      |   25 +++++++++++++++----------
 3 files changed, 18 insertions(+), 17 deletions(-)

commit 6633ea0
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 8 19:38:36 2002 +0000

    correct a typo in a comment

 libs/video/targets/in_x11.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c84e5b2
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 8 19:33:42 2002 +0000

    re-write the X selections support to be more ICCCM compliant (selections in
    xchat can now be pasted to qf)

 libs/video/targets/in_x11.c |   59 ++++++++++++++++++++++++++++---------------
 1 file changed, 38 insertions(+), 21 deletions(-)

commit 9ba80eb
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 7 16:43:47 2002 +0000

    use Hunk_TempAlloc instead of realloc for the alias model verts

 libs/video/renderer/sw/sw_ralias.c     |   24 ++++++++++--------------
 libs/video/renderer/sw32/sw32_ralias.c |   25 ++++++++++---------------
 2 files changed, 20 insertions(+), 29 deletions(-)

commit c1c76f7
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 7 06:50:41 2002 +0000

    whitespace

 libs/video/renderer/sw/sw_ralias.c |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 72d6f34
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 7 06:32:46 2002 +0000

    first step to using a saner internal represnetation for the high precietion
    models.

 include/QF/modelgen.h                 |    5 +++++
 libs/models/alias/gl_mesh.c           |   36 ++++++++++++++++++++-------------
 libs/video/renderer/gl/gl_mod_alias.c |   22 ++++++++++----------
 3 files changed, 38 insertions(+), 25 deletions(-)

commit 14fb289
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 7 03:46:56 2002 +0000

    duplicate GL_GetAliasFrameVerts so 16 bit alias models don't cost so much
    even when they aren't being used.

 libs/video/renderer/gl/gl_mod_alias.c |  160 +++++++++++++++++++++++----------
 1 file changed, 111 insertions(+), 49 deletions(-)

commit b582a02
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jan 7 01:05:44 2002 +0000

    fix the broken lighting for unlerped verteces

 libs/video/renderer/gl/gl_mod_alias.c |    7 ++++---
 1 file changed, 4 insertions(+), 3 deletions(-)

commit f8daa09
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sun Jan 6 23:12:09 2002 +0000

    Fix software scrag missile trails, and add a minor optimization to them and hell knight's fire wave trails.

 libs/video/renderer/sw/sw_rpart.c     |   15 +++++++++++----
 libs/video/renderer/sw32/sw32_rpart.c |   23 +++++++++++++++--------
 2 files changed, 26 insertions(+), 12 deletions(-)

commit 097ff00
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sun Jan 6 22:43:51 2002 +0000

    Rearrange vertex order in quads.

 libs/video/renderer/gl/gl_dyn_part.c |   32 ++++++++++++++++----------------
 1 file changed, 16 insertions(+), 16 deletions(-)

commit 0a7ddae
Author: Seth Galbraith <sgalbrai@linknet.kitsap.lib.wa.us>
Date:   Sat Jan 5 20:00:50 2002 +0000

    move high precision check out of loop to optimize sw model rendering

 libs/video/renderer/sw/sw_ralias.c     |  110 ++++++++++++++++++++------------
 libs/video/renderer/sw32/sw32_ralias.c |  109 +++++++++++++++++++------------
 2 files changed, 137 insertions(+), 82 deletions(-)

commit 8c2d3f6
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Sat Jan 5 19:18:27 2002 +0000

    Add a couple symbols to qfcc's preprocessor lines

 tools/qfcc/source/qfcc.c |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 9f6dcec
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Sat Jan 5 19:13:20 2002 +0000

    --save-temps support for qfcc. It'll leave files with the same filenames
    they're generated from, with the exception that they will have an
    extension of .p. Obviously, depends on cpp support.

 tools/qfcc/include/qfcc.h |    1 +
 tools/qfcc/source/qfcc.c  |   77 ++++++++++++++++++++++++++++++++-------------
 2 files changed, 57 insertions(+), 21 deletions(-)

commit aa36ebf
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sat Jan 5 19:03:36 2002 +0000

    Little bit of whitespace cleanup.

 libs/video/renderer/gl/gl_mod_alias.c |   21 ++++++---------------
 1 file changed, 6 insertions(+), 15 deletions(-)

commit a0370e5
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Sat Jan 5 18:46:59 2002 +0000

    Manpage should be both distributed and installed now.

 tools/qfcc/Makefile.am  |    2 +-
 tools/qfcc/configure.in |    5 +++--
 2 files changed, 4 insertions(+), 3 deletions(-)

commit 33b6429
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Sat Jan 5 18:46:05 2002 +0000

    Makefiles for docs.

 tools/qfcc/doc/.gitignore      |    2 ++
 tools/qfcc/doc/Makefile.am     |    5 ++++
 tools/qfcc/doc/man/.gitignore  |    2 ++
 tools/qfcc/doc/man/Makefile.am |    3 +++
 tools/qfcc/doc/man/qfcc.1      |   57 ++++++++++++++++++++++------------------
 5 files changed, 43 insertions(+), 26 deletions(-)

commit 1e57bcd
Author: Seth Galbraith <sgalbrai@linknet.kitsap.lib.wa.us>
Date:   Sat Jan 5 17:56:33 2002 +0000

    no more hardcoded MAXALIASVERTS limit

 libs/video/renderer/sw/sw_ralias.c     |   28 ++++++++++++++++++++--------
 libs/video/renderer/sw32/sw32_ralias.c |   28 ++++++++++++++++++++--------
 2 files changed, 40 insertions(+), 16 deletions(-)

commit cb6ef3e
Author: Seth Galbraith <sgalbrai@linknet.kitsap.lib.wa.us>
Date:   Sat Jan 5 16:53:43 2002 +0000

    putting if outside the for loop should speed things up

 libs/video/renderer/gl/gl_mod_alias.c |   35 ++++++++++++++++++++-------------
 1 file changed, 21 insertions(+), 14 deletions(-)

commit ac5b682
Author: Seth Galbraith <sgalbrai@linknet.kitsap.lib.wa.us>
Date:   Sat Jan 5 16:20:38 2002 +0000

    high precision model rendering in GL

 libs/video/renderer/gl/gl_mod_alias.c |   45 ++++++++++++++++++++++++++++-----
 1 file changed, 39 insertions(+), 6 deletions(-)

commit a18fdbc
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sat Jan 5 07:23:23 2002 +0000

    Minor clarification in pt_fire ramp aging, plus reduce VectorScale use in fixed distance trails from once per particle to once per trail.

 libs/video/renderer/gl/gl_dyn_part.c |   32 ++++++++++++++++----------------
 1 file changed, 16 insertions(+), 16 deletions(-)

commit 4245684
Author: Seth Galbraith <sgalbrai@linknet.kitsap.lib.wa.us>
Date:   Sat Jan 5 03:21:02 2002 +0000

    high precision software mdl rendering

 include/r_local.h                      |    1 -
 libs/models/alias/model_alias.c        |    1 +
 libs/video/renderer/sw/sw_ralias.c     |   45 +++++++++++++++++++++-----------
 libs/video/renderer/sw32/sw32_ralias.c |   34 +++++++++++++++++++-----
 4 files changed, 58 insertions(+), 23 deletions(-)

commit abf73ea
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Fri Jan 4 20:31:53 2002 +0000

    Support nibs in MainPrefs.

 tools/Forge/Bundles/MainPrefs/GNUmakefile.preamble |    2 +-
 tools/Forge/Bundles/MainPrefs/MainPrefs.h          |    1 +
 tools/Forge/Bundles/MainPrefs/MainPrefs.m          |   15 +++++++++++++--
 3 files changed, 15 insertions(+), 3 deletions(-)

commit f591b27
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jan 4 18:43:55 2002 +0000

    set the result of the block used for self.maxs = obj.origin; type expressions

 tools/qfcc/source/expr.c |    1 +
 1 file changed, 1 insertion(+)

commit 718a643
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jan 4 18:27:01 2002 +0000

    more old-code cleanup. move PR_LexString into make_string

 tools/qfcc/include/qfcc.h    |   18 -----
 tools/qfcc/source/pr_lex.c   |  178 ------------------------------------------
 tools/qfcc/source/qc-lex.l   |  147 +++++++++++++++++++++++++++++-----
 tools/qfcc/source/qc-parse.y |    2 -
 4 files changed, 129 insertions(+), 216 deletions(-)

commit 12d2338
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jan 4 17:13:13 2002 +0000

    handle dos line endings a little better

 tools/qfcc/source/qc-lex.l |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 184ff4a
Author: Forest Hale <lordhavoc@users.sourceforge.net>
Date:   Fri Jan 4 11:12:52 2002 +0000

    made qfcc compile again, by renaming com_token to qfcc_com_token so it does not conflict with QFutil

 tools/qfcc/include/cmdlib.h |    2 +-
 tools/qfcc/source/cmdlib.c  |   16 ++++++++--------
 tools/qfcc/source/qfcc.c    |    6 +++---
 3 files changed, 12 insertions(+), 12 deletions(-)

commit 9d27395
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jan 4 08:45:24 2002 +0000

    character constants

 tools/qfcc/source/pr_lex.c |   11 +++++++++--
 tools/qfcc/source/qc-lex.l |   12 +++++++++++-
 2 files changed, 20 insertions(+), 3 deletions(-)

commit 6ec47e6
Author: Seth Galbraith <sgalbrai@linknet.kitsap.lib.wa.us>
Date:   Fri Jan 4 07:40:00 2002 +0000

    slaying hardcoded mdl vertex and triangle limit

 include/QF/model.h              |    6 ++----
 libs/models/alias/model_alias.c |   23 +++++++++++++++++++----
 2 files changed, 21 insertions(+), 8 deletions(-)

commit 36bb62c
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jan 4 06:13:50 2002 +0000

    rewrite CrossProduct so memory is accessed more linearly. should provide
    a tiny speedup for servers and clipped skyboxes

 libs/util/mathlib.c |   13 ++++++++++---
 1 file changed, 10 insertions(+), 3 deletions(-)

commit df947a8
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jan 4 04:12:10 2002 +0000

    pt_color is now an int so don't convert it

 libs/video/renderer/sw/d_parta.S |    3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit 43ca999
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Fri Jan 4 04:05:46 2002 +0000

    Minor bugfix.

 include/d_iface.h  |    2 +-
 include/d_ifacea.h |    4 ++--
 2 files changed, 3 insertions(+), 3 deletions(-)

commit b13efc3
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Fri Jan 4 03:32:59 2002 +0000

    Particle updates. Some cleanups, small speedups, and reimplement id's effects. r_particle_styles 0 to see id's effects.

 include/d_iface.h                     |   19 +-
 include/d_ifacea.h                    |   16 +-
 include/r_cvar.h                      |    3 +
 libs/video/renderer/gl/gl_dyn_part.c  |  869 +++++++++++++++++++++++++--------
 libs/video/renderer/r_cvar.c          |    4 +
 libs/video/renderer/sw/sw_rpart.c     |    5 +
 libs/video/renderer/sw32/sw32_rpart.c |    5 +
 qw/source/cl_main.c                   |    3 +-
 8 files changed, 704 insertions(+), 220 deletions(-)

commit 07fb841
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Fri Jan 4 03:25:30 2002 +0000

    Whitespace, mark a 1 line function as inline.

 libs/video/renderer/gl/gl_sky.c      |    1 -
 libs/video/renderer/gl/gl_sky_clip.c |    2 +-
 2 files changed, 1 insertion(+), 2 deletions(-)

commit 3c6f64b
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 3 23:24:47 2002 +0000

    _snprintf and _vsnprintf are not guaranteed to write the trailing '\0'

 include/compat.h   |    4 ++--
 libs/util/string.c |   26 ++++++++++++++++++++++++++
 2 files changed, 28 insertions(+), 2 deletions(-)

commit 522f64b
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 3 23:24:20 2002 +0000

    remove an extra ;

 libs/util/quakefs.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 9312681
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 3 18:18:45 2002 +0000

    some more const correctness (in gl_sky_clip.c) and make the sky poly debug
    drawing avialable via the gl_sky_debug cvar.

 include/QF/GL/qf_funcs_list.h        |    2 +-
 include/QF/GL/qf_sky.h               |    3 +-
 include/r_cvar.h                     |    1 +
 libs/video/renderer/gl/gl_sky_clip.c |  152 ++++++++++++++++++----------------
 libs/video/renderer/r_cvar.c         |    3 +
 5 files changed, 88 insertions(+), 73 deletions(-)

commit 461f63c
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 3 06:26:57 2002 +0000

    fix the black player skins

 nq/source/host.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 013f503
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 3 05:29:38 2002 +0000

    start getting const-correct on vec3_t params

 include/QF/GL/qf_explosions.h         |    2 +-
 include/QF/locs.h                     |   12 ++++-----
 include/QF/mathlib.h                  |   33 ++++++++++++-----------
 include/QF/model.h                    |    8 +++---
 include/QF/msg.h                      |    7 ++---
 include/QF/plugin/snd_render.h        |    6 ++---
 include/QF/render.h                   |    2 +-
 include/QF/sound.h                    |   18 ++++++++-----
 include/r_dynamic.h                   |   32 +++++++++++------------
 include/r_local.h                     |    9 ++++---
 include/r_shared.h                    |    2 +-
 include/view.h                        |    2 +-
 include/world.h                       |   15 ++++++-----
 libs/audio/renderer/snd_dma.c         |    8 +++---
 libs/audio/snd.c                      |    7 ++---
 libs/models/brush/model_brush.c       |    7 +++--
 libs/util/mathlib.c                   |   22 ++++++++--------
 libs/util/msg.c                       |    6 ++---
 libs/video/renderer/gl/gl_dyn_part.c  |   46 ++++++++++++++++++---------------
 libs/video/renderer/r_light.c         |   14 +++++-----
 libs/video/renderer/sw/sw_rmisc.c     |    2 +-
 libs/video/renderer/sw/sw_rpart.c     |   27 +++++++++----------
 libs/video/renderer/sw32/sw32_rmisc.c |    2 +-
 libs/video/renderer/sw32/sw32_rpart.c |   27 +++++++++----------
 nq/include/server.h                   |    9 ++++---
 nq/source/locs.c                      |   15 +++++------
 nq/source/pr_cmds.c                   |    2 +-
 nq/source/sv_ded.c                    |    3 ++-
 nq/source/sv_main.c                   |    2 +-
 nq/source/sv_move.c                   |    2 +-
 nq/source/sv_user.c                   |    2 +-
 nq/source/world.c                     |   40 ++++++++++++++--------------
 qw/include/pmove.h                    |   11 ++++----
 qw/include/server.h                   |    5 ++--
 qw/source/cl_view.c                   |    2 +-
 qw/source/locs.c                      |   16 +++++-------
 qw/source/pmovetst.c                  |   14 +++++-----
 qw/source/sv_move.c                   |    2 +-
 qw/source/sv_send.c                   |    2 +-
 qw/source/world.c                     |   37 +++++++++++++-------------
 40 files changed, 251 insertions(+), 229 deletions(-)

commit 571df6d
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 2 23:01:05 2002 +0000

    change window caption to include "Disconnected" when not connected

 nq/source/cl_main.c |    2 ++
 1 file changed, 2 insertions(+)

commit c68da1f
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 2 19:23:09 2002 +0000

     o  split up GL_DrawAliasFrame so it's normal (ie, not fullbright) pass only
        creating GL_DrawAliasFrame_fb to do the fullbright pass. This removes
        the if (fb) tests.
     o  move the DepthMask setting for modelalpha != 1.0 out of
        GL_DrawAliasFrame* into R_DrawAliasModel to reduce potential GL state
        changes.
     o  minor comment cleanup/corrections

 libs/video/renderer/gl/gl_mod_alias.c |   77 +++++++++++++++++++++------------
 1 file changed, 50 insertions(+), 27 deletions(-)

commit 9bc80e4
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 2 16:21:02 2002 +0000

    make dist and rpms work again

 RPM/quakeforge.spec.in |    2 --
 include/Makefile.am    |    4 ++--
 2 files changed, 2 insertions(+), 4 deletions(-)

commit c0e2639
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Mon Dec 31 18:10:20 2001 +0000

    Add quaketoascii program, from Dwayne C. Litzenberger <dlitz@dlitz.net>

 tools/quaketoascii/Makefile       |    6 ++++++
 tools/quaketoascii/quaketoascii.c |   43 +++++++++++++++++++++++++++++++++++++
 2 files changed, 49 insertions(+)

commit 29b48c5
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sun Dec 30 06:08:24 2001 +0000

    More tweaks to joystick code. amp settings have a far greater effect now...

 libs/video/targets/joy.c |   64 ++++++++++++++++------------------------------
 1 file changed, 22 insertions(+), 42 deletions(-)

commit 3cfd2c0
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Dec 30 04:16:25 2001 +0000

    make GL_DrawAliasShadow use the data calculated by GL_GetAliasFraveVerts so
    shadows don't cost as much when lerping is enabled.

 libs/video/renderer/gl/gl_mod_alias.c |   95 +++------------------------------
 1 file changed, 8 insertions(+), 87 deletions(-)

commit d570f09
Author: Seth Galbraith <sgalbrai@linknet.kitsap.lib.wa.us>
Date:   Sun Dec 30 02:30:26 2001 +0000

    high precision model loading

 include/QF/model.h                 |    6 +++---
 include/QF/modelgen.h              |    4 ++++
 libs/models/alias/gl_mesh.c        |   18 ++++++++++++++----
 libs/models/alias/gl_model_alias.c |   16 ++++++++++++----
 libs/models/alias/model_alias.c    |   11 ++++++++---
 libs/models/alias/sw_model_alias.c |   31 +++++++++++++++++++++++++------
 libs/models/model.c                |    1 +
 7 files changed, 67 insertions(+), 20 deletions(-)

commit 94b1683
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Fri Dec 28 18:19:23 2001 +0000

    Rest of previous commit.

 include/QF/joystick.h |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c523671
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Fri Dec 28 18:02:33 2001 +0000

    Joystick updates. Now support 8 joystick axes (since I have a 7-axis gamepad I'm testing with). Also adds swimup/swimdown as axis 5. And ability to invert axes by assigning them as negative numbers (set joyaxis1 "-1"). Joystick handling is liable to change radically as it improves, though, don't count on these as stable interfaces...

 libs/video/targets/joy.c |   93 +++++++++++++++++++++++++++++++++-------------
 1 file changed, 68 insertions(+), 25 deletions(-)

commit 0f2f587
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Dec 21 22:39:14 2001 +0000

    this is just causing confusion. if we ever need it, it's still in cvs

 libs/video/targets/vid_vga.c |  455 ------------------------------------------
 1 file changed, 455 deletions(-)

commit ee9ed0c
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Dec 21 21:52:03 2001 +0000

    minor cleanups

 include/QF/mathlib.h                   |    7 +++++++
 libs/video/renderer/gl/gl_mod_alias.c  |   13 ++++--------
 libs/video/renderer/gl/gl_mod_sprite.c |   34 +++++---------------------------
 libs/video/renderer/gl/gl_sky.c        |    6 ------
 libs/video/renderer/gl/gl_sky_clip.c   |    2 --
 5 files changed, 16 insertions(+), 46 deletions(-)

commit daa68ac
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Fri Dec 21 21:12:01 2001 +0000

    Minor pcx loader cleanup.

 libs/util/pcx.c |   19 ++++++++++---------
 1 file changed, 10 insertions(+), 9 deletions(-)

commit 7f9e575
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Dec 21 20:56:54 2001 +0000

    go back to my clever code (with the bug fixed this time:P). Hey, if it's
    still broken, we can always revert it again ;) (NOT!)

 libs/video/renderer/gl/gl_skin.c |   33 +++++++++++++++++++++++----------
 1 file changed, 23 insertions(+), 10 deletions(-)

commit 168d3aa
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Dec 21 20:12:51 2001 +0000

    tiny speedup to texture uploads

 libs/video/renderer/gl/gl_textures.c |   13 +++++--------
 1 file changed, 5 insertions(+), 8 deletions(-)

commit 858bb55
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Dec 21 19:38:49 2001 +0000

    kill some dead code

 libs/util/tga.c |   26 --------------------------
 1 file changed, 26 deletions(-)

commit b5e93ff
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Fri Dec 21 16:08:56 2001 +0000

    Minor speedup (*foo++, dammit!), some whitespace.

 libs/util/tga.c |   70 +++++++++++++++++++++++++------------------------------
 1 file changed, 32 insertions(+), 38 deletions(-)

commit 825b02a
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Dec 21 06:07:30 2001 +0000

    minor speedup to skybox loading ;)

 libs/util/tga.c                 |  147 ++++++++++++++++++++-------------------
 libs/video/renderer/gl/gl_sky.c |    3 +-
 2 files changed, 75 insertions(+), 75 deletions(-)

commit b4de52e
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Dec 21 05:29:33 2001 +0000

    some readability (and speed?) improvments for LoadTGA

 libs/util/tga.c |  208 +++++++++++++++++++++++++++++--------------------------
 1 file changed, 111 insertions(+), 97 deletions(-)

commit 010ca03
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Fri Dec 21 01:41:19 2001 +0000

    Allow arbitrary power of 2 sizes for tga texture loads, reduce memory footprint needed to load rgb tgas. Speed load of non-RLE tgas.
    
    Some slight code sanity improvements.

 include/QF/texture.h            |   13 ++++--
 include/QF/tga.h                |    2 +-
 libs/util/tga.c                 |   86 +++++++++++++++++++++++++--------------
 libs/video/renderer/gl/gl_sky.c |   21 ++++++----
 4 files changed, 80 insertions(+), 42 deletions(-)

commit aaf9b95
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 20 23:55:49 2001 +0000

    make the no shutdown warning developer only (does the user realy need to
    see it?)

 libs/util/plugin.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 3f4aa1d
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 20 19:19:58 2001 +0000

    this should fix the crashing on win32

 nq/source/net_win.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 1721831
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 20 18:07:10 2001 +0000

    fix r_netgraph_box

 qw/source/cl_ngraph.c |    5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit ec44f03
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 20 05:16:59 2001 +0000

    remove the obsolete z buffer prototype code

 libs/video/renderer/gl/gl_sky_clip.c |   21 ---------------------
 1 file changed, 21 deletions(-)

commit 018481b
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Wed Dec 19 20:15:38 2001 +0000

    Might as well allow gl_affinemodels to affect the viewmodel as well...

 libs/video/renderer/gl/gl_rmain.c |    4 ++++
 1 file changed, 4 insertions(+)

commit e78bdb3
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Wed Dec 19 18:32:26 2001 +0000

    Fix failure to free cache for non-shadowed stuff (lightning, grenades, etc).
    Also a minor speedup (only mess with glHints once per frame, instead of dozens of times).

 libs/video/renderer/gl/gl_mod_alias.c  |   17 ++++-------------
 libs/video/renderer/gl/gl_mod_sprite.c |    3 +--
 libs/video/renderer/gl/gl_rmain.c      |    4 ++++
 3 files changed, 9 insertions(+), 15 deletions(-)

commit c764ddc
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Wed Dec 19 04:03:57 2001 +0000

    Just a massive speedup to gl particles. Enjoy.
    (Thanks to LordHavoc for prodding me to use glDrawElements, and munge all the particle textures into 1. Code mine, suggestions his)

 include/QF/GL/qf_funcs_list.h            |    2 +-
 include/QF/GL/qf_textures.h              |    3 +
 include/r_shared.h                       |    1 +
 include/varrays.h                        |   19 ++--
 libs/video/renderer/gl/gl_dyn_part.c     |  170 +++++++++++++++++++++++++-----
 libs/video/renderer/gl/gl_dyn_textures.c |   74 +++++++------
 libs/video/renderer/gl/gl_rmisc.c        |   11 +-
 libs/video/renderer/r_part.c             |    5 +-
 libs/video/renderer/sw/sw_rmain.c        |    1 +
 libs/video/renderer/sw/sw_rpart.c        |    4 +
 libs/video/renderer/sw32/sw32_rmain.c    |    1 +
 libs/video/renderer/sw32/sw32_rpart.c    |    5 +
 libs/video/targets/vid_common_gl.c       |   11 +-
 13 files changed, 235 insertions(+), 72 deletions(-)

commit 0c4d220
Author: Timothy C. McGrath <tmhikaru@gmail.com>
Date:   Wed Dec 19 00:40:34 2001 +0000

    Fixed a typo in a comment, (modifiefs) changed ancient word 'Quakespy' to
    more modern 'Gamespy' in help, fixed typos in show_ping and show_pl, (o is not
    0) added a more descriptive help line to show_time so people will know it
    actually has TWO settings, and localid finally has a description.
    
    Tim (Misty-chan)

 qw/source/cl_main.c |   18 +++++++++---------
 1 file changed, 9 insertions(+), 9 deletions(-)

commit 375ada1
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Dec 18 06:53:49 2001 +0000

    update to current version

 tools/cvs2cl/cvs2cl.pl |  513 ++++++++++++++++++++++++++++++++++++++++++------
 1 file changed, 449 insertions(+), 64 deletions(-)

commit 5d643c2
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Dec 18 05:50:57 2001 +0000

    tiny optimisation to GL_GetAliasFrameVerts

 libs/video/renderer/gl/gl_mod_alias.c |   27 ++++++++++++---------------
 1 file changed, 12 insertions(+), 15 deletions(-)

commit 73f9c3a
Author: Chris Ison <cisos@bigpond.net.au>
Date:   Tue Dec 18 03:59:37 2001 +0000

    some minor tidy/speed up

 libs/audio/renderer/snd_mix.c    |   30 +++++++++++++-----------------
 libs/video/renderer/gl/gl_warp.c |   17 +++++------------
 2 files changed, 18 insertions(+), 29 deletions(-)

commit 1c26723
Author: Chris Ison <cisos@bigpond.net.au>
Date:   Mon Dec 17 23:41:58 2001 +0000

    changed int to an unsigned int

 include/QF/draw.h                |    2 +-
 libs/video/renderer/gl/gl_draw.c |    6 +++---
 libs/video/renderer/sw/draw.c    |    2 +-
 libs/video/renderer/sw32/draw.c  |    2 +-
 4 files changed, 6 insertions(+), 6 deletions(-)

commit db71398
Author: Chris Ison <cisos@bigpond.net.au>
Date:   Mon Dec 17 23:10:00 2001 +0000

    removed row and col usage from Draw_Character

 libs/video/renderer/gl/gl_draw.c |    8 ++------
 1 file changed, 2 insertions(+), 6 deletions(-)

commit 46001cd
Author: Timothy C. McGrath <tmhikaru@gmail.com>
Date:   Sun Dec 16 21:39:50 2001 +0000

    Added gl_lightmap_subimage 1 and r_dlight_max 8 - noticable speedups in
    battles.
    
    (Thank you Wildcode)
    
    Once gl_lightmap_subimage's setting of 2 is debugged (right now it goes a
    teeny tiny bit whacko) I'll be using that, just FYI.
    
    
    Tim/Misty-chan

 doc/config/glspeed-v1.cfg |    8 ++++++++
 doc/config/glspeed-v3.cfg |    8 ++++++++
 2 files changed, 16 insertions(+)

commit 86d05b1
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Dec 15 04:58:16 2001 +0000

    heh, they already got dropped (zombie packets). Turns out the problem was
    SV_DropClient not aborting processing of a client packet, so do the evilness
    of using setjmp/longjmp to do so.

 qw/source/sv_main.c |   18 +++++++++++-------
 1 file changed, 11 insertions(+), 7 deletions(-)

commit cac001e
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Dec 15 04:13:56 2001 +0000

    zombied connections get their packets dropped on the floor

 qw/source/sv_main.c |    9 ++++++---
 1 file changed, 6 insertions(+), 3 deletions(-)

commit 3dafbeb
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Dec 14 08:15:04 2001 +0000

    fix up #0 builtin functions at runtime. not done automaticly (need to call
    PR_RelocateBuiltins) and fix a bug with profiling and unlimited execution
    counts

 include/QF/progs.h               |    4 +-
 libs/gamecode/builtins/pr_cmds.c |   19 --------
 libs/gamecode/engine/pr_edict.c  |   94 +++++++++++++++++---------------------
 libs/gamecode/engine/pr_exec.c   |    5 +-
 tools/qwaq/main.c                |    6 ++-
 5 files changed, 51 insertions(+), 77 deletions(-)

commit 2185e0a
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Fri Dec 14 05:33:00 2001 +0000

    Update qfcc man page.

 tools/qfcc/doc/man/qfcc.1 |   27 ++++++++++++++++-----------
 1 file changed, 16 insertions(+), 11 deletions(-)

commit 9b4e21a
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Dec 14 00:06:58 2001 +0000

    minor prototype cleanups

 include/QF/console.h         |    4 ----
 libs/video/targets/vid_x11.c |    1 -
 nq/source/console.c          |   18 +++++++++---------
 qw/source/console.c          |   17 ++++++++---------
 4 files changed, 17 insertions(+), 23 deletions(-)

commit 69e1a9a
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 13 22:56:43 2001 +0000

    bah, installed headers made my compile tests fail

 libs/util/msg.c     |    1 -
 qw/source/sv_main.c |    1 -
 2 files changed, 2 deletions(-)

commit 1571c8d
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 13 22:56:25 2001 +0000

    whitespace

 README.cygwin |   18 +++++++++---------
 1 file changed, 9 insertions(+), 9 deletions(-)

commit 218554d
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 13 20:44:32 2001 +0000

    move include/QF/string.h to include/qstring.h and include it automaticly if
    needed in compat.h

 include/Makefile.am    |    2 +-
 include/QF/Makefile.am |    2 +-
 include/QF/string.h    |   35 -----------------------------------
 include/compat.h       |    6 ++++++
 include/qstring.h      |   35 +++++++++++++++++++++++++++++++++++
 libs/util/string.c     |    1 -
 6 files changed, 43 insertions(+), 38 deletions(-)

commit b3843f7
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 13 19:13:22 2001 +0000

    draw.h:
    	remove dead Draw_TransPic prototype
    draw.c:
    	really don't draw spaces in Draw_AltString

 include/QF/draw.h                |    1 -
 libs/video/renderer/gl/gl_draw.c |    2 +-
 2 files changed, 1 insertion(+), 2 deletions(-)

commit f392c39
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 13 16:40:46 2001 +0000

    fix some uninitialized warnings my gcc missed, but misty's got

 tools/qfcc/source/expr.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit f30ac76
Author: Chris Ison <cisos@bigpond.net.au>
Date:   Wed Dec 12 23:38:44 2001 +0000

    QF performance config for voodoo2 allowing for playability

 doc/config/glspeed-v2.cfg |   53 +++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 53 insertions(+)

commit d95bf0a
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 12 22:04:34 2001 +0000

    blah

 tools/qfcc/TODO |    3 +++
 1 file changed, 3 insertions(+)

commit 112f74a
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 12 22:00:42 2001 +0000

    make integer constant division warnings optional

 tools/qfcc/include/qfcc.h |    1 +
 tools/qfcc/source/expr.c  |    6 ++++--
 tools/qfcc/source/qfcc.c  |    6 ++++++
 3 files changed, 11 insertions(+), 2 deletions(-)

commit 2db0892
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Wed Dec 12 21:56:09 2001 +0000

    MSG_(Read|Write)(Coord|Angle|CoordAngle)V. Cleanups, and preparation for use of vector ops in msg.c.

 include/QF/msg.h       |   13 +-
 libs/util/msg.c        |   70 +++++++++--
 nq/source/cl_input.c   |    5 +-
 nq/source/cl_parse.c   |   22 ++--
 nq/source/cl_tent.c    |   30 ++---
 nq/source/cl_view.c    |    2 +-
 nq/source/host_cmd.c   |  319 ++++++++++++------------------------------------
 nq/source/pr_cmds.c    |   38 +++---
 nq/source/sv_main.c    |   25 ++--
 nq/source/sv_user.c    |    3 +-
 qw/source/cl_cam.c     |    8 +-
 qw/source/cl_demo.c    |   10 +-
 qw/source/cl_ents.c    |    2 +-
 qw/source/cl_parse.c   |   29 ++---
 qw/source/cl_tent.c    |   28 ++---
 qw/source/sv_ents.c    |    3 +-
 qw/source/sv_init.c    |   12 +-
 qw/source/sv_pr_cmds.c |   12 +-
 qw/source/sv_send.c    |    7 +-
 qw/source/sv_user.c    |    5 +-
 20 files changed, 247 insertions(+), 396 deletions(-)

commit 195dd10
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 12 21:52:07 2001 +0000

    clean up some dead code

 tools/qfcc/source/expr.c |   13 +++----------
 1 file changed, 3 insertions(+), 10 deletions(-)

commit 2b458dd
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 12 21:50:11 2001 +0000

    clean up line/file management

 tools/qfcc/source/switch.c |   34 ++++++----------------------------
 1 file changed, 6 insertions(+), 28 deletions(-)

commit 6d65fe8
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 12 21:29:04 2001 +0000

    spontaneous temp defs need to have their users incremented when an
    assignment is part of a sub expression

 tools/qfcc/include/qfcc.h |    1 +
 tools/qfcc/source/emit.c  |    3 +++
 2 files changed, 4 insertions(+)

commit 7e38a8d
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 12 20:55:55 2001 +0000

    clean up the return def selection for emit_assign_expr

 tools/qfcc/source/emit.c |    5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

commit 8ddce20
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 12 20:35:58 2001 +0000

    pr_*: add storep.p so pointers can be stored into entities
    emit.c: convert & (address) to . in unary .
            rewrite emit_assign_expr
    expr.c: remove debug code and make unary . less agressive on address calcs
            also convert & (address) to . for lvals

 include/QF/pr_comp.h             |    1 +
 libs/gamecode/engine/pr_exec.c   |    1 +
 libs/gamecode/engine/pr_opcode.c |    1 +
 tools/qfcc/source/emit.c         |   93 +++++++++++++++-----------------------
 tools/qfcc/source/expr.c         |   30 ++++--------
 5 files changed, 50 insertions(+), 76 deletions(-)

commit b56d7f3
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 12 18:34:41 2001 +0000

    emit.c:
    	fix a missing else (should convert to switch)
    expr.c:
    	fix address_expr for binary expressions
    	fix unary .

 tools/qfcc/source/emit.c |    2 +-
 tools/qfcc/source/expr.c |   28 +++++++++++++++++-----------
 2 files changed, 18 insertions(+), 12 deletions(-)

commit f9149a0
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 12 17:15:09 2001 +0000

    finally get around to renaming type_name to pr_type_name

 include/QF/pr_comp.h              |    2 +-
 libs/gamecode/engine/pr_edict.c   |    5 +++--
 tools/qfcc/source/expr.c          |    8 ++++----
 tools/qfcc/source/pr_def.c        |    4 ++--
 tools/qfdefs/source/fix_globals.c |    4 ++--
 tools/qwaq/main.c                 |    4 ++--
 6 files changed, 14 insertions(+), 13 deletions(-)

commit cc34e59
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 12 08:39:47 2001 +0000

    lots of work on better array/pointer/struct handline. doesn't quite work yet

 libs/gamecode/engine/pr_opcode.c |   53 +++--
 tools/qfcc/include/expr.h        |   10 +-
 tools/qfcc/source/Makefile.am    |    2 +-
 tools/qfcc/source/emit.c         |   74 +++++-
 tools/qfcc/source/expr.c         |  464 +++++++++++++++++++++++++++-----------
 tools/qfcc/source/pr_def.c       |    3 +-
 tools/qfcc/source/pr_imm.c       |    2 +-
 tools/qfcc/source/qc-parse.y     |   15 +-
 tools/qfcc/source/switch.c       |    2 +-
 tools/qwaq/main.c                |    1 +
 10 files changed, 447 insertions(+), 179 deletions(-)

commit 05da8d2
Author: Chris Ison <cisos@bigpond.net.au>
Date:   Wed Dec 12 00:29:09 2001 +0000

    just a couple of server list todos

 TODO |    4 ++++
 1 file changed, 4 insertions(+)

commit f66b7a9
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Tue Dec 11 22:37:30 2001 +0000

    Major particle interface cleanup, several bugfixes, and minor performance improvements. Oh, check out "/help easter_eggs" (gl-only, at the moment).

 include/QF/msg.h                      |    1 +
 include/r_cvar.h                      |    3 +
 include/r_dynamic.h                   |   42 ++--
 libs/util/msg.c                       |   17 +-
 libs/video/renderer/gl/gl_dyn_part.c  |  395 +++++++++++++++++++++++----------
 libs/video/renderer/gl/gl_rmain.c     |    2 +-
 libs/video/renderer/gl/gl_rmisc.c     |    3 +-
 libs/video/renderer/r_cvar.c          |    4 +
 libs/video/renderer/r_part.c          |   21 ++
 libs/video/renderer/sw/sw_rpart.c     |  154 ++++++++-----
 libs/video/renderer/sw32/sw32_rpart.c |  207 +++++++++--------
 nq/source/cl_main.c                   |    2 +-
 nq/source/cl_parse.c                  |   10 +-
 nq/source/cl_tent.c                   |   80 +++----
 nq/source/cl_view.c                   |    5 +-
 qw/source/cl_ents.c                   |    6 +-
 qw/source/cl_parse.c                  |   12 +-
 qw/source/cl_tent.c                   |   72 +++---
 qw/source/sv_user.c                   |    4 +-
 19 files changed, 628 insertions(+), 412 deletions(-)

commit 8a47406
Author: Seth Galbraith <sgalbrai@linknet.kitsap.lib.wa.us>
Date:   Tue Dec 11 20:49:10 2001 +0000

    allow server to control player angles as in Hack and Slash mod\nclient's player model stands up straight\nmouse and joystick work properly in chase_active 2 and 3 modes

 nq/source/cl_cam.c   |    8 +++++++-
 nq/source/cl_input.c |   17 +++++++++--------
 nq/source/cl_view.c  |    8 --------
 qw/source/cl_cam.c   |    8 +++++++-
 qw/source/cl_input.c |   17 +++++++++--------
 5 files changed, 32 insertions(+), 26 deletions(-)

commit e9690c8
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Tue Dec 11 20:36:23 2001 +0000

    Whitespace.

 libs/video/renderer/gl/gl_warp.c |   23 ++++++++++-------------
 1 file changed, 10 insertions(+), 13 deletions(-)

commit 489e233
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Tue Dec 11 20:31:18 2001 +0000

    Change sound default. Null is a useless default. SDL default in windows, oss in linux.

 libs/audio/snd.c |    9 ++++++---
 1 file changed, 6 insertions(+), 3 deletions(-)

commit 835468b
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Dec 11 19:58:12 2001 +0000

    beginnings of breaking out the type code

 tools/qfcc/include/type.h |   37 +++++++++++++++++++++++++++++++++++
 tools/qfcc/source/type.c  |   47 +++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 84 insertions(+)

commit 0bb01f3
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Dec 10 03:17:21 2001 +0000

    don't crash when there are too many entities for update messages. just ignore
    the excess.

 qw/source/sv_ents.c |    6 ++++--
 tools/qwaq/main.qc  |    8 ++++++--
 2 files changed, 10 insertions(+), 4 deletions(-)

commit e3508a5
Author: Adam Olsen <rhamph@gmail.com>
Date:   Sun Dec 9 16:52:43 2001 +0000

    - oops, count the command line properly

 tools/graph-timeframes |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit dfb405f
Author: Adam Olsen <rhamph@gmail.com>
Date:   Sun Dec 9 16:32:28 2001 +0000

    A script that produces a PNG from the timeframes.txt produced by doing
    "cl_timeframes 1" and running a timedemo.  It uses grace to do the
    work, so you need that installed.

 tools/graph-timeframes |   48 ++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 48 insertions(+)

commit fd32562
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sun Dec 9 14:33:24 2001 +0000

    Oops, missed a file.

 nq/source/cl_screen.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit d4a8224
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sun Dec 9 14:05:30 2001 +0000

    Change hudswap to use a callback, and instead of passing a swap variable to 10 functions, where only 2 use it, use a global variable. Make a few scr functions static inline, too. Got a totally unexpected ~0.45fps speedup.

 include/QF/draw.h                  |    2 +-
 include/QF/screen.h                |   41 ++++++++++++++++++------------------
 include/r_cvar.h                   |    4 ++--
 include/sbar.h                     |    2 +-
 include/view.h                     |    2 +-
 libs/video/renderer/gl/gl_draw.c   |    2 +-
 libs/video/renderer/gl/gl_screen.c |   24 ++++++++++-----------
 libs/video/renderer/sw/draw.c      |    2 +-
 libs/video/renderer/sw/screen.c    |   27 +++++++++++-------------
 libs/video/renderer/sw32/draw.c    |    2 +-
 libs/video/renderer/sw32/screen.c  |   27 +++++++++++-------------
 nq/source/cl_main.c                |   12 ++++++++++-
 nq/source/sbar.c                   |   22 +++++++++----------
 qw/include/client.h                |    2 +-
 qw/source/cl_main.c                |   12 ++++++++++-
 qw/source/cl_ngraph.c              |    9 ++++----
 qw/source/cl_screen.c              |   10 ++++-----
 qw/source/sbar.c                   |   22 +++++++++----------
 18 files changed, 120 insertions(+), 104 deletions(-)

commit f9d3f9f
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sun Dec 9 07:43:58 2001 +0000

    Remove dead cvar.

 libs/video/renderer/r_cvar.c |    3 ---
 1 file changed, 3 deletions(-)

commit d344aea
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Dec 8 21:43:44 2001 +0000

    store.p so pointers can be moved around

 include/QF/pr_comp.h             |    1 +
 libs/gamecode/engine/pr_opcode.c |    1 +
 2 files changed, 2 insertions(+)

commit b52606a
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Dec 8 20:58:09 2001 +0000

    *sigh* Turns out id didn't feel like fixing the bugs in progs so don't blat
    out frame errors under normal circumstances.

 libs/video/renderer/gl/gl_mod_alias.c |    5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit e976211
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Dec 8 20:40:50 2001 +0000

    header block fixes

 doc/template.c              |    2 +-
 tools/qfcc/include/cmdlib.h |    2 ++
 tools/qfcc/include/expr.h   |   36 ++++++++++++++++++++++++++++++++++++
 tools/qfcc/include/qfcc.h   |    7 +++++++
 tools/qfcc/include/scope.h  |   36 ++++++++++++++++++++++++++++++++++++
 tools/qfcc/include/struct.h |   36 ++++++++++++++++++++++++++++++++++++
 tools/qfcc/include/switch.h |   36 ++++++++++++++++++++++++++++++++++++
 tools/qfcc/source/cmdlib.c  |    3 ++-
 tools/qfcc/source/pr_lex.c  |    3 ++-
 tools/qfcc/source/qfcc.c    |    3 ++-
 tools/qfcc/source/struct.c  |   32 ++++++++++++++++++++++++++++++++
 11 files changed, 192 insertions(+), 4 deletions(-)

commit 00b2a45
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Dec 8 20:17:20 2001 +0000

    change the operator for "address" from "." to "&" so load.p can be implement.
    this makes it so pointers in entities work.

 include/QF/pr_comp.h             |    2 ++
 libs/gamecode/engine/pr_exec.c   |    1 +
 libs/gamecode/engine/pr_opcode.c |    3 ++-
 tools/qfcc/source/expr.c         |    1 +
 4 files changed, 6 insertions(+), 1 deletion(-)

commit a184199
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Dec 8 17:36:58 2001 +0000

    get arrays of structures working

 tools/qfcc/include/qfcc.h |    1 +
 tools/qfcc/source/expr.c  |   26 ++++++++++++++------------
 2 files changed, 15 insertions(+), 12 deletions(-)

commit b03a1be
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Dec 8 08:19:48 2001 +0000

    ok, structures seem to generate correct code now

 include/QF/pr_comp.h             |    3 +
 include/QF/progs.h               |    2 +-
 libs/gamecode/engine/pr_edict.c  |   11 +++-
 libs/gamecode/engine/pr_exec.c   |   11 +++-
 libs/gamecode/engine/pr_opcode.c |    3 +-
 tools/gl_stub/build              |    2 +-
 tools/qfcc/include/expr.h        |    1 +
 tools/qfcc/include/qfcc.h        |    7 ++-
 tools/qfcc/source/Makefile.am    |    2 +-
 tools/qfcc/source/emit.c         |   23 ++++++++
 tools/qfcc/source/expr.c         |  117 ++++++++++++++++++++++++++++++++++++--
 tools/qfcc/source/pr_def.c       |   21 +++++--
 tools/qfcc/source/pr_lex.c       |    5 +-
 tools/qfcc/source/qc-lex.l       |   14 +++--
 tools/qfcc/source/qc-parse.y     |   45 ++++++++++++---
 tools/qfcc/source/struct.c       |    3 +-
 16 files changed, 236 insertions(+), 34 deletions(-)

commit 3293c5e
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Dec 8 00:09:11 2001 +0000

    beginnings of structure code. committed because cvs diff doesn't work on
    new files

 tools/qfcc/include/struct.h |   12 ++++++
 tools/qfcc/source/struct.c  |   85 +++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 97 insertions(+)

commit 1767ad4
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Dec 7 20:10:30 2001 +0000

    use the new immediate indeces to make small array indeces not use a global

 tools/qfcc/include/expr.h  |    2 ++
 tools/qfcc/include/qfcc.h  |    9 ++++++---
 tools/qfcc/source/emit.c   |    6 ++++++
 tools/qfcc/source/expr.c   |   26 +++++++++++++++++++++++++-
 tools/qfcc/source/pr_lex.c |    2 ++
 tools/qfcc/source/qfcc.c   |    4 +++-
 6 files changed, 44 insertions(+), 5 deletions(-)

commit 028f8a1
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Dec 7 20:07:38 2001 +0000

    immidiate indexed pointer access and some whitespace + reorg

 include/QF/pr_comp.h             |   22 ++++-
 libs/gamecode/engine/pr_edict.c  |    6 ++
 libs/gamecode/engine/pr_exec.c   |   38 +++++++++
 libs/gamecode/engine/pr_opcode.c |  171 ++++++++++++++++++++++----------------
 4 files changed, 164 insertions(+), 73 deletions(-)

commit d222f25
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Dec 7 17:24:16 2001 +0000

    correct some error messages

 qw/source/sv_pr_cmds.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 6039c21
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 6 20:34:58 2001 +0000

    compile fix for mandrake

 libs/audio/targets/snd_alsa_0_5.c |    6 ++++++
 1 file changed, 6 insertions(+)

commit b8df7c0
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 6 20:18:24 2001 +0000

    alpha compile fixes (bah, bloody size_t:P)

 libs/util/cmd.c |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 0c2f36f
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 6 20:05:49 2001 +0000

    some dead code cleanup

 tools/qfcc/source/expr.c     |    3 ---
 tools/qfcc/source/qc-parse.y |    3 ---
 tools/qfcc/source/qfcc.c     |    4 ----
 3 files changed, 10 deletions(-)

commit 3c2c4aa
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 6 19:49:40 2001 +0000

    indent whitespace cleanup. not perfect, but a bit more consistent now

 tools/qfcc/source/.indent.pro |   35 +++--
 tools/qfcc/source/cmdlib.c    |   37 +++---
 tools/qfcc/source/debug.c     |    4 +-
 tools/qfcc/source/emit.c      |   66 +++++-----
 tools/qfcc/source/expr.c      |  261 +++++++++++++++++++------------------
 tools/qfcc/source/pr_comp.c   |   12 +-
 tools/qfcc/source/pr_def.c    |   85 ++++++------
 tools/qfcc/source/pr_imm.c    |   91 +++++++------
 tools/qfcc/source/pr_lex.c    |  105 +++++++--------
 tools/qfcc/source/pr_opcode.c |   58 +++++----
 tools/qfcc/source/qfcc.c      |  284 +++++++++++++++++++++--------------------
 tools/qfcc/source/switch.c    |   32 +++--
 12 files changed, 562 insertions(+), 508 deletions(-)

commit 6178618
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Dec 6 18:14:44 2001 +0000

    whitespace

 tools/qfcc/source/emit.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit d4df29d
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 5 21:56:52 2001 +0000

    cl_paranoid: setting to 0 will disable printing the server address for
    connectionless packets

 qw/include/client.h |    1 +
 qw/source/cl_main.c |   47 ++++++++++++++++++++++-------------------------
 2 files changed, 23 insertions(+), 25 deletions(-)

commit e036439
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 5 21:38:08 2001 +0000

    don't print the highchars flag

 qw/source/console.c |    5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit 8c9daf0
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 5 19:59:55 2001 +0000

    possible optimisation for PF_findradius. needs more testing

 qw/source/sv_pr_cmds.c |   11 ++++++-----
 1 file changed, 6 insertions(+), 5 deletions(-)

commit 37028cb
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Dec 5 16:29:09 2001 +0000

    fix a bit of sillyness pointed out by Dwayne C. Litzenberger

 libs/util/quakefs.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 7c6765d
Author: Adam Olsen <rhamph@gmail.com>
Date:   Wed Dec 5 09:24:19 2001 +0000

    buf[sizeof(buf)] = 0; is bad.  buf[sizeof(buf) - 1] = 0; is good.

 libs/util/cmd.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f6ef79b
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Dec 4 20:13:12 2001 +0000

    cleanup skin's namespace polution

 include/QF/skin.h    |    4 ++--
 qw/source/skin.c     |   29 +++++++++++++++++++++++------
 qw/source/teamplay.c |   22 +++++++---------------
 3 files changed, 32 insertions(+), 23 deletions(-)

commit 52b0c8f
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Dec 4 17:46:42 2001 +0000

    how me a repeatable bug and I'll show you a dead bug }:>
    (this fixes the "Cache_Free: not allocated" crash)

 libs/video/renderer/gl/gl_mod_alias.c |    1 +
 1 file changed, 1 insertion(+)

commit be4d2f5
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Dec 4 17:12:16 2001 +0000

    clean up Con_Print a smidge

 qw/source/console.c |   13 ++++++-------
 1 file changed, 6 insertions(+), 7 deletions(-)

commit 9dc5cf6
Author: Timothy C. McGrath <tmhikaru@gmail.com>
Date:   Tue Dec 4 14:15:08 2001 +0000

    Fixups for my glspeed configs, which were uh, out of sync with cvs >P
    
    cl_max_particles got changed to r_particles_max, also I added in cl_maxnetfps
    at 30 and edited cl_maxfps to 72 since that should work nicely with maxnetfps
    now :)
    
    Tim McGrath
    (Misty-chan)

 doc/config/glspeed-v1.cfg |   12 ++++++------
 doc/config/glspeed-v3.cfg |   12 ++++++------
 2 files changed, 12 insertions(+), 12 deletions(-)

commit e782153
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Dec 4 03:43:47 2001 +0000

    must make sure \0 doesn't get into the command buffer :P

 libs/util/cmd.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 8be15a1
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Dec 4 03:13:02 2001 +0000

    heh, turned out that didn't hurt overkill as much as I thought, but this
    gives it a tiny boost (and will help more in the more alias heavy mods).

 libs/util/cmd.c |   15 ++++++++++-----
 1 file changed, 10 insertions(+), 5 deletions(-)

commit 3c06cd5
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Dec 3 23:40:22 2001 +0000

    another jump prediction optimisation

 libs/util/cmd.c |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 21686ad
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Dec 3 23:40:07 2001 +0000

    remove redundant prototype

 libs/util/mathlib.c |    2 --
 1 file changed, 2 deletions(-)

commit 68adae4
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Dec 3 22:56:34 2001 +0000

    whitespace

 libs/util/checksum.c |  128 +++++++++++++++++++++++++-------------------------
 1 file changed, 64 insertions(+), 64 deletions(-)

commit c130d38
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Dec 3 22:11:21 2001 +0000

    fix more bugs caused by the Hunk_TempAlloc changes and do some more jump
    prediction fixes for msg_t and sizebuf_t

 include/QF/msg.h                 |    8 ++++----
 libs/gamecode/builtins/pr_cmds.c |    1 +
 libs/util/msg.c                  |   16 ++++++++--------
 libs/util/sizebuf.c              |   29 +++++++++++++++--------------
 qw/source/sv_user.c              |    1 +
 5 files changed, 29 insertions(+), 26 deletions(-)

commit 610feb9
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Dec 3 21:24:48 2001 +0000

    properly terminate the string created by Info_MakeString (this was the source
    of the absurd connect messages)

 libs/util/info.c |    1 +
 1 file changed, 1 insertion(+)

commit 650d682
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Dec 3 21:06:57 2001 +0000

    fix some nasty security holes causes by oversized connection strings. slows
    down overkill slightly :/

 include/QF/cmd.h    |    3 +--
 libs/util/cmd.c     |   55 +++++++++++++++++++++++++++++++++++----------------
 libs/util/string.c  |    2 +-
 qw/source/sv_main.c |    5 +++--
 4 files changed, 43 insertions(+), 22 deletions(-)

commit 20690b7
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Mon Dec 3 11:46:30 2001 +0000

    Argh! Try #2.

 libs/video/renderer/r_cvar.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 43b3196
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Mon Dec 3 11:08:10 2001 +0000

    Back out local changes that shouldn't have been committed along with the rename to r_particles_max.

 libs/video/renderer/r_cvar.c |    3 +++
 1 file changed, 3 insertions(+)

commit 5a35625
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Mon Dec 3 09:01:17 2001 +0000

    Port a few of Tonik's networking improvements, under different names.
    cl_maxnetfps (his cl_c2spps), controls number of frames worth of command packets sent per second. So you can now crank your cl_maxfps, and tweak networking independently.
    
    Also, cl_spamimpulse (his cl_c2sImpulseBackup), controls number of duplicate packets spammed to attempt to make impulses reliably reach the server. 3 is default, same as id. Experiment with lowering it at your risk (higher does nothing).

 qw/source/cl_input.c |   55 +++++++++++++++++++++++++++++++++++++++++++++-----
 1 file changed, 50 insertions(+), 5 deletions(-)

commit 29a8d84
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Mon Dec 3 08:55:46 2001 +0000

    cl_maxparticles to r_particles_max. annoying, but makes cl_ tab-completion less so.

 include/r_dynamic.h          |    4 ++--
 libs/video/renderer/r_cvar.c |   28 +++++++++++-----------------
 libs/video/renderer/r_part.c |    6 +++---
 3 files changed, 16 insertions(+), 22 deletions(-)

commit 9bf575d
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Dec 3 08:46:56 2001 +0000

    several little tweaks that more than make up for the reversion of low-copy

 libs/util/msg.c                       |   93 ++++++++++++++-------------------
 libs/util/zone.c                      |    3 ++
 libs/video/renderer/gl/gl_mod_alias.c |   19 +++----
 libs/video/renderer/r_light.c         |    8 +--
 4 files changed, 54 insertions(+), 69 deletions(-)

commit 44b36e4
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Dec 3 05:36:39 2001 +0000

    sadly, I have to revert my low-copy code. it doesn't gain /enough/ to be
    worth the bugs it's introduced (it's extremely difficult to do both low-copy
    /and/ correct entity updates).

 qw/include/cl_parse.h |    5 -
 qw/include/cl_tent.h  |    2 -
 qw/include/client.h   |    2 +-
 qw/include/protocol.h |    2 +-
 qw/source/cl_cam.c    |    8 +-
 qw/source/cl_ents.c   |  292 ++++++++++++++++++++++---------------------------
 qw/source/cl_main.c   |    9 +-
 qw/source/cl_parse.c  |   27 +++--
 qw/source/cl_skin.c   |   32 +-----
 qw/source/sbar.c      |   22 ++--
 10 files changed, 173 insertions(+), 228 deletions(-)

commit a619739
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Dec 2 20:11:21 2001 +0000

    fix the server console for static builds (hmm, non-curses only?)

 acconfig.h               |    4 ++++
 configure.ac             |   18 ++++++++++++++++++
 libs/console/Makefile.am |    6 ++++--
 libs/console/console.c   |   12 +++++++++---
 libs/console/server.c    |   11 ++++++++---
 nq/source/Makefile.am    |    1 +
 qw/source/Makefile.am    |    1 +
 qw/source/sv_main.c      |    6 ++++++
 8 files changed, 51 insertions(+), 8 deletions(-)

commit ce9e2e6
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Dec 2 17:29:14 2001 +0000

    whitespace

 libs/util/sys.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit f233c9e
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Dec 2 06:27:38 2001 +0000

    nuke an obsolete function

 qw/source/cl_misc.c |   13 -------------
 1 file changed, 13 deletions(-)

commit b436fb6
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Dec 2 04:14:44 2001 +0000

    print a message when quitting (to help find a misterious silent shutdown)

 qw/source/cl_main.c |    1 +
 1 file changed, 1 insertion(+)

commit 27ff292
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Dec 2 00:38:44 2001 +0000

    print a warning and recover instead of crashing when the model is null

 qw/source/cl_ents.c |    7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

commit 5b13c1a
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Dec 2 00:18:09 2001 +0000

    fix rocket trails in demos

 qw/source/cl_ents.c |   11 +++++++++--
 1 file changed, 9 insertions(+), 2 deletions(-)

commit 13d67a4
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Dec 1 22:26:17 2001 +0000

    fix an oopsie with low-copy and software clients

 qw/source/cl_ents.c |    3 +++
 1 file changed, 3 insertions(+)

commit 6a51021
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Dec 1 22:16:50 2001 +0000

    low-copy networking code. gives about 3-4% speed boost to overkill (null
    renderer).

 qw/include/cl_parse.h |    5 +
 qw/include/cl_tent.h  |    2 +
 qw/include/client.h   |    2 +-
 qw/include/protocol.h |    2 +-
 qw/source/cl_cam.c    |    8 +-
 qw/source/cl_ents.c   |  281 ++++++++++++++++++++++++++-----------------------
 qw/source/cl_main.c   |    9 +-
 qw/source/cl_parse.c  |   27 ++---
 qw/source/cl_skin.c   |   32 +++++-
 qw/source/sbar.c      |   22 ++--
 10 files changed, 216 insertions(+), 174 deletions(-)

commit fc8d941
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Fri Nov 30 22:32:17 2001 +0000

    Remove commented out code.

 nq/source/cl_cam.c |    1 -
 qw/source/cl_cam.c |    1 -
 2 files changed, 2 deletions(-)

commit f4af73c
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Fri Nov 30 22:30:23 2001 +0000

    Commit serplord's camera bugfix.

 nq/source/cl_cam.c |    3 ++-
 qw/source/cl_cam.c |    3 ++-
 2 files changed, 4 insertions(+), 2 deletions(-)

commit 4f2f686
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Nov 30 03:51:43 2001 +0000

    r_netgraph_alpha works again

 include/QF/draw.h                |    2 +-
 libs/video/renderer/gl/gl_draw.c |    5 ++++-
 libs/video/renderer/sw/draw.c    |    2 +-
 libs/video/renderer/sw32/draw.c  |    2 +-
 qw/source/cl_ngraph.c            |    3 ++-
 5 files changed, 9 insertions(+), 5 deletions(-)

commit 12a0a10
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Nov 29 19:35:25 2001 +0000

    more alpha portability fixes

 include/QF/pr_debug.h           |   28 ++++++++++++++--------------
 include/QF/progs.h              |    8 ++++----
 libs/gamecode/engine/pr_debug.c |   14 +++++++-------
 tools/qfcc/source/qfcc.c        |    4 ++--
 4 files changed, 27 insertions(+), 27 deletions(-)

commit 95fe4d0
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Nov 29 07:04:31 2001 +0000

    more PARANOID nukage

 nq/source/world.c    |    8 --------
 qw/source/pmovetst.c |    8 --------
 qw/source/world.c    |    8 --------
 3 files changed, 24 deletions(-)

commit 72e2e87
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Nov 29 06:58:15 2001 +0000

    goodbye PARANOID :P

 libs/util/msg.c |   15 ---------------
 1 file changed, 15 deletions(-)

commit d16ab6e
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Thu Nov 29 01:02:39 2001 +0000

    Forge: stuff I did only partially.

 tools/Forge/PrefsPanel.m |    2 +-
 tools/Forge/PrefsView.h  |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit f192287
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Wed Nov 28 23:51:49 2001 +0000

    U_EXTEND fixes taniwha wanted me to commit for him.

 qw/source/cl_ents.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit a7dfe84
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Wed Nov 28 23:46:37 2001 +0000

    Forge updates. The app controller now has methods for bundles to call,
    to register functionality with the app.

 tools/Forge/BundleController.h |    9 +++++++++
 tools/Forge/Controller.m       |   14 +++++++++++---
 tools/Forge/Forge.classes      |    4 +++-
 tools/Forge/Forge.gorm         |  Bin 10245 -> 5274 bytes
 tools/Forge/ForgeInfo.plist    |    6 +++---
 tools/Forge/PrefsController.m  |    3 +--
 tools/Forge/PrefsPanel.h       |   10 +++++++---
 tools/Forge/PrefsPanel.m       |   16 +++++++++-------
 tools/Forge/PrefsView.h        |    8 +++++---
 9 files changed, 48 insertions(+), 22 deletions(-)

commit 74e2f63
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Wed Nov 28 23:44:26 2001 +0000

    *** empty log message ***

 tools/Forge/Bundles/MainPrefs/GNUmakefile     |   11 ++-
 tools/Forge/Bundles/MainPrefs/MainPrefs.h     |   42 ++++++++++
 tools/Forge/Bundles/MainPrefs/MainPrefs.m     |  106 +++++++++++++++++++++++++
 tools/Forge/Bundles/MainPrefs/MainPrefsView.m |   16 +++-
 4 files changed, 171 insertions(+), 4 deletions(-)

commit 0652a9d
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Nov 28 03:17:41 2001 +0000

    initialize the projectiles array so nails are visible

 qw/source/cl_ents.c |    4 ++++
 1 file changed, 4 insertions(+)

commit b516217
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Nov 28 00:54:20 2001 +0000

    tiny speed gain (0.1%)

 qw/source/cl_tent.c |   20 +++++++++++---------
 1 file changed, 11 insertions(+), 9 deletions(-)

commit 9ccd424
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Nov 28 00:19:27 2001 +0000

    this seems to give a 0.48% boost to bigass (220.45 to 221.52, null-renderer)

 nq/source/cl_main.c  |   38 +++++++++++++++++++-------------------
 nq/source/cl_parse.c |    2 +-
 2 files changed, 20 insertions(+), 20 deletions(-)

commit 4912f30
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 27 23:56:10 2001 +0000

    My gl stubs code for the null-renderer tests. Builds GLstub.so which should
    then be used for the gl_driver cvar (you will generally need to give the full
    path).

 tools/gl_stub/build     |    3 +
 tools/gl_stub/gl_stub.c | 2002 +++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 2005 insertions(+)

commit 1d410a3
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 27 22:44:12 2001 +0000

    Move the CL_NewTranslation from the entity linking code into the protocol
    updates (where it belongs). This gives a 1% boost to bigass1.

 nq/source/cl_main.c  |    9 ++-------
 nq/source/cl_parse.c |   29 ++++++++++++++++++++++-------
 2 files changed, 24 insertions(+), 14 deletions(-)

commit f7c9075
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 27 21:42:49 2001 +0000

    clean out the non-renderer fields from entity_t. not yet a noticable gain
    but more work needs to be done on the linking code in the client. However,
    there /does/ seem to be a slight gain with possibly less variance.

 include/QF/render.h   |   14 +-----
 nq/include/client.h   |   19 +++++++--
 nq/source/cl_main.c   |   56 ++++++++++++------------
 nq/source/cl_parse.c  |  113 ++++++++++++++++++++++++++-----------------------
 nq/source/host_skin.c |   16 +++----
 qw/source/cl_ents.c   |   93 +++++++++++++++++-----------------------
 6 files changed, 149 insertions(+), 162 deletions(-)

commit 4689350
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 27 04:50:41 2001 +0000

    fix qport

 include/QF/sys.h     |    2 ++
 libs/util/sys.c      |   13 +++++++++++++
 qw/source/net_chan.c |    3 ++-
 3 files changed, 17 insertions(+), 1 deletion(-)

commit c4646b9
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Nov 26 23:23:29 2001 +0000

    take care of \r*\n line endings

 nq/source/locs.c |    4 +++-
 qw/source/locs.c |    4 +++-
 2 files changed, 6 insertions(+), 2 deletions(-)

commit 67fde0c
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Nov 26 17:25:16 2001 +0000

    remove some debug code I accidently committed

 libs/gamecode/engine/pr_opcode.c |    1 -
 1 file changed, 1 deletion(-)

commit e2db0ed
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Nov 26 05:16:04 2001 +0000

    allow oolormap to be set for the last client

 qw/source/cl_ents.c |    3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit 87d6278
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Nov 26 01:52:08 2001 +0000

    move the physent overflow tests to the correct locations

 qw/source/cl_ents.c |   27 ++++++++++++++++-----------
 1 file changed, 16 insertions(+), 11 deletions(-)

commit d99da51
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Nov 25 23:25:53 2001 +0000

    cl_ents.c:
    	catch and moan about physents overlows (needs more work, but I don't
    	grok the code well enough yet to do more).
    pmovetst.c:
    	correct a spelling error

 qw/source/cl_ents.c  |   10 ++++++++++
 qw/source/pmovetst.c |    2 +-
 2 files changed, 11 insertions(+), 1 deletion(-)

commit dea0a2c
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sun Nov 25 08:00:16 2001 +0000

    Whitespace.

 libs/video/renderer/gl/gl_sky_clip.c |   20 +++++++++++++-------
 1 file changed, 13 insertions(+), 7 deletions(-)

commit 1cdf7fa
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Nov 25 07:41:17 2001 +0000

    clean up the math for id skys a little. doesn't fix the sillyness, but that's
    caused by the deliberate texuture wrapping and I think gl isn't coping well
    with that when the texture coords wind up getting swapped due to the wrap.

 libs/video/renderer/gl/gl_sky_clip.c |   14 +++++++-------
 1 file changed, 7 insertions(+), 7 deletions(-)

commit e99b422
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Nov 25 06:24:26 2001 +0000

    extinguish gl_fires. it's semi-broken, generally nasty (code wise) and
    kinda tacky. also results in a slight speed boost:)

 include/QF/render.h                   |    4 +-
 include/r_cvar.h                      |    1 -
 include/r_dynamic.h                   |   18 ---
 libs/video/renderer/gl/Makefile.am    |    2 +-
 libs/video/renderer/gl/gl_dyn_fires.c |  228 ---------------------------------
 libs/video/renderer/gl/gl_dyn_part.c  |    8 --
 libs/video/renderer/gl/gl_rmain.c     |    1 -
 qw/source/cl_ents.c                   |   12 +-
 8 files changed, 7 insertions(+), 267 deletions(-)

commit 82095df
Author: Adam Olsen <rhamph@gmail.com>
Date:   Sun Nov 25 03:16:15 2001 +0000

    - make Cache_Flush catch errors before Cache_Flush, and hopefully
      print useful debugging info

 libs/util/zone.c |    7 ++++++-
 1 file changed, 6 insertions(+), 1 deletion(-)

commit b7cbc15
Author: Adam Olsen <rhamph@gmail.com>
Date:   Sat Nov 24 16:32:39 2001 +0000

    - remove the unused DYNAMIC_SIZE define

 libs/util/zone.c |    1 -
 1 file changed, 1 deletion(-)

commit 087f7d8
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sat Nov 24 08:43:20 2001 +0000

    Header fixes for previous updates.

 include/QF/GL/qf_rlight.h |    1 -
 include/r_dynamic.h       |    1 -
 2 files changed, 2 deletions(-)

commit 4d40633
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sat Nov 24 08:21:07 2001 +0000

    Move gl_fires into gl, where it belongs.
    Also some small cleanups in particles.
    Brighten grenade smoke a tiny bit, so it's not so invisible in the typically dark quake areas.
    And some minor cleanups to water rendering.

 libs/video/renderer/gl/gl_dyn_fires.c |   81 +++++++++++++++++++++++++++++++-
 libs/video/renderer/gl/gl_dyn_part.c  |   48 ++++++++++---------
 libs/video/renderer/gl/gl_rmain.c     |    2 +
 libs/video/renderer/gl/gl_rsurf.c     |   12 ++---
 libs/video/renderer/gl/gl_screen.c    |    4 +-
 libs/video/renderer/r_main.c          |   83 +--------------------------------
 nq/source/cl_main.c                   |    2 +-
 qw/source/cl_main.c                   |    4 +-
 8 files changed, 114 insertions(+), 122 deletions(-)

commit e97a4b7
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Nov 24 08:19:34 2001 +0000

    I think this will get the nq networking going

 nq/include/net_loop.h |    7 +++++++
 nq/include/net_wins.h |   15 ++++++++++++++-
 nq/include/net_wipx.h |    8 +++++++-
 nq/source/Makefile.am |   12 ++++++++----
 nq/source/net_win.c   |    3 ++-
 nq/source/net_wins.c  |   36 ++++++++++++++++++++++--------------
 nq/source/net_wipx.c  |   20 +++++++++++++-------
 7 files changed, 73 insertions(+), 28 deletions(-)

commit 405e8ff
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sat Nov 24 08:16:43 2001 +0000

    Whitespace.

 libs/video/renderer/gl/gl_graph.c |    3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit 2c8d802
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sat Nov 24 08:08:44 2001 +0000

    Whitespace.

 libs/video/renderer/gl/gl_funcs.c |    1 -
 1 file changed, 1 deletion(-)

commit eabfbd6
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sat Nov 24 08:05:44 2001 +0000

    Remove ugly ifdef (and coincidentally support for early ALSA 0.9).

 libs/audio/targets/snd_alsa_0_9.c |    8 +-------
 1 file changed, 1 insertion(+), 7 deletions(-)

commit 7762f33
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Nov 23 19:02:02 2001 +0000

    yadda yadda :)

 TODO |    5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 4eebbb8
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Nov 23 18:58:23 2001 +0000

    take the hull/line fixes to the server internals and re-merge world.c for
    nq and qw. This fixes the corner sticking for everything.

 nq/source/world.c    |  136 +++++++++++++++++++-------------------------------
 qw/source/pmovetst.c |   21 ++++----
 qw/source/world.c    |   63 ++++++++++++-----------
 3 files changed, 92 insertions(+), 128 deletions(-)

commit 7cad260
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Nov 23 06:27:32 2001 +0000

    fix the getting stuck on corners bug

 qw/source/pmovetst.c |   20 ++++++++++++++------
 1 file changed, 14 insertions(+), 6 deletions(-)

commit 83a7784
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Thu Nov 22 07:28:01 2001 +0000

    Preferences.m: function scoping fixes (static is your friend).
    rest: bundle loading. It's alive! Alive, I tell you! Mwahahahaha!
    ...
    uhh...
    
    * Deek hides the bodies

 tools/Forge/BundleController.h |   15 +++++++++++++-
 tools/Forge/BundleController.m |   26 +++++++++++++-----------
 tools/Forge/Controller.h       |    4 +++-
 tools/Forge/Controller.m       |   44 +++++++++++++++++++++++++++++++++++++++-
 tools/Forge/Forge.gorm         |  Bin 10318 -> 10245 bytes
 tools/Forge/Preferences.m      |   22 +++++++++++---------
 6 files changed, 86 insertions(+), 25 deletions(-)

commit bd0ac4a
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Nov 22 05:31:44 2001 +0000

    merge Mod_LoadSpriteFrame from gl and sw back into the common sprite loader
    pulling the gl specific code (the loading of the texture into GL) into
    a separate function (Mod_SpriteLoadTexture), which is just a stub in sw

 include/QF/model.h                   |    1 +
 libs/models/sprite/gl_model_sprite.c |   40 +++-------------------------
 libs/models/sprite/model_sprite.c    |   44 ++++++++++++++++++++++++++++---
 libs/models/sprite/sw_model_sprite.c |   48 ++--------------------------------
 4 files changed, 48 insertions(+), 85 deletions(-)

commit 84bb78a
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Wed Nov 21 22:30:32 2001 +0000

    Nuke some stuff from .gitignore

 tools/Forge/.gitignore |    7 -------
 1 file changed, 7 deletions(-)

commit acddb94
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Wed Nov 21 22:22:14 2001 +0000

    Nuking the configure stuff. There's no need for it yet, maybe not ever.
    Add some flags (-Wall -Werror) to GNUmakefile.preamble.
    Fix some stuff -Wall found.

 tools/Forge/.gitignore              |    9 ++----
 tools/Forge/BundleController.m      |    7 +++--
 tools/Forge/Controller.m            |    6 ++--
 tools/Forge/GNUmakefile             |    3 +-
 tools/Forge/GNUmakefile.preamble    |   42 +++++++++++++++++++++++++
 tools/Forge/GNUmakefile.preamble.in |   39 -----------------------
 tools/Forge/acconfig.h              |   15 ---------
 tools/Forge/bootstrap               |    2 --
 tools/Forge/configure.in            |   58 -----------------------------------
 9 files changed, 53 insertions(+), 128 deletions(-)

commit 0060c9c
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Nov 21 21:47:00 2001 +0000

    disable denormal exceptions on alpha

 qw/source/sv_sys_unix.c |   51 +++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 51 insertions(+)

commit 8826bdd
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Nov 21 19:24:57 2001 +0000

    nuke the d_subdiv16 cvar as its sole user got nuked in the previous commit

 include/r_cvar.h             |    1 -
 libs/video/renderer/r_cvar.c |    3 ---
 2 files changed, 4 deletions(-)

commit 0be2a31
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Nov 21 19:13:53 2001 +0000

    lots of code cleanup. Merge Mod_LoadAllSkins, merge the sw32 model loading
    code into the sw model loading code, remove all refs to r_pixbytes from the
    sw renderer (it was never anything but 1), kill libQFmodels_sw32, remove
    all the 16 bit code from the 8 bit sw renderer.

 configure.ac                           |    5 +-
 include/QF/model.h                     |    4 +-
 include/r_local.h                      |    9 +-
 libs/models/Makefile.am                |    9 +-
 libs/models/alias/Makefile.am          |   15 +-
 libs/models/alias/gl_model_alias.c     |   70 +--
 libs/models/alias/model_alias.c        |   67 ++-
 libs/models/alias/sw32_model_alias.c   |  267 ---------
 libs/models/alias/sw_model_alias.c     |   99 +---
 libs/models/brush/Makefile.am          |   15 +-
 libs/models/brush/sw32_model_brush.c   |   68 ---
 libs/models/sprite/Makefile.am         |   15 +-
 libs/models/sprite/sw32_model_sprite.c |  115 ----
 libs/models/sprite/sw_model_sprite.c   |   24 +-
 libs/video/renderer/sw/Makefile.am     |    4 +-
 libs/video/renderer/sw/d_draw16.S      |  985 --------------------------------
 libs/video/renderer/sw/d_init.c        |   12 -
 libs/video/renderer/sw/d_modech.c      |    2 +-
 libs/video/renderer/sw/d_varsa.S       |   24 +-
 libs/video/renderer/sw/draw.c          |  377 ++++--------
 libs/video/renderer/sw/nonintel.c      |    9 +-
 libs/video/renderer/sw/surf16.S        |  183 ------
 libs/video/renderer/sw/surf8.S         |   20 +-
 libs/video/renderer/sw/sw_rmain.c      |   15 +-
 libs/video/renderer/sw/sw_rsky.c       |   35 --
 libs/video/renderer/sw/sw_rsurf.c      |  110 +---
 nq/source/Makefile.am                  |    4 +-
 qw/source/Makefile.am                  |    4 +-
 28 files changed, 240 insertions(+), 2326 deletions(-)

commit 9c92717
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Wed Nov 21 18:47:08 2001 +0000

    The beginnings of bundle-loading support Scary, but it seems to work!

 tools/Forge/BundleController.h                     |   68 ++++++++
 tools/Forge/BundleController.m                     |  170 ++++++++++++++++++++
 tools/Forge/Bundles/MainPrefs/.gitignore           |    7 +
 tools/Forge/Bundles/MainPrefs/GNUmakefile          |   20 +++
 tools/Forge/Bundles/MainPrefs/GNUmakefile.preamble |   39 +++++
 tools/Forge/Bundles/MainPrefs/MainPrefsView.h      |   37 +++++
 tools/Forge/Bundles/MainPrefs/MainPrefsView.m      |   46 ++++++
 tools/Forge/Controller.m                           |   26 +--
 tools/Forge/English.lproj/Localizable.strings      |    4 +
 tools/Forge/Forge.classes                          |   16 +-
 tools/Forge/Forge.gorm                             |  Bin 10202 -> 10318 bytes
 tools/Forge/GNUmakefile                            |    5 +
 tools/Forge/PrefsController.h                      |   11 +-
 tools/Forge/PrefsController.m                      |   93 ++++++++---
 tools/Forge/PrefsPanel.h                           |    3 +-
 tools/Forge/PrefsPanel.m                           |   31 ++--
 tools/Forge/PrefsView.h                            |   18 ++-
 tools/Forge/main.m                                 |    1 -
 18 files changed, 518 insertions(+), 77 deletions(-)

commit 61382f4
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Nov 21 08:26:21 2001 +0000

    make absolutely certain skin->fb_texture is 0 if there are no fb pixels in
    the skin texture.

 libs/video/renderer/gl/gl_skin.c |    1 +
 1 file changed, 1 insertion(+)

commit 7d14013
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Nov 21 08:14:05 2001 +0000

    fix many, many bugs in the alias skin loading, transforming and rendering
    code. This fixes blather's `melted models' (sw), the nq alt player model
    skins (gl), the arbitrary limits on skins and skin groups in gl, and the
    incorrect timing of group skins (animated) in gl.

 include/QF/model.h                    |    5 +-
 libs/models/alias/gl_model_alias.c    |  109 +++++++++++++++++++--------------
 libs/models/alias/sw32_model_alias.c  |   49 +++++----------
 libs/models/alias/sw_model_alias.c    |   19 +++---
 libs/video/renderer/gl/gl_mod_alias.c |   62 +++++++++++++++----
 libs/video/renderer/gl/gl_skin.c      |   10 +--
 6 files changed, 145 insertions(+), 109 deletions(-)

commit 3e34fc8
Author: Chris Ison <cisos@bigpond.net.au>
Date:   Wed Nov 21 02:36:48 2001 +0000

    -3dfx re-enabled

 configure.ac                   |   41 +++++++++++++++++++++++++++++++++++++++-
 libs/video/targets/Makefile.am |   14 ++++++++++++--
 nq/source/Makefile.am          |   17 +++++++++++++++--
 qw/source/Makefile.am          |   15 +++++++++++++--
 4 files changed, 80 insertions(+), 7 deletions(-)

commit d991feb
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Nov 21 02:07:55 2001 +0000

    fix some compile issues

 qw/source/cl_sys_win.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit bc95116
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 20 23:22:19 2001 +0000

    fix a defined but not used warning

 libs/video/targets/fbset_modes_l.l |    2 ++
 1 file changed, 2 insertions(+)

commit 5e05df4
Author: Chris Ison <cisos@bigpond.net.au>
Date:   Tue Nov 20 20:07:15 2001 +0000

    fix \n order in alias expansion

 libs/util/cmd.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 712aecb
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 20 18:54:15 2001 +0000

    use the Hash_*Element functions for opcodes to avoid the silliness of trying
    to use strings for numeric keys

 libs/gamecode/engine/pr_opcode.c |   33 +++++++++++++++++----------------
 1 file changed, 17 insertions(+), 16 deletions(-)

commit 3f79367
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Tue Nov 20 09:41:15 2001 +0000

    Minor rendering cleanup, also may help rendering speed when r_wateralpha = 1, by playing with draw order.

 libs/video/renderer/gl/gl_rmain.c |    8 +++-----
 libs/video/renderer/gl/gl_rsurf.c |   32 +++++++++++++++++++-------------
 2 files changed, 22 insertions(+), 18 deletions(-)

commit ec75b71
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 20 08:45:26 2001 +0000

    don't bother with fullbright skins for models that are allways fullbright and
    clean up a misplaced function prototype

 include/QF/model.h                 |    2 ++
 libs/models/alias/gl_model_alias.c |   10 ++++------
 libs/models/brush/gl_model_brush.c |    5 -----
 3 files changed, 6 insertions(+), 11 deletions(-)

commit b836566
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Tue Nov 20 08:31:27 2001 +0000

    Fix particle physics bug with blob2 particles.
    (thanks to taniwha for pointing out half of the fix I was missing)

 libs/video/renderer/gl/gl_dyn_part.c |   27 ++++++++++++++-------------
 1 file changed, 14 insertions(+), 13 deletions(-)

commit 5dab7cc
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 20 08:02:35 2001 +0000

    precalculate smoe model specific info (wether the whole model is fullbright,
    if it should have shadows, whether it should be scaled/translated (gl eyes),
    and the minimum lighting (player)). give a 1.9% speedup in null renderer.

 include/QF/model.h                    |   18 +++++++---------
 libs/models/alias/gl_mesh.c           |    2 +-
 libs/models/alias/gl_model_alias.c    |    9 ++++++++
 libs/models/alias/model_alias.c       |    4 +++-
 libs/models/alias/sw32_model_alias.c  |    7 ++++++-
 libs/models/alias/sw_model_alias.c    |    7 ++++++-
 libs/models/model.c                   |   19 +++++++++++++++++
 libs/video/renderer/gl/gl_mod_alias.c |   37 ++++++++++-----------------------
 8 files changed, 63 insertions(+), 40 deletions(-)

commit b69e372
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Tue Nov 20 06:57:31 2001 +0000

    Whitespace.

 libs/video/renderer/gl/noisetextures.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 2e97cfd
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 20 06:27:48 2001 +0000

    freebsd compile fix

 qw/source/master.c |    3 +++
 1 file changed, 3 insertions(+)

commit 60289d8
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 20 04:50:21 2001 +0000

    new option: --enable-strict-aliasing which adds -fstrict-aliasing to the
    gcc CFLAGS when optimizing. This does /very/ nice things to the progs code
    and seems to work in general (which means gcc 2.96 shouldsn't be such a cow),
    but I am not yet confident enough to enable it by default (would probably
    need gcc version chedking for it anyway).

 configure.ac |    5 +++++
 1 file changed, 5 insertions(+)

commit 025d520
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 20 04:48:04 2001 +0000

    remove some dead code

 libs/video/renderer/sw32/d_polyse.c |   20 --------------------
 1 file changed, 20 deletions(-)

commit 4c628d0
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 20 03:40:57 2001 +0000

    fbdev stuff is now warnings clean, so all -Werror for it

 include/fbset.h                    |    2 +-
 libs/video/targets/Makefile.am     |    5 -----
 libs/video/targets/fbset_modes_y.y |    2 +-
 libs/video/targets/vid_fbdev.c     |    2 +-
 4 files changed, 3 insertions(+), 8 deletions(-)

commit 4dfc6b1
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 20 01:13:30 2001 +0000

    don't bother speed cheat checking spectators (does it /really/ matter?) and
    don't use va for SV_BroadcastPrintf.

 qw/source/sv_user.c |   26 ++++++++++++--------------
 1 file changed, 12 insertions(+), 14 deletions(-)

commit 8d208ac
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Nov 19 17:51:31 2001 +0000

    make float != 0 tests work on alpha for when the value is actually an integer
    (works fine on intel, but on alpha the denormals either produce an exception
    or true zero: not quite desirable:)

 libs/gamecode/engine/pr_exec.c |   12 +++++++++---
 1 file changed, 9 insertions(+), 3 deletions(-)

commit 9d0320c
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Nov 18 23:40:01 2001 +0000

    various portability improvements

 libs/gamecode/engine/pr_edict.c  |    1 -
 libs/gamecode/engine/pr_opcode.c |   12 ++++++------
 libs/util/quakefs.c              |    2 +-
 libs/util/sizebuf.c              |    4 ++--
 qw/source/cl_slist.c             |   11 ++++-------
 qw/source/net_udp.c              |    7 ++++---
 6 files changed, 17 insertions(+), 20 deletions(-)

commit f0c03f8
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Nov 18 22:08:24 2001 +0000

    minor cleanups of Sys_ConsoleInput. Cleaning it up properly will take more
    work, but this removes most of the redundant instantces. nq-sdl (or -sgl)
    -dedicated won't have console input, nor will dedicated servers that don't
    load a console plugin.

 libs/console/console.c  |    7 +--
 nq/source/sys_unix.c    |    2 +-
 qw/source/cl_sys_sdl.c  |   12 -----
 qw/source/cl_sys_unix.c |   25 -----------
 qw/source/cl_sys_win.c  |  114 -----------------------------------------------
 qw/source/sv_sys_unix.c |    2 +-
 6 files changed, 3 insertions(+), 159 deletions(-)

commit 46835e7
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Nov 17 05:26:30 2001 +0000

    more quakeforge compiling on alpha patches

 libs/audio/renderer/snd_mem.c     |    2 +-
 libs/video/renderer/sw/d_edge.c   |    2 +-
 libs/video/renderer/sw/sw_rmisc.c |    5 +++--
 qw/source/console.c               |    2 +-
 4 files changed, 6 insertions(+), 5 deletions(-)

commit cda6923
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Nov 17 04:32:00 2001 +0000

    this seems to be all that's needed to make progs 64 bit clean (minus issues
    with sizeof (int) != 4, but that's not the case on alpha)

 libs/gamecode/engine/pr_edict.c |   12 +++++++++---
 1 file changed, 9 insertions(+), 3 deletions(-)

commit 1a99fe7
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Nov 17 04:30:51 2001 +0000

    fix one of who knows how many issues with gcc 2.96 (at least I don't have to
    worry about not being able to reproduce them on a non-intel box:)

 qw/source/net_udp.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit fade981
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Nov 16 04:41:39 2001 +0000

    spelling and grammar corrections to the spead cheat message

 qw/source/sv_user.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit cc66577
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Nov 16 01:09:17 2001 +0000

    fixes for building on alpha (linux)

 include/compat.h                 |    2 +-
 libs/gamecode/engine/pr_opcode.c |    8 ++++----
 libs/util/hash.c                 |    4 ++--
 libs/util/zone.c                 |    2 +-
 qw/source/sv_ents.c              |    4 ++--
 5 files changed, 10 insertions(+), 10 deletions(-)

commit 5c26b54
Author: Chris Ison <cisos@bigpond.net.au>
Date:   Thu Nov 15 23:36:14 2001 +0000

    remove smoke I added thismorning

 libs/video/renderer/gl/gl_dyn_part.c |   16 +++++-----------
 1 file changed, 5 insertions(+), 11 deletions(-)

commit 0e5262c
Author: Chris Ison <cisos@bigpond.net.au>
Date:   Thu Nov 15 20:53:23 2001 +0000

    colored explosion smoke

 libs/video/renderer/gl/gl_dyn_part.c |   21 +++++++++++++++------
 1 file changed, 15 insertions(+), 6 deletions(-)

commit 288ec42
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Nov 15 19:37:29 2001 +0000

    various fractional speedups

 libs/util/cmd.c     |    4 +-
 qw/source/cl_ents.c |  103 ++++++++++++++++++++++++---------------------------
 qw/source/cl_main.c |    2 +-
 3 files changed, 51 insertions(+), 58 deletions(-)

commit 598c823
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Nov 15 19:36:40 2001 +0000

    fix printing of op_c for storeb

 libs/gamecode/engine/pr_exec.c |    8 ++++++--
 1 file changed, 6 insertions(+), 2 deletions(-)

commit 3f7c4f1
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Nov 15 05:31:15 2001 +0000

    allocate space for field arrays and report entity size

 tools/qfcc/source/pr_def.c |    3 +++
 tools/qfcc/source/qfcc.c   |    1 +
 2 files changed, 4 insertions(+)

commit e45bb62
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Nov 15 04:32:50 2001 +0000

    ok, correct code seems to be getting generated for both array access and
    entity field access

 tools/qfcc/source/emit.c      |   60 ++++++++++++++++++++++++-----------------
 tools/qfcc/source/expr.c      |    3 +--
 tools/qfcc/source/pr_opcode.c |    5 +---
 3 files changed, 38 insertions(+), 30 deletions(-)

commit 40d47e9
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Nov 15 03:54:35 2001 +0000

    win32 portability fixes

 tools/qfcc/configure.in    |    4 +++-
 tools/qfcc/include/qfcc.h  |   13 +++++++++++++
 tools/qfcc/source/expr.c   |    2 +-
 tools/qfcc/source/getopt.c |    3 ++-
 tools/qfcc/source/pr_def.c |   12 ++++++------
 tools/qfcc/source/pr_imm.c |   25 +++++++++++++------------
 tools/qfcc/source/qfcc.c   |   35 ++++++++++++++++++++++++++++-------
 7 files changed, 66 insertions(+), 28 deletions(-)

commit 267e51e
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Nov 15 01:37:57 2001 +0000

    while cute, cl_surprise is just way too expensive when gains are measured in
    fractions of a percent, and a loss is 3%.
    
    I hate doing this sort of thing :(

 include/r_cvar.h                     |    1 -
 libs/video/renderer/gl/gl_dyn_part.c |   35 ++++++++--------------------------
 libs/video/renderer/r_cvar.c         |    3 ---
 3 files changed, 8 insertions(+), 31 deletions(-)

commit 7d9266a
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Nov 15 00:46:36 2001 +0000

    beginnings of array support. no array initialization yet and foo[i] = bar is
    broken.

 tools/qfcc/include/expr.h    |    3 ++-
 tools/qfcc/source/expr.c     |   48 ++++++++++++++++++++++++++++++++++--------
 tools/qfcc/source/pr_def.c   |    4 ++++
 tools/qfcc/source/qc-parse.y |   31 +++++++++++++++++++++++++--
 4 files changed, 74 insertions(+), 12 deletions(-)

commit 8aa83d0
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Nov 15 00:25:15 2001 +0000

    oops, that's not how that works :)

 tools/qfcc/source/qfcc.c |    1 -
 1 file changed, 1 deletion(-)

commit cf37275
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Nov 14 23:17:20 2001 +0000

    add -g option (shortcut for --code=debug)

 tools/qfcc/source/qfcc.c |    6 ++++++
 1 file changed, 6 insertions(+)

commit ed33151
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Nov 14 22:31:57 2001 +0000

    more grammar re-work preparing for arrays and structs

 tools/qfcc/source/qc-parse.y |  106 ++++++++++++++++++++++++++----------------
 1 file changed, 67 insertions(+), 39 deletions(-)

commit 8d50c8e
Author: Chris Ison <cisos@bigpond.net.au>
Date:   Wed Nov 14 21:46:50 2001 +0000

    added cl_surprise cvar for easter eggs

 include/r_cvar.h                     |    1 +
 libs/video/renderer/gl/gl_dyn_part.c |   37 +++++++++++++++++++++++++---------
 libs/video/renderer/r_cvar.c         |    7 +++++--
 3 files changed, 33 insertions(+), 12 deletions(-)

commit c72e2ef
Author: Chris Ison <cisos@bigpond.net.au>
Date:   Wed Nov 14 21:01:10 2001 +0000

    re-enable 8bit textures

 include/QF/vid.h                     |    1 +
 libs/video/renderer/gl/gl_textures.c |   14 ++------------
 2 files changed, 3 insertions(+), 12 deletions(-)

commit 06622fa
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Nov 14 20:18:37 2001 +0000

    -mem now also works as a cvar (and there was much rejoycing:). sv_mem_size
    (server) and cl_mem_size (client), in megabytes (ie, same as -mem). I haven't
    done nq yet as I'm uncertain what to /call/ it :)

 qw/include/host.h       |    2 --
 qw/source/cl_main.c     |   51 ++++++++++++++++++++++++++++++++++----------
 qw/source/cl_sys_sdl.c  |   13 ------------
 qw/source/cl_sys_unix.c |   13 ------------
 qw/source/cl_sys_win.c  |   31 ---------------------------
 qw/source/sv_main.c     |   54 +++++++++++++++++++++++++++++++++++------------
 qw/source/sv_sys_unix.c |    9 --------
 qw/source/sv_sys_win.c  |   12 +----------
 8 files changed, 82 insertions(+), 103 deletions(-)

commit 3940159
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Nov 14 20:16:57 2001 +0000

    use malloc/free instead of Hunk_TempAlloc in Cmd_Exec_File so it can be called before Memory_Init

 libs/util/cmd.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit e91180c
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Nov 14 16:36:42 2001 +0000

    this should take care of wildcode's 8 bit issues

 libs/video/targets/vid_common_gl.c |    4 ----
 1 file changed, 4 deletions(-)

commit a2bfff5
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Nov 14 07:16:58 2001 +0000

    simplify the type rule

 tools/qfcc/source/qc-parse.y |   32 +++++++++++++++++---------------
 1 file changed, 17 insertions(+), 15 deletions(-)

commit 3fe67ee
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Nov 14 06:45:31 2001 +0000

    expr.c:
    	it helps if one understands /why/ something is done. I think this
    	might be it for the reference count tweeks
    switch.c:
    	o	better control over whether case ranges are built
    	o	/always/ append the temp = test expression and use temp instead of
    		test for the != check
    	o	only ever build case ranges if the switch expression is integer

 tools/qfcc/source/expr.c   |    7 ++-----
 tools/qfcc/source/switch.c |   11 +++++------
 2 files changed, 7 insertions(+), 11 deletions(-)

commit dc80f51
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Nov 14 05:08:37 2001 +0000

    fix a missed immediate type missmatch case

 tools/qfcc/source/pr_imm.c |    6 ++++++
 1 file changed, 6 insertions(+)

commit 42b5a5d
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 13 23:51:21 2001 +0000

    reformat the output of "alias" so that capturing it is useful for config
    scripts

 libs/util/cmd.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit da36fef
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 13 23:21:23 2001 +0000

    oops, failed to notice that relocs on temp defs weren't being done correctly
    memset wasn't such a good idea :P

 tools/qfcc/source/pr_def.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit cfa4771
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 13 23:17:32 2001 +0000

    expr.c:
    	once again, temp def ref counts seem to be correct
    pr_def.c:
    	reset recycled temp defs

 tools/qfcc/source/expr.c   |    4 +++-
 tools/qfcc/source/pr_def.c |    2 +-
 2 files changed, 4 insertions(+), 2 deletions(-)

commit ad5deea
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 13 23:14:59 2001 +0000

    missed this in the cleanup

 tools/qfcc/include/qfcc.h |    4 ----
 1 file changed, 4 deletions(-)

commit 3874d78
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 13 22:11:45 2001 +0000

    slightly better code, but the temp isn't getting ref-counted correctly

 tools/qfcc/source/switch.c |    5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 68fb0a1
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 13 20:34:21 2001 +0000

    clean out a bunch of unneeded code. this should take care of static linking

 tools/qfcc/source/qfcc.c |  259 ----------------------------------------------
 1 file changed, 259 deletions(-)

commit 645c400
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 13 20:27:05 2001 +0000

    rearrange default jump for slightly better code generation

 tools/qfcc/source/switch.c |   13 +++++++++----
 1 file changed, 9 insertions(+), 4 deletions(-)

commit 7888f1c
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 13 19:52:03 2001 +0000

    fix a couple of branch offset bugs

 libs/gamecode/engine/pr_exec.c   |   10 ++++++----
 libs/gamecode/engine/pr_opcode.c |    2 +-
 2 files changed, 7 insertions(+), 5 deletions(-)

commit 4291f9c
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 13 18:49:27 2001 +0000

    create new_bind_expr and more tweeks to temp def ref counting

 tools/qfcc/include/expr.h  |    1 +
 tools/qfcc/source/expr.c   |   30 +++++++++++++++++++++++-------
 tools/qfcc/source/pr_def.c |    4 ++--
 tools/qfcc/source/switch.c |    4 ++--
 4 files changed, 28 insertions(+), 11 deletions(-)

commit f2f8e09
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 13 18:11:19 2001 +0000

    qfcc.h:
    	o	add a "freed" marker to def_t to prevent double freeing of
    		temp def offsets
    emit.c:
    	o	break out the bind code into emit_bind_expr (doesn't /really/
    		emit code, but still:)
    	o	make bind work with disparate types (forces def_t->freed 1)
    pr_def.c:
    	o	mark array pointers as initialized and constant.
    	o	don't free the offset for already freed temp defs
    pr_imm.c
    	o	fix a bug in uinteger support
    	o	support disparate types for immediates
    switch:
    	o	fix a bug where gt.i was being used instead of gt.ui
    	o	remove some debug code

 tools/qfcc/include/qfcc.h  |    1 +
 tools/qfcc/source/emit.c   |   29 ++++++++++++++++++++++++-----
 tools/qfcc/source/pr_def.c |    8 ++++++--
 tools/qfcc/source/pr_imm.c |   12 ++++++++++--
 tools/qfcc/source/switch.c |    4 +---
 5 files changed, 42 insertions(+), 12 deletions(-)

commit 4af2b18
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 13 18:04:55 2001 +0000

    support printing uinteger values

 libs/gamecode/engine/pr_edict.c |    3 +++
 1 file changed, 3 insertions(+)

commit 3d5447c
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 13 16:08:50 2001 +0000

    seems gcc3 drops the missed enum in switch warning :/

 tools/qfcc/source/expr.c |    6 ++++++
 1 file changed, 6 insertions(+)

commit 07b59d2
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 13 08:58:54 2001 +0000

    pr_comp.h:
    	o	add OP_JUMPB
    	o	OP_JUMPB renumberd some opcodes, so up PROG_VERSION
    pr_edict.c:
    	o	make the version error reporting more informative
    pr_exec.c:
    	o	implement OP_JUMPB (goto *(ptr + index))
    pr_opcode.c: (libs/gamecode/engine)
    	o	add OP_JUMPB to the table
    expr.h:
    	o	ex_uinteger support
    	o	some const correctness
    	o	prototype new_label_expr
    qfcc.h:
    	o	uinteger ussport
    	o	add pointers for op_jump and op_jumpb
    	o	prototype PR_GetArray
    emit.c:
    	o	general uinteger support
    	o	new reference/reloc type 3: absolute statement address
    	o	jumpb support (binary goto)
    expr.c:
    	o	uinteger support
    	o	break the label name creation out of new_label_expr into
    		new_label_name
    	o	some const correctness
    pr_def.c:
    	o	add PR_GetArray to allocate an array in global space
    	o	factor out some code common to PR_GetDef and PR_GetArray that would
    		otherwise be duplicated
    pr_imm.c:
    	o	some const correctness
    	o	uinteger support
    pr_lex.c:
    	o	uinteger support
    pr_opcode.c: (tools/qfcc/source)
    	o	support jump and jumpb
    switch.c:
    	o	rewrite the binary search code to support ranges.

 include/QF/pr_comp.h             |    3 +-
 libs/gamecode/engine/pr_edict.c  |   20 +++-
 libs/gamecode/engine/pr_exec.c   |   13 +++
 libs/gamecode/engine/pr_opcode.c |    1 +
 tools/qfcc/include/expr.h        |    7 +-
 tools/qfcc/include/qfcc.h        |    7 ++
 tools/qfcc/source/emit.c         |   10 ++
 tools/qfcc/source/expr.c         |   25 +++--
 tools/qfcc/source/pr_def.c       |   55 ++++++++--
 tools/qfcc/source/pr_imm.c       |    9 +-
 tools/qfcc/source/pr_lex.c       |    2 +
 tools/qfcc/source/pr_opcode.c    |    6 ++
 tools/qfcc/source/switch.c       |  216 ++++++++++++++++++++++++++++++++------
 13 files changed, 316 insertions(+), 58 deletions(-)

commit 748dc49
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 13 03:14:34 2001 +0000

    report the type number of the bad type for temp ents

 qw/source/cl_tent.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d27cd9c
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Nov 12 23:56:46 2001 +0000

    s/type_size/pr_type_size/
    remove the redundant type_size from qfcc

 include/QF/pr_comp.h            |    2 ++
 include/QF/progs.h              |    2 --
 libs/gamecode/engine/pr_edict.c |   15 +++++++++------
 tools/qfcc/include/qfcc.h       |    1 -
 tools/qfcc/source/emit.c        |    2 +-
 tools/qfcc/source/pr_def.c      |   14 +++++++-------
 tools/qfcc/source/pr_imm.c      |    2 +-
 tools/qfcc/source/pr_lex.c      |    2 --
 tools/qfcc/source/qc-parse.y    |    2 +-
 tools/qfcc/source/qfcc.c        |    2 +-
 10 files changed, 22 insertions(+), 22 deletions(-)

commit eb7d41b
Author: Timothy C. McGrath <tmhikaru@gmail.com>
Date:   Mon Nov 12 23:52:14 2001 +0000

    Fix for configure to give it a zlib check, just like qfcc. qfdefs now compiles
    again statically.
    
    Tim McGrath
    (Misty-chan)

 tools/qfdefs/configure.in |    2 ++
 1 file changed, 2 insertions(+)

commit 0a18c12
Author: Timothy C. McGrath <tmhikaru@gmail.com>
Date:   Mon Nov 12 23:49:08 2001 +0000

    Fix configure for zlib and static compiling. static compiling is still broken
    
    But I'm sure taniwha is going to fix that shortly anyway :)
    
    Tim McGrath
    (Misty-chan)

 tools/qfcc/configure.in |    2 ++
 1 file changed, 2 insertions(+)

commit 9ca6728
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Nov 12 22:50:27 2001 +0000

    fix restarting timedemo from trashing itself

 qw/source/cl_demo.c |   11 ++++++++---
 1 file changed, 8 insertions(+), 3 deletions(-)

commit 2b560ad
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Nov 12 21:42:10 2001 +0000

    replace a missing ;

 qw/source/cl_demo.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit b406ea2
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Nov 12 21:35:48 2001 +0000

    fix some oversights on my part that could cause weird output in the timedemo
    stats

 qw/source/cl_demo.c |    7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

commit dcfea97
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Nov 12 21:13:55 2001 +0000

    strings now work in switch statements

 tools/qfcc/source/switch.c |   13 +++++++++----
 1 file changed, 9 insertions(+), 4 deletions(-)

commit 50f2d46
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Nov 12 20:58:06 2001 +0000

    various cleanups

 libs/video/targets/in_win.c  |  193 ++++++++++---------
 libs/video/targets/vid_mgl.c |  423 ++++++++++++++++++------------------------
 libs/video/targets/vid_wgl.c |    3 +-
 3 files changed, 273 insertions(+), 346 deletions(-)

commit 504b804
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Nov 12 20:46:11 2001 +0000

    replace many Host_EndGame calls with Host_Error and make Host_Error not bail
    out of the program in most cases

 qw/source/cl_demo.c  |    4 ++--
 qw/source/cl_ents.c  |   18 +++++++++---------
 qw/source/cl_main.c  |   10 +++++++---
 qw/source/cl_parse.c |   43 +++++++++++++++++++++----------------------
 qw/source/cl_skin.c  |    2 +-
 5 files changed, 40 insertions(+), 37 deletions(-)

commit d168a3d
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Nov 12 16:23:41 2001 +0000

    this should remove the requirement for gmake on bsd systems

 doc/Makefile.am                      |    2 ++
 doc/man/Makefile.am                  |    2 ++
 libs/Makefile.am                     |    2 ++
 libs/audio/Makefile.am               |    2 ++
 libs/audio/cd/Makefile.am            |    2 ++
 libs/audio/renderer/Makefile.am      |    2 ++
 libs/audio/targets/Makefile.am       |    2 ++
 libs/console/Makefile.am             |    2 ++
 libs/gamecode/Makefile.am            |    2 ++
 libs/gamecode/builtins/Makefile.am   |    2 ++
 libs/gamecode/engine/Makefile.am     |    2 ++
 libs/gib/Makefile.am                 |    2 ++
 libs/models/Makefile.am              |    2 ++
 libs/models/alias/Makefile.am        |    2 ++
 libs/models/brush/Makefile.am        |    2 ++
 libs/models/sprite/Makefile.am       |    2 ++
 libs/util/Makefile.am                |    2 ++
 libs/video/Makefile.am               |    2 ++
 libs/video/renderer/Makefile.am      |    2 ++
 libs/video/renderer/gl/Makefile.am   |    2 ++
 libs/video/renderer/sw/Makefile.am   |    2 ++
 libs/video/renderer/sw32/Makefile.am |    2 ++
 libs/video/targets/Makefile.am       |    2 ++
 nq/include/Makefile.am               |    2 ++
 tools/qfdefs/include/Makefile.am     |    1 +
 25 files changed, 49 insertions(+)

commit 9f1f89f
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Mon Nov 12 14:15:20 2001 +0000

    Forge: New -- a preferences panel. Doesn't do anything yet, but that's
    only because I haven't created the main prefs view class yet. Trust me,
    it's going to work. I think. :)
    
    Anyway, what code there is works, and is linked into the menu -- just
    hit Info -> Preferences... to see it.

 tools/Forge/Controller.h                      |   40 ++++++-
 tools/Forge/Controller.m                      |   36 ++++--
 tools/Forge/Documentation/Template.h          |   33 ++++++
 tools/Forge/Documentation/Template.m          |   37 ++++++
 tools/Forge/English.lproj/Localizable.strings |    8 ++
 tools/Forge/Forge.classes                     |   16 ++-
 tools/Forge/Forge.gorm                        |  Bin 10202 -> 10202 bytes
 tools/Forge/ForgeInfo.plist                   |    8 +-
 tools/Forge/GNUmakefile                       |    6 +-
 tools/Forge/Preferences.h                     |   11 +-
 tools/Forge/Preferences.m                     |   16 ++-
 tools/Forge/PrefsController.h                 |   58 ++++++++++
 tools/Forge/PrefsController.m                 |  119 +++++++++++++++++++
 tools/Forge/PrefsPanel.h                      |   56 +++++++++
 tools/Forge/PrefsPanel.m                      |  152 +++++++++++++++++++++++++
 tools/Forge/PrefsView.h                       |   38 +++++++
 16 files changed, 612 insertions(+), 22 deletions(-)

commit 35ae176
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Nov 12 07:27:44 2001 +0000

    statistics for multiple timedemo runs (avg, std deviation, min, max)

 qw/source/cl_demo.c |   50 ++++++++++++++++++++++++++++++++++++++++++++++++--
 1 file changed, 48 insertions(+), 2 deletions(-)

commit e71a788
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Nov 12 03:47:30 2001 +0000

    shink the cmd and alias hash table sback down (that got in by mistake) and
    disable the cmd_hash_stats command (not needed for general use)

 libs/util/cmd.c |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 6beb961
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Nov 12 03:32:04 2001 +0000

    fix a seg when the chat message doesn't have : in it

 qw/source/teamplay.c |   22 +++++++++++++---------
 1 file changed, 13 insertions(+), 9 deletions(-)

commit 150128f
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Sun Nov 11 20:56:27 2001 +0000

    Localization for Forge.

 tools/Forge/English.lproj/Localizable.strings |   36 +++++++++++++++++++++++++
 1 file changed, 36 insertions(+)

commit 316004e
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Sun Nov 11 20:54:59 2001 +0000

    Forge updates. Preferences seems to be debugged now.

 tools/Forge/.gitignore    |    3 +
 tools/Forge/Controller.m  |  135 +++++++++++++----------
 tools/Forge/Forge.classes |   29 +++--
 tools/Forge/Forge.gorm    |  Bin 10147 -> 10202 bytes
 tools/Forge/GNUmakefile   |    3 +
 tools/Forge/Preferences.h |   34 +++---
 tools/Forge/Preferences.m |  267 ++++++++++++++++++++++-----------------------
 tools/Forge/main.m        |    3 +-
 8 files changed, 250 insertions(+), 224 deletions(-)

commit fe50e4b
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Nov 11 07:02:38 2001 +0000

    cache the cshifts serverinfo value for further reduction of Info_ValueForKey
    calls.

 qw/include/client.h  |    1 +
 qw/source/cl_main.c  |   15 ++++++++++-----
 qw/source/cl_parse.c |    6 ++++++
 qw/source/cl_view.c  |   12 ++++--------
 4 files changed, 21 insertions(+), 13 deletions(-)

commit e435414
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Nov 10 22:55:10 2001 +0000

    fix a case where the userinfo is 0 that I was not expecting. This fixes the
    crash on reconnect

 qw/source/sv_main.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit e4fd746
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Nov 10 01:13:29 2001 +0000

    this adds some stats to hash tables and a command to get at them for commands
    and aliases

 include/QF/hash.h |    5 +++
 libs/util/cmd.c   |   15 +++++++--
 libs/util/hash.c  |   96 +++++++++++++++++++++++++++++++++++++++++++++++++----
 3 files changed, 107 insertions(+), 9 deletions(-)

commit 47e20a0
Author: Timothy C. McGrath <tmhikaru@gmail.com>
Date:   Sat Nov 10 00:12:04 2001 +0000

    Disabled f_* by default. I do not believe it should be turned on unless the
    user explicitly enables it - I don't want people running around with this
    on and them not knowing it exists nor how to disable it.
    
    
    Timothy C. McGrath
    (Misty-chan)

 qw/source/teamplay.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 1dfd2d4
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Fri Nov 9 18:51:33 2001 +0000

    More use of mathlib, and some small optimizations.

 libs/video/renderer/gl/gl_rsurf.c |   18 ++++++++----------
 1 file changed, 8 insertions(+), 10 deletions(-)

commit 3d572df
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Fri Nov 9 12:09:46 2001 +0000

    Bug fix (we weren't removing particles from the list until the frame after they died, which caused particle slots to be wasted).
    Fix for a bug in particle trail pre-aging (sometimes created some 0 age particles).
    And a couple small optimizations.

 libs/video/renderer/gl/gl_dyn_part.c |  162 +++++++++++++++++-----------------
 1 file changed, 82 insertions(+), 80 deletions(-)

commit db929ff
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Nov 9 07:33:32 2001 +0000

    fix a glaring security hole

 qw/source/console.c |    8 ++++++--
 1 file changed, 6 insertions(+), 2 deletions(-)

commit 0dffb8b
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Nov 9 07:23:28 2001 +0000

    new command: condump <file>
    dumps the console output to the named file in the current gamedir

 qw/source/console.c |   39 +++++++++++++++++++++++++++++++++++++++
 1 file changed, 39 insertions(+)

commit 9a4a91b
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Nov 9 07:22:34 2001 +0000

    report the error number for unknown errors

 qw/source/net_udp.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 4be5c86
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Nov 9 01:03:35 2001 +0000

    forgot to add "uinteger" to the array of type name strings

 libs/gamecode/engine/pr_edict.c |    1 +
 1 file changed, 1 insertion(+)

commit 928d343
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Nov 9 00:58:16 2001 +0000

    pr_comp.h:
    	o	add ev_uniteger to the types enum
    	o	add opcodes for ifbe, ifb, ifae, ifa, jump, lt.ui, gt.ui, le.ui, ge.ui
    progs.h:
    	o	add uinteger accessors
    pr_exec.c:
    	o	implement ifbe, ifb, ifae, ifa, jump, lt.ui, gt.ui, le.ui, ge.ui
    pr_opcode.c:
    	o	add opcodes for ifbe, ifb, ifae, ifa, jump, lt.ui, gt.ui, le.ui, ge.ui
    expr.h:
    	o	prototype inc_users
    qfcc.h:
    	o	add externs for op_ifbe, op_ifb, op_ifae and op_ifa
    emit.c:
    	o	don't bother emiting an assignment to a temp def that's only used once
    		(ie, it's never read, only written to)
    	o	support the new if* instructions
    expr.c:
    	o	support the new if* insructions
    	o	dectect expression loops in append_expr
    	o	support unsigned integers
    	o	re-work temp def usage counting
    pr_def.c
    	o	debugging for temp def usage counts
    pr_opcode.c:
    	o	support the new if* instructions
    qc-parse.y:
    	o	provide defines for IFBE IFB IFAE IFA
    switch.c:
    	o	do binary searches for strings, floats and ints if there are more than
    		8 cases in a switch. Strings need more testing.

 include/QF/pr_comp.h             |   13 ++++
 include/QF/progs.h               |    3 +
 libs/gamecode/engine/pr_exec.c   |   43 ++++++++++-
 libs/gamecode/engine/pr_opcode.c |   18 ++++-
 tools/qfcc/include/expr.h        |    2 +
 tools/qfcc/include/qfcc.h        |    4 +
 tools/qfcc/source/emit.c         |   16 ++++
 tools/qfcc/source/expr.c         |   22 ++++--
 tools/qfcc/source/pr_def.c       |    4 +-
 tools/qfcc/source/pr_opcode.c    |   12 +++
 tools/qfcc/source/qc-parse.y     |    1 +
 tools/qfcc/source/switch.c       |  157 +++++++++++++++++++++++++++++++++-----
 12 files changed, 264 insertions(+), 31 deletions(-)

commit 67cec90
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Thu Nov 8 00:45:50 2001 +0000

    cvar_t     *gl_sky_divide;    // not used but needed for linking
    Umm, no, not needed. In fact, it breaks static compiles. But not anymore, since it's gone.

 qw/source/sv_model.c |    1 -
 1 file changed, 1 deletion(-)

commit c5aec15
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Nov 7 08:24:56 2001 +0000

    This prepares for moving the net_svc code to a branch allowing both network
    code cleanups and general performance work to be developed in relative peace.
    While cleaning up the networking code /is/ important, fixing QF's perfomance
    issues is of much higher priority.

 qw/include/bothdefs.h     |    3 +-
 qw/include/cl_ents.h      |    3 +-
 qw/include/client.h       |    2 +-
 qw/include/host.h         |    1 -
 qw/include/net.h          |    2 -
 qw/include/protocol.h     |   16 -
 qw/include/server.h       |    2 +-
 qw/source/Makefile.am     |    2 +-
 qw/source/cl_demo.c       |    4 +-
 qw/source/cl_ents.c       |  426 ++++++++--------
 qw/source/cl_main.c       |   28 -
 qw/source/cl_parse.c      | 1236 ++++++++++++++++++++-------------------------
 qw/source/cl_skin.c       |    2 +-
 qw/source/cl_tent.c       |  170 ++++---
 qw/source/cl_view.c       |   29 +-
 qw/source/net_packetlog.c |  204 +++++---
 qw/source/sv_ccmds.c      |    8 +-
 qw/source/sv_ents.c       |  313 ++++++------
 qw/source/sv_init.c       |   24 +-
 qw/source/sv_main.c       |   34 +-
 qw/source/sv_model.c      |    1 +
 qw/source/sv_phys.c       |    6 +-
 qw/source/sv_pr_cmds.c    |   61 ++-
 qw/source/sv_send.c       |   83 ++-
 qw/source/sv_user.c       |  192 ++++---
 25 files changed, 1358 insertions(+), 1494 deletions(-)

commit f60c39e
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Wed Nov 7 06:59:10 2001 +0000

    Whitespace.

 libs/video/targets/context_x11.c |  134 ++++++++++++++++++++------------------
 libs/video/targets/vid_glx.c     |    3 +-
 libs/video/targets/vid_x11.c     |    4 +-
 3 files changed, 73 insertions(+), 68 deletions(-)

commit 14aa428
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Wed Nov 7 06:57:34 2001 +0000

    Switch to dot texture for sparks, and drop particle size. A little less cartoony effect.

 libs/video/renderer/gl/gl_dyn_part.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 158717a
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Wed Nov 7 06:56:05 2001 +0000

    Add skyboxlist support to nq.

 nq/source/cl_main.c |    1 +
 1 file changed, 1 insertion(+)

commit 6740adb
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Wed Nov 7 06:54:59 2001 +0000

    Note that we really ought to support .lit file downloading.

 TODO |    1 +
 1 file changed, 1 insertion(+)

commit 643aa79
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Nov 7 02:50:54 2001 +0000

    fill the bsb and brush menus with a "dunno" filler that just, er, selects
    "undo" for now. This is so Controller.m compiles on my system (using gcc 3)

 tools/Forge/Controller.m |   19 +++++++++++++++++++
 1 file changed, 19 insertions(+)

commit ae8c255
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 6 21:37:33 2001 +0000

    re-anable the sorting. I guess snax was testing other things and forgot about
    it.

 libs/console/filelist.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit f3fcfea
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 6 21:29:53 2001 +0000

    fully specify the type for the comparison opcodes

 libs/gamecode/engine/pr_opcode.c |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit f2f8513
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Tue Nov 6 21:02:18 2001 +0000

    Reduce number of rand() calls in teleport and lava splash effects. Also preserves entropy, and we all know how important that is!

 libs/video/renderer/gl/gl_dyn_part.c |   65 +++++++++++++++++-----------------
 1 file changed, 33 insertions(+), 32 deletions(-)

commit cb4ce6a
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 6 20:39:42 2001 +0000

    remove the default label from the switch label table while fetching it.

 tools/qfcc/source/switch.c |   18 ++++++++----------
 1 file changed, 8 insertions(+), 10 deletions(-)

commit 469fd1b
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 6 20:36:20 2001 +0000

    more mathlib usage

 libs/gamecode/engine/pr_exec.c |   10 ++++------
 1 file changed, 4 insertions(+), 6 deletions(-)

commit 93366d7
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 6 20:30:16 2001 +0000

    more 0.5 cvar/cmd docs

 doc/qw-client-glx-cmd.txt    |  283 ++++++++++++++++++++++++++++++++++++++++++
 doc/qw-client-glx-cvar.txt   |  253 +++++++++++++++++++++++++++++++++++++
 doc/qw-client-sdl-cmd.txt    |  274 ++++++++++++++++++++++++++++++++++++++++
 doc/qw-client-sdl-cvar.txt   |  246 ++++++++++++++++++++++++++++++++++++
 doc/qw-client-sdl32-cmd.txt  |  274 ++++++++++++++++++++++++++++++++++++++++
 doc/qw-client-sdl32-cvar.txt |  246 ++++++++++++++++++++++++++++++++++++
 doc/qw-client-x11-cmd.txt    |  279 +++++++++++++++++++++++++++++++++++++++++
 doc/qw-client-x11-cvar.txt   |  250 +++++++++++++++++++++++++++++++++++++
 8 files changed, 2105 insertions(+)

commit 5876ba1
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Tue Nov 6 13:20:23 2001 +0000

    Forge Updates. Menus mostly filled out now, the .gorm file inits the
    controller.

 tools/Forge/Controller.m                |   92 +++++++++++++++++++---
 tools/Forge/English.lproj/Forge.classes |  128 -------------------------------
 tools/Forge/English.lproj/Forge.gorm    |  Bin 11919 -> 0 bytes
 tools/Forge/Forge.classes               |   59 +-------------
 tools/Forge/Forge.gorm                  |  Bin 10868 -> 10147 bytes
 tools/Forge/GNUmakefile                 |    7 +-
 tools/Forge/main.m                      |    6 +-
 7 files changed, 91 insertions(+), 201 deletions(-)

commit de05923
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 6 09:43:55 2001 +0000

    several fixes to cmd.php and cvar.php
    rewrite documentation.php (I'll have to rethink it due to the slow rendering
    in netscape)
    add a link to the docs form the 0.5 section of files.php

 doc/quakeforge-notes.txt |   19 ++++++
 doc/qw-server-cmd.txt    |  152 ++++++++++++++++++++++++++++++++++++++++++++++
 doc/qw-server-cvar.txt   |   98 ++++++++++++++++++++++++++++++
 3 files changed, 269 insertions(+)

commit ccd665e
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Tue Nov 6 07:14:29 2001 +0000

    This commit removes maplist.c and replaces it with filelist.c, which
    contains general functions for creating lists of a type of file and
    provides the commands maplist, skinlist, skyboxlist, and demolist.

 include/QF/console.h     |    4 +
 libs/console/Makefile.am |    2 +-
 libs/console/filelist.c  |  297 ++++++++++++++++++++++++++++++++++++++++++++++
 libs/console/maplist.c   |  203 -------------------------------
 nq/source/Makefile.am    |    2 +-
 nq/source/cl_main.c      |    3 +-
 qw/source/Makefile.am    |    2 +-
 qw/source/cl_main.c      |    3 +
 8 files changed, 309 insertions(+), 207 deletions(-)

commit ceb307a
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Tue Nov 6 05:06:37 2001 +0000

    Cleanups, whitespace, convert some ints to unsigned int. Whee!

 libs/video/renderer/gl/gl_rsurf.c |   26 ++++++++++++++------------
 1 file changed, 14 insertions(+), 12 deletions(-)

commit 42f8b98
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Nov 6 04:44:26 2001 +0000

    win32 compile fix

 qw/source/sv_sys_win.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 1c5701f
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Tue Nov 6 04:42:17 2001 +0000

    Fix a few minor quirks with particle trails.

 libs/video/renderer/gl/gl_dyn_part.c |   18 +++++++++---------
 1 file changed, 9 insertions(+), 9 deletions(-)

commit 15b3819
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Nov 5 22:24:16 2001 +0000

    move maplist from quakefs.c to console/maplist.c. Unfortunatly, until the
    client console plugin is usable, this means the clients link maplist.o
    directly.

 include/QF/console.h     |    2 +
 include/QF/vfs.h         |   26 +++++-
 libs/console/Makefile.am |    2 +-
 libs/console/maplist.c   |  203 ++++++++++++++++++++++++++++++++++++++++++++++
 libs/util/quakefs.c      |  143 --------------------------------
 nq/source/Makefile.am    |    3 +-
 nq/source/cl_main.c      |    2 +-
 qw/source/Makefile.am    |    1 +
 qw/source/cl_main.c      |    2 +-
 qw/source/sv_ccmds.c     |    3 +-
 10 files changed, 238 insertions(+), 149 deletions(-)

commit 460b53e
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Nov 5 21:30:53 2001 +0000

    rework the maplist code to use Con_DisplayList. this results in both
    prettier code and prettier output.

 libs/util/quakefs.c |   30 ++++++++++++------------------
 1 file changed, 12 insertions(+), 18 deletions(-)

commit e0dfa2b
Author: Adam Olsen <rhamph@gmail.com>
Date:   Mon Nov 5 20:13:27 2001 +0000

    - convert ALL the remaining svc's on the client.  woot, hehe

 include/view.h       |    1 -
 qw/include/client.h  |    2 +
 qw/include/net_svc.h |  102 ++++++++++++
 qw/source/cl_parse.c |  454 +++++++++++++++++++++++++++-----------------------
 qw/source/cl_view.c  |    4 +-
 qw/source/net_svc.c  |  194 ++++++++++++++++++++-
 6 files changed, 546 insertions(+), 211 deletions(-)

commit 1b834ba
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Mon Nov 5 20:05:02 2001 +0000

    Whoops. Fix the principal class.

 tools/Forge/GNUmakefile |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 5ff1de3
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Mon Nov 5 19:58:25 2001 +0000

    Okay, tiny skeleton for Forge. It will be cleaner and probably faster to
    treat Forge like an entirely new program, and not as a port. I'll still
    be using many of the ideas from QuakeEd (and from my old Forge work),
    but there's no promise that it'll be a duplicate, or even similar.

 tools/Forge/Controller.h    |   29 ++++
 tools/Forge/Controller.m    |  167 ++++++++++++++++++++++
 tools/Forge/Forge.classes   |  140 ++++++++++++++++++
 tools/Forge/Forge.gorm      |  Bin 0 -> 10868 bytes
 tools/Forge/Forge.tiff      |  Bin 0 -> 2436 bytes
 tools/Forge/ForgeInfo.plist |   15 +-
 tools/Forge/GNUmakefile     |   75 ++--------
 tools/Forge/Preferences.h   |   92 ++++++++++++
 tools/Forge/Preferences.m   |  328 +++++++++++++++++++++++++++++++++++++++++++
 tools/Forge/main.m          |   12 ++
 10 files changed, 785 insertions(+), 73 deletions(-)

commit 51a17f2
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Mon Nov 5 19:47:05 2001 +0000

    Forge: more files history

 tools/Forge/Headers/.gitignore |    3 -
 tools/Forge/cmdlib.c           |  883 ---
 tools/Forge/jrbase1.map        |11858 ----------------------------------------
 tools/Forge/quake.qpr          |   22 -
 tools/Forge/readme.txt         |   53 -
 tools/Forge/triggers.qc        |  738 ---
 6 files changed, 13557 deletions(-)

commit 2ab7a09
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Mon Nov 5 19:45:09 2001 +0000

    Forge: More stuff gets the axe.

 tools/Forge/CameraView.m     |  980 --------------------
 tools/Forge/Clipper.m        |  257 ------
 tools/Forge/Dict.m           |  579 ------------
 tools/Forge/Entity.m         |  485 ----------
 tools/Forge/EntityArray.m    |  119 ---
 tools/Forge/EntityClass.m    |  148 ---
 tools/Forge/Forge.m          | 1029 ---------------------
 tools/Forge/Forge_main.m     |   18 -
 tools/Forge/Map.m            | 1096 -----------------------
 tools/Forge/PopScrollView.m  |   85 --
 tools/Forge/Preferences.m    |  328 -------
 tools/Forge/Project.m        |  429 ---------
 tools/Forge/SetBrush.m       | 2027 ------------------------------------------
 tools/Forge/TexturePalette.m |  800 -----------------
 tools/Forge/Things.m         |  317 -------
 tools/Forge/Vector.m         |  215 -----
 tools/Forge/XYView.m         | 1386 -----------------------------
 tools/Forge/ZScrollView.m    |   71 --
 tools/Forge/ZView.m          |  872 ------------------
 tools/Forge/misc.m           |  274 ------
 tools/Forge/render.m         |  748 ----------------
 21 files changed, 12263 deletions(-)

commit 02dd74b
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Mon Nov 5 19:40:34 2001 +0000

    Buh-bye headers.

 tools/Forge/Headers/Brush.h            |   86 ---------------
 tools/Forge/Headers/CameraView.h       |   92 ----------------
 tools/Forge/Headers/Clipper.h          |   61 -----------
 tools/Forge/Headers/Entity.h           |   62 -----------
 tools/Forge/Headers/EntityArray.h      |   47 --------
 tools/Forge/Headers/EntityClass.h      |   58 ----------
 tools/Forge/Headers/Forge.h            |  132 -----------------------
 tools/Forge/Headers/InspectorControl.h |  101 ------------------
 tools/Forge/Headers/KeypairView.h      |   46 --------
 tools/Forge/Headers/Map.h              |   98 -----------------
 tools/Forge/Headers/PopScrollView.h    |   43 --------
 tools/Forge/Headers/Preferences.h      |   92 ----------------
 tools/Forge/Headers/Project.h          |  132 -----------------------
 tools/Forge/Headers/SetBrush.h         |  184 --------------------------------
 tools/Forge/Headers/TexturePalette.h   |  141 ------------------------
 tools/Forge/Headers/TextureView.h      |   41 -------
 tools/Forge/Headers/Things.h           |   72 -------------
 tools/Forge/Headers/Vector.h           |   74 -------------
 tools/Forge/Headers/XYView.h           |   95 -----------------
 tools/Forge/Headers/ZScrollView.h      |   42 --------
 tools/Forge/Headers/ZView.h            |   74 -------------
 tools/Forge/Headers/cmdlib.h           |  112 -------------------
 tools/Forge/Headers/render.h           |   43 --------
 23 files changed, 1928 deletions(-)

commit 2fbdbd5
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Mon Nov 5 19:36:04 2001 +0000

    Forge: Committing the stuff I _was_ working on. These will all go away
    in a few minutes.

 tools/Forge/CameraView.m                |    5 +-
 tools/Forge/English.lproj/Forge.classes |    3 +
 tools/Forge/English.lproj/Forge.gorm    |  Bin 11454 -> 11919 bytes
 tools/Forge/Forge.m                     |    5 +-
 tools/Forge/GNUmakefile                 |   22 ++---
 tools/Forge/Headers/Project.h           |    6 +-
 tools/Forge/InspectorControl.m          |  130 --------------------------
 tools/Forge/KeypairView.m               |   93 -------------------
 tools/Forge/Project.m                   |   12 ++-
 tools/Forge/TextureView.m               |  152 -------------------------------
 tools/Forge/XYView.m                    |    4 +-
 11 files changed, 35 insertions(+), 397 deletions(-)

commit ccbb1c3
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Nov 5 19:32:50 2001 +0000

    document all those weird opcodes :)

 tools/qfcc/doc/expressions.txt |   35 +++++++++++++++++++++++++++++++++++
 1 file changed, 35 insertions(+)

commit 13a177f
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Nov 5 19:12:33 2001 +0000

    use 'b' (bind) instead of '=' (assign) for switch's test temp def so simple
    expressions (ie, just a def) don't generated wasted assignments and clean up
    switch's debug info so you get the switch line rather than the line for the
    closing }

 tools/qfcc/source/switch.c |   27 +++++++++++++++++++--------
 1 file changed, 19 insertions(+), 8 deletions(-)

commit 9b784e3
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Nov 5 19:11:03 2001 +0000

    remove '(' (never used, don't remember what it was intended for) and add
    'b' (bind), 's' (state) and 'c' (call) to get_op_string.

 tools/qfcc/source/expr.c |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 54ddb94
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Nov 5 17:19:26 2001 +0000

    urk, I forgot Info_ParseString uses Hunk_TempAlloc :/

 qw/source/cl_slist.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 6c2145f
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Nov 5 17:09:27 2001 +0000

    make work with the new info api and fix what looks to be a malloc bug

 qw/source/cl_slist.c |   22 +++++++++++-----------
 1 file changed, 11 insertions(+), 11 deletions(-)

commit b286afc
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Nov 5 16:22:03 2001 +0000

    don't install skin_stencil.h

 include/QF/skin_stencil.h | 4030 ---------------------------------------------
 include/skin_stencil.h    | 4030 +++++++++++++++++++++++++++++++++++++++++++++
 qw/source/skin.c          |    2 +-
 3 files changed, 4031 insertions(+), 4031 deletions(-)

commit ded1b4c
Author: Adam Olsen <rhamph@gmail.com>
Date:   Mon Nov 5 16:17:45 2001 +0000

    - add some missing boundschecking to CDAudio_Play's track remap (in
      specific plugins only)
    - convert updateping, updatepl, updateentertime, updatestat,
      updatestatlong, cdtrack intermission, finale, muzzleflashchokecount,
      maxspeed, entgravity, and setpause on the client.  Can you say all
      that in one breath? :)

 libs/audio/cd/cd_linux.c |    5 +
 libs/audio/cd/cd_sgi.c   |    5 +
 libs/audio/cd/cd_win.c   |    5 +
 qw/include/net_svc.h     |  109 ++++++++++++++++++
 qw/source/cl_parse.c     |  277 +++++++++++++++++++++++++++++++++++-----------
 qw/source/net_svc.c      |  229 ++++++++++++++++++++++++++++++++++++++
 6 files changed, 566 insertions(+), 64 deletions(-)

commit 6af4eae
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Mon Nov 5 14:59:05 2001 +0000

    Couple of cleanups (remove unused variables) and a small optimization.

 libs/video/renderer/gl/gl_rsurf.c |   26 ++++++++++----------------
 1 file changed, 10 insertions(+), 16 deletions(-)

commit 069ad1b
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Mon Nov 5 10:11:21 2001 +0000

    Change r_lightmap_components default to 3. Looks like Nvidia fixed that horrid slowdown for 3 component texture uploads. :)

 libs/video/renderer/r_cvar.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d693bc2
Author: Adam Olsen <rhamph@gmail.com>
Date:   Mon Nov 5 07:53:03 2001 +0000

    - merge the svc_strings arrays for cl_parse.c and net_packetlog.c into
      net_svc.c, and add add a NET_SVC_GetString function to access it.
      As an added bonus, it actually boundschecks it!
    - preexpand that annoying SHOWNET macro, which was only used twice,
      and was quite small and pointless
    - whitespace cleanup and a comment typo fix

 qw/include/net_svc.h      |    1 +
 qw/include/protocol.h     |    2 +-
 qw/source/cl_parse.c      |   89 +++------------------------------------------
 qw/source/net_packetlog.c |   86 +++----------------------------------------
 qw/source/net_svc.c       |   71 ++++++++++++++++++++++++++++++++++++
 5 files changed, 85 insertions(+), 164 deletions(-)

commit 008b59b
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Mon Nov 5 07:23:51 2001 +0000

    The beginnings of an f_* reply system have been added.  f_version works
    like normal, f_skins reports the average percent fullbright for all loaded
    skins, and f_skins skinname reports the fullbright percent for a signle
    skin.  cl_freply controls the time in seconds before another query can be
    made.  Set it to 0 to disable them.  More queries will be added later.
    The table for accessing special characters from the console has been
    tweaked a bit.  Expect it to get tweaked more in the future.

 include/QF/skin.h         |    3 +
 include/QF/skin_stencil.h | 4030 +++++++++++++++++++++++++++++++++++++++++++++
 include/QF/teamplay.h     |   11 +-
 libs/util/cmd.c           |   26 +-
 qw/source/cl_main.c       |    2 +
 qw/source/cl_parse.c      |    1 +
 qw/source/skin.c          |   12 +-
 qw/source/teamplay.c      |   82 +-
 8 files changed, 4152 insertions(+), 15 deletions(-)

commit dc779ac
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Nov 5 06:20:35 2001 +0000

    build the texture chains such that they get rendered front to back. seems to
    only get about 0.17% speedup in overkill (with just about every thing off),
    but it might make more of a difference in-game.

 include/QF/model.h                |    1 +
 libs/video/renderer/gl/gl_rmisc.c |   11 +++++----
 libs/video/renderer/gl/gl_rsurf.c |   48 +++++++++++++++++++++++++++----------
 3 files changed, 43 insertions(+), 17 deletions(-)

commit 9f4a565
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Nov 5 03:21:42 2001 +0000

    rename some get_key functions so they're all uniqely named (matters only for
    profiling purposes thanks to static:)

 libs/gamecode/engine/pr_opcode.c |    6 +++---
 libs/util/info.c                 |    4 ++--
 libs/util/plugin.c               |    4 ++--
 libs/video/targets/old_keys.c    |    4 ++--
 4 files changed, 9 insertions(+), 9 deletions(-)

commit f91abcb
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Nov 5 02:15:30 2001 +0000

    fix the default for cmd_warncmd for the server

 qw/source/sv_main.c |    2 ++
 1 file changed, 2 insertions(+)

commit c443e2c
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Nov 5 02:08:20 2001 +0000

    info.c:
    	support unlimited info strings when maxsize is 0
    sv_main.c:
    	make localinfo unlimited

 libs/util/info.c    |    3 ++-
 qw/source/sv_main.c |    2 +-
 2 files changed, 3 insertions(+), 2 deletions(-)

commit ac93a62
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Nov 5 02:03:37 2001 +0000

    remove instead of set "" info keys for localinfo

 qw/source/sv_ccmds.c   |    7 +++++--
 qw/source/sv_pr_cmds.c |    6 +++++-
 2 files changed, 10 insertions(+), 3 deletions(-)

commit 9829cf3
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Nov 5 01:29:45 2001 +0000

    do not include \key\value pairs in the output of Info_MakeString for
    backwards compatability with the old info key system.

 libs/util/info.c |    2 ++
 1 file changed, 2 insertions(+)

commit bf4570d
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Nov 4 23:02:43 2001 +0000

    fix some reversed logic that caused the server to send the wrong info keys
    to a connecting client.

 qw/source/sv_main.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 96a2ac9
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Nov 4 22:00:32 2001 +0000

    put the info string tolower/highchar handling back in

 libs/util/info.c |   20 ++++++++++++++++++--
 1 file changed, 18 insertions(+), 2 deletions(-)

commit 87a0a4d
Author: Adam Olsen <rhamph@gmail.com>
Date:   Sun Nov 4 21:23:22 2001 +0000

    - a TODO item
    - converted svc_packetentities and svc_deltapacketentities
    - added some convenience defines for U_foo grouping
    - tweaked Host_NetError's "please report this" print, but it still
      doesn't work

 TODO                  |    2 +
 qw/include/net_svc.h  |    8 ++-
 qw/include/protocol.h |   16 +++++
 qw/source/cl_main.c   |    5 +-
 qw/source/net_svc.c   |  112 ++++++++++++++++++++++++++++-
 qw/source/sv_ents.c   |  190 +++++++++++++++++++++++++++++++------------------
 6 files changed, 258 insertions(+), 75 deletions(-)

commit a856cbc
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sun Nov 4 20:58:46 2001 +0000

    Fix for r_lightmap_components 4 weirdness.

 libs/video/renderer/gl/gl_rsurf.c |    1 -
 1 file changed, 1 deletion(-)

commit 23a2760
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Nov 4 20:48:12 2001 +0000

    change formating for Info_Print

 libs/util/info.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 7c5c537
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Nov 4 19:06:50 2001 +0000

    cache some info strings (team and skin from client user info) and values
    (no_pogo_stick and teamplay from server info) to cut down on the calls to
    Info_ValueForKey (from over 550k to 23.5k in spam2.qwd).

 qw/include/client.h  |    6 +++++-
 qw/source/cl_main.c  |    8 +++++++-
 qw/source/cl_parse.c |   14 +++++++++++++
 qw/source/cl_skin.c  |   17 ++++++++++------
 qw/source/sbar.c     |   55 +++++++++++++++++++++-----------------------------
 qw/source/skin.c     |    2 +-
 6 files changed, 61 insertions(+), 41 deletions(-)

commit a2ed608
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sun Nov 4 16:57:47 2001 +0000

    Some more small speedups.
    Not entirely thrilled with R_BuildLightMap inside 'store:'. Macros are a pain to work around...

 libs/video/renderer/gl/gl_rsurf.c |   36 ++++++++++++++++++------------------
 1 file changed, 18 insertions(+), 18 deletions(-)

commit 3417167
Author: Adam Olsen <rhamph@gmail.com>
Date:   Sun Nov 4 15:42:26 2001 +0000

    - compile fix for info.c.  We can't call any functions until /after/
      all variables are declared.

 libs/util/info.c |    5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 6d62497
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sun Nov 4 15:31:17 2001 +0000

    Typo fix.

 libs/util/info.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit dbb6e37
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sun Nov 4 11:20:35 2001 +0000

    Remove some unneeded variables.
    Speed lightmap calculations up for r_lightmap_components 1.
    Enough to give a 4.4% speedup to timedemo overkill.
    Hint: int/float/int conversions are expensive.

 libs/video/renderer/gl/gl_rsurf.c |   41 ++++++++++++++-----------------------
 1 file changed, 15 insertions(+), 26 deletions(-)

commit fd19f93
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sun Nov 4 08:50:16 2001 +0000

    Tiny comment cleanup

 libs/video/renderer/gl/gl_rmisc.c |    8 +++-----
 1 file changed, 3 insertions(+), 5 deletions(-)

commit b0e9bd3
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Nov 4 08:18:54 2001 +0000

    fix a bogus leak in info strings

 libs/util/info.c |    1 +
 1 file changed, 1 insertion(+)

commit dcd9b00
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Nov 4 07:50:39 2001 +0000

    rewrite the info strings to use hash tables instead of a static string.
    This required changes to the api (info_t instead of char *) but should be
    a net gain in speed (not a lot, admittedly: it was pretty fast to begin
    with, but this paves the way for some other changes I have in mind).

 include/QF/info.h       |   28 +++-
 libs/util/info.c        |  323 ++++++++++++++++++-----------------------------
 qw/include/client.h     |    6 +-
 qw/include/server.h     |    8 +-
 qw/source/cl_cvar.c     |    1 -
 qw/source/cl_demo.c     |    5 +-
 qw/source/cl_main.c     |   35 ++---
 qw/source/cl_parse.c    |   16 ++-
 qw/source/cl_slist.c    |   25 ++--
 qw/source/game.c        |    3 +-
 qw/source/skin.c        |    2 +-
 qw/source/sv_ccmds.c    |    9 +-
 qw/source/sv_cvar.c     |    2 -
 qw/source/sv_init.c     |    8 +-
 qw/source/sv_main.c     |   49 ++++---
 qw/source/sv_pr_cmds.c  |    5 +-
 qw/source/sv_progs.c    |    3 +-
 qw/source/sv_sys_unix.c |    2 +-
 qw/source/sv_user.c     |    5 +-
 19 files changed, 243 insertions(+), 292 deletions(-)

commit de0b4f6
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sun Nov 4 07:40:35 2001 +0000

    modelalpha and currenentity cleanups.

 libs/video/renderer/gl/gl_mod_alias.c  |   45 ++++++++++++++++----------------
 libs/video/renderer/gl/gl_mod_sprite.c |    5 ++--
 libs/video/renderer/gl/gl_rmain.c      |    6 -----
 libs/video/renderer/gl/gl_rsurf.c      |    1 +
 4 files changed, 26 insertions(+), 31 deletions(-)

commit c5f4af0
Author: Adam Olsen <rhamph@gmail.com>
Date:   Sat Nov 3 10:48:55 2001 +0000

    - convert svc_playerinfo, cvs_nails, svc_modellist, and svc_soundlist

 qw/include/net_svc.h |    7 +++
 qw/source/net_svc.c  |   96 +++++++++++++++++++++++++++++++++++++--
 qw/source/sv_ents.c  |  123 +++++++++++++++++++-------------------------------
 qw/source/sv_user.c  |   75 ++++++++++++++++++------------
 4 files changed, 191 insertions(+), 110 deletions(-)

commit 961ea0b
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sat Nov 3 07:50:57 2001 +0000

    Move cshift render to before hud/text render, so that you can still read it while heavy cshift action is happening.

 libs/video/renderer/gl/gl_screen.c |   34 ++++++++++++++++------------------
 1 file changed, 16 insertions(+), 18 deletions(-)

commit e8b36b1
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sat Nov 3 07:30:15 2001 +0000

    Remove unused R_CullBlocked.

 libs/video/renderer/gl/gl_mod_alias.c |    7 +-
 libs/video/renderer/gl/gl_rmain.c     |  132 ---------------------------------
 2 files changed, 1 insertion(+), 138 deletions(-)

commit 67cef78
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sat Nov 3 05:15:07 2001 +0000

    Ignore generated files.

 .gitignore |    1 +
 1 file changed, 1 insertion(+)

commit 6daf712
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Nov 3 00:54:18 2001 +0000

    turns out the server can send MAX_MSGLEN + 8 bytes, so handle this when
    reading demo packets.

 qw/source/cl_demo.c |   10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit 9209138
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Nov 3 00:27:01 2001 +0000

    nuke the max message lengths from qdefs.h

 include/QF/qdefs.h |    3 ---
 qw/include/net.h   |    2 ++
 2 files changed, 2 insertions(+), 3 deletions(-)

commit e1e56c4
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Nov 2 23:57:22 2001 +0000

    Host_NetError is not appropriate for an oversize packet as that packet's data
    has not yet been read.

 qw/source/cl_demo.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 5bf5278
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Nov 2 22:41:11 2001 +0000

    pr_comp.h:
    	- new opcodes for pointers
    progs.h:
    	- prototype PR_Check_Opcodes
    pr_edict.c:
    	- move the static bounds checking to PR_Check_Opcodes in pr_opcode.c
    pr_exec.c:
    	- vector instruction cleanup
    	- temporarily nuke bounds checking from storep.*
    	- move base of address results from pr->edicts to pr->pr_globals
    	- implement new pointer related instructions
    	- nuke proposed global pointer instructions (not flexible enough)
    pr_opcode.c:
    	- add new pointer instuctions
    	- re-implement static bounds/invalid opcode checking. no more multiple
    	  case statements to keep track of.

 include/QF/pr_comp.h             |   29 ++++++
 include/QF/progs.h               |    1 +
 libs/gamecode/engine/pr_edict.c  |  155 +-----------------------------
 libs/gamecode/engine/pr_exec.c   |  197 ++++++++++++++------------------------
 libs/gamecode/engine/pr_opcode.c |   86 +++++++++++++++++
 5 files changed, 187 insertions(+), 281 deletions(-)

commit 08a2113
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Fri Nov 2 21:12:09 2001 +0000

    Optimize some redundant math out of the particle aging loop.

 libs/video/renderer/gl/gl_dyn_part.c |   38 ++++++++++++++++++++++------------
 1 file changed, 25 insertions(+), 13 deletions(-)

commit 3958b4a
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Fri Nov 2 20:47:47 2001 +0000

    Age particle trails based on position in trail, during creation.

 libs/video/renderer/gl/gl_dyn_part.c |   55 +++++++++++++++++++++++-----------
 1 file changed, 38 insertions(+), 17 deletions(-)

commit d7e5f88
Author: Adam Olsen <rhamph@gmail.com>
Date:   Fri Nov 2 14:52:29 2001 +0000

    - conver svc_spawnstaticsound, svc_updateuserinfo, svc_setinfo,
      svc_serverinfo, and svc_download
    
    I havn't tested svc_download, since I don't want to play with having
    seperate dirs for the client vs server on one computer.

 qw/include/net_svc.h   |    8 +++++
 qw/source/net_svc.c    |   61 ++++++++++++++++++++++++++++++++++++--
 qw/source/sv_ccmds.c   |    8 +++--
 qw/source/sv_main.c    |    8 +++--
 qw/source/sv_pr_cmds.c |   32 ++++++++------------
 qw/source/sv_user.c    |   76 ++++++++++++++++++++++++++++++------------------
 6 files changed, 137 insertions(+), 56 deletions(-)

commit 9f08856
Author: Adam Olsen <rhamph@gmail.com>
Date:   Fri Nov 2 10:40:20 2001 +0000

    - convert svc_sound, svc_spawnbaseline, svc_spawnstatic, and
      svc_tempentity
    
    there isn't actually anything in the server that uses svc_tempentity,
    only the progs do, so it's currently unused.

 qw/include/net_svc.h   |   10 ++++-
 qw/include/server.h    |    4 +-
 qw/source/net_svc.c    |  112 +++++++++++++++++++++++++++++++++++++++++++++++-
 qw/source/sv_init.c    |   24 +++++------
 qw/source/sv_phys.c    |    6 +--
 qw/source/sv_pr_cmds.c |   29 ++++++-------
 qw/source/sv_send.c    |   49 +++++++++++----------
 7 files changed, 173 insertions(+), 61 deletions(-)

commit a77619f
Author: Adam Olsen <rhamph@gmail.com>
Date:   Fri Nov 2 08:10:41 2001 +0000

    - convert svc_damage and svc_serverdata emitting

 qw/include/net_svc.h |    5 ++++-
 qw/source/net_svc.c  |   36 ++++++++++++++++++++++++++++++++++++
 qw/source/sv_send.c  |   12 +++++++-----
 qw/source/sv_user.c  |   39 +++++++++++++--------------------------
 4 files changed, 60 insertions(+), 32 deletions(-)

commit 56f1d6f
Author: Adam Olsen <rhamph@gmail.com>
Date:   Fri Nov 2 07:32:19 2001 +0000

    Begin phase 2 :)
    
    - link net_svc.c to the server
    - add a NET_SVC_Print_Emit function
    - make the server use the above instead of svc_print manually
    
    It's actually kind of ugly, because of how backbuffers are
    implimented.  Hopefully I'll be able to clean that up later.

 qw/include/net_svc.h  |    1 +
 qw/source/Makefile.am |    4 ++--
 qw/source/net_svc.c   |    9 +++++++++
 qw/source/sv_main.c   |    8 ++++++--
 qw/source/sv_send.c   |   21 +++++++++++++++++----
 5 files changed, 35 insertions(+), 8 deletions(-)

commit 7b4e5e6
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Nov 2 06:43:41 2001 +0000

    now actually works (especially for double scan modes and the like)

 libs/video/targets/fbset_modes_l.l |   10 ++++------
 libs/video/targets/fbset_modes_y.y |   13 ++++++++-----
 2 files changed, 12 insertions(+), 11 deletions(-)

commit f9ab093
Author: Adam Olsen <rhamph@gmail.com>
Date:   Fri Nov 2 06:39:51 2001 +0000

    - make nails, soundlist, and modellist return NET_ERROR when there's
      too many items in the block

 qw/source/net_svc.c |   13 +++++++------
 1 file changed, 7 insertions(+), 6 deletions(-)

commit c19c237
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Fri Nov 2 06:35:32 2001 +0000

    Whitespace.

 libs/video/targets/vid_sdl.c   |    8 ++++----
 libs/video/targets/vid_sdl32.c |    5 ++---
 libs/video/targets/vid_sgl.c   |    9 ++++-----
 3 files changed, 10 insertions(+), 12 deletions(-)

commit a98c5bb
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Nov 2 06:11:32 2001 +0000

    fix vid_fullscreen toggling (sgl) and archiving (all)

 libs/video/targets/vid_sdl.c   |    2 +-
 libs/video/targets/vid_sdl32.c |    2 +-
 libs/video/targets/vid_sgl.c   |   19 +++++++++++++++----
 3 files changed, 17 insertions(+), 6 deletions(-)

commit 1c30d89
Author: Adam Olsen <rhamph@gmail.com>
Date:   Fri Nov 2 06:00:21 2001 +0000

    - add a net_status_t enum, containing NET_OK, NET_SHORT, and
      NET_ERROR.
    - change all the NET_SVC_*_Parse return values from qboolean to
      net_status_t
    - make NET_SVC_{,Delta}PacketEntities_Parse return NET_ERROR instead
      of 1 (NET_SHORT now) if the struct size is exceeded

 qw/include/net_svc.h |   43 +++++++++++++++++++++++++------------------
 qw/source/net_svc.c  |   44 ++++++++++++++++++++++----------------------
 2 files changed, 47 insertions(+), 40 deletions(-)

commit 166ce6d
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Nov 2 03:04:01 2001 +0000

    redundant code removal

 libs/gamecode/engine/pr_exec.c |   49 +++-------------------------------------
 1 file changed, 3 insertions(+), 46 deletions(-)

commit c60dc54
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Nov 2 03:03:01 2001 +0000

    Makefile:
    	update qfcc options
    main.qc:
    	go back to the original intent :)

 tools/qwaq/Makefile |    2 +-
 tools/qwaq/main.qc  |  115 +--------------------------------------------------
 2 files changed, 2 insertions(+), 115 deletions(-)

commit a45b78b
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Nov 1 22:52:22 2001 +0000

    make all 8 X buffers available. no args uses the default buffer, giving 0-7
    as an agument to in_paste_buffer specifies which buffer to use.

 libs/video/targets/in_x11.c |   16 +++++++++++++++-
 1 file changed, 15 insertions(+), 1 deletion(-)

commit 5f5060c
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Oct 31 18:40:02 2001 +0000

    move the users and used setting code from emit_statement to
    PR_AddStatementRef. This removes essentially duplicate code and 3 ifs :)

 tools/qfcc/source/emit.c      |   13 +------------
 tools/qfcc/source/pr_opcode.c |    3 +++
 2 files changed, 4 insertions(+), 12 deletions(-)

commit b499d7e
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Oct 31 17:55:35 2001 +0000

    I've decided that shuffling the `sections' like that doesn't really gain
    anything, so I'm reverting that change.

 tools/qfcc/source/qfcc.c |   32 ++++++++++++++++----------------
 1 file changed, 16 insertions(+), 16 deletions(-)

commit cc4ae3d
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Wed Oct 31 11:25:36 2001 +0000

    debian/: Add xlibs to build-depends, set up alternatives for -common's
    sound plugins

 debian/control                    |    2 +-
 debian/quakeforge-common.postinst |    3 +++
 2 files changed, 4 insertions(+), 1 deletion(-)

commit 9579b07
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Wed Oct 31 11:12:00 2001 +0000

    Take the texinfo makefile out of configure.

 configure.ac |    1 -
 1 file changed, 1 deletion(-)

commit b7a0cc7
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Wed Oct 31 08:01:30 2001 +0000

    Don't generate the crappy manpage any more -- when new ones get written,
    they'll get written.

 doc/Makefile.am     |    2 +-
 doc/man/Makefile.am |    4 +---
 2 files changed, 2 insertions(+), 4 deletions(-)

commit ed07dfb
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Wed Oct 31 07:59:54 2001 +0000

    Delete texinfo manual -- never been updated, and it's not ever likely to
    be, all things considered.

 doc/texinfo/.gitignore         |    4 -
 doc/texinfo/Makefile.am        |    4 -
 doc/texinfo/gpl.texinfo        |  398 ----------------------------------------
 doc/texinfo/quakeforge.texinfo |  195 --------------------
 4 files changed, 601 deletions(-)

commit c79294f
Author: Adam Olsen <rhamph@gmail.com>
Date:   Wed Oct 31 03:05:59 2001 +0000

    - consider ':' and '"' to be special characters in names, just in case
    - make sure to update the infostrings if they tried changing a name
      and it was the same after sanitizing

 qw/source/sv_main.c |   15 ++++++++++++---
 1 file changed, 12 insertions(+), 3 deletions(-)

commit 388c3a7
Author: Adam Olsen <rhamph@gmail.com>
Date:   Wed Oct 31 02:18:09 2001 +0000

    - fix handling of highbit whitespace in names, as well as stripping
      all highbits from names

 qw/source/sv_main.c |    5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 2bbb759
Author: Adam Olsen <rhamph@gmail.com>
Date:   Wed Oct 31 00:30:31 2001 +0000

    - change the sv_kickfake default to 0, so it replaces \r with #
      instead of kicking

 qw/source/sv_user.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit fa976d4
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Oct 30 23:33:47 2001 +0000

    cvarlist cfg will now give output suitable for a config file

 libs/util/cvar.c |   18 +++++++++++++-----
 1 file changed, 13 insertions(+), 5 deletions(-)

commit 9b8995b
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Oct 30 22:46:15 2001 +0000

    fix win32's missing clipboard support (bringing it back). some trickery will
    be required to get ctrl-V working, but... *shrug*

 libs/video/targets/in_win.c |   26 ++++++++++++++++++++++++++
 1 file changed, 26 insertions(+)

commit c174188
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Tue Oct 30 20:00:05 2001 +0000

    Remove local len, use mathlib's Length, among other cleanups.

 qw/source/cl_cam.c |   27 +++++++++------------------
 1 file changed, 9 insertions(+), 18 deletions(-)

commit d1c115d
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Tue Oct 30 19:58:01 2001 +0000

    Whitespace.

 libs/video/renderer/gl/gl_mod_alias.c |   17 ++++++++---------
 libs/video/renderer/gl/gl_rmain.c     |    9 +++++----
 nq/source/sys_unix.c                  |    1 +
 3 files changed, 14 insertions(+), 13 deletions(-)

commit 7ea1051
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Tue Oct 30 19:55:34 2001 +0000

    Code cleanups.

 include/QF/mathlib.h |    6 +++---
 libs/util/mathlib.c  |   27 ++++++++++++---------------
 2 files changed, 15 insertions(+), 18 deletions(-)

commit 3ad79cc
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Tue Oct 30 19:42:29 2001 +0000

    Change particle limit from a short to an unsigned int. Possibly a tiny speedup, also allows for absurd particle counts...

 include/r_dynamic.h          |    4 ++--
 libs/video/renderer/r_part.c |    3 +--
 2 files changed, 3 insertions(+), 4 deletions(-)

commit 3b2d2a1
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Oct 30 19:41:27 2001 +0000

    re-arrange the order of the `sections' of a .dat file to match the header
    order. this also `happens' to put the strings section just before the globals
    section (both at the end) which will make pointer bounds checking easier.

 tools/qfcc/source/qfcc.c |   34 ++++++++++++++++------------------
 1 file changed, 16 insertions(+), 18 deletions(-)

commit 8a333c8
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Tue Oct 30 19:39:47 2001 +0000

    cut & paste/typo correction.

 doc/ideas/nehahra |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 4685fcc
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Oct 30 18:20:56 2001 +0000

    new command for -x11 and -glx: in_paste_buffer (eg in_bind imt_console
    m_button3 in_paste_buffer). Makes X's clipboard available to quake (for
    pasting:)

 libs/video/targets/in_x11.c |   25 ++++++++++++++++++++-----
 1 file changed, 20 insertions(+), 5 deletions(-)

commit 8ae3ef9
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Oct 30 16:41:21 2001 +0000

    fix some warning in solaris

 libs/gib/gib_instructions.c |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit c0f363e
Author: Adam Olsen <rhamph@gmail.com>
Date:   Tue Oct 30 09:15:09 2001 +0000

    it seems that map changes generate from mismatches, so change that
    back to a silent warning (but also make it drop the packet)

 qw/source/cl_ents.c |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 61f819b
Author: Adam Olsen <rhamph@gmail.com>
Date:   Tue Oct 30 02:29:04 2001 +0000

    - further error checking rearangements, putting the "old packet" check
      first, and making it a Con_DPrintf that just invalidates that packet

 qw/source/cl_ents.c |   14 +++++++-------
 1 file changed, 7 insertions(+), 7 deletions(-)

commit 950331a
Author: Adam Olsen <rhamph@gmail.com>
Date:   Tue Oct 30 00:24:25 2001 +0000

    clean up a few error messages, rearange error checks, and change some
    "impossible" warnings into errors.

 qw/source/cl_ents.c |   26 +++++++++++++++-----------
 1 file changed, 15 insertions(+), 11 deletions(-)

commit d835b79
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Oct 29 22:29:42 2001 +0000

    this might fix the black screen in 8 bit X

 libs/video/targets/vid_x11.c |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit ddd7989
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Oct 29 21:46:00 2001 +0000

    turns out I was wrong about how U_REMOVE gets into an update packet (thanks
    Rhamph) but the change from short to int in words does a nice bit to the
    speed.

 qw/include/net_svc.h |    4 ++--
 qw/source/net_svc.c  |    6 ++----
 2 files changed, 4 insertions(+), 6 deletions(-)

commit 00514d7
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Oct 29 19:38:20 2001 +0000

    this should fix the skating statues

 libs/video/renderer/gl/gl_mod_alias.c |    2 ++
 1 file changed, 2 insertions(+)

commit 5819fc2
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Oct 29 19:15:29 2001 +0000

    shrink the packet entities word arrays down to MAX_PACKET_ENTITIES + 1 and
    ensure the array is always terminated with a 0. This seems to give -x11 a
    0.03 fps (0.06%) boost.

 qw/include/net_svc.h |    4 ++--
 qw/source/net_svc.c  |    6 ++++--
 2 files changed, 6 insertions(+), 4 deletions(-)

commit 85c9e0a
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Oct 29 17:46:03 2001 +0000

    more externs cleaned up

 configure.ac                         |    4 +++-
 include/QF/vfs.h                     |    1 +
 libs/audio/renderer/snd_dma.c        |    2 --
 libs/models/brush/sw32_model_brush.c |    2 +-
 libs/video/renderer/gl/gl_draw.c     |    1 -
 libs/video/renderer/gl/gl_rmain.c    |    1 -
 libs/video/renderer/gl/gl_rsurf.c    |    2 --
 libs/video/renderer/gl/gl_screen.c   |    2 +-
 libs/video/renderer/sw/draw.c        |    2 --
 libs/video/renderer/sw32/draw.c      |    2 --
 libs/video/targets/in_win.c          |    1 -
 nq/include/client.h                  |    2 ++
 nq/source/net_udp.c                  |    2 --
 nq/source/sys_unix.c                 |    3 +--
 qw/include/cl_input.h                |    1 +
 qw/include/cl_parse.h                |    4 ++++
 qw/include/server.h                  |   19 +++++++++++++++++++
 qw/source/cl_demo.c                  |    2 --
 qw/source/cl_ents.c                  |    5 -----
 qw/source/cl_parse.c                 |    4 ----
 qw/source/net_packetlog.c            |    2 --
 qw/source/sv_main.c                  |   13 -------------
 qw/source/sv_sys_unix.c              |    1 -
 qw/source/sv_user.c                  |    7 -------
 qw/source/teamplay.c                 |    3 +--
 tools/qwaq/main.c                    |    3 ---
 26 files changed, 34 insertions(+), 57 deletions(-)

commit 8071e83
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Oct 29 16:45:03 2001 +0000

    put a couple externs back for win32. they need a bit more thought on how to
    arrange things.

 libs/audio/cd/cd_win.c       |    1 +
 libs/video/targets/in_win.c  |   98 +++++++++++++++++++++---------------------
 libs/video/targets/joy_win.c |    8 ++--
 libs/video/targets/vid_wgl.c |    2 +-
 4 files changed, 56 insertions(+), 53 deletions(-)

commit 1d442c4
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Oct 29 06:46:46 2001 +0000

    setup the colormap /before/ calling Vid_InitGamma so VID_SetPalette gets
    called with a valid colormap to update.

 libs/video/targets/vid_x11.c |    6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit d04edfa
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Oct 29 05:42:10 2001 +0000

    whitespace

 qw/source/sv_ents.c |    5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit e3c5da4
Author: Adam Olsen <rhamph@gmail.com>
Date:   Mon Oct 29 00:52:02 2001 +0000

    - remove the now unused net_svc_delta_t struct

 qw/include/net_svc.h |    6 ------
 1 file changed, 6 deletions(-)

commit 36b8256
Author: Adam Olsen <rhamph@gmail.com>
Date:   Mon Oct 29 00:32:16 2001 +0000

    - fixed net_packetlog to use Con_Printf when there's no logfile open,
      rather than a stdout hack (which had problems with buffering)
    - actually parse net_deltapacketentities
    - print offset within net_{,delta}packetentities blocks for each
      entity
    - fix indenting in Log_Delta
    - fix off-by-one for packet offset printing
    - fix a miss-parsing of svc_deltapacketentities
      (MAX_PACKET_ENTITIES does NOT include U_REMOVE entities)
    - remove "full update" handling for CL_ParseDeltaPacketEntities, since
      that only happens with svc_packetentities

 qw/include/net_svc.h      |   12 +++--
 qw/source/cl_ents.c       |  115 +++++++++++++++++++--------------------------
 qw/source/net_packetlog.c |  102 ++++++++++++++++++++++------------------
 qw/source/net_svc.c       |   63 +++++++++++++++----------
 4 files changed, 149 insertions(+), 143 deletions(-)

commit 3ce8029
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Oct 28 05:43:53 2001 +0000

    fix a silly goof with the models

 include/QF/model.h                   |    4 ++--
 libs/models/alias/gl_model_alias.c   |   16 ++++++++--------
 libs/models/alias/model_alias.c      |    4 ++--
 libs/models/alias/sw32_model_alias.c |    6 +++---
 libs/models/alias/sw_model_alias.c   |    6 +++---
 5 files changed, 18 insertions(+), 18 deletions(-)

commit 09f19fd
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Oct 28 04:42:44 2001 +0000

    remove some redundant data

 tools/qfcc/include/expr.h |    1 -
 tools/qfcc/source/expr.c  |   17 ++---------------
 2 files changed, 2 insertions(+), 16 deletions(-)

commit ccfe82c
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Oct 28 04:38:24 2001 +0000

    *taniwha mops up the last drops of blood from extern

 include/QF/pr_comp.h              |    1 +
 libs/gamecode/engine/pr_edict.c   |    2 +-
 tools/qfdefs/source/fix_globals.c |    1 -
 3 files changed, 2 insertions(+), 2 deletions(-)

commit 3f45a83
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Oct 28 04:29:30 2001 +0000

    *taniwha inflicts more carnage on extern

 tools/qfcc/include/qfcc.h |    1 +
 tools/qfcc/source/expr.c  |    1 -
 2 files changed, 1 insertion(+), 1 deletion(-)

commit 78a3e39
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Oct 28 04:23:37 2001 +0000

    * taniwha gets medieval on extern

 include/QF/GL/qf_rmain.h               |    6 +
 include/QF/GL/qf_rsurf.h               |    2 +
 include/QF/GL/qf_sky.h                 |    2 +
 include/QF/GL/qf_textures.h            |   10 +
 include/QF/console.h                   |    1 +
 include/QF/draw.h                      |    4 +
 include/QF/input.h                     |    6 +
 include/QF/keys.h                      |  551 +++++++++++++++---------------
 include/QF/model.h                     |   17 +
 include/QF/plugin/snd_render.h         |    2 +-
 include/QF/progs.h                     |    2 +
 include/QF/screen.h                    |    3 +
 include/QF/skin.h                      |    2 +
 include/QF/sound.h                     |    6 +-
 include/QF/vid.h                       |    9 +
 include/d_iface.h                      |    3 +
 include/r_dynamic.h                    |   13 +
 include/r_shared.h                     |    3 +
 include/view.h                         |    2 +
 libs/audio/cd/cd_win.c                 |    1 -
 libs/audio/renderer/snd_dma.c          |   13 +-
 libs/audio/renderer/snd_null.c         |   11 +-
 libs/audio/snd.c                       |   11 +-
 libs/console/client.c                  |    4 -
 libs/console/complete.c                |    1 -
 libs/console/inputline.c               |   20 +-
 libs/console/server.c                  |   25 +-
 libs/gamecode/engine/pr_exec.c         |    2 -
 libs/models/alias/gl_mesh.c            |    1 -
 libs/models/alias/gl_model_alias.c     |   13 +-
 libs/models/alias/model_alias.c        |   16 +-
 libs/models/alias/sw32_model_alias.c   |   13 +-
 libs/models/alias/sw_model_alias.c     |   13 +-
 libs/models/brush/gl_model_brush.c     |    3 -
 libs/models/brush/model_brush.c        |    5 +-
 libs/models/brush/sw32_model_brush.c   |    3 -
 libs/models/brush/sw_model_brush.c     |    3 -
 libs/models/model.c                    |    1 -
 libs/models/sprite/gl_model_sprite.c   |    2 -
 libs/models/sprite/model_sprite.c      |    2 -
 libs/models/sprite/sw32_model_sprite.c |    2 -
 libs/models/sprite/sw_model_sprite.c   |    2 -
 libs/util/fnmatch.c                    |    1 -
 libs/video/renderer/gl/gl_draw.c       |   11 +-
 libs/video/renderer/gl/gl_dyn_fires.c  |    2 +-
 libs/video/renderer/gl/gl_dyn_part.c   |    4 +-
 libs/video/renderer/gl/gl_graph.c      |    4 -
 libs/video/renderer/gl/gl_mod_alias.c  |    5 -
 libs/video/renderer/gl/gl_rmisc.c      |    5 +-
 libs/video/renderer/gl/gl_screen.c     |    6 -
 libs/video/renderer/gl/gl_sky.c        |    2 -
 libs/video/renderer/gl/gl_sky_clip.c   |    2 -
 libs/video/renderer/gl/gl_textures.c   |    4 -
 libs/video/renderer/gl/gl_warp.c       |    2 -
 libs/video/renderer/r_cvar.c           |    5 +-
 libs/video/renderer/r_graph.c          |    1 -
 libs/video/renderer/r_part.c           |    4 -
 libs/video/renderer/sw/d_edge.c        |    1 -
 libs/video/renderer/sw/d_init.c        |    1 -
 libs/video/renderer/sw/screen.c        |    5 -
 libs/video/renderer/sw/sw_ralias.c     |    2 -
 libs/video/renderer/sw/sw_redge.c      |    1 -
 libs/video/renderer/sw/sw_rpart.c      |    2 -
 libs/video/renderer/sw32/d_edge.c      |    1 -
 libs/video/renderer/sw32/d_init.c      |    1 -
 libs/video/renderer/sw32/d_scan.c      |    1 -
 libs/video/renderer/sw32/d_sprite.c    |    1 -
 libs/video/renderer/sw32/screen.c      |    5 -
 libs/video/renderer/sw32/sw32_ralias.c |    2 -
 libs/video/renderer/sw32/sw32_redge.c  |    1 -
 libs/video/renderer/sw32/sw32_rmain.c  |    1 -
 libs/video/renderer/sw32/sw32_rpart.c  |    2 -
 libs/video/targets/context_x11.c       |    1 -
 libs/video/targets/fbset.c             |    7 +-
 libs/video/targets/in_fbdev.c          |   10 +-
 libs/video/targets/in_sdl.c            |  477 +++++++++++++-------------
 libs/video/targets/in_svgalib.c        |  138 ++++----
 libs/video/targets/in_win.c            |    7 -
 libs/video/targets/in_x11.c            |  134 ++++----
 libs/video/targets/joy.c               |    2 -
 libs/video/targets/joy_linux.c         |    4 +-
 libs/video/targets/keys.c              |  585 ++++++++++++++++----------------
 libs/video/targets/vid.c               |    1 -
 libs/video/targets/vid_3dfxsvga.c      |    4 -
 libs/video/targets/vid_common_gl.c     |    2 -
 libs/video/targets/vid_common_sw32.c   |    2 -
 libs/video/targets/vid_ext.c           |    1 -
 libs/video/targets/vid_fbdev.c         |    8 +-
 libs/video/targets/vid_glx.c           |    7 -
 libs/video/targets/vid_mgl.c           |   11 -
 libs/video/targets/vid_sdl.c           |    2 -
 libs/video/targets/vid_sdl32.c         |    2 -
 libs/video/targets/vid_sgl.c           |    4 -
 libs/video/targets/vid_svgalib.c       |    1 -
 libs/video/targets/vid_vga.c           |    1 -
 libs/video/targets/vid_wgl.c           |   13 -
 libs/video/targets/vid_win.c           |    1 -
 libs/video/targets/vid_x11.c           |    3 -
 nq/include/client.h                    |   17 +-
 nq/include/host.h                      |    4 +
 nq/include/net.h                       |    3 +
 nq/include/server.h                    |    1 +
 nq/source/cl_cam.c                     |    5 -
 nq/source/cl_input.c                   |    3 +-
 nq/source/cl_parse.c                   |    6 +-
 nq/source/cl_screen.c                  |    1 -
 nq/source/cl_view.c                    |    6 -
 nq/source/console.c                    |    3 -
 nq/source/host.c                       |   11 +-
 nq/source/host_skin.c                  |    1 -
 nq/source/mplpc.c                      |    1 -
 nq/source/net_bw.c                     |    1 -
 nq/source/net_main.c                   |    1 -
 nq/source/net_udp.c                    |    1 -
 nq/source/net_vcr.c                    |    4 +-
 nq/source/net_wipx.c                   |    2 -
 nq/source/skin.c                       |    1 -
 nq/source/sv_ded.c                     |    3 +-
 nq/source/sv_main.c                    |    1 -
 nq/source/sv_user.c                    |    5 +-
 qw/include/cl_cam.h                    |    1 +
 qw/include/cl_input.h                  |    7 +
 qw/include/cl_main.h                   |    9 +
 qw/include/cl_parse.h                  |    7 +
 qw/include/client.h                    |    4 +
 qw/include/net.h                       |    2 +
 qw/include/pmove.h                     |    3 +
 qw/include/server.h                    |   19 ++
 qw/source/cl_cam.c                     |    6 +-
 qw/source/cl_demo.c                    |    1 -
 qw/source/cl_ents.c                    |    5 -
 qw/source/cl_input.c                   |    2 -
 qw/source/cl_main.c                    |    6 +-
 qw/source/cl_parse.c                   |   11 +-
 qw/source/cl_pred.c                    |    1 -
 qw/source/cl_screen.c                  |    1 -
 qw/source/cl_skin.c                    |    1 -
 qw/source/cl_view.c                    |    8 +-
 qw/source/console.c                    |    3 -
 qw/source/game.c                       |    1 -
 qw/source/net_chan.c                   |    1 -
 qw/source/net_packetlog.c              |    1 -
 qw/source/net_udp.c                    |    2 -
 qw/source/pmovetst.c                   |    2 -
 qw/source/skin.c                       |    2 +-
 qw/source/sv_ccmds.c                   |    1 -
 qw/source/sv_ents.c                    |    1 -
 qw/source/sv_main.c                    |    3 -
 qw/source/sv_send.c                    |    3 -
 qw/source/sv_user.c                    |    6 -
 qw/source/teamplay.c                   |    1 -
 151 files changed, 1194 insertions(+), 1332 deletions(-)

commit f3fe1ce
Author: Adam Olsen <rhamph@gmail.com>
Date:   Sun Oct 28 00:51:14 2001 +0000

    - add a request to send any errors to quake-devel in Host_NetError
    - cleanup CL_ParseDeltaPacketEntites a little bit
    - change some warnings in CL_{,Delta}PacketEntites to errors, as well
      as full updates with delta*, so that they can either be debugged or
      shown not to be needed

 qw/source/cl_ents.c |   62 ++++++++++++++++++++++-----------------------------
 qw/source/cl_main.c |    2 ++
 2 files changed, 29 insertions(+), 35 deletions(-)

commit 5afce45
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sun Oct 28 00:47:21 2001 +0000

    Undo taniwha's debugging insanity.
    
    If you want to test for injecting more particles than can fit in the list, particle_new is the right place for the test. It's even there already, just commented out.

 libs/video/renderer/gl/gl_dyn_part.c |   75 +++-------------------------------
 1 file changed, 5 insertions(+), 70 deletions(-)

commit d62c381
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Oct 27 22:33:42 2001 +0000

    Con_Printf -> SV_Printf for some cases that should be

 qw/source/sv_ccmds.c   |    2 +-
 qw/source/sv_main.c    |   10 +++++-----
 qw/source/sv_pr_cmds.c |    4 ++--
 3 files changed, 8 insertions(+), 8 deletions(-)

commit 10d83e0
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Oct 27 22:27:32 2001 +0000

    externs in .c files are evil, evil evil (ok, so I haven't cleaned these ones
    out yet:P). This fixes the recent GL crash.

 libs/video/renderer/gl/gl_dyn_part.c |   17 ++++++++++++++++-
 1 file changed, 16 insertions(+), 1 deletion(-)

commit 3601b5b
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Oct 27 21:39:58 2001 +0000

    fix the minor breakage were /no/ particles were being generated

 libs/video/renderer/r_cvar.c |   18 +++++++++---------
 libs/video/renderer/r_part.c |    4 ++--
 2 files changed, 11 insertions(+), 11 deletions(-)

commit 74d3499
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Oct 27 20:52:33 2001 +0000

    fix a seg caused by my changes from last night

 libs/video/renderer/sw/sw_rpart.c     |    3 ++-
 libs/video/renderer/sw32/sw32_rpart.c |    3 ++-
 2 files changed, 4 insertions(+), 2 deletions(-)

commit 014785a
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Oct 27 08:32:52 2001 +0000

    lots of error checking for our phantom particle bug, but I was unable to
    trigger it after 2h of play using the previous changes

 libs/video/renderer/gl/gl_dyn_part.c |   67 ++++++++++++++++++++++++++++++----
 1 file changed, 59 insertions(+), 8 deletions(-)

commit d9fd8dc
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Oct 27 08:31:45 2001 +0000

    make r_particles truely a flag and call R_MaxParticlesCheck when r_particles
    changes

 libs/video/renderer/r_cvar.c |    5 ++++-
 libs/video/renderer/r_part.c |   25 ++++++++++++++++---------
 2 files changed, 20 insertions(+), 10 deletions(-)

commit aa6472d
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Oct 27 08:28:15 2001 +0000

    cleanup qport usage a little

 qw/include/net.h    |    1 +
 qw/source/cl_main.c |    2 +-
 2 files changed, 2 insertions(+), 1 deletion(-)

commit 05f35f9
Author: Brian Koropoff <brianhk@cs.washington.edu>
Date:   Sat Oct 27 04:34:53 2001 +0000

    This adds the ability to access special characters in console commands by proceeding certain characters with $.  See libs/util/cmd.c for the conversion table.  Preceeding a character by # will shift it up or down by 128, which basically is useful for accessing the brown letters and numbers.  All special characters were removed from Team_ParseSay, and variable substitution now takes the form of ${var} to prevent conflicts with special character substitution.  Special character access is controlled by cmd_highchars, which defaults to off.

 include/QF/cmd.h     |    2 +
 libs/util/cmd.c      |  116 ++++++++++++++++++++++++++++++++++++++++++++------
 qw/source/teamplay.c |   35 +--------------
 3 files changed, 106 insertions(+), 47 deletions(-)

commit 79544d6
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Sat Oct 27 02:20:39 2001 +0000

    qfcc: More manpage updates.

 tools/qfcc/doc/man/qfcc.1 |   17 +++++++----------
 1 file changed, 7 insertions(+), 10 deletions(-)

commit 33a1800
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Oct 27 00:23:51 2001 +0000

    hopefully fix --enable-optimize

 configure.ac |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 901a8ec
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Fri Oct 26 23:55:42 2001 +0000

    qfcc: update man page. It's pretty useful, so I'll probably be setting
    it up as part of the install for qfcc.

 tools/qfcc/doc/man/qfcc.1 |   88 ++++++++++++++++++++++++++++-----------------
 1 file changed, 55 insertions(+), 33 deletions(-)

commit 274ff6e
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Fri Oct 26 23:54:20 2001 +0000

    Add getopt.h to the dist, just in case.

 tools/qfcc/include/Makefile.am |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit b07d60f
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Fri Oct 26 23:53:36 2001 +0000

    add getopt.c and getopt1.c to the makefile. There is preprocessor
    stuff in these files to detect when they need to be compiled, so they
    don't need anything in configure.

 tools/qfcc/source/Makefile.am |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 5502558
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Fri Oct 26 22:07:35 2001 +0000

    qfcc: Argument passing for cpp, shuffling the verbosity levels around a
    bit.

 tools/qfcc/source/qfcc.c |  165 +++++++++++++++++++++++++++++++++-------------
 1 file changed, 119 insertions(+), 46 deletions(-)

commit 5eba9f1
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Oct 26 17:49:23 2001 +0000

    clean up some duplicate symbols

 tools/qfcc/include/qfcc.h   |    2 +-
 tools/qfcc/source/pr_comp.c |    9 ---------
 tools/qfcc/source/qfcc.c    |    3 +++
 3 files changed, 4 insertions(+), 10 deletions(-)

commit d8e6bf9
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Oct 26 16:04:38 2001 +0000

    fix the verbosity levels to what they were
    --no-cpp is now cpp or no-cpp in code
    add cpp to code_options_t

 tools/qfcc/include/qfcc.h  |    1 +
 tools/qfcc/source/cmdlib.c |   25 -------------------------
 tools/qfcc/source/qfcc.c   |   37 +++++++++++++++++++------------------
 3 files changed, 20 insertions(+), 43 deletions(-)

commit b8eb324
Author: Adam Olsen <rhamph@gmail.com>
Date:   Fri Oct 26 16:01:59 2001 +0000

    - make CL_ParseServerMessage's loop break if we disconnected while it
      was running

 qw/source/cl_parse.c |    3 +++
 1 file changed, 3 insertions(+)

commit 7910fe0
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Oct 26 15:04:51 2001 +0000

    nuke FlushEntityPacket and CL_ParseDelta as they are both redundant and
    FlushEntityPacket now causes a crash.

 qw/source/cl_ents.c |  136 +--------------------------------------------------
 1 file changed, 2 insertions(+), 134 deletions(-)

commit c5d0d45
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Fri Oct 26 08:55:24 2001 +0000

    qfcc: Remove some debug info from taniwha's last commit -- I thought
    *I*'d done that! :)

 tools/qfcc/source/expr.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 46c4174
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Fri Oct 26 08:17:04 2001 +0000

    qfcc: forgot a newline in -V output

 tools/qfcc/source/qfcc.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 89c7e0d
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Fri Oct 26 08:14:05 2001 +0000

    qfcc: getopt support. Yes, it exists, and it works, and it's fun! :)

 tools/qfcc/include/getopt.h |  169 +++++++
 tools/qfcc/source/getopt.c  | 1055 +++++++++++++++++++++++++++++++++++++++++++
 tools/qfcc/source/getopt1.c |  188 ++++++++
 tools/qfcc/source/qfcc.c    |  263 ++++++-----
 4 files changed, 1559 insertions(+), 116 deletions(-)

commit 5cbd50d
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Oct 26 06:53:02 2001 +0000

    count the number of digits needed rather than relying on -lm (now it's not
    needed:)

 tools/qfcc/source/expr.c |   20 +++++++++++++++++++-
 1 file changed, 19 insertions(+), 1 deletion(-)

commit 581411e
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Fri Oct 26 06:43:56 2001 +0000

    qfcc: Preparation for getopt.

 tools/qfcc/include/qfcc.h     |   25 ++++++---
 tools/qfcc/source/emit.c      |    8 ++-
 tools/qfcc/source/expr.c      |   14 ++---
 tools/qfcc/source/pr_opcode.c |    4 +-
 tools/qfcc/source/qc-lex.l    |    2 +-
 tools/qfcc/source/qc-parse.y  |    2 +-
 tools/qfcc/source/qfcc.c      |  121 +++++++++++++++++++++++++++++++----------
 7 files changed, 125 insertions(+), 51 deletions(-)

commit 1fab17a
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Oct 26 05:31:39 2001 +0000

    d'oh. must read the clode closer :P

 libs/video/targets/in_svgalib.c |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 6bbb9a7
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Oct 26 03:12:31 2001 +0000

    remove an unneeded check

 libs/util/hash.c |    2 --
 1 file changed, 2 deletions(-)

commit 04e4da6
Author: Timothy C. McGrath <tmhikaru@gmail.com>
Date:   Fri Oct 26 02:32:40 2001 +0000

    Changes taniwha did to make qfcc work with statically compiled libs.
    This is what was bugging me all night long with qfcc ><;;
    
    Tim McGrath (Misty-chan)

 tools/qfcc/include/cmdlib.h |    2 +-
 tools/qfcc/source/cmdlib.c  |    4 ++--
 tools/qfcc/source/qfcc.c    |    4 ++--
 3 files changed, 5 insertions(+), 5 deletions(-)

commit 0a6ae4f
Author: Adam Olsen <rhamph@gmail.com>
Date:   Fri Oct 26 00:20:00 2001 +0000

    - some strlen checking for strcpy.  I don't feel like doing the rest
      of the codebase :)

 libs/audio/renderer/snd_dma.c |   14 ++++++++++++--
 1 file changed, 12 insertions(+), 2 deletions(-)

commit b5856e8
Author: Adam Olsen <rhamph@gmail.com>
Date:   Thu Oct 25 23:26:33 2001 +0000

    - audit of the net_svc.c users' sanity checking

 qw/source/cl_ents.c  |   64 +++++++++++++++------
 qw/source/cl_parse.c |  152 ++++++++++++++++++++++++++++++++++++--------------
 qw/source/cl_tent.c  |   14 ++++-
 qw/source/cl_view.c  |    5 +-
 qw/source/net_svc.c  |    6 +-
 5 files changed, 178 insertions(+), 63 deletions(-)

commit 70bedc1
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Oct 25 21:15:48 2001 +0000

    allow returning NIL

 tools/qfcc/source/expr.c |    4 ++++
 1 file changed, 4 insertions(+)

commit bc44f95
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Oct 25 20:51:56 2001 +0000

    enable passing NIL into a function

 tools/qfcc/source/expr.c |    4 ++++
 1 file changed, 4 insertions(+)

commit f8a41cb
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Oct 25 17:48:35 2001 +0000

    completely nuke the concept of "priority" from opcodes and use get_op_string
    in emit_sub_expr instead of a redundant switch.

 include/QF/pr_comp.h             |    1 -
 libs/gamecode/engine/pr_opcode.c |  240 +++++++++++++++++++-------------------
 tools/qfcc/include/expr.h        |    2 +
 tools/qfcc/include/qfcc.h        |    2 +-
 tools/qfcc/source/emit.c         |  101 ++--------------
 tools/qfcc/source/expr.c         |    1 +
 tools/qfcc/source/pr_opcode.c    |   56 ++++-----
 7 files changed, 154 insertions(+), 249 deletions(-)

commit f029687
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Oct 25 06:41:52 2001 +0000

    switch statement. could do with lots of improvements, but this should be a
    good start.

 tools/qfcc/TODO               |    2 +-
 tools/qfcc/include/switch.h   |   16 +++++
 tools/qfcc/source/Makefile.am |    2 +-
 tools/qfcc/source/expr.c      |    4 +-
 tools/qfcc/source/qc-lex.l    |    3 +
 tools/qfcc/source/qc-parse.y  |   42 +++++++++++++-
 tools/qfcc/source/switch.c    |  129 +++++++++++++++++++++++++++++++++++++++++
 7 files changed, 191 insertions(+), 7 deletions(-)

commit 0940546
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Oct 24 22:53:27 2001 +0000

    throw PR_BeginCompilation's arguments out the nearest airlock

 tools/qfcc/include/qfcc.h |    2 --
 tools/qfcc/source/qfcc.c  |   11 ++---------
 2 files changed, 2 insertions(+), 11 deletions(-)

commit f36e7bb
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Oct 24 22:52:50 2001 +0000

    reorg

 tools/qfcc/TODO |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 3bba539
Author: Adam Olsen <rhamph@gmail.com>
Date:   Wed Oct 24 22:50:06 2001 +0000

    - audit malloc usage.  now everything checks the return value :)

 libs/audio/targets/snd_disk.c        |    4 ++++
 libs/models/gl_model_fullbright.c    |    2 ++
 libs/util/cmd.c                      |   20 ++++++++++----------
 libs/util/cvar.c                     |    2 ++
 libs/util/quakefs.c                  |    2 ++
 libs/util/quakeio.c                  |    5 ++++-
 libs/util/tga.c                      |    2 ++
 libs/video/renderer/gl/gl_screen.c   |    2 ++
 libs/video/renderer/gl/gl_textures.c |    2 ++
 libs/video/targets/fbset.c           |    4 ++++
 libs/video/targets/vid_common_sw32.c |    2 ++
 libs/video/targets/vid_svgalib.c     |    2 ++
 libs/video/targets/vid_x11.c         |    6 +++++-
 nq/source/host.c                     |    4 ++++
 nq/source/locs.c                     |    2 ++
 nq/source/sys_wind.c                 |    3 ++-
 qw/source/cl_parse.c                 |    3 +++
 qw/source/cl_slist.c                 |    8 ++++++++
 qw/source/cl_sys_win.c               |    3 +++
 qw/source/locs.c                     |    2 ++
 qw/source/sv_ccmds.c                 |    2 --
 tools/Forge/Headers/cmdlib.h         |    2 --
 tools/Forge/cmdlib.c                 |   12 ++----------
 tools/qfcc/source/cmdlib.c           |    4 ++++
 tools/qfcc/source/expr.c             |    7 +++++++
 tools/qfcc/source/pr_def.c           |    3 +++
 tools/qfcc/source/pr_lex.c           |    5 +++++
 tools/qfcc/source/qc-lex.l           |    5 +++++
 tools/qfcc/source/qc-parse.y         |    7 ++++++-
 tools/qfcc/source/qfcc.c             |    6 +++++-
 tools/qfdefs/source/fix_globals.c    |    3 +++
 tools/qwaq/main.c                    |    2 ++
 32 files changed, 109 insertions(+), 29 deletions(-)

commit 133ce64
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Oct 24 18:57:29 2001 +0000

    implement break and continue. only loops covered for now, but that's because
    switch isn't implemented yet

 tools/qfcc/TODO              |    2 +-
 tools/qfcc/source/qc-lex.l   |    2 +
 tools/qfcc/source/qc-parse.y |   91 ++++++++++++++++++++++++++++++------------
 3 files changed, 69 insertions(+), 26 deletions(-)

commit 552a486
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Oct 24 17:54:56 2001 +0000

    fix the libQFrenderer_sw.lai installation error. libtool requires -rpath
    for /any/ installed lib, static or not.

 configure.ac                    |    4 +++-
 libs/video/renderer/Makefile.am |    6 ++++--
 2 files changed, 7 insertions(+), 3 deletions(-)

commit dd19f7b
Author: Adam Olsen <rhamph@gmail.com>
Date:   Wed Oct 24 15:23:02 2001 +0000

    - convert svc_deltapacketentities
    - add a Host_NetError that dumps a packet log and disconnects, and use
      it instead of Host_EndGame in most cases
    - fix a couple multiply-defined vars

 libs/video/renderer/sw32/sw32_rmain.c |    2 -
 nq/source/sv_model.c                  |    1 -
 qw/include/cl_ents.h                  |    2 +-
 qw/include/host.h                     |    1 +
 qw/include/net.h                      |   10 +-
 qw/include/net_svc.h                  |   20 +++-
 qw/source/cl_demo.c                   |    2 +-
 qw/source/cl_ents.c                   |   69 +++++++------
 qw/source/cl_main.c                   |   25 +++++
 qw/source/cl_parse.c                  |   50 +++++-----
 qw/source/cl_skin.c                   |    2 +-
 qw/source/net_packetlog.c             |   22 ++---
 qw/source/net_svc.c                   |  172 +++++++++++++++++++--------------
 qw/source/sv_model.c                  |    1 -
 qw/source/sv_send.c                   |    1 -
 15 files changed, 227 insertions(+), 153 deletions(-)

commit 743bc51
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Oct 24 15:21:21 2001 +0000

    fix uninitialized variable detection for nested scopes

 tools/qfcc/source/qc-parse.y |   16 ++++++++++++----
 1 file changed, 12 insertions(+), 4 deletions(-)

commit 9c92634
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Oct 24 15:02:18 2001 +0000

    remove an extern

 libs/util/cvar.c |    1 -
 1 file changed, 1 deletion(-)

commit 890efff
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Wed Oct 24 12:41:38 2001 +0000

    Forge: Remove some files that we can't use with OpenStep. If anyone needs them for porting to
    NSGraphicsContext, let me know and I'll provide them.

 tools/Forge/Headers/UserPath.h |   74 --------------
 tools/Forge/UserPath.m         |  209 ----------------------------------------
 2 files changed, 283 deletions(-)

commit 6553c81
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Oct 24 06:39:49 2001 +0000

    proper scoping for QC ala C.

 tools/qfcc/TODO              |    3 ++-
 tools/qfcc/include/qfcc.h    |    4 +++-
 tools/qfcc/source/pr_def.c   |    9 ++++++---
 tools/qfcc/source/qc-parse.y |   33 ++++++++++++++++++++++++++++-----
 tools/qfcc/source/qfcc.c     |    4 ++--
 5 files changed, 41 insertions(+), 12 deletions(-)

commit 4ae92c8
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Oct 24 02:50:11 2001 +0000

    new cvar: sv_hide_version_info. This hides QuakeForge specific info strings
    from progs.

 qw/include/server.h    |    1 +
 qw/source/sv_pr_cmds.c |   28 +++++++++++++++++++++++++++-
 qw/source/sv_progs.c   |    6 ++++++
 3 files changed, 34 insertions(+), 1 deletion(-)

commit 8e9505c
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Oct 23 18:48:49 2001 +0000

    /finally/ get asm in the sw renderer when not using --disable-shared. libtool
    was using the wrong objects.

 libs/video/renderer/sw/Makefile.am |    2 ++
 libs/video/renderer/sw/nonintel.c  |    2 +-
 2 files changed, 3 insertions(+), 1 deletion(-)

commit fedea4a
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Oct 23 17:35:46 2001 +0000

    check for malloc failure

 libs/util/msg.c |    2 ++
 1 file changed, 2 insertions(+)

commit bf309fb
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Oct 23 17:20:56 2001 +0000

    split the sprite and alias model rendering code out from gl_rmain.c into
    their own files.

 libs/video/renderer/gl/Makefile.am     |    6 +-
 libs/video/renderer/gl/gl_mod_alias.c  |  556 ++++++++++++++++++++++++++++++
 libs/video/renderer/gl/gl_mod_sprite.c |  157 +++++++++
 libs/video/renderer/gl/gl_rmain.c      |  583 +-------------------------------
 4 files changed, 718 insertions(+), 584 deletions(-)

commit 6a5e3ed
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Oct 23 17:11:48 2001 +0000

    and extern fixes for the windows side

 include/winquake.h           |   31 +++++++++++++------------------
 libs/video/targets/joy_win.c |    2 --
 libs/video/targets/vid_mgl.c |    3 ++-
 libs/video/targets/vid_wgl.c |    5 ++---
 4 files changed, 17 insertions(+), 24 deletions(-)

commit b5341f0
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Oct 23 16:55:23 2001 +0000

    we now compile and link with -fno-common. this cleans up the multiple,
    uninitialized declarations of variables.

 configure.ac                          |    2 +-
 include/QF/input.h                    |    6 ++++--
 include/d_local.h                     |    2 +-
 libs/video/renderer/gl/gl_rsurf.c     |    2 --
 libs/video/renderer/sw/nonintel.c     |    2 +-
 libs/video/renderer/sw/sw_rpart.c     |    2 --
 libs/video/renderer/sw32/sw32_rmain.c |    1 -
 libs/video/renderer/sw32/sw32_rpart.c |    2 --
 libs/video/targets/context_x11.c      |    2 +-
 libs/video/targets/in_common.c        |    2 ++
 libs/video/targets/in_sdl.c           |    4 +---
 libs/video/targets/vid_3dfxsvga.c     |    2 +-
 libs/video/targets/vid_common_sw32.c  |    4 +---
 libs/video/targets/vid_glx.c          |    8 ++++----
 libs/video/targets/vid_sdl.c          |    2 +-
 libs/video/targets/vid_sgl.c          |    2 +-
 libs/video/targets/vid_svgalib.c      |    2 +-
 libs/video/targets/vid_wgl.c          |    8 ++++----
 libs/video/targets/vid_x11.c          |    4 ++--
 nq/source/cl_input.c                  |    5 +++--
 nq/source/host_skin.c                 |    2 +-
 nq/source/skin.c                      |    3 ---
 nq/source/sv_ded.c                    |    4 ++--
 nq/source/sv_progs.c                  |    3 ---
 nq/source/sv_user.c                   |    4 ++--
 qw/source/cl_input.c                  |    5 +++--
 qw/source/cl_skin.c                   |    2 +-
 qw/source/skin.c                      |    3 ---
 28 files changed, 38 insertions(+), 52 deletions(-)

commit fa95bd3
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Oct 23 01:53:51 2001 +0000

    fix a really stupid brainfart that caused shift states to not work

 libs/video/targets/in_svgalib.c |    2 +-
 libs/video/targets/in_win.c     |    6 +++---
 2 files changed, 4 insertions(+), 4 deletions(-)

commit b6ad222
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Oct 22 19:46:34 2001 +0000

    attempt to handle the byte swapping of screenshots seen on voodoo2s in
    windows

 include/QF/GL/qf_funcs_list.h      |    2 +-
 libs/video/targets/vid_common_gl.c |   12 ++++++++++++
 2 files changed, 13 insertions(+), 1 deletion(-)

commit b8a9a97
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Oct 22 18:47:45 2001 +0000

    the usual

 tools/qfcc/TODO |    1 +
 1 file changed, 1 insertion(+)

commit 1d697dc
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Oct 22 16:07:26 2001 +0000

    give in_win keyboard shift states for ascii conversions

 libs/video/targets/in_win.c |  100 ++++++++++++++++++++++++++++++++++++++-----
 1 file changed, 89 insertions(+), 11 deletions(-)

commit 3252ee3
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Oct 22 05:07:15 2001 +0000

    fix the mangled key codes

 libs/video/targets/in_win.c |   49 ++++++++++++++++++++++++-------------------
 1 file changed, 27 insertions(+), 22 deletions(-)

commit 5225261
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Oct 22 04:13:56 2001 +0000

    pull the input code out of vid_wgl into in_win

 libs/video/targets/in_win.c  |  272 ++++++++++++++++++++++++++++++++++++++
 libs/video/targets/vid_wgl.c |  297 +++---------------------------------------
 2 files changed, 288 insertions(+), 281 deletions(-)

commit 82aa0fd
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Oct 22 02:33:19 2001 +0000

    fix -wgl's keyboard input

 libs/video/targets/vid_wgl.c |   28 ++++++++++++++++++++--------
 1 file changed, 20 insertions(+), 8 deletions(-)

commit 9a5ec9c
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Oct 22 02:15:30 2001 +0000

    ok, qw-client-wgl.exe works now (helps if scr_width and scr_height are set)

 libs/video/targets/vid_wgl.c |   41 +++++++++++++----------------------------
 1 file changed, 13 insertions(+), 28 deletions(-)

commit 2467671
Author: Chris Ison <cisos@bigpond.net.au>
Date:   Sun Oct 21 21:29:54 2001 +0000

    removal of tdfx_brighten in preparation for gl_brighten

 libs/video/targets/vid_3dfxsvga.c |   29 -----------------------------
 1 file changed, 29 deletions(-)

commit e69ade6
Author: Chris Ison <cisos@bigpond.net.au>
Date:   Sun Oct 21 21:23:45 2001 +0000

    some fixes for WINAPI

 include/QF/GL/extensions.h |   17 ++++++++++++-----
 include/QF/GL/funcs.h      |    4 ++++
 2 files changed, 16 insertions(+), 5 deletions(-)

commit 7af9074
Author: Chris Ison <cisos@bigpond.net.au>
Date:   Sun Oct 21 21:23:05 2001 +0000

    touch ups

 README.cygwin |   11 ++++++++---
 1 file changed, 8 insertions(+), 3 deletions(-)

commit 70619f1
Author: Chris Ison <cisos@bigpond.net.au>
Date:   Sun Oct 21 21:20:59 2001 +0000

    added compile switch to cygwin-mingw32 and added win32 defs

 acconfig.h   |    7 +++++++
 configure.ac |   13 ++++++++++++-
 2 files changed, 19 insertions(+), 1 deletion(-)

commit 6fd5239
Author: Chris Ison <cisos@bigpond.net.au>
Date:   Sun Oct 21 21:18:31 2001 +0000

    added winsock init/cleanup

 nq/source/net_udp.c |   14 ++++++++++++++
 1 file changed, 14 insertions(+)

commit 818f5de
Author: Adam Olsen <rhamph@gmail.com>
Date:   Sun Oct 21 14:21:30 2001 +0000

    - rename CL_ParsePacketEntities to CL_ParseDeltaPacketEntities
    - fix various spots in the above that called Host_EndGame but didn't
      return
    - switched the order of modellist and soundlist in net_svc*, to
      conform with the rest of the files
    - create a new CL_ParsePacketEntities, that only handles
      svc_packetentities (so it's much simpler).  it uses net_svc*

 qw/include/cl_ents.h |    3 +-
 qw/include/net_svc.h |   27 +++++++++---
 qw/source/cl_ents.c  |  116 ++++++++++++++++++++++++++++++++++++++++++++++----
 qw/source/cl_parse.c |    4 +-
 qw/source/net_svc.c  |  108 ++++++++++++++++++++++++++++++++++++++++------
 5 files changed, 228 insertions(+), 30 deletions(-)

commit e1fc77d
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Oct 21 03:48:02 2001 +0000

    fix a crasher in win32. I don't know if linux crashed, but it should have.

 libs/video/targets/vid_sdl.c |    6 ++++++
 1 file changed, 6 insertions(+)

commit bc5a7f9
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Oct 21 02:41:20 2001 +0000

    it seems to help if GLAPIENTRY is actually getting defined to something
    usefult. -wgl no longer dies now, though I still get a black screen (palette
    init issues:)

 include/QF/GL/extensions.h |   12 +++++-------
 1 file changed, 5 insertions(+), 7 deletions(-)

commit 7ccaecc
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Oct 21 01:38:32 2001 +0000

    ignore some more files at the request of Gb]

 .gitignore             |    3 +++
 doc/texinfo/.gitignore |    1 +
 2 files changed, 4 insertions(+)

commit cc89fb2
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Oct 21 00:48:38 2001 +0000

    fix for win32 (need to init winsock)

 qw/source/master.c |   11 +++++++++++
 1 file changed, 11 insertions(+)

commit d69c801
Author: Adam Olsen <rhamph@gmail.com>
Date:   Sat Oct 20 11:59:42 2001 +0000

    - convert svc_spawnbaseline and svc_spawnstatic
    
    Only notable ones left now are packetentities and deltapackentities :)

 qw/include/net_svc.h |   24 ++++++++++++++++++++++++
 qw/source/cl_parse.c |   41 ++++++++++++++++++++++-------------------
 qw/source/net_svc.c  |   39 +++++++++++++++++++++++++++++++++++++++
 3 files changed, 85 insertions(+), 19 deletions(-)

commit f779a03
Author: Adam Olsen <rhamph@gmail.com>
Date:   Sat Oct 20 08:20:27 2001 +0000

    - hopefully a fix for master's socket errors on windows
    - start of static server support

 qw/source/master.c |   11 +++++++----
 1 file changed, 7 insertions(+), 4 deletions(-)

commit 32fbdba
Author: Adam Olsen <rhamph@gmail.com>
Date:   Sat Oct 20 08:10:25 2001 +0000

    - move the MAX_PROJECTILES def from cl_ents.c to bothdefs.h
    - convert svc_nails

 qw/include/bothdefs.h |    1 +
 qw/include/net_svc.h  |   10 ++++++++++
 qw/source/cl_ents.c   |   21 ++++++++-------------
 qw/source/net_svc.c   |   28 ++++++++++++++++++++++++++++
 4 files changed, 47 insertions(+), 13 deletions(-)

commit 6af08f0
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Sat Oct 20 00:48:15 2001 +0000

    Forge: rip some useless stuff out of configure.

 tools/Forge/configure.in |   42 ------------------------------------------
 1 file changed, 42 deletions(-)

commit c38e76f
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Sat Oct 20 00:37:20 2001 +0000

    Forge: Gorm updates -- figuring out how connections work :)

 tools/Forge/English.lproj/Forge.classes |   47 +++++++++++++++++++++++++++++++
 tools/Forge/English.lproj/Forge.gorm    |  Bin 11194 -> 11454 bytes
 2 files changed, 47 insertions(+)

commit 73e5398
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Sat Oct 20 00:33:54 2001 +0000

    Forge: Preferences updates -- use notifications instead of globals.

 tools/Forge/Preferences.m |   27 +++++++++++++++++++++------
 1 file changed, 21 insertions(+), 6 deletions(-)

commit a4d9507
Author: Adam Olsen <rhamph@gmail.com>
Date:   Fri Oct 19 21:20:49 2001 +0000

    - roast the unnecesary MAX_STYLESTRING def from bothdefs.h
    - rename the message argument of NET_SVC_*_Parse to msg
    - rename the other argument to block, for brevity
    - convert svc_spawnstaticsound
    - convert svc_serverinfo
    - convert svc_playerinfo
    - fix a exploitable buffer overflow with svc_lightstyle

 qw/include/bothdefs.h |    2 -
 qw/include/net_svc.h  |   59 ++++++++---
 qw/source/cl_ents.c   |   63 +++++-------
 qw/source/cl_parse.c  |   36 +++----
 qw/source/net_svc.c   |  260 +++++++++++++++++++++++++++++++------------------
 5 files changed, 249 insertions(+), 171 deletions(-)

commit 2ef8ade
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Oct 19 05:16:24 2001 +0000

    handle more conditional code and check for unitied vars in the test of if ()
    etc

 tools/qfcc/source/expr.c     |   39 +++++++++++++++++++--------------------
 tools/qfcc/source/qc-parse.y |   26 ++++++++++++++++++--------
 2 files changed, 37 insertions(+), 28 deletions(-)

commit 16c334b
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Oct 19 03:22:04 2001 +0000

    uninit var detection seems to work for if and if else

 tools/qfcc/source/qc-parse.y |   83 +++++++++++++++++++++++++++++++++++++++---
 1 file changed, 77 insertions(+), 6 deletions(-)

commit 3572a6b
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Oct 19 00:45:56 2001 +0000

    change def_list from def_t ** to hashtab_t * and comment out some debug code

 tools/qfcc/source/qc-parse.y |   35 ++++++++++++++++++-----------------
 1 file changed, 18 insertions(+), 17 deletions(-)

commit 237d238
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Oct 18 23:06:39 2001 +0000

    beginnings of "if" uninitialized variable support. doesn't make any
    difference yet

 tools/qfcc/source/qc-parse.y |   44 +++++++++++++++++++++++++++++++++++-------
 1 file changed, 37 insertions(+), 7 deletions(-)

commit 5ca785e
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Oct 18 20:05:26 2001 +0000

    uninitialized variable detection. not perfect (lots of false negatives, but
    fewer than before;) but prozac isn't giving any false positives.

 tools/qfcc/include/qfcc.h    |    3 +++
 tools/qfcc/source/expr.c     |   24 ++++++++++++++++++++++++
 tools/qfcc/source/pr_def.c   |   30 ++++++++++++++++++++++++++++++
 tools/qfcc/source/qc-parse.y |   11 ++++++++---
 tools/qfcc/source/qfcc.c     |    1 +
 5 files changed, 66 insertions(+), 3 deletions(-)

commit c2807a6
Author: Adam Olsen <rhamph@gmail.com>
Date:   Thu Oct 18 18:48:49 2001 +0000

    - and svc_temp_entity too.  Probably the last I'll do today.

 qw/include/net_svc.h |   13 ++++
 qw/source/cl_tent.c  |  162 +++++++++++++++++++-------------------------------
 qw/source/net_svc.c  |   58 ++++++++++++++++--
 3 files changed, 125 insertions(+), 108 deletions(-)

commit 96e4e1a
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Oct 18 17:41:22 2001 +0000

    the beginning of unititialized var detection. first victim: functions.
    --undefined-function-warning is now --no-undefined-function-warning and
    the default is to detect called but undefined functions.

 tools/qfcc/include/qfcc.h    |    1 +
 tools/qfcc/source/pr_imm.c   |    4 ++--
 tools/qfcc/source/qc-parse.y |    1 +
 tools/qfcc/source/qfcc.c     |   16 +++++++++-------
 4 files changed, 13 insertions(+), 9 deletions(-)

commit 952f029
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Oct 18 17:15:05 2001 +0000

    rename def_t.initialized to def_t.constant

 tools/qfcc/include/qfcc.h    |    4 ++--
 tools/qfcc/source/emit.c     |    4 ++--
 tools/qfcc/source/pr_imm.c   |    4 ++--
 tools/qfcc/source/qc-parse.y |    2 +-
 tools/qfcc/source/qfcc.c     |    6 +++---
 5 files changed, 10 insertions(+), 10 deletions(-)

commit 78a5b3a
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Oct 18 17:08:54 2001 +0000

    final missed console.h

 nq/source/sys_wind.c |    1 +
 1 file changed, 1 insertion(+)

commit 6ea400f
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Oct 18 17:03:50 2001 +0000

    d'oh, forgot to compile test :P

 nq/source/sys_sdl.c     |    1 +
 nq/source/sys_unix.c    |    1 +
 qw/source/cl_sys_sdl.c  |    1 +
 qw/source/cl_sys_unix.c |    1 +
 4 files changed, 4 insertions(+)

commit 00bfc12
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Oct 18 16:49:40 2001 +0000

    more printf elimination

 nq/source/mplpc.c       |    2 +-
 nq/source/sys_sdl.c     |    2 +-
 nq/source/sys_unix.c    |    4 ++--
 nq/source/sys_wind.c    |    2 +-
 qw/source/cl_sys_sdl.c  |    2 +-
 qw/source/cl_sys_unix.c |    2 +-
 6 files changed, 7 insertions(+), 7 deletions(-)

commit b3914ee
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Oct 18 16:42:14 2001 +0000

    elimination of bare printf (with some exceptions) from libs: Sys_Printf is
    used instead

 libs/audio/targets/snd_sun.c         |    4 ++--
 libs/gamecode/engine/pr_edict.c      |    2 +-
 libs/gamecode/engine/pr_exec.c       |    4 ++--
 libs/models/alias/gl_model_alias.c   |    2 +-
 libs/video/renderer/gl/gl_sky_clip.c |    2 +-
 libs/video/targets/context_x11.c     |    2 +-
 libs/video/targets/in_svgalib.c      |    2 +-
 libs/video/targets/vid_ext.c         |   44 +++++++++++++++++-----------------
 libs/video/targets/vid_x11.c         |   24 +++++++++----------
 9 files changed, 43 insertions(+), 43 deletions(-)

commit 9cef5a1
Author: Adam Olsen <rhamph@gmail.com>
Date:   Thu Oct 18 13:33:12 2001 +0000

    - svs_sound too of course

 qw/include/net_svc.h |   11 +++++++++++
 qw/source/cl_parse.c |   33 +++++++--------------------------
 qw/source/net_svc.c  |   28 ++++++++++++++++++++++++++++
 3 files changed, 46 insertions(+), 26 deletions(-)

commit eb9c515
Author: Adam Olsen <rhamph@gmail.com>
Date:   Thu Oct 18 08:57:03 2001 +0000

    - yada svc_damage, svc_serverdata
    - remove a no longer valid commit from NET_SVC_UpdateUserInfo_Parse,
      and make it always set name/data to 0 if they're unused

 qw/include/net_svc.h |   22 ++++++++++++++++++++++
 qw/source/cl_parse.c |   32 ++++++++++++--------------------
 qw/source/cl_view.c  |   24 +++++++++++-------------
 qw/source/net_svc.c  |   44 +++++++++++++++++++++++++++++++++++++++++++-
 4 files changed, 88 insertions(+), 34 deletions(-)

commit cf8380b
Author: Adam Olsen <rhamph@gmail.com>
Date:   Thu Oct 18 07:34:38 2001 +0000

    - change NET_SVC_*_Parse to return qboolean, indicating if they had a
      bad read

 qw/include/net_svc.h |   16 +++++++++-------
 qw/source/net_svc.c  |   24 ++++++++++++++++++------
 2 files changed, 27 insertions(+), 13 deletions(-)

commit d2fe052
Author: Adam Olsen <rhamph@gmail.com>
Date:   Thu Oct 18 07:23:33 2001 +0000

    - convert svc_setinfo, bla bla, you know hte drill

 qw/include/net_svc.h |    8 ++++++++
 qw/source/cl_parse.c |   30 ++++++++++++++----------------
 qw/source/net_svc.c  |    8 ++++++++
 3 files changed, 30 insertions(+), 16 deletions(-)

commit 634c2c6
Author: Adam Olsen <rhamph@gmail.com>
Date:   Thu Oct 18 07:01:40 2001 +0000

    - rename CL_UpdateUserinfo to CL_ParseUpdateUserInfo for uniformness
    - rework svc_updateuserinfo/CL_ParseUpdateUserInfo like everything
      else

 qw/include/net_svc.h |    9 +++++++++
 qw/source/cl_parse.c |   19 ++++++++++---------
 qw/source/net_svc.c  |    9 +++++++++
 3 files changed, 28 insertions(+), 9 deletions(-)

commit 5e4ea0b
Author: Adam Olsen <rhamph@gmail.com>
Date:   Thu Oct 18 06:37:12 2001 +0000

    - I've had this sitting around for a while now, might as well add it

 doc/ideas/language.txt |   55 ++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 55 insertions(+)

commit 7d26e6e
Author: Adam Olsen <rhamph@gmail.com>
Date:   Thu Oct 18 06:35:28 2001 +0000

    - move the svc_print handling into a seperate function (CL_ParsePrint)
    - add NET_SVC_{Print,Download}_Parse functions and assosiated
      net_svc_{print,download}_t structs.
    - make CL_Parse{Print,Download} use the above stuff

 qw/include/net_svc.h |   16 +++++++++
 qw/source/cl_parse.c |   94 +++++++++++++++++++++++++++-----------------------
 qw/source/net_svc.c  |   29 ++++++++++++++++
 3 files changed, 96 insertions(+), 43 deletions(-)

commit 6c0d760
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Oct 18 06:23:26 2001 +0000

    msg.h:
    	give mst_t a buffer to hold unterminated message strings
    	kill MSG_ReadStaticString and MSG_ReadStringLine
    msg.c:
    	kill MSG_ReadStaticString and MSG_ReadStringLine
    	MSG_ReadString: implement the buffer for unterminated message strings
    	and update readcount on badread
    cl_main.c:
    	go back to MSG_ReadString and fix up the resulting const char * issues
    cl_parse.c:
    	rewrite the cl_mofake code all because of an uninitialized variable :)
    sv_main.c:
    	use MSG_ReadString instead of MSG_ReadStringLine because
    	Cmd_TokenizeString really doesn't care about a terminating \n

 include/QF/msg.h     |    5 +++--
 libs/util/msg.c      |   57 ++++++++++----------------------------------------
 qw/source/cl_main.c  |   22 +++++++++++--------
 qw/source/cl_parse.c |   15 +++++++------
 qw/source/sv_main.c  |    2 +-
 5 files changed, 35 insertions(+), 66 deletions(-)

commit 18036b6
Author: Adam Olsen <rhamph@gmail.com>
Date:   Thu Oct 18 04:44:58 2001 +0000

    - change MSG_ReadString to return const char * and return a pointer
      directly into the packet data.
    - change a bunch of char *'s to const char *'s for the above.  Only
      thing that had trouble was the cl_nofake handler, which I changed to
      use a local buffer.
    - add MSG_ReadStaticString which acts like the old MSG_ReadString,
      specifically that it uses a static buffer and tollerates
      unterminated strings.
    - add a Q_strnlen function, and make strnlen use it if strnlen is
      undefined.
    - Add a net_svc.h and net_svc.c which will preparse svc messages into
      structs, for easier handling.  Currently only soundlist and
      modellist are done.

 include/QF/msg.h          |    3 +-
 include/QF/string.h       |    1 +
 include/compat.h          |    4 +++
 libs/util/msg.c           |   32 ++++++++++++++++-
 libs/util/string.c        |   15 +++++++-
 nq/source/cl_parse.c      |    2 +-
 nq/source/net_dgrm.c      |    4 +--
 nq/source/sv_user.c       |    2 +-
 qw/include/net_svc.h      |   54 ++++++++++++++++++++++++++++
 qw/source/Makefile.am     |    2 +-
 qw/source/cl_main.c       |   10 +++---
 qw/source/cl_parse.c      |   80 ++++++++++++++++++++++-------------------
 qw/source/net_packetlog.c |    4 +--
 qw/source/net_svc.c       |   87 +++++++++++++++++++++++++++++++++++++++++++++
 qw/source/sv_user.c       |    2 +-
 15 files changed, 249 insertions(+), 53 deletions(-)

commit 1b19555
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Oct 18 04:14:18 2001 +0000

    make all the multi-byte MSG_Read* functions update msg->readcount when the
    end of the buffer is hit so subsequent MSG_Read* calls for smaller values
    error as well. Also add a check for badread in MSG_ReadFloat

 libs/util/msg.c |    8 ++++++++
 1 file changed, 8 insertions(+)

commit ece4e5c
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Oct 18 03:43:20 2001 +0000

    MSG_ReadChar -> MSG_ReadByte

 nq/source/sv_user.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 3ab66f5
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Oct 18 03:19:04 2001 +0000

    remove the non-qw code and the ifdef QUAKEWORLD stuff

 qw/source/net_packetlog.c |   41 -----------------------------------------
 1 file changed, 41 deletions(-)

commit 79e4045
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Wed Oct 17 21:35:24 2001 +0000

    debian/ updates -- I thought I'd already checked this in.

 debian/.gitignore      |    1 +
 debian/changelog       |    6 ++++++
 debian/control         |    2 ++
 debian/quakeforge.conf |   11 +++++++++--
 debian/rules           |   14 +++++++-------
 5 files changed, 25 insertions(+), 9 deletions(-)

commit f9fcf2f
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Oct 17 18:49:25 2001 +0000

    freebsd fixes

 qw/source/sv_main.c |    9 +++++++++
 1 file changed, 9 insertions(+)

commit 85834ab
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Oct 17 18:36:19 2001 +0000

    handle a couple of missed ex_nil cases

 tools/qfcc/source/emit.c |    4 ++++
 1 file changed, 4 insertions(+)

commit 6b53cbf
Author: Chris Ison <cisos@bigpond.net.au>
Date:   Wed Oct 17 10:41:25 2001 +0000

    changes to get mingw builds happening under cygwin

 README.cygwin    |   40 ++++++++++++++++++++++++++++++++++++++++
 configure.ac     |   32 ++++++++++++++------------------
 include/compat.h |    6 ++++--
 3 files changed, 58 insertions(+), 20 deletions(-)

commit 79ac85b
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Oct 17 07:45:37 2001 +0000

    type checking now works much better and there is now a NIL builtin constant
    which can be assigned (/only/) to anything.

 tools/qfcc/include/expr.h    |    1 +
 tools/qfcc/source/expr.c     |   64 ++++++++++++++++++++++++++++++------------
 tools/qfcc/source/qc-lex.l   |    1 +
 tools/qfcc/source/qc-parse.y |    7 ++++-
 4 files changed, 54 insertions(+), 19 deletions(-)

commit 7883280
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Oct 16 22:55:37 2001 +0000

    whitespace

 qw/source/sv_ents.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit e765321
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Oct 16 22:37:11 2001 +0000

    wgl funcs are likely GLAPIENTRY type too :)

 libs/video/targets/vid_wgl.c |   10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit 2d068c0
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Oct 16 21:40:45 2001 +0000

    massive windows.h and WIN32 cleanup.

 libs/audio/cd/cd_sdl.c               |    3 -
 libs/audio/renderer/snd_dma.c        |    6 +-
 libs/audio/renderer/snd_mix.c        |   14 +--
 libs/util/quakefs.c                  |    2 +-
 libs/util/zone.c                     |    8 --
 libs/video/renderer/sw/screen.c      |    9 --
 libs/video/renderer/sw32/d_polyse.c  |  177 ----------------------------------
 libs/video/renderer/sw32/screen.c    |    9 --
 libs/video/renderer/sw32/sw32_rsky.c |   49 ----------
 libs/video/targets/in_sdl.c          |    6 --
 libs/video/targets/keys.c            |    3 -
 libs/video/targets/vid_common_gl.c   |    5 -
 nq/source/sys_sdl.c                  |    2 -
 nq/source/sys_win.c                  |    6 +-
 qw/source/cl_sys_sdl.c               |    6 --
 qw/source/cl_sys_win.c               |    6 +-
 qw/source/net_chan.c                 |   22 ++---
 qw/source/sv_sys_win.c               |    3 -
 tools/qfcc/source/cmdlib.c           |    4 -
 19 files changed, 20 insertions(+), 320 deletions(-)

commit 8557d50
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Oct 16 18:38:28 2001 +0000

    redundant checks cleanup

 configure.ac |   17 ++++++++---------
 1 file changed, 8 insertions(+), 9 deletions(-)

commit fdf0313
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Oct 16 17:02:40 2001 +0000

    remove a redundant check for vga.h

 configure.ac |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f18974b
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Oct 16 16:25:32 2001 +0000

    fix a missing sys/types.h

 libs/audio/targets/snd_oss.c |    3 +++
 1 file changed, 3 insertions(+)

commit 3daab16
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Oct 16 15:38:50 2001 +0000

    bring back libQFjs

 RPM/quakeforge.spec.in |    5 +++++
 1 file changed, 5 insertions(+)

commit ce740fb
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Tue Oct 16 05:06:31 2001 +0000

    Joystick target fixed.

 configure.ac                   |   10 ++++++----
 libs/video/targets/Makefile.am |    2 ++
 2 files changed, 8 insertions(+), 4 deletions(-)

commit 8417d23
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Oct 16 04:11:25 2001 +0000

    fix a nasty seg on gl startup causes by looped function pointers

 libs/video/targets/vid_3dfxsvga.c |   24 ++++++++++++------------
 libs/video/targets/vid_glx.c      |   24 ++++++++++++------------
 2 files changed, 24 insertions(+), 24 deletions(-)

commit d4396df
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Oct 16 03:29:13 2001 +0000

    rename the server package to servers and merge the master package into the
    servers package (master is currently small enough that it doesn't matter)

 RPM/quakeforge.spec.in |   26 +++++++++++++-------------
 1 file changed, 13 insertions(+), 13 deletions(-)

commit c067803
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Oct 15 23:47:56 2001 +0000

    nuke no longer installed libs

 RPM/quakeforge.spec.in |   35 -----------------------------------
 1 file changed, 35 deletions(-)

commit 41a50d8
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Oct 15 23:47:31 2001 +0000

    add some missing headers to include_HEADERS

 include/QF/GL/Makefile.am |    5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 376a910
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Oct 15 23:16:42 2001 +0000

    oops

 libs/video/targets/Makefile.am |    2 ++
 1 file changed, 2 insertions(+)

commit 3402dfd
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Oct 15 23:09:03 2001 +0000

    libasm improvements

 libs/video/targets/Makefile.am |   20 +++++++++++---------
 1 file changed, 11 insertions(+), 9 deletions(-)

commit 50681b5
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Mon Oct 15 22:52:53 2001 +0000

    debian/ updates. More files get the axe!

 debian/Makefile.am             |   30 ++++++++++--------------------
 debian/quakeforge-glx.postinst |    9 ---------
 debian/quakeforge-glx.postrm   |   17 -----------------
 debian/quakeforge-sdl.postinst |    9 ---------
 debian/quakeforge-sdl.postrm   |   17 -----------------
 debian/quakeforge-sgl.postinst |    9 ---------
 debian/quakeforge-sgl.postrm   |   17 -----------------
 debian/quakeforge-x11.postinst |    9 ---------
 debian/quakeforge-x11.postrm   |   17 -----------------
 debian/rules                   |   12 ++++--------
 10 files changed, 14 insertions(+), 132 deletions(-)

commit 4a0194b
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Oct 15 22:41:42 2001 +0000

    correct the default of cmd_warncmd

 libs/util/cmd.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit b89ff39
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Mon Oct 15 22:33:35 2001 +0000

    Ooops, forgot to nuke a couple lines from configure.

 configure.ac |    2 --
 1 file changed, 2 deletions(-)

commit 2e4d8d1
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Mon Oct 15 22:32:28 2001 +0000

    Makefile fixes -- video driver libs are gone.

 configure.ac                   |    2 +-
 libs/video/targets/Makefile.am |    4 +---
 2 files changed, 2 insertions(+), 4 deletions(-)

commit 10424a5
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Mon Oct 15 22:28:05 2001 +0000

    *** empty log message ***

 libs/video/targets/Makefile.am |   29 +++++++++++------------------
 1 file changed, 11 insertions(+), 18 deletions(-)

commit 4729068
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Mon Oct 15 22:00:52 2001 +0000

    Coding Style clarifications and some new stuff that has been changed
    recently.

 doc/CodingStyle |   47 ++++++++++++++++++++++++++++++-----------------
 1 file changed, 30 insertions(+), 17 deletions(-)

commit 371c111
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Oct 15 20:35:47 2001 +0000

    make plugindir actually /work/ (ie, it can be overridden at install time)

 configure.ac |   13 +++++++------
 1 file changed, 7 insertions(+), 6 deletions(-)

commit 460a270
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Oct 15 19:06:22 2001 +0000

    fix some init order issues brought up by the new gl_funcs.c code.

 include/QF/GL/funcs.h              |    2 ++
 libs/video/renderer/gl/gl_funcs.c  |   11 ++++-------
 libs/video/targets/vid_3dfxsvga.c  |   15 +++------------
 libs/video/targets/vid_common_gl.c |   12 ++++++++----
 libs/video/targets/vid_glx.c       |   13 ++-----------
 libs/video/targets/vid_sgl.c       |    3 +++
 libs/video/targets/vid_wgl.c       |    7 ++-----
 7 files changed, 24 insertions(+), 39 deletions(-)

commit fd25261
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Oct 15 18:24:30 2001 +0000

    hopefully better win32 dynamicly loaded gl support. if nothing else,
    gl_funcs.c is easier to read :)

 include/QF/GL/funcs.h             |    3 +-
 libs/video/renderer/gl/gl_funcs.c |   95 ++++++++++++++++++++-----------------
 2 files changed, 53 insertions(+), 45 deletions(-)

commit 1ffb050
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Oct 15 17:41:53 2001 +0000

    and a memleak fix from _Muz_

 libs/audio/cd/cd_xmms.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 7e0f676
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Oct 15 17:37:05 2001 +0000

    xmms info and session id patch from _Muz_

 libs/audio/cd/cd_xmms.c |  128 ++++++++++++++++++++++++++++++++++++-----------
 1 file changed, 99 insertions(+), 29 deletions(-)

commit 41d01d5
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Oct 15 17:32:43 2001 +0000

    put the INITGUID definition in the correct place

 libs/video/targets/in_win.c  |    4 ++++
 libs/video/targets/joy_win.c |    3 ---
 2 files changed, 4 insertions(+), 3 deletions(-)

commit f7b82bc
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Oct 15 16:30:15 2001 +0000

    comment out the definition of INITGUID for now as it's causing linking problems

 libs/video/targets/joy_win.c |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit cb6391e
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Oct 15 16:21:51 2001 +0000

    fix a typo that causes parallel makes to break on libqfnet

 nq/source/Makefile.am |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 5533236
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Sun Oct 14 12:19:16 2001 +0000

    More debian/ updates.

 debian/quakeforge-common.postinst      |    9 +++++++++
 debian/quakeforge-common.postrm        |   17 +++++++++++++++++
 debian/quakeforge-glx.postinst         |    9 +++++++++
 debian/quakeforge-glx.postrm           |   17 +++++++++++++++++
 debian/quakeforge-libs-gl.postinst     |    9 +++++++++
 debian/quakeforge-libs-gl.postrm       |   17 +++++++++++++++++
 debian/quakeforge-libs-sw.postinst     |    9 +++++++++
 debian/quakeforge-libs-sw.postrm       |   17 +++++++++++++++++
 debian/quakeforge-sdl.postinst         |    9 +++++++++
 debian/quakeforge-sdl.postrm           |   17 +++++++++++++++++
 debian/quakeforge-server.undocumented  |    1 -
 debian/quakeforge-servers.undocumented |    3 +++
 debian/quakeforge-sgl.postinst         |    9 +++++++++
 debian/quakeforge-sgl.postrm           |   17 +++++++++++++++++
 debian/quakeforge-x11.postinst         |    9 +++++++++
 debian/quakeforge-x11.postrm           |   17 +++++++++++++++++
 16 files changed, 185 insertions(+), 1 deletion(-)

commit 0ab90e0
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Sun Oct 14 12:17:11 2001 +0000

    debian/ updates. Cleaner, smaller, packages.

 debian/control                      |   46 +++++----
 debian/quakeforge-alsa.files        |    3 -
 debian/quakeforge-common.conffiles  |    1 -
 debian/quakeforge-common.docs       |    3 -
 debian/quakeforge-common.files      |   34 -------
 debian/quakeforge-dev.dirs          |    1 -
 debian/quakeforge-dev.files         |   30 ------
 debian/quakeforge-glx.dirs          |    1 -
 debian/quakeforge-glx.docs          |    3 -
 debian/quakeforge-glx.files         |    4 -
 debian/quakeforge-glx.undocumented  |    1 +
 debian/quakeforge-libs-gl.files     |    4 -
 debian/quakeforge-libs-sw.files     |    4 -
 debian/quakeforge-oss.files         |    3 -
 debian/quakeforge-sdl.dirs          |    1 -
 debian/quakeforge-sdl.docs          |    3 -
 debian/quakeforge-sdl.files         |    4 -
 debian/quakeforge-sdl.undocumented  |    1 +
 debian/quakeforge-server.dirs       |    2 -
 debian/quakeforge-server.docs       |    3 -
 debian/quakeforge-server.files      |    4 -
 debian/quakeforge-sgl.dirs          |    1 -
 debian/quakeforge-sgl.docs          |    3 -
 debian/quakeforge-sgl.files         |    4 -
 debian/quakeforge-sgl.undocumented  |    1 +
 debian/quakeforge-svga.dirs         |    1 -
 debian/quakeforge-svga.docs         |    3 -
 debian/quakeforge-svga.files        |    4 -
 debian/quakeforge-svga.undocumented |    1 +
 debian/quakeforge-x11.dirs          |    1 -
 debian/quakeforge-x11.docs          |    3 -
 debian/quakeforge-x11.files         |    4 -
 debian/quakeforge-x11.undocumented  |    1 +
 debian/rules                        |  177 +++++++++++++++++++++++++++++++----
 34 files changed, 192 insertions(+), 168 deletions(-)

commit 0485fbe
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Sun Oct 14 07:05:06 2001 +0000

    Makefile fixes.

 libs/audio/targets/Makefile.am |   11 +++++++----
 1 file changed, 7 insertions(+), 4 deletions(-)

commit 3d6d0d1
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Sun Oct 14 06:26:57 2001 +0000

    Nuke -3dfx from debian/*

 debian/control                      |   17 +----------------
 debian/quakeforge-3dfx.dirs         |    1 -
 debian/quakeforge-3dfx.docs         |    3 ---
 debian/quakeforge-3dfx.files        |    4 ----
 debian/quakeforge-3dfx.suid         |    1 -
 debian/quakeforge-3dfx.undocumented |    1 -
 6 files changed, 1 insertion(+), 26 deletions(-)

commit 40489cb
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Oct 14 06:10:45 2001 +0000

    Config.h.in is generated, so remove from cvs

 tools/Forge/Headers/.gitignore  |    1 +
 tools/Forge/Headers/Config.h.in |   16 ----------------
 2 files changed, 1 insertion(+), 16 deletions(-)

commit 69c558d
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Sun Oct 14 05:57:38 2001 +0000

    Vector class for Forge. Don't know if we need it, but it helped me to
    grok vectors.

 tools/Forge/Headers/Vector.h |   74 +++++++++++++++
 tools/Forge/Vector.m         |  215 ++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 289 insertions(+)

commit f7b0227
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Sun Oct 14 05:55:21 2001 +0000

    This is all seriously broken, but I'm committing it so that it can be
    worked on by other people as well. :)

 tools/Forge/CameraView.m               |  139 ++++++++++++++++++++------------
 tools/Forge/Clipper.m                  |  113 +++++++++++++++++---------
 tools/Forge/English.lproj/Forge.gorm   |  Bin 12081 -> 11194 bytes
 tools/Forge/Entity.m                   |    4 +-
 tools/Forge/Forge.m                    |   32 ++++----
 tools/Forge/GNUmakefile                |    5 +-
 tools/Forge/Headers/Brush.h            |   31 +++++++
 tools/Forge/Headers/CameraView.h       |   46 ++++++++---
 tools/Forge/Headers/Clipper.h          |   47 +++++++++--
 tools/Forge/Headers/Dict.h             |   47 -----------
 tools/Forge/Headers/Entity.h           |   76 ++++++++++-------
 tools/Forge/Headers/EntityArray.h      |   34 +++++++-
 tools/Forge/Headers/EntityClass.h      |   33 +++++++-
 tools/Forge/Headers/Forge.h            |   46 +++++++++--
 tools/Forge/Headers/InspectorControl.h |   30 +++++++
 tools/Forge/Headers/KeypairView.h      |   30 +++++++
 tools/Forge/Headers/Map.h              |   34 +++++++-
 tools/Forge/Headers/PopScrollView.h    |   31 +++++++
 tools/Forge/Headers/Preferences.h      |    5 +-
 tools/Forge/Headers/Project.h          |   35 +++++++-
 tools/Forge/Headers/SetBrush.h         |   48 ++++++++---
 tools/Forge/Headers/TexturePalette.h   |   60 +++++++++++---
 tools/Forge/Headers/TextureView.h      |   29 +++++++
 tools/Forge/Headers/Things.h           |   32 +++++++-
 tools/Forge/Headers/UserPath.h         |    2 +
 tools/Forge/Headers/XYView.h           |   71 +++++++++++-----
 tools/Forge/Headers/ZScrollView.h      |   35 +++++++-
 tools/Forge/Headers/ZView.h            |   46 +++++++++--
 tools/Forge/Headers/cmdlib.h           |    2 -
 tools/Forge/Headers/mathlib.h          |   67 ---------------
 tools/Forge/Headers/qedefs.h           |   59 --------------
 tools/Forge/Headers/render.h           |   30 +++++++
 tools/Forge/Map.m                      |   23 +++---
 tools/Forge/Preferences.m              |   17 +++-
 tools/Forge/Project.m                  |    4 +-
 tools/Forge/SetBrush.m                 |   65 +++++++--------
 tools/Forge/TexturePalette.m           |  134 +++++++++++++-----------------
 tools/Forge/mathlib.c                  |  128 -----------------------------
 38 files changed, 1019 insertions(+), 651 deletions(-)

commit 2dafd4a
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Oct 12 23:14:59 2001 +0000

    remove some (int) casts

 libs/audio/cd/cd_linux.c |    4 ++--
 libs/audio/cd/cd_sgi.c   |    4 ++--
 libs/audio/cd/cd_win.c   |    4 ++--
 libs/audio/cd/cd_xmms.c  |    4 ++--
 4 files changed, 8 insertions(+), 8 deletions(-)

commit e97e06f
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Oct 12 19:26:56 2001 +0000

    byte to int + xmms playlist support from _Muz_

 include/QF/cdaudio.h     |    2 +-
 include/QF/plugin/cd.h   |    2 +-
 libs/audio/cd.c          |    2 +-
 libs/audio/cd/cd_linux.c |    6 +++---
 libs/audio/cd/cd_null.c  |    2 +-
 libs/audio/cd/cd_sdl.c   |    2 +-
 libs/audio/cd/cd_sgi.c   |    6 +++---
 libs/audio/cd/cd_win.c   |    8 ++++----
 libs/audio/cd/cd_xmms.c  |   50 ++++++++++++++++++++++++++++++++++++++--------
 9 files changed, 57 insertions(+), 23 deletions(-)

commit 0952af5
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Oct 12 15:49:50 2001 +0000

    fix up the sound restart code

 libs/audio/targets/snd_win.c |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit c8e1e79
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Oct 12 03:58:22 2001 +0000

    correct type error checking for vectors vs floats

 tools/qfcc/source/expr.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 579d784
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Oct 11 23:21:40 2001 +0000

    config results report cleanup

 configure.ac |   28 ++++++++++++++--------------
 1 file changed, 14 insertions(+), 14 deletions(-)

commit 62873d6
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Oct 11 17:31:41 2001 +0000

    diff snr --

 libs/video/targets/vid_sdl.c   |   16 ++++++----------
 libs/video/targets/vid_sdl32.c |   15 ++++++++-------
 2 files changed, 14 insertions(+), 17 deletions(-)

commit 7c64e1b
Author: Adam Olsen <rhamph@gmail.com>
Date:   Thu Oct 11 17:19:19 2001 +0000

    - more TODO changes :)

 TODO |    5 +++++
 1 file changed, 5 insertions(+)

commit 30ea591
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Oct 11 16:33:10 2001 +0000

    minor tweeks

 TODO |    6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit 6ad5572
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Oct 11 16:26:09 2001 +0000

    chase cam seems to work properly now

 qw/source/cl_cam.c  |   20 ++++++++++++++------
 qw/source/cl_ents.c |   13 +++++++------
 2 files changed, 21 insertions(+), 12 deletions(-)

commit 49fe4e9
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Oct 11 06:54:29 2001 +0000

    fix a misplaced s&r

 libs/video/renderer/gl/gl_rsurf.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit b4bacb3
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Oct 11 05:21:07 2001 +0000

    final bit of cleanup for now. save the nehahra bits from nq's TODO in docs
    and kill the TODO

 doc/ideas/nehahra |    2 ++
 nq/TODO           |    7 -------
 2 files changed, 2 insertions(+), 7 deletions(-)

commit 483c56b
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Oct 11 05:10:46 2001 +0000

    put the .lsm file in the top level

 configure.ac         |    3 +--
 nq/nuq.lsm.in        |   16 ----------------
 quakeforge.lsm.in    |   18 ++++++++++++++++++
 qw/quakeforge.lsm.in |   18 ------------------
 4 files changed, 19 insertions(+), 36 deletions(-)

commit 9670980
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Oct 11 05:06:21 2001 +0000

    hey, even more cleanup

 nq/AUTHORS |    1 -
 1 file changed, 1 deletion(-)

commit e07f1dc
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Oct 11 05:02:53 2001 +0000

    more cleanup

 qw/AUTHORS    |    1 -
 qw/README     |  232 ---------------------------------------------------------
 qw/README.WIN |  208 ---------------------------------------------------
 qw/ROADMAP    |   31 --------
 4 files changed, 472 deletions(-)

commit 216df3d
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Oct 11 04:56:11 2001 +0000

    old and oblsolete

 qw/newtree.dsw |   53 -----------------------------------------------------
 1 file changed, 53 deletions(-)

commit a7abedc
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Oct 11 04:54:50 2001 +0000

    fix a woopsie that brok playdemo

 qw/source/cl_demo.c |    1 +
 1 file changed, 1 insertion(+)

commit c0f0dcb
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Oct 11 04:43:40 2001 +0000

    sort of apply Serplord's chasecam fix (it wasn't complete)

 qw/source/cl_cam.c  |    6 +++---
 qw/source/cl_ents.c |    6 +++---
 2 files changed, 6 insertions(+), 6 deletions(-)

commit a1b7850
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Oct 11 03:36:05 2001 +0000

    damn escapee code. this fixes the nq timedemo loop bug

 nq/source/cl_main.c |    1 -
 1 file changed, 1 deletion(-)

commit a192f04
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Oct 11 03:04:28 2001 +0000

    fix our -g -O2 -g -O3 fun

 configure.ac |    3 +++
 1 file changed, 3 insertions(+)

commit fe8e3ea
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Oct 10 23:16:18 2001 +0000

    and nq too, but it doesn't work well

 nq/source/cl_demo.c |   72 ++++++++++++++++++++++++++++++++-------------------
 1 file changed, 46 insertions(+), 26 deletions(-)

commit 3c4e094
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Oct 10 22:00:26 2001 +0000

    timedemo looping. "timedemo overkill 10" will give 10 runs

 qw/source/cl_demo.c |   82 ++++++++++++++++++++++++++++++++-------------------
 1 file changed, 51 insertions(+), 31 deletions(-)

commit 6cd0587
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Oct 10 18:40:06 2001 +0000

    d'oh, forgot to AC_SUBST(PLUGIN_RPATH)

 configure.ac |    1 +
 1 file changed, 1 insertion(+)

commit 742bb9d
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Oct 10 16:22:41 2001 +0000

    static plugins now actually work

 include/QF/plugin.h |    1 +
 libs/audio/cd.c     |    1 +
 libs/audio/snd.c    |    2 ++
 libs/util/plugin.c  |   96 +++++++++++++++++++++++++++++++++------------------
 4 files changed, 67 insertions(+), 33 deletions(-)

commit 8b2da8c
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Oct 10 15:44:35 2001 +0000

    make the static plugins link properly with older libtool

 configure.ac                    |    2 ++
 libs/audio/cd/Makefile.am       |   18 +++++++++---------
 libs/audio/renderer/Makefile.am |    3 ++-
 libs/audio/targets/Makefile.am  |   19 ++++++++++---------
 4 files changed, 23 insertions(+), 19 deletions(-)

commit eee1aaf
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Oct 10 05:52:14 2001 +0000

    static plugins (--with-static-plugins to force on, --without-static-plugins
    to force off, defaults to off for *nix and on for win32). does not work yet
    due to lack of support in libs/util/plugin.c, but that's next.

 acconfig.h                      |   12 ++++++++
 configure.ac                    |   62 +++++++++++++++++++++++++++++++++++++++
 include/QF/plugin.h             |    5 ++++
 libs/audio/Makefile.am          |    4 +++
 libs/audio/cd.c                 |    8 +++--
 libs/audio/cd/Makefile.am       |    1 +
 libs/audio/renderer/Makefile.am |    2 +-
 libs/audio/snd.c                |   22 +++++++++++---
 libs/audio/targets/Makefile.am  |    1 +
 9 files changed, 110 insertions(+), 7 deletions(-)

commit 1674e6a
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Wed Oct 10 05:00:30 2001 +0000

    Clean up of models that are always fullbright.

 libs/video/renderer/gl/gl_rsurf.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit db87121
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Wed Oct 10 04:59:43 2001 +0000

    Whitespace.

 libs/video/renderer/gl/gl_rmain.c |   77 ++++++++++++++++++-------------------
 1 file changed, 38 insertions(+), 39 deletions(-)

commit 510ce73
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Wed Oct 10 01:49:57 2001 +0000

    A Gorm file for the Forge interface.

 tools/Forge/English.lproj/Forge.classes |   78 +++++++++++++++++++++++++++++++
 tools/Forge/English.lproj/Forge.gorm    |  Bin 1178 -> 12081 bytes
 2 files changed, 78 insertions(+)

commit 9f7e1f8
Author: Adam Olsen <rhamph@gmail.com>
Date:   Tue Oct 9 22:47:14 2001 +0000

    - add a pr_double_remove cvar, that either ignores (0), warns about
      (1), or causes a fatal error (2) when the progs remove an already
      removed entity.  default is 1.
    - fix a segfault in FFnickFF parsing that causes a segfault

 qw/source/sv_main.c    |    7 +++++++
 qw/source/sv_pr_cmds.c |    9 +++++++++
 qw/source/sv_send.c    |    2 +-
 3 files changed, 17 insertions(+), 1 deletion(-)

commit 188688f
Author: Chris Ison <cisos@bigpond.net.au>
Date:   Tue Oct 9 22:26:38 2001 +0000

    fixed missing $

 configure.ac |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 86a82b8
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Tue Oct 9 21:57:49 2001 +0000

    Whitespace.

 libs/video/renderer/r_light.c |    1 +
 1 file changed, 1 insertion(+)

commit a65d98a
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Oct 9 21:50:51 2001 +0000

    r_dlight_max can now safely be 0

 libs/video/renderer/r_light.c |   23 ++++++++++++++---------
 1 file changed, 14 insertions(+), 9 deletions(-)

commit fda073a
Author: Chris Ison <cisos@bigpond.net.au>
Date:   Tue Oct 9 21:43:01 2001 +0000

    oops audio targets makefile fix

 libs/audio/targets/Makefile.am |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 15bdd4a
Author: Chris Ison <cisos@bigpond.net.au>
Date:   Tue Oct 9 21:36:57 2001 +0000

    disabled -lm checking for cygwin and mingw32 and added plugin_LDFLAGS and plugin_LIBADD for win32 builds

 configure.ac                   |   24 +++++++++++++++++++++---
 libs/audio/cd/Makefile.am      |   20 +++++++++++---------
 libs/audio/targets/Makefile.am |   14 ++++++++------
 libs/console/Makefile.am       |    7 ++++---
 4 files changed, 44 insertions(+), 21 deletions(-)

commit c26b10d
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Tue Oct 9 20:41:39 2001 +0000

    Don't get excited yet, rest of new explosions isn't going in for a while.

 include/QF/GL/qf_explosions.h |   34 ++++++++++++++++++++++++++++++++++
 1 file changed, 34 insertions(+)

commit 9cc671e
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Tue Oct 9 20:35:17 2001 +0000

    Try #2.
    Change r_maxparticles from short to unsigned int.
    Make MAX_DLIGHTS into a cvar, r_dlight_max that sets the unsigned int r_maxdlights.

 include/QF/render.h                    |    9 ++++-----
 libs/video/renderer/gl/gl_dyn_lights.c |    2 +-
 libs/video/renderer/gl/gl_dyn_part.c   |    7 +++++--
 libs/video/renderer/gl/gl_rmain.c      |    8 ++------
 libs/video/renderer/gl/gl_rsurf.c      |    6 +++---
 libs/video/renderer/r_cvar.c           |    8 ++++++--
 libs/video/renderer/r_light.c          |   31 ++++++++++++++++++++++++++-----
 libs/video/renderer/sw/sw_rmain.c      |    6 +++---
 libs/video/renderer/sw/sw_rpart.c      |    2 +-
 libs/video/renderer/sw/sw_rsurf.c      |    2 +-
 libs/video/renderer/sw32/sw32_rmain.c  |    6 +++---
 libs/video/renderer/sw32/sw32_rpart.c  |    2 +-
 libs/video/renderer/sw32/sw32_rsurf.c  |    2 +-
 13 files changed, 57 insertions(+), 34 deletions(-)

commit 70d4510
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Oct 9 16:05:31 2001 +0000

    compile fixes for real osen ;)

 nq/source/sys_wind.c |   12 +++++-------
 1 file changed, 5 insertions(+), 7 deletions(-)

commit 7a78922
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Oct 9 15:44:34 2001 +0000

    automake 1.4 does /not/ like whitespace before a variable definition

 nq/source/Makefile.am |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 3650805
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Oct 8 05:54:46 2001 +0000

    QFPLUGIN now does the __declspec stuff and all plugins now use it on their
    plgin info function. doesn't actually /work/ yet :(

 include/QF/plugin.h            |   10 +++++++++-
 libs/audio/cd/cd_linux.c       |    2 +-
 libs/audio/cd/cd_null.c        |    2 +-
 libs/audio/cd/cd_sdl.c         |    2 +-
 libs/audio/cd/cd_win.c         |    2 +-
 libs/audio/cd/cd_xmms.c        |    2 +-
 libs/audio/renderer/snd_dma.c  |    2 +-
 libs/audio/renderer/snd_null.c |    2 +-
 libs/audio/targets/snd_disk.c  |    2 +-
 libs/audio/targets/snd_null.c  |    2 +-
 libs/audio/targets/snd_oss.c   |    2 +-
 libs/audio/targets/snd_sdl.c   |    2 +-
 libs/audio/targets/snd_sgi.c   |    2 +-
 libs/audio/targets/snd_sun.c   |    2 +-
 libs/audio/targets/snd_win.c   |    2 +-
 libs/console/client.c          |    2 +-
 libs/console/server.c          |    2 +-
 17 files changed, 25 insertions(+), 17 deletions(-)

commit d4ad0cd
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Oct 8 05:52:56 2001 +0000

    whitespace

 configure.ac |    5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 6eb4958
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Oct 8 04:24:27 2001 +0000

    don't attempt to build xmms support in mingw

 configure.ac |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 3a366f4
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Oct 8 03:46:44 2001 +0000

    break out the backtrace code from PR_RunError into PR_DumpState and use
    PR_DumpState instead of PR_RunError in seg_fault_handler so we get both a
    progs trace /and/ a core file (ulimit allowing)

 include/QF/progs.h              |    2 ++
 libs/gamecode/engine/pr_debug.c |   67 ++++++++++++++++++++++++---------------
 libs/gamecode/engine/pr_edict.c |    1 +
 libs/gamecode/engine/pr_exec.c  |   16 +++-------
 qw/source/sv_progs.c            |    2 +-
 5 files changed, 49 insertions(+), 39 deletions(-)

commit c7d1f96
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Oct 8 03:41:23 2001 +0000

    INSTALL:
    	move the bootstrap comment to where people are more likely to notice it
    bootstrap:
    	hopefully put the auto*/libtool commands in the right order
    configure.ac:
    	make enable/disable help messages less confusing

 INSTALL      |    5 +++--
 bootstrap    |    2 +-
 configure.ac |    4 ++--
 3 files changed, 6 insertions(+), 5 deletions(-)

commit 5b8aca0
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Oct 7 18:45:23 2001 +0000

    diff snr--

 nq/source/sys_sdl.c    |    8 ++++----
 qw/source/cl_sys_sdl.c |   24 +++++++++++-------------
 2 files changed, 15 insertions(+), 17 deletions(-)

commit 2f8efd7
Author: Chris Ison <cisos@bigpond.net.au>
Date:   Sun Oct 7 12:45:47 2001 +0000

    changes to get mingw32 sw clients to compile under cygwin

 configure.ac                 |    5 +-
 libs/audio/targets/snd_win.c |    7 ++
 nq/source/Makefile.am        |    7 +-
 nq/source/sys_wind.c         |  153 ++++++++----------------------------------
 4 files changed, 42 insertions(+), 130 deletions(-)

commit 757a0f6
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Oct 6 22:57:54 2001 +0000

    fix a missing #ifdef HAVE_VIDMODE

 libs/video/targets/context_x11.c |    2 ++
 1 file changed, 2 insertions(+)

commit ef0e0a1
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Oct 6 05:32:35 2001 +0000

    nukage obsoletage

 nq/source/sys_unixd.c |   56 -------------------------------------------------
 1 file changed, 56 deletions(-)

commit 356492f
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Oct 6 04:48:52 2001 +0000

    don't convert float test epxressions for --id and fix a typo in an error
    message for !expr

 tools/qfcc/source/expr.c |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 791232e
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Oct 6 03:05:33 2001 +0000

    whitespace and {}s

 nq/source/pr_cmds.c |   10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit 24e80b2
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sat Oct 6 01:14:23 2001 +0000

    Whitespace. Hiding commented out code is bad.

 libs/video/renderer/gl/gl_sky.c |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 963c759
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Oct 6 01:07:24 2001 +0000

    clean up zlib checking a little. this should fix HAVE_ZLIB getting defined
    when it shouldn't be

 configure.ac |   52 ++++++++++++++++++++++++++++------------------------
 1 file changed, 28 insertions(+), 24 deletions(-)

commit d657a59
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sat Oct 6 00:39:22 2001 +0000

    Clean up extern functions, update noise_diamondsquare to match LordHavoc's fractalnoise.

 include/QF/GL/qf_noisetextures.h         |   36 +++++++++++++++
 libs/video/renderer/gl/gl_dyn_textures.c |   20 ++++----
 libs/video/renderer/gl/noisetextures.c   |   74 ++++++++++++++++++------------
 3 files changed, 90 insertions(+), 40 deletions(-)

commit 8afd4a8
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sat Oct 6 00:31:57 2001 +0000

    Revert an optimization that impacts legibility more than performance.

 libs/video/renderer/gl/gl_sky_clip.c |   36 ++++++++++++----------------------
 1 file changed, 12 insertions(+), 24 deletions(-)

commit 7813b9c
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Oct 5 21:34:12 2001 +0000

    fix for woody systems from _Muz_ with a tweek to make the libtoolize version
    check more general.

 bootstrap |   15 +++++++++++++++
 1 file changed, 15 insertions(+)

commit 7794ace
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Oct 5 21:09:48 2001 +0000

    clean up args for execvp

 libs/audio/cd/cd_xmms.c |    8 +-------
 1 file changed, 1 insertion(+), 7 deletions(-)

commit 042a036
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Oct 5 20:29:55 2001 +0000

    pass through indent and then clean up after some of indent's insanity

 libs/audio/cd/cd_xmms.c |  258 ++++++++++++++++++++++++++---------------------
 1 file changed, 145 insertions(+), 113 deletions(-)

commit aa5c52d
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Oct 5 20:16:22 2001 +0000

    cat /usr/share/aclocal/xmms.m4 >> acinclude.m4 for those without xmms.m4

 acinclude.m4 |  148 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 148 insertions(+)

commit 936b70f
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Oct 5 20:06:48 2001 +0000

    remove dependency on net_socket so cd_xmms works with nq as well as qw. Seems
    to cause alsa some grief which is rather suprising as file decriptor counts
    should have taken care of that nicely.

 libs/audio/cd/cd_xmms.c |    7 ++++---
 1 file changed, 4 insertions(+), 3 deletions(-)

commit 44fc52b
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Oct 5 19:52:56 2001 +0000

    move the xmms command from cd.c to cd_xmms.c and have the cd command always
    available

 libs/audio/cd.c         |   16 ----------------
 libs/audio/cd/cd_xmms.c |   14 ++++++++++++++
 2 files changed, 14 insertions(+), 16 deletions(-)

commit 43ab73f
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Fri Oct 5 19:43:29 2001 +0000

    Make cvs blissfully unaware of nq-server.

 nq/source/.gitignore |    1 +
 1 file changed, 1 insertion(+)

commit 2080ae7
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Fri Oct 5 19:42:17 2001 +0000

    Fix stamp ignorance.

 tools/qfcc/include/.gitignore |    3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit a39ccf4
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Oct 5 19:36:35 2001 +0000

    XMMS support from _Muz_ (Alexis Paul Musgrave <muz@cwcom.net>)

 configure.ac              |   20 ++
 libs/audio/Makefile.am    |    2 +-
 libs/audio/cd.c           |   20 ++
 libs/audio/cd/Makefile.am |   10 +-
 libs/audio/cd/cd_xmms.c   |  442 +++++++++++++++++++++++++++++++++++++++++++++
 5 files changed, 491 insertions(+), 3 deletions(-)

commit a220f5d
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Oct 5 19:21:23 2001 +0000

    isDedicted fixes

 nq/source/host.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 9daba0e
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Fri Oct 5 19:01:57 2001 +0000

    GL string and character rendering speed up and clean up.

 libs/video/renderer/gl/gl_draw.c |   73 ++++++++++++++++++++++++++++++++------
 1 file changed, 62 insertions(+), 11 deletions(-)

commit 72b198d
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Fri Oct 5 18:55:40 2001 +0000

    Minor cleanup.

 libs/video/renderer/gl/gl_warp.c |   13 +++++--------
 1 file changed, 5 insertions(+), 8 deletions(-)

commit b2d8d0f
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Oct 5 16:08:07 2001 +0000

    nq-server seems to work now (mostly). got some issues with things like
    "+map start" on the command line being ignored.

 nq/source/sv_ded.c    |    7 +++++++
 nq/source/sys_unixd.c |    1 -
 2 files changed, 7 insertions(+), 1 deletion(-)

commit 4937ad6
Author: Adam Olsen <rhamph@gmail.com>
Date:   Fri Oct 5 09:51:21 2001 +0000

    - some changes to snd_win.c that will hopefully bring it closer to
      operation

 libs/audio/targets/snd_win.c |   49 +++++++++++++++++++++++++++++++++++++++---
 1 file changed, 46 insertions(+), 3 deletions(-)

commit 0785610
Author: Adam Olsen <rhamph@gmail.com>
Date:   Thu Oct 4 19:11:39 2001 +0000

    - fix a little mistake in SV_PrintToClient that'd cause it to
      segfault if your first call was with "".  Probably could cause
      crashes too
    - add a string.c file to libQFutil, with a Q_strcasestr function,
      which strcasestr is defined to if it's not already defined.  (we'd
      get that with glibc if we defined __USE_GNU, but we don't)
    - make client_t and SV_ExtractFromUserinfo both use NAME_MAX for
      their name arrays, instead of 32 for one and 80 for the other
    - rewrite almost all of SV_ExtractFromUserinfo's name handling.
      - \r, \n, and \t are all converted to spaces
      - leading/trailing spaces are stripped
      - consecutive spaces are reduced to a single space
      - empty names are considered bad
      - user-* nicks are considered bad (unless forced to them)
      - a name containing console or admin is considered bad
      - a name that already exists is considered bad
      - if they have a bad name it gets forced to user-%d, where %d is
        their userid
      - netname in the progs is now updated properly
      - name changes are always reported unless it's the initial setting,
        rather than only if they're full connected and not a spectator
      - finally, if the name change fails (info string exceeded), give
        them the boot.  (before this was only done for duplicate names)
    
    That's about it :)

 include/QF/Makefile.am |   14 ++---
 include/QF/string.h    |   34 +++++++++++
 include/compat.h       |    4 ++
 libs/util/Makefile.am  |    4 +-
 libs/util/string.c     |   55 ++++++++++++++++++
 qw/include/server.h    |    3 +-
 qw/source/sv_main.c    |  147 ++++++++++++++++++++++++------------------------
 qw/source/sv_send.c    |    2 +-
 8 files changed, 178 insertions(+), 85 deletions(-)

commit cd9832d
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Oct 3 22:25:24 2001 +0000

    hey, nq-server works until you connect :)

 nq/source/console.c  |    8 ++++++++
 nq/source/sv_model.c |    4 ++--
 2 files changed, 10 insertions(+), 2 deletions(-)

commit b2852ef
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Wed Oct 3 21:38:54 2001 +0000

    Clean up TODO a bit, make gitignore actually ignore all generated files...

 TODO               |    9 +++++----
 include/.gitignore |    3 +--
 2 files changed, 6 insertions(+), 6 deletions(-)

commit 82338f9
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Oct 3 21:37:20 2001 +0000

    shutdown the console

 nq/source/console.c |    5 +++++
 nq/source/host.c    |    1 +
 2 files changed, 6 insertions(+)

commit 1929797
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Oct 3 21:25:43 2001 +0000

    get nq-server so it runs. part of this involved renaming cl_warncmd to
    cmd_warncmd

 include/QF/cmd.h      |    2 +-
 libs/util/cmd.c       |    8 +++++---
 nq/source/Makefile.am |    1 +
 nq/source/cl_main.c   |    2 --
 nq/source/console.c   |    5 +++++
 nq/source/host.c      |   17 +++++++----------
 nq/source/sv_ded.c    |    3 +++
 nq/source/sys_unix.c  |    8 +++++---
 nq/source/sys_unixd.c |   25 ++++++++++++++++---------
 qw/include/client.h   |    1 -
 qw/source/cl_main.c   |    4 +---
 qw/source/cl_parse.c  |    6 +++---
 qw/source/sv_ccmds.c  |    3 ---
 13 files changed, 47 insertions(+), 38 deletions(-)

commit f2cc8d9
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Oct 3 21:24:52 2001 +0000

    fix a seg when the buffer wraps

 libs/console/buffer.c |   18 +++++++++---------
 1 file changed, 9 insertions(+), 9 deletions(-)

commit c5bb4e9
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Oct 3 20:04:17 2001 +0000

    d'oh, I thought I learnt that lesson in libs/video/renderer/sw :/

 nq/source/Makefile.am |   14 ++++++--------
 1 file changed, 6 insertions(+), 8 deletions(-)

commit 360d64c
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Oct 3 19:52:51 2001 +0000

    put nq-server into the rpms

 RPM/quakeforge.spec.in |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit bbc83c3
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Oct 3 19:52:03 2001 +0000

    hey, it segs, but who cares? so does nq-glx -dedicated :P

 configure.ac          |    2 +-
 nq/source/Makefile.am |   31 ++++---
 nq/source/sv_ded.c    |  239 +++++++++++++++++++++++++++++++++++++++++++------
 nq/source/sv_model.c  |   74 +++++++++++++++
 nq/source/sv_user.c   |    1 -
 nq/source/sys_unixd.c |    9 +-
 qw/source/Makefile.am |    6 +-
 7 files changed, 315 insertions(+), 47 deletions(-)

commit e0a1947
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Oct 3 19:05:45 2001 +0000

    fix a typo that prevented --with-servers working

 configure.ac |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a1d2cf3
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Oct 3 17:50:36 2001 +0000

    duplicate file name cleanup and make dist works

 libs/audio/renderer/Makefile.am      |   17 ++++++++++++-----
 libs/models/alias/Makefile.am        |   29 ++++++++++++++++++++--------
 libs/models/brush/Makefile.am        |   33 ++++++++++++++++++++++----------
 libs/models/sprite/Makefile.am       |   29 ++++++++++++++++++++--------
 libs/util/Makefile.am                |   20 ++++++++++---------
 libs/video/renderer/gl/Makefile.am   |    2 +-
 libs/video/renderer/sw/Makefile.am   |    3 +--
 libs/video/renderer/sw32/Makefile.am |    2 +-
 libs/video/targets/Makefile.am       |   35 +++++++++++++++++++++-------------
 nq/source/Makefile.am                |   12 ++++++++----
 qw/source/Makefile.am                |   21 +++++++++++++-------
 11 files changed, 135 insertions(+), 68 deletions(-)

commit 630e064
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Oct 3 17:25:21 2001 +0000

    -dedicated fixes

 nq/source/host.c     |    9 ++++-----
 nq/source/sys_unix.c |    2 ++
 2 files changed, 6 insertions(+), 5 deletions(-)

commit 87e59c0
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Oct 3 14:59:43 2001 +0000

    finally got sw's Makefile.am working too

 libs/video/renderer/sw/Makefile.am |   35 +++++++++++++++++++++--------------
 1 file changed, 21 insertions(+), 14 deletions(-)

commit 9aca464
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Oct 3 14:49:14 2001 +0000

    ok, sw32's Makefile.am now works with both 1.4 and 1.5

 libs/video/renderer/sw32/Makefile.am |   14 ++++++++------
 1 file changed, 8 insertions(+), 6 deletions(-)

commit 1f87234
Author: Adam Olsen <rhamph@gmail.com>
Date:   Wed Oct 3 03:42:28 2001 +0000

    - change MAX_MASTERS from 8 to 32, since prozac has 9 of them

 qw/include/server.h |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 95d3600
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Oct 3 02:51:30 2001 +0000

    fix skybox/skydom map vis issues. I hope this works on all drivers.

 TODO                                 |    2 +-
 configure.ac                         |    2 +-
 include/QF/GL/qf_funcs_list.h        |    2 +-
 libs/video/renderer/gl/gl_rsurf.c    |   19 ++--
 libs/video/renderer/gl/gl_sky.c      |   12 ++-
 libs/video/renderer/gl/gl_sky_clip.c |  180 +++++++++++++++++++++-------------
 6 files changed, 130 insertions(+), 87 deletions(-)

commit c373550
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Oct 3 00:07:01 2001 +0000

    hey, I think this one is going to work!!!

 libs/video/renderer/gl/Makefile.am |   11 +++++------
 1 file changed, 5 insertions(+), 6 deletions(-)

commit 9c6955f
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Tue Oct 2 23:53:07 2001 +0000

    Fix missing include.

 libs/util/hash.c |    1 +
 1 file changed, 1 insertion(+)

commit 40d0490
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Oct 2 23:17:25 2001 +0000

    add Hash_GetList to get a list of elements in the hash table (unsorted)

 include/QF/hash.h |    6 ++++++
 libs/util/hash.c  |   29 +++++++++++++++++++++++++++++
 2 files changed, 35 insertions(+)

commit 081a44e
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Oct 2 23:13:54 2001 +0000

    this works a smidge better

 libs/video/renderer/gl/Makefile.am |    9 ++++++---
 1 file changed, 6 insertions(+), 3 deletions(-)

commit b866bca
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Oct 2 22:36:08 2001 +0000

    seems automake isn't too happy about nested conditionals and main vars

 configure.ac                       |    1 +
 libs/video/renderer/sw/Makefile.am |   13 ++++++-------
 2 files changed, 7 insertions(+), 7 deletions(-)

commit 256f6e9
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Tue Oct 2 22:02:10 2001 +0000

    Broken attempt at cleaning up Makefile.am's, for taniwha's perusal.

 libs/video/renderer/gl/Makefile.am   |   20 +++++++-----------
 libs/video/renderer/sw/Makefile.am   |   38 ++++++++++++++--------------------
 libs/video/renderer/sw32/Makefile.am |   15 +++++---------
 3 files changed, 28 insertions(+), 45 deletions(-)

commit 4699bf6
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Oct 2 21:14:11 2001 +0000

    files under inclue/QF are not allowed to include files from include (eg,
    including config.h is a nono).

 include/QF/GL/defines.h           |    8 --------
 include/QF/GL/extensions.h        |    7 -------
 include/QF/GL/qf_rlight.h         |    8 --------
 include/QF/GL/qf_rmain.h          |    8 --------
 include/QF/GL/qf_rsurf.h          |    8 --------
 include/QF/GL/qf_screen.h         |    8 --------
 include/QF/GL/qf_sky.h            |    8 --------
 include/QF/GL/qf_textures.h       |    8 --------
 include/QF/GL/qf_vid.h            |    8 --------
 include/QF/GL/types.h             |    8 --------
 libs/video/renderer/gl/gl_funcs.c |    4 ++++
 11 files changed, 4 insertions(+), 79 deletions(-)

commit 7801aac
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Oct 2 20:21:23 2001 +0000

    couple of updates

 TODO |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 450dd9f
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Tue Oct 2 19:43:25 2001 +0000

    5.2 time and fps in demo output, for both nq and qw.

 nq/source/cl_demo.c |    2 +-
 qw/source/cl_demo.c |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 922895e
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Oct 2 19:33:31 2001 +0000

    comment out unused var

 tools/qwaq/main.qc |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 8c6e545
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Oct 2 19:17:18 2001 +0000

    type b of not.i is void, not integer

 libs/gamecode/engine/pr_opcode.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 67635e9
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Oct 2 19:03:28 2001 +0000

    fix a d'oh in the param/return type checking

 tools/qfcc/source/expr.c |    2 ++
 1 file changed, 2 insertions(+)

commit dcb51dc
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Oct 2 18:55:52 2001 +0000

    expr.h:
    	get_type and extract_type prototypes and add extern for type_names
    emit.c:
    	use extract_type instead of get_type
    expr.c:
    	get_type now returns the type pointer rather than the qc type enum.
    	extract_type uses get_type to return the qc type enum.
    	make type_names global
    	use get_type instead of ex_expr/ex_def to cover more cases
    	clean up function call/return processing as a result of get_type
    pr_opcode.c:
    	use opcode_priority_type_table_ab when var_c is null and a minor
    	cleanup in PR_Opcode_Find

 tools/qfcc/include/expr.h     |    4 +-
 tools/qfcc/source/emit.c      |    4 +-
 tools/qfcc/source/expr.c      |   86 +++++++++++++++++++----------------------
 tools/qfcc/source/pr_opcode.c |    8 +++-
 4 files changed, 51 insertions(+), 51 deletions(-)

commit fcdc975
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Oct 2 18:12:27 2001 +0000

    fix a thinko that prevented the cd command from being added

 libs/audio/cd.c |    5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

commit 9c778bb
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Tue Oct 2 09:11:20 2001 +0000

    Minor tweak of lightning sparks and teleport appearances, fix brief breakage of gl_sky_clip 1 & 2 with skyboxes.

 libs/video/renderer/gl/gl_dyn_part.c |   37 ++++++++++++----------------------
 libs/video/renderer/gl/gl_sky_clip.c |   24 +++++++++++-----------
 2 files changed, 25 insertions(+), 36 deletions(-)

commit 9c21edc
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Tue Oct 2 06:58:44 2001 +0000

    Whitespace.

 libs/video/renderer/gl/gl_sky_clip.c |   54 ++++++++++++++++++++--------------
 1 file changed, 32 insertions(+), 22 deletions(-)

commit 820fcbb
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Tue Oct 2 06:13:22 2001 +0000

    R_Mirror-related cleanups, and some whitespace.

 include/QF/GL/qf_rsurf.h          |    1 +
 libs/video/renderer/gl/gl_rmain.c |   21 +--------------------
 2 files changed, 2 insertions(+), 20 deletions(-)

commit ac0d273
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Oct 2 05:43:52 2001 +0000

    get the gl packages to be made (HAVE_GLX and HAVE_SGL died)

 RPM/quakeforge.spec.in |   36 ++++++------------------------------
 1 file changed, 6 insertions(+), 30 deletions(-)

commit 0dbb023
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Oct 2 05:23:46 2001 +0000

    svga and renderer_sw libs aren't installed any more

 RPM/quakeforge.spec.in |    9 ---------
 1 file changed, 9 deletions(-)

commit 86f326c
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Oct 2 05:23:17 2001 +0000

    remove an ancient clean target that's no longer needed

 libs/Makefile.am |    3 ---
 1 file changed, 3 deletions(-)

commit 32643c3
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Oct 2 04:55:05 2001 +0000

    the forced libz.so link doesn't work well with libtool, so if X11 has an old
    libz.a, just give up on compression support making a lot of noise in the
    process.

 configure.ac |   48 ++++++++++++++++++++----------------------------
 1 file changed, 20 insertions(+), 28 deletions(-)

commit 362e4ee
Author: Adam Olsen <rhamph@gmail.com>
Date:   Tue Oct 2 03:24:36 2001 +0000

    - make the fallback console use stdin
    - don't draw scores overlay if the screen is less than 244 wide.

 libs/console/console.c |    8 ++++++++
 qw/source/sbar.c       |    4 ++++
 2 files changed, 12 insertions(+)

commit 9102fce
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Oct 2 02:35:33 2001 +0000

    remove debug info

 configure.ac |    1 -
 1 file changed, 1 deletion(-)

commit 284da34
Author: Chris Ison <cisos@bigpond.net.au>
Date:   Tue Oct 2 01:53:26 2001 +0000

    fixes to get qf to compile cygwin->mingw32

 configure.ac |   14 +++++++++-----
 1 file changed, 9 insertions(+), 5 deletions(-)

commit 5e6f77c
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Tue Oct 2 01:48:51 2001 +0000

    Instead of glEnable/glDisable (GL_ALPHA_TEST) pairs for every sprite rendered, let's do it once for the entire sprite loop. Minor hit when there are no sprites, but 2+ it's a gain. Better worst case, rather than better peak performance.

 libs/video/renderer/gl/gl_rmain.c |    5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

commit 63ac10d
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Tue Oct 2 00:01:05 2001 +0000

    Clean up glDepthFunc and glDepthRange so it's properly initted, and not set needlessly every frame.

 libs/video/renderer/gl/gl_rmain.c |   14 +++++---------
 1 file changed, 5 insertions(+), 9 deletions(-)

commit f5c6312
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Oct 1 22:52:38 2001 +0000

    --with-server is now --with-servers and works like --with-clients (master,
    nq and qw with nq defaulting to no). add DISK to SOUND_TYPES output. try to
    fix AR gaff

 configure.ac |   55 +++++++++++++++++++++++++++++++++++++++++++++++--------
 1 file changed, 47 insertions(+), 8 deletions(-)

commit 55b2a41
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Oct 1 21:56:12 2001 +0000

    fix the capitolisation of nq_server_SOURCES

 nq/source/Makefile.am |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 4b3c4e1
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Mon Oct 1 21:52:05 2001 +0000

    Whitespace.

 libs/video/renderer/gl/gl_rmain.c    |    6 +++---
 libs/video/renderer/gl/gl_sky_clip.c |   10 +++++-----
 2 files changed, 8 insertions(+), 8 deletions(-)

commit fce4b90
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Mon Oct 1 21:50:35 2001 +0000

    Fix double joystick init in sdl targets.

 libs/video/targets/in_sdl.c |    2 --
 1 file changed, 2 deletions(-)

commit 72c16b8
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Oct 1 21:07:00 2001 +0000

    use HAVE_DDRAW_H and HAVE_DSOUND_H rather than arguing with WildCode over
    whether we should include those headers or not ;)

 include/winquake.h |   44 +++++++++++++++++++++++---------------------
 1 file changed, 23 insertions(+), 21 deletions(-)

commit 27d302f
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Oct 1 20:49:38 2001 +0000

    bootstrap:
    	make it so bootstrap can be run out of dir (like configure)
    configure.ac:
    	evil hack to get $AR working with older libtool (1.3)

 bootstrap    |    1 +
 configure.ac |   16 ++++++++++++++++
 2 files changed, 17 insertions(+)

commit 20f702b
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Oct 1 18:02:46 2001 +0000

    fix out-of-tree builds for asm (this also sets up ASFLAGS more correctly)

 configure.ac |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 97db77c
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Oct 1 17:18:00 2001 +0000

    run aclocal before automake for automake 1.5

 bootstrap |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a471417
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Oct 1 16:09:06 2001 +0000

    update the screen directly when printing rather than using C_DrawOutput.
    Resizing still seems to work updates are much faster.

 libs/console/server.c |   21 ++++++++++++++-------
 1 file changed, 14 insertions(+), 7 deletions(-)

commit 77cf943
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Oct 1 06:49:59 2001 +0000

    getting closer to a properly resizing console

 libs/console/server.c |   23 ++++++++++++++---------
 1 file changed, 14 insertions(+), 9 deletions(-)

commit 7fcdffb
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Oct 1 01:51:36 2001 +0000

    mirror the chase and watervis serverinfo keys in the cl struct so
    Info_ValueForKey doesn't get hit so often.

 qw/include/client.h  |    4 ++++
 qw/source/cl_cam.c   |    6 ++----
 qw/source/cl_input.c |    2 +-
 qw/source/cl_main.c  |    8 +++++++-
 qw/source/cl_parse.c |    5 +++++
 qw/source/cl_view.c  |    3 +--
 6 files changed, 20 insertions(+), 8 deletions(-)

commit e9c420c
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Oct 1 00:20:57 2001 +0000

    nuke SV_RecursiveHullCheck from cl_cam.c and use PM_RecursiveHullCheck
    instead. Also add prototype for PM_RecursiveHullCheck to pmove.h

 qw/include/pmove.h |    2 +
 qw/source/cl_cam.c |  134 +---------------------------------------------------
 2 files changed, 4 insertions(+), 132 deletions(-)

commit f505e86
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 30 23:24:53 2001 +0000

    fixes for rh 7.1

 libs/audio/cd/Makefile.am      |    1 +
 libs/audio/targets/Makefile.am |    1 +
 nq/source/Makefile.am          |    1 +
 qw/source/Makefile.am          |    1 +
 4 files changed, 4 insertions(+)

commit edea800
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Sun Sep 30 22:59:28 2001 +0000

    Okay, WildCode, check this.

 configure.ac |  130 +++++++++++++++++++++++++++++++---------------------------
 1 file changed, 69 insertions(+), 61 deletions(-)

commit b0dc193
Author: Chris Ison <cisos@bigpond.net.au>
Date:   Sun Sep 30 13:05:20 2001 +0000

    more compile under cygwin patches

 configure.ac                  |    5 +++--
 include/winquake.h            |    8 ++++++--
 libs/audio/cd/cd_win.c        |    2 ++
 libs/audio/renderer/snd_dma.c |   14 ++++++++++----
 libs/audio/renderer/snd_mix.c |    9 +++++++++
 5 files changed, 30 insertions(+), 8 deletions(-)

commit 53529ae
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 30 05:59:33 2001 +0000

    output window now updates when resizing, but it doesn't /quit/ work properly
    (issue with starting line).

 include/QF/console.h     |   21 +++++++-
 libs/console/Makefile.am |    2 +-
 libs/console/buffer.c    |  122 ++++++++++++++++++++++++++++++++++++++++++++++
 libs/console/console.c   |    1 +
 libs/console/server.c    |   60 ++++++++++++++++++-----
 5 files changed, 192 insertions(+), 14 deletions(-)

commit 5e82c0c
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 30 03:58:24 2001 +0000

    correct a spelling error in a comment

 qw/source/cl_cam.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 60107fd
Author: Chris Ison <cisos@bigpond.net.au>
Date:   Sat Sep 29 09:39:27 2001 +0000

    changes to get cygwin to compile server. still debugging result

 configure.ac        |   20 +++++++++++++++++++-
 libs/util/quakefs.c |    4 ++++
 2 files changed, 23 insertions(+), 1 deletion(-)

commit 138a4a1
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Sep 29 04:24:04 2001 +0000

    rename console_t to old_console_t in preparation for a better version and
    temporarily disable the client console plugin as it currently doesn't
    compile.

 include/QF/console.h     |    8 ++++----
 libs/console/Makefile.am |    6 +++---
 nq/source/console.c      |    8 ++++----
 qw/source/console.c      |    8 ++++----
 4 files changed, 15 insertions(+), 15 deletions(-)

commit e12f1dc
Author: Adam Olsen <rhamph@gmail.com>
Date:   Fri Sep 28 23:34:49 2001 +0000

    - boundscheck static progs strings, and give proper errors for that
      and dynamic strings if it fails.

 libs/gamecode/engine/pr_strings.c |    7 ++++++-
 1 file changed, 6 insertions(+), 1 deletion(-)

commit f0244be
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Sep 28 23:10:15 2001 +0000

    update the status bar on resize

 libs/console/server.c |   27 +++++++++++++++++++++++----
 1 file changed, 23 insertions(+), 4 deletions(-)

commit 9f612ec
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Sep 28 22:07:26 2001 +0000

    this fixes the rendering of the player when not in chasecam mode. not sure
    what it does for chasecam mode.

 qw/source/cl_ents.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit cca3e4c
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Sep 28 21:39:13 2001 +0000

    fix a coupld d'ohs for pr_checkextensions

 nq/source/sv_progs.c |    4 ++--
 qw/source/sv_progs.c |    4 ++--
 2 files changed, 4 insertions(+), 4 deletions(-)

commit 5eb35f0
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Sep 28 21:15:48 2001 +0000

    fix a tiny case&paste (?) error that prevented players from being drawn.

 qw/source/cl_cam.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c7031b2
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Sep 28 16:54:31 2001 +0000

    move vid_fullcreen definition from *.c to vid.c and declaration from
    context_x11.h to vid.h and remove all extern decls from *.c

 include/QF/vid.h                 |    2 ++
 include/context_x11.h            |    1 -
 libs/video/targets/context_x11.c |    1 -
 libs/video/targets/in_common.c   |    3 +--
 libs/video/targets/vid.c         |    1 +
 libs/video/targets/vid_fbdev.c   |    1 -
 libs/video/targets/vid_mgl.c     |    1 -
 libs/video/targets/vid_sdl.c     |    1 -
 libs/video/targets/vid_sdl32.c   |    1 -
 libs/video/targets/vid_sgl.c     |    1 -
 libs/video/targets/vid_svgalib.c |    2 --
 11 files changed, 4 insertions(+), 11 deletions(-)

commit f1454ae
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Sep 28 16:53:11 2001 +0000

    include console.h

 nq/source/sys_win.c |    1 +
 1 file changed, 1 insertion(+)

commit 4a8eb5e
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Sep 28 16:50:35 2001 +0000

    more namespace issues

 qw/source/cl_sys_win.c |    2 ++
 1 file changed, 2 insertions(+)

commit 514a4a5
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Sep 28 16:29:34 2001 +0000

    fix a win32 namespace issue

 include/winquake.h     |    2 ++
 qw/source/cl_sys_sdl.c |    7 -------
 2 files changed, 2 insertions(+), 7 deletions(-)

commit 8e27422
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Sep 28 16:03:45 2001 +0000

    partial fixes for mingw cross builds. still have issues with ar :(

 configure.ac           |   10 +++++++++-
 libs/console/server.c  |    8 ++++++--
 qw/source/cl_sys_sdl.c |    9 ++++++++-
 3 files changed, 23 insertions(+), 4 deletions(-)

commit 30f6d2f
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Sep 28 15:29:56 2001 +0000

    fix a case and paste error

 libs/util/sys.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 89fbacd
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Sep 28 15:29:22 2001 +0000

    make sv_progs CVAR_NONE rather thatn CVAR_ROM so it can be set in server.cfg.

 qw/source/sv_progs.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d632433
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Fri Sep 28 10:31:20 2001 +0000

    Aaaaaaand, it's done!
    Special note: I hope to never do this again. :)

 bootstrap                          |    2 +-
 configure.ac                       |   25 ++++++++++++++----------
 libs/audio/cd/Makefile.am          |   14 ++++++-------
 libs/audio/renderer/Makefile.am    |    6 ++----
 libs/audio/targets/Makefile.am     |   22 ++++++++++-----------
 libs/console/Makefile.am           |   33 ++++++++++++-------------------
 libs/gamecode/builtins/Makefile.am |    8 +++-----
 libs/gamecode/engine/Makefile.am   |    9 ++++-----
 libs/util/Makefile.am              |   38 +++++++++++++++++-------------------
 9 files changed, 71 insertions(+), 86 deletions(-)

commit 873521a
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Fri Sep 28 09:49:09 2001 +0000

    Makefile cleanup continues. Models.

 libs/models/Makefile.am        |   69 ++++++++++++++++------------------------
 libs/models/alias/Makefile.am  |   25 +++++----------
 libs/models/brush/Makefile.am  |   30 ++++++-----------
 libs/models/sprite/Makefile.am |   25 +++++----------
 4 files changed, 54 insertions(+), 95 deletions(-)

commit c78edb3
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Sep 28 07:51:15 2001 +0000

    Apply Seth Galbraith's <sgalbrai@linknet.kitsap.lib.wa.us> chasecam patch

 nq/source/cl_cam.c   |  189 ++++++++++++++++++++++++----
 nq/source/cl_input.c |   17 +++
 qw/include/cl_cam.h  |    2 +
 qw/source/cl_cam.c   |  343 ++++++++++++++++++++++++++++++++++++++++++++++++++
 qw/source/cl_ents.c  |   17 ++-
 qw/source/cl_input.c |   18 +++
 qw/source/cl_view.c  |    8 ++
 7 files changed, 567 insertions(+), 27 deletions(-)

commit e892131
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Fri Sep 28 07:41:38 2001 +0000

    Rename gl_libgl to gl_driver, nuke the last of the HAVE_GLX references,
    and default gl_driver to OPENGL32.DLL on Win32.

 include/r_cvar.h                  |    2 +-
 libs/video/renderer/gl/gl_funcs.c |    8 ++++----
 libs/video/renderer/r_cvar.c      |   11 ++++++++---
 libs/video/targets/qfgl_ext.c     |   22 ++++++++--------------
 libs/video/targets/vid_3dfxsvga.c |    4 ++--
 libs/video/targets/vid_glx.c      |    4 ++--
 libs/video/targets/vid_wgl.c      |    4 ++--
 7 files changed, 27 insertions(+), 28 deletions(-)

commit 1a3a599
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Sep 28 07:33:46 2001 +0000

    ignore gas2masm

 tools/gas2masm/.gitignore |    1 +
 1 file changed, 1 insertion(+)

commit f442e0d
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Sep 28 07:27:13 2001 +0000

    make gendefs put its rcsid into its generated files

 tools/qfdefs/source/gendefs.c |    1 +
 1 file changed, 1 insertion(+)

commit 7407e4f
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Sep 28 07:09:38 2001 +0000

    and some more

 tools/gas2masm/gas2masm.c         |    2 ++
 tools/qfcc/source/debug.c         |   32 ++++++++++++++++++++++++++++++++
 tools/qfcc/source/emit.c          |   32 ++++++++++++++++++++++++++++++++
 tools/qfcc/source/expr.c          |   32 ++++++++++++++++++++++++++++++++
 tools/qfcc/source/pr_comp.c       |    2 ++
 tools/qfcc/source/pr_def.c        |    2 ++
 tools/qfcc/source/pr_imm.c        |    2 ++
 tools/qfcc/source/pr_opcode.c     |    2 ++
 tools/qfcc/source/qc-lex.l        |   32 ++++++++++++++++++++++++++++++++
 tools/qfcc/source/qc-parse.y      |   32 ++++++++++++++++++++++++++++++++
 tools/qfdefs/source/defs.c        |   32 ++++++++++++++++++++++++++++++++
 tools/qfdefs/source/fix_globals.c |   32 ++++++++++++++++++++++++++++++++
 tools/qfdefs/source/gendefs.c     |   32 ++++++++++++++++++++++++++++++++
 tools/qfdefs/source/qfdefs.c      |   32 ++++++++++++++++++++++++++++++++
 tools/qwaq/builtins.c             |   32 ++++++++++++++++++++++++++++++++
 tools/qwaq/main.c                 |   32 ++++++++++++++++++++++++++++++++
 16 files changed, 362 insertions(+)

commit d0dca76
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Sep 28 06:56:34 2001 +0000

    use this for the top of .c files instead of template.h so we get rcsid info

 doc/template.c |   32 ++++++++++++++++++++++++++++++++
 1 file changed, 32 insertions(+)

commit e9c9c8b
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Fri Sep 28 06:55:27 2001 +0000

    fix up installs for -svga.

 configure.ac                   |    4 +++-
 libs/video/targets/Makefile.am |    2 +-
 2 files changed, 4 insertions(+), 2 deletions(-)

commit b1f4a77
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Sep 28 06:26:31 2001 +0000

    the rcsid commit from hell }:>

 libs/audio/cd.c                          |    3 ++-
 libs/audio/cd/cd_linux.c                 |    3 ++-
 libs/audio/cd/cd_null.c                  |    3 ++-
 libs/audio/cd/cd_sdl.c                   |    3 ++-
 libs/audio/cd/cd_sgi.c                   |    3 ++-
 libs/audio/cd/cd_win.c                   |    3 ++-
 libs/audio/renderer/snd_dma.c            |    3 ++-
 libs/audio/renderer/snd_mem.c            |    3 ++-
 libs/audio/renderer/snd_mix.c            |    3 ++-
 libs/audio/renderer/snd_null.c           |    3 ++-
 libs/audio/snd.c                         |    3 ++-
 libs/audio/targets/snd_alsa_0_5.c        |    3 ++-
 libs/audio/targets/snd_alsa_0_9.c        |    3 ++-
 libs/audio/targets/snd_disk.c            |    3 ++-
 libs/audio/targets/snd_mme.c             |    3 ++-
 libs/audio/targets/snd_null.c            |    3 ++-
 libs/audio/targets/snd_oss.c             |    3 ++-
 libs/audio/targets/snd_sdl.c             |    3 ++-
 libs/audio/targets/snd_sgi.c             |    3 ++-
 libs/audio/targets/snd_sun.c             |    3 ++-
 libs/audio/targets/snd_win.c             |    3 ++-
 libs/console/client.c                    |    3 ++-
 libs/console/complete.c                  |    3 ++-
 libs/console/console.c                   |    3 ++-
 libs/console/inputline.c                 |    3 ++-
 libs/console/list.c                      |    3 ++-
 libs/console/server.c                    |    3 ++-
 libs/gamecode/builtins/pr_cmds.c         |    3 ++-
 libs/gamecode/engine/pr_debug.c          |    3 ++-
 libs/gamecode/engine/pr_edict.c          |    3 ++-
 libs/gamecode/engine/pr_exec.c           |    3 ++-
 libs/gamecode/engine/pr_opcode.c         |   39 ++++++++++++++++++++----------
 libs/gamecode/engine/pr_strings.c        |    3 ++-
 libs/gib/gib.c                           |    3 ++-
 libs/gib/gib_instructions.c              |    3 ++-
 libs/gib/gib_interpret.c                 |    3 ++-
 libs/gib/gib_modules.c                   |    3 ++-
 libs/gib/gib_parse.c                     |    3 ++-
 libs/gib/gib_stack.c                     |    3 ++-
 libs/gib/gib_vars.c                      |    3 ++-
 libs/models/alias/gl_mesh.c              |    3 ++-
 libs/models/alias/gl_model_alias.c       |    3 ++-
 libs/models/alias/model_alias.c          |    3 ++-
 libs/models/alias/sw32_model_alias.c     |    3 ++-
 libs/models/alias/sw_model_alias.c       |    3 ++-
 libs/models/brush/gl_model_brush.c       |    3 ++-
 libs/models/brush/model_brush.c          |    3 ++-
 libs/models/brush/sw32_model_brush.c     |    3 ++-
 libs/models/brush/sw_model_brush.c       |    3 ++-
 libs/models/clip_hull.c                  |    3 ++-
 libs/models/gl_model_fullbright.c        |    3 ++-
 libs/models/model.c                      |    3 ++-
 libs/models/sprite/gl_model_sprite.c     |    3 ++-
 libs/models/sprite/model_sprite.c        |    3 ++-
 libs/models/sprite/sw32_model_sprite.c   |    3 ++-
 libs/models/sprite/sw_model_sprite.c     |    3 ++-
 libs/util/checksum.c                     |    3 ++-
 libs/util/cmd.c                          |    3 ++-
 libs/util/con_print.c                    |    3 ++-
 libs/util/console.c                      |    3 ++-
 libs/util/crc.c                          |    3 ++-
 libs/util/cvar.c                         |    3 ++-
 libs/util/dirent.c                       |    3 ++-
 libs/util/fendian.c                      |    3 ++-
 libs/util/fnmatch.c                      |    3 ++-
 libs/util/hash.c                         |    3 ++-
 libs/util/info.c                         |    3 ++-
 libs/util/link.c                         |    3 ++-
 libs/util/mathlib.c                      |    3 ++-
 libs/util/mdfour.c                       |    3 ++-
 libs/util/msg.c                          |    3 ++-
 libs/util/pcx.c                          |    3 ++-
 libs/util/plugin.c                       |    3 ++-
 libs/util/qargs.c                        |    3 ++-
 libs/util/qendian.c                      |    3 ++-
 libs/util/qfplist.c                      |    3 ++-
 libs/util/quakefs.c                      |    3 ++-
 libs/util/quakeio.c                      |    3 ++-
 libs/util/sizebuf.c                      |    3 ++-
 libs/util/sys.c                          |    3 ++-
 libs/util/tga.c                          |    3 ++-
 libs/util/va.c                           |    3 ++-
 libs/util/ver_check.c                    |    3 ++-
 libs/util/wad.c                          |    3 ++-
 libs/util/zone.c                         |    3 ++-
 libs/video/renderer/gl/gl_draw.c         |    3 ++-
 libs/video/renderer/gl/gl_dyn_fires.c    |    3 ++-
 libs/video/renderer/gl/gl_dyn_lights.c   |    3 ++-
 libs/video/renderer/gl/gl_dyn_part.c     |    3 ++-
 libs/video/renderer/gl/gl_dyn_textures.c |    3 ++-
 libs/video/renderer/gl/gl_funcs.c        |    3 ++-
 libs/video/renderer/gl/gl_graph.c        |    3 ++-
 libs/video/renderer/gl/gl_rmain.c        |    3 ++-
 libs/video/renderer/gl/gl_rmisc.c        |    3 ++-
 libs/video/renderer/gl/gl_rsurf.c        |    3 ++-
 libs/video/renderer/gl/gl_screen.c       |    3 ++-
 libs/video/renderer/gl/gl_skin.c         |    3 ++-
 libs/video/renderer/gl/gl_sky.c          |    3 ++-
 libs/video/renderer/gl/gl_sky_clip.c     |    3 ++-
 libs/video/renderer/gl/gl_textures.c     |    3 ++-
 libs/video/renderer/gl/gl_warp.c         |    3 ++-
 libs/video/renderer/gl/noisetextures.c   |    3 ++-
 libs/video/renderer/r_cvar.c             |    3 ++-
 libs/video/renderer/r_efrag.c            |    3 ++-
 libs/video/renderer/r_ent.c              |    3 ++-
 libs/video/renderer/r_graph.c            |    3 ++-
 libs/video/renderer/r_light.c            |    3 ++-
 libs/video/renderer/r_main.c             |   32 ++++++++++++++++++++++++
 libs/video/renderer/r_part.c             |    3 ++-
 libs/video/renderer/sw/d_edge.c          |    3 ++-
 libs/video/renderer/sw/d_fill.c          |    3 ++-
 libs/video/renderer/sw/d_init.c          |    3 ++-
 libs/video/renderer/sw/d_modech.c        |    3 ++-
 libs/video/renderer/sw/d_part.c          |    3 ++-
 libs/video/renderer/sw/d_polyse.c        |    3 ++-
 libs/video/renderer/sw/d_scan.c          |    3 ++-
 libs/video/renderer/sw/d_sky.c           |    3 ++-
 libs/video/renderer/sw/d_sprite.c        |    3 ++-
 libs/video/renderer/sw/d_surf.c          |    3 ++-
 libs/video/renderer/sw/d_vars.c          |    3 ++-
 libs/video/renderer/sw/d_zpoint.c        |    3 ++-
 libs/video/renderer/sw/draw.c            |    3 ++-
 libs/video/renderer/sw/nonintel.c        |    3 ++-
 libs/video/renderer/sw/screen.c          |    3 ++-
 libs/video/renderer/sw/sw_graph.c        |    3 ++-
 libs/video/renderer/sw/sw_raclip.c       |    3 ++-
 libs/video/renderer/sw/sw_ralias.c       |    3 ++-
 libs/video/renderer/sw/sw_rbsp.c         |    3 ++-
 libs/video/renderer/sw/sw_rdraw.c        |    3 ++-
 libs/video/renderer/sw/sw_redge.c        |    3 ++-
 libs/video/renderer/sw/sw_rmain.c        |    3 ++-
 libs/video/renderer/sw/sw_rmisc.c        |    3 ++-
 libs/video/renderer/sw/sw_rpart.c        |    3 ++-
 libs/video/renderer/sw/sw_rsky.c         |    3 ++-
 libs/video/renderer/sw/sw_rsprite.c      |    3 ++-
 libs/video/renderer/sw/sw_rsurf.c        |    3 ++-
 libs/video/renderer/sw/sw_skin.c         |    3 ++-
 libs/video/renderer/sw32/d_edge.c        |    3 ++-
 libs/video/renderer/sw32/d_fill.c        |    3 ++-
 libs/video/renderer/sw32/d_init.c        |    3 ++-
 libs/video/renderer/sw32/d_modech.c      |    3 ++-
 libs/video/renderer/sw32/d_part.c        |    3 ++-
 libs/video/renderer/sw32/d_polyse.c      |    3 ++-
 libs/video/renderer/sw32/d_scan.c        |    3 ++-
 libs/video/renderer/sw32/d_sky.c         |    3 ++-
 libs/video/renderer/sw32/d_sprite.c      |    3 ++-
 libs/video/renderer/sw32/d_surf.c        |    3 ++-
 libs/video/renderer/sw32/d_vars.c        |    3 ++-
 libs/video/renderer/sw32/d_zpoint.c      |    3 ++-
 libs/video/renderer/sw32/draw.c          |    3 ++-
 libs/video/renderer/sw32/screen.c        |    3 ++-
 libs/video/renderer/sw32/sw32_graph.c    |    3 ++-
 libs/video/renderer/sw32/sw32_raclip.c   |    3 ++-
 libs/video/renderer/sw32/sw32_ralias.c   |    3 ++-
 libs/video/renderer/sw32/sw32_rbsp.c     |    3 ++-
 libs/video/renderer/sw32/sw32_rdraw.c    |    3 ++-
 libs/video/renderer/sw32/sw32_redge.c    |    3 ++-
 libs/video/renderer/sw32/sw32_rmain.c    |    3 ++-
 libs/video/renderer/sw32/sw32_rmisc.c    |    3 ++-
 libs/video/renderer/sw32/sw32_rpart.c    |    3 ++-
 libs/video/renderer/sw32/sw32_rsky.c     |    3 ++-
 libs/video/renderer/sw32/sw32_rsprite.c  |    3 ++-
 libs/video/renderer/sw32/sw32_rsurf.c    |    3 ++-
 libs/video/renderer/sw32/sw32_skin.c     |    3 ++-
 libs/video/targets/context_x11.c         |    3 ++-
 libs/video/targets/dga_check.c           |    3 ++-
 libs/video/targets/in_common.c           |    3 ++-
 libs/video/targets/in_event.c            |    3 ++-
 libs/video/targets/in_fbdev.c            |    3 ++-
 libs/video/targets/in_null.c             |    3 ++-
 libs/video/targets/in_sdl.c              |    2 ++
 libs/video/targets/in_svgalib.c          |    3 ++-
 libs/video/targets/in_win.c              |    3 ++-
 libs/video/targets/in_x11.c              |    3 ++-
 libs/video/targets/joy.c                 |    3 ++-
 libs/video/targets/joy_linux.c           |    3 ++-
 libs/video/targets/joy_null.c            |    3 ++-
 libs/video/targets/joy_win.c             |    3 ++-
 libs/video/targets/keys.c                |    3 ++-
 libs/video/targets/old_keys.c            |    3 ++-
 libs/video/targets/qfgl_ext.c            |    3 ++-
 libs/video/targets/vid.c                 |    3 ++-
 libs/video/targets/vid_3dfxsvga.c        |    3 ++-
 libs/video/targets/vid_common_gl.c       |    3 ++-
 libs/video/targets/vid_common_sw.c       |    3 ++-
 libs/video/targets/vid_common_sw32.c     |    3 ++-
 libs/video/targets/vid_ext.c             |    3 ++-
 libs/video/targets/vid_fbdev.c           |    3 ++-
 libs/video/targets/vid_glx.c             |    3 ++-
 libs/video/targets/vid_mgl.c             |    3 ++-
 libs/video/targets/vid_null.c            |    3 ++-
 libs/video/targets/vid_sdl.c             |    3 ++-
 libs/video/targets/vid_sdl32.c           |    3 ++-
 libs/video/targets/vid_sgl.c             |    3 ++-
 libs/video/targets/vid_svgalib.c         |    3 ++-
 libs/video/targets/vid_vga.c             |    3 ++-
 libs/video/targets/vid_wgl.c             |    3 ++-
 libs/video/targets/vid_win.c             |    3 ++-
 libs/video/targets/vid_x11.c             |    3 ++-
 nq/source/cl_cam.c                       |    3 ++-
 nq/source/cl_cmd.c                       |    3 ++-
 nq/source/cl_demo.c                      |    3 ++-
 nq/source/cl_input.c                     |    3 ++-
 nq/source/cl_main.c                      |    3 ++-
 nq/source/cl_parse.c                     |    3 ++-
 nq/source/cl_screen.c                    |    3 ++-
 nq/source/cl_tent.c                      |    3 ++-
 nq/source/cl_view.c                      |    3 ++-
 nq/source/com.c                          |    3 ++-
 nq/source/conproc.c                      |    3 ++-
 nq/source/console.c                      |    3 ++-
 nq/source/game.c                         |    3 ++-
 nq/source/host.c                         |    3 ++-
 nq/source/host_cmd.c                     |    3 ++-
 nq/source/host_skin.c                    |    3 ++-
 nq/source/locs.c                         |    3 ++-
 nq/source/mplib.c                        |    3 ++-
 nq/source/mplpc.c                        |    3 ++-
 nq/source/net_bsd.c                      |    3 ++-
 nq/source/net_bw.c                       |    3 ++-
 nq/source/net_dgrm.c                     |    3 ++-
 nq/source/net_dos.c                      |    3 ++-
 nq/source/net_ipx.c                      |    3 ++-
 nq/source/net_loop.c                     |    3 ++-
 nq/source/net_main.c                     |    3 ++-
 nq/source/net_mp.c                       |    3 ++-
 nq/source/net_none.c                     |    3 ++-
 nq/source/net_udp.c                      |    3 ++-
 nq/source/net_vcr.c                      |    3 ++-
 nq/source/net_win.c                      |    3 ++-
 nq/source/net_wins.c                     |    3 ++-
 nq/source/net_wipx.c                     |    3 ++-
 nq/source/pr_cmds.c                      |    3 ++-
 nq/source/sbar.c                         |    3 ++-
 nq/source/skin.c                         |    3 ++-
 nq/source/sv_cvar.c                      |    3 ++-
 nq/source/sv_ded.c                       |    3 ++-
 nq/source/sv_main.c                      |    3 ++-
 nq/source/sv_move.c                      |    3 ++-
 nq/source/sv_phys.c                      |    3 ++-
 nq/source/sv_progs.c                     |    3 ++-
 nq/source/sv_user.c                      |    3 ++-
 nq/source/sys_sdl.c                      |    3 ++-
 nq/source/sys_unix.c                     |    3 ++-
 nq/source/sys_unixd.c                    |    3 ++-
 nq/source/sys_win.c                      |    3 ++-
 nq/source/sys_wind.c                     |    3 ++-
 nq/source/world.c                        |    3 ++-
 qw/source/buildnum.c                     |    3 ++-
 qw/source/cl_cam.c                       |    3 ++-
 qw/source/cl_cmd.c                       |    3 ++-
 qw/source/cl_cvar.c                      |    3 ++-
 qw/source/cl_demo.c                      |    3 ++-
 qw/source/cl_ents.c                      |    3 ++-
 qw/source/cl_input.c                     |    3 ++-
 qw/source/cl_main.c                      |    3 ++-
 qw/source/cl_misc.c                      |    3 ++-
 qw/source/cl_ngraph.c                    |    3 ++-
 qw/source/cl_parse.c                     |    3 ++-
 qw/source/cl_pred.c                      |    3 ++-
 qw/source/cl_screen.c                    |    3 ++-
 qw/source/cl_skin.c                      |    3 ++-
 qw/source/cl_slist.c                     |    3 ++-
 qw/source/cl_sys_sdl.c                   |    3 ++-
 qw/source/cl_sys_unix.c                  |    3 ++-
 qw/source/cl_sys_win.c                   |    3 ++-
 qw/source/cl_tent.c                      |    3 ++-
 qw/source/cl_view.c                      |    3 ++-
 qw/source/com.c                          |    3 ++-
 qw/source/console.c                      |    3 ++-
 qw/source/crudefile.c                    |    3 ++-
 qw/source/game.c                         |    3 ++-
 qw/source/locs.c                         |    3 ++-
 qw/source/master.c                       |    2 ++
 qw/source/msg_ucmd.c                     |    3 ++-
 qw/source/net_chan.c                     |    3 ++-
 qw/source/net_packetlog.c                |    3 ++-
 qw/source/net_udp.c                      |    3 ++-
 qw/source/net_udp6.c                     |    3 ++-
 qw/source/pmove.c                        |    3 ++-
 qw/source/pmovetst.c                     |    3 ++-
 qw/source/sbar.c                         |    3 ++-
 qw/source/skin.c                         |    3 ++-
 qw/source/sv_ccmds.c                     |    3 ++-
 qw/source/sv_cvar.c                      |    3 ++-
 qw/source/sv_ents.c                      |    3 ++-
 qw/source/sv_init.c                      |    3 ++-
 qw/source/sv_main.c                      |    3 ++-
 qw/source/sv_model.c                     |    3 ++-
 qw/source/sv_move.c                      |    3 ++-
 qw/source/sv_nchan.c                     |    3 ++-
 qw/source/sv_phys.c                      |    3 ++-
 qw/source/sv_pr_cmds.c                   |    3 ++-
 qw/source/sv_progs.c                     |    3 ++-
 qw/source/sv_send.c                      |    3 ++-
 qw/source/sv_sys_unix.c                  |    3 ++-
 qw/source/sv_sys_win.c                   |    3 ++-
 qw/source/sv_user.c                      |    3 ++-
 qw/source/teamplay.c                     |    3 ++-
 qw/source/world.c                        |    3 ++-
 300 files changed, 654 insertions(+), 309 deletions(-)

commit f37c446
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Fri Sep 28 05:41:19 2001 +0000

    Great idea, Deek, commit the makefiles w/o the configure needed for
    them. !lart Deek

 configure.ac |   79 ++++++++++++++++++++++++++++------------------------------
 1 file changed, 38 insertions(+), 41 deletions(-)

commit 343bb52
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Fri Sep 28 05:40:14 2001 +0000

    And this fixes QW.

 qw/source/Makefile.am |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 3dbf6cb
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Fri Sep 28 05:37:46 2001 +0000

    This fixes NQ.

 nq/source/Makefile.am |   14 +++++++-------
 1 file changed, 7 insertions(+), 7 deletions(-)

commit 31b6da0
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Fri Sep 28 05:33:58 2001 +0000

    The video version. This WILL break QW and NQ until my next commit.

 libs/video/renderer/Makefile.am      |   23 ++-----
 libs/video/renderer/gl/Makefile.am   |    9 ++-
 libs/video/renderer/sw/Makefile.am   |   12 ++++
 libs/video/renderer/sw32/Makefile.am |    7 ++
 libs/video/targets/Makefile.am       |  121 ++++++++++++++++------------------
 5 files changed, 89 insertions(+), 83 deletions(-)

commit e6d7aec
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Fri Sep 28 05:33:12 2001 +0000

    Build system updates/fixes for audio libs. MUCH cleaner, probably
    faster, doesn't do anything unnecessary any more as far as I can tell.

 libs/audio/Makefile.am          |   26 ++++---------
 libs/audio/cd/Makefile.am       |   33 ++++++-----------
 libs/audio/renderer/Makefile.am |   31 +++++-----------
 libs/audio/targets/Makefile.am  |   78 ++++++++++++++++-----------------------
 4 files changed, 61 insertions(+), 107 deletions(-)

commit 180fe60
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Sep 28 04:40:37 2001 +0000

    empty file

 0 files changed

commit bcd5492
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Sep 28 03:58:51 2001 +0000

    make compile with gcc 3.0

 tools/qfdefs/configure.in  |    2 +-
 tools/qfdefs/source/defs.c |    9 +++++++++
 2 files changed, 10 insertions(+), 1 deletion(-)

commit 83db5c0
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Sep 28 03:47:22 2001 +0000

    fix --with-qf

 tools/qfdefs/configure.in |   14 +++++++++++---
 1 file changed, 11 insertions(+), 3 deletions(-)

commit 325303b
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Thu Sep 27 21:58:10 2001 +0000

    And now for the 32-bit software renderer.

 libs/video/renderer/sw32/Makefile.am |   20 +++++++++-----------
 1 file changed, 9 insertions(+), 11 deletions(-)

commit 4c40bad
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Thu Sep 27 21:53:59 2001 +0000

    Okay, this ought to work for software.

 libs/video/renderer/sw/Makefile.am |   36 ++++++++++++++++++------------------
 1 file changed, 18 insertions(+), 18 deletions(-)

commit be9ee17
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Thu Sep 27 21:47:47 2001 +0000

    Okay, the GL renderer lib is fixed up.

 libs/video/renderer/gl/Makefile.am |   20 +++++++++-----------
 1 file changed, 9 insertions(+), 11 deletions(-)

commit b794d4c
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Thu Sep 27 21:28:44 2001 +0000

    yaay, cleaned up.

 libs/video/renderer/Makefile.am |   47 +++++++++++++++++----------------------
 1 file changed, 20 insertions(+), 27 deletions(-)

commit 37495db
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Sep 27 17:12:17 2001 +0000

    this should work for older alsa 0.9 where asoundlib.h is still in sys instead of alsa

 configure.ac                      |   15 ++++++++++++++-
 libs/audio/targets/snd_alsa_0_9.c |    8 +++++++-
 2 files changed, 21 insertions(+), 2 deletions(-)

commit bd1465e
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Thu Sep 27 06:52:38 2001 +0000

    Make blood puffs a little less ridiculously large and not overly dense.

 libs/video/renderer/gl/gl_dyn_part.c |    5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

commit 35b767c
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Thu Sep 27 03:09:24 2001 +0000

    Remove scaling from R_RunParticleEffect, and make blood puff size variable in qw.

 libs/video/renderer/gl/gl_dyn_part.c  |   20 +++++++-------------
 libs/video/renderer/sw/sw_rpart.c     |   10 +---------
 libs/video/renderer/sw32/sw32_rpart.c |   11 ++---------
 3 files changed, 10 insertions(+), 31 deletions(-)

commit 2941c07
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Thu Sep 27 00:43:46 2001 +0000

    Add small cyan light to lightning impacts. And restore particle direction use in nq. Greatly improves blood effects.

 include/r_dynamic.h                   |    2 +-
 libs/video/renderer/gl/Makefile.am    |    4 ++--
 libs/video/renderer/gl/gl_dyn_part.c  |   15 +++++--------
 libs/video/renderer/sw/sw_rmain.c     |   11 +++++-----
 libs/video/renderer/sw/sw_rpart.c     |   18 +++++++--------
 libs/video/renderer/sw32/sw32_rmain.c |   10 ++++-----
 libs/video/renderer/sw32/sw32_rpart.c |   23 ++++++++++---------
 nq/source/cl_tent.c                   |   39 +++++++++++++++++++++++----------
 qw/source/cl_tent.c                   |   17 ++++++++++++++
 9 files changed, 84 insertions(+), 55 deletions(-)

commit 376f05d
Author: Adam Olsen <rhamph@gmail.com>
Date:   Wed Sep 26 22:26:31 2001 +0000

    - add some conversion builtins, now we have ftoi, ftos, itof, itos,
      stof, stoi, stov, and vtos.
    - fix PF_sprintf
    - add FFnameFF support, where it tacks <userid> after the nick on the
      console.

 libs/gamecode/builtins/pr_cmds.c |  211 +++++++++++++++++++++++++++-----------
 qw/source/sv_send.c              |   70 ++++++++++++-
 2 files changed, 217 insertions(+), 64 deletions(-)

commit dec9503
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Sep 26 21:06:51 2001 +0000

    set the default rcon_address port to 27500 rather than 0

 qw/source/cl_main.c |    2 ++
 1 file changed, 2 insertions(+)

commit 694619c
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Sep 26 20:57:40 2001 +0000

    thou shalt not use strlen as a boolean value!

 qw/source/cl_main.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ac58ecb
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Sep 26 18:08:30 2001 +0000

    windows get resized/moved properly now and the input line gets redrawn when
    the terminal resizes. Still need to work on the status bar and output window

 libs/console/server.c |   11 ++++++++++-
 1 file changed, 10 insertions(+), 1 deletion(-)

commit cb4f7eb
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Sep 26 16:31:36 2001 +0000

    various input line improvements

 include/QF/console.h     |    5 +++-
 libs/console/inputline.c |   20 +++++++++++--
 libs/console/server.c    |   72 +++++++++++++++++++++++++---------------------
 3 files changed, 61 insertions(+), 36 deletions(-)

commit 9eae11b
Author: Chris Ison <cisos@bigpond.net.au>
Date:   Wed Sep 26 08:00:13 2001 +0000

    added --disable-oss

 configure.ac |   10 +++++++---
 1 file changed, 7 insertions(+), 3 deletions(-)

commit ca78b9e
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Sep 26 06:09:45 2001 +0000

    minor improvements in cursor location handling

 libs/console/server.c |    2 ++
 1 file changed, 2 insertions(+)

commit e9e2bbf
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Sep 26 05:45:47 2001 +0000

    various fixes, most notably using windows instead of subwindows. This stops
    the invalid memory accesses within ncurses when resizing.

 libs/console/server.c |   18 ++++++++++--------
 1 file changed, 10 insertions(+), 8 deletions(-)

commit cd5f322
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Wed Sep 26 03:39:44 2001 +0000

    Move along, nothing to see here... :)

 tools/qfcc/doc/man/qfcc.1 |   17 ++++++++++++++++-
 1 file changed, 16 insertions(+), 1 deletion(-)

commit e110f6d
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Tue Sep 25 23:58:23 2001 +0000

    -3dfx is gone, pending someone to work on it again. Most of the stuff it
    did specially will be folded into -glx.

 configure.ac          |   74 +++++++++++--------------------------------------
 nq/source/Makefile.am |   17 ++----------
 qw/source/Makefile.am |    1 -
 3 files changed, 18 insertions(+), 74 deletions(-)

commit 0d0f0a7
Author: Chris Ison <cisos@bigpond.net.au>
Date:   Tue Sep 25 23:47:13 2001 +0000

    bootstrap now works in cygwin

 qw/source/Makefile.am |   24 ++++++++++++------------
 1 file changed, 12 insertions(+), 12 deletions(-)

commit 7b4e390
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Sep 25 23:33:37 2001 +0000

    update local info about the screen size

 libs/console/server.c |    2 ++
 1 file changed, 2 insertions(+)

commit 27b6bac
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Tue Sep 25 23:32:11 2001 +0000

    do the same for QW.

 qw/source/Makefile.am |  131 +++++++++++++++++++++++++++++++++----------------
 1 file changed, 89 insertions(+), 42 deletions(-)

commit 0efd28a
Author: Chris Ison <cisos@bigpond.net.au>
Date:   Tue Sep 25 23:04:13 2001 +0000

    trying to get bootstrap to work in cygwin

 acinclude.m4                    |    2 +-
 configure.ac                    |    6 ++++++
 libs/audio/targets/Makefile.am  |    4 ++--
 libs/console/Makefile.am        |   12 ++++++------
 libs/models/Makefile.am         |   10 +++++-----
 libs/video/renderer/Makefile.am |    8 ++++----
 libs/video/targets/Makefile.am  |    6 +++---
 nq/source/Makefile.am           |   34 +++++++++++++++++-----------------
 8 files changed, 44 insertions(+), 38 deletions(-)

commit a439170
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Sep 25 22:12:55 2001 +0000

    libasm cleanups

 libs/audio/renderer/Makefile.am    |    9 ++++-----
 libs/util/Makefile.am              |   13 ++++++-------
 libs/video/renderer/sw/Makefile.am |   14 +++++++-------
 libs/video/targets/Makefile.am     |    9 ++++-----
 4 files changed, 21 insertions(+), 24 deletions(-)

commit 875a0ea
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Tue Sep 25 21:55:31 2001 +0000

    simplify, be paranoid

 nq/source/Makefile.am |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 9a1e0ab
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Tue Sep 25 21:46:23 2001 +0000

    Better fix.

 nq/source/Makefile.am |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 662a752
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Tue Sep 25 21:38:05 2001 +0000

    Makefile updates. Not so ugly any more, and might even work in Windows.

 nq/source/Makefile.am |  188 ++++++++++++++++++++++++++++++++-----------------
 1 file changed, 125 insertions(+), 63 deletions(-)

commit 5195c06
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Sep 25 20:35:37 2001 +0000

    do the resize signally properly

 libs/console/server.c |   23 ++++++++++++-----------
 1 file changed, 12 insertions(+), 11 deletions(-)

commit df330f3
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Sep 25 20:16:24 2001 +0000

    expernimental code to get window resizing working

 libs/console/console.c  |    4 ++++
 libs/console/server.c   |   22 ++++++++++++++++++++++
 qw/source/sv_sys_unix.c |    3 ++-
 3 files changed, 28 insertions(+), 1 deletion(-)

commit ad4f29c
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Sep 25 16:32:00 2001 +0000

    clean up the buffer size calcs a bit

 libs/console/server.c |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 3909176
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Sep 25 16:19:26 2001 +0000

    use the dynamic buffer for both curses and stdout

 libs/console/server.c |   38 ++++++++++++++++++--------------------
 1 file changed, 18 insertions(+), 20 deletions(-)

commit 9ffe531
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Sep 25 16:13:41 2001 +0000

    fix a char translation bug in the curses console and make the non-curses
    console actually translate chars

 libs/console/server.c |   12 ++++++++++--
 1 file changed, 10 insertions(+), 2 deletions(-)

commit 06da30a
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Sep 25 06:18:30 2001 +0000

    mingw build fixes again (including mostly working in sid: got some link issues)

 include/QF/input.h                  |    2 +-
 libs/audio/renderer/snd_mixa.S      |    4 ++++
 libs/util/math.S                    |    4 ++++
 libs/video/renderer/sw/sw_raclipa.S |    4 ++++
 qw/source/Makefile.am               |    1 +
 qw/source/master.c                  |   17 +++++++++++------
 qw/source/sv_main.c                 |    9 +++++++++
 tools/cross/cross-make.sh           |    8 +++++---
 8 files changed, 39 insertions(+), 10 deletions(-)

commit 8b15be4
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Sep 24 23:18:05 2001 +0000

    alsa detection improvement sfor latest 0.9, add the qw master package, and
    get the server packages building

 RPM/quakeforge.spec.in |   15 +++++++++++++--
 configure.ac           |   37 ++++++++++++++++++++-----------------
 2 files changed, 33 insertions(+), 19 deletions(-)

commit 9699616
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Mon Sep 24 21:22:25 2001 +0000

    Helping out with the fixup of win32 builds on cygwin's new,
    apparently very weird, automake version 1.5.

 configure.ac |   10 ++++++++--
 1 file changed, 8 insertions(+), 2 deletions(-)

commit 36de3c1
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Sep 24 21:00:23 2001 +0000

    move Sys_Quit and Sys_Error totally into libQFutil. They will call a list
    of pre-registered (Sys_RegisterShutdown) function before actually exiting
    the program. This should take care of the pain when an ncurses server
    crashes.

 include/QF/sys.h        |    1 +
 libs/util/Makefile.am   |    2 +-
 libs/util/sys.c         |   60 +++++++++++++++++++++++++++++++++++
 libs/util/sys_error.c   |   53 -------------------------------
 nq/source/sys_sdl.c     |   28 +++--------------
 nq/source/sys_unix.c    |   30 ++++--------------
 nq/source/sys_unixd.c   |   28 +++--------------
 nq/source/sys_win.c     |   80 +++--------------------------------------------
 nq/source/sys_wind.c    |   25 ++-------------
 qw/source/cl_sys_sdl.c  |   29 ++++-------------
 qw/source/cl_sys_unix.c |   32 +++++--------------
 qw/source/cl_sys_win.c  |   34 ++++----------------
 qw/source/sv_ccmds.c    |    1 -
 qw/source/sv_main.c     |    4 +--
 qw/source/sv_sys_unix.c |   24 ++------------
 qw/source/sv_sys_win.c  |   25 ++-------------
 16 files changed, 111 insertions(+), 345 deletions(-)

commit f5135b7
Author: Adam Olsen <rhamph@gmail.com>
Date:   Mon Sep 24 19:41:42 2001 +0000

    - and THAT particular bug fix is going into nq too

 nq/source/sv_main.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 169f1ce
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Sep 24 19:12:05 2001 +0000

    thou shalt not rely on order of evaluation

 qw/source/net_packetlog.c |   91 ++++++++++++++++++++++++---------------------
 1 file changed, 48 insertions(+), 43 deletions(-)

commit 5d757c0
Author: Adam Olsen <rhamph@gmail.com>
Date:   Mon Sep 24 18:26:23 2001 +0000

    - fix our favorite svc_updatefrags overflow bug!  weeeeee

 qw/source/sv_send.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 5330fd5
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Mon Sep 24 18:03:36 2001 +0000

    Whoops.

 libs/video/renderer/gl/Makefile.am |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit e2f1451
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Mon Sep 24 17:52:13 2001 +0000

    Merge world.h. Also reduced smoke particle textures from 8 to 1, a considerable speedup through reduced texture thrash...

 include/Makefile.am                      |    2 +-
 include/r_cvar.h                         |    2 +
 include/world.h                          |  114 ++++++++++++++++++++++++++++
 libs/video/renderer/gl/Makefile.am       |    6 +-
 libs/video/renderer/gl/gl_dyn_part.c     |   38 ++++------
 libs/video/renderer/gl/gl_dyn_textures.c |  120 +++++++++---------------------
 libs/video/renderer/r_cvar.c             |    6 ++
 libs/video/targets/vid_common_gl.c       |   41 +++++-----
 nq/include/Makefile.am                   |   10 +--
 nq/include/world.h                       |  114 ----------------------------
 qw/include/Makefile.am                   |   10 +--
 qw/include/world.h                       |  114 ----------------------------
 12 files changed, 203 insertions(+), 374 deletions(-)

commit c74fc1c
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Sep 24 17:51:15 2001 +0000

    make the unused var warning like gcc's

 tools/qfcc/source/pr_def.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit b52d7fd
Author: Adam Olsen <rhamph@gmail.com>
Date:   Mon Sep 24 16:25:49 2001 +0000

    - when a client overflows print out the backbuf too, not just
      netchan.message
    - tweak the svc_print netlog spacing

 qw/source/net_packetlog.c |    4 ++--
 qw/source/sv_send.c       |    9 ++++++++-
 2 files changed, 10 insertions(+), 3 deletions(-)

commit 19b6ce8
Author: Adam Olsen <rhamph@gmail.com>
Date:   Mon Sep 24 14:47:36 2001 +0000

    - fix overflow packet dumping.  Oops :)

 qw/source/sv_send.c |    3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit 2447983
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Sep 24 03:23:44 2001 +0000

    try three. this should work

 tools/qfcc/configure.in |   19 ++++++++++++-------
 1 file changed, 12 insertions(+), 7 deletions(-)

commit 9988554
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Sep 24 02:48:09 2001 +0000

    try two

 tools/qfcc/configure.in |    5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit 5f9a3d9
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Sep 24 02:38:28 2001 +0000

    try to make --with-qf work while configuring

 tools/qfcc/configure.in |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 7ff069c
Author: Adam Olsen <rhamph@gmail.com>
Date:   Sun Sep 23 15:14:08 2001 +0000

    - when the progs cache a model, copy it onto the hunk, so the gc can't
      squash it
    - ditto for sounds, just in case

 qw/source/sv_pr_cmds.c |    9 +++++++--
 1 file changed, 7 insertions(+), 2 deletions(-)

commit 789a11d
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 23 04:08:28 2001 +0000

    don't print the file or line number for "warnings treated as errors"

 tools/qfcc/source/expr.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 2054ec0
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 23 04:08:03 2001 +0000

    fix a slew of false positives with unused var checking

 tools/qfcc/source/emit.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit c8ab7d0
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 23 03:41:05 2001 +0000

    fix two bugs with glx extension checking: HAVE_GLX wasn't getting into
    config.h and GLX_ARB_get_proc_address is not (any longer?) defined by mesa.

 configure.ac                  |    2 ++
 libs/video/targets/qfgl_ext.c |   14 +++++---------
 2 files changed, 7 insertions(+), 9 deletions(-)

commit d247027
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sun Sep 23 03:24:23 2001 +0000

    Use a callback for gl_multitexture which sets gl_mtex_active (now a qboolean, rather than a macro). 0.6-1.0% speedup.

 include/QF/GL/qf_vid.h             |    8 +++-----
 libs/video/targets/vid_common_gl.c |   16 ++++++++++++----
 2 files changed, 15 insertions(+), 9 deletions(-)

commit bf1920a
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 23 03:18:58 2001 +0000

    don't enable mtex if the required functions cannot be found. This shouldn't
    normally happen, but is due to a currently broken QFGL_ExtensionAddress and
    causes qf to seg when mtex is requested.

 libs/video/targets/vid_common_gl.c |    5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit 07b0d91
Author: Adam Olsen <rhamph@gmail.com>
Date:   Sun Sep 23 01:29:52 2001 +0000

    - add a NUM_FOR_BAD_EDICT function, which doesn't care if it's a bad
      value
    - switch some prints over NUM_FOR_BAD_EDICT
    - change NUM_FOR_EDICT to call PR_RunError on error, instead of
      PR_Error.  That was it prints out a backtrace.
    
    (I did it in reverse order ;)

 include/QF/progs.h              |    1 +
 libs/gamecode/engine/pr_edict.c |   23 +++++++++++++++++------
 libs/gamecode/engine/pr_exec.c  |    2 +-
 3 files changed, 19 insertions(+), 7 deletions(-)

commit a159e85
Author: Adam Olsen <rhamph@gmail.com>
Date:   Sun Sep 23 00:36:21 2001 +0000

    - add some comments to libs/console/inputline.c
    - rename pr_deadbeef to pr_deadbeef_ents
    - add pr_deadbeef_locals, which does uninited locals.  (crashes from
      it are undeniably buggy code, unlike pr_deadeef_ents)
    - add a missing break to packetlog printing's switch
    - add sv_kickfake, which kicks people for attempting to fake messages,
      or replaces the ^Ms with # if disabled.

 libs/console/inputline.c        |    4 ++--
 libs/gamecode/engine/pr_edict.c |   12 ++++++++----
 libs/gamecode/engine/pr_exec.c  |    9 +++++----
 qw/source/net_packetlog.c       |    1 +
 qw/source/sv_user.c             |   16 ++++++++++++++++
 5 files changed, 32 insertions(+), 10 deletions(-)

commit ea96695
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 23 00:15:53 2001 +0000

    segmentation fault handler from kkqwsv (thanks, Bill;) but with a couple
    minor improvements (you get a core file if the seg wasn't triggered by progs).

 qw/source/sv_progs.c |   19 +++++++++++++++----
 1 file changed, 15 insertions(+), 4 deletions(-)

commit 7aec6e2
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Sep 22 23:41:47 2001 +0000

    unused local variable detection

 tools/qfcc/include/qfcc.h    |    6 +++++-
 tools/qfcc/source/emit.c     |   12 +++++++++---
 tools/qfcc/source/pr_def.c   |   36 ++++++++++++++++++++++++++++--------
 tools/qfcc/source/qc-parse.y |    5 +++--
 4 files changed, 45 insertions(+), 14 deletions(-)

commit bb67962
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sat Sep 22 02:37:45 2001 +0000

    Kill r_particles->int_val testing in gl particle engine. Also merge a bit down to r_part.c/r_cvar.c. Properly declare cl_max_particles (how the heck was it working when only ever declared as exter cvar_t *cl_max_particles?).
    
    Should be a minor speedup for gl, definitely a code cleanup.

 libs/video/renderer/gl/gl_dyn_part.c  |   93 +++++----------------------------
 libs/video/renderer/r_cvar.c          |   16 +++++-
 libs/video/renderer/r_part.c          |   46 ++++++++++++++--
 libs/video/renderer/sw/sw_rpart.c     |   41 +++------------
 libs/video/renderer/sw32/sw32_rpart.c |   50 ++----------------
 5 files changed, 81 insertions(+), 165 deletions(-)

commit 0425afb
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Sep 22 02:24:46 2001 +0000

    'rcon localinfo motd "hi there"' now works

 qw/source/cl_main.c |   13 ++-----------
 qw/source/sv_main.c |   16 ++++------------
 2 files changed, 6 insertions(+), 23 deletions(-)

commit 9448063
Author: Adam Olsen <rhamph@gmail.com>
Date:   Fri Sep 21 19:28:08 2001 +0000

    - use etype_T instead of int (just so it's clearer in debugging)

 libs/gamecode/builtins/pr_cmds.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 8c89f65
Author: Adam Olsen <rhamph@gmail.com>
Date:   Fri Sep 21 17:28:35 2001 +0000

    - compile fix for building without curses

 libs/console/server.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 49a8571
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Sep 21 04:22:46 2001 +0000

    total nukage of Con_*Printf calls from libs (except for video). Sys_*Printf
    (Sys_DPrintf is new) is now used exclusively for all lib printing. Con_Init
    sets the sys printf recirection to Con_Print (which has been revamped
    appropriatly) and the server sets it to SV_Print (which was SV_Printf and
    the new SV_Printf calls /it/). This should fix the rcon print redirection
    issues.

 include/QF/console.h               |    9 ++----
 include/QF/pcx.h                   |    1 +
 include/QF/sys.h                   |    4 +++
 libs/audio/cd.c                    |    6 ++--
 libs/audio/cd/cd_linux.c           |   46 +++++++++++++-------------
 libs/audio/cd/cd_sdl.c             |   28 ++++++++--------
 libs/audio/cd/cd_sgi.c             |   40 +++++++++++------------
 libs/audio/cd/cd_win.c             |   52 +++++++++++++++---------------
 libs/audio/renderer/snd_dma.c      |   47 +++++++++++++--------------
 libs/audio/renderer/snd_mem.c      |   15 ++++-----
 libs/audio/renderer/snd_mix.c      |    6 ++--
 libs/audio/snd.c                   |    8 ++---
 libs/audio/targets/snd_alsa_0_5.c  |   41 ++++++++++++------------
 libs/audio/targets/snd_alsa_0_9.c  |   44 ++++++++++++-------------
 libs/audio/targets/snd_disk.c      |   18 +++++------
 libs/audio/targets/snd_mme.c       |   22 ++++++-------
 libs/audio/targets/snd_oss.c       |   32 +++++++++----------
 libs/audio/targets/snd_sdl.c       |    9 +++---
 libs/audio/targets/snd_sgi.c       |   28 ++++++++--------
 libs/audio/targets/snd_sun.c       |   18 +++++------
 libs/audio/targets/snd_win.c       |   62 ++++++++++++++++++------------------
 libs/console/console.c             |    7 ++--
 libs/gamecode/builtins/pr_cmds.c   |   10 +++---
 libs/gamecode/engine/pr_edict.c    |   49 ++++++++++++++--------------
 libs/gamecode/engine/pr_exec.c     |   35 ++++++++++----------
 libs/gib/gib.c                     |   10 +++---
 libs/gib/gib_instructions.c        |    8 ++---
 libs/gib/gib_modules.c             |   18 +++++------
 libs/models/alias/gl_mesh.c        |    5 ++-
 libs/models/alias/gl_model_alias.c |    3 +-
 libs/models/brush/gl_model_brush.c |    8 ++---
 libs/models/gl_model_fullbright.c  |    3 +-
 libs/models/model.c                |    7 ++--
 libs/util/cmd.c                    |   53 +++++++++++++++---------------
 libs/util/con_print.c              |   15 +++------
 libs/util/console.c                |   11 ++-----
 libs/util/cvar.c                   |   32 +++++++++----------
 libs/util/info.c                   |   22 ++++++-------
 libs/util/pcx.c                    |    8 ++---
 libs/util/plugin.c                 |   14 ++++----
 libs/util/qargs.c                  |    1 -
 libs/util/quakefs.c                |   33 ++++++++++---------
 libs/util/sizebuf.c                |    3 +-
 libs/util/sys.c                    |   12 +++++++
 libs/util/zone.c                   |   51 +++++++++++++++--------------
 nq/source/console.c                |   19 +++++++----
 qw/include/server.h                |    3 ++
 qw/source/console.c                |   19 +++++++----
 qw/source/sv_main.c                |    1 +
 qw/source/sv_send.c                |   17 +++++++---
 50 files changed, 513 insertions(+), 500 deletions(-)

commit 4416404
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Sep 21 03:01:14 2001 +0000

    total nukage of Sys_Printf calls in the client and server source. this paves
    the way for libQFutil using Sys_Printf exlusively.

 nq/source/console.c    |    4 +-
 nq/source/host.c       |    4 +-
 nq/source/host_cmd.c   |    4 +-
 nq/source/sv_user.c    |   10 +--
 nq/source/sys_null.c   |  229 ------------------------------------------------
 nq/source/sys_win.c    |    2 +-
 qw/source/cl_sys_win.c |    2 +-
 qw/source/console.c    |    4 +-
 qw/source/net_udp.c    |    4 +-
 qw/source/net_udp6.c   |    4 +-
 qw/source/sv_main.c    |    2 +-
 11 files changed, 22 insertions(+), 247 deletions(-)

commit bff5a4b
Author: Adam Olsen <rhamph@gmail.com>
Date:   Thu Sep 20 19:50:24 2001 +0000

    make "Client foo connected" be a normal print instead of a dprint, and
    make both that and spectator prints include the ip.

 qw/source/sv_main.c |    6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit f59c2a2
Author: Adam Olsen <rhamph@gmail.com>
Date:   Thu Sep 20 19:34:02 2001 +0000

    - build fix for without curses
    - add a "zombie" line to edictcount, which is the number of ents that
      are "free" but not long enough to be reused.

 libs/console/server.c           |    2 +-
 libs/gamecode/engine/pr_edict.c |   11 +++++++----
 2 files changed, 8 insertions(+), 5 deletions(-)

commit ca51e3b
Author: Adam Olsen <rhamph@gmail.com>
Date:   Thu Sep 20 15:14:44 2001 +0000

    - cleanup of up/down key handling, as per suggestions from james
    - add a sv_console_plugin cvar (guess what it does)

 libs/console/inputline.c |   19 +++++++------------
 qw/source/sv_main.c      |    6 +++++-
 2 files changed, 12 insertions(+), 13 deletions(-)

commit 7195fe8
Author: Adam Olsen <rhamph@gmail.com>
Date:   Thu Sep 20 08:12:28 2001 +0000

    - fix for ^@ in the history
    - little cleanup

 libs/console/inputline.c |    6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit 388c102
Author: Adam Olsen <rhamph@gmail.com>
Date:   Thu Sep 20 07:34:27 2001 +0000

    - fix buffer size reallocation
    - fix history crash

 libs/console/inputline.c |    2 ++
 libs/console/server.c    |    2 +-
 2 files changed, 3 insertions(+), 1 deletion(-)

commit 0977b55
Author: Adam Olsen <rhamph@gmail.com>
Date:   Thu Sep 20 06:51:25 2001 +0000

    - build fix for without curses (untested, but should fix the problem I
      had when I last tried)
    - fix sv_filter_automask so it's not inverted (doh, again!)
    - cleanups of ip filter prints

 libs/console/server.c |    2 +-
 qw/source/sv_main.c   |   23 +++++++++++++++--------
 2 files changed, 16 insertions(+), 9 deletions(-)

commit fc1ab96
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Wed Sep 19 18:07:09 2001 +0000

    r_numparticles is now r_maxparticles. Ah, the joy of sane variable names.

 libs/video/renderer/gl/gl_dyn_part.c  |   74 ++++++++++++++++-----------------
 libs/video/renderer/r_part.c          |    2 +-
 libs/video/renderer/sw/sw_rpart.c     |   12 +++---
 libs/video/renderer/sw32/sw32_rpart.c |   12 +++---
 4 files changed, 50 insertions(+), 50 deletions(-)

commit 780cc26
Author: Adam Olsen <rhamph@gmail.com>
Date:   Wed Sep 19 12:58:02 2001 +0000

    - add a sv_filter_automask cvar to automatically get /16 for 1.2.0.0
    - update writeip to include filter types.  It makes them all permanent
      though, since addip can't take an absolute expiration time :/

 qw/source/sv_main.c |   29 +++++++++++++++++++++--------
 1 file changed, 21 insertions(+), 8 deletions(-)

commit 893c8b7
Author: Adam Olsen <rhamph@gmail.com>
Date:   Wed Sep 19 05:32:20 2001 +0000

    - tweak the cl_maxfps sleeping to be more finely grained
    - treat empty snd_render/snd_output strings as "don't load"

 libs/audio/snd.c    |    5 +++++
 qw/source/cl_main.c |    4 ++--
 2 files changed, 7 insertions(+), 2 deletions(-)

commit bdf4538
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Sep 19 03:39:04 2001 +0000

    some minor work getting the client side of libQFconsole working, but nowhere
    near complete.

 include/QF/plugin/console.h |    3 +++
 libs/console/client.c       |   44 +++++++++++++++++--------------------------
 2 files changed, 20 insertions(+), 27 deletions(-)

commit 6053f1f
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Wed Sep 19 00:06:56 2001 +0000

    Add gitignore for qw-master and qw-master.exe.

 qw/source/.gitignore |    2 ++
 1 file changed, 2 insertions(+)

commit 8af9c23
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Tue Sep 18 23:22:57 2001 +0000

    Larger lightning sparks, and more importantly, cull particles more efficiently when bumping into max. R_LavaSplash and R_TeleportSplash need work, though.

 libs/video/renderer/gl/gl_dyn_part.c |  104 +++++++++++++++++++++++++++++++---
 1 file changed, 96 insertions(+), 8 deletions(-)

commit 54e5a3e
Author: Timothy C. McGrath <tmhikaru@gmail.com>
Date:   Tue Sep 18 22:38:08 2001 +0000

    Fix for svgalib from joa, two liner. Very nice of him :)
    
    Misty-chan

 libs/video/targets/vid_svgalib.c |    2 ++
 1 file changed, 2 insertions(+)

commit 6780688
Author: Adam Olsen <rhamph@gmail.com>
Date:   Tue Sep 18 09:30:59 2001 +0000

    James' latest fullscreen patch, which works flawlessly for me :)
    (and if anybody cares about the formatting they can change it AFTER
    this is in)

 libs/video/targets/context_x11.c |  106 ++++++++++++++++++++++++++++++++++----
 1 file changed, 97 insertions(+), 9 deletions(-)

commit 7c75e26
Author: Adam Olsen <rhamph@gmail.com>
Date:   Tue Sep 18 09:19:44 2001 +0000

    - build fix for fbdev
    - minor formatting tweak for in_common.c

 libs/video/targets/in_common.c |    3 +--
 libs/video/targets/vid_fbdev.c |    1 +
 2 files changed, 2 insertions(+), 2 deletions(-)

commit ce7e6ac
Author: Adam Olsen <rhamph@gmail.com>
Date:   Tue Sep 18 08:58:51 2001 +0000

    idontthinkimobsessivedoyouthinkimobsessive?

 qw/source/master.c |   92 ++++++++++++++++++++++++++++++++--------------------
 1 file changed, 56 insertions(+), 36 deletions(-)

commit f2cf438
Author: Adam Olsen <rhamph@gmail.com>
Date:   Tue Sep 18 07:26:12 2001 +0000

    - improvements of how message contents are printed, which is #if 0'd
      anyway :)

 qw/source/master.c |   16 +++++++++++-----
 1 file changed, 11 insertions(+), 5 deletions(-)

commit e3bf60b
Author: Adam Olsen <rhamph@gmail.com>
Date:   Tue Sep 18 07:00:41 2001 +0000

    - fix the parsing of player numbers.  oops :)

 qw/source/master.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 9156747
Author: Adam Olsen <rhamph@gmail.com>
Date:   Tue Sep 18 06:47:02 2001 +0000

    - much formatting cleanups
    - made it use #if HAVE_FOO_H like the rest of QF
    - a couple bug fixes
    - cleaned up what it prints, including adding sequence numbers and
      player counts in the heartbeats

 qw/source/master.c |  259 ++++++++++++++++++++++++++++++++--------------------
 1 file changed, 158 insertions(+), 101 deletions(-)

commit b79ff63
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Sep 18 05:18:49 2001 +0000

    mouse warpage fixes from james

 libs/video/targets/context_x11.c |   10 +++++++---
 1 file changed, 7 insertions(+), 3 deletions(-)

commit dd98622
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Sep 18 04:53:01 2001 +0000

    x11 vid_fullscreen improvements from james (thanks)

 include/QF/input.h               |    2 +
 include/context_x11.h            |    3 +-
 libs/video/targets/context_x11.c |  158 +++++++++++++++++++++++---------------
 libs/video/targets/in_common.c   |   11 ++-
 libs/video/targets/in_x11.c      |   18 ++---
 5 files changed, 114 insertions(+), 78 deletions(-)

commit b559b3a
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Sep 18 04:38:18 2001 +0000

    fix a key mapping issue reported by MasterLich

 libs/video/targets/in_svgalib.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 8b8ce51
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Sep 18 03:24:26 2001 +0000

    GameSpy, eat your heart out :) (thanks, James)

 configure.ac          |    2 +-
 qw/source/Makefile.am |    5 +-
 qw/source/master.c    |  236 +++++++++++++++++++++++++++++++++++++++++++++++++
 3 files changed, 241 insertions(+), 2 deletions(-)

commit 8f4d390
Author: Adam Olsen <rhamph@gmail.com>
Date:   Mon Sep 17 07:31:15 2001 +0000

    - add support for ipv4 embedded in ipv6 addresses.  filtering should
      now be fully functional for ipv6.  I really oughta test ipv6 sooner
      or later ;)

 qw/source/sv_main.c |    9 ++++++---
 1 file changed, 6 insertions(+), 3 deletions(-)

commit d77fcc8
Author: Adam Olsen <rhamph@gmail.com>
Date:   Mon Sep 17 06:10:39 2001 +0000

    - fix /0 and /9 masks to not give an error
    - consolidate some duplicate code into SV_PrintIP, which returns a
      readable ip address allocated from a static buffer
    - remove some debugging prints (addip is now silent on success)

 qw/source/sv_main.c |   55 +++++++++++++++++++++------------------------------
 1 file changed, 23 insertions(+), 32 deletions(-)

commit de716f0
Author: Adam Olsen <rhamph@gmail.com>
Date:   Mon Sep 17 05:41:17 2001 +0000

    - fix an off by one error with implicit masks
    - don't attempt to ban/mute/cuff non-existant clients :)

 qw/source/sv_main.c |   17 +++++++----------
 1 file changed, 7 insertions(+), 10 deletions(-)

commit dcbc9ad
Author: Adam Olsen <rhamph@gmail.com>
Date:   Mon Sep 17 05:08:13 2001 +0000

    - rework the parser to regain support for 1.2 ips.  No longer uses
      inet_pton for ipv4.
    
    These are untested (other than compiling), as I've got issues with the
    console I need to sort out.

 qw/source/sv_main.c |   62 ++++++++++++++++++++++++++++++---------------------
 1 file changed, 37 insertions(+), 25 deletions(-)

commit d3e8e4e
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Mon Sep 17 01:48:52 2001 +0000

    Sparks and a little smoke from TE_LIGHTNINGBLOOD.
    And kill R_RunGunshotEffect.

 libs/video/renderer/gl/gl_dyn_part.c |   32 ++++++++++++++++----------------
 1 file changed, 16 insertions(+), 16 deletions(-)

commit a7d8e2c
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sun Sep 16 20:07:28 2001 +0000

    TE_EXPLOSION2 now does colored lighting. And spark showers brightened up a bit. Sparks all yellow now, none of the weird dingy grey ones. ;)

 libs/video/renderer/gl/gl_dyn_part.c |   43 ++++++++++++++++------------------
 libs/video/renderer/gl/gl_rmain.c    |    1 -
 libs/video/renderer/r_light.c        |    1 -
 nq/source/cl_tent.c                  |    9 ++++---
 qw/source/cl_tent.c                  |    9 ++++---
 5 files changed, 32 insertions(+), 31 deletions(-)

commit 48eb05b
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Sun Sep 16 17:06:36 2001 +0000

    Debian packaging updates. Much of this is thanks to Filip Van Raemdonck
    <mechanix@digibel.org>

 debian/changelog                      |    7 +++++++
 debian/control                        |    2 +-
 debian/quakeforge-3dfx.files          |    4 +++-
 debian/quakeforge-3dfx.undocumented   |    2 +-
 debian/quakeforge-alsa.files          |    6 +++---
 debian/quakeforge-common.files        |   20 ++++++++++++++------
 debian/quakeforge-glx.files           |    4 +++-
 debian/quakeforge-glx.undocumented    |    2 +-
 debian/quakeforge-libs-gl.files       |    8 ++++----
 debian/quakeforge-libs-sw.files       |    8 ++++----
 debian/quakeforge-oss.files           |    6 +++---
 debian/quakeforge-sdl.files           |    4 +++-
 debian/quakeforge-sdl.undocumented    |    2 +-
 debian/quakeforge-server.files        |    5 ++++-
 debian/quakeforge-server.undocumented |    2 +-
 debian/quakeforge-sgl.files           |    4 +++-
 debian/quakeforge-sgl.undocumented    |    2 +-
 debian/quakeforge-svga.files          |    4 +++-
 debian/quakeforge-svga.undocumented   |    2 +-
 debian/quakeforge-x11.files           |    4 +++-
 debian/quakeforge-x11.undocumented    |    2 +-
 debian/rules                          |    4 ++--
 22 files changed, 67 insertions(+), 37 deletions(-)

commit f90fcf8
Author: Adam Olsen <rhamph@gmail.com>
Date:   Sun Sep 16 15:40:21 2001 +0000

    Massive cleanups of ip filtering
    - addip now supports a ban time, and a ban/cuff/mute paramter
    - addresses now can have /8 for the mask, instead of it being implicit
    - removes support for 1.2 which meant 1.2.0.0/16.  use 1.2.0.0/16 or
      1.2.0.0 (implies a /16)
    - ipv6 should mostly be supported, but there's a few places that
      aren't finished.  currently gives a compile error
    
    (it WAS working, but now I cvs up'd and I gotta wait for a long test
    build.  I don't feel like waiting any longer)

 qw/source/sv_ccmds.c |    2 +-
 qw/source/sv_main.c  |  443 +++++++++++++++++++++++++++++++++++++++-----------
 2 files changed, 352 insertions(+), 93 deletions(-)

commit 52648b2
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 16 06:08:09 2001 +0000

    sv_use_curses 0 to disable curses, and fix the know issues with using the
    old console

 libs/console/server.c |    6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit aade80a
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 16 05:41:28 2001 +0000

    /finally/, libQFconsole is being used (qw-server only so far). Still has
    some minor nits with ncurses and probably has some isues without ncurses
    (quit didn't seem to work when I tried).

 include/QF/console.h        |   14 +-
 include/QF/plugin/console.h |    4 +-
 libs/console/client.c       |    9 +-
 libs/console/console.c      |   10 +-
 libs/console/inputline.c    |   20 +-
 libs/console/server.c       |  115 ++++++++++++
 qw/source/Makefile.am       |    4 +-
 qw/source/sv_console.c      |  435 -------------------------------------------
 qw/source/sv_main.c         |    4 +-
 9 files changed, 161 insertions(+), 454 deletions(-)

commit 9f715ae
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Sep 15 20:31:17 2001 +0000

    more small old-parser cleanups

 tools/qfcc/source/pr_comp.c  |   20 --------------------
 tools/qfcc/source/pr_def.c   |    4 ----
 tools/qfcc/source/qc-parse.y |    3 +++
 tools/qfcc/source/qfcc.c     |    2 --
 4 files changed, 3 insertions(+), 26 deletions(-)

commit 431ac4e
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Fri Sep 14 12:11:54 2001 +0000

    Convert particles to use byte colors instead of float. Roughly breaks even on Mesa on my machine. Should be a speedup under other drivers.

 include/QF/GL/qf_funcs_list.h        |    2 +-
 include/varrays.h                    |    2 +-
 libs/video/renderer/gl/gl_draw.c     |    2 +-
 libs/video/renderer/gl/gl_dyn_part.c |   21 ++++++++++-----------
 libs/video/renderer/gl/gl_rmisc.c    |    4 ++--
 libs/video/renderer/gl/gl_sky_clip.c |    6 +++---
 6 files changed, 18 insertions(+), 19 deletions(-)

commit a474c7a
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Fri Sep 14 12:08:52 2001 +0000

    Update for current alsa header locations.

 libs/audio/targets/snd_alsa_0_9.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 3557d37
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Sep 13 20:34:08 2001 +0000

    add better scoping to TODO even though I'm likely to do it soon

 tools/qfcc/TODO |    1 +
 1 file changed, 1 insertion(+)

commit 1ee3fe4
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Sep 13 03:04:23 2001 +0000

    fix some missing libs pointed out by Ghost9

 RPM/quakeforge.spec.in |   21 +++++++++++++++++++++
 1 file changed, 21 insertions(+)

commit 98c494e
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Sep 13 00:08:34 2001 +0000

    rpms can now be built

 RPM/quakeforge.spec.in |    9 +++++----
 1 file changed, 5 insertions(+), 4 deletions(-)

commit 6d04ada
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Sep 12 23:14:16 2001 +0000

    partial (?) fixes for building rpms. unknown if it's correct yet.

 RPM/quakeforge.spec.in |   72 ++++++++++++++++++++++++++++++++++++++----------
 1 file changed, 57 insertions(+), 15 deletions(-)

commit bdfa183
Author: Adam Olsen <rhamph@gmail.com>
Date:   Tue Sep 11 07:10:45 2001 +0000

    - add a match command, which prints out who would be matched with a
      ban/cuff/mute/kick command, but without actually doing them :)
    - fix 'leet nick matching of eet in 37337, and a segfault, as well as
      simplifying the code :)

 qw/source/sv_ccmds.c |   46 +++++++++++++++++++++++++++++++++-------------
 1 file changed, 33 insertions(+), 13 deletions(-)

commit 4bc167c
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Sep 11 06:34:03 2001 +0000

    evil hack, but can build from "make dist" again

 nq/source/Makefile.am |   11 ++++++++---
 qw/source/Makefile.am |   11 ++++++++---
 2 files changed, 16 insertions(+), 6 deletions(-)

commit 4107830
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Sep 11 06:04:10 2001 +0000

    misc fixes forwarded from 0.3

 qw/source/cl_demo.c    |    2 +-
 qw/source/sv_pr_cmds.c |    4 +++-
 qw/source/sv_user.c    |    2 +-
 3 files changed, 5 insertions(+), 3 deletions(-)

commit 75cb4c1
Author: Adam Olsen <rhamph@gmail.com>
Date:   Tue Sep 11 05:43:58 2001 +0000

    Make match_char handle a bunch more 'leet characters.  There's also a
    cvar to disable it, called sv_3133735_7h4n_7h0u ;)

 qw/source/sv_ccmds.c |   15 ++++++++++++++-
 1 file changed, 14 insertions(+), 1 deletion(-)

commit def8bb3
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Sep 11 05:18:15 2001 +0000

    LordHavoc's VectorIsNull changes from 0.3 but as VectorIsZero (no such thing
    as a `null' vector) plus a couple of other bits from his patch.

 include/QF/mathlib.h           |    1 +
 libs/gamecode/engine/pr_exec.c |    4 ++--
 qw/source/cl_pred.c            |   35 ++++++++++++++---------------------
 qw/source/pmove.c              |    2 +-
 qw/source/sv_phys.c            |    3 +--
 5 files changed, 19 insertions(+), 26 deletions(-)

commit 1a27ded
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Sep 11 04:53:20 2001 +0000

    don't bother predicting if disconnected (forward port of Dabb's work)

 qw/source/cl_main.c |   19 ++++++++++---------
 1 file changed, 10 insertions(+), 9 deletions(-)

commit 65e5a7a
Author: Adam Olsen <rhamph@gmail.com>
Date:   Tue Sep 11 04:52:29 2001 +0000

    fix userinfo filtering in PF_setinfokey

 qw/source/sv_pr_cmds.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 1717747
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Sep 11 04:45:48 2001 +0000

    more make dist

 qw/source/Makefile.am |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit e27878e
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Sep 11 03:50:24 2001 +0000

    bring forward the sv_extentions and stdver changes from 0.3

 qw/include/client.h |    2 +-
 qw/include/server.h |    2 +-
 qw/source/cl_main.c |   12 +++++-------
 qw/source/sv_main.c |   19 +++++++++++++++----
 4 files changed, 22 insertions(+), 13 deletions(-)

commit a046592
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Sep 11 03:42:03 2001 +0000

    make dist fixes

 include/Makefile.am    |    2 +-
 include/QF/Makefile.am |    4 ++--
 2 files changed, 3 insertions(+), 3 deletions(-)

commit 74e9f89
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Sep 11 03:10:29 2001 +0000

    forward port the client info string filtering from 0.3 and remove info.h from
    a couple of c files that no longer need it.

 include/QF/info.h               |    7 ++++---
 libs/models/alias/model_alias.c |    1 -
 libs/util/info.c                |   23 +++++++++++++++++++++--
 libs/util/quakefs.c             |    1 -
 qw/include/server.h             |    2 ++
 qw/source/sv_main.c             |   20 +++++++++++++++++++-
 qw/source/sv_pr_cmds.c          |   14 +++++++++-----
 qw/source/sv_user.c             |   13 ++++++++-----
 8 files changed, 63 insertions(+), 18 deletions(-)

commit 8c02641
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Sep 10 21:55:34 2001 +0000

    Wait for X to complete the previous operation before proceding to the next.
    This causes the mouse to warp properly, but doesn't fix my disappearing window :(
    (possibly a wm bug)

 libs/video/targets/context_x11.c |   20 +++++++++++++++++---
 1 file changed, 17 insertions(+), 3 deletions(-)

commit 05d3aaa
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Mon Sep 10 17:32:22 2001 +0000

    Whitespace.

 qw/source/cl_cam.c  |   51 ++++++++++++++++-----------------
 qw/source/cl_demo.c |   65 +++++++++++++++++++++---------------------
 qw/source/cl_ents.c |   79 ++++++++++++++++++++++++++-------------------------
 qw/source/cl_misc.c |    6 ++--
 qw/source/cl_pred.c |    8 +++---
 qw/source/cl_view.c |   50 ++++++++++++++++----------------
 6 files changed, 130 insertions(+), 129 deletions(-)

commit 95515e2
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Sep 10 17:18:31 2001 +0000

    use XMapRaised instead of XMapWindow + XRaiseWindow

 libs/video/targets/context_x11.c |    4 +---
 1 file changed, 1 insertion(+), 3 deletions(-)

commit 0f30506
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Sep 10 17:02:35 2001 +0000

    d'oh, got the return values backwards

 libs/video/targets/context_x11.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 388513e
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Sep 10 16:53:33 2001 +0000

    several fullscreen toggling improvements including window location restoration

 include/context_x11.h            |    1 +
 libs/video/targets/context_x11.c |   71 ++++++++++++++++++++++++--------------
 2 files changed, 47 insertions(+), 25 deletions(-)

commit 63049e0
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Sep 10 16:50:35 2001 +0000

    remove the ln -s instructions as they are no longer needed

 INSTALL |    2 --
 1 file changed, 2 deletions(-)

commit a17d8fe
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Sep 10 15:41:47 2001 +0000

    turns out the window location code is needed after all.

 libs/video/targets/context_x11.c |   21 ++++++++++++++-------
 1 file changed, 14 insertions(+), 7 deletions(-)

commit 55dfead
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Mon Sep 10 13:05:13 2001 +0000

    Typos (really ought to remember to test compile *before* committing, rather than immediately after).

 libs/gamecode/builtins/pr_cmds.c |    4 ++--
 libs/gamecode/engine/pr_opcode.c |    2 +-
 2 files changed, 3 insertions(+), 3 deletions(-)

commit dc947ce
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Mon Sep 10 12:56:23 2001 +0000

    Whitespace.

 libs/console/client.c             |   80 +++++---------
 libs/console/complete.c           |   21 ++--
 libs/console/console.c            |    5 +-
 libs/console/inputline.c          |    9 +-
 libs/console/list.c               |   10 +-
 libs/console/server.c             |   20 ++--
 libs/gamecode/builtins/pr_cmds.c  |  132 ++++++++++-------------
 libs/gamecode/engine/pr_debug.c   |   82 ++++++++-------
 libs/gamecode/engine/pr_exec.c    |  207 ++++++++++++++++++-------------------
 libs/gamecode/engine/pr_opcode.c  |   14 +--
 libs/gamecode/engine/pr_strings.c |   33 +++---
 libs/gib/gib.c                    |   12 +--
 libs/gib/gib_instructions.c       |   27 +++--
 libs/gib/gib_interpret.c          |   26 +++--
 libs/gib/gib_modules.c            |   25 +++--
 libs/gib/gib_parse.c              |   42 ++++----
 libs/gib/gib_stack.c              |    8 +-
 libs/gib/gib_vars.c               |    3 +-
 18 files changed, 355 insertions(+), 401 deletions(-)

commit a7b4020
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Sep 10 05:04:00 2001 +0000

    make nick matching case insensitive and 1 == i

 qw/source/sv_ccmds.c |   21 ++++++++++++++++++---
 1 file changed, 18 insertions(+), 3 deletions(-)

commit fb7918d
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Mon Sep 10 04:20:27 2001 +0000

    Optimize DEG2RAD a little, plus some whitespace.

 libs/util/mathlib.c |   88 +++++++++++++++++++--------------------------------
 1 file changed, 33 insertions(+), 55 deletions(-)

commit 8ca44af
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Sep 10 00:57:11 2001 +0000

    fix a bug in the handling of case m (see skybox.fig)

 libs/video/renderer/gl/gl_sky_clip.c |   34 +++++++++++++++++-----------------
 1 file changed, 17 insertions(+), 17 deletions(-)

commit 7af79b9
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sun Sep 9 21:41:35 2001 +0000

    Lots of whitespace, header cleanups, and a few tiny optimizations.

 libs/audio/renderer/snd_dma.c        |   48 ++++++----------
 libs/audio/renderer/snd_mem.c        |   37 +++++-------
 libs/audio/renderer/snd_mix.c        |   42 +++++---------
 libs/audio/renderer/snd_null.c       |   24 ++++----
 libs/audio/snd.c                     |    7 +--
 libs/audio/targets/snd_alsa_0_5.c    |   80 +++++++++++++-------------
 libs/audio/targets/snd_alsa_0_9.c    |   66 +++++++++++-----------
 libs/audio/targets/snd_disk.c        |   52 ++++++++---------
 libs/audio/targets/snd_mme.c         |   89 +++++++++--------------------
 libs/audio/targets/snd_null.c        |   78 ++++++++++++-------------
 libs/audio/targets/snd_oss.c         |   56 +++++++++---------
 libs/audio/targets/snd_sdl.c         |   51 +++++++++--------
 libs/audio/targets/snd_sgi.c         |   69 +++++++++++------------
 libs/audio/targets/snd_sun.c         |  103 +++++++++++++++++-----------------
 libs/audio/targets/snd_win.c         |   88 +++++++++++------------------
 libs/util/checksum.c                 |    8 +--
 libs/util/tga.c                      |    7 +--
 libs/video/renderer/gl/gl_screen.c   |   22 ++++----
 libs/video/renderer/gl/gl_skin.c     |    8 +--
 libs/video/renderer/gl/gl_sky.c      |    8 +--
 libs/video/renderer/gl/gl_sky_clip.c |    2 +-
 libs/video/renderer/gl/gl_warp.c     |    4 +-
 libs/video/renderer/r_efrag.c        |    4 +-
 23 files changed, 427 insertions(+), 526 deletions(-)

commit 8a959d1
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 9 21:27:09 2001 +0000

    put my sky debug code back in (enabled for now)

 libs/video/renderer/gl/gl_sky_clip.c |   55 ++++++++++++++++++++++++++++++++++
 1 file changed, 55 insertions(+)

commit 28fe1dc
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sun Sep 9 19:37:07 2001 +0000

    Tweak rocket trails. Uglier, but don't bog down rocket snipers. Also a couple tiny optimizations and cleanups.

 libs/video/renderer/gl/gl_dyn_lights.c |    2 +-
 libs/video/renderer/gl/gl_dyn_part.c   |    6 +-
 libs/video/renderer/gl/gl_rmain.c      |  102 ++++++++++++++++----------------
 libs/video/renderer/gl/gl_rsurf.c      |    2 +-
 libs/video/targets/vid_common_gl.c     |   73 +++++++++++------------
 5 files changed, 88 insertions(+), 97 deletions(-)

commit 882adf2
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 9 04:51:08 2001 +0000

    implement KK's ban, mute and cuff

 qw/include/server.h  |   13 +++-
 qw/source/sv_ccmds.c |  169 +++++++++++++++++++++++++++++++++++++++++++++++++-
 qw/source/sv_main.c  |  113 +++++++++++++++++++++++++++++----
 qw/source/sv_user.c  |    2 +
 4 files changed, 282 insertions(+), 15 deletions(-)

commit 1757dfc
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Sep 9 01:58:16 2001 +0000

    make Cmd_StuffCmds_f get called if cl_quakerc is 0

 qw/source/cl_main.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit de83dfb
Author: Adam Olsen <rhamph@gmail.com>
Date:   Sat Sep 8 16:48:40 2001 +0000

    Change the networking timeout down from 1 second to 0.01 seconds.
    The CPU usage will seem higher with only 1 or 2 people connected, but
    that's only when they have low framerates.  It should be the same when
    there's enough incoming network data to keep it from waiting a long
    time anyway.

 qw/source/sv_sys_unix.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit b788eb6
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Sep 8 06:25:37 2001 +0000

    remove some no-longer needed code (the window coord finder) and quientn
    the mode setting code a little.

 libs/video/targets/context_x11.c |   26 ++++++++++----------------
 1 file changed, 10 insertions(+), 16 deletions(-)

commit b12ee9e
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Sep 8 05:43:52 2001 +0000

    unmap and re-map the window with the correct attributes for the current
    setting of vid_fullscreen

 libs/video/targets/context_x11.c |   27 +++++++++++++++++++++------
 1 file changed, 21 insertions(+), 6 deletions(-)

commit 20188c6
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Sep 8 03:34:28 2001 +0000

    heh, and in_pre_amp

 libs/video/targets/in_common.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit cd0d260
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Sep 8 03:33:57 2001 +0000

    fix an exponential growth of in_mouse_amp when in_amp is > 1

 libs/video/targets/in_common.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 888bdb7
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Sep 7 21:40:45 2001 +0000

    fix some static issues

 libs/audio/targets/snd_win.c |   16 ++++++++--------
 1 file changed, 8 insertions(+), 8 deletions(-)

commit 05f4897
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Sep 7 21:15:08 2001 +0000

    code cleanups and possibly minor optimisations

 libs/video/renderer/gl/gl_rmain.c |   10 ++++++----
 libs/video/renderer/gl/gl_rsurf.c |   32 ++++++++------------------------
 2 files changed, 14 insertions(+), 28 deletions(-)

commit 714f429
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Sep 7 17:44:02 2001 +0000

    cl_predict_players2 is gone (cl_predict_players is still there)

 qw/source/cl_ents.c |    6 ++----
 qw/source/cl_main.c |    8 ++------
 2 files changed, 4 insertions(+), 10 deletions(-)

commit c762151
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Sep 7 17:12:02 2001 +0000

    comment on the code duplication for the texture resamplers

 libs/video/renderer/gl/gl_skin.c     |    8 ++++++++
 libs/video/renderer/gl/gl_textures.c |    8 ++++++++
 2 files changed, 16 insertions(+)

commit ffd9e72
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Sep 7 17:05:56 2001 +0000

    roll the skin resampling loops back up

 libs/video/renderer/gl/gl_skin.c |   16 ++--------------
 1 file changed, 2 insertions(+), 14 deletions(-)

commit 0d0e570
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Fri Sep 7 05:37:11 2001 +0000

    Small particle trail speedup/legibility/flexibility improvement, at price of redundant code in sw/sw32. Tradeoffs. *sigh*

 include/r_dynamic.h                   |    8 +-
 libs/video/renderer/gl/gl_dyn_part.c  |   86 +++++-----
 libs/video/renderer/sw/sw_rpart.c     |  299 ++++++++++++++++++++++++++-------
 libs/video/renderer/sw32/sw32_rpart.c |  299 ++++++++++++++++++++++++++-------
 nq/source/cl_main.c                   |   14 +-
 qw/source/cl_ents.c                   |   14 +-
 6 files changed, 533 insertions(+), 187 deletions(-)

commit e9cf5b4
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Sep 7 04:41:13 2001 +0000

    include sys/types.h for freebsd

 libs/audio/targets/snd_oss.c |    1 +
 nq/source/net_udp.c          |    1 +
 qw/source/cl_main.c          |    2 +-
 qw/source/cl_slist.c         |    1 +
 4 files changed, 4 insertions(+), 1 deletion(-)

commit 3b5969d
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Sep 7 03:49:30 2001 +0000

    don't call the packet acker when running a demo

 qw/source/cl_parse.c |    6 ++++--
 qw/source/cl_skin.c  |    3 ++-
 qw/source/pmove.c    |    5 +----
 3 files changed, 7 insertions(+), 7 deletions(-)

commit 3a91917
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Sep 7 00:11:22 2001 +0000

    some minor improvements

 include/QF/mathlib.h |    4 +++-
 qw/source/cl_demo.c  |    6 +++---
 qw/source/pmove.c    |   24 +++++++++++++++---------
 3 files changed, 21 insertions(+), 13 deletions(-)

commit 22075ac
Author: Adam Olsen <rhamph@gmail.com>
Date:   Thu Sep 6 23:58:28 2001 +0000

    Add a cl_quakerc cvar, for disabling the execution of the default
    config.

 nq/source/host.c    |   11 ++++++++---
 qw/source/cl_main.c |    9 ++++++---
 2 files changed, 14 insertions(+), 6 deletions(-)

commit d7675ad
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Sep 6 05:41:15 2001 +0000

    move the particle count multiplication out of the renderer and into the clien
    (for blood and gunshot, anyway).

 libs/video/renderer/gl/gl_dyn_part.c  |    2 +-
 libs/video/renderer/sw/sw_rpart.c     |    4 ++--
 libs/video/renderer/sw32/sw32_rpart.c |    4 ++--
 nq/source/cl_tent.c                   |    2 +-
 qw/source/cl_tent.c                   |    2 +-
 tools/qfcc/source/emit.c              |    2 +-
 6 files changed, 8 insertions(+), 8 deletions(-)

commit c2c0353
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Sep 6 04:35:02 2001 +0000

    cl_demospeed for nq

 nq/source/host.c |   18 +++++++++++++++++-
 1 file changed, 17 insertions(+), 1 deletion(-)

commit 4c7e60e
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Thu Sep 6 04:26:53 2001 +0000

    Rearrange "rocket" trail code. Some small optimizations, mostly a cleanup, will make tweaking individual effects separately easier.

 libs/video/renderer/gl/gl_dyn_part.c |  335 ++++++++++++++++++++++------------
 1 file changed, 214 insertions(+), 121 deletions(-)

commit be7307f
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Sep 6 03:53:13 2001 +0000

    move the dlight and lightmap code and data from r_main to r_light

 libs/video/renderer/r_light.c |   60 +++++++++++++++++++++++++++++++++++++++++
 libs/video/renderer/r_main.c  |   60 -----------------------------------------
 2 files changed, 60 insertions(+), 60 deletions(-)

commit 419585b
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Thu Sep 6 01:09:51 2001 +0000

    Obvious optimization missed by a certain tired coder. Thanks to LordHavoc for pointing it out.

 include/QF/mathlib.h |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a890be8
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Sep 5 23:14:27 2001 +0000

    this /should/ fix the dancing corpses

 nq/source/cl_main.c |    1 +
 1 file changed, 1 insertion(+)

commit 008d80d
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Sep 5 21:22:55 2001 +0000

    s/IMT_DEFAULT/IMT_0/g for the constant and move the name-enum entry for
    IMT_DEFAULT to the bottom of the list so that IMT_0 gets written as such
    rather than IMT_DEFAULT.
    Also, clean up nq's EF_* dlight creation a bit (haven't touched
    EF_MUZZLEFLASH: undecided on what to do).

 include/QF/keys.h         |    2 +-
 libs/console/client.c     |    2 +-
 libs/video/targets/keys.c |   13 ++++----
 nq/source/cl_demo.c       |    2 +-
 nq/source/cl_main.c       |   80 ++++++++++++++++++++-------------------------
 nq/source/console.c       |    2 +-
 qw/source/cl_main.c       |    2 +-
 qw/source/console.c       |    4 +--
 8 files changed, 49 insertions(+), 58 deletions(-)

commit 9ab9764
Author: Adam Olsen <rhamph@gmail.com>
Date:   Wed Sep 5 18:23:38 2001 +0000

    - Change QA_alloc to use variable-arguments, allowing for a much more
      extensible interface.

 include/QF/zone.h |   22 ++++++++++++----------
 libs/util/zone.c  |   44 ++++++++++++++++++++++++++++++++------------
 2 files changed, 44 insertions(+), 22 deletions(-)

commit 7d52c66
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Wed Sep 5 09:06:48 2001 +0000

    Convert a few rand to qfrandom, and a tiny optimization (more of a cleanup, really).

 libs/video/renderer/gl/gl_dyn_part.c |   20 ++++++++------------
 1 file changed, 8 insertions(+), 12 deletions(-)

commit 55f0fed
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Wed Sep 5 06:20:45 2001 +0000

    Replace lhrandom with qfrandom, a different convenience macro with better random number distribution (see man 3 rand).

 include/QF/mathlib.h                   |    2 +-
 libs/video/renderer/gl/gl_dyn_part.c   |   41 ++++++++++++++++++--------------
 libs/video/renderer/gl/noisetextures.c |   18 +++++++-------
 3 files changed, 33 insertions(+), 28 deletions(-)

commit d2c041c
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Wed Sep 5 04:25:47 2001 +0000

    Remove and ifdef out currently unused code.

 include/d_iface.h                        |   15 +++++++--------
 libs/video/renderer/gl/gl_dyn_part.c     |   10 ----------
 libs/video/renderer/gl/gl_dyn_textures.c |    5 ++---
 3 files changed, 9 insertions(+), 21 deletions(-)

commit 4249bba
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Sep 5 03:41:29 2001 +0000

    make sure input is grabbed when going fullscreen on init

 libs/video/targets/in_x11.c |    1 +
 1 file changed, 1 insertion(+)

commit f9e610b
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Sep 5 03:14:41 2001 +0000

    fix a seg witn +set in_grab on the command line

 libs/video/targets/in_x11.c |    4 ++++
 1 file changed, 4 insertions(+)

commit 75aaccf
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Wed Sep 5 02:04:02 2001 +0000

    Prettier, but slower particle effects. Also skip particle physics when r_particles 0.

 include/d_iface.h                    |    2 --
 include/d_ifacea.h                   |   22 +++++++++----------
 libs/video/renderer/gl/gl_dyn_part.c |   40 ++++++++++++++++++----------------
 3 files changed, 31 insertions(+), 33 deletions(-)

commit 2e1a511
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Sep 5 00:08:54 2001 +0000

    give r_particles a callback to clear all particles when set to 0 and do
    some general cleanup to the gl particles code

 libs/video/renderer/gl/gl_dyn_part.c |   52 +++++++++-------------------------
 libs/video/renderer/r_cvar.c         |   10 ++++++-
 2 files changed, 23 insertions(+), 39 deletions(-)

commit 6c8a112
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Sep 4 21:00:08 2001 +0000

    get "make dist" working again

 Makefile.am            |    3 ++-
 nq/include/Makefile.am |    2 +-
 nq/source/Makefile.am  |    2 +-
 qw/source/Makefile.am  |    6 +-----
 4 files changed, 5 insertions(+), 8 deletions(-)

commit b1f834b
Author: Timothy C. McGrath <tmhikaru@gmail.com>
Date:   Tue Sep 4 17:29:25 2001 +0000

    Modified the gl_sky_clip line to keep consistent with cvs.

 doc/config/glspeed-v1.cfg |    6 +++---
 doc/config/glspeed-v3.cfg |    6 +++---
 2 files changed, 6 insertions(+), 6 deletions(-)

commit 9f3bc7f
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Tue Sep 4 11:06:49 2001 +0000

    Remove a no-longer needed note.

 include/r_dynamic.h |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 65c526c
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Tue Sep 4 10:32:51 2001 +0000

    Some minor cleanups, and lots of particle effects tweaks.
    Less blinding rocket trails is probably the most noticable change, other than a nice speedup in nq timedemos. Little change for overkill, though. Aw...

 include/r_dynamic.h                      |    2 +-
 include/r_local.h                        |    4 +-
 libs/video/renderer/gl/gl_draw.c         |   10 +--
 libs/video/renderer/gl/gl_dyn_fires.c    |   18 ++++-
 libs/video/renderer/gl/gl_dyn_lights.c   |   16 ----
 libs/video/renderer/gl/gl_dyn_part.c     |  122 +++++++++++++++++++-----------
 libs/video/renderer/gl/gl_dyn_textures.c |    2 +-
 libs/video/renderer/gl/gl_graph.c        |    1 -
 libs/video/renderer/gl/gl_rmain.c        |    8 +-
 libs/video/renderer/gl/gl_rmisc.c        |    8 +-
 libs/video/renderer/gl/gl_sky.c          |   12 +--
 libs/video/renderer/r_cvar.c             |    2 +-
 libs/video/renderer/r_light.c            |    4 +-
 libs/video/renderer/sw/sw_rpart.c        |   82 +++++++++-----------
 14 files changed, 155 insertions(+), 136 deletions(-)

commit 83e3f10
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Sep 4 04:28:31 2001 +0000

    fix a silly with joystick buttons

 libs/video/targets/joy_linux.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit dc4cd34
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Sep 3 06:12:10 2001 +0000

    id's sky code is back (gl_sky_clip 2 when no skybox is loaded). Not as fast
    as the black polygons (duh:) and not as nice looking as the sky dome, but also
    not as slow (fps when standing in the normal coridor looking at the sky in
    start: 26 for skydome, 37 for id skys, 44 for black). Good for when you want
    to see sky other than black but your card can't handle the fillrate
    requirements of skydome. I'll clean up the sqrt in there soonish.

 include/r_shared.h                   |    3 ++
 libs/video/renderer/gl/gl_rsurf.c    |    4 ---
 libs/video/renderer/gl/gl_sky.c      |    3 +-
 libs/video/renderer/gl/gl_sky_clip.c |   56 ++++++++++++++++++++++++++++++++++
 4 files changed, 61 insertions(+), 5 deletions(-)

commit ed4de07
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sat Sep 1 08:57:04 2001 +0000

    Header and variable declaration cleanups, tiny bit of whitespace.

 libs/video/renderer/gl/gl_draw.c         |   42 +++++-----
 libs/video/renderer/gl/gl_dyn_fires.c    |    7 +-
 libs/video/renderer/gl/gl_dyn_lights.c   |    6 +-
 libs/video/renderer/gl/gl_dyn_part.c     |   38 ++++-----
 libs/video/renderer/gl/gl_dyn_textures.c |   14 ++--
 libs/video/renderer/gl/gl_funcs.c        |   10 ++-
 libs/video/renderer/gl/gl_graph.c        |   27 +++---
 libs/video/renderer/gl/gl_rmain.c        |   81 ++++++++----------
 libs/video/renderer/gl/gl_rmisc.c        |    4 +-
 libs/video/renderer/gl/gl_rsurf.c        |  134 +++++++++++++-----------------
 libs/video/renderer/gl/gl_screen.c       |   72 +++++++---------
 libs/video/renderer/gl/gl_skin.c         |   20 ++---
 libs/video/renderer/gl/gl_sky.c          |   27 +++---
 libs/video/renderer/gl/gl_sky_clip.c     |   31 +++----
 libs/video/renderer/gl/gl_textures.c     |   35 ++++----
 libs/video/renderer/gl/gl_warp.c         |   33 +++-----
 libs/video/renderer/gl/noisetextures.c   |    6 +-
 17 files changed, 262 insertions(+), 325 deletions(-)

commit 99a4ea2
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 31 19:13:16 2001 +0000

    fix some bogosities

 libs/video/renderer/sw/d_surf.c       |    3 ++-
 libs/video/renderer/sw32/d_sprite.c   |    2 ++
 libs/video/renderer/sw32/d_surf.c     |    3 ++-
 libs/video/renderer/sw32/sw32_rdraw.c |    3 +++
 4 files changed, 9 insertions(+), 2 deletions(-)

commit ea614fc
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 31 17:33:25 2001 +0000

    turns out the sprite models are /not/ relocatable, so back out that change
    in favor of cleaning up the accessors

 libs/models/model.c                     |   14 ++++++--------
 libs/models/sprite/model_sprite.c       |    6 ++++--
 libs/video/renderer/gl/gl_rmain.c       |   10 +++++-----
 libs/video/renderer/sw/sw_rsprite.c     |    4 +---
 libs/video/renderer/sw32/sw32_rsprite.c |    4 +---
 5 files changed, 17 insertions(+), 21 deletions(-)

commit 896d304
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Fri Aug 31 16:43:26 2001 +0000

    New man page for qfcc -- doesn't match the program yet, I'm committing
    it for comments.

 tools/qfcc/doc/man/qfcc.1 |   70 ++++++++++++++++++++++++++++++++++++++++++---
 1 file changed, 66 insertions(+), 4 deletions(-)

commit 384dfb7
Author: Adam Olsen <rhamph@gmail.com>
Date:   Fri Aug 31 15:32:11 2001 +0000

    - partial work for putting sprites in the cache.
    
    doesn't currently build.

 libs/models/model.c                     |   14 ++++++++------
 libs/models/sprite/model_sprite.c       |    6 ++----
 libs/video/renderer/gl/gl_rmain.c       |   10 +++++-----
 libs/video/renderer/sw/sw_rsprite.c     |    4 +++-
 libs/video/renderer/sw32/sw32_rsprite.c |    4 +++-
 5 files changed, 21 insertions(+), 17 deletions(-)

commit f1a016c
Author: Adam Olsen <rhamph@gmail.com>
Date:   Fri Aug 31 12:22:45 2001 +0000

    - Refine the Cache_Get callback, to use a void * instead of a char *
    - Switch alias models over to Cache_Get/Cache_Release

 include/QF/zone.h                      |    6 ++--
 libs/audio/renderer/snd_dma.c          |    4 +--
 libs/audio/renderer/snd_mem.c          |   16 ++++-----
 libs/models/alias/gl_mesh.c            |    2 +-
 libs/models/alias/model_alias.c        |   11 ++++---
 libs/models/model.c                    |   56 +++++++++++++++-----------------
 libs/util/zone.c                       |   15 ++++-----
 libs/video/renderer/gl/gl_rmain.c      |    4 ++-
 libs/video/renderer/gl/gl_skin.c       |    4 ++-
 libs/video/renderer/sw/sw_ralias.c     |   12 +++++--
 libs/video/renderer/sw32/sw32_ralias.c |   12 +++++--
 nq/source/host_cmd.c                   |    3 +-
 qw/source/cl_parse.c                   |    5 +--
 13 files changed, 82 insertions(+), 68 deletions(-)

commit f54ef94
Author: Adam Olsen <rhamph@gmail.com>
Date:   Fri Aug 31 04:02:00 2001 +0000

    remove the failure check from SND_CallbackLoad

 libs/audio/renderer/snd_mem.c |    3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit 6cab8cf
Author: Adam Olsen <rhamph@gmail.com>
Date:   Fri Aug 31 03:48:26 2001 +0000

    - change Cache_Get calls to Cache_TryGet (which I just added), so they
      can tollerate failure.
    - minor error message tweak (an emptry string is not NULL!)

 include/QF/zone.h             |    1 +
 libs/audio/renderer/snd_dma.c |   15 +++++++--------
 libs/audio/renderer/snd_mix.c |    2 +-
 libs/models/model.c           |    2 +-
 libs/util/zone.c              |   16 +++++++++++-----
 5 files changed, 21 insertions(+), 15 deletions(-)

commit 2c51098
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 31 03:42:54 2001 +0000

    the plugin structs /definitly/ have to be static and remove some debug from
    alsa_0_9

 libs/audio/renderer/snd_dma.c     |   14 +++++++-------
 libs/audio/targets/snd_alsa_0_5.c |   30 +++++++++++++++---------------
 libs/audio/targets/snd_alsa_0_9.c |    1 -
 3 files changed, 22 insertions(+), 23 deletions(-)

commit bcc7682
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 31 00:16:31 2001 +0000

    missed some vars that should be static

 libs/audio/cd/cd_linux.c |   16 ++++++++--------
 libs/audio/cd/cd_null.c  |   14 +++++++-------
 libs/audio/cd/cd_sdl.c   |   14 +++++++-------
 libs/audio/cd/cd_win.c   |   20 ++++++++++----------
 4 files changed, 32 insertions(+), 32 deletions(-)

commit e469b93
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 31 00:05:58 2001 +0000

     get alsa0_9 working with latest cvs, we need to dlopen the plugin with
     RTDL_GLOBAL. To use RTDL_GLOBAL, we need to make as much static as possible
     and PluginInfo needs a unique name (%s_%s_PluginInfo, type, name).

 libs/audio/cd/cd_linux.c          |   20 +++++------
 libs/audio/cd/cd_null.c           |   16 ++++-----
 libs/audio/cd/cd_sdl.c            |   20 +++++------
 libs/audio/cd/cd_win.c            |   18 +++++-----
 libs/audio/renderer/snd_dma.c     |    2 +-
 libs/audio/renderer/snd_null.c    |    2 +-
 libs/audio/targets/snd_alsa_0_5.c |   18 +++++-----
 libs/audio/targets/snd_alsa_0_9.c |   51 +++++++++++++-------------
 libs/audio/targets/snd_disk.c     |   41 ++++++++++-----------
 libs/audio/targets/snd_mme.c      |   20 +++++------
 libs/audio/targets/snd_null.c     |   72 +++++++++++++++++--------------------
 libs/audio/targets/snd_oss.c      |   42 +++++++++++-----------
 libs/audio/targets/snd_sdl.c      |   36 +++++++++----------
 libs/audio/targets/snd_sgi.c      |   30 ++++++++--------
 libs/audio/targets/snd_sun.c      |   44 +++++++++++------------
 libs/audio/targets/snd_win.c      |   54 ++++++++++++++--------------
 libs/console/client.c             |    2 +-
 libs/console/server.c             |    2 +-
 libs/util/plugin.c                |   11 ++++--
 19 files changed, 251 insertions(+), 250 deletions(-)

commit 2b18896
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Aug 30 22:32:11 2001 +0000

    oh, the joys of asm in shared libs

 libs/audio/renderer/snd_mixa.S |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit a625f17
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Aug 30 22:11:45 2001 +0000

    better sound_started checking

 libs/audio/renderer/snd_dma.c |   12 +++++++-----
 1 file changed, 7 insertions(+), 5 deletions(-)

commit 7aa5ab7
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Aug 30 20:32:27 2001 +0000

    header dep cleanup and IN_LL_Commands is /gone/

 include/QF/input.h              |    1 -
 include/QF/plugin/cd.h          |    1 -
 include/QF/plugin/input.h       |    1 -
 include/QF/plugin/snd_output.h  |    1 -
 include/QF/plugin/snd_render.h  |   10 +++---
 libs/video/targets/in_common.c  |    2 --
 libs/video/targets/in_fbdev.c   |    5 ---
 libs/video/targets/in_sdl.c     |    5 ---
 libs/video/targets/in_svgalib.c |    4 ---
 libs/video/targets/in_win.c     |   66 ++++++++++++++++++---------------------
 libs/video/targets/in_x11.c     |   11 +------
 11 files changed, 37 insertions(+), 70 deletions(-)

commit 822e637
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Aug 30 20:04:13 2001 +0000

    s/_windowed_mouse/in_grab/ and in_grab and in_dga now use callbacks

 include/QF/input.h               |    4 +-
 include/context_x11.h            |    1 +
 libs/video/targets/context_x11.c |   26 ++++++------
 libs/video/targets/in_common.c   |   21 +++++++++-
 libs/video/targets/in_fbdev.c    |   12 +++++-
 libs/video/targets/in_sdl.c      |   28 +++++++------
 libs/video/targets/in_svgalib.c  |   10 +++++
 libs/video/targets/in_win.c      |   10 +++++
 libs/video/targets/in_x11.c      |   85 ++++++++++++++++++++++++--------------
 libs/video/targets/vid_glx.c     |    2 -
 libs/video/targets/vid_mgl.c     |   14 +++----
 libs/video/targets/vid_wgl.c     |   10 ++---
 libs/video/targets/vid_x11.c     |    2 -
 13 files changed, 150 insertions(+), 75 deletions(-)

commit 333bd5e
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Thu Aug 30 19:51:11 2001 +0000

    R_EntityParticles cleanup.

 libs/video/renderer/r_part.c |   21 ++++++++++-----------
 1 file changed, 10 insertions(+), 11 deletions(-)

commit a1f4187
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Aug 30 18:50:30 2001 +0000

    don't force r_wateralpha to one when not connected

 qw/source/cl_main.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d81d7fd
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Aug 30 18:24:19 2001 +0000

    glColor cleanup

 include/r_cvar.h                       |    2 -
 include/r_shared.h                     |    3 ++
 libs/video/renderer/gl/gl_draw.c       |   41 +++++++++---------
 libs/video/renderer/gl/gl_dyn_fires.c  |    4 +-
 libs/video/renderer/gl/gl_dyn_lights.c |    4 +-
 libs/video/renderer/gl/gl_dyn_part.c   |    2 +-
 libs/video/renderer/gl/gl_graph.c      |    2 -
 libs/video/renderer/gl/gl_rmain.c      |   27 ++++++------
 libs/video/renderer/gl/gl_rsurf.c      |   22 +++-------
 libs/video/renderer/gl/gl_screen.c     |    2 +-
 libs/video/renderer/gl/gl_sky_clip.c   |   73 ++++----------------------------
 libs/video/renderer/r_cvar.c           |    2 -
 libs/video/renderer/r_main.c           |    3 ++
 13 files changed, 63 insertions(+), 124 deletions(-)

commit e149094
Author: Adam Olsen <rhamph@gmail.com>
Date:   Thu Aug 30 11:37:50 2001 +0000

    - rename Qalloc and friends to QA_alloc
    - add a QA_strdup
    - add Cache_{Add,Remove,Get,Release}, for the locking version of the
      cache
    - Convert libs/audio/* over to locking cache functions

 include/QF/zone.h             |   24 ++++++--
 libs/audio/renderer/snd_dma.c |   33 ++++++++---
 libs/audio/renderer/snd_mem.c |   48 ++++++++-------
 libs/audio/renderer/snd_mix.c |    7 ++-
 libs/util/zone.c              |  129 +++++++++++++++++++++++++++++++++--------
 5 files changed, 175 insertions(+), 66 deletions(-)

commit fa036c7
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 29 20:55:14 2001 +0000

    inline mark_surfaces

 libs/video/renderer/r_light.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 0d55476
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 29 20:19:54 2001 +0000

    make VectorSubtract and VectorCompare macros and clean up the readability
    of R_DrawParticles

 include/QF/mathlib.h                 |    7 +++++--
 libs/util/mathlib.c                  |    4 ++--
 libs/video/renderer/gl/gl_dyn_part.c |   38 +++++++++-------------------------
 3 files changed, 17 insertions(+), 32 deletions(-)

commit 3656d6f
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 29 17:45:53 2001 +0000

    compile fixes for win32 and take the pruning shears to *sys*.c in qw and nq
    (they're not done yet, though)

 include/QF/sys.h                 |    3 ++
 libs/gamecode/builtins/pr_cmds.c |    2 ++
 libs/util/sys.c                  |   24 +++++++++++++++
 libs/video/targets/in_win.c      |    2 +-
 libs/video/targets/joy_win.c     |    2 +-
 nq/source/sys_null.c             |    5 ---
 nq/source/sys_sdl.c              |   27 ++--------------
 nq/source/sys_unix.c             |   18 +++--------
 nq/source/sys_unixd.c            |   63 ++------------------------------------
 nq/source/sys_win.c              |   35 +++------------------
 nq/source/sys_wind.c             |   24 ++-------------
 qw/source/cl_demo.c              |   19 +++---------
 qw/source/cl_sys_sdl.c           |   22 -------------
 qw/source/cl_sys_unix.c          |   17 ----------
 qw/source/cl_sys_win.c           |   37 ----------------------
 qw/source/sv_sys_unix.c          |   27 ----------------
 qw/source/sv_sys_win.c           |   19 ------------
 17 files changed, 53 insertions(+), 293 deletions(-)

commit 5aceb04
Author: Adam Olsen <rhamph@gmail.com>
Date:   Wed Aug 29 15:29:17 2001 +0000

    - add a cache_print command
    - rename flush to cache_flush
    - split off freeing of cache into a seperate function, as well as
      making it aware of read locks.

 libs/util/zone.c |   21 ++++++++++++++++-----
 1 file changed, 16 insertions(+), 5 deletions(-)

commit 05bd18b
Author: Adam Olsen <rhamph@gmail.com>
Date:   Wed Aug 29 09:27:30 2001 +0000

    - Fix a DIR* memleak when crudefile builds the initial quota.

 qw/source/crudefile.c |    1 +
 1 file changed, 1 insertion(+)

commit 4deed92
Author: Adam Olsen <rhamph@gmail.com>
Date:   Wed Aug 29 09:14:18 2001 +0000

    - Add CACHE_WRITE_{,UN}LOCK macros, and calls to them in Cache_*.  No
      effect until other things are done.
    - Make Qalloc treat no callback as a failed callback
    - Add a Qstrdup
    - Fix a memory leak in cl_slists.c

 libs/util/zone.c     |   71 +++++++++++++++++++++++++++++++++++++++++++++-----
 qw/source/cl_slist.c |    1 +
 2 files changed, 65 insertions(+), 7 deletions(-)

commit a68542f
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 29 04:53:59 2001 +0000

    remove some #if 1 bits (the #if, not the code:)

 libs/video/renderer/r_light.c |    6 ++----
 1 file changed, 2 insertions(+), 4 deletions(-)

commit f423b8a
Author: Adam Olsen <rhamph@gmail.com>
Date:   Wed Aug 29 04:52:03 2001 +0000

    Preliminary Qalloc implimentation.  Not yet used.

 include/QF/zone.h |   18 +++++++++++++++
 libs/util/zone.c  |   66 +++++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 84 insertions(+)

commit 5902dcc
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 29 03:27:31 2001 +0000

    code cleanup

 libs/video/renderer/gl/gl_rsurf.c |   15 ++-------------
 1 file changed, 2 insertions(+), 13 deletions(-)

commit 663c58c
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 29 02:16:17 2001 +0000

    diff--; break;

 libs/video/renderer/sw/d_scan.c      |   13 ++++---
 libs/video/renderer/sw/d_sky.c       |    3 +-
 libs/video/renderer/sw/d_sprite.c    |    2 +-
 libs/video/renderer/sw/d_surf.c      |    7 ++--
 libs/video/renderer/sw/draw.c        |   47 +++++++++--------------
 libs/video/renderer/sw/screen.c      |   13 +++----
 libs/video/renderer/sw32/d_scan.c    |   20 ++++------
 libs/video/renderer/sw32/d_sprite.c  |    2 +-
 libs/video/renderer/sw32/d_surf.c    |   23 +++++++----
 libs/video/renderer/sw32/d_vars.c    |    4 +-
 libs/video/renderer/sw32/draw.c      |   70 +++++++++++++++++++---------------
 libs/video/renderer/sw32/screen.c    |   52 +++++++++----------------
 libs/video/targets/vid_common_sw32.c |    6 +++
 13 files changed, 126 insertions(+), 136 deletions(-)

commit 2f5e0cf
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Wed Aug 29 02:12:57 2001 +0000

    whitespace and headers.

 nq/source/cl_cam.c        |    8 +-
 nq/source/cl_cmd.c        |   12 ++-
 nq/source/cl_input.c      |   72 +++-----------
 nq/source/cl_main.c       |   35 ++-----
 nq/source/cl_parse.c      |   81 +++++++---------
 nq/source/cl_screen.c     |    5 +-
 nq/source/cl_tent.c       |   41 +++-----
 nq/source/cl_view.c       |  163 ++++++++++++++------------------
 nq/source/com.c           |    4 +-
 nq/source/conproc.c       |   35 +++----
 nq/source/console.c       |   65 ++++---------
 nq/source/game.c          |    7 +-
 nq/source/host.c          |  176 ++++++++++++++--------------------
 qw/source/com.c           |    6 +-
 qw/source/console.c       |   75 +++++----------
 qw/source/crudefile.c     |   58 +++++++-----
 qw/source/game.c          |    6 +-
 qw/source/locs.c          |   29 +++---
 qw/source/msg_ucmd.c      |   18 ++--
 qw/source/net_chan.c      |  169 ++++++++++++++++-----------------
 qw/source/net_packetlog.c |  230 ++++++++++++++++++++++++---------------------
 qw/source/net_udp.c       |   71 +++++---------
 qw/source/net_udp6.c      |  129 ++++++++++---------------
 qw/source/pmove.c         |   19 ++--
 24 files changed, 616 insertions(+), 898 deletions(-)

commit d87b164
Author: Timothy C. McGrath <tmhikaru@gmail.com>
Date:   Wed Aug 29 01:31:25 2001 +0000

    Updated the configs so despair's changes to lighting cvars don't
    suddenly make it stop working :)
    
    Misty-chan

 doc/config/glspeed-v1.cfg |    4 ++--
 doc/config/glspeed-v3.cfg |    4 ++--
 2 files changed, 4 insertions(+), 4 deletions(-)

commit b0c7ac9
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 29 01:28:03 2001 +0000

    while (1) diff--;

 libs/video/renderer/sw/d_edge.c     |   20 ++---
 libs/video/renderer/sw/d_init.c     |    3 +-
 libs/video/renderer/sw/d_modech.c   |    8 +-
 libs/video/renderer/sw/d_part.c     |    4 +-
 libs/video/renderer/sw/d_polyse.c   |   26 +++----
 libs/video/renderer/sw32/d_edge.c   |   42 +++++-----
 libs/video/renderer/sw32/d_init.c   |   32 +++-----
 libs/video/renderer/sw32/d_modech.c |    2 +-
 libs/video/renderer/sw32/d_part.c   |    4 +-
 libs/video/renderer/sw32/d_polyse.c |  144 +++++++++++++++++++++++++----------
 10 files changed, 171 insertions(+), 114 deletions(-)

commit aa3442f
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 29 01:20:30 2001 +0000

    rearange the % calc to avoid float (and an ICE in gcc 3)

 libs/util/zone.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit dbae10f
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Tue Aug 28 23:58:22 2001 +0000

    whitespace. grr.

 libs/util/zone.c |   67 +++++++++++++++++++++++++++---------------------------
 1 file changed, 34 insertions(+), 33 deletions(-)

commit ff0cffd
Author: Adam Olsen <rhamph@gmail.com>
Date:   Tue Aug 28 23:26:58 2001 +0000

    - my proof-of-concept mmapped cache code, currently disabled via ifdef
    - also added a cache_profile command, which sorts allocations into
      power-of-2 sizes, then prints out how many are of that size, the
      average amount they use, and the percent of total memory is used.
      Also prints out totally allocated size, number of allocations, and
      average per allocation.

 libs/util/zone.c |   86 ++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 86 insertions(+)

commit ade9960
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Tue Aug 28 23:05:45 2001 +0000

    header/whitespace sweep continues.

 qw/source/cl_cam.c      |   60 ++++++----------
 qw/source/cl_cmd.c      |    8 +--
 qw/source/cl_demo.c     |  126 +++++++++++++++------------------
 qw/source/cl_ents.c     |  111 ++++++++++++-----------------
 qw/source/cl_input.c    |   85 ++++-------------------
 qw/source/cl_main.c     |  177 ++++++++++++++++++-----------------------------
 qw/source/cl_misc.c     |    4 +-
 qw/source/cl_ngraph.c   |    6 +-
 qw/source/cl_parse.c    |  137 +++++++++++++-----------------------
 qw/source/cl_pred.c     |   11 +--
 qw/source/cl_screen.c   |   18 +++--
 qw/source/cl_skin.c     |   27 ++++----
 qw/source/cl_slist.c    |   69 +++++++++---------
 qw/source/cl_sys_sdl.c  |   12 ++--
 qw/source/cl_sys_unix.c |    5 +-
 qw/source/cl_sys_win.c  |   10 +--
 qw/source/cl_tent.c     |   44 +++++-------
 qw/source/cl_view.c     |   53 ++++++--------
 18 files changed, 379 insertions(+), 584 deletions(-)

commit 1148955
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Aug 28 22:46:02 2001 +0000

    gratuitous_diff--

 libs/video/renderer/sw/sw_graph.c       |    2 +-
 libs/video/renderer/sw/sw_raclip.c      |    2 +-
 libs/video/renderer/sw/sw_ralias.c      |    4 +-
 libs/video/renderer/sw/sw_rdraw.c       |   22 +++----
 libs/video/renderer/sw/sw_redge.c       |   27 +++++----
 libs/video/renderer/sw/sw_rmisc.c       |    2 +-
 libs/video/renderer/sw/sw_rpart.c       |    4 +-
 libs/video/renderer/sw/sw_rsprite.c     |    5 +-
 libs/video/renderer/sw/sw_rsurf.c       |   10 ++--
 libs/video/renderer/sw/sw_skin.c        |    1 +
 libs/video/renderer/sw32/sw32_graph.c   |   99 +++++++++++++++----------------
 libs/video/renderer/sw32/sw32_raclip.c  |    6 ++
 libs/video/renderer/sw32/sw32_ralias.c  |   11 +++-
 libs/video/renderer/sw32/sw32_rdraw.c   |   17 +++---
 libs/video/renderer/sw32/sw32_redge.c   |   52 ++++++----------
 libs/video/renderer/sw32/sw32_rmain.c   |    2 -
 libs/video/renderer/sw32/sw32_rmisc.c   |   19 +++---
 libs/video/renderer/sw32/sw32_rpart.c   |   49 ++++++---------
 libs/video/renderer/sw32/sw32_rsky.c    |    9 ++-
 libs/video/renderer/sw32/sw32_rsprite.c |   22 +++----
 libs/video/renderer/sw32/sw32_rsurf.c   |   11 ++--
 libs/video/renderer/sw32/sw32_skin.c    |    7 ++-
 22 files changed, 185 insertions(+), 198 deletions(-)

commit baaa452
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Aug 28 20:51:51 2001 +0000

    merge error fixes

 libs/video/renderer/sw/sw_rbsp.c      |   33 +++--
 libs/video/renderer/sw/sw_rmain.c     |   33 ++---
 libs/video/renderer/sw32/sw32_rbsp.c  |   38 +++---
 libs/video/renderer/sw32/sw32_rmain.c |  214 +++++++++++++++++----------------
 4 files changed, 156 insertions(+), 162 deletions(-)

commit 6d386c5
Author: Adam Olsen <rhamph@gmail.com>
Date:   Tue Aug 28 15:55:21 2001 +0000

    My ideas for we could do Qmalloc and reworking Cache_*.

 doc/ideas/memory.txt |   26 ++++++++++++++++++++++++++
 1 file changed, 26 insertions(+)

commit ff2b08b
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Aug 28 06:15:58 2001 +0000

    make the Z_Malloc zone checking depend on developer

 libs/util/zone.c |    6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit d1a7649
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Aug 28 06:06:59 2001 +0000

    these too

 qw/source/makefile.mgw |  237 ------------------------------------------------
 qw/source/makefile.win |   68 --------------
 2 files changed, 305 deletions(-)

commit 6699781
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Aug 28 06:05:59 2001 +0000

    forgot to nuke these with the mak files

 qw/source/qw_client.dsp | 2451 -----------------------------------------------
 qw/source/qw_server.dsp |  429 ---------
 2 files changed, 2880 deletions(-)

commit 13ecebd
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Aug 28 05:21:30 2001 +0000

    make Z_Malloc and friends more useful by allowing multiple zones

 include/QF/zone.h |   13 ++++++-------
 libs/util/zone.c  |   51 ++++++++++++++++++++++++---------------------------
 2 files changed, 30 insertions(+), 34 deletions(-)

commit 2f9fd74
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Aug 28 04:24:40 2001 +0000

    zone.c gets its name back

 include/QF/zone.h |    8 +++
 libs/util/zone.c  |  192 +++++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 200 insertions(+)

commit b1c0bb7
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Tue Aug 28 03:47:10 2001 +0000

    Header/whitespace rampage continues.

 qw/source/pmove.c    |  195 ++++++++++------------------
 qw/source/pmovetst.c |   58 +++------
 qw/source/sbar.c     |   90 ++++---------
 qw/source/skin.c     |    2 +-
 qw/source/teamplay.c |  343 ++++++++++++++++++++++++++------------------------
 qw/source/world.c    |   79 ++++--------
 6 files changed, 306 insertions(+), 461 deletions(-)

commit f4fd317
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Tue Aug 28 02:43:24 2001 +0000

    More header and whitespace horror reduction.

 qw/source/sv_ccmds.c    |  258 ++++++++++-----------
 qw/source/sv_console.c  |   10 +-
 qw/source/sv_cvar.c     |    5 +-
 qw/source/sv_ents.c     |   83 +++----
 qw/source/sv_init.c     |   68 +++---
 qw/source/sv_main.c     |  570 ++++++++++++++++++++---------------------------
 qw/source/sv_model.c    |    3 +-
 qw/source/sv_move.c     |  114 ++++------
 qw/source/sv_nchan.c    |    6 +-
 qw/source/sv_phys.c     |  372 +++++++++++++------------------
 qw/source/sv_pr_cmds.c  |  506 +++++++++++++++++++++--------------------
 qw/source/sv_progs.c    |  105 +++++----
 qw/source/sv_send.c     |  167 ++++++--------
 qw/source/sv_sys_unix.c |   35 ++-
 qw/source/sv_sys_win.c  |   44 ++--
 15 files changed, 1071 insertions(+), 1275 deletions(-)

commit 57e98c8
Author: Adam Olsen <rhamph@gmail.com>
Date:   Tue Aug 28 01:14:21 2001 +0000

    Add a builtin for hullpointcontents, since gcc doesn't like unused
    static functions

 nq/source/pr_cmds.c |    1 +
 1 file changed, 1 insertion(+)

commit a9d6bc9
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Aug 27 23:21:09 2001 +0000

    total nukage of #ifdef QUAKE2 (R_DarkFieldParticles is present, just unused)

 include/r_dynamic.h          |    2 -
 libs/video/renderer/r_part.c |    2 -
 nq/include/client.h          |    9 -
 nq/include/protocol.h        |    4 -
 nq/include/server.h          |   31 ---
 nq/source/cl_input.c         |    6 -
 nq/source/cl_main.c          |   23 ---
 nq/source/cl_tent.c          |   43 -----
 nq/source/host_cmd.c         |  244 -----------------------
 nq/source/pr_cmds.c          |  260 -------------------------
 nq/source/sv_main.c          |   30 ---
 nq/source/sv_phys.c          |  436 +-----------------------------------------
 nq/source/sv_user.c          |    5 -
 qw/include/protocol.h        |    4 -
 qw/source/cl_tent.c          |   43 -----
 15 files changed, 4 insertions(+), 1138 deletions(-)

commit 330044e
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Aug 27 22:36:28 2001 +0000

    don't need sv_misc anymore

 qw/source/Makefile.am |    2 +-
 qw/source/sv_main.c   |    2 ++
 qw/source/sv_misc.c   |   45 ---------------------------------------------
 3 files changed, 3 insertions(+), 46 deletions(-)

commit b90ef92
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Aug 27 22:30:00 2001 +0000

    old bagage removal

 qw/source/qf-client-sdl.mak |  963 -------------------------------------------
 qw/source/qf-client-sgl.mak |  809 ------------------------------------
 qw/source/qf-client-wgl.mak |  791 -----------------------------------
 qw/source/qf-client-win.mak |  957 ------------------------------------------
 qw/source/qf-server.mak     |  495 ----------------------
 5 files changed, 4015 deletions(-)

commit 74dfef5
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Aug 27 22:16:11 2001 +0000

    sort-of merge world.h and (mostly: Sys/Con vs SV) world.c this winds up
    bringing rotated bboxes into nq :)

 nq/include/sv_progs.h |    2 +
 nq/include/world.h    |   41 ++++++++---
 nq/source/pr_cmds.c   |  184 +++++++++++++++++++++++++++++++++++++++++++++-
 nq/source/sv_progs.c  |    2 +
 nq/source/world.c     |  196 +++++++++++++++++++++++++++++++++++++------------
 qw/include/world.h    |   38 +++++-----
 qw/source/world.c     |   29 +++++---
 7 files changed, 403 insertions(+), 89 deletions(-)

commit 3edd455
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Aug 27 21:13:00 2001 +0000

    heh, nor do we need PROGHEADER_CRC

 include/QF/progs.h                   |    6 +-
 libs/video/renderer/sw32/sw32_skin.c |  177 +++++++++++++++++-----------------
 nq/source/sv_progs.c                 |    2 -
 qw/include/client.h                  |    1 +
 qw/source/sv_progs.c                 |    2 -
 5 files changed, 92 insertions(+), 96 deletions(-)

commit 9d27a12
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Aug 27 21:09:13 2001 +0000

    progdefs? where we're going we dont need... progdefs

 nq/include/Makefile.am |    4 +-
 nq/include/progdefs.h  |   33 ----------
 nq/include/progdefs.q1 |  143 -----------------------------------------
 nq/include/progdefs.q2 |  158 ---------------------------------------------
 nq/source/sv_progs.c   |    3 +-
 qw/include/Makefile.am |    2 +-
 qw/include/progdefs.h  |  167 ------------------------------------------------
 qw/include/server.h    |   29 ++++-----
 qw/include/world.h     |    1 -
 qw/source/sv_progs.c   |    5 +-
 10 files changed, 22 insertions(+), 523 deletions(-)

commit 500b5c0
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Mon Aug 27 21:00:37 2001 +0000

    More header fixes, whitespace cleanups.

 qw/source/cl_sys_sdl.c  |   54 +++++++++--------------
 qw/source/cl_sys_unix.c |   42 ++++++++----------
 qw/source/cl_sys_win.c  |  111 ++++++++++++++++++++---------------------------
 3 files changed, 84 insertions(+), 123 deletions(-)

commit 9a678a5
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Aug 27 18:53:09 2001 +0000

    final eradication of basedir and cachedir

 nq/include/host.h     |    2 --
 nq/source/sys_null.c  |    1 -
 nq/source/sys_unix.c  |    7 -------
 nq/source/sys_unixd.c |    5 -----
 nq/source/sys_win.c   |    3 ---
 nq/source/sys_wind.c  |    2 --
 6 files changed, 20 deletions(-)

commit eb7982f
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Mon Aug 27 07:17:13 2001 +0000

    Compile fix.

 nq/source/sv_progs.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 277b141
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Mon Aug 27 07:13:32 2001 +0000

    Header cleanups (<strings.h> outside without HAVE_* tests and the like, multiply including several headers unless on windows, and other bizarre messes). Plus a hefty dose of whitespace.

 nq/source/net_udp.c   |   96 ++-----
 nq/source/sv_cvar.c   |    1 +
 nq/source/sv_ded.c    |    7 +-
 nq/source/sv_main.c   |  413 +++++++++++--------------------
 nq/source/sv_move.c   |  114 ++++-----
 nq/source/sv_phys.c   |  660 +++++++++++++++++++------------------------------
 nq/source/sv_progs.c  |  118 +++++----
 nq/source/sv_user.c   |  198 +++++----------
 nq/source/sys_null.c  |   30 +--
 nq/source/sys_sdl.c   |   53 ++--
 nq/source/sys_unix.c  |   40 ++-
 nq/source/sys_unixd.c |   34 +--
 nq/source/sys_win.c   |   97 ++------
 nq/source/sys_wind.c  |   41 +--
 nq/source/world.c     |   45 +---
 15 files changed, 701 insertions(+), 1246 deletions(-)

commit 272332b
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Aug 27 06:16:43 2001 +0000

    make Sys_HighFPPrecision and Sys_LowFPPrecision available in sdl

 nq/source/sys_sdl.c    |   14 ++++++++++++++
 qw/source/cl_sys_sdl.c |   14 ++++++++++++++
 2 files changed, 28 insertions(+)

commit abb1469
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Aug 27 05:15:39 2001 +0000

    fix a minor but important thinko that caused a nasty seg

 libs/gamecode/builtins/pr_cmds.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 5e4d7e4
Author: Adam Olsen <rhamph@gmail.com>
Date:   Mon Aug 27 03:17:59 2001 +0000

    Add a sprintf builtin

 libs/gamecode/builtins/pr_cmds.c |  245 +++++++++++++++++++++++++++++++++++++-
 1 file changed, 243 insertions(+), 2 deletions(-)

commit 793efd6
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Mon Aug 27 01:00:03 2001 +0000

    Whitespace.

 libs/audio/cd.c                      |    9 +-
 libs/audio/cd/cd_linux.c             |   18 +-
 libs/audio/cd/cd_null.c              |    7 -
 libs/audio/cd/cd_sdl.c               |   12 +-
 libs/audio/cd/cd_sgi.c               |   12 +-
 libs/audio/cd/cd_win.c               |   18 +-
 libs/audio/renderer/snd_dma.c        |   24 +-
 libs/audio/renderer/snd_mem.c        |    4 +-
 libs/audio/renderer/snd_mix.c        |    9 +-
 libs/audio/renderer/snd_null.c       |    7 +-
 libs/audio/snd.c                     |   25 +-
 libs/video/renderer/gl/gl_rmain.c    |    2 +-
 libs/video/renderer/r_light.c        |   34 +-
 libs/video/renderer/r_part.c         |   27 +-
 libs/video/targets/dga_check.c       |   10 +-
 libs/video/targets/fbset.c           |  900 ++++++++++++++++------------------
 libs/video/targets/in_common.c       |    8 +-
 libs/video/targets/in_event.c        |   23 +-
 libs/video/targets/in_fbdev.c        |   13 +-
 libs/video/targets/in_null.c         |    3 -
 libs/video/targets/in_sdl.c          |   11 +-
 libs/video/targets/in_svgalib.c      |   22 +-
 libs/video/targets/in_win.c          |  126 ++---
 libs/video/targets/in_x11.c          |   23 +-
 libs/video/targets/joy.c             |    1 +
 libs/video/targets/joy_linux.c       |    3 +-
 libs/video/targets/joy_win.c         |  127 +++--
 libs/video/targets/keys.c            |   62 +--
 libs/video/targets/old_keys.c        |    2 +-
 libs/video/targets/qfgl_ext.c        |   23 +-
 libs/video/targets/vid.c             |   17 +-
 libs/video/targets/vid_common_sw32.c |    1 -
 32 files changed, 667 insertions(+), 916 deletions(-)

commit b1666de
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sun Aug 26 19:47:35 2001 +0000

    Remove unused code.

 libs/video/renderer/gl/gl_rsurf.c  |    9 ---------
 libs/video/renderer/gl/gl_screen.c |    4 +---
 libs/video/renderer/sw/sw_rsurf.c  |   18 +-----------------
 3 files changed, 2 insertions(+), 29 deletions(-)

commit b64822e
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sun Aug 26 17:32:30 2001 +0000

    Why r_var.c had extern R_ForceLightUpdate I've no idea, but it doesn't anymore.

 libs/video/renderer/r_cvar.c |    1 -
 1 file changed, 1 deletion(-)

commit da1c680
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sun Aug 26 17:13:33 2001 +0000

    Whitespace.

 libs/video/renderer/gl/gl_rmain.c |   18 +++++++++---------
 1 file changed, 9 insertions(+), 9 deletions(-)

commit 84b2070
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sun Aug 26 16:54:33 2001 +0000

    Whitespace.

 libs/video/renderer/r_cvar.c  |    1 +
 libs/video/renderer/r_efrag.c |   38 ++++++++++++--------------------------
 libs/video/renderer/r_ent.c   |    3 ++-
 libs/video/renderer/r_graph.c |    3 +--
 libs/video/renderer/r_main.c  |    4 +---
 libs/video/renderer/r_part.c  |    4 +---
 6 files changed, 18 insertions(+), 35 deletions(-)

commit 707c4aa
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sun Aug 26 13:24:38 2001 +0000

    I like it better when quakeforge compiles.
    -Werror feels otherwise.
    *grmbl*

 libs/gamecode/builtins/pr_cmds.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 3678640
Author: Adam Olsen <rhamph@gmail.com>
Date:   Sun Aug 26 10:13:03 2001 +0000

    Doh, need this header change to compile.

 include/QF/progs.h |    1 +
 1 file changed, 1 insertion(+)

commit 74e9786
Author: Adam Olsen <rhamph@gmail.com>
Date:   Sun Aug 26 06:35:03 2001 +0000

    Extend PF_Find to support searching for different field types

 libs/gamecode/builtins/pr_cmds.c |   55 ++++++++++++++++++++++++++++++--------
 1 file changed, 44 insertions(+), 11 deletions(-)

commit 6e73ba0
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sun Aug 26 01:08:09 2001 +0000

    Whitespace, plus comment out unused code.

 libs/gamecode/builtins/pr_cmds.c |   72 ++++++++++++++++++++------------------
 1 file changed, 37 insertions(+), 35 deletions(-)

commit 72f91dc
Author: Adam Olsen <rhamph@gmail.com>
Date:   Sun Aug 26 00:05:31 2001 +0000

    comment cleanups, and a little harmless (?) bugglet fix in the
    charcount builtin's error handling code.

 libs/gamecode/builtins/pr_cmds.c |   65 ++++++++++++++++++--------------------
 1 file changed, 30 insertions(+), 35 deletions(-)

commit 06dd45b
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sat Aug 25 23:23:14 2001 +0000

    Merge common lighting code. Still some lightmap-related code in *_rsurf.c that might be mergable. This is the first step towards 3 component lighting for the sw32 renderer.
    
    Note that gl_lightmap_components is now r_lightmap_components, and gl_dlight_lightmaps is now r_dlight_lightmaps.

 include/r_cvar.h                       |    4 +-
 libs/video/renderer/Makefile.am        |    3 +-
 libs/video/renderer/gl/Makefile.am     |    8 +-
 libs/video/renderer/gl/gl_draw.c       |    7 +-
 libs/video/renderer/gl/gl_dyn_lights.c |  156 ++++++++++
 libs/video/renderer/gl/gl_dyn_part.c   |   12 +-
 libs/video/renderer/gl/gl_rlight.c     |  532 --------------------------------
 libs/video/renderer/gl/gl_rsurf.c      |   33 +-
 libs/video/renderer/r_cvar.c           |   16 +-
 libs/video/renderer/r_light.c          |  416 +++++++++++++++++++++++++
 libs/video/renderer/sw/Makefile.am     |   17 +-
 libs/video/renderer/sw/sw_rlight.c     |  365 ----------------------
 libs/video/renderer/sw32/Makefile.am   |    7 +-
 libs/video/renderer/sw32/sw32_rlight.c |  365 ----------------------
 14 files changed, 625 insertions(+), 1316 deletions(-)

commit c6ec43d
Author: Adam Olsen <rhamph@gmail.com>
Date:   Sat Aug 25 09:21:40 2001 +0000

    some build fixes, which I'm not sure are right, and a fix for
    fullscreen toggling.

 libs/video/renderer/sw32/sw32_rpart.c |    6 ++++++
 libs/video/renderer/sw32/sw32_skin.c  |   13 +++++++------
 libs/video/targets/vid_sdl32.c        |    2 ++
 3 files changed, 15 insertions(+), 6 deletions(-)

commit 2a02796
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Aug 25 05:54:21 2001 +0000

    various init order fixes and a */[] snafu sorted
    also make translations big enough for the 32 bit colors

 libs/video/renderer/sw32/d_init.c    |   11 ++++++++---
 libs/video/renderer/sw32/d_scan.c    |    2 +-
 libs/video/renderer/sw32/d_sprite.c  |    2 +-
 libs/video/renderer/sw32/d_surf.c    |    2 ++
 libs/video/targets/vid_common_sw32.c |    5 ++---
 libs/video/targets/vid_sdl.c         |    3 +--
 nq/include/client.h                  |    2 +-
 qw/include/client.h                  |    2 +-
 8 files changed, 17 insertions(+), 12 deletions(-)

commit 2634b44
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Aug 25 04:53:00 2001 +0000

    initialize the gamma

 libs/video/targets/vid_sdl32.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a401d6f
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Aug 25 04:47:07 2001 +0000

    enable the screen update code but things are still black (palette issues?)

 libs/video/targets/vid_sdl32.c |   29 ++++++++++++++++-------------
 1 file changed, 16 insertions(+), 13 deletions(-)

commit 5019040
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sat Aug 25 04:40:40 2001 +0000

    .gitignore update for sdl32.

 nq/source/.gitignore |    1 +
 qw/source/.gitignore |    2 ++
 2 files changed, 3 insertions(+)

commit 5134978
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Aug 25 04:36:27 2001 +0000

    allocate space for the color maps

 libs/video/targets/vid_common_sw32.c |    3 +++
 1 file changed, 3 insertions(+)

commit f7f04aa
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sat Aug 25 03:53:05 2001 +0000

    Add .gitignore. Whee.

 libs/video/renderer/sw32/.gitignore |    7 +++++++
 1 file changed, 7 insertions(+)

commit 4ed75b0
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Aug 25 03:52:34 2001 +0000

    "Yay, it builds!"
    "Ah, but does it work?"

 libs/video/renderer/sw32/screen.c     |    7 ++++
 libs/video/renderer/sw32/sw32_redge.c |   10 ------
 libs/video/renderer/sw32/sw32_skin.c  |    5 +++
 libs/video/targets/Makefile.am        |    2 +-
 libs/video/targets/vid_common_sw32.c  |   61 +++++++++++++++++++++++++++++++++
 libs/video/targets/vid_sdl32.c        |    6 ++++
 6 files changed, 80 insertions(+), 11 deletions(-)

commit 8fa46e9
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Aug 25 03:24:44 2001 +0000

    almost there getting the sw32 client to link

 libs/video/renderer/sw32/screen.c      |  137 ++------------------------------
 libs/video/renderer/sw32/sw32_rlight.c |   52 ++++++++++++
 libs/video/renderer/sw32/sw32_rmain.c  |    9 +--
 libs/video/renderer/sw32/sw32_rpart.c  |   65 ++++++++++++++-
 libs/video/renderer/sw32/sw32_rsurf.c  |    5 ++
 libs/video/targets/Makefile.am         |    2 +-
 6 files changed, 129 insertions(+), 141 deletions(-)

commit 20544c6
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sat Aug 25 03:06:46 2001 +0000

    Remove some obsolete comments.

 libs/models/alias/sw32_model_alias.c |    4 +---
 libs/video/renderer/sw32/d_edge.c    |    1 -
 libs/video/renderer/sw32/d_fill.c    |    1 -
 libs/video/renderer/sw32/d_modech.c  |    1 -
 libs/video/renderer/sw32/d_part.c    |    1 -
 libs/video/renderer/sw32/d_polyse.c  |    2 --
 libs/video/renderer/sw32/d_scan.c    |    5 ++---
 libs/video/renderer/sw32/d_sky.c     |    1 -
 libs/video/renderer/sw32/d_sprite.c  |    3 +--
 libs/video/renderer/sw32/d_zpoint.c  |    1 -
 libs/video/renderer/sw32/draw.c      |    5 -----
 libs/video/renderer/sw32/screen.c    |   28 +---------------------------
 12 files changed, 5 insertions(+), 48 deletions(-)

commit c6266ab
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sat Aug 25 02:47:11 2001 +0000

    sw32. Flee in terror. This'll break compilation for everything until -sdl32 compiles. sw32 wont work for a while either, so don't get overly excited yet.

 configure.ac                            |   20 +-
 include/QF/draw.h                       |    6 +-
 include/QF/qtypes.h                     |    2 -
 include/QF/skin.h                       |    7 +-
 include/QF/vid.h                        |   47 +-
 include/d_iface.h                       |    2 +-
 include/d_local.h                       |   22 +-
 include/r_shared.h                      |    4 +-
 libs/console/client.c                   |   22 +-
 libs/models/Makefile.am                 |   15 +-
 libs/models/alias/Makefile.am           |   11 +-
 libs/models/alias/sw32_model_alias.c    |  289 ++++++++
 libs/models/alias/sw_model_alias.c      |   22 +-
 libs/models/brush/Makefile.am           |   11 +-
 libs/models/brush/model_brush.c         |    5 +-
 libs/models/brush/sw32_model_brush.c    |   70 ++
 libs/models/sprite/Makefile.am          |   11 +-
 libs/models/sprite/sw32_model_sprite.c  |  116 +++
 libs/video/renderer/Makefile.am         |   17 +-
 libs/video/renderer/gl/gl_draw.c        |   24 +-
 libs/video/renderer/gl/gl_rmisc.c       |    5 +-
 libs/video/renderer/gl/gl_screen.c      |    8 +-
 libs/video/renderer/gl/gl_skin.c        |    2 +-
 libs/video/renderer/r_ent.c             |    2 +-
 libs/video/renderer/r_graph.c           |   15 +-
 libs/video/renderer/sw/d_edge.c         |   11 +-
 libs/video/renderer/sw/d_scan.c         |    2 +-
 libs/video/renderer/sw/d_sky.c          |    2 +-
 libs/video/renderer/sw/d_surf.c         |    2 +-
 libs/video/renderer/sw/d_vars.c         |    6 +-
 libs/video/renderer/sw/draw.c           |   25 +-
 libs/video/renderer/sw/screen.c         |  125 ++--
 libs/video/renderer/sw/sw_graph.c       |    7 +-
 libs/video/renderer/sw/sw_raclip.c      |    3 +-
 libs/video/renderer/sw/sw_ralias.c      |    2 +-
 libs/video/renderer/sw/sw_rbsp.c        |    2 +-
 libs/video/renderer/sw/sw_rdraw.c       |    5 +-
 libs/video/renderer/sw/sw_redge.c       |    2 +-
 libs/video/renderer/sw/sw_rlight.c      |    2 -
 libs/video/renderer/sw/sw_rmain.c       |   48 +-
 libs/video/renderer/sw/sw_rmisc.c       |   23 +-
 libs/video/renderer/sw/sw_rsprite.c     |    2 +-
 libs/video/renderer/sw/sw_rsurf.c       |   22 +-
 libs/video/renderer/sw/sw_skin.c        |   12 +-
 libs/video/renderer/sw32/Makefile.am    |   17 +
 libs/video/renderer/sw32/d_edge.c       |  316 +++++++++
 libs/video/renderer/sw32/d_fill.c       |  162 +++++
 libs/video/renderer/sw32/d_init.c       |  141 ++++
 libs/video/renderer/sw32/d_modech.c     |   98 +++
 libs/video/renderer/sw32/d_part.c       |  382 ++++++++++
 libs/video/renderer/sw32/d_polyse.c     |  941 +++++++++++++++++++++++++
 libs/video/renderer/sw32/d_scan.c       |  892 +++++++++++++++++++++++
 libs/video/renderer/sw32/d_sky.c        |  277 ++++++++
 libs/video/renderer/sw32/d_sprite.c     |  728 +++++++++++++++++++
 libs/video/renderer/sw32/d_surf.c       |  318 +++++++++
 libs/video/renderer/sw32/d_vars.c       |   54 ++
 libs/video/renderer/sw32/d_zpoint.c     |   70 ++
 libs/video/renderer/sw32/draw.c         | 1176 +++++++++++++++++++++++++++++++
 libs/video/renderer/sw32/screen.c       | 1116 +++++++++++++++++++++++++++++
 libs/video/renderer/sw32/sw32_graph.c   |  101 +++
 libs/video/renderer/sw32/sw32_raclip.c  |  319 +++++++++
 libs/video/renderer/sw32/sw32_ralias.c  |  679 ++++++++++++++++++
 libs/video/renderer/sw32/sw32_rbsp.c    |  579 +++++++++++++++
 libs/video/renderer/sw32/sw32_rdraw.c   |  796 +++++++++++++++++++++
 libs/video/renderer/sw32/sw32_redge.c   |  665 +++++++++++++++++
 libs/video/renderer/sw32/sw32_rlight.c  |  313 ++++++++
 libs/video/renderer/sw32/sw32_rmain.c   |  997 ++++++++++++++++++++++++++
 libs/video/renderer/sw32/sw32_rmisc.c   |  385 ++++++++++
 libs/video/renderer/sw32/sw32_rpart.c   |  546 ++++++++++++++
 libs/video/renderer/sw32/sw32_rsky.c    |  270 +++++++
 libs/video/renderer/sw32/sw32_rsprite.c |  381 ++++++++++
 libs/video/renderer/sw32/sw32_rsurf.c   |  916 ++++++++++++++++++++++++
 libs/video/renderer/sw32/sw32_skin.c    |  187 +++++
 libs/video/targets/Makefile.am          |   28 +-
 libs/video/targets/vid_3dfxsvga.c       |   50 +-
 libs/video/targets/vid_common_sw32.c    |  201 ++++++
 libs/video/targets/vid_fbdev.c          |   54 +-
 libs/video/targets/vid_glx.c            |   39 +-
 libs/video/targets/vid_mgl.c            |  829 +++++++++-------------
 libs/video/targets/vid_null.c           |   11 +-
 libs/video/targets/vid_sdl.c            |   19 +-
 libs/video/targets/vid_sdl32.c          |  283 ++++++++
 libs/video/targets/vid_sgl.c            |   11 +-
 libs/video/targets/vid_svgalib.c        |   47 +-
 libs/video/targets/vid_vga.c            |    6 +-
 libs/video/targets/vid_wgl.c            |  397 +++++------
 libs/video/targets/vid_x11.c            |   36 +-
 nq/source/.indent.pro                   |    1 -
 nq/source/Makefile.am                   |   14 +-
 nq/source/cl_parse.c                    |    6 +-
 nq/source/cl_tent.c                     |    2 +-
 nq/source/cl_view.c                     |    2 +-
 nq/source/console.c                     |   20 +-
 nq/source/sbar.c                        |   34 +-
 qw/source/.indent.pro                   |    1 -
 qw/source/Makefile.am                   |   29 +-
 qw/source/cl_ents.c                     |   76 +-
 qw/source/cl_ngraph.c                   |    4 +-
 qw/source/cl_screen.c                   |    6 +-
 qw/source/cl_tent.c                     |    2 +-
 qw/source/cl_view.c                     |  183 +++--
 qw/source/console.c                     |   18 +-
 qw/source/sbar.c                        |  106 +--
 103 files changed, 15940 insertions(+), 1455 deletions(-)

commit 805c1bd
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 24 23:22:02 2001 +0000

    foo (snafu, bar (baz)) no longer uses a temp for bar's return value

 tools/qfcc/source/expr.c |   22 ++++++++++++++--------
 1 file changed, 14 insertions(+), 8 deletions(-)

commit f16886b
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 24 22:29:06 2001 +0000

    missed a need to increment the users of the temp for chained functions

 tools/qfcc/source/expr.c |    1 +
 1 file changed, 1 insertion(+)

commit cee850e
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 24 22:03:50 2001 +0000

    remove debug

 tools/qfcc/source/expr.c |    1 -
 1 file changed, 1 deletion(-)

commit 8166ee7
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 24 21:57:07 2001 +0000

    fix a whitespace snafu (gee, vim can be a pain somethings)

 tools/qfcc/source/expr.c |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit ea451ab
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 24 21:47:52 2001 +0000

    Remove unnecessary temps from function return values. This has one
    */CRITICAL/* implication: DO NOT /EVER/ RELY ON EVALUATION ORDER. This
    isn't /really/ that bad: evaluation order will be consistent for similar
    expressions, but for (eg) foo() + bar()*2, bar will be called first.

 tools/qfcc/include/expr.h |    1 +
 tools/qfcc/source/emit.c  |   12 ++++++++++--
 tools/qfcc/source/expr.c  |   18 +++++++++++-------
 3 files changed, 22 insertions(+), 9 deletions(-)

commit 08f73be
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 24 21:14:04 2001 +0000

    better code generation for foo(bar(baz)). foo(snafu,bar(baz)) isn't optimal
    yet, but the code is at least correct

 tools/qfcc/source/emit.c |    7 +++++++
 tools/qfcc/source/expr.c |   25 +++++++++++++++++++------
 2 files changed, 26 insertions(+), 6 deletions(-)

commit eeec89e
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 24 05:40:48 2001 +0000

    don't put function args in temps when not needed. still need to take care
    of the return value, but that can possibly be taken care of in an optimiser
    pass.

 tools/qfcc/source/expr.c |   34 ++++++++++++++++++++++++++++++----
 1 file changed, 30 insertions(+), 4 deletions(-)

commit 1ccccc6
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 24 04:09:56 2001 +0000

    ipv6 compile fixes from Damm

 qw/source/net_udp6.c |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 9c9756c
Author: Adam Olsen <rhamph@gmail.com>
Date:   Fri Aug 24 02:38:28 2001 +0000

    Start of non-mmaped OSS sound support.  it uses a cvar, so it's not
    active yet.

 libs/audio/targets/snd_oss.c |   49 +++++++++++++++++++++++++++++++++---------
 1 file changed, 39 insertions(+), 10 deletions(-)

commit bd847e7
Author: Adam Olsen <rhamph@gmail.com>
Date:   Thu Aug 23 23:34:38 2001 +0000

    Add support for dumping backtraces.

 configure.ac                     |    2 +-
 libs/video/targets/context_x11.c |   34 ++++++++++++++++++++++++++++++++++
 2 files changed, 35 insertions(+), 1 deletion(-)

commit 79be73f
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Aug 23 20:28:41 2001 +0000

    we now require sdl 1.2 for sdl support

 acinclude.m4                 |   96 ------------------------------------------
 configure.ac                 |   10 ++---
 libs/video/targets/in_sdl.c  |    3 --
 libs/video/targets/vid_sgl.c |   13 ------
 4 files changed, 5 insertions(+), 117 deletions(-)

commit 9084910
Author: Adam Olsen <rhamph@gmail.com>
Date:   Thu Aug 23 11:40:53 2001 +0000

    Build fixes, notably for snd_sdl.c.  It segfaults on shutdown though
    :/

 libs/audio/renderer/snd_dma.c |    3 ---
 libs/audio/targets/snd_disk.c |    7 ++++++-
 libs/audio/targets/snd_mme.c  |    8 ++++----
 libs/audio/targets/snd_sdl.c  |   28 +++++++++++++++++++++++-----
 libs/audio/targets/snd_sun.c  |   25 +++++++++++++++----------
 libs/audio/targets/snd_win.c  |   20 ++++++++------------
 6 files changed, 56 insertions(+), 35 deletions(-)

commit e935351
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Aug 23 05:52:51 2001 +0000

    nuke the i flag from sed. it's no longer needed and breaks on bsd

 bootstrap |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 50e5452
Author: Adam Olsen <rhamph@gmail.com>
Date:   Thu Aug 23 04:52:54 2001 +0000

    remove extra calls to SNDDMA_Init_Cvars

 libs/audio/targets/snd_alsa_0_5.c |    2 --
 libs/audio/targets/snd_alsa_0_9.c |    2 --
 libs/audio/targets/snd_oss.c      |    2 --
 3 files changed, 6 deletions(-)

commit 62e1819
Author: Adam Olsen <rhamph@gmail.com>
Date:   Thu Aug 23 04:18:55 2001 +0000

    build fixes

 libs/audio/targets/snd_alsa_0_9.c |    6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit cad42cb
Author: Adam Olsen <rhamph@gmail.com>
Date:   Thu Aug 23 04:01:46 2001 +0000

    Put the sound renderer in it's proper place: as a full-fledged plugin.
    
    Bugs expected.  Please report them :)

 configure.ac                      |   28 +-
 include/QF/plugin.h               |   14 +-
 include/QF/plugin/Makefile.am     |    2 +-
 include/QF/plugin/snd_output.h    |   59 +++
 include/QF/plugin/snd_render.h    |   87 ++++
 include/QF/plugin/sound.h         |   84 ---
 include/QF/sound.h                |   12 +-
 libs/audio/Makefile.am            |    2 +-
 libs/audio/cd/cd_linux.c          |    2 -
 libs/audio/cd/cd_null.c           |    2 -
 libs/audio/cd/cd_sdl.c            |    2 -
 libs/audio/cd/cd_win.c            |    2 -
 libs/audio/renderer/.gitignore    |    7 +
 libs/audio/renderer/Makefile.am   |   30 ++
 libs/audio/renderer/snd_dma.c     | 1015 +++++++++++++++++++++++++++++++++++++
 libs/audio/renderer/snd_mem.c     |  385 ++++++++++++++
 libs/audio/renderer/snd_mix.c     |  428 ++++++++++++++++
 libs/audio/renderer/snd_mixa.S    |  281 ++++++++++
 libs/audio/renderer/snd_null.c    |  217 ++++++++
 libs/audio/snd.c                  |  172 +++++--
 libs/audio/targets/Makefile.am    |  137 ++---
 libs/audio/targets/snd_alsa_0_5.c |   95 ++--
 libs/audio/targets/snd_alsa_0_9.c |   86 ++--
 libs/audio/targets/snd_disk.c     |   62 +--
 libs/audio/targets/snd_dma.c      |  976 -----------------------------------
 libs/audio/targets/snd_mem.c      |  385 --------------
 libs/audio/targets/snd_mix.c      |  428 ----------------
 libs/audio/targets/snd_mixa.S     |  281 ----------
 libs/audio/targets/snd_mme.c      |    1 +
 libs/audio/targets/snd_oss.c      |   99 ++--
 libs/audio/targets/snd_sdl.c      |   62 +--
 libs/audio/targets/snd_sgi.c      |    7 +-
 libs/audio/targets/snd_sun.c      |    7 +-
 libs/audio/targets/snd_win.c      |    1 +
 libs/console/client.c             |    2 -
 libs/console/server.c             |    2 -
 libs/util/plugin.c                |    2 +-
 37 files changed, 2928 insertions(+), 2536 deletions(-)

commit 6797f55
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Thu Aug 23 00:39:22 2001 +0000

    diff-- for sw32.

 libs/video/renderer/sw/sw_redge.c |   43 +++++++++++++------------------------
 1 file changed, 15 insertions(+), 28 deletions(-)

commit 0eda635
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 22 23:21:47 2001 +0000

    fix temp reference counting on function call args

 tools/qfcc/source/expr.c |    5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit 5253030
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 22 22:51:06 2001 +0000

    move the CL_SetState call to the bottom of Host_Init

 qw/source/cl_main.c |    5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

commit edcf092
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Wed Aug 22 22:03:16 2001 +0000

    Whitespace, dammit. Oh, and removal of several orphaned comments. Comments in front of functions suck.

 libs/util/checksum.c  |    1 +
 libs/util/cmd.c       |  121 ++++++++-----------------
 libs/util/con_print.c |    1 +
 libs/util/console.c   |    9 +-
 libs/util/crc.c       |    1 +
 libs/util/cvar.c      |   53 ++++-------
 libs/util/dirent.c    |   76 ++++++++--------
 libs/util/fendian.c   |    1 +
 libs/util/fnmatch.c   |    7 +-
 libs/util/info.c      |   12 ++-
 libs/util/link.c      |    1 +
 libs/util/mathlib.c   |   64 ++++----------
 libs/util/mdfour.c    |    5 +-
 libs/util/msg.c       |    6 +-
 libs/util/pcx.c       |    4 +-
 libs/util/plugin.c    |   15 ++--
 libs/util/qargs.c     |   16 ++--
 libs/util/qendian.c   |    2 +-
 libs/util/qfplist.c   |  235 +++++++++++++++++++++++++------------------------
 libs/util/quakefs.c   |   96 ++++++--------------
 libs/util/quakeio.c   |   13 ++-
 libs/util/sys.c       |   27 +++---
 libs/util/sys_error.c |    7 +-
 libs/util/tga.c       |    7 +-
 libs/util/va.c        |    6 +-
 libs/util/ver_check.c |    3 +-
 libs/util/wad.c       |   19 ++--
 libs/util/zone.c      |   73 +++------------
 28 files changed, 338 insertions(+), 543 deletions(-)

commit 62d0845
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 22 22:02:15 2001 +0000

    make --enable-debug the default

 configure.ac |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 4c48851
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 22 21:55:01 2001 +0000

    fix a buffer overflow in new_label_expr
    use reference counting for temp defs and call PR_FreeTempDefs at the end
    of emit_sub_expr as well as emit_expr.
    fix a (relatively harmless) bug in type processesing of foo.bar =

 tools/qfcc/include/qfcc.h  |    4 +++
 tools/qfcc/source/emit.c   |   75 +++++++++++++++++++++++++++-----------------
 tools/qfcc/source/expr.c   |   49 +++++++++++++++++++++++++----
 tools/qfcc/source/pr_def.c |   30 +++++++++++++-----
 4 files changed, 116 insertions(+), 42 deletions(-)

commit 3177d9c
Author: Adam Olsen <rhamph@gmail.com>
Date:   Wed Aug 22 21:13:04 2001 +0000

    Readd the aim builtin, which I must have accidentally removed earlier.
    Ooops :)

 qw/source/sv_pr_cmds.c |    1 +
 1 file changed, 1 insertion(+)

commit 2bf0fa9
Author: Adam Olsen <rhamph@gmail.com>
Date:   Wed Aug 22 21:07:06 2001 +0000

    Rework ED_Print to be type-aware, instead of blindly assuming
    everything is an integer.

 libs/gamecode/engine/pr_edict.c |   28 +++++++++++++++++++++++-----
 1 file changed, 23 insertions(+), 5 deletions(-)

commit 7a09f37
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Wed Aug 22 20:26:25 2001 +0000

    Lots of whitespace.

 libs/audio/targets/snd_alsa_0_9.c |   32 +++++++++--------------
 libs/audio/targets/snd_disk.c     |    5 +++-
 libs/audio/targets/snd_dma.c      |   51 ++++++++-----------------------------
 libs/audio/targets/snd_mem.c      |   50 ++++++++++--------------------------
 libs/audio/targets/snd_mix.c      |   13 ++++------
 libs/audio/targets/snd_null.c     |    5 +++-
 libs/audio/targets/snd_oss.c      |   21 +++++++--------
 libs/audio/targets/snd_sdl.c      |   13 ++++++----
 8 files changed, 66 insertions(+), 124 deletions(-)

commit e7fb6a1
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Wed Aug 22 11:00:25 2001 +0000

    Whitespace, comment cleanups, and a very tiny cleanup/micro-optimization for R_AddDynamicLights.

 libs/video/renderer/gl/gl_draw.c         |   48 +++----------
 libs/video/renderer/gl/gl_dyn_fires.c    |    2 +-
 libs/video/renderer/gl/gl_dyn_part.c     |   18 -----
 libs/video/renderer/gl/gl_dyn_textures.c |    6 +-
 libs/video/renderer/gl/gl_funcs.c        |   20 ++++--
 libs/video/renderer/gl/gl_graph.c        |    7 +-
 libs/video/renderer/gl/gl_rlight.c       |   11 ---
 libs/video/renderer/gl/gl_rmain.c        |  103 ++++++++++++++--------------
 libs/video/renderer/gl/gl_rmisc.c        |   14 ++--
 libs/video/renderer/gl/gl_rsurf.c        |   50 +++-----------
 libs/video/renderer/gl/gl_screen.c       |   55 +++++----------
 libs/video/renderer/gl/gl_skin.c         |   11 +--
 libs/video/renderer/gl/gl_sky.c          |  108 ++++++++++++++----------------
 libs/video/renderer/gl/gl_sky_clip.c     |   17 +----
 libs/video/renderer/gl/gl_textures.c     |   62 ++++++++---------
 libs/video/renderer/gl/gl_warp.c         |   23 +++----
 libs/video/renderer/gl/noisetextures.c   |    2 +-
 17 files changed, 213 insertions(+), 344 deletions(-)

commit ea063a1
Author: Adam Olsen <rhamph@gmail.com>
Date:   Wed Aug 22 05:50:01 2001 +0000

    having duplicate functions is bad.

 nq/source/pr_cmds.c    |  115 ------------------------------------------------
 qw/source/sv_pr_cmds.c |   42 ------------------
 2 files changed, 157 deletions(-)

commit 4a9567c
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 22 05:44:04 2001 +0000

    missed this one

 libs/video/targets/vid_sgl.c |    3 +++
 1 file changed, 3 insertions(+)

commit e9ec5f8
Author: Adam Olsen <rhamph@gmail.com>
Date:   Wed Aug 22 05:37:50 2001 +0000

    A few tweaks and cleanups

 libs/gamecode/builtins/pr_cmds.c |  130 ++++++--------------------------------
 1 file changed, 19 insertions(+), 111 deletions(-)

commit 3fc566a
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 22 04:16:10 2001 +0000

    nor does it seem to have gamma support

 libs/video/targets/vid_sgl.c |    7 ++++++-
 1 file changed, 6 insertions(+), 1 deletion(-)

commit 015fe80
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 22 04:01:50 2001 +0000

    sdl 1.1.4 doesn't have SDLK_COMPOSE

 libs/video/targets/in_sdl.c |    3 +++
 1 file changed, 3 insertions(+)

commit 8f269ee
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 22 03:54:26 2001 +0000

    fix "cannot find -lQFsoundrenderer" on some systems

 libs/audio/targets/Makefile.am |   16 ++++++++--------
 1 file changed, 8 insertions(+), 8 deletions(-)

commit 17ba7ef
Author: Adam Olsen <rhamph@gmail.com>
Date:   Wed Aug 22 03:24:25 2001 +0000

    - move alot of the builtins to libQFgamecode_builtins
    - move the init into qw and nq

 include/QF/progs.h               |    2 +-
 libs/gamecode/builtins/pr_cmds.c | 1641 ++------------------------------------
 libs/gamecode/engine/pr_edict.c  |    1 -
 nq/source/pr_cmds.c              |  298 +------
 qw/source/sv_pr_cmds.c           |  414 +---------
 5 files changed, 70 insertions(+), 2286 deletions(-)

commit 1314c89
Author: Adam Olsen <rhamph@gmail.com>
Date:   Tue Aug 21 22:34:20 2001 +0000

    - add libs/gamecode/builtins subdir, with libQFgamecode_builtins.la
    - add .gitignore files
    - fix building :)

 configure.ac                       |    1 +
 include/QF/progs.h                 |    6 +
 libs/gamecode/Makefile.am          |    2 +-
 libs/gamecode/builtins/.gitignore  |    8 +
 libs/gamecode/builtins/Makefile.am |    8 +
 libs/gamecode/builtins/pr_cmds.c   | 2151 ++++++++++++++++++++++++++++++++++++
 libs/gamecode/engine/.gitignore    |    8 +
 libs/gamecode/engine/pr_edict.c    |    1 +
 nq/source/Makefile.am              |    3 +-
 qw/source/Makefile.am              |    6 +-
 10 files changed, 2190 insertions(+), 4 deletions(-)

commit 9ea52e8
Author: Adam Olsen <rhamph@gmail.com>
Date:   Tue Aug 21 21:05:26 2001 +0000

    Move the gamecode engine into a subdir.

 configure.ac                      |    1 +
 libs/gamecode/Makefile.am         |   10 +-
 libs/gamecode/engine/Makefile.am  |    8 +
 libs/gamecode/engine/pr_debug.c   |  354 +++++++++
 libs/gamecode/engine/pr_edict.c   | 1480 +++++++++++++++++++++++++++++++++++++
 libs/gamecode/engine/pr_exec.c    |  856 +++++++++++++++++++++
 libs/gamecode/engine/pr_opcode.c  |  197 +++++
 libs/gamecode/engine/pr_strings.c |  218 ++++++
 libs/gamecode/pr_debug.c          |  354 ---------
 libs/gamecode/pr_edict.c          | 1480 -------------------------------------
 libs/gamecode/pr_exec.c           |  856 ---------------------
 libs/gamecode/pr_opcode.c         |  197 -----
 libs/gamecode/pr_strings.c        |  218 ------
 13 files changed, 3117 insertions(+), 3112 deletions(-)

commit 8b7785c
Author: Adam Olsen <rhamph@gmail.com>
Date:   Tue Aug 21 20:20:03 2001 +0000

    Some changes I'm about to do to the libs/gamecode layout :)

 TODO |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit a32384f
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Aug 21 18:23:21 2001 +0000

    report the name of the function using the most locals

 tools/qfcc/source/qfcc.c |    7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

commit 8d29efe
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Aug 21 17:22:55 2001 +0000

    remove a debug print

 tools/qfcc/source/qc-lex.l |    1 -
 1 file changed, 1 deletion(-)

commit ec3eed4
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Aug 21 05:46:55 2001 +0000

    don't do the lerp calcs for blend == 0 or blend == 1

 libs/video/renderer/gl/gl_rmain.c |   85 +++++++++++++++++++------------------
 1 file changed, 44 insertions(+), 41 deletions(-)

commit cd99a6a
Author: Adam Olsen <rhamph@gmail.com>
Date:   Tue Aug 21 05:35:35 2001 +0000

    timeframes patch I made so long ago.  use cl_timeframes 1 before
    running a demo, and when it stops it'll print out the time spent on
    each frame (in microseconds) to timeframes.txt.

 qw/include/cl_demo.h |    4 +++
 qw/source/cl_demo.c  |   84 ++++++++++++++++++++++++++++++++++++++++++++++++++
 qw/source/cl_main.c  |    8 +++++
 3 files changed, 96 insertions(+)

commit 0d82df9
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Aug 21 05:29:15 2001 +0000

    ah, found the correct fix :)

 libs/video/renderer/gl/gl_rmain.c |    7 +++----
 1 file changed, 3 insertions(+), 4 deletions(-)

commit 7ea46cf
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Aug 21 05:16:30 2001 +0000

    disable lerping of the shadedots. stops the flicker but some lighting will
    probably be a little funny.

 libs/video/renderer/gl/gl_rmain.c |    9 ++++-----
 1 file changed, 4 insertions(+), 5 deletions(-)

commit a276e87
Author: Adam Olsen <rhamph@gmail.com>
Date:   Tue Aug 21 05:03:14 2001 +0000

    Change lightning bolt rotation to be time-based.  It's kinda ewwy, but
    it seems to work ok.

 qw/source/cl_tent.c |   11 ++++++++++-
 1 file changed, 10 insertions(+), 1 deletion(-)

commit 9bad6b8
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Aug 21 03:49:17 2001 +0000

    lerping works again. flames no longer flicker, but players do a /little/

 libs/video/renderer/gl/gl_rmain.c |   65 ++++++++++++++++++-------------------
 1 file changed, 32 insertions(+), 33 deletions(-)

commit 9c43a43
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Aug 21 02:44:45 2001 +0000

    must make sure *gzfile gets nulled on error

 libs/util/quakefs.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit d430cdc
Author: Adam Olsen <rhamph@gmail.com>
Date:   Tue Aug 21 00:06:22 2001 +0000

    My updir patch from long ago.  Prevents opening any files with an
    updir in their filename.

 libs/util/quakefs.c |   35 +++++++++++++++++++++++++++++++++--
 1 file changed, 33 insertions(+), 2 deletions(-)

commit e71cbaf
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Aug 20 22:16:07 2001 +0000

    fix for --

 tools/qwaq/main.qc |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 841c901
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Aug 20 21:38:32 2001 +0000

    very important info abouyt v3 vsync

 doc/v3_vsync |    4 ++++
 1 file changed, 4 insertions(+)

commit 770fecd
Author: Adam Olsen <rhamph@gmail.com>
Date:   Mon Aug 20 21:06:25 2001 +0000

    Replace sv_gc with pr_gc and pr_gc_interval.  pr_gc has 0 for off, 1
    for on, and 2 for auto (on for newer progs, off otherwise).

 qw/source/sv_main.c |   25 +++++++++++++++----------
 1 file changed, 15 insertions(+), 10 deletions(-)

commit 2af74ae
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Aug 20 18:23:47 2001 +0000

    fix a segfault due to type mangling for ... functions

 tools/qfcc/source/expr.c |   43 ++++++++++++++++++++++---------------------
 1 file changed, 22 insertions(+), 21 deletions(-)

commit 7df09a3
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Aug 20 17:48:16 2001 +0000

    centralize client state setting

 nq/include/client.h |    2 ++
 nq/source/cl_demo.c |    4 ++--
 nq/source/cl_main.c |   20 ++++++++++++++++++--
 nq/source/host.c    |    1 +
 4 files changed, 23 insertions(+), 4 deletions(-)

commit a88db4b
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Mon Aug 20 16:38:05 2001 +0000

    dammit.

 bootstrap |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit b1af752
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Mon Aug 20 16:36:48 2001 +0000

    Fix up bootstrap for autoconf 2.52c (by yanking the c)

 bootstrap |   45 ++++++++++++++++++++-------------------------
 1 file changed, 20 insertions(+), 25 deletions(-)

commit cf4ca28
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Aug 20 06:22:28 2001 +0000

    implement pre and post increment operators (++ and --)

 tools/qfcc/TODO              |    2 +-
 tools/qfcc/include/expr.h    |    1 +
 tools/qfcc/source/expr.c     |   52 ++++++++++++++++++++++--------------------
 tools/qfcc/source/qc-lex.l   |   37 +++++++++++++++++++++---------
 tools/qfcc/source/qc-parse.y |   26 +++++++++------------
 5 files changed, 66 insertions(+), 52 deletions(-)

commit cd59628
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Aug 20 04:56:00 2001 +0000

    move the chained funcion support out of emit_function_expr into funciton_expr

 tools/qfcc/TODO          |    6 +++---
 tools/qfcc/source/emit.c |   35 +++++++++++++++--------------------
 tools/qfcc/source/expr.c |   38 +++++++++++++++++++++++++++++---------
 3 files changed, 47 insertions(+), 32 deletions(-)

commit e61c56a
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Aug 20 02:32:33 2001 +0000

    hopefully make sound plugin linking work better

 libs/audio/targets/Makefile.am |   48 ++++++++++++++++++++--------------------
 1 file changed, 24 insertions(+), 24 deletions(-)

commit 1af4fe4
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Aug 20 02:06:55 2001 +0000

    make (in_)bind's output a little more intuitive and support num lock and
    scroll lock in x11.

 libs/video/targets/in_x11.c |    8 ++++++++
 libs/video/targets/keys.c   |    4 ++--
 2 files changed, 10 insertions(+), 2 deletions(-)

commit cd338f4
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Aug 20 01:09:33 2001 +0000

    haha, oops. got x and y translations reversed

 libs/video/targets/old_keys.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 121bd09
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Aug 19 21:19:42 2001 +0000

    explicitly set the client state after startup to ensure everything related
    to the state is current.

 qw/source/cl_main.c |    1 +
 1 file changed, 1 insertion(+)

commit 7cda1c6
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Aug 19 05:41:56 2001 +0000

    put in some comments about future player dlight improvements

 qw/source/cl_ents.c  |    4 +++-
 qw/source/cl_parse.c |    3 ++-
 2 files changed, 5 insertions(+), 2 deletions(-)

commit 7aa7bb6
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Aug 19 03:51:52 2001 +0000

    centralize client state setting so ancilliary operations can be guaranteed
    to happen (eg, key binding table selection for console).

 qw/include/client.h  |    2 ++
 qw/source/cl_demo.c  |    4 ++--
 qw/source/cl_main.c  |   28 ++++++++++++++++++++++------
 qw/source/cl_parse.c |    2 +-
 qw/source/cl_pred.c  |    4 +---
 5 files changed, 28 insertions(+), 12 deletions(-)

commit d5fa2cc
Author: Adam Olsen <rhamph@gmail.com>
Date:   Sat Aug 18 21:57:45 2001 +0000

    Major diff reduction in *sys_*.c files.  Don't think I broke anything,
    but hard to test it all..
    
    I skipped a couple files, because they contained *alot* of
    platform-specific functions.

 nq/source/sys_sdl.c     |   80 +++++++++++++++++---------------
 nq/source/sys_unix.c    |   66 +++++++++++++-------------
 qw/source/cl_sys_sdl.c  |   86 +++++++++++++++++++---------------
 qw/source/cl_sys_unix.c |   49 +++++++++++++-------
 qw/source/cl_sys_win.c  |  118 ++++++++++++++++++++++-------------------------
 qw/source/sv_sys_unix.c |   78 +++++++++++++++----------------
 qw/source/sv_sys_win.c  |  112 ++++++++++++++++++++++----------------------
 7 files changed, 309 insertions(+), 280 deletions(-)

commit 1c9918f
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Fri Aug 17 23:20:08 2001 +0000

    Commit inexplicably lost lines of code. Stops certain unwanted crashes.

 libs/video/targets/joy.c |    7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

commit b619997
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 17 19:47:51 2001 +0000

    fix shift changing the key name

 libs/video/targets/in_x11.c |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 5536883
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Fri Aug 17 08:35:26 2001 +0000

    Convert joy_sensitivity to joy_amp and joy_pre_amp, and support in_amp, in_pre_amp.

 libs/video/targets/joy.c |   47 +++++++++++++++++++++++++---------------------
 1 file changed, 26 insertions(+), 21 deletions(-)

commit 81172de
Author: Zephaniah E. Hull <warp@babylon.d2dc.net>
Date:   Fri Aug 17 07:32:53 2001 +0000

    ToggleConsole now sets the game_target as it should.

 nq/source/console.c |    8 ++++++--
 1 file changed, 6 insertions(+), 2 deletions(-)

commit 36395e1
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Fri Aug 17 07:26:01 2001 +0000

    Minor comment updates, Imt->IMT in a few function names, and accel->amp for input amplification (once known as sensitivity).

 include/QF/keys.h              |    2 +-
 libs/video/targets/in_common.c |   38 ++++++++--------
 libs/video/targets/in_x11.c    |    3 --
 libs/video/targets/keys.c      |   94 +++++++++++-----------------------------
 4 files changed, 47 insertions(+), 90 deletions(-)

commit 80696ba
Author: Zephaniah E. Hull <warp@babylon.d2dc.net>
Date:   Fri Aug 17 07:06:01 2001 +0000

    kgt->imt, and imt now displays the current IMT.

 include/QF/keys.h         |   48 ++++++-------
 libs/console/client.c     |    4 +-
 libs/video/targets/keys.c |  175 +++++++++++++++++++++------------------------
 nq/source/cl_demo.c       |    2 +-
 nq/source/cl_main.c       |    2 +-
 qw/source/cl_pred.c       |    2 +-
 qw/source/console.c       |    8 +--
 7 files changed, 116 insertions(+), 125 deletions(-)

commit d96f096
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 17 04:58:10 2001 +0000

    fix for new input crap

 libs/video/targets/vid_wgl.c |   36 ++++++++++++++++++------------------
 1 file changed, 18 insertions(+), 18 deletions(-)

commit f0c2001
Author: Adam Olsen <rhamph@gmail.com>
Date:   Fri Aug 17 03:43:28 2001 +0000

    yup, more

 libs/video/targets/in_event.c |    5 +++++
 1 file changed, 5 insertions(+)

commit 13f394b
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Fri Aug 17 02:18:06 2001 +0000

    Damn -Werrors to hell.

 libs/video/targets/old_keys.c |    6 ++++++
 1 file changed, 6 insertions(+)

commit 86be79d
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 17 01:55:54 2001 +0000

    forgot to convert unbind's keyname

 libs/video/targets/keys.c |    5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit bb2079a
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 17 01:54:03 2001 +0000

    make the conversion case insensitive

 libs/video/targets/old_keys.c |   66 ++++++++++++++++++++++++-----------------
 1 file changed, 38 insertions(+), 28 deletions(-)

commit 6281311
Author: Adam Olsen <rhamph@gmail.com>
Date:   Thu Aug 16 23:34:49 2001 +0000

    yet more IE stuff

 include/QF/in_event.h         |   10 ++++----
 libs/video/targets/in_event.c |   53 +++++++++++++++++++++++++++++++++++------
 2 files changed, 52 insertions(+), 11 deletions(-)

commit f840a44
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Aug 16 23:24:39 2001 +0000

    gcc 3.0 related fixes

 libs/video/targets/in_svgalib.c |    7 +++++++
 1 file changed, 7 insertions(+)

commit 4ca1499
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Thu Aug 16 23:14:46 2001 +0000

    Whitespace. Don't you wish it would all just go away?

 libs/video/renderer/sw/screen.c   |   10 +++++-----
 libs/video/renderer/sw/sw_rpart.c |    2 +-
 2 files changed, 6 insertions(+), 6 deletions(-)

commit b645289
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Aug 16 23:12:14 2001 +0000

    fix lex detection

 configure.ac |    1 +
 1 file changed, 1 insertion(+)

commit 373792f
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Aug 16 22:49:53 2001 +0000

    `fix' for new input system
    still broken functionally :/

 libs/video/targets/in_fbdev.c |   14 +++++++-------
 1 file changed, 7 insertions(+), 7 deletions(-)

commit 0d2b727
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Aug 16 22:32:57 2001 +0000

    default fbdev to enabled again

 configure.ac |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 92729ff
Author: Adam Olsen <rhamph@gmail.com>
Date:   Thu Aug 16 22:27:22 2001 +0000

    More changes to input events

 include/QF/in_event.h         |   18 ++++++++++++++++--
 libs/video/targets/in_event.c |   26 ++++++++++++++++++++++++--
 2 files changed, 40 insertions(+), 4 deletions(-)

commit 916b503
Author: Adam Olsen <rhamph@gmail.com>
Date:   Thu Aug 16 21:08:17 2001 +0000

    Some basic stuff for input events.  Not yet used.

 include/QF/in_event.h         |   48 +++++++++++++++++++++++++++++++++-
 libs/video/targets/in_event.c |   58 +++++++++++++++++++++++++++++++++++++++++
 2 files changed, 105 insertions(+), 1 deletion(-)

commit 1c12dd8
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Aug 16 20:42:57 2001 +0000

    ok, old configs /should/ work again, though I'm having problems with F10
    not quitting (mind you, I'm not connected)

 include/old_keys.h             |   41 +++++++
 libs/video/targets/Makefile.am |    2 +-
 libs/video/targets/keys.c      |   36 +++++--
 libs/video/targets/old_keys.c  |  231 ++++++++++++++++++++++++++++++++++++++++
 4 files changed, 300 insertions(+), 10 deletions(-)

commit b0cb351
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Aug 16 19:10:35 2001 +0000

    bind and unbind wrappers for in_bind and in_unbind. old configs/mods are
    still currently broken because I need to translate key names still.

 include/QF/keys.h         |    2 +-
 libs/video/targets/keys.c |  150 +++++++++++++++++++++++++++++++++------------
 2 files changed, 111 insertions(+), 41 deletions(-)

commit 98b7a9f
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Aug 16 18:25:17 2001 +0000

    part way there :/ I'll leave vid_wgl and vid_mgl alone for now (probably move
    that code to in_win.c)

 libs/video/targets/in_win.c  |    8 ++++----
 libs/video/targets/joy_win.c |    2 +-
 2 files changed, 5 insertions(+), 5 deletions(-)

commit 999c6a3
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Aug 16 17:52:35 2001 +0000

    mek eet verk!

 libs/video/targets/in_svgalib.c |  355 ++++++++++++++++++++++++++-------------
 1 file changed, 235 insertions(+), 120 deletions(-)

commit 12eff5e
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Aug 16 16:41:40 2001 +0000

    x11 seems ok (hard to say: nothing's bound:/)
    rename bind and unbind to in_bind and in_unbind

 libs/video/targets/in_x11.c |  116 ++++++++++++++++++++++++-------------------
 libs/video/targets/keys.c   |   10 ++--
 2 files changed, 69 insertions(+), 57 deletions(-)

commit 7cf0fd1
Author: Zephaniah E. Hull <warp@babylon.d2dc.net>
Date:   Thu Aug 16 11:43:17 2001 +0000

    Fix a few bugs.

 libs/video/targets/keys.c |   10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit 20adccc
Author: Zephaniah E. Hull <warp@babylon.d2dc.net>
Date:   Thu Aug 16 09:19:36 2001 +0000

    A few things, first is that I removed the (rather broken) serial
    networking support.
    
    Second, I moves keys.c from qw and nq to libs/video/targets when I did
    the next thing.
    
    Existing user configs which do binds, sledge hammer. Sledge hammer,
    existing user configs which do binds. *WHACK* *WHACK* *WHACK*
    
    See, much nicer now.
    
    Someone should document it, and fix all targets which don't use SDL for
    input. (I honestly don't expect svgalib and the like to ever be fixed.)

 include/QF/keys.h              |  456 ++++++++++-----
 libs/console/client.c          |    5 +-
 libs/console/inputline.c       |    2 +
 libs/video/targets/Makefile.am |    2 +-
 libs/video/targets/in_sdl.c    |  783 +++++++++++++++++++++----
 libs/video/targets/joy_linux.c |    4 +-
 libs/video/targets/joy_win.c   |   10 +-
 libs/video/targets/keys.c      | 1034 ++++++++++++++++++++++++++++++++
 libs/video/targets/vid_sdl.c   |    1 +
 nq/include/net_ser.h           |   41 --
 nq/source/Makefile.am          |    2 +-
 nq/source/cl_demo.c            |    1 +
 nq/source/cl_main.c            |    1 +
 nq/source/keys.c               |  893 ----------------------------
 nq/source/net_comx.c           | 1261 ----------------------------------------
 nq/source/net_ser.c            |  947 ------------------------------
 nq/source/net_win.c            |    1 -
 qw/source/Makefile.am          |    2 +-
 qw/source/cl_pred.c            |    1 +
 qw/source/console.c            |   16 +-
 qw/source/keys.c               |  893 ----------------------------
 21 files changed, 2043 insertions(+), 4313 deletions(-)

commit 0c7f011
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Thu Aug 16 06:58:55 2001 +0000

    whitespace.

 libs/video/renderer/sw/d_init.c   |   33 +++++++++++++--------------------
 libs/video/renderer/sw/d_modech.c |    3 +--
 libs/video/renderer/sw/d_scan.c   |    7 ++-----
 libs/video/renderer/sw/d_sky.c    |    4 ++--
 libs/video/renderer/sw/d_sprite.c |   11 ++++-------
 libs/video/renderer/sw/d_surf.c   |   11 ++++++-----
 6 files changed, 28 insertions(+), 41 deletions(-)

commit 4d92467
Author: Adam Olsen <rhamph@gmail.com>
Date:   Thu Aug 16 03:36:40 2001 +0000

    Make SDL support vid_fullscreen toggling too

 libs/video/targets/vid_sdl.c |   13 ++++++++++++-
 1 file changed, 12 insertions(+), 1 deletion(-)

commit 9ee3450
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Aug 16 02:51:53 2001 +0000

    extend the hash api to more easily support general cases

 include/QF/hash.h             |   22 ++++++++++
 libs/util/hash.c              |   94 ++++++++++++++++++++++++++++++++++++++---
 tools/qfcc/source/pr_opcode.c |   81 ++++++++++++++++++++---------------
 3 files changed, 155 insertions(+), 42 deletions(-)

commit c02f4ed
Author: Adam Olsen <rhamph@gmail.com>
Date:   Thu Aug 16 02:32:50 2001 +0000

    show_ping while disconnect == bad.  SZ_Getspace bug fixed.

 qw/source/cl_screen.c |    2 ++
 1 file changed, 2 insertions(+)

commit 7047f2d
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Aug 16 02:08:22 2001 +0000

    fix some missing ()s that got lost due to the () forrest that got chainsawed
    (ie, the previous code was /a mess/)

 qw/source/sv_pr_cmds.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 8f7918d
Author: Zephaniah E. Hull <warp@babylon.d2dc.net>
Date:   Wed Aug 15 23:04:54 2001 +0000

    Fix the other keypad keys for SDL input.
    Ditch sensitivity as a name, we now have in_mouse_accel,
    in_mouse_filter, and in_mouse_pre_accel.

 libs/video/targets/in_common.c |   33 +++++++++++++++++----------------
 libs/video/targets/in_sdl.c    |   10 +++++-----
 2 files changed, 22 insertions(+), 21 deletions(-)

commit eab8ff6
Author: Zephaniah E. Hull <warp@babylon.d2dc.net>
Date:   Wed Aug 15 23:03:37 2001 +0000

    Just some MASSIVE speed boost for PF_findradius.

 qw/source/sv_pr_cmds.c |   13 ++++++++-----
 1 file changed, 8 insertions(+), 5 deletions(-)

commit 8f011f9
Author: Zephaniah E. Hull <warp@babylon.d2dc.net>
Date:   Wed Aug 15 23:01:56 2001 +0000

    Length is now a #define, not a bloody function!

 include/QF/mathlib.h |    3 ++-
 libs/util/mathlib.c  |    2 +-
 2 files changed, 3 insertions(+), 2 deletions(-)

commit 092d348
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 15 23:00:08 2001 +0000

    make cd plugins repect --with-plugin-path

 libs/audio/cd/Makefile.am |    2 ++
 1 file changed, 2 insertions(+)

commit 0471973
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Wed Aug 15 22:44:34 2001 +0000

    Add Makefile to .gitignore

 RPM/.gitignore |    1 +
 1 file changed, 1 insertion(+)

commit d48b3ee
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 15 22:40:56 2001 +0000

    s/LIB_DEPS/DEPENDENCIES/

 libs/audio/targets/Makefile.am |   16 ++++++++--------
 1 file changed, 8 insertions(+), 8 deletions(-)

commit 2d84e89
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Wed Aug 15 22:38:11 2001 +0000

    whitespace.

 libs/util/info.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 339ec3c
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Wed Aug 15 22:37:11 2001 +0000

    Misc. cleanups.

 qw/source/sbar.c |    6 ++----
 qw/source/skin.c |   13 ++++++-------
 2 files changed, 8 insertions(+), 11 deletions(-)

commit 3c5265c
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Wed Aug 15 22:33:51 2001 +0000

    Clarifications in debian/rules

 debian/control |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit a3f1604
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Wed Aug 15 22:32:13 2001 +0000

    Still going. Forge, s/X/I/

 TODO |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit edf4b85
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 15 22:31:07 2001 +0000

    don't need to (and seems that you shouldn't) specify a path for local libs

 libs/audio/targets/Makefile.am |   34 ++++++++++++++++------------------
 1 file changed, 16 insertions(+), 18 deletions(-)

commit 61bb65f
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Wed Aug 15 22:29:09 2001 +0000

    Committing some old stuff I hadn't before. This one: removing a variable
    name from a prototype.

 include/QF/GL/funcs.h |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a22fd5a
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 15 21:29:18 2001 +0000

    sdl 1.1.5 fixes

 libs/video/targets/vid_sgl.c |    5 +++++
 nq/source/sys_sdl.c          |   14 +++++++++++---
 qw/source/cl_sys_sdl.c       |   14 +++++++++++---
 3 files changed, 27 insertions(+), 6 deletions(-)

commit e359064
Author: Adam Olsen <rhamph@gmail.com>
Date:   Wed Aug 15 21:03:10 2001 +0000

    Moved the sound renderer into a seperate lib.  You'll need to rerun
    configure, else it won't build said lib and you'll get errors loading
    sound plugins.

 configure.ac                   |   10 ++++++
 libs/audio/targets/Makefile.am |   75 +++++++++++++++++++++++++---------------
 2 files changed, 58 insertions(+), 27 deletions(-)

commit 59e50d9
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 15 20:55:22 2001 +0000

    sdl and sgl clients now build

 nq/source/Makefile.am  |   37 ++++----
 nq/source/sys_sdl.c    |  233 ++++++++++++++++++++++++++++++++++++++++++++++++
 qw/source/Makefile.am  |   39 ++++----
 qw/source/cl_sys_sdl.c |   18 ++--
 4 files changed, 281 insertions(+), 46 deletions(-)

commit 9ecce9b
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 15 15:32:24 2001 +0000

    remove a magic number

 libs/util/cmd.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 6b93ec0
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 15 15:31:02 2001 +0000

    check for sid's autoconf2.50 as the wrapper always reports 2.13
    don't rely on the wording of the version string
    make the cross compile message always print for ac < 2.50
    delete configure.in for ac >= 2.50

 bootstrap |   43 +++++++++++++++++++++++++------------------
 1 file changed, 25 insertions(+), 18 deletions(-)

commit 5dc827c
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 15 07:50:21 2001 +0000

    comment brein damage

 libs/util/cmd.c |    6 ++----
 1 file changed, 2 insertions(+), 4 deletions(-)

commit 8d0acf7
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 15 06:12:38 2001 +0000

    remove some unneeded -L.s. it seems some versions of binutils don't like it

 nq/source/Makefile.am |    2 +-
 qw/source/Makefile.am |    4 ++--
 2 files changed, 3 insertions(+), 3 deletions(-)

commit 8059265
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 15 06:01:38 2001 +0000

    pr_strings.c:
    	fix some off-by-one bugs
    gl_mesh.c:
    	make the messing... message developer mode

 libs/gamecode/pr_strings.c  |    6 +++---
 libs/models/alias/gl_mesh.c |    2 +-
 2 files changed, 4 insertions(+), 4 deletions(-)

commit d96eb31
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Wed Aug 15 02:40:43 2001 +0000

    Grr, missed one.

 libs/audio/snd.c |   12 ++++++------
 1 file changed, 6 insertions(+), 6 deletions(-)

commit 888e7e1
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Wed Aug 15 01:17:56 2001 +0000

    Try to automatically cope with autoconf pre-2.50.

 bootstrap |   28 +++++++++++++++++++++++++++-
 1 file changed, 27 insertions(+), 1 deletion(-)

commit cddaa52
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Wed Aug 15 00:53:37 2001 +0000

    Change loadas8bit to snd_loadas8bit.

 include/QF/sound.h            |    2 +-
 libs/audio/targets/snd_dma.c  |   48 ++++++++++++++++++++---------------------
 libs/audio/targets/snd_mem.c  |    4 ++--
 libs/audio/targets/snd_null.c |   16 +++++++-------
 4 files changed, 35 insertions(+), 35 deletions(-)

commit b33b9fc
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Aug 14 22:10:55 2001 +0000

    remove a redundant call to JOY_Command

 libs/video/targets/in_sdl.c |    2 --
 1 file changed, 2 deletions(-)

commit 9f2418d
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Aug 14 20:02:54 2001 +0000

    new cvar: gl_mesh_cache. controls minimum triangle count in a model before
    the model is cached or cache checks are done for that model. 0 disables
    caching entrirely.

 libs/models/alias/gl_mesh.c |  219 +++++++++++++++++++++++--------------------
 libs/models/model.c         |    4 +
 2 files changed, 119 insertions(+), 104 deletions(-)

commit b277881
Author: Adam Olsen <rhamph@gmail.com>
Date:   Tue Aug 14 11:15:47 2001 +0000

    Don't try to write freed entities to the client

 qw/source/sv_ents.c |    3 +++
 1 file changed, 3 insertions(+)

commit dd16a1c
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Aug 14 00:03:03 2001 +0000

    call the IE init ans shutdown functions. still need to rework the rest of the
    intput system to use it.

 include/QF/in_event.h          |    1 +
 libs/video/targets/in_common.c |    5 +++++
 libs/video/targets/in_event.c  |    5 +++++
 3 files changed, 11 insertions(+)

commit 07a09e0
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Aug 13 23:49:04 2001 +0000

    statement printing now infers the type of a def from the instruction where
    possible, thus allowing anonymous defs to print their contents.

 include/QF/progs.h       |    2 +-
 libs/gamecode/pr_edict.c |   18 +++++++++++++-----
 libs/gamecode/pr_exec.c  |   33 ++++++++++++++++-----------------
 3 files changed, 30 insertions(+), 23 deletions(-)

commit d55199b
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Aug 13 23:00:17 2001 +0000

    re-arrange the types of store and storep so things make a little more sense

 libs/gamecode/pr_opcode.c |   30 +++++++++++++++---------------
 tools/qfcc/source/emit.c  |   10 +++++-----
 2 files changed, 20 insertions(+), 20 deletions(-)

commit 283b0e1
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Aug 13 21:09:00 2001 +0000

    change the types of the statement operands to unsigned short to clean up
    most of the uses

 include/QF/pr_comp.h     |    2 +-
 libs/gamecode/pr_edict.c |   24 +++++++++++++-----------
 libs/gamecode/pr_exec.c  |   25 ++++++++++++-------------
 3 files changed, 26 insertions(+), 25 deletions(-)

commit 45fd3e0
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Aug 13 20:29:33 2001 +0000

    rhamph's deadbeaf locals patch as-is :)

 libs/gamecode/pr_edict.c |    2 +-
 libs/gamecode/pr_exec.c  |    7 +++++++
 2 files changed, 8 insertions(+), 1 deletion(-)

commit 31a560c
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Aug 13 20:23:41 2001 +0000

    d'oh

 libs/gamecode/pr_strings.c |    1 -
 1 file changed, 1 deletion(-)

commit da7e856
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Aug 13 20:22:36 2001 +0000

    fix a couple of issues with garbage collection

 libs/gamecode/pr_strings.c |   31 ++++++++++++++++++++-----------
 1 file changed, 20 insertions(+), 11 deletions(-)

commit 2a6830d
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Aug 13 20:01:37 2001 +0000

    revised dynamic string handling. allows for `bounds checking'

 include/QF/progs.h         |    7 +--
 libs/gamecode/pr_strings.c |  110 +++++++++++++++++++++++++++++---------------
 2 files changed, 77 insertions(+), 40 deletions(-)

commit f9f1e05
Author: Adam Olsen <rhamph@gmail.com>
Date:   Mon Aug 13 09:14:15 2001 +0000

    use 0 instead of sv_highchars when setting the *cheats serverinfo,
    since sv_highchars isn't initialized at that point.

 qw/source/sv_ccmds.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a290afd
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Aug 12 19:50:23 2001 +0000

    back out the dynamic allocation so prozac will still work

 qw/source/sv_pr_cmds.c |   34 ++++++++++++++++------------------
 1 file changed, 16 insertions(+), 18 deletions(-)

commit 637bdea
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sun Aug 12 17:45:55 2001 +0000

    Fix indent comment dementia.

 libs/util/sizebuf.c |   11 +++++------
 1 file changed, 5 insertions(+), 6 deletions(-)

commit eed71f2
Author: Adam Olsen <rhamph@gmail.com>
Date:   Sun Aug 12 11:30:08 2001 +0000

    err, and of course we want *line* buffered, not *un*buffered.  hehe, I
    thought the output looked kinda slow..

 qw/source/sv_console.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit bbef4b0
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Aug 12 04:14:25 2001 +0000

    ugh, I hate the need for this, but it's needed. sv_old_entity_free is my
    compromise :) set it to 1 to allow progs like MegaTF to work (reload crash).

 include/QF/progs.h       |    2 ++
 libs/gamecode/pr_edict.c |    5 ++++-
 qw/source/sv_progs.c     |   25 +++++++++++++++++++++++++
 3 files changed, 31 insertions(+), 1 deletion(-)

commit c103adc
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Aug 12 02:38:12 2001 +0000

    clean up the code generated for a = b ? c : d

 tools/qfcc/source/emit.c |   12 ++++++++----
 1 file changed, 8 insertions(+), 4 deletions(-)

commit f343776
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Aug 11 22:07:03 2001 +0000

    mark some jobs done, correct a typo and sort them by done, in progress, planned

 tools/qfcc/TODO |   10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit 79ce6c5
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Aug 11 22:02:59 2001 +0000

    fix assignops with entity fields by cloning e1 rather than just re-using it

 tools/qfcc/source/expr.c |   22 ++++++++++++----------
 1 file changed, 12 insertions(+), 10 deletions(-)

commit 248de68
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Aug 11 21:46:02 2001 +0000

    hopefully take care of freebsd

 tools/qfcc/include/expr.h |    4 ++--
 tools/qfcc/source/emit.c  |    2 +-
 2 files changed, 3 insertions(+), 3 deletions(-)

commit c2d3d8f
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Aug 11 21:15:24 2001 +0000

    temp def expressions and ?:
    seems to work :)

 tools/qfcc/include/expr.h    |   12 +++++++
 tools/qfcc/source/emit.c     |   13 +++++++-
 tools/qfcc/source/expr.c     |   66 +++++++++++++++++++++++++++++++++---
 tools/qfcc/source/qc-lex.l   |    2 +-
 tools/qfcc/source/qc-parse.y |   76 ++++++++++++++++++++++--------------------
 tools/qwaq/main.qc           |    3 +-
 6 files changed, 128 insertions(+), 44 deletions(-)

commit 3d30361
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Aug 11 04:14:58 2001 +0000

    show_ping and show_pl. pretty much like show_fps.

 qw/include/client.h   |    3 +++
 qw/source/cl_main.c   |    6 ++++++
 qw/source/cl_screen.c |   37 +++++++++++++++++++++++++++++++++++++
 3 files changed, 46 insertions(+)

commit a8e858f
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 10 21:31:48 2001 +0000

    fix a bug where every 2nd(?) arg was being skipped when setting up a function
    call

 tools/qfcc/source/emit.c |    3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit 11381ce
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 10 21:19:36 2001 +0000

    the usual

 tools/qfcc/TODO |    7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

commit caeb31e
Author: Adam Olsen <rhamph@gmail.com>
Date:   Fri Aug 10 20:35:42 2001 +0000

    start of the support for chained function calls.  Actually, they
    should work fine now, there's just some extra temp vars we want to
    remove before we can consider it "done" :)

 tools/qfcc/source/emit.c |   26 ++++++++++++++++++--------
 tools/qwaq/main.qc       |   13 +++++++++++--
 2 files changed, 29 insertions(+), 10 deletions(-)

commit b44fd6a
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 10 18:42:13 2001 +0000

    move a var

 tools/qfcc/source/pr_lex.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 4388bf0
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 10 18:35:55 2001 +0000

    good bye, old parser

 tools/qfcc/acconfig.h         |    3 -
 tools/qfcc/configure.in       |   11 -
 tools/qfcc/source/Makefile.am |    4 -
 tools/qfcc/source/pr_comp.c   |  516 ---------------------------------
 tools/qfcc/source/pr_def.c    |    2 +-
 tools/qfcc/source/pr_imm.c    |   78 -----
 tools/qfcc/source/pr_lex.c    |  641 +----------------------------------------
 tools/qfcc/source/pr_opcode.c |   47 ---
 tools/qfcc/source/qc-lex.l    |    2 +-
 tools/qfcc/source/qfcc.c      |   10 -
 10 files changed, 9 insertions(+), 1305 deletions(-)

commit 9e46265
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 10 17:41:08 2001 +0000

    fix a silly error causing integer constants to not be re-used

 tools/qfcc/source/pr_imm.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a33c834
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 10 17:00:53 2001 +0000

    move SHL and SHR down in expr

 tools/qfcc/source/qc-parse.y |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 6414897
Author: Adam Olsen <rhamph@gmail.com>
Date:   Fri Aug 10 16:17:00 2001 +0000

    got a few new operators for qc :)
    << >> % which all act like their C counterparts
    += -= *= /= &= ^= |= <<= >>= %= which just expand into the obvious,
    also like the C versions.

 include/QF/pr_comp.h         |    8 +++++++
 libs/gamecode/pr_edict.c     |    6 +++++
 libs/gamecode/pr_exec.c      |   18 +++++++++++++++
 libs/gamecode/pr_opcode.c    |    7 ++++++
 tools/qfcc/include/expr.h    |    1 +
 tools/qfcc/source/emit.c     |   12 ++++++++++
 tools/qfcc/source/expr.c     |   50 ++++++++++++++++++++++++++++++++++++++++++
 tools/qfcc/source/qc-lex.l   |   16 +++++++++++++-
 tools/qfcc/source/qc-parse.y |   18 +++++++++++++--
 tools/qwaq/main.qc           |   21 +++++++++++++++---
 10 files changed, 151 insertions(+), 6 deletions(-)

commit ca4d479
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Fri Aug 10 03:07:34 2001 +0000

    Fix a severe braino, and get less excessively parenthetical in one spot.

 libs/video/renderer/sw/screen.c |    6 +++---
 nq/source/cl_screen.c           |    4 ++--
 qw/source/cl_screen.c           |    4 ++--
 3 files changed, 7 insertions(+), 7 deletions(-)

commit 753928b
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 10 02:50:05 2001 +0000

    /me grumbles about some versions of gcc

 libs/video/targets/in_event.c |    7 +++++++
 1 file changed, 7 insertions(+)

commit a2ef36e
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 10 02:42:34 2001 +0000

    get the scaling on v_blend right for the change from 0-255 to 0-1

 libs/video/renderer/sw/screen.c |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit b868a09
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Fri Aug 10 00:28:57 2001 +0000

    Kill off gl_view.c and sw_view.c. Renderer merge is more or less complete now. Software and gl renderers now calculate color shifts the same way, and sw looks a bit different now. Powerups don't shift enough in sw right now, IMO.

 include/QF/vid.h                   |    3 +-
 libs/video/renderer/gl/gl_rmain.c  |    2 +-
 libs/video/renderer/gl/gl_screen.c |    2 -
 libs/video/renderer/sw/screen.c    |   32 +-
 libs/video/targets/Makefile.am     |    6 +
 nq/source/Makefile.am              |   28 +-
 nq/source/cl_screen.c              |    3 +
 nq/source/cl_view.c                |  837 +++++++++++++++++++++++++++++++++++
 nq/source/gl_view.c                |  163 -------
 nq/source/r_view.c                 |  755 -------------------------------
 nq/source/sw_view.c                |  119 -----
 qw/source/Makefile.am              |   32 +-
 qw/source/cl_screen.c              |    4 +
 qw/source/cl_view.c                |  856 ++++++++++++++++++++++++++++++++++++
 qw/source/gl_view.c                |  164 -------
 qw/source/r_view.c                 |  775 --------------------------------
 qw/source/sw_view.c                |  121 -----
 17 files changed, 1763 insertions(+), 2139 deletions(-)

commit ac9dace
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Aug 9 23:43:13 2001 +0000

    add focus loss/gain events and fix a silly bug in IE_Set_Focus

 include/QF/in_event.h         |    2 ++
 libs/video/targets/in_event.c |   12 ++++++++++--
 2 files changed, 12 insertions(+), 2 deletions(-)

commit dfc74de
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Aug 9 23:34:35 2001 +0000

    put in instructions for building from cvs (and coping with autoconf)

 INSTALL |    4 ++++
 1 file changed, 4 insertions(+)

commit bc34529
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Aug 9 23:16:54 2001 +0000

    code for the input event system

 include/QF/in_event.h          |    4 +-
 libs/video/targets/Makefile.am |   20 ++++----
 libs/video/targets/in_event.c  |   98 ++++++++++++++++++++++++++++++++++++++++
 3 files changed, 111 insertions(+), 11 deletions(-)

commit c96a092
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Aug 9 22:35:41 2001 +0000

    header for an event based input system

 include/QF/in_event.h |   76 +++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 76 insertions(+)

commit 27ccfa6
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Aug 9 17:05:30 2001 +0000

    fix the efficiency of unary expressions as args to a function

 tools/qfcc/source/emit.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 2774260
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Aug 9 16:39:08 2001 +0000

    test ^

 tools/qwaq/main.qc |    1 +
 1 file changed, 1 insertion(+)

commit 081d8f3
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Aug 9 16:34:46 2001 +0000

    ^ and ~ operators for qc (^ from Rhamphoryncus) and clean up the punctuation
    line in qc-lex.l (why didn't I think to do that in the first place?!?)

 include/QF/pr_comp.h         |    5 +++++
 libs/gamecode/pr_edict.c     |    4 ++++
 libs/gamecode/pr_exec.c      |   12 ++++++++++++
 libs/gamecode/pr_opcode.c    |    4 ++++
 tools/qfcc/source/emit.c     |    9 +++++++++
 tools/qfcc/source/expr.c     |   44 ++++++++++++++++++++++++++++++++++++++++++
 tools/qfcc/source/pr_lex.c   |    3 +++
 tools/qfcc/source/qc-lex.l   |    2 +-
 tools/qfcc/source/qc-parse.y |    6 ++++--
 tools/qwaq/main.qc           |    4 ++--
 10 files changed, 88 insertions(+), 5 deletions(-)

commit 998c340
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Aug 9 15:33:44 2001 +0000

    make the server module's console output line buffered when curses isn't being
    used

 libs/console/server.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 4cd037f
Author: Adam Olsen <rhamph@gmail.com>
Date:   Thu Aug 9 12:19:15 2001 +0000

    Make the console line-bufered.  woot.

 libs/console/console.c |    6 ++++--
 qw/source/sv_console.c |    3 +++
 2 files changed, 7 insertions(+), 2 deletions(-)

commit 0c63c11
Author: Adam Olsen <rhamph@gmail.com>
Date:   Thu Aug 9 06:05:43 2001 +0000

    diff noise reduction.  mostly just "progs_t * pr" to "progs_t *pr".
    Only code change is copying qw's variable-size PF_VarString in place
    of nq's 256 char "I wanna be a buffer-overflow exploit!" version.

 nq/source/pr_cmds.c    |  450 ++++++++++++++++++++----------------------------
 qw/source/sv_pr_cmds.c |    2 +-
 2 files changed, 186 insertions(+), 266 deletions(-)

commit 06946d6
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 8 23:32:09 2001 +0000

    memset doesn't use bits 8+

 libs/video/renderer/gl/gl_rsurf.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 3047a6a
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 8 22:20:57 2001 +0000

    this seems to fix the flickering dlights problem. surface visibility was
    calculated too late for light marking.

 libs/video/renderer/gl/gl_rsurf.c |   23 +++++++++++++----------
 libs/video/renderer/sw/sw_rbsp.c  |   12 +-----------
 libs/video/renderer/sw/sw_rmain.c |   14 +++++++++++++-
 3 files changed, 27 insertions(+), 22 deletions(-)

commit b66a696
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 8 20:31:20 2001 +0000

    this is a little more useful here than in the cvs logs

 doc/cshifts.txt |   27 +++++++++++++++++++++++++++
 1 file changed, 27 insertions(+)

commit fb42199
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 8 20:28:53 2001 +0000

    change all the SVFIELD calls to SVtype. this should make the code a little
    easier to read.

 nq/include/sv_progs.h  |    7 +
 nq/source/host_cmd.c   |  130 +++++------
 nq/source/host_skin.c  |    2 +-
 nq/source/net_dgrm.c   |    2 +-
 nq/source/pr_cmds.c    |  168 +++++++-------
 nq/source/sv_main.c    |  162 +++++++-------
 nq/source/sv_move.c    |   74 +++---
 nq/source/sv_phys.c    |  582 ++++++++++++++++++++++++------------------------
 nq/source/sv_progs.c   |    8 +-
 nq/source/sv_user.c    |   74 +++---
 nq/source/world.c      |  116 +++++-----
 qw/include/sv_progs.h  |    7 +
 qw/source/sv_ccmds.c   |   28 +--
 qw/source/sv_ents.c    |   94 ++++----
 qw/source/sv_init.c    |   20 +-
 qw/source/sv_main.c    |    2 +-
 qw/source/sv_move.c    |   78 +++----
 qw/source/sv_phys.c    |  300 ++++++++++++-------------
 qw/source/sv_pr_cmds.c |   90 ++++----
 qw/source/sv_progs.c   |   10 +-
 qw/source/sv_send.c    |   68 +++---
 qw/source/sv_user.c    |  144 ++++++------
 qw/source/world.c      |  150 ++++++-------
 23 files changed, 1166 insertions(+), 1150 deletions(-)

commit cd522a6
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 8 08:52:55 2001 +0000

    should now handle any size of model. also modify the mesh file format slightly
    (version and commands+verts sum for checking) and change the mesh extention to
    .qfms

 libs/models/alias/gl_mesh.c |  223 ++++++++++++++++++++++++++++++-------------
 1 file changed, 158 insertions(+), 65 deletions(-)

commit a4ea8d0
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Tue Aug 7 21:35:54 2001 +0000

    Header sort.

 libs/video/renderer/gl/gl_rlight.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 0cba1b0
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Aug 7 21:18:49 2001 +0000

    pre-calculate blended alias frame verteces and don't bother doing any
    blended calculations for single pose frames/models

 libs/video/renderer/gl/gl_rmain.c |  245 +++++++++++++++----------------------
 1 file changed, 99 insertions(+), 146 deletions(-)

commit 2ccebbf
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Tue Aug 7 18:53:22 2001 +0000

    Exit early on common case, rather than go through all checks. Minor speedup, but measurable on higher framerate demos.

 nq/source/gl_view.c |    3 ++-
 nq/source/r_view.c  |   51 +++++++++++++++++++++++------------------------
 qw/source/gl_view.c |    4 ++--
 qw/source/r_view.c  |   55 ++++++++++++++++++++++++++-------------------------
 4 files changed, 57 insertions(+), 56 deletions(-)

commit b3d20d8
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Aug 7 17:43:49 2001 +0000

    fix for compiling under freebsd. thank's, stu

 qw/source/cl_slist.c |    3 +++
 1 file changed, 3 insertions(+)

commit a81828f
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Aug 7 17:29:21 2001 +0000

    port over gl's lighting improvements. only gives ~4.6% improvement on my c600
    but that's better than nothing. (34.41 to 36.00)

 libs/video/renderer/sw/sw_rbsp.c   |    6 +-
 libs/video/renderer/sw/sw_rlight.c |  157 ++++++++++++++++++++++++++++++++----
 libs/video/renderer/sw/sw_rmain.c  |   10 +--
 3 files changed, 147 insertions(+), 26 deletions(-)

commit c64c31b
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Aug 7 17:27:28 2001 +0000

    white space

 libs/video/renderer/gl/gl_rlight.c |    1 -
 1 file changed, 1 deletion(-)

commit b341529
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Aug 7 16:50:22 2001 +0000

    more --id support

 tools/qfcc/source/expr.c   |    7 ++++++-
 tools/qfcc/source/qc-lex.l |   34 ++++++++++++++++++----------------
 2 files changed, 24 insertions(+), 17 deletions(-)

commit 6a59ac6
Author: Zephaniah E. Hull <warp@babylon.d2dc.net>
Date:   Mon Aug 6 05:01:31 2001 +0000

    The end of in_dga_mouseaccel, the birth of in_pre_sensitivity.
    
    As the ONLY ways that in_dga_mouseaccel differed from sensitivity was
    that it worked before m_filter, and that it was DGA only, it had to go.
    
    Now in_pre_sensitivity works with all targets and is applied just before
    m_filter.

 libs/video/targets/in_common.c |    6 ++++++
 libs/video/targets/in_x11.c    |    4 ++--
 2 files changed, 8 insertions(+), 2 deletions(-)

commit 9ac148d
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Aug 6 04:13:41 2001 +0000

    freaking out by one error :/ I'm suprised previous runs worked at all, but
    with this correction I am finally seeing the expected speed boost (12% on my
    c450 using my null GL lib).

 libs/video/renderer/gl/gl_rlight.c |   16 ++++++++--------
 1 file changed, 8 insertions(+), 8 deletions(-)

commit 014e36d
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Aug 6 00:27:41 2001 +0000

    viewangles in the client doesn't seem to get updated for the client, so
    use cl.viewangles instead.

 qw/source/cl_parse.c |    5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit ebb03c1
Author: Zephaniah E. Hull <warp@babylon.d2dc.net>
Date:   Mon Aug 6 00:16:48 2001 +0000

    Fixed the sdl and sgl targets to work a bit better.

 libs/video/targets/in_sdl.c  |   90 +++++++++++-------------------------------
 libs/video/targets/vid_sgl.c |   25 ++----------
 2 files changed, 26 insertions(+), 89 deletions(-)

commit ece2154
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Aug 5 23:17:55 2001 +0000

    almost working. just need to figure out why vis info isn't doing the right
    thing (I suspect a bug in my deconpression)

 libs/video/renderer/gl/gl_rlight.c |    3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit 899d838
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Aug 5 06:10:27 2001 +0000

    fix a subtle bug with the lava hall to e3 in start

 libs/video/renderer/gl/gl_rlight.c |    1 -
 1 file changed, 1 deletion(-)

commit 9f00601
Author: Adam Olsen <rhamph@gmail.com>
Date:   Sun Aug 5 06:02:33 2001 +0000

    change checkfunction and getfunction to checkbuiltin and getbuiltin

 qw/source/sv_pr_cmds.c |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit dcc6a76
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Aug 5 05:59:15 2001 +0000

    make SURF_LIGHTBOTHSIDES work and fix a bug in Mod_PointInLeaf that was
    preventing grenades from lighting up surfaces when using the vis lighting

 include/QF/model.h                 |    3 +++
 libs/models/brush/model_brush.c    |    6 ++++--
 libs/video/renderer/gl/gl_rlight.c |   16 +++++++---------
 3 files changed, 14 insertions(+), 11 deletions(-)

commit 8883bbb
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Aug 5 05:07:49 2001 +0000

    some lighting fixes. not quite there yet

 include/r_local.h                  |    2 ++
 libs/video/renderer/gl/gl_rlight.c |    7 +++++--
 libs/video/renderer/gl/gl_rsurf.c  |    3 ++-
 3 files changed, 9 insertions(+), 3 deletions(-)

commit 647d38f
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Aug 5 04:01:45 2001 +0000

    Make R_MarkLights use the vis info to speed things up. Oddly, even though
    R_MarkLights is now about 3% instead of about 15%, I've lost 8 fps on my
    null GL speed test. However, R_AddDynamicLights has jumped up a bit, so I'm
    wording if maybe more surfaces are being lit.

 include/QF/mathlib.h               |    7 +-
 include/QF/model.h                 |    3 +
 include/r_local.h                  |    2 +-
 libs/util/mathlib.c                |    2 +-
 libs/video/renderer/gl/gl_rlight.c |  125 ++++++++++++++++++++++++++++++++++--
 libs/video/renderer/gl/gl_rmain.c  |    4 +-
 libs/video/renderer/gl/gl_rsurf.c  |    7 +-
 libs/video/renderer/sw/sw_rlight.c |   13 ++--
 libs/video/renderer/sw/sw_rmain.c  |    3 +-
 9 files changed, 145 insertions(+), 21 deletions(-)

commit 874a2c6
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Aug 5 03:13:08 2001 +0000

    don't include malloc.h

 libs/util/quakeio.c |    3 ---
 1 file changed, 3 deletions(-)

commit 040345b
Author: Adam Olsen <rhamph@gmail.com>
Date:   Sat Aug 4 23:58:03 2001 +0000

    Change all our new functions to use dynamically allocated builtin
    numbers, except checkextension, checkfunction, and getfunction.  Yes,
    this may break some stuff. :)

 qw/source/sv_pr_cmds.c |   32 ++++++++++++++++----------------
 1 file changed, 16 insertions(+), 16 deletions(-)

commit dc98a63
Author: Adam Olsen <rhamph@gmail.com>
Date:   Sat Aug 4 23:44:50 2001 +0000

    Add a getfunction, which gives an error if it's not found

 include/QF/progs.h       |    1 +
 libs/gamecode/pr_edict.c |   12 +++++++++++-
 qw/source/sv_pr_cmds.c   |   21 +++++++++++++--------
 3 files changed, 25 insertions(+), 9 deletions(-)

commit 1a73a47
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Aug 4 23:19:16 2001 +0000

    make /sure/ ^h is covered. seems ncurses is a tad on the weird side

 qw/source/sv_console.c |    1 +
 1 file changed, 1 insertion(+)

commit d241e8d
Author: Adam Olsen <rhamph@gmail.com>
Date:   Sat Aug 4 22:14:45 2001 +0000

    Make sure all the function names passed to PR_AddBuiltin are
    lowercase, for sanity reasons.

 nq/source/pr_cmds.c    |   24 ++++++++++++------------
 qw/source/sv_pr_cmds.c |   26 +++++++++++++-------------
 2 files changed, 25 insertions(+), 25 deletions(-)

commit 85992c5
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sat Aug 4 18:18:33 2001 +0000

    Make more cvar names sane. _snd_mixahead is now snd_mixahead.

 libs/audio/targets/snd_dma.c |   25 +++++++++++++------------
 1 file changed, 13 insertions(+), 12 deletions(-)

commit c218ede
Author: Adam Olsen <rhamph@gmail.com>
Date:   Sat Aug 4 09:11:50 2001 +0000

    Add support for checkfunction, which is a builtin that searches for
    another builtin by name, and returns it.
    
    Soon I'll change all our new builtins to by allocated dynamically, as
    well as changing the number checkfunction uses, and happily break
    everything that uses them :D

 libs/gamecode/pr_exec.c    |    7 +++++++
 qw/source/sv_pr_cmds.c     |    2 +-
 tools/qfcc/include/qfcc.h  |    1 +
 tools/qfcc/source/qc-lex.l |    1 +
 tools/qfcc/source/qfcc.c   |   39 ++++++++++++++++++++++-----------------
 5 files changed, 32 insertions(+), 18 deletions(-)

commit 0f56fea
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Aug 4 06:00:23 2001 +0000

    well, now that we're stuck with autoconf 2.50, we don't need those lines any
    more

 bootstrap    |    1 -
 configure.ac |    1 -
 2 files changed, 2 deletions(-)

commit 8517e41
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Aug 4 05:34:20 2001 +0000

    due to libtool, we are forced to require autoconf 2.50 :/

 configure.ac | 1521 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 configure.in | 1521 ----------------------------------------------------------
 2 files changed, 1521 insertions(+), 1521 deletions(-)

commit f9e85cd
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 3 23:54:09 2001 +0000

    split up mleaf_t's minmaxs into two arrays

 include/QF/model.h              |    4 +++-
 libs/models/brush/model_brush.c |    4 ++--
 2 files changed, 5 insertions(+), 3 deletions(-)

commit 1e1cb06
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Aug 3 07:47:15 2001 +0000

    disable integers for --id. probably not thorough enough yet :/

 tools/qfcc/source/expr.c      |   15 +++++++++++----
 tools/qfcc/source/pr_opcode.c |    3 +++
 2 files changed, 14 insertions(+), 4 deletions(-)

commit 484edfd
Author: Adam Olsen <rhamph@gmail.com>
Date:   Fri Aug 3 07:37:21 2001 +0000

    Some of an aforementioned function to search for functions by name.
    Guess it's not as trivial as I thought.

 qw/source/sv_pr_cmds.c |   16 ++++++++++++++++
 1 file changed, 16 insertions(+)

commit ae133d0
Author: Adam Olsen <rhamph@gmail.com>
Date:   Fri Aug 3 06:40:28 2001 +0000

    Modify progs to add builtins at runtime.  It should be trivial to
    lookup functions by name, and make all our new QC builtins allocate
    numbers automatically.

 include/QF/progs.h       |    8 +-
 libs/gamecode/pr_edict.c |   38 +++++++
 libs/gamecode/pr_exec.c  |    4 +-
 nq/include/server.h      |    1 +
 nq/source/pr_cmds.c      |  200 ++++++++++++++++---------------------
 nq/source/sv_progs.c     |    9 +-
 qw/include/server.h      |    1 +
 qw/source/sv_pr_cmds.c   |  245 +++++++++++++++++++++++-----------------------
 qw/source/sv_progs.c     |    9 +-
 tools/qwaq/builtins.c    |   39 +++-----
 10 files changed, 279 insertions(+), 275 deletions(-)

commit 19387f0
Author: Adam Olsen <rhamph@gmail.com>
Date:   Thu Aug 2 23:27:45 2001 +0000

    diff noise reduction, cleaned up the comments somewhat

 nq/source/pr_cmds.c    |  189 +++++++++++++++++++-----------------------------
 qw/source/sv_pr_cmds.c |   56 +++++++-------
 2 files changed, 102 insertions(+), 143 deletions(-)

commit 0a4caac
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Aug 2 23:00:39 2001 +0000

    mingw compile fixes

 libs/audio/cd/cd_win.c |    2 +-
 libs/console/server.c  |    2 ++
 nq/source/sys_win.c    |    6 +++---
 qw/source/cl_sys_win.c |    6 +++---
 qw/source/sv_sys_win.c |    4 ++--
 5 files changed, 11 insertions(+), 9 deletions(-)

commit e236dd8
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Aug 2 23:00:17 2001 +0000

    more improvements

 RPM/build_rpm.in |   14 ++++++++++----
 1 file changed, 10 insertions(+), 4 deletions(-)

commit b455458
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Aug 2 17:16:12 2001 +0000

    exit cleanup. Sys_Error and Sys_Quit should be used whenever possible.

 libs/audio/targets/snd_alsa_0_5.c |   15 ++++++---------
 libs/video/targets/context_x11.c  |    5 -----
 libs/video/targets/vid_3dfxsvga.c |    2 --
 libs/video/targets/vid_glx.c      |   29 +----------------------------
 libs/video/targets/vid_sgl.c      |    1 -
 qw/source/cl_sys_unix.c           |    1 -
 6 files changed, 7 insertions(+), 46 deletions(-)

commit 2887dd3
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Thu Aug 2 04:12:26 2001 +0000

    Fix issue with gl_lightmap_components 4 and lightmap updates.

 libs/video/renderer/gl/gl_rsurf.c |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 79eb948
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Aug 2 03:24:18 2001 +0000

    for some reasone, building the rpms wanted an explicit stdio.h inclusion
    *shrug*

 nq/source/keys.c |    1 +
 qw/source/keys.c |    1 +
 2 files changed, 2 insertions(+)

commit 80c7113
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Aug 2 02:49:33 2001 +0000

    misc rpm building improvements

 Makefile.am            |    4 +--
 RPM/.gitignore         |    1 +
 RPM/Makefile.am        |    9 +++++++
 RPM/build_rpm.in       |    1 +
 RPM/quakeforge.spec.in |   65 +++++++++++++++++++++++++++++++++++++++++++++++-
 configure.in           |    1 +
 6 files changed, 78 insertions(+), 3 deletions(-)

commit 4c23641
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Aug 2 02:49:14 2001 +0000

    print line and char number for the error

 libs/util/qfplist.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit fd0c5aa
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Thu Aug 2 02:28:17 2001 +0000

    Garbage comment removal.

 libs/video/renderer/gl/gl_rsurf.c |   20 --------------------
 1 file changed, 20 deletions(-)

commit 6e9b51e
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Thu Aug 2 02:18:04 2001 +0000

    (Optionally) Use glTexSubImage2D for lightmap updates. Doesn't give as large a boost as I'd hoped, but will matter far more as other optimizations happen. New cvars gl_lightmap_align does nothing yet, and gl_lightmap_subimage only works in mode 0 and 1. Mode 2 (should be fastest mode on most cards) will eventully get implemented...

 include/r_cvar.h                   |    6 +-
 libs/video/renderer/gl/gl_rlight.c |    2 +-
 libs/video/renderer/gl/gl_rmain.c  |    3 +-
 libs/video/renderer/gl/gl_rsurf.c  |  112 ++++++++++++++++++++++--------------
 libs/video/renderer/r_cvar.c       |   28 ++++++++-
 5 files changed, 100 insertions(+), 51 deletions(-)

commit 4a81fc6
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 1 22:52:34 2001 +0000

    oops :)

 configure.in |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit e976a21
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 1 22:51:42 2001 +0000

    joystick and cd driver message cleanups

 configure.in |   13 +++++++------
 1 file changed, 7 insertions(+), 6 deletions(-)

commit f3c9465
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 1 22:43:16 2001 +0000

    whee, nicely modular packages

 RPM/.gitignore         |    1 +
 RPM/quakeforge.conf.in |   15 +++
 RPM/quakeforge.spec.in |  257 ++++++++++++++++++++++++++++++++++++++++++++++++
 configure.in           |   30 +++++-
 4 files changed, 300 insertions(+), 3 deletions(-)

commit 38a9a52
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 1 20:17:27 2001 +0000

    client and server targets now have their own packages (nq and qw shared)

 Makefile.am            |    2 +-
 RPM/quakeforge.spec.in |  150 +++++++++++++++++++++++++++++++++++++++++++-----
 configure.in           |  120 +++++++++++++++++++++++---------------
 3 files changed, 210 insertions(+), 62 deletions(-)

commit 8fc8b56
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 1 18:19:36 2001 +0000

    build_rpm works though only one monolithic package is built currently

 RPM/build_rpm.in |   21 +++++----------------
 RPM/rpmrc        |    1 +
 configure.in     |    3 ++-
 3 files changed, 8 insertions(+), 17 deletions(-)

commit fe8738b
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 1 17:49:25 2001 +0000

    make dist works again

 configure.in                  |    1 +
 include/Makefile.am           |    8 ++++----
 include/QF/GL/.gitignore      |    3 +++
 include/QF/GL/Makefile.am     |    4 ++++
 include/QF/Makefile.am        |    2 +-
 include/QF/plugin/Makefile.am |    2 +-
 qw/include/Makefile.am        |    2 +-
 7 files changed, 15 insertions(+), 7 deletions(-)

commit 8fa4bff
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 1 16:07:39 2001 +0000

    _ is legal in an unquoted string and make PL_ObjectForKey return the correct
    value

 libs/util/qfplist.c |    5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 2a96ffb
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 1 07:05:28 2001 +0000

    fix a couple of warnings

 libs/util/qfplist.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 7638537
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Wed Aug 1 07:03:46 2001 +0000

    plist updates; PL_GetPropertyList now calls Sys_Error() on plist errors.

 libs/util/qfplist.c |   11 ++++++++++-
 1 file changed, 10 insertions(+), 1 deletion(-)

commit 2287820
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 1 06:51:06 2001 +0000

    move the forward decl of hashtab_s out of the function prototype

 include/QF/qfplist.h |    2 ++
 1 file changed, 2 insertions(+)

commit d89cd91
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 1 06:29:09 2001 +0000

    make the expressions in for (a;b;c) optional

 tools/qfcc/source/qc-parse.y |   17 +++++++++++++----
 1 file changed, 13 insertions(+), 4 deletions(-)

commit e8c0af9
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 1 05:12:37 2001 +0000

    re-enable the mission pack stuff. yeah, it's clunky, but it's nice to have.
    Hopefully, scripted huds will come soon.

 nq/source/game.c |    4 +
 nq/source/sbar.c |  509 ++++++++++++++++++++++++++----------------------------
 2 files changed, 251 insertions(+), 262 deletions(-)

commit b6ee3e7
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 1 05:07:58 2001 +0000

    don't have blank SUBDIRS=, it hurts

 libs/console/Makefile.am |    1 -
 1 file changed, 1 deletion(-)

commit 0342341
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 1 03:44:27 2001 +0000

    two new `macros': cvs_def_enabled and cvs_def_disabled. they control the
    default enabled/disabled depending on if building from cvs or dist tarbal.
    eg:
    AC_ARG_ENABLE(typecheck-progs,
        [  --disable-typecheck-progs disable type checking on progs field access])
    if test "x$enable_typecheck_progs" $cvs_def_enabled; then
    	AC_DEFINE(TYPECHECK_PROGS)
    fi
    
    typecheck-progs will default to enabled in cvs, disabled in release. reverse
    for cvs_def_disabled.

 configure.in |   17 ++++++++++-------
 1 file changed, 10 insertions(+), 7 deletions(-)

commit 513347e
Author: Adam Olsen <rhamph@gmail.com>
Date:   Wed Aug 1 00:38:16 2001 +0000

    Fix that classic "playing without joining a team" TF cheat :)

 qw/include/server.h |    2 ++
 qw/source/sv_main.c |    2 ++
 qw/source/sv_user.c |   23 +++++++++++++++++++++++
 3 files changed, 27 insertions(+)

commit f9d4351
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Aug 1 00:19:05 2001 +0000

    more jobs

 tools/qfcc/TODO |    1 +
 1 file changed, 1 insertion(+)

commit 22339b7
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jul 31 21:52:52 2001 +0000

    create fs_userdir if it's not "." rather than not FS_USERPATH

 libs/util/quakefs.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 828e8b6
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jul 31 19:03:00 2001 +0000

    bloody builtin prototypes

 qw/source/cl_cvar.c |    6 ++++++
 1 file changed, 6 insertions(+)

commit fb26d8b
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jul 31 18:27:49 2001 +0000

    make Info_Set* take flags indicating wether funchars should be stripped or not

 include/QF/info.h      |    4 ++--
 libs/util/info.c       |   14 ++++++--------
 qw/include/server.h    |    2 ++
 qw/source/cl_cvar.c    |    8 ++++++--
 qw/source/cl_main.c    |   28 ++++++++++++++++------------
 qw/source/cl_parse.c   |    8 +++++---
 qw/source/game.c       |    2 +-
 qw/source/skin.c       |    2 +-
 qw/source/sv_ccmds.c   |    9 +++++----
 qw/source/sv_cvar.c    |    8 ++++----
 qw/source/sv_init.c    |    9 ++++++---
 qw/source/sv_main.c    |   22 +++++++++++++---------
 qw/source/sv_pr_cmds.c |    5 +++--
 qw/source/sv_progs.c   |    3 ++-
 qw/source/sv_user.c    |    2 +-
 15 files changed, 73 insertions(+), 53 deletions(-)

commit 2b19252
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jul 31 17:09:42 2001 +0000

    fix PF_hullpointcontents and the clip_mins/maxs setting in PF_rotate_bbox
    NOTE: the api to PF_hullpointcontents has changed!!!

 qw/source/sv_pr_cmds.c |   14 +++++++-------
 1 file changed, 7 insertions(+), 7 deletions(-)

commit da0f68d
Author: Thad Ward <coderjoe@grnet.com>
Date:   Tue Jul 31 10:23:42 2001 +0000

    Fix a minor typo in the help text for --with-user-cfg.

 configure.in |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 30f9343
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jul 31 08:06:27 2001 +0000

    /tiny/ optimisations

 qw/source/pmovetst.c |    6 ------
 1 file changed, 6 deletions(-)

commit 368468d
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jul 31 07:29:44 2001 +0000

    revert the changes to cl_demo.c as they are a serious (10%) speed hit in qw.
    While lost in the noise for nq for the standard demos, it seems like a good
    idea to revert it too.

 nq/source/cl_demo.c   |   29 +++++++----
 qw/include/protocol.h |    1 +
 qw/source/cl_demo.c   |  136 +++++++++++++++++++++++++++++++++----------------
 3 files changed, 111 insertions(+), 55 deletions(-)

commit aea1eda
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jul 30 23:35:33 2001 +0000

    --enable-Werror flag to cvs. does the obvious. defaults to enabled if
    binding from CVS, disabled otherwise.

 configure.in |   16 ++++++++++++++--
 1 file changed, 14 insertions(+), 2 deletions(-)

commit c3e3f81
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jul 30 22:53:01 2001 +0000

    the hull growing seems to work now.

 qw/source/sv_pr_cmds.c |   93 +++++++++++++++++++-----------------------------
 1 file changed, 37 insertions(+), 56 deletions(-)

commit 6cb2cb5
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jul 30 04:33:59 2001 +0000

    start making the rotated bounding box (really dynamic clipping huls) more
    generice, and also more in line with the rest of quake's clipping system
    (ie, support the entity size selected hulls). I'm not /entirly happy with
    what's here, but it's a start, and the force fields in customtf work /much/
    better :)

 include/QF/Makefile.am  |    2 +-
 include/QF/clip_hull.h  |   47 ++++++++++++++++
 include/QF/model.h      |    2 +-
 include/QF/progs.h      |    4 +-
 include/QF/sys.h        |    2 +-
 libs/models/Makefile.am |    8 +--
 libs/models/clip_hull.c |   68 +++++++++++++++++++++++
 qw/source/sv_pr_cmds.c  |  138 +++++++++++++++++++++++++++++++----------------
 qw/source/sv_user.c     |   10 ++--
 qw/source/world.c       |   37 +++++++------
 10 files changed, 244 insertions(+), 74 deletions(-)

commit 0219bcb
Author: Adam Olsen <rhamph@gmail.com>
Date:   Mon Jul 30 01:01:39 2001 +0000

    Make the help command work with commands too.  (moved to cmd.c while I
    was at it)

 libs/util/cmd.c  |   34 ++++++++++++++++++++++++++++++++++
 libs/util/cvar.c |   23 -----------------------
 2 files changed, 34 insertions(+), 23 deletions(-)

commit dbb3396
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jul 29 00:12:14 2001 +0000

    make the hull plane setup a loop

 qw/source/sv_pr_cmds.c |   29 ++++++-----------------------
 1 file changed, 6 insertions(+), 23 deletions(-)

commit 097f38d
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jul 27 23:22:21 2001 +0000

    return a null edict properly

 qw/source/sv_pr_cmds.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit ceadc24
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jul 27 23:19:48 2001 +0000

    erk, forgot to commit this with the wrappers

 qw/include/world.h |    4 ++++
 1 file changed, 4 insertions(+)

commit 6196fda
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jul 27 23:17:40 2001 +0000

    don't seg if looking up the ip of hostname fails (which on a properly
    configured system, shouldn't happen, but oh well)

 nq/source/net_udp.c |    5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit e69c1e8
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jul 27 23:07:38 2001 +0000

    correct a typo in a comment

 qw/source/sv_pr_cmds.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 219c58b
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jul 27 23:05:58 2001 +0000

    wrappers for SV_TestEntityPosition and SV_HullPointContents

 qw/source/sv_pr_cmds.c |   27 +++++++++++++++++++++++++--
 1 file changed, 25 insertions(+), 2 deletions(-)

commit bfb8eff
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jul 27 21:01:01 2001 +0000

    signed_const isn't needed any more

 tools/qfcc/source/qc-parse.y |   10 +---------
 1 file changed, 1 insertion(+), 9 deletions(-)

commit 89da473
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jul 27 20:56:16 2001 +0000

    tests, tests, tests

 tools/qwaq/main.qc |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit ecc71c4
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jul 27 20:55:14 2001 +0000

    local var = expr; now works (globals must still be consants)

 tools/qfcc/source/qc-parse.y |    7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

commit 0b576e4
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jul 27 19:48:46 2001 +0000

    fix a small bug

 qw/source/sv_pr_cmds.c |    7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

commit 65475fb
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jul 27 19:48:15 2001 +0000

    make a rotated_bbox override the model hulls

 qw/source/sv_user.c |   22 +++++++++++-----------
 1 file changed, 11 insertions(+), 11 deletions(-)

commit a3368d0
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jul 27 16:06:42 2001 +0000

    move the rotated_bbox hull checks into SV_HullForEntity and move the
    check == ent test in SV_TestPlayerPosition to before the abs bbox check.

 qw/source/pmovetst.c |   10 +++++-----
 qw/source/world.c    |   36 ++++++++++++++----------------------
 2 files changed, 19 insertions(+), 27 deletions(-)

commit 27dde8c
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jul 27 06:39:06 2001 +0000

    sv_pr_cmds.c:
    	find the full bounding box for the rotated bounding box and put this
    	into hull's clip_mins and clip_maxs. Also, provide:
    		vector (integer hull, integer max) getboxbounds = #94
    	to retrieve these values (max != 0 for clip_maxs, max == 0 for clip_mins)
    world.c:
    	SV_TestPlayerPosition now checks for a rotated_bbox hull

 qw/source/sv_pr_cmds.c |   85 ++++++++++++++++++++++++++++++++++++------------
 qw/source/world.c      |    6 ++--
 2 files changed, 68 insertions(+), 23 deletions(-)

commit 6b43d45
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jul 27 04:50:53 2001 +0000

    the C side of the fix for the field gen weird spot for a standing player

 qw/source/world.c |   11 +++++++++--
 1 file changed, 9 insertions(+), 2 deletions(-)

commit c834185
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jul 27 02:45:01 2001 +0000

    forgot to clear pe->hull if rotated_bbox is non-existant or 0

 qw/source/sv_user.c |    2 ++
 1 file changed, 2 insertions(+)

commit 6000b06
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jul 26 21:37:34 2001 +0000

    support arbitrary hulls for players, too

 qw/include/pmove.h   |    1 +
 qw/source/pmovetst.c |   10 +++++++---
 qw/source/sv_user.c  |    6 ++++++
 3 files changed, 14 insertions(+), 3 deletions(-)

commit 44daa25
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jul 26 20:55:42 2001 +0000

    force the software clients to use the static renderer so asm is used

 nq/source/Makefile.am |   20 ++++++++++----------
 qw/source/Makefile.am |   20 ++++++++++----------
 2 files changed, 20 insertions(+), 20 deletions(-)

commit df2f517
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jul 26 17:36:57 2001 +0000

    put in a couple of comments

 qw/source/sv_pr_cmds.c |    3 +++
 1 file changed, 3 insertions(+)

commit 517be0a
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jul 26 16:32:01 2001 +0000

    change rotate_bbox's `prototype'
    void (integer hull, vector right, vector forward, vector up,
          vector mins, vector maxs) rotate_bbox = #97

 qw/source/sv_pr_cmds.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a44da38
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jul 26 16:24:47 2001 +0000

    rotate the bounding box points, not just the planes
    fix a really nasty bug with allocating a hull

 qw/source/sv_pr_cmds.c |   37 ++++++++++++++++++++++++++-----------
 1 file changed, 26 insertions(+), 11 deletions(-)

commit 725653c
Author: Adam Olsen <rhamph@gmail.com>
Date:   Thu Jul 26 15:50:54 2001 +0000

    Delete the check in download file names for a leading slash, since
    it's harmless and some maps (such as engwar1) use it.  (the map may
    be considered broken because of it, but everything ELSE works fine
    with a leading slash, since it's relative anyway)

 qw/source/sv_user.c |    2 --
 1 file changed, 2 deletions(-)

commit 88eb9e1
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jul 26 15:33:55 2001 +0000

    forgot to subtract 1 from the incoming hull `handle'

 qw/source/sv_pr_cmds.c |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 28b1598
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jul 26 05:15:34 2001 +0000

    break the emit_* functions out of expr.c into emit.c

 tools/qfcc/include/expr.h     |    6 +
 tools/qfcc/source/Makefile.am |    2 +-
 tools/qfcc/source/emit.c      |  369 +++++++++++++++++++++++++++++++++++++++++
 tools/qfcc/source/expr.c      |  369 +----------------------------------------
 4 files changed, 380 insertions(+), 366 deletions(-)

commit 7718ca4
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jul 26 05:08:27 2001 +0000

    various little cleanups

 tools/qfcc/source/expr.c |   88 +++++++++++++++++-----------------------------
 1 file changed, 33 insertions(+), 55 deletions(-)

commit 95ad5aa
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jul 26 04:34:10 2001 +0000

    integer type done

 tools/qfcc/TODO |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 5ebee4a
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jul 26 04:26:54 2001 +0000

    rotated bounding box support. this is so totally untested it's not funny
    (though it does compile). Keeps things simple and only checks touched.
    
    .integer rotated_bbox;
    
    ent.rotated_bbox = getboxhull ();// be sure to check for failure (0)
    rotate_bbox (ent.rotated_bbox, ent.angles, ent.mins, ent.maxs);
    ...
    freeboxhull (ent.rotated_bbox); // when freeing entity. box hulls are limited
    
    integer () getboxhull = #95
    void (integer hull) freeboxhull = #96
    void (integer hull, vector angles, vector mins, vector maxs) rotate_bbox = #97

 qw/include/world.h     |    2 ++
 qw/source/sv_pr_cmds.c |   88 ++++++++++++++++++++++++++++++++++++++++++++++--
 qw/source/world.c      |   59 +++++++++++++++++---------------
 3 files changed, 118 insertions(+), 31 deletions(-)

commit 22219fd
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jul 26 00:08:42 2001 +0000

    fix a slight oopsie in Rhamph's checkin:)

 qw/source/sv_progs.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 619b123
Author: Adam Olsen <rhamph@gmail.com>
Date:   Thu Jul 26 00:01:13 2001 +0000

    Start of support for rotated bboxes.  shouldn't do anything yet

 qw/include/sv_progs.h |    1 +
 qw/source/sv_progs.c  |    1 +
 qw/source/world.c     |   46 ++++++++++++++++++++++++++++------------------
 3 files changed, 30 insertions(+), 18 deletions(-)

commit 8fc5e5e
Author: Adam Olsen <rhamph@gmail.com>
Date:   Wed Jul 25 23:59:56 2001 +0000

    replace strncmp (name, "maps/", 6) with strncmp (name, "maps/", 5)

 qw/source/sv_user.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 64a2f8d
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jul 25 23:33:06 2001 +0000

    rearrange the comments for the builtins table, and put a comment with the
    builtin number (and prototype where appropriate) on every element

 qw/source/sv_pr_cmds.c |  269 +++++++++++++++++++++---------------------------
 1 file changed, 119 insertions(+), 150 deletions(-)

commit 08bc0e9
Author: Zephaniah E. Hull <warp@babylon.d2dc.net>
Date:   Wed Jul 25 22:14:42 2001 +0000

    New PF_checkmove! A direct interface to SV_Move, but named better.
    (This is #98.)

 qw/source/sv_pr_cmds.c |   41 ++++++++++++++++++++++++++++++++++++++++-
 1 file changed, 40 insertions(+), 1 deletion(-)

commit c553917
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jul 25 21:48:20 2001 +0000

    various tests

 tools/qwaq/builtins.c |   37 +++++++++++++++++++++++++++++++++++++
 tools/qwaq/defs.qc    |    2 ++
 tools/qwaq/main.qc    |   19 +++++++++++++++++++
 3 files changed, 58 insertions(+)

commit d44f60f
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jul 25 21:47:05 2001 +0000

    drasticly simplify emit_assign_expr now that I have a much better
    understanding of when an explicit assigment is needed. seems to work for
    everything I throw at it.
    Also, fix ! unary ops (caused by the - unary op fix:/)

 tools/qfcc/source/expr.c |   22 +++++++---------------
 1 file changed, 7 insertions(+), 15 deletions(-)

commit 0c2cd86
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jul 25 18:36:36 2001 +0000

    fix -expr handling. generates sucky code atm, but at least it's generating
    code now:P

 tools/qfcc/source/expr.c     |    2 ++
 tools/qfcc/source/qc-parse.y |   36 ++++++++++++++++++------------------
 2 files changed, 20 insertions(+), 18 deletions(-)

commit 638cd00
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jul 25 02:28:04 2001 +0000

    return type testing

 tools/qwaq/main.qc |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 6200636
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jul 24 23:53:35 2001 +0000

    typecheck values for [frame, think] on thost functions and fix some misplaced
    immediate defs

 tools/qfcc/include/expr.h    |    2 ++
 tools/qfcc/source/pr_imm.c   |    6 +++---
 tools/qfcc/source/qc-parse.y |    6 ++++++
 3 files changed, 11 insertions(+), 3 deletions(-)

commit 9ad075b
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jul 24 22:30:31 2001 +0000

    make if/while/for use test_expr, make test_expr fix the new exp line/file,
    fix some string const issues

 tools/qfcc/include/expr.h    |    2 ++
 tools/qfcc/source/expr.c     |   19 ++++++++++++-------
 tools/qfcc/source/pr_imm.c   |   10 ++++++++--
 tools/qfcc/source/qc-parse.y |   14 +++++++-------
 4 files changed, 29 insertions(+), 16 deletions(-)

commit 07fbe47
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jul 24 22:29:16 2001 +0000

    tests for if (simple expression)

 tools/qwaq/main.qc |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit d12a0a9
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jul 24 22:11:44 2001 +0000

    return of UserInfoCallback is now ignored and SV_Userinfo_f just returns as
    PR_setuserinfo now does the extract from userinfo.

 qw/source/sv_pr_cmds.c |    1 +
 qw/source/sv_user.c    |    6 +-----
 2 files changed, 2 insertions(+), 5 deletions(-)

commit 5761230
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jul 24 20:43:18 2001 +0000

    warn on passing integer constants into ... functions. Again, this will need
    an option later

 tools/qfcc/source/expr.c |    4 ++++
 1 file changed, 4 insertions(+)

commit d9cde78
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jul 24 19:51:44 2001 +0000

    use ev_type_count instead of ev_void for bad types so things like void
    functions being used in expressions don't cause ICEs

 tools/qfcc/source/expr.c |   10 ++++++----
 1 file changed, 6 insertions(+), 4 deletions(-)

commit 06b9f44
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jul 24 17:51:07 2001 +0000

    prepend a 0ed header to the overflowed packet being dumped

 qw/source/sv_send.c |    8 +++++++-
 1 file changed, 7 insertions(+), 1 deletion(-)

commit 6d16719
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jul 24 04:45:53 2001 +0000

    expr.c:
    	warn for int const / int const. this will probably want an option for newer
    	games
    qfcc.c:
    	clean up temp files when errors have occured

 tools/qfcc/source/expr.c |    3 ++-
 tools/qfcc/source/qfcc.c |    6 ++++--
 2 files changed, 6 insertions(+), 3 deletions(-)

commit 75f3f27
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jul 24 03:22:54 2001 +0000

    fix a silly mistake that caused configs not to be written

 libs/util/quakefs.c |    9 +++++----
 1 file changed, 5 insertions(+), 4 deletions(-)

commit c7390e4
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jul 23 18:36:36 2001 +0000

    diff_snr-- :)

 nq/source/keys.c |    5 +++--
 qw/source/keys.c |    8 ++++----
 2 files changed, 7 insertions(+), 6 deletions(-)

commit 1b32a43
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Mon Jul 23 07:21:44 2001 +0000

    Debian package updates. They won't work completely yet, but I think they
    need to be committed.

 debian/Makefile.am                    |   30 ++++----
 debian/control                        |  134 +++++++++++++++++++++++----------
 debian/copyright                      |    4 +-
 debian/qf-client-3dfx.dirs            |    1 -
 debian/qf-client-3dfx.docs            |    3 -
 debian/qf-client-3dfx.files           |    1 -
 debian/qf-client-3dfx.suid            |    1 -
 debian/qf-client-3dfx.undocumented    |    1 -
 debian/qf-client-glx.dirs             |    1 -
 debian/qf-client-glx.docs             |    3 -
 debian/qf-client-glx.files            |    1 -
 debian/qf-client-glx.undocumented     |    1 -
 debian/qf-client-sdl.dirs             |    1 -
 debian/qf-client-sdl.docs             |    3 -
 debian/qf-client-sdl.files            |    1 -
 debian/qf-client-sdl.undocumented     |    1 -
 debian/qf-client-sgl.dirs             |    1 -
 debian/qf-client-sgl.docs             |    3 -
 debian/qf-client-sgl.files            |    1 -
 debian/qf-client-sgl.undocumented     |    1 -
 debian/qf-client-svga.dirs            |    1 -
 debian/qf-client-svga.docs            |    3 -
 debian/qf-client-svga.files           |    1 -
 debian/qf-client-svga.suid            |    1 -
 debian/qf-client-svga.undocumented    |    1 -
 debian/qf-client-x11.dirs             |    1 -
 debian/qf-client-x11.docs             |    3 -
 debian/qf-client-x11.files            |    1 -
 debian/qf-client-x11.undocumented     |    1 -
 debian/qf-server.dirs                 |    2 -
 debian/qf-server.docs                 |    3 -
 debian/qf-server.files                |    1 -
 debian/qf-server.undocumented         |    1 -
 debian/quakeforge-3dfx.dirs           |    1 +
 debian/quakeforge-3dfx.docs           |    3 +
 debian/quakeforge-3dfx.files          |    2 +
 debian/quakeforge-3dfx.suid           |    1 +
 debian/quakeforge-3dfx.undocumented   |    1 +
 debian/quakeforge-alsa.files          |    3 +
 debian/quakeforge-common.files        |   25 ++++++
 debian/quakeforge-dev.dirs            |    1 +
 debian/quakeforge-dev.files           |   30 ++++++++
 debian/quakeforge-glx.dirs            |    1 +
 debian/quakeforge-glx.docs            |    3 +
 debian/quakeforge-glx.files           |    2 +
 debian/quakeforge-glx.undocumented    |    1 +
 debian/quakeforge-libs-gl.files       |    4 +
 debian/quakeforge-libs-sw.files       |    4 +
 debian/quakeforge-oss.files           |    3 +
 debian/quakeforge-sdl.dirs            |    1 +
 debian/quakeforge-sdl.docs            |    3 +
 debian/quakeforge-sdl.files           |    2 +
 debian/quakeforge-sdl.undocumented    |    1 +
 debian/quakeforge-server.dirs         |    2 +
 debian/quakeforge-server.docs         |    3 +
 debian/quakeforge-server.files        |    1 +
 debian/quakeforge-server.undocumented |    1 +
 debian/quakeforge-sgl.dirs            |    1 +
 debian/quakeforge-sgl.docs            |    3 +
 debian/quakeforge-sgl.files           |    2 +
 debian/quakeforge-sgl.undocumented    |    1 +
 debian/quakeforge-svga.dirs           |    1 +
 debian/quakeforge-svga.docs           |    3 +
 debian/quakeforge-svga.files          |    2 +
 debian/quakeforge-svga.suid           |    1 +
 debian/quakeforge-svga.undocumented   |    1 +
 debian/quakeforge-x11.dirs            |    1 +
 debian/quakeforge-x11.docs            |    3 +
 debian/quakeforge-x11.files           |    2 +
 debian/quakeforge-x11.undocumented    |    1 +
 debian/rules                          |   15 ++--
 71 files changed, 239 insertions(+), 110 deletions(-)

commit a47a4d8
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jul 23 06:15:33 2001 +0000

    make print_expr's output readable by mere mortals

 tools/qfcc/source/expr.c |   20 ++++++++++----------
 1 file changed, 10 insertions(+), 10 deletions(-)

commit d2c2667
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jul 23 05:46:00 2001 +0000

    fix a seg on return type mismatch

 tools/qfcc/source/expr.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 4b744b6
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jul 23 05:31:49 2001 +0000

    fix numberous integer <-> float errors
    type check function args in the correct order

 tools/qfcc/source/expr.c |   97 +++++++++++++++++++++++++++-------------------
 1 file changed, 57 insertions(+), 40 deletions(-)

commit b8874ca
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jul 23 02:27:46 2001 +0000

    function return checking

 tools/qfcc/include/expr.h    |    1 +
 tools/qfcc/source/expr.c     |   29 +++++++++++++++++++++++++++++
 tools/qfcc/source/qc-parse.y |    4 ++--
 3 files changed, 32 insertions(+), 2 deletions(-)

commit 50fadb6
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jul 23 01:56:49 2001 +0000

    function arg type checking with int->float /constant/ cooecion.

 tools/qfcc/source/expr.c |   22 ++++++++++++++++++++++
 1 file changed, 22 insertions(+)

commit c248372
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jul 23 01:31:22 2001 +0000

    Initial integer type support. qfcc /is/ partially broken when it comes to
    integer constants and float function args/return values.
    
    pr_comp.h:
    	o  add the integer opcodes to pr_opcode_e
    pr_edict.c:
    	o  add "quaternion" and "integer" to type_name[]
    	o  support quatnernion and integers types when printing values
    	o  support the integer opcodes when bounds checking
    pr_exec.c
    	o  enable the integer opcodes
    pr_opcode:
    	o  add the integer opcodes to the opcode table
    	o  logical operators all result in an integer rather than a value
    expr.h:
    	o  rename int_val to integer_val
    qfcc.h:
    	o  kill another magic number
    expr.c:
    	o  move the opcode to string conversion out of type_mismatch and into
    	   get_op_string
    	o  rename int_val to integer_val
    	o  general integer type support.
    	o  generate an internal comipiler error for null opcodes rather than
    	   segging.
    pr_imm.c:
    	o  rename int_val to integer_val
    	o  support integer constants, converting to float when needed.
    pr_lex.c:
    	o  magic number death and support quaternions and integers in type_size[]
    qc-lex.l
    	o  rename int_val to integer_val
    	o  support quaternion and integer type keywords
    qc-parse.y:
    	o  rename int_val to integer_val
    	o  use binary_expr instead of new_binary_expr for local initialized
    	   variables
    builtins.c:
    	o  rename int_val to integer_val
    	o  fix most (all?) of the INT related FIXMEs
    defs.qc:
    	o  use integer instead of float where it makes sense
    main.c:
    	o  read_result is now integer rather than float
    main.qc:
    	o  float -> integer where appropriate
    	o  new test for int const to float arg

 include/QF/pr_comp.h         |   22 +++++
 libs/gamecode/pr_edict.c     |   35 ++++++-
 libs/gamecode/pr_exec.c      |   28 +++---
 libs/gamecode/pr_opcode.c    |   78 +++++++++------
 tools/qfcc/include/expr.h    |    2 +-
 tools/qfcc/include/qfcc.h    |    2 +-
 tools/qfcc/source/expr.c     |  220 ++++++++++++++++++++++++++++--------------
 tools/qfcc/source/pr_imm.c   |   22 +++--
 tools/qfcc/source/pr_lex.c   |    2 +-
 tools/qfcc/source/qc-lex.l   |   30 +++---
 tools/qfcc/source/qc-parse.y |   10 +-
 tools/qwaq/builtins.c        |   40 ++++----
 tools/qwaq/defs.qc           |   16 +--
 tools/qwaq/main.c            |    4 +-
 tools/qwaq/main.qc           |   14 ++-
 15 files changed, 347 insertions(+), 178 deletions(-)

commit 22c9716
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jul 22 20:20:46 2001 +0000

    rename int_var to integer_var

 include/QF/progs.h       |    6 +-
 libs/gamecode/pr_edict.c |   14 ++---
 libs/gamecode/pr_exec.c  |  140 +++++++++++++++++++++++-----------------------
 nq/source/pr_cmds.c      |    2 +-
 qw/source/sv_pr_cmds.c   |    4 +-
 5 files changed, 83 insertions(+), 83 deletions(-)

commit bad184b
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jul 22 19:58:17 2001 +0000

    change the results of the test instructions from float to int.

 libs/gamecode/pr_exec.c |   36 ++++++++++++++++++------------------
 1 file changed, 18 insertions(+), 18 deletions(-)

commit 67d20e0
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jul 22 19:27:17 2001 +0000

    remove all the _IF, _FI, _IV and _VI instructions (none yet enabled) as I don't
    want to implement implicit integer <-> float `conversions'

 libs/gamecode/pr_exec.c |   89 -----------------------------------------------
 1 file changed, 89 deletions(-)

commit 2f22392
Author: Adam Olsen <rhamph@gmail.com>
Date:   Sun Jul 22 19:03:26 2001 +0000

    Add a set of "crudefile" file io functions.  Reads or writes an
    entire C string (including terminating nul).  Read the source for
    more details :)

 qw/include/crudefile.h |   41 +++++
 qw/source/Makefile.am  |    4 +-
 qw/source/crudefile.c  |  397 ++++++++++++++++++++++++++++++++++++++++++++++++
 qw/source/sv_init.c    |    4 +
 qw/source/sv_main.c    |    3 +
 qw/source/sv_pr_cmds.c |   74 +++++++++
 6 files changed, 521 insertions(+), 2 deletions(-)

commit 7769485
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jul 22 18:44:55 2001 +0000

    fix some off-by one errors I induced last night

 qw/source/sv_user.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit d6f82b6
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jul 22 18:38:59 2001 +0000

    make Qwrite's buffer pointer const.

 include/QF/vfile.h  |    2 +-
 libs/util/quakeio.c |    4 ++--
 2 files changed, 3 insertions(+), 3 deletions(-)

commit f3ab764
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jul 22 07:03:32 2001 +0000

    bump MAX_BACK_BUFFERS up to 8.

 qw/include/server.h |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 55ac55c
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jul 22 06:59:12 2001 +0000

    rename ev_int and ex_int to ev_integer and ex_integer. create type_integer
    and def_integer (do I need that?), clean up and or coment on XXX and FIXME

 include/QF/pr_comp.h         |    2 +-
 tools/qfcc/include/expr.h    |    2 +-
 tools/qfcc/include/qfcc.h    |    2 ++
 tools/qfcc/source/expr.c     |   61 +++++++++++++++++++++---------------------
 tools/qfcc/source/pr_imm.c   |    4 +--
 tools/qfcc/source/pr_lex.c   |    2 ++
 tools/qfcc/source/qc-parse.y |    6 ++---
 7 files changed, 42 insertions(+), 37 deletions(-)

commit 735cd90
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jul 22 06:55:09 2001 +0000

    make SV_Prespawn use the backbuffers if needed to help prevent overflows

 qw/source/sv_user.c |   42 ++++++++++++++++++++----------------------
 1 file changed, 20 insertions(+), 22 deletions(-)

commit e010356
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jul 22 06:27:05 2001 +0000

    break out the two chunks of almost identical backbuffer code into
    PushBackbuffer()

 qw/source/sv_nchan.c |   25 +++++++++++++------------
 1 file changed, 13 insertions(+), 12 deletions(-)

commit 111dc20
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sun Jul 22 05:40:34 2001 +0000

    whitespace and comment cleanups.

 libs/models/alias/gl_mesh.c          |   22 ++--------
 libs/models/alias/gl_model_alias.c   |   12 +-----
 libs/models/alias/model_alias.c      |   40 +++++------------
 libs/models/brush/gl_model_brush.c   |    7 ++-
 libs/models/brush/model_brush.c      |   79 +++-------------------------------
 libs/models/brush/sw_model_brush.c   |    4 +-
 libs/models/model.c                  |   44 ++++++-------------
 libs/models/sprite/gl_model_sprite.c |    6 +--
 libs/models/sprite/model_sprite.c    |   14 +-----
 libs/models/sprite/sw_model_sprite.c |    8 ++--
 10 files changed, 44 insertions(+), 192 deletions(-)

commit 1422163
Author: Adam Olsen <rhamph@gmail.com>
Date:   Sun Jul 22 04:53:19 2001 +0000

    Minor typo fix ("(%d0" to "(%d)")

 qw/source/sv_user.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 7e8c75f
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jul 22 03:23:15 2001 +0000

    forgot to commit this

 include/QF/GL/qf_sky.h |    1 +
 1 file changed, 1 insertion(+)

commit 56bb92a
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jul 22 02:06:02 2001 +0000

    make gl_sky_clip 3 do as originally promises

 libs/video/renderer/gl/gl_sky_clip.c |   34 +++++++++++++++++++++++++++-------
 1 file changed, 27 insertions(+), 7 deletions(-)

commit 54cda68
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sat Jul 21 23:18:59 2001 +0000

    Just a bit of whitespace and comment cleanup.

 libs/video/renderer/gl/gl_dyn_part.c |   61 +++++++++++++++++++---------------
 1 file changed, 35 insertions(+), 26 deletions(-)

commit 1461143
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sat Jul 21 20:32:45 2001 +0000

    Spiffed up scrag and hellknight missile particle trails. (Partly inspired by darkplaces, though not identical to LordHavoc's)

 libs/video/renderer/gl/gl_dyn_part.c |   65 +++++++++++++++++++---------------
 1 file changed, 36 insertions(+), 29 deletions(-)

commit 1fca85e
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jul 20 23:18:03 2001 +0000

    kill some unneeded tests

 tools/qwaq/main.qc |   55 ----------------------------------------------------
 1 file changed, 55 deletions(-)

commit c9626b4
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jul 20 18:51:00 2001 +0000

    Makefile.am:
    	build the client and server plugins
    client.c:
    	get to build, though it's very crippled
    server.c:
    	re-print the message to the buffer after re-sizing the buffer

 libs/console/Makefile.am |   15 ++++++
 libs/console/client.c    |  113 +++++++++++++++++++++++++++++++++++++++++-----
 libs/console/server.c    |    1 +
 3 files changed, 118 insertions(+), 11 deletions(-)

commit 43c8763
Author: Adam Olsen <rhamph@gmail.com>
Date:   Fri Jul 20 08:08:46 2001 +0000

    change host_client to sv_player.  I *hope* this is the right thing.

 qw/source/sv_user.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit cf10da8
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jul 20 05:35:55 2001 +0000

    fix the double "foo changed name to bar" messages for foo

 qw/source/sv_user.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit abf34ac
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jul 20 05:30:51 2001 +0000

    send the right one

 qw/source/sv_pr_cmds.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a097059
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jul 20 05:29:45 2001 +0000

    forgot to send the updates to the clients

 qw/source/sv_pr_cmds.c |    5 +++++
 1 file changed, 5 insertions(+)

commit 7c16afe
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jul 20 05:22:44 2001 +0000

    add a --no-cpp command line option so that cpp enabled qfcc can still compile
    qfpreqcc progs

 tools/qfcc/source/qfcc.c |   89 +++++++++++++++++++++++++++-------------------
 1 file changed, 52 insertions(+), 37 deletions(-)

commit 22dbc62
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jul 20 05:18:46 2001 +0000

    damn magic numbers. sdl didn't like the key num shift either

 libs/video/targets/in_sdl.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 743fd9c
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jul 20 05:05:47 2001 +0000

    rename SetUserInfo to UserInfoCallback.
    set self to the client entity for UserInfoCallback.
    add void (entity ent, string key, string value) setinfokey = #102;
    	similar usage to infokey.

 qw/include/sv_progs.h  |    2 +-
 qw/source/sv_pr_cmds.c |   20 +++++++++++++++++++-
 qw/source/sv_progs.c   |    8 ++++----
 qw/source/sv_user.c    |    5 +++--
 4 files changed, 27 insertions(+), 8 deletions(-)

commit d30f1ee
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jul 20 04:30:33 2001 +0000

    add an /optional/ SetUserInfo qc callback to allout the progs to take over
    userinfo setting.
    
    float (string key, string value) SetUserInfo;
    
    key = infostring key
    value = new value
    returs: 0 for key not changed, non-0 to broadcast the change

 qw/include/sv_progs.h |    1 +
 qw/source/sv_progs.c  |    4 ++++
 qw/source/sv_user.c   |   38 +++++++++++++++++++++-----------------
 3 files changed, 26 insertions(+), 17 deletions(-)

commit 9f09a6a
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jul 20 01:45:19 2001 +0000

    assigning > 255 into an unsigned char isn't too good

 libs/video/targets/in_svgalib.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit aa7500c
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jul 19 21:54:12 2001 +0000

    add the DOUBLEQUOTE key name as per mechanix' request

 nq/source/keys.c |    1 +
 qw/source/keys.c |    1 +
 2 files changed, 2 insertions(+)

commit bcbd1b9
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jul 19 21:51:18 2001 +0000

    heh. close, so close. one mised const

 libs/video/targets/vid_fbdev.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 46176e1
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jul 19 21:46:34 2001 +0000

    azerty kb patch from Filip Van Raemdonck <mechanix@digibel.org>. includes some
    misc fixes, too

 include/QF/keys.h              |    7 +++++++
 libs/util/cmd.c                |    2 +-
 libs/video/targets/fbset.c     |    2 +-
 libs/video/targets/in_x11.c    |   20 ++++++++++++++++++++
 libs/video/targets/vid_fbdev.c |   10 +++++-----
 nq/source/keys.c               |   17 ++++++++++++++++-
 qw/source/keys.c               |   17 ++++++++++++++++-
 7 files changed, 66 insertions(+), 9 deletions(-)

commit edcc313
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jul 19 07:27:14 2001 +0000

    debug info for local variables is now used. only works when tracing atm:/

 include/QF/progs.h       |    2 ++
 libs/gamecode/pr_debug.c |   41 +++++++++++++++++++++++++++++++++++------
 libs/gamecode/pr_edict.c |   18 +++++++++++++-----
 libs/gamecode/pr_exec.c  |   12 ++++--------
 tools/qwaq/main.qc       |   13 ++++++++++++-
 5 files changed, 66 insertions(+), 20 deletions(-)

commit b237868
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jul 19 07:07:32 2001 +0000

    check for hitting the maximum number of masters and print a message if so.

 qw/source/sv_ccmds.c |    5 +++++
 1 file changed, 5 insertions(+)

commit 5e81d80
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jul 19 05:13:32 2001 +0000

    optionally disable the curses server console, bringing back the old behaviour

 configure.in           |   27 ++++++++++++++++++---------
 qw/source/sv_console.c |   28 ++++++++++++++++++++++++++--
 2 files changed, 44 insertions(+), 11 deletions(-)

commit a771b5b
Author: Adam Olsen <rhamph@gmail.com>
Date:   Thu Jul 19 03:18:11 2001 +0000

    Make edicts command support a search string, so it only prints edicts
    with matching classnames.  Makes it easy to print out the type you want
    for debugging :)

 include/QF/progs.h       |    2 +-
 libs/gamecode/pr_edict.c |   24 ++++++++++++++++++------
 nq/source/pr_cmds.c      |    2 +-
 nq/source/sv_progs.c     |    2 +-
 qw/source/sv_pr_cmds.c   |    2 +-
 qw/source/sv_progs.c     |    2 +-
 6 files changed, 23 insertions(+), 11 deletions(-)

commit 00d409e
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jul 19 03:00:35 2001 +0000

    fix constant folding for |

 tools/qfcc/source/expr.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 09ae07f
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jul 19 03:00:08 2001 +0000

    make --enable-cpp work when new-parser is left to default (which is on)

 tools/qfcc/configure.in |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 086084c
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jul 19 00:24:24 2001 +0000

    fix a sign extention error

 qw/source/sv_console.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 40dfde5
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jul 19 00:07:20 2001 +0000

    don't try to use curses before things have been initialized

 qw/source/sv_console.c |   17 ++++++++++++-----
 1 file changed, 12 insertions(+), 5 deletions(-)

commit 2732797
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jul 18 22:18:36 2001 +0000

    fix the undefined symbol error

 libs/audio/targets/snd_null.c |   20 ++++++++++----------
 1 file changed, 10 insertions(+), 10 deletions(-)

commit 52b4daa
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jul 18 21:42:53 2001 +0000

    need svgalib for 3dfx

 configure.in |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 47a6f2c
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jul 18 21:28:41 2001 +0000

    pr_debug.c:
    	capitolise CRC and add a \n to the message
    sv_progs.c (both nq and qw):
    	don't bother checking the progdefs.h crc: it's just not needed any more
    pr_imm.c:
    	use r instead of rep when checking the hash tables.
    main.c (quaq):
    	make developer work and set com_filesize (otherwise, progs crc doesn't
    	get set properly (com_filesize, not developer:))

 libs/gamecode/pr_debug.c   |    2 +-
 nq/source/sv_progs.c       |    2 --
 qw/source/sv_progs.c       |    2 --
 tools/qfcc/source/pr_imm.c |    2 +-
 tools/qwaq/main.c          |    4 +++-
 5 files changed, 5 insertions(+), 7 deletions(-)

commit 33e506e
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jul 18 20:52:12 2001 +0000

    make PR_RunError back up to the preceding source line if debug is availalbe

 libs/gamecode/pr_exec.c |    8 ++++++++
 1 file changed, 8 insertions(+)

commit 5a86b66
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jul 18 20:49:57 2001 +0000

    fix a typo

 libs/gamecode/pr_debug.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 5c31fbf
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jul 18 20:31:55 2001 +0000

    fix debug crc generation

 tools/qfcc/source/qfcc.c |    5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 3eedd3d
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jul 18 19:04:47 2001 +0000

    more tests

 tools/qwaq/main.qc |    1 +
 1 file changed, 1 insertion(+)

commit 882de10
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jul 18 18:29:38 2001 +0000

    rename Con_CompleteCommandLine to Con_BasicCompleteCommandLine and make it
    use inputline_t rather than the key_lines junk.

 libs/console/complete.c |   23 +++++++++--------------
 1 file changed, 9 insertions(+), 14 deletions(-)

commit f70e2e8
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jul 18 18:22:13 2001 +0000

    cleanup

 libs/console/server.c |   16 +---------------
 1 file changed, 1 insertion(+), 15 deletions(-)

commit e5de359
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jul 18 18:16:11 2001 +0000

    requiring quake2 fields ain't such a good idea (but why are they in q1 progs?
    oh well)

 nq/source/sv_progs.c |   10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit 144eba8
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jul 18 18:03:53 2001 +0000

    it seems that the qcc variants that strip global defs only strip the name, so
    don't bother fixing missing defs (but /do/ complain if any are missing). I
    suspect full def striping would have seriously broken things.

 tools/qfdefs/source/fix_globals.c |   26 ++++----------------------
 1 file changed, 4 insertions(+), 22 deletions(-)

commit 152114f
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jul 18 17:59:16 2001 +0000

    works now, though I don't imagine save games will work too well :)

 tools/qfdefs/source/fix_globals.c |    5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit 10ad8be
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jul 18 17:23:42 2001 +0000

    Make files.dat actually useful. I really dislike the hardcoding, but it /is/
    useful. Also, fix a bug in PrecacheModel where it was checking MAX_SOUNDS and
    numsounds instead of models.

 tools/qfcc/include/qfcc.h   |    5 +++++
 tools/qfcc/source/expr.c    |   13 +++++++++++++
 tools/qfcc/source/pr_comp.c |    4 ++--
 3 files changed, 20 insertions(+), 2 deletions(-)

commit c9af157
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jul 18 16:33:31 2001 +0000

    fix emit_assign_expr to emit an explicit assignment statement whenever
    emit_sub_expr returns a temporary def. this fixes a = b = c; expressions when
    entities are involved.

 tools/qfcc/source/expr.c |    2 ++
 1 file changed, 2 insertions(+)

commit d6c2943
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jul 18 15:42:08 2001 +0000

    defs.c:
    	use the right hash table
    fix_globals.c:
    	clean up the math

 tools/qfdefs/source/defs.c        |    4 ++--
 tools/qfdefs/source/fix_globals.c |   32 ++++++++++++++++----------------
 2 files changed, 18 insertions(+), 18 deletions(-)

commit e9ed59e
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jul 18 15:40:32 2001 +0000

    add an integer type. not yet properly supported

 include/QF/pr_comp.h |    1 +
 1 file changed, 1 insertion(+)

commit 9d50fea
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jul 18 06:37:59 2001 +0000

    more tests

 tools/qwaq/main.qc |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 098305d
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jul 18 06:37:14 2001 +0000

    fix (expr_type1 && expr_type2). this involed type completing expressions :/

 tools/qfcc/include/expr.h  |   18 ++++--
 tools/qfcc/source/expr.c   |  151 +++++++++++++++++++++++++++++++++++---------
 tools/qfcc/source/pr_imm.c |   46 ++++++++++++--
 3 files changed, 175 insertions(+), 40 deletions(-)

commit ed0d1d8
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Wed Jul 18 05:09:37 2001 +0000

    *** empty log message ***

 tools/qfcc/TODO |    2 ++
 1 file changed, 2 insertions(+)

commit 02e021a
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jul 18 02:21:57 2001 +0000

    get the progs /loader/ name and prototype sorted out properly

 include/QF/progs.h       |    4 +++-
 libs/gamecode/pr_edict.c |    5 +++--
 2 files changed, 6 insertions(+), 3 deletions(-)

commit f2731a7
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jul 18 02:08:32 2001 +0000

    add cse opts

 tools/qfcc/TODO |    1 +
 1 file changed, 1 insertion(+)

commit c298d49
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jul 18 00:26:14 2001 +0000

    actually do some fixups, but it segs atm :/

 tools/qfdefs/include/def.h        |    4 ++
 tools/qfdefs/source/Makefile.am   |    2 +-
 tools/qfdefs/source/fix_globals.c |  103 +++++++++++++++++++++++++++++++++++++
 tools/qfdefs/source/gendefs.c     |    8 +--
 tools/qfdefs/source/qfdefs.c      |   18 +++++--
 5 files changed, 126 insertions(+), 9 deletions(-)

commit 36af2c6
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jul 17 22:15:41 2001 +0000

    check for missing defs (and use the new quakefs subversion mechanism)

 tools/qfdefs/include/def.h      |    6 +++
 tools/qfdefs/source/Makefile.am |    2 +-
 tools/qfdefs/source/defs.c      |   91 +++++++++++++++++++++++++++++++++++++++
 tools/qfdefs/source/gendefs.c   |    2 +
 tools/qfdefs/source/qfdefs.c    |   36 +++++++++++-----
 5 files changed, 126 insertions(+), 11 deletions(-)

commit ffd459c
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jul 17 22:10:20 2001 +0000

    allow for total subversion of the fs code by utilities (or crazy users).
    About the only thing that remains in effect is gzip support (not even paks
    are searched).

 libs/util/quakefs.c |   21 +++++++++++++++++----
 1 file changed, 17 insertions(+), 4 deletions(-)

commit 3e1bbd4
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Tue Jul 17 21:51:10 2001 +0000

    Add a TODO file for qfcc

 tools/qfcc/TODO |   12 ++++++++++++
 1 file changed, 12 insertions(+)

commit 3488946
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jul 17 20:33:17 2001 +0000

    slightly more interesting output while I procrastinate doing the hard bits

 tools/qfdefs/source/qfdefs.c |   20 +++++++++++++++-----
 1 file changed, 15 insertions(+), 5 deletions(-)

commit c50793b
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jul 17 20:05:57 2001 +0000

    beginnings of a progs re-deffer tool to take care of stupid qc compilers that
    strip def names.

 tools/qfdefs/.gitignore          |   11 +++
 tools/qfdefs/Makefile.am         |   53 ++++++++++++
 tools/qfdefs/acconfig.h          |    9 ++
 tools/qfdefs/bootstrap           |    2 +
 tools/qfdefs/configure.in        |  102 +++++++++++++++++++++++
 tools/qfdefs/include/.gitignore  |    7 ++
 tools/qfdefs/include/def.h       |   20 +++++
 tools/qfdefs/include/progdefs.nq |  143 ++++++++++++++++++++++++++++++++
 tools/qfdefs/include/progdefs.qw |  167 ++++++++++++++++++++++++++++++++++++++
 tools/qfdefs/qfdefs.lsm.in       |   19 +++++
 tools/qfdefs/source/.gitignore   |    8 ++
 tools/qfdefs/source/Makefile.am  |   19 +++++
 tools/qfdefs/source/gendefs.c    |  116 ++++++++++++++++++++++++++
 tools/qfdefs/source/qfdefs.c     |   67 +++++++++++++++
 14 files changed, 743 insertions(+)

commit bb7cf1b
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Tue Jul 17 17:47:53 2001 +0000

    Grr. Make the list archives use [gak] GeoCrawler.

 doc/template.h |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 159bc61
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jul 17 16:46:51 2001 +0000

    create an "input line" object for the console so Con_ProcessInput can be used
    in verious contexts

 include/QF/console.h     |   19 +++-
 libs/console/Makefile.am |    2 +-
 libs/console/inputline.c |  216 +++++++++++++++++++---------------------------
 qw/source/sv_console.c   |    4 +-
 qw/source/sv_main.c      |    4 +-
 5 files changed, 112 insertions(+), 133 deletions(-)

commit bab80a0
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jul 17 15:51:56 2001 +0000

    move the special keys out of the way of ascii codes (unless they represent
    ascii codes (eg, K_ENTER)) and remove the magic number for the number of keys.

 include/QF/keys.h |   13 ++++++++-----
 nq/source/keys.c  |   20 ++++++++++----------
 qw/source/keys.c  |   20 ++++++++++----------
 3 files changed, 28 insertions(+), 25 deletions(-)

commit af36676
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Tue Jul 17 05:02:34 2001 +0000

    C preprocessor support for qfcc. Depends on the new parser. --enable-cpp
    to activate.

 tools/qfcc/acconfig.h    |    9 ++++++
 tools/qfcc/configure.in  |   17 ++++++++--
 tools/qfcc/source/qfcc.c |   78 ++++++++++++++++++++++++++++++++++++++++++++--
 3 files changed, 99 insertions(+), 5 deletions(-)

commit e6f8467
Author: Adam Olsen <rhamph@gmail.com>
Date:   Tue Jul 17 00:21:56 2001 +0000

    console->pC_Init to general->p_Init, ditto for shutdown.  I'm assuming
    this is what taniwha meant.  Shoulda test-built ;)

 libs/console/console.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 8c3f799
Author: Adam Olsen <rhamph@gmail.com>
Date:   Mon Jul 16 23:36:43 2001 +0000

    Make nq-* -dedicated work. :)

 nq/source/host.c     |   10 ++++++----
 nq/source/sys_unix.c |    4 ++--
 2 files changed, 8 insertions(+), 6 deletions(-)

commit fcaa687
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jul 16 23:17:52 2001 +0000

    plugin.h:
    	enable the cd_data_t entry so func and data structures are consistent.
    cd.h:
    	create cd_data_t (empty)
    console.h:
    	better understanding of how these things work :)

 include/QF/plugin.h         |    2 +-
 include/QF/plugin/cd.h      |    3 +++
 include/QF/plugin/console.h |    4 ----
 3 files changed, 4 insertions(+), 5 deletions(-)

commit a3c6cd8
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jul 16 23:15:27 2001 +0000

    the server console is now a plugin, though it doesn't get compiled yet (it
    /does/ compiled, though). Input handling is currently ripped out.

 libs/console/server.c |  331 ++++++++++++++++++++-----------------------------
 1 file changed, 136 insertions(+), 195 deletions(-)

commit 4c515d1
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jul 16 22:30:11 2001 +0000

    more "throw it in cvs". doesn't even attempt to compile yet :)

 libs/console/inputline.c |  202 ++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 202 insertions(+)

commit 20fdc9b
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jul 16 21:39:50 2001 +0000

    add the command line completion code (complete.c) and the client and server
    plugins (though they're not built yet). Again, this /does not/ affect anybody
    else, or shouldn't, anyway.

 libs/console/Makefile.am |    2 +-
 libs/console/client.c    |  554 ++++++++++++++++++++++++++++++++++++++++++++++
 libs/console/complete.c  |  150 +++++++++++++
 libs/console/server.c    |  296 +++++++++++++++++++++++++
 4 files changed, 1001 insertions(+), 1 deletion(-)

commit 104701a
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jul 16 20:41:10 2001 +0000

    the beginnings of the console lib (using plugins for the client/server type
    consoles). Currently, doesn't affect anybody other than the need to
    re-bootstrap.

 configure.in                |    1 +
 include/QF/console.h        |    2 +-
 include/QF/plugin.h         |    4 ++
 include/QF/plugin/console.h |   50 ++++++++++++++++++++++++
 libs/Makefile.am            |    2 +-
 libs/console/.gitignore     |    7 ++++
 libs/console/Makefile.am    |   13 +++++++
 libs/console/console.c      |   90 +++++++++++++++++++++++++++++++++++++++++++
 libs/console/list.c         |   84 ++++++++++++++++++++++++++++++++++++++++
 nq/source/console.c         |    2 +-
 nq/source/host.c            |    2 +-
 qw/source/cl_main.c         |    2 +-
 qw/source/console.c         |    2 +-
 qw/source/sv_console.c      |    2 +-
 qw/source/sv_main.c         |    2 +-
 15 files changed, 257 insertions(+), 8 deletions(-)

commit 0576dec
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jul 16 07:13:10 2001 +0000

    split up PR_LoadProgs a bit

 libs/gamecode/pr_edict.c |   31 ++++++++++++++++++++++---------
 1 file changed, 22 insertions(+), 9 deletions(-)

commit 5d5d3f1
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jul 16 03:53:45 2001 +0000

    well, that explains the loss of line number onfo on return statements :P

 tools/qfcc/source/expr.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 1c9e1b1
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jul 15 07:04:17 2001 +0000

    fear the mighty const correct patch

 include/QF/GL/qf_textures.h          |    4 +-
 include/QF/bspfile.h                 |    4 +-
 include/QF/checksum.h                |    6 +--
 include/QF/cmd.h                     |   34 +++++++--------
 include/QF/console.h                 |    8 ++--
 include/QF/cvar.h                    |   30 ++++++-------
 include/QF/draw.h                    |    8 ++--
 include/QF/hl.h                      |    6 +--
 include/QF/info.h                    |   12 +++---
 include/QF/keys.h                    |    4 +-
 include/QF/locs.h                    |   12 +++---
 include/QF/mdfour.h                  |    4 +-
 include/QF/model.h                   |    6 +--
 include/QF/msg.h                     |    2 +-
 include/QF/plugin.h                  |    2 +-
 include/QF/plugin/sound.h            |    6 +--
 include/QF/progs.h                   |   23 +++++-----
 include/QF/qargs.h                   |    6 +--
 include/QF/screen.h                  |    4 +-
 include/QF/sizebuf.h                 |    4 +-
 include/QF/sound.h                   |   14 +++---
 include/QF/sys.h                     |    4 +-
 include/QF/teamplay.h                |    2 +-
 include/QF/va.h                      |    2 +-
 include/QF/vfile.h                   |    2 +-
 include/QF/vfs.h                     |   12 +++---
 include/QF/vid.h                     |    2 +-
 include/QF/wad.h                     |    8 ++--
 include/QF/zone.h                    |    6 +--
 include/context_x11.h                |    2 +-
 libs/audio/cd/cd_linux.c             |    2 +-
 libs/audio/cd/cd_sdl.c               |    2 +-
 libs/audio/snd.c                     |    6 +--
 libs/audio/targets/snd_alsa_0_9.c    |    2 +-
 libs/audio/targets/snd_dma.c         |   10 ++---
 libs/audio/targets/snd_null.c        |    6 +--
 libs/audio/targets/snd_oss.c         |    2 +-
 libs/gamecode/pr_debug.c             |    4 +-
 libs/gamecode/pr_edict.c             |   20 ++++-----
 libs/gamecode/pr_exec.c              |    2 +-
 libs/gamecode/pr_strings.c           |    2 +-
 libs/gib/gib_instructions.c          |    8 ++--
 libs/gib/gib_instructions.h          |    8 ++--
 libs/gib/gib_interpret.c             |   10 ++---
 libs/gib/gib_interpret.h             |   10 ++---
 libs/gib/gib_modules.c               |   10 ++---
 libs/gib/gib_modules.h               |   10 ++---
 libs/gib/gib_parse.c                 |   14 +++---
 libs/gib/gib_parse.h                 |   14 +++---
 libs/gib/gib_vars.h                  |    6 +--
 libs/models/model.c                  |    6 +--
 libs/util/checksum.c                 |    6 +--
 libs/util/cmd.c                      |   78 +++++++++++++++++-----------------
 libs/util/con_print.c                |    2 +-
 libs/util/console.c                  |    8 ++--
 libs/util/cvar.c                     |   56 ++++++++++++------------
 libs/util/info.c                     |   19 +++++----
 libs/util/mdfour.c                   |    8 ++--
 libs/util/msg.c                      |    2 +-
 libs/util/plugin.c                   |    2 +-
 libs/util/quakefs.c                  |   28 ++++++------
 libs/util/quakeio.c                  |    2 +-
 libs/util/sizebuf.c                  |    4 +-
 libs/util/va.c                       |    2 +-
 libs/util/wad.c                      |    8 ++--
 libs/util/zone.c                     |    6 +--
 libs/video/renderer/gl/gl_draw.c     |    8 ++--
 libs/video/renderer/gl/gl_screen.c   |    2 +-
 libs/video/renderer/gl/gl_textures.c |    2 +-
 libs/video/renderer/sw/draw.c        |    8 ++--
 libs/video/renderer/sw/screen.c      |    2 +-
 libs/video/targets/context_x11.c     |    2 +-
 libs/video/targets/vid_3dfxsvga.c    |    2 +-
 libs/video/targets/vid_fbdev.c       |    2 +-
 libs/video/targets/vid_glx.c         |    2 +-
 libs/video/targets/vid_mgl.c         |    2 +-
 libs/video/targets/vid_null.c        |    2 +-
 libs/video/targets/vid_sdl.c         |    2 +-
 libs/video/targets/vid_sgl.c         |    2 +-
 libs/video/targets/vid_svgalib.c     |    2 +-
 libs/video/targets/vid_wgl.c         |    2 +-
 libs/video/targets/vid_x11.c         |    2 +-
 nq/include/client.h                  |    2 +-
 nq/include/host.h                    |    6 +--
 nq/include/net.h                     |   16 +++----
 nq/include/net_bw.h                  |    8 ++--
 nq/include/net_dgrm.h                |    2 +-
 nq/include/net_ipx.h                 |    8 ++--
 nq/include/net_loop.h                |    2 +-
 nq/include/net_mp.h                  |    8 ++--
 nq/include/net_ser.h                 |    2 +-
 nq/include/net_udp.h                 |    6 +--
 nq/include/net_vcr.h                 |    2 +-
 nq/include/net_wins.h                |    8 ++--
 nq/include/net_wipx.h                |    8 ++--
 nq/include/server.h                  |   16 +++----
 nq/include/sv_pr_cmds.h              |    2 +-
 nq/source/cl_input.c                 |    4 +-
 nq/source/cl_main.c                  |    2 +-
 nq/source/console.c                  |   10 ++---
 nq/source/host.c                     |   14 +++---
 nq/source/host_cmd.c                 |   20 +++++----
 nq/source/keys.c                     |    8 ++--
 nq/source/locs.c                     |   19 +++++----
 nq/source/net_dgrm.c                 |   10 ++---
 nq/source/net_loop.c                 |    2 +-
 nq/source/net_main.c                 |    6 +--
 nq/source/net_udp.c                  |    8 ++--
 nq/source/net_vcr.c                  |    2 +-
 nq/source/pr_cmds.c                  |   40 +++++++++--------
 nq/source/sv_main.c                  |   10 ++---
 nq/source/sv_progs.c                 |    2 +-
 nq/source/sys_unix.c                 |    6 +--
 qw/include/cl_cam.h                  |    2 +-
 qw/include/cl_main.h                 |    2 +-
 qw/include/cl_parse.h                |    2 +-
 qw/include/cl_slist.h                |    6 +--
 qw/include/host.h                    |    6 +--
 qw/include/net.h                     |   14 +++---
 qw/include/server.h                  |   32 +++++++-------
 qw/include/sv_pr_cmds.h              |    4 +-
 qw/source/cl_cmd.c                   |    2 +-
 qw/source/cl_input.c                 |    4 +-
 qw/source/cl_main.c                  |   17 ++++----
 qw/source/cl_parse.c                 |    2 +-
 qw/source/cl_slist.c                 |    8 ++--
 qw/source/cl_sys_unix.c              |    6 +--
 qw/source/console.c                  |   10 ++---
 qw/source/game.c                     |    2 +-
 qw/source/keys.c                     |    8 ++--
 qw/source/locs.c                     |   19 +++++----
 qw/source/net_chan.c                 |    2 +-
 qw/source/net_packetlog.c            |   28 ++++++------
 qw/source/net_udp.c                  |    6 +--
 qw/source/skin.c                     |    2 +-
 qw/source/sv_ccmds.c                 |   14 +++---
 qw/source/sv_console.c               |    8 ++--
 qw/source/sv_cvar.c                  |   10 ++---
 qw/source/sv_init.c                  |    6 +--
 qw/source/sv_main.c                  |   29 ++++++-------
 qw/source/sv_nchan.c                 |    2 +-
 qw/source/sv_pr_cmds.c               |   58 ++++++++++++-------------
 qw/source/sv_progs.c                 |    2 +-
 qw/source/sv_send.c                  |   12 +++---
 qw/source/sv_sys_unix.c              |    4 +-
 qw/source/sv_user.c                  |   26 +++++++-----
 qw/source/teamplay.c                 |    9 ++--
 147 files changed, 649 insertions(+), 642 deletions(-)

commit 3ab9ecd
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jul 15 03:01:34 2001 +0000

    add this so it doesn't get lost. needs work.

 libs/audio/targets/snd_mme.c |  360 ++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 360 insertions(+)

commit c749bc7
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jul 15 02:58:22 2001 +0000

    add *.sym

 tools/qwaq/.gitignore |    1 +
 1 file changed, 1 insertion(+)

commit 0cbb0bf
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jul 15 02:57:36 2001 +0000

    add pr_source_path to specify where to look for the source files

 libs/gamecode/pr_debug.c |   12 ++++++++++--
 1 file changed, 10 insertions(+), 2 deletions(-)

commit 96e28e6
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jul 15 02:16:29 2001 +0000

    make the quake 2(?) fiels optional

 nq/source/sv_progs.c |   16 +++++++++-------
 1 file changed, 9 insertions(+), 7 deletions(-)

commit 2771e63
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jul 15 02:05:29 2001 +0000

    oops, used the wrong function to look up .debug_file

 libs/gamecode/pr_debug.c |    7 ++++++-
 1 file changed, 6 insertions(+), 1 deletion(-)

commit cb80800
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jul 15 01:51:01 2001 +0000

    fix debug line numbers for if and while. still `losing' them for return for
    some reason.

 tools/qfcc/source/qc-parse.y |   44 +++++++++++++++++++++++++++++++++---------
 1 file changed, 35 insertions(+), 9 deletions(-)

commit a0ba8e5
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jul 15 01:50:10 2001 +0000

    s/IMMEDIATE/.imm/ for name of immediate defs. the latter is both shorter and
    impossible to generate from qc

 tools/qfcc/source/pr_imm.c |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 9fa7ecd
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jul 15 01:49:24 2001 +0000

    line number tests for while

 tools/qwaq/main.qc |    3 +++
 1 file changed, 3 insertions(+)

commit 155b46b
Author: Adam Olsen <rhamph@gmail.com>
Date:   Sun Jul 15 01:48:03 2001 +0000

    More diff noise reductions.  yay!

 nq/source/com.c      |    2 +-
 nq/source/keys.c     |    2 +-
 nq/source/sv_move.c  |   74 ++++----------
 nq/source/sv_progs.c |  272 ++++++++++++++++++++++++--------------------------
 nq/source/sw_view.c  |    2 +-
 nq/source/world.c    |  156 +++++++++--------------------
 qw/source/game.c     |    2 +-
 qw/source/keys.c     |    2 +-
 qw/source/r_view.c   |    2 +-
 qw/source/sv_move.c  |   12 +--
 qw/source/sv_progs.c |   17 ++--
 qw/source/world.c    |   16 +--
 12 files changed, 232 insertions(+), 327 deletions(-)

commit ac46e5b
Author: Adam Olsen <rhamph@gmail.com>
Date:   Sun Jul 15 01:45:03 2001 +0000

    oops, sys_dump_core instead of sys_dumpcore

 libs/video/targets/context_x11.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 08cb34e
Author: Adam Olsen <rhamph@gmail.com>
Date:   Sun Jul 15 00:21:48 2001 +0000

    Diff noise reduction.  Stop me if I break it :)

 nq/source/cl_cmd.c  |   11 ++++++++++-
 nq/source/cl_tent.c |   18 ++++++++++++++----
 qw/source/cl_cmd.c  |    2 +-
 qw/source/cl_tent.c |    1 -
 4 files changed, 25 insertions(+), 7 deletions(-)

commit fb0fe95
Author: Adam Olsen <rhamph@gmail.com>
Date:   Sun Jul 15 00:03:11 2001 +0000

    Diff noise reduction

 nq/source/cl_input.c |  148 ++++++++++++++++++++++++++++++--------------------
 qw/source/cl_input.c |    2 +-
 2 files changed, 91 insertions(+), 59 deletions(-)

commit 66c8f00
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jul 14 23:53:59 2001 +0000

    print out source line numbers when available

 include/QF/pr_debug.h     |    6 +-
 include/QF/progs.h        |   26 +++-
 libs/gamecode/Makefile.am |    2 +-
 libs/gamecode/pr_debug.c  |  312 +++++++++++++++++++++++++++++++++++++++++++++
 libs/gamecode/pr_edict.c  |    6 +
 libs/gamecode/pr_exec.c   |    6 +
 6 files changed, 353 insertions(+), 5 deletions(-)

commit 6e06ecc
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jul 14 23:52:56 2001 +0000

    debug testing

 tools/qwaq/Makefile |    4 ++--
 tools/qwaq/main.c   |    9 +++++++++
 2 files changed, 11 insertions(+), 2 deletions(-)

commit f4976e8
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jul 14 23:50:18 2001 +0000

    more const correctness

 include/QF/vfs.h    |   15 ++++++++-------
 libs/util/quakefs.c |   20 ++++++++++----------
 2 files changed, 18 insertions(+), 17 deletions(-)

commit d0d32b6
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jul 14 04:12:48 2001 +0000

    I've really got to start testing with gcc 3.0

 libs/gamecode/pr_opcode.c |    7 +++++++
 1 file changed, 7 insertions(+)

commit cb133dd
Author: Adam Olsen <rhamph@gmail.com>
Date:   Sat Jul 14 03:15:14 2001 +0000

    Add support for core dumping to X11 targets.  set sys_dump_core to 1, and
    ulimit -c to a sufficiently high value.  (I get ~20 meg cores)

 libs/video/targets/context_x11.c |   35 +++++++++++++++++++++++++++++++----
 1 file changed, 31 insertions(+), 4 deletions(-)

commit 2818d72
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jul 14 02:34:16 2001 +0000

    move the full info opcocde table from qfcc to gamecode (<KURGON>There can be
    only one!</KURGON>:) and use the table in PR_PrintStatement. This means that
    qfcc now links against libQFgamecode as well as libQFutil

 include/QF/pr_comp.h          |   14 ++++
 libs/gamecode/Makefile.am     |    2 +-
 libs/gamecode/pr_edict.c      |    1 +
 libs/gamecode/pr_exec.c       |  102 ++------------------------
 libs/gamecode/pr_opcode.c     |  159 +++++++++++++++++++++++++++++++++++++++++
 tools/qfcc/configure.in       |    6 ++
 tools/qfcc/include/qfcc.h     |   14 +---
 tools/qfcc/source/Makefile.am |    2 +-
 tools/qfcc/source/pr_opcode.c |  120 ++-----------------------------
 tools/qfcc/source/qfcc.c      |    2 +-
 10 files changed, 193 insertions(+), 229 deletions(-)

commit ae9ee57
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jul 14 01:52:05 2001 +0000

    change the type of opcode->type to etype_t, clean up the resulting mess, and
    rename all of the opcodes to (eg) mul.f instead of MUL_F

 tools/qfcc/include/qfcc.h     |    2 +-
 tools/qfcc/source/expr.c      |    4 +-
 tools/qfcc/source/pr_opcode.c |  203 ++++++++++++++++++++++-------------------
 3 files changed, 110 insertions(+), 99 deletions(-)

commit 6c91ee2
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jul 14 01:47:45 2001 +0000

    fix a missed debug test

 tools/qfcc/source/qc-parse.y |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 7acbb3a
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jul 14 01:16:07 2001 +0000

    helps if I remember this :/

 tools/qfcc/source/debug.c |   48 +++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 48 insertions(+)

commit 64e50e1
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jul 14 01:15:40 2001 +0000

    Basic debug info generation, just line numbers and local defs for each
    function.

 tools/qfcc/include/expr.h     |    4 +-
 tools/qfcc/include/qfcc.h     |   15 +++++++
 tools/qfcc/source/Makefile.am |    4 +-
 tools/qfcc/source/expr.c      |   41 ++++++++++++-------
 tools/qfcc/source/qc-parse.y  |   46 +++++++++++++++++----
 tools/qfcc/source/qfcc.c      |   91 ++++++++++++++++++++++++++++++++++++++---
 6 files changed, 169 insertions(+), 32 deletions(-)

commit 484f549
Author: Adam Olsen <rhamph@gmail.com>
Date:   Fri Jul 13 22:58:31 2001 +0000

    Add my strlen and charcount functions as quakec builtins.  strlen
    returns the total string length, and charcount returns the number of
    times the given character appears.

 qw/source/sv_pr_cmds.c |   42 ++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 42 insertions(+)

commit dcaa0b2
Author: Adam Olsen <rhamph@gmail.com>
Date:   Fri Jul 13 22:47:11 2001 +0000

    Make coop play possible in qw.  Create a progs variable called 'current_skill'
    and you'll get the nq edict pruning behavior.

 qw/include/sv_progs.h |    1 +
 qw/source/sv_progs.c  |   28 ++++++++++++++++++++++++++--
 2 files changed, 27 insertions(+), 2 deletions(-)

commit eae9753
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jul 13 06:08:50 2001 +0000

    beginnings of debug info for progs

 include/QF/Makefile.am    |    3 ++-
 include/QF/pr_debug.h     |   65 +++++++++++++++++++++++++++++++++++++++++++++
 tools/qfcc/include/qfcc.h |    1 +
 3 files changed, 68 insertions(+), 1 deletion(-)

commit 7fce7e5
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jul 12 23:11:40 2001 +0000

    more test (need to find a way to do automated tests, I think)

 tools/qwaq/main.qc |    9 +++++++++
 1 file changed, 9 insertions(+)

commit 8bbef35
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jul 12 18:56:43 2001 +0000

    fix `a = b = b + c;' (probably d + c, too). Caused by forgetting to emit
    an assignment for `a ='.

 tools/qfcc/source/expr.c |   10 +++++++---
 1 file changed, 7 insertions(+), 3 deletions(-)

commit 7a06a22
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jul 11 23:11:29 2001 +0000

    rename the Con_Printf in sv_send.c to SV_Printf and change all the calls to
    Con_Printf in the server code to SV_Printf.
    nuke Con_DPrintf from sv_send.c

 qw/include/server.h    |    1 +
 qw/source/sv_ccmds.c   |  144 ++++++++++++++++++++++++------------------------
 qw/source/sv_console.c |   16 +++---
 qw/source/sv_ents.c    |    8 +--
 qw/source/sv_init.c    |    6 +-
 qw/source/sv_main.c    |  110 ++++++++++++++++++------------------
 qw/source/sv_move.c    |    6 +-
 qw/source/sv_nchan.c   |    4 +-
 qw/source/sv_phys.c    |   12 ++--
 qw/source/sv_pr_cmds.c |   18 +++---
 qw/source/sv_progs.c   |    2 +-
 qw/source/sv_send.c    |   43 ++++-----------
 qw/source/sv_sys_win.c |    4 +-
 qw/source/sv_user.c    |   58 +++++++++----------
 qw/source/world.c      |    4 +-
 15 files changed, 210 insertions(+), 226 deletions(-)

commit 654448a
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jul 11 23:09:10 2001 +0000

    check for pdcurses as well (for mingw: first port I found:) and correct the
    check for curses.

 configure.in |    9 ++++++---
 1 file changed, 6 insertions(+), 3 deletions(-)

commit 7ca4383
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jul 11 19:17:58 2001 +0000

    move a Key function out of console and into keys.
    replace a Con_Print call with Con_Printf ("%s", ...) (I want to make Con_Print
    private)

 include/QF/keys.h   |    2 ++
 nq/source/console.c |    8 --------
 nq/source/keys.c    |    6 ++++++
 qw/source/cl_main.c |    2 +-
 qw/source/console.c |    8 --------
 qw/source/keys.c    |    7 +++++++
 6 files changed, 16 insertions(+), 17 deletions(-)

commit 4cf5648
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jul 11 03:19:18 2001 +0000

    no longer need /that/ hack as SV_Frame does it now

 qw/source/sv_sys_unix.c |    2 --
 1 file changed, 2 deletions(-)

commit eb66aa0
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jul 11 03:11:53 2001 +0000

    sv_console.c:
    	/finally/, the input line works to my satisfaction
    sv_main.c:
    	call Con_ProcessInput to get the cursor in the right position on the
    	screen (yeah, horrible kludge until someone figures out a nice console
    	api)

 qw/source/sv_console.c |   41 +++++++++++++++++++++--------------------
 qw/source/sv_main.c    |    1 +
 2 files changed, 22 insertions(+), 20 deletions(-)

commit 038e2c9
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jul 11 00:19:39 2001 +0000

    the input line is almost perfect: just some problems with the scroll
    indicators

 qw/source/sv_console.c |   41 ++++++++++++++++++++++++++++++++++++-----
 1 file changed, 36 insertions(+), 5 deletions(-)

commit 5642ac8
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jul 10 23:03:13 2001 +0000

    cursor keys now work (per window keypad mode, hmm)

 qw/source/sv_console.c |    3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit f9f31ad
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jul 10 22:36:22 2001 +0000

    ncurses console for the server. input handling is currently a nasty bit of
    code duplication, but it seems to work nicely (except for cursor movement
    keys) and even gives tab completion to the server :)

 configure.in            |   11 +-
 include/QF/console.h    |    2 +
 qw/source/Makefile.am   |    5 +-
 qw/source/sv_console.c  |  365 +++++++++++++++++++++++++++++++++++++++++++++++
 qw/source/sv_main.c     |   15 +-
 qw/source/sv_send.c     |    2 +-
 qw/source/sv_sys_unix.c |    5 +-
 7 files changed, 391 insertions(+), 14 deletions(-)

commit ecff962
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jul 10 18:25:54 2001 +0000

    cmd.[ch]:
    	api change: Cmd_Args () now takes a parameter inidcating which arg to
    	start at for grabbing the un-parsed command line
    qw/source/sv_ccmds.c:
    	implement kk's tell command and user name matching (though # is used for
    	the wildcard and it's still case sensitive)
    everything else:
    	adjust for the new Cmd_Args protype

 include/QF/cmd.h     |    2 +-
 libs/util/cmd.c      |   16 +++----
 nq/source/cl_cmd.c   |    2 +-
 nq/source/host_cmd.c |    8 ++--
 qw/source/cl_cmd.c   |    6 +--
 qw/source/sv_ccmds.c |  118 +++++++++++++++++++++++++++++++++++++++++++++++---
 qw/source/sv_user.c  |    3 +-
 qw/source/teamplay.c |    2 +-
 tools/qwaq/main.c    |    2 +-
 tools/qwaq/main.qc   |   56 ++++++++++++++++++++++++
 10 files changed, 188 insertions(+), 27 deletions(-)

commit 9aeef3f
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jul 10 15:59:25 2001 +0000

    rename qfont_table to sys_char_map and make it global (and constant)

 include/QF/sys.h |    2 ++
 libs/util/sys.c  |    4 ++--
 2 files changed, 4 insertions(+), 2 deletions(-)

commit 001f178
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jul 9 23:33:35 2001 +0000

    rcon and say improvements from kkqwsv
    
    server.h:
    	add rcon_from_user
    sv_ccmds.c:
    	add SV_ConSay_Info_f (sayinfo) for quiet info messages and revamp the
    	rest of SV_ConSay_f accordingly. Also include deactivated commands for
    	cuff, mute, tell and ban (coming soon).
    sv_main.c:
    	revamp the rcon system to support both `root' rcon and admin rcon and
    	provide better logging. admin_password is the cvar holding the password
    	for admin access (used the same way as rcon_password)

 qw/include/server.h  |    4 ++-
 qw/source/sv_ccmds.c |   48 +++++++++++++++++++++-------
 qw/source/sv_main.c  |   86 +++++++++++++++++++++++++++++++++++++++++---------
 3 files changed, 111 insertions(+), 27 deletions(-)

commit 0242c03
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jul 9 20:56:05 2001 +0000

    break the endian neutral file io out from qendian.c so qfcc can remain
    independent of libz

 libs/util/Makefile.am |    2 +-
 libs/util/fendian.c   |  116 +++++++++++++++++++++++++++++++++++++++++++++++++
 libs/util/qendian.c   |   83 -----------------------------------
 3 files changed, 117 insertions(+), 84 deletions(-)

commit 8000c86
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jul 9 18:17:04 2001 +0000

    /much/ better type mismatch error reporting
    eg:
    ./main.qc:55: type mismatch: float == entity

 tools/qfcc/source/expr.c |   75 ++++++++++++++++++++++++++++++++++++++++++++--
 1 file changed, 72 insertions(+), 3 deletions(-)

commit 43ba9af
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jul 9 17:12:09 2001 +0000

    remove the gcc 2.96 test

 tools/qfcc/configure.in |   16 ----------------
 1 file changed, 16 deletions(-)

commit 17b6e17
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jul 9 16:56:01 2001 +0000

    make sure gcc likes the optimisation options. Unfortunatly, if even one causes
    a problem, all will be lost, but at least qf will compile.

 configure.in |    8 +++++++-
 1 file changed, 7 insertions(+), 1 deletion(-)

commit c60d333
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jul 9 03:17:53 2001 +0000

    sbar.c:
    	whitespace
    sv_main.c:
    	fix a silly mis-cast that caused the runes to not be displayed in the client

 nq/source/sbar.c    |    1 -
 nq/source/sv_main.c |    2 +-
 2 files changed, 1 insertion(+), 2 deletions(-)

commit f6575ca
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jul 7 02:38:40 2001 +0000

    more testing

 tools/qwaq/main.qc |    1 +
 1 file changed, 1 insertion(+)

commit 41e07f0
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jul 6 20:04:05 2001 +0000

    oops, re-using freed memory is a nono :/

 nq/source/console.c |   13 ++++---------
 qw/source/console.c |   13 ++++---------
 2 files changed, 8 insertions(+), 18 deletions(-)

commit bb084d5
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jul 6 19:47:44 2001 +0000

    fix the case when the expansion is both an exact match and a sub-string

 nq/source/console.c |    2 +-
 qw/source/console.c |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit e3c38e7
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jul 6 19:43:01 2001 +0000

    rework tab completion a bit so that it expands as much as possible

 nq/source/console.c |   85 ++++++++++++++++++++++++++++++++-------------------
 qw/source/console.c |   80 ++++++++++++++++++++++++++++++------------------
 2 files changed, 105 insertions(+), 60 deletions(-)

commit 124dff1
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jul 6 17:45:32 2001 +0000

    rework alias creation/deletion. Aliases are now sorted (like cvars and
    commands), and the alias name length limit has been removed.

 libs/util/cmd.c |   87 ++++++++++++++++++++++++++-----------------------------
 1 file changed, 41 insertions(+), 46 deletions(-)

commit 6cda415
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jul 6 17:43:47 2001 +0000

    slight api change: Hash_Del now returns a pointer to the element deleted, or
    null if the element was not found, rather than 0 and -1 respectively.

 include/QF/hash.h |    5 +++--
 libs/util/hash.c  |    8 +++++---
 2 files changed, 8 insertions(+), 5 deletions(-)

commit 03c0216
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jul 6 17:42:04 2001 +0000

    force_centerview is back

 nq/source/cl_main.c |   11 +++++++++++
 qw/source/cl_main.c |   10 ++++++++++
 2 files changed, 21 insertions(+)

commit 0fddfe4
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jul 6 17:38:17 2001 +0000

    just typing map will give the current map name. In nq, doesn't work too well
    during a demo (doesn't die, just gives "map is ", or likely the last map
    actually played on).

 nq/source/host_cmd.c |    5 +++++
 qw/source/sv_ccmds.c |    6 +++++-
 2 files changed, 10 insertions(+), 1 deletion(-)

commit 1db6225
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jul 6 04:54:08 2001 +0000

    make - - - - -2 work

 tools/qfcc/source/qc-parse.y |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 4673d70
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jul 6 04:29:12 2001 +0000

    fix the conflicts caused by -ve constants

 tools/qfcc/source/qc-parse.y |   16 ++++++++++------
 1 file changed, 10 insertions(+), 6 deletions(-)

commit 35f5118
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Fri Jul 6 02:43:39 2001 +0000

    warning/error message cleanups. Well, at least *I* think they make more
    sense. :)

 tools/qfcc/source/expr.c   |   13 +++++++------
 tools/qfcc/source/pr_imm.c |    2 +-
 2 files changed, 8 insertions(+), 7 deletions(-)

commit 62a4b86
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jul 6 00:17:09 2001 +0000

    d'oh

 libs/video/targets/in_x11.c |    2 ++
 1 file changed, 2 insertions(+)

commit 605df6e
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Thu Jul 5 21:15:08 2001 +0000

    Change the bashism $() back to ``

 tools/qfcc/configure.in |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 245d814
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jul 5 20:35:42 2001 +0000

    make sound blocking cvar controlled (in_snd_block, default off, archived) and
    pause the cd as well.

 libs/video/targets/in_x11.c |   13 +++++++++++--
 1 file changed, 11 insertions(+), 2 deletions(-)

commit 016563e
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jul 5 20:24:41 2001 +0000

    found the snd_pcm_playback_pause function for 0.5

 libs/audio/targets/snd_alsa_0_5.c |   17 ++---------------
 1 file changed, 2 insertions(+), 15 deletions(-)

commit fc09d2b
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jul 5 20:18:23 2001 +0000

    port Bruce Momjian's patches from newtree with a less incestuous
    implementation of his sound/focus patch. NOTE: only alsa 0.9 is tested
    (Rhamph, can you test 0.5, please?) and only the alsa drivers stop the
    hardware right ow.
    
    WARNING!!! you /will/ have to re-install your plugins, or you will get
    segfaults when the window gains/loses focus.
    
    How do you tell if a window has focus on first mapping in X11?

 configure.in                      |    4 ++--
 include/QF/plugin/sound.h         |    4 ++++
 include/QF/sound.h                |   29 +++++++++++++++++++----
 libs/audio/snd.c                  |   14 +++++++++++
 libs/audio/targets/snd_alsa_0_5.c |   47 +++++++++++++++++++++++--------------
 libs/audio/targets/snd_alsa_0_9.c |   35 ++++++++++++++-------------
 libs/audio/targets/snd_disk.c     |   33 ++++++++++++--------------
 libs/audio/targets/snd_dma.c      |   16 +++++++++++++
 libs/audio/targets/snd_null.c     |   30 ++++++++++-------------
 libs/audio/targets/snd_oss.c      |   30 ++++++++++-------------
 libs/audio/targets/snd_sdl.c      |   35 ++++++++++++---------------
 libs/audio/targets/snd_sgi.c      |   33 ++++++++++++--------------
 libs/audio/targets/snd_sun.c      |   33 ++++++++++++--------------
 libs/video/targets/context_x11.c  |    1 -
 libs/video/targets/in_x11.c       |   47 ++++++++++++++++++++++++-------------
 libs/video/targets/vid_wgl.c      |    4 ++--
 qw/source/cl_main.c               |    3 +++
 17 files changed, 227 insertions(+), 171 deletions(-)

commit 6f022f5
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jul 5 18:47:19 2001 +0000

    well, that was interesting: turns out mingw provides mprotect and
    getpagesize :/

 libs/util/sys.c |   16 ++++++++--------
 1 file changed, 8 insertions(+), 8 deletions(-)

commit c38ca8e
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jul 5 17:28:19 2001 +0000

    qfplist.h:
    	remove include of glob.h. not needed and causes win32 build to fail
    plugin.c:
    	include compat.h and cast the return of GetProcAddress
    gl_funcs.c:
    	fix parse error and type mismatch
    qfgl_ext.c:
    	half re-write QFGL_ExtensionAddress to use QFGL_ProcAddress
    vid_wgl.c:
    	fix for the new gl linking

 include/QF/qfplist.h              |    2 --
 libs/util/plugin.c                |    8 +++--
 libs/video/renderer/gl/gl_funcs.c |    4 +--
 libs/video/targets/qfgl_ext.c     |   66 ++++++++++++++++++-------------------
 libs/video/targets/vid_wgl.c      |   35 +++++++++++++++-----
 5 files changed, 67 insertions(+), 48 deletions(-)

commit 8f2f99f
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jul 5 15:18:36 2001 +0000

    forgot to add stamp-h.in to .gitignore

 include/.gitignore |    1 +
 1 file changed, 1 insertion(+)

commit 2e5b3b4
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jul 5 06:31:05 2001 +0000

    damn

 libs/util/sys.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 0862c8f
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jul 5 06:29:53 2001 +0000

    I'ld love to know how that got though my testing :/

 libs/util/sys.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 715c74d
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jul 5 05:02:26 2001 +0000

    this never should have been in cvs in the first place: it is created by
    bootstrap (I suspect autoheader)

 include/stamp-h.in |    1 -
 1 file changed, 1 deletion(-)

commit e5e289e
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jul 5 04:59:43 2001 +0000

    this brings back knghtbrd's Sys_Printf redirection, but in such a way that
    Sys_Printf still has the format attribute. To redirect Sys_Printf, declare the
    redrecting function as void (const char *, va_list) and call Sys_SetPrintf
    with this function as its parameter.

 include/QF/sys.h |    6 ++++++
 libs/util/sys.c  |   33 +++++++++++++++++++++++++++------
 2 files changed, 33 insertions(+), 6 deletions(-)

commit b4ac244
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jul 5 03:28:40 2001 +0000

    Put knghtbrd's sys cleanup changes back in, but with Sys_MakeCodeWriteable
    in sys/util.c rather than limbo (the crux of the problem that caused the
    previous reversal). I'll look into his Sys_Printf changes next.

 configure.in            |    2 +-
 libs/util/sys.c         |   31 +++++++++
 nq/source/sys_null.c    |    5 --
 nq/source/sys_unix.c    |   82 +---------------------
 nq/source/sys_unixd.c   |  143 +--------------------------------------
 nq/source/sys_win.c     |   30 --------
 nq/source/sys_wind.c    |    5 --
 qw/source/cl_sys_sdl.c  |   29 --------
 qw/source/cl_sys_unix.c |   25 +------
 qw/source/cl_sys_win.c  |   12 ----
 qw/source/sys_null.c    |  173 -----------------------------------------------
 qw/source/sys_unix.c    |  151 -----------------------------------------
 qw/source/sys_win.c     |  139 -------------------------------------
 13 files changed, 38 insertions(+), 789 deletions(-)

commit e659c2a
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jul 5 00:12:43 2001 +0000

    revert kntbrds recent sys changes as they break sw static builds

 include/QF/sys.h        |    4 +-
 libs/util/sys.c         |    4 +-
 nq/source/sys_unix.c    |   86 +++++++++++++++++++++--
 nq/source/sys_unixd.c   |  143 ++++++++++++++++++++++++++++++++++++++-
 nq/source/sys_win.c     |   15 ++++
 qw/source/cl_sys_unix.c |    6 +-
 qw/source/sv_sys_unix.c |    4 --
 qw/source/sys_null.c    |  173 +++++++++++++++++++++++++++++++++++++++++++++++
 qw/source/sys_unix.c    |  151 +++++++++++++++++++++++++++++++++++++++++
 qw/source/sys_win.c     |  139 +++++++++++++++++++++++++++++++++++++
 10 files changed, 703 insertions(+), 22 deletions(-)

commit ce3eddb
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jul 4 16:28:54 2001 +0000

    move the node number validation out of RecursiveHullCheck and into the bsp
    loader

 libs/models/brush/model_brush.c |    7 +++++++
 qw/source/pmovetst.c            |    4 ----
 2 files changed, 7 insertions(+), 4 deletions(-)

commit b1f264b
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jul 3 21:17:02 2001 +0000

    using qfpreqcc is now vewy vewy qwiet ('e's 'unting wabbits)

 tools/qfcc/include/qfcc.h |    1 +
 tools/qfcc/source/qfcc.c  |   42 +++++++++++++++++++++++++++++-------------
 tools/qfpreqcc/qfpreqcc   |   29 +++++++++++++++++++----------
 3 files changed, 49 insertions(+), 23 deletions(-)

commit 05db0ed
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jul 3 20:56:01 2001 +0000

    more format attributes

 tools/qfcc/include/cmdlib.h |    2 +-
 tools/qfcc/include/qfcc.h   |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 1edf1e0
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jul 3 20:53:49 2001 +0000

    format checking for error and warning + needed fixes
    try to give name of object when calling non-function

 tools/qfcc/include/expr.h    |    4 ++--
 tools/qfcc/source/expr.c     |    6 +++++-
 tools/qfcc/source/qc-parse.y |    6 +++---
 3 files changed, 10 insertions(+), 6 deletions(-)

commit ccc00b0
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jul 3 20:42:07 2001 +0000

    fix segs on ondeclared identifiers

 tools/qfcc/source/qc-parse.y |    4 ++++
 1 file changed, 4 insertions(+)

commit eb71edb
Author: Joseph Carter <knghtbrd@debian.org>
Date:   Mon Jul 2 18:11:34 2001 +0000

    taniwha, please have a look at this to make sure I'm doing it the "right"
    way..  Sys_Printf is now Sys_StdPrintf for now.  Sys_Printf is a function
    pointer and will end up replacing Con_Printf as well.  Names will change
    to something intelligent when I'm done.  Win32 is not yet touched, but I
    haven't forgotten it.
    
    The reason for this is the assumption that Con_Printf and Sys_Printf do
    not overlap.  The new server console WILL change that, requiring that we
    change how we handle both functions.  The plan:  Default to using stubs
    and swap them for full-featured functions on Console init which do all
    the things we expect.  Will also do a stderr version later.

 include/QF/sys.h        |    4 +++-
 libs/util/sys.c         |    4 ++--
 nq/source/sys_unix.c    |    4 ++++
 nq/source/sys_win.c     |   15 ---------------
 qw/source/cl_sys_unix.c |    6 ++++--
 qw/source/sv_sys_unix.c |    4 ++++
 6 files changed, 17 insertions(+), 20 deletions(-)

commit 8bff65b
Author: Joseph Carter <knghtbrd@debian.org>
Date:   Sun Jul 1 08:59:49 2001 +0000

    A little more cleanup of the sys stuff, at least for unix.  I don't want
    to mess with the win32 stuff just now without coordinating with Coderjoe,
    which I don't have time for just now..

 nq/source/sys_unix.c  |   82 ++--------------------------
 nq/source/sys_unixd.c |  143 +------------------------------------------------
 2 files changed, 5 insertions(+), 220 deletions(-)

commit d478e6b
Author: Joseph Carter <knghtbrd@debian.org>
Date:   Sun Jul 1 00:14:46 2001 +0000

    These aren't used anymore as their functions have moved to libs/util

 qw/source/sys_null.c |  173 --------------------------------------------------
 qw/source/sys_unix.c |  151 -------------------------------------------
 qw/source/sys_win.c  |  139 ----------------------------------------
 3 files changed, 463 deletions(-)

commit fb8d04e
Author: Joseph Carter <knghtbrd@debian.org>
Date:   Sun Jul 1 00:11:24 2001 +0000

    Fix -sgl's glFlush

 libs/video/targets/vid_sgl.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 8f04a48
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jun 29 16:14:47 2001 +0000

    #include foo/bar.qc now works

 tools/qfpreqcc/qfpreqcc |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 0d8ac0d
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jun 29 15:42:53 2001 +0000

    whitespace

 nq/source/sv_progs.c |   15 +++++++++------
 1 file changed, 9 insertions(+), 6 deletions(-)

commit 515f449
Author: Joseph Carter <knghtbrd@debian.org>
Date:   Fri Jun 29 08:01:12 2001 +0000

    Sun-specific code is dead.  Sun boxes should work fine with -x11 and -glx
    as it is.  Left snd_sun, which looks useful for something.

 libs/video/targets/in_sun.c     |  276 --------
 libs/video/targets/vid_sunx.c   | 1345 --------------------------------------
 libs/video/targets/vid_sunxil.c | 1378 ---------------------------------------
 nq/source/sys_sun.c             |  375 -----------
 4 files changed, 3374 deletions(-)

commit 1125713
Author: Joseph Carter <knghtbrd@debian.org>
Date:   Fri Jun 29 07:56:36 2001 +0000

    dos is dead, really.  This has never worked, and would need a full rewrite
    from scratch before it would anyway.  That's not likely, so say goodbye!

 include/dosisms.h            |  105 -----
 include/mpdosock.h           |  797 -----------------------------------
 include/vid_dos.h            |   91 ----
 libs/audio/cd/cd_dos.c       |  872 ---------------------------------------
 libs/video/targets/in_dos.c  |  619 ----------------------------
 libs/video/targets/vid_dos.c |  760 ----------------------------------
 nq/source/dos_v2.c           |  302 --------------
 nq/source/dosasm.S           |   77 ----
 nq/source/sys_dos.c          |  937 ------------------------------------------
 9 files changed, 4560 deletions(-)

commit c350bb2
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jun 29 06:50:29 2001 +0000

    a slight oopsie on the location of WriteFloat and friends :P plus nq is now
    endian/size clean.

 include/QF/qendian.h |   12 ++++++++
 libs/util/qendian.c  |   84 ++++++++++++++++++++++++++++++++++++++++++++++++++
 nq/source/cl_demo.c  |   29 ++++++-----------
 qw/source/cl_demo.c  |   83 -------------------------------------------------
 4 files changed, 106 insertions(+), 102 deletions(-)

commit 39872aa
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jun 29 06:29:24 2001 +0000

    qw's demo code is now endian and type size clean

 qw/source/cl_demo.c |  230 ++++++++++++++++++++++++++++++---------------------
 1 file changed, 134 insertions(+), 96 deletions(-)

commit 6eef7f2
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jun 29 04:24:01 2001 +0000

    fix an incorrect setting of colormap when it should have been colormod

 qw/source/sv_init.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 9bb956b
Author: Chris Ison <cisos@bigpond.net.au>
Date:   Fri Jun 29 03:27:18 2001 +0000

    libGL (mesa) now dynamic for -3dfx

 libs/video/targets/Makefile.am    |    3 +--
 libs/video/targets/vid_3dfxsvga.c |   29 +++++++++++++++++++++++++----
 2 files changed, 26 insertions(+), 6 deletions(-)

commit f61ca0e
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jun 29 02:43:04 2001 +0000

    fix the persistent fires. For sanity's sake, the non-renderer specific parts
    of gl_dyn_fires.c have been moved to r_main.c (for now).

 include/QF/GL/qf_fires.h              |   45 ----------------
 include/r_cvar.h                      |    1 +
 include/r_dynamic.h                   |   21 +++++++-
 libs/video/renderer/gl/gl_dyn_fires.c |   93 +--------------------------------
 libs/video/renderer/gl/gl_dyn_part.c  |    7 ++-
 libs/video/renderer/gl/gl_rmain.c     |    1 -
 libs/video/renderer/r_cvar.c          |    3 ++
 libs/video/renderer/r_main.c          |   81 ++++++++++++++++++++++++++++
 nq/source/cl_main.c                   |   10 ++--
 qw/source/cl_ents.c                   |    5 +-
 qw/source/cl_main.c                   |    2 +
 11 files changed, 116 insertions(+), 153 deletions(-)

commit 85d2176
Author: Chris Ison <cisos@bigpond.net.au>
Date:   Fri Jun 29 02:10:52 2001 +0000

    make -3dfx compile again, may need fixing for mesa specific functions listed in vid_3dfxsvga.c

 configure.in                      |   45 +++----------------------------------
 libs/video/targets/Makefile.am    |    6 +++--
 libs/video/targets/vid_3dfxsvga.c |   25 ++++++++++++++++-----
 nq/source/Makefile.am             |    2 +-
 qw/source/Makefile.am             |    3 ++-
 5 files changed, 29 insertions(+), 52 deletions(-)

commit 1e6fc51
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jun 29 00:12:11 2001 +0000

    time to enable the new parser by default.

 tools/qfcc/configure.in |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 5a019e9
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jun 29 00:05:34 2001 +0000

    don't need to print statement addresses any more

 tools/qwaq/main.c |    5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

commit 14ce770
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jun 28 23:58:01 2001 +0000

    report statment addresses for current statement and branch destinations when
    printing statements

 libs/gamecode/pr_exec.c |    9 ++++++---
 1 file changed, 6 insertions(+), 3 deletions(-)

commit f2bb7ac
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jun 28 23:15:10 2001 +0000

    add an option (--warn=error) to treat warnings as errors

 tools/qfcc/include/qfcc.h |    1 +
 tools/qfcc/source/expr.c  |    5 +++++
 tools/qfcc/source/qfcc.c  |    6 ++++++
 3 files changed, 12 insertions(+)

commit 9c2398d
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jun 28 23:08:52 2001 +0000

    stop processing files after errors have occured

 tools/qfcc/source/qfcc.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 6dfee99
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jun 28 21:26:40 2001 +0000

    /much/ better error handling

 tools/qfcc/include/expr.h    |    3 ++
 tools/qfcc/source/expr.c     |  105 +++++++++++++++++++++++++-----------------
 tools/qfcc/source/qc-lex.l   |    6 +--
 tools/qfcc/source/qc-parse.y |   11 ++---
 4 files changed, 73 insertions(+), 52 deletions(-)

commit eef9e8e
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jun 28 17:44:50 2001 +0000

    be more accurate about the operator involved

 tools/qfcc/source/expr.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 0271afb
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jun 28 15:20:31 2001 +0000

    warn about the dangers of (!foo & bar)

 tools/qfcc/include/expr.h    |    1 +
 tools/qfcc/source/expr.c     |    6 ++++++
 tools/qfcc/source/qc-parse.y |    2 +-
 3 files changed, 8 insertions(+), 1 deletion(-)

commit 443196e
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jun 28 04:05:14 2001 +0000

    very nice command line tab completeion from Shawn Walker
    <eviltypeguy@qeradiant.com>

 include/QF/cmd.h     |    9 +++
 include/QF/console.h |   10 ++++
 include/QF/cvar.h    |    6 ++
 libs/util/cmd.c      |  153 +++++++++++++++++++++++++++++++++++++++++++++++++-
 libs/util/console.c  |   46 +++++++++++++++
 libs/util/cvar.c     |   57 +++++++++++++++++++
 nq/source/console.c  |   83 +++++++++++++++++++++++++++
 nq/source/keys.c     |   27 +--------
 qw/source/console.c  |   86 +++++++++++++++++++++++++++-
 qw/source/keys.c     |   27 +--------
 10 files changed, 448 insertions(+), 56 deletions(-)

commit 01a9372
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jun 28 02:58:45 2001 +0000

    fix the corrupted locals problem (df->locals was getting set too early)

 tools/qfcc/source/qc-parse.y |   13 +++++++++++--
 1 file changed, 11 insertions(+), 2 deletions(-)

commit daf5fc9
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jun 27 23:36:03 2001 +0000

    reset temps after emitting a function. it helps :) (fixes the wierd entity
    errors)

 tools/qfcc/source/qc-parse.y |    1 +
 1 file changed, 1 insertion(+)

commit dfdff6c
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jun 27 22:56:52 2001 +0000

    more testing and add traceon/traceoff to the builtins

 tools/qwaq/builtins.c |   14 ++++++++++++++
 tools/qwaq/defs.qc    |    7 ++++++-
 tools/qwaq/main.qc    |   11 +++++++++++
 3 files changed, 31 insertions(+), 1 deletion(-)

commit 59ff355
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jun 27 22:24:28 2001 +0000

    create empty defs for vertex and quaternion compontents

 tools/qfcc/source/pr_imm.c |    6 ++++++
 1 file changed, 6 insertions(+)

commit 768c4a4
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jun 27 21:43:10 2001 +0000

    fix . type checking

 tools/qfcc/source/expr.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit b285ab0
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jun 27 21:15:15 2001 +0000

    more tests

 tools/qwaq/main.qc |   11 +++++++++++
 1 file changed, 11 insertions(+)

commit 774a1fe
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jun 27 20:47:41 2001 +0000

    fix // comments at end of file (ie, no trailing \n)

 tools/qfcc/source/qc-lex.l |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 9c30c0c
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jun 27 20:32:27 2001 +0000

    make simple assignments (a = b;) generate code

 tools/qfcc/source/expr.c |   15 ++++++++++++---
 1 file changed, 12 insertions(+), 3 deletions(-)

commit 1eef491
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jun 27 19:40:43 2001 +0000

    handle -ve constants

 tools/qfcc/source/qc-parse.y |   12 ++++++++----
 1 file changed, 8 insertions(+), 4 deletions(-)

commit 1fd4590
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jun 27 18:15:24 2001 +0000

    report file as well

 tools/qfcc/source/qc-lex.l |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 66a524d
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jun 27 17:55:41 2001 +0000

    correct the prototype for QFGL_ProcAddress

 include/QF/GL/funcs.h |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit febb139
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jun 27 17:11:21 2001 +0000

    free temp defs at the end of each expr block. CustomTF has gone from 64 to 25
    locals.

 tools/qfcc/source/expr.c |    6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit 9d2bf8d
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jun 27 16:43:56 2001 +0000

    better function argument code generation

 tools/qfcc/source/expr.c |   12 ++++++++----
 1 file changed, 8 insertions(+), 4 deletions(-)

commit 76e28ae
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Wed Jun 27 08:34:48 2001 +0000

    Portability fixes. plugin.c will, in all likelihood, work on Windows now.

 libs/util/plugin.c |   47 +++++++++++++++++++++++++++++++++++++----------
 1 file changed, 37 insertions(+), 10 deletions(-)

commit 06227cf
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Wed Jun 27 07:52:00 2001 +0000

    Portability fixes, also use the new ProcAddress setup.

 libs/video/targets/vid_glx.c |   43 +++++++++++++++---------------------------
 1 file changed, 15 insertions(+), 28 deletions(-)

commit aa7389e
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Wed Jun 27 07:40:10 2001 +0000

    *** empty log message ***

 libs/video/renderer/gl/gl_funcs.c |   19 +++++++++++--------
 1 file changed, 11 insertions(+), 8 deletions(-)

commit 1c54a3d
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jun 27 05:48:25 2001 +0000

    why not?

 tools/qwaq/.gdbinit |    2 ++
 1 file changed, 2 insertions(+)

commit a35c049
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jun 27 05:46:53 2001 +0000

    main.c:
    	give instruction address in opcode dump
    main.qc:
    	more test code

 tools/qwaq/main.c  |    4 +++-
 tools/qwaq/main.qc |    7 ++++++-
 2 files changed, 9 insertions(+), 2 deletions(-)

commit 504d03a
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jun 27 05:45:20 2001 +0000

    expr.c:
    	fix a silly stanfu with goto
    qc-parse.y:
    	suffle the debug code

 tools/qfcc/source/expr.c     |    2 +-
 tools/qfcc/source/qc-parse.y |   17 +++++++++--------
 2 files changed, 10 insertions(+), 9 deletions(-)

commit 18ba72b
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jun 27 04:18:39 2001 +0000

    shh!! :)

 libs/video/renderer/gl/gl_funcs.c |    5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 673e6e6
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jun 27 00:10:34 2001 +0000

    turns out qcc wasn't so stupid about = vs ||/&& precedence after all (just
    my interpretation of the code was:/) why oh why didn't John use bison or yacc
    in the first place? :/

 tools/qfcc/source/qc-parse.y |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit ff42e81
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jun 26 23:51:15 2001 +0000

    remove some debug info

 tools/qfcc/source/expr.c |    1 -
 1 file changed, 1 deletion(-)

commit c629de9
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jun 26 23:42:11 2001 +0000

    function calls work now

 tools/qfcc/source/expr.c |   10 ++++++++--
 1 file changed, 8 insertions(+), 2 deletions(-)

commit 50ae388
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jun 26 22:43:28 2001 +0000

    initialisations now seem to work, including cows (mooOOoo:)

 tools/qfcc/include/expr.h    |    1 +
 tools/qfcc/source/expr.c     |   12 ++++++++++++
 tools/qfcc/source/qc-parse.y |    7 +++++++
 3 files changed, 20 insertions(+)

commit c32bcb7
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jun 26 22:07:09 2001 +0000

    immediates now seem to work

 tools/qfcc/source/pr_imm.c |   36 ++++++++++++++++--------------------
 1 file changed, 16 insertions(+), 20 deletions(-)

commit ce2f26f
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jun 26 21:32:22 2001 +0000

    lables are working, but immediates and function return values are borked

 tools/qfcc/source/expr.c |   22 +++++++++++++++++++++-
 1 file changed, 21 insertions(+), 1 deletion(-)

commit 5785b93
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jun 26 20:06:56 2001 +0000

    implement branches and top level call

 tools/qfcc/source/expr.c   |   38 +++++++++++++++++++++++++++-----------
 tools/qfcc/source/pr_imm.c |    2 --
 2 files changed, 27 insertions(+), 13 deletions(-)

commit 19a7285
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jun 26 19:54:50 2001 +0000

    implement state

 tools/qfcc/source/expr.c |    7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

commit aee129c
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jun 26 19:48:03 2001 +0000

    assignments now seem to work in that they no longer seg qfcc

 tools/qfcc/source/expr.c |   93 +++++++++++++++++++++++-----------------------
 1 file changed, 47 insertions(+), 46 deletions(-)

commit 63ad87d
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jun 26 17:34:21 2001 +0000

    return defs of the correct type

 tools/qfcc/source/pr_imm.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 69f8690
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jun 26 16:24:11 2001 +0000

    oops

 tools/qfcc/source/expr.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d783a02
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jun 26 16:23:21 2001 +0000

    record an expression's line number and file and sort of handle state
    expressions

 tools/qfcc/include/expr.h |    2 ++
 tools/qfcc/source/expr.c  |   11 ++++++++---
 2 files changed, 10 insertions(+), 3 deletions(-)

commit 3242c04
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jun 26 16:12:01 2001 +0000

    fix the redef error

 tools/qfcc/source/qc-parse.y |    2 ++
 1 file changed, 2 insertions(+)

commit 3268fcb
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jun 26 14:14:47 2001 +0000

    add quaternion type (not yet supported in the code). Forgot to commit this
    last night.

 include/QF/pr_comp.h |    1 +
 1 file changed, 1 insertion(+)

commit 72d16d7
Author: Adam Olsen <rhamph@gmail.com>
Date:   Tue Jun 26 11:37:57 2001 +0000

    remove extra space from "CD Audio system: " line.

 configure.in |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c175304
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jun 26 07:21:20 2001 +0000

    start on actually generating code. doesn't work yet (getting a weird type
    redeclaration error and not all expressions are handled yet).

 tools/qfcc/include/expr.h     |    2 +
 tools/qfcc/include/qfcc.h     |    7 ++
 tools/qfcc/source/expr.c      |  252 ++++++++++++++++++++++++++++++++++++++++-
 tools/qfcc/source/pr_imm.c    |   99 ++++++++++++++++
 tools/qfcc/source/pr_lex.c    |    4 +
 tools/qfcc/source/pr_opcode.c |   13 ++-
 tools/qfcc/source/qc-lex.l    |    1 -
 tools/qfcc/source/qc-parse.y  |    6 +-
 8 files changed, 378 insertions(+), 6 deletions(-)

commit e99796c
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jun 26 03:33:01 2001 +0000

    new expression type: ex_block. forms a linked list of expressions for fast
    appending and ease of manipulation.

 tools/qfcc/include/expr.h    |   13 ++++-
 tools/qfcc/source/expr.c     |   45 ++++++++++++++--
 tools/qfcc/source/qc-parse.y |  116 +++++++++++++-----------------------------
 3 files changed, 89 insertions(+), 85 deletions(-)

commit d485ca1
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Tue Jun 26 02:59:37 2001 +0000

    Still broken, but apparently it works for Mercury.

 libs/video/renderer/gl/gl_funcs.c |   61 ++++++++++++++++++-------------------
 1 file changed, 29 insertions(+), 32 deletions(-)

commit 749d460
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jun 26 02:46:02 2001 +0000

    duplicate code cleanup

 tools/qfcc/include/expr.h    |    4 +-
 tools/qfcc/source/expr.c     |   25 +++++++++-
 tools/qfcc/source/qc-parse.y |  107 +++++++++++++-----------------------------
 3 files changed, 59 insertions(+), 77 deletions(-)

commit 908d265
Author: Zephaniah E. Hull <warp@babylon.d2dc.net>
Date:   Tue Jun 26 02:26:46 2001 +0000

    Clean up and repair of the run time linking, does NOT work until deek
    commits his gl_funcs.c.

 include/QF/GL/funcs.h                    |    2 +-
 libs/util/zone.c                         |    6 +-
 libs/video/renderer/gl/gl_draw.c         |  270 +++++++++++++++---------------
 libs/video/renderer/gl/gl_dyn_fires.c    |   28 ++--
 libs/video/renderer/gl/gl_dyn_part.c     |   10 +-
 libs/video/renderer/gl/gl_dyn_textures.c |   32 ++--
 libs/video/renderer/gl/gl_graph.c        |   26 +--
 libs/video/renderer/gl/gl_rlight.c       |   30 ++--
 libs/video/renderer/gl/gl_rmain.c        |  208 +++++++++++------------
 libs/video/renderer/gl/gl_rmisc.c        |   38 ++---
 libs/video/renderer/gl/gl_rsurf.c        |  120 ++++++-------
 libs/video/renderer/gl/gl_screen.c       |   28 ++--
 libs/video/renderer/gl/gl_skin.c         |    8 +-
 libs/video/renderer/gl/gl_sky.c          |   78 ++++-----
 libs/video/renderer/gl/gl_sky_clip.c     |   70 ++++----
 libs/video/renderer/gl/gl_textures.c     |   36 ++--
 libs/video/renderer/gl/gl_warp.c         |    8 +-
 libs/video/targets/context_x11.c         |    3 +-
 libs/video/targets/qfgl_ext.c            |    2 +-
 libs/video/targets/vid_3dfxsvga.c        |    4 +-
 libs/video/targets/vid_common_gl.c       |   42 ++---
 libs/video/targets/vid_glx.c             |    2 +-
 libs/video/targets/vid_wgl.c             |    2 +-
 23 files changed, 528 insertions(+), 525 deletions(-)

commit 3fa3ab5
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jun 25 23:42:49 2001 +0000

    clean up error reporting a little

 tools/qfcc/source/qc-parse.y |    2 +-
 tools/qfcc/source/qfcc.c     |    4 +---
 2 files changed, 2 insertions(+), 4 deletions(-)

commit 6259152
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jun 25 23:38:32 2001 +0000

    hopefully make line directives work

 tools/qfcc/source/qc-lex.l   |   23 ++++++++++++++++++-----
 tools/qfcc/source/qc-parse.y |    4 ++--
 tools/qfcc/source/qfcc.c     |    3 +--
 3 files changed, 21 insertions(+), 9 deletions(-)

commit 90b5c57
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jun 25 22:53:15 2001 +0000

    fix lost initial char of string constants
    make expression strings char * instead of string_t (don't put them into
    pr_strings prematurely);

 tools/qfcc/include/expr.h    |    2 +-
 tools/qfcc/source/expr.c     |   13 ++++++-------
 tools/qfcc/source/qc-lex.l   |    2 +-
 tools/qfcc/source/qc-parse.y |    6 +++---
 4 files changed, 11 insertions(+), 12 deletions(-)

commit 53b66ef
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jun 25 22:11:20 2001 +0000

    better label handling and strings are now completely parsed (including escapes)

 tools/qfcc/include/expr.h    |    8 ++++++++
 tools/qfcc/include/qfcc.h    |    2 ++
 tools/qfcc/source/expr.c     |   27 +++++++++++++++++++--------
 tools/qfcc/source/pr_lex.c   |   10 +++++-----
 tools/qfcc/source/qc-lex.l   |   19 +++++++++++++++----
 tools/qfcc/source/qc-parse.y |    3 ++-
 tools/qfcc/source/qfcc.c     |    1 +
 7 files changed, 52 insertions(+), 18 deletions(-)

commit 1779a12
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jun 25 20:52:04 2001 +0000

    expr.h:
    	nuke the ex_statement and estatement_[st] stuff
    	add label_expr prototype
    expr.c:
    	ex_statement nukage
    	correct new_expr's decl
    	add label_expr to ease label creation
    	don't crash when printing a null expression (bare return)
    qc-parse.y:
    	estatement_t nukage
    	statement statements and statement_block are type expr
    	generate `expressions' for statements
    
    a full parse tree for each function is now generated. there are several
    special expression opcodes for statements:
    	d	done    \
    	r	return  -> unary: expression to return or null
    	i	if      binary:   evaluated expression, destination label
    	n	ifnot   binary:   evaluated expression, destination label
    	c	call    binary:   function def, args (expr list, rev order)
    	s	state   binary:   frame const, function def
    	g	goto    unary:    destination label
    	l	label   unary:    label number
    in a top level expression, l (label) defines the label, otherwise it is a
    reference.

 tools/qfcc/include/expr.h    |    6 +-
 tools/qfcc/source/expr.c     |   28 ++++--
 tools/qfcc/source/qc-parse.y |  219 ++++++++++++++++++++++++++++++++++++++----
 3 files changed, 219 insertions(+), 34 deletions(-)

commit 2d87eeb
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jun 25 18:23:29 2001 +0000

    functions are now initialized, but no code is yet generated

 tools/qfcc/source/qc-parse.y |   47 +++++++++++++++++++++++++++++++++++++-----
 1 file changed, 42 insertions(+), 5 deletions(-)

commit df89725
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jun 25 18:22:53 2001 +0000

    make usage of the new parser easier to configure

 tools/qfcc/acconfig.h         |    4 ++++
 tools/qfcc/configure.in       |    7 +++++++
 tools/qfcc/source/Makefile.am |    6 +++++-
 tools/qfcc/source/qfcc.c      |    2 +-
 4 files changed, 17 insertions(+), 2 deletions(-)

commit ab05124
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jun 25 17:15:56 2001 +0000

    expr.h:
    	add prototype for print_expr
    expr.c:
    	add print_expr
    	correct string accessors
    	currect the result type for unary operators
    qc-lex.l:
    	correct string, vector and quaternion parsing
    qc-parse.y:
    	precedence corrections and more function scope work
    
    CustomTF gets through the parsing again.

 tools/qfcc/include/expr.h    |    1 +
 tools/qfcc/source/expr.c     |   70 +++++++++++++++++++++++++++++++++++++++---
 tools/qfcc/source/qc-lex.l   |   18 ++++++-----
 tools/qfcc/source/qc-parse.y |   20 ++++++++----
 4 files changed, 91 insertions(+), 18 deletions(-)

commit 3dbc913
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jun 25 15:42:05 2001 +0000

    this is C, not C++ ;)

 libs/video/renderer/gl/gl_funcs.c |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 5e1de4c
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Mon Jun 25 09:32:08 2001 +0000

    Clean up gl_funcs.c, it's actually readable now. Unfortunately, it sig11s
    for me. This may be due to the NVIDIA libGL problem (which they claim is a
    bug in libc), but it could very well be that Mercury was right and we
    can't have the same names internally as the libGL names. Even so, this
    code will probably work on Windows.

 libs/video/renderer/gl/gl_funcs.c |   93 ++++++++++++++++++++-----------------
 libs/video/targets/vid_glx.c      |   34 +++++++-------
 2 files changed, 66 insertions(+), 61 deletions(-)

commit 59ae011
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Mon Jun 25 06:29:07 2001 +0000

    Whoops! Let's try commiting the headers this time. :)

 include/QF/GL/extensions.h |  253 ++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 253 insertions(+)

commit 3fbfa27
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Mon Jun 25 06:17:07 2001 +0000

    Woohoo. The QFGL_* function prefixes are gone again from the tree. It
    might even work under Windows now, but don't get your hopes too high. :)

 include/QF/GL/funcs.h                    |   12 +-
 include/QF/GL/qf_ext.h                   |  253 ----------------------------
 include/QF/GL/qf_vid.h                   |    2 +-
 libs/video/renderer/gl/gl_draw.c         |  270 +++++++++++++++---------------
 libs/video/renderer/gl/gl_dyn_fires.c    |   28 ++--
 libs/video/renderer/gl/gl_dyn_part.c     |   10 +-
 libs/video/renderer/gl/gl_dyn_textures.c |   32 ++--
 libs/video/renderer/gl/gl_funcs.c        |   88 ++++++++--
 libs/video/renderer/gl/gl_graph.c        |   26 +--
 libs/video/renderer/gl/gl_rlight.c       |   30 ++--
 libs/video/renderer/gl/gl_rmain.c        |  208 +++++++++++------------
 libs/video/renderer/gl/gl_rmisc.c        |   38 ++---
 libs/video/renderer/gl/gl_rsurf.c        |  120 ++++++-------
 libs/video/renderer/gl/gl_screen.c       |   28 ++--
 libs/video/renderer/gl/gl_skin.c         |    8 +-
 libs/video/renderer/gl/gl_sky.c          |   78 ++++-----
 libs/video/renderer/gl/gl_sky_clip.c     |   70 ++++----
 libs/video/renderer/gl/gl_textures.c     |   36 ++--
 libs/video/renderer/gl/gl_warp.c         |    8 +-
 libs/video/targets/qfgl_ext.c            |    4 +-
 libs/video/targets/vid_3dfxsvga.c        |    2 +-
 libs/video/targets/vid_common_gl.c       |   44 ++---
 libs/video/targets/vid_glx.c             |    2 +-
 libs/video/targets/vid_sgl.c             |    2 +-
 24 files changed, 605 insertions(+), 794 deletions(-)

commit 3f495b2
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jun 25 04:08:55 2001 +0000

    fix the missing keys. Caused by a miss-understanding of the logic/resoning
    involved in the test.

 nq/source/sbar.c |   13 ++++++++-----
 1 file changed, 8 insertions(+), 5 deletions(-)

commit 5184d64
Author: Joseph Carter <knghtbrd@debian.org>
Date:   Sun Jun 24 12:47:05 2001 +0000

    Fixed for very late OpenGL binding

 libs/video/targets/vid_sgl.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 3715430
Author: Zephaniah E. Hull <warp@babylon.d2dc.net>
Date:   Sun Jun 24 09:25:55 2001 +0000

    This is changing more then I wanted to at once, however.
    
    The major change is that we no longer require libGL to even exist on the
    system at compile time for the GL targets, we dynamicly link to the
    libGL of choice at run time. (This probably breaks most non-linux
    systems, and all GL targets except -glx, some fixup will be needed.)
    (This also kills glquake, dead dead DEAD! GONE FOREVER! WHEE!)
    
    Some gl_draw cleanup.
    
    Commented out equake alias model occlusion test stuff, very experimental.
    
    Added the .lo and .la patterns to the .gitignore files.
    
    Some minor sbar cleanup. (We don't use the disc in use symbol for
    anything.)

 configure.in                             |  128 +----
 include/QF/GL/defines.h                  |  782 ++++++++++++++++++++++++++++++
 include/QF/GL/funcs.h                    |   38 ++
 include/QF/GL/qf_ext.h                   |  253 ++++++++++
 include/QF/GL/qf_fires.h                 |   45 ++
 include/QF/GL/qf_funcs_list.h            |  420 ++++++++++++++++
 include/QF/GL/qf_rlight.h                |   44 ++
 include/QF/GL/qf_rmain.h                 |   48 ++
 include/QF/GL/qf_rsurf.h                 |   47 ++
 include/QF/GL/qf_screen.h                |   42 ++
 include/QF/GL/qf_sky.h                   |   47 ++
 include/QF/GL/qf_textures.h              |   53 ++
 include/QF/GL/qf_vid.h                   |   58 +++
 include/QF/GL/types.h                    |   58 +++
 include/glquake.h                        |  232 ---------
 include/qfgl_ext.h                       |  260 ----------
 include/r_cvar.h                         |    6 +
 include/varrays.h                        |    2 +-
 libs/models/alias/Makefile.am            |    1 -
 libs/models/alias/gl_model_alias.c       |    3 +-
 libs/models/brush/Makefile.am            |    1 -
 libs/models/brush/gl_model_brush.c       |    2 +-
 libs/models/gl_model_fullbright.c        |    2 +-
 libs/models/sprite/Makefile.am           |    1 -
 libs/models/sprite/gl_model_sprite.c     |    2 +-
 libs/video/renderer/gl/Makefile.am       |    3 +-
 libs/video/renderer/gl/gl_draw.c         |  280 +++++------
 libs/video/renderer/gl/gl_dyn_fires.c    |   46 +-
 libs/video/renderer/gl/gl_dyn_part.c     |   15 +-
 libs/video/renderer/gl/gl_dyn_textures.c |   37 +-
 libs/video/renderer/gl/gl_funcs.c        |   73 +++
 libs/video/renderer/gl/gl_graph.c        |   32 +-
 libs/video/renderer/gl/gl_rlight.c       |   36 +-
 libs/video/renderer/gl/gl_rmain.c        |  349 ++++++++-----
 libs/video/renderer/gl/gl_rmisc.c        |   47 +-
 libs/video/renderer/gl/gl_rsurf.c        |  130 ++---
 libs/video/renderer/gl/gl_screen.c       |   36 +-
 libs/video/renderer/gl/gl_skin.c         |   13 +-
 libs/video/renderer/gl/gl_sky.c          |   87 ++--
 libs/video/renderer/gl/gl_sky_clip.c     |   77 +--
 libs/video/renderer/gl/gl_textures.c     |   43 +-
 libs/video/renderer/gl/gl_warp.c         |   13 +-
 libs/video/renderer/r_cvar.c             |    6 +
 libs/video/targets/Makefile.am           |    4 +-
 libs/video/targets/qfgl_ext.c            |   13 +-
 libs/video/targets/vid_3dfxsvga.c        |    3 +-
 libs/video/targets/vid_common_gl.c       |   60 ++-
 libs/video/targets/vid_glx.c             |   71 ++-
 libs/video/targets/vid_sgl.c             |    2 +-
 nq/source/.gitignore                     |    2 +
 nq/source/Makefile.am                    |   10 +-
 nq/source/gl_view.c                      |    2 +-
 nq/source/sbar.c                         |    1 -
 qw/source/.gitignore                     |    2 +
 qw/source/Makefile.am                    |   10 +-
 qw/source/gl_view.c                      |    2 +-
 qw/source/sbar.c                         |    1 -
 tools/qfgl_gen.pl                        |   77 +++
 58 files changed, 2946 insertions(+), 1212 deletions(-)

commit c12ac32
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jun 21 07:08:34 2001 +0000

    a little progress on functions

 tools/qfcc/source/qc-parse.y |   55 ++++++++++++++++++++++++++++--------------
 1 file changed, 37 insertions(+), 18 deletions(-)

commit ae98ed8
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jun 20 23:32:13 2001 +0000

    field types are parsed correctly, but parameters have been lost for the
    moment

 tools/qfcc/source/qc-parse.y |   87 +++++++++++++++++-------------------------
 1 file changed, 35 insertions(+), 52 deletions(-)

commit aac91d8
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jun 20 21:18:04 2001 +0000

    more expression handling. turns out I'm mis-parsing field types, so that's next

 tools/qfcc/include/expr.h    |    5 +-
 tools/qfcc/source/expr.c     |  430 ++++++++++++++++++++++++++++++++++++++++--
 tools/qfcc/source/qc-parse.y |   21 ++-
 3 files changed, 432 insertions(+), 24 deletions(-)

commit ba17807
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Wed Jun 20 19:53:37 2001 +0000

    whitespace.

 tools/qfcc/source/Makefile.am |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 2eefacd
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Wed Jun 20 19:52:13 2001 +0000

    Rev for 0.5.1, disable -fbdev by default (use --with-fbdev to enable)

 configure.in            |    4 ++--
 include/win32/version.h |    2 +-
 2 files changed, 3 insertions(+), 3 deletions(-)

commit 226b404
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jun 20 07:02:36 2001 +0000

    beginnings of expression and statement processing

 tools/qfcc/include/expr.h    |   13 +++--
 tools/qfcc/source/expr.c     |   84 +++++++++++++++++++++++++++++
 tools/qfcc/source/qc-parse.y |  119 +++++++++++++++++++++++++++---------------
 3 files changed, 171 insertions(+), 45 deletions(-)

commit 56aafce
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jun 20 03:05:50 2001 +0000

    qfcc.h:
    	rearrange def_t a little and add def_next (leaving next free for other
    	uses)
    pr_def.c:
    	use def_next instead of next to link /all/ of the named defs
    qfcc.c:
    	ditto

 tools/qfcc/include/qfcc.h  |   17 +++++++++--------
 tools/qfcc/source/pr_def.c |    4 +---
 tools/qfcc/source/qfcc.c   |   18 +++++++++---------
 3 files changed, 19 insertions(+), 20 deletions(-)

commit 327e95a
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jun 20 02:07:20 2001 +0000

    gcc 3.0 fixes

 tools/qfcc/source/qfcc.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 90a0cdf
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jun 19 23:35:09 2001 +0000

    now seems to get through CustomTF properly, but better def handling is needed

 tools/qfcc/source/qc-parse.y |   56 ++++++++++++++++++++++++++++++++++++------
 1 file changed, 48 insertions(+), 8 deletions(-)

commit 67e4fa8
Author: Adam Olsen <rhamph@gmail.com>
Date:   Tue Jun 19 23:27:07 2001 +0000

    add support for \<, \>, and \^ to qfcc.  \< bolds all characters (toggles bold really) until \>, and \^ bolds (toggles) the next character.

 tools/qfcc/source/pr_lex.c |   20 ++++++++++++++++++++
 1 file changed, 20 insertions(+)

commit 20bf698
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jun 19 22:26:16 2001 +0000

    fix \x handling for 0-9

 tools/qfcc/source/pr_lex.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f50ce04
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jun 19 22:13:35 2001 +0000

    d'oh, forgot to add 10 for a-f and A-F

 tools/qfcc/source/pr_lex.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 560b475
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jun 19 22:05:13 2001 +0000

    gcc 3.0 compile fixes

 libs/audio/targets/snd_disk.c        |    6 ++++++
 libs/audio/targets/snd_sdl.c         |    6 ++++++
 libs/gib/gib_stack.c                 |    6 ++++++
 libs/gib/gib_vars.c                  |    6 ++++++
 libs/video/renderer/gl/gl_skin.c     |    6 ++++++
 libs/video/renderer/gl/gl_sky_clip.c |    1 +
 libs/video/renderer/r_main.c         |   10 ++++++++++
 libs/video/targets/vid_svgalib.c     |    6 ++++++
 nq/include/chase.h                   |    2 +-
 nq/source/host_skin.c                |    4 ++--
 nq/source/sv_progs.c                 |    2 +-
 qw/source/cl_ngraph.c                |    6 ++++++
 qw/source/net_packetlog.c            |    6 ++++++
 qw/source/sv_progs.c                 |    2 +-
 14 files changed, 64 insertions(+), 5 deletions(-)

commit af701d7
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jun 19 21:45:57 2001 +0000

    fix infinite loop for \x...

 tools/qfcc/source/pr_lex.c |    1 +
 1 file changed, 1 insertion(+)

commit 2647e63
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jun 19 16:01:38 2001 +0000

    finally fix the tupe corruption.

 tools/qfcc/source/pr_def.c   |    2 ++
 tools/qfcc/source/pr_lex.c   |   10 +---------
 tools/qfcc/source/qc-parse.y |    6 ++++--
 3 files changed, 7 insertions(+), 11 deletions(-)

commit bdc0ba3
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jun 19 07:28:50 2001 +0000

    pr_lex.c:
    	add PR_PrintType (and lotsa debug to PR_FindType)
    qc-parse.y:
    	fix up one bit of type corruption, only to find another :/

 tools/qfcc/source/pr_lex.c   |   66 +++++++++++++++++++++++++++++++++++++++++-
 tools/qfcc/source/qc-parse.y |   19 ++++++------
 2 files changed, 75 insertions(+), 10 deletions(-)

commit c091510
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Tue Jun 19 02:29:41 2001 +0000

    Even more correctness fixes.

 libs/util/qfplist.c |   24 ++++++++----------------
 1 file changed, 8 insertions(+), 16 deletions(-)

commit 5111376
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Tue Jun 19 02:26:19 2001 +0000

    Correctness fixes, some whitespace.

 libs/util/qfplist.c |   31 +++++++++++++++----------------
 1 file changed, 15 insertions(+), 16 deletions(-)

commit 118645f
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Tue Jun 19 02:10:47 2001 +0000

    Property list updates. Objects of type QFDictionary are now hash tables
    (and thus have a new simpler PL_ObjectForKey() function to get a value for
    a key). Also, you can now call PL_FreeItem() on a plitem_t to free a
    property list item and all of its descendants (if it has any).
    
    Binary plist values are still not supported.

 include/QF/qfplist.h |   63 +++++++++++++-------------
 libs/util/qfplist.c  |  121 ++++++++++++++++++++++++++++++++++++--------------
 2 files changed, 119 insertions(+), 65 deletions(-)

commit 3a94567
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jun 19 02:01:18 2001 +0000

    Make Hash_FlushTable loop safe and correct the copyright notices

 include/QF/hash.h |    3 +--
 libs/util/hash.c  |    9 +++++----
 2 files changed, 6 insertions(+), 6 deletions(-)

commit 89fecd7
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jun 18 22:51:49 2001 +0000

    slowly getting there with defs processing. still borked

 tools/qfcc/include/scope.h   |    5 +++
 tools/qfcc/source/qc-lex.l   |    1 +
 tools/qfcc/source/qc-parse.y |   92 +++++++++++++++++++++++++++++++++---------
 3 files changed, 80 insertions(+), 18 deletions(-)

commit d5dabdf
Author: Joseph Carter <knghtbrd@debian.org>
Date:   Mon Jun 18 01:07:09 2001 +0000

    Fix -lqfnet errors

 nq/source/Makefile.am |    2 +-
 qw/source/Makefile.am |    4 ++--
 2 files changed, 3 insertions(+), 3 deletions(-)

commit 3441625
Author: Joseph Carter <knghtbrd@debian.org>
Date:   Mon Jun 18 01:06:50 2001 +0000

    Okay, it helps if you don't  anything out when you commit a fix.

 configure.in |   21 +++++++++++----------
 1 file changed, 11 insertions(+), 10 deletions(-)

commit 366f3db
Author: Joseph Carter <knghtbrd@debian.org>
Date:   Mon Jun 18 00:14:26 2001 +0000

    kgcc should not be used if gcc is 2.96 anymore except on some systems that
    are still broken.  Using kgcc on systems not broken actually breaks them!
    Thank you Red Hat Software, another breakage for some people without a
    portable and reliable fix.  We really appreciate it.  Are you guys trying
    to compete with Mandrake for most broken and inconsistant build system?  A
    piece of advice, let them have that feature all to themselves.

 configure.in |   25 ++++++++++++++-----------
 1 file changed, 14 insertions(+), 11 deletions(-)

commit 3456b5f
Author: Chris Ison <cisos@bigpond.net.au>
Date:   Sun Jun 17 08:14:22 2001 +0000

    part 1 of slist fixup, added ping and game filtering, also fixed some potential bugs. flame me later

 qw/include/cl_slist.h |   37 +------
 qw/source/cl_main.c   |    2 +-
 qw/source/cl_slist.c  |  279 ++++++++++++++++++++++++++++++-------------------
 3 files changed, 176 insertions(+), 142 deletions(-)

commit 0bb5db7
Author: Adam Olsen <rhamph@gmail.com>
Date:   Sat Jun 16 22:39:41 2001 +0000

    Add a sv_gc cvar, which makes it run the string gc every n frames.
    Defaults to 0 (disabled).

 qw/source/sv_main.c |   26 ++++++++++++++++++++++++++
 1 file changed, 26 insertions(+)

commit 4f28b39
Author: Adam Olsen <rhamph@gmail.com>
Date:   Sat Jun 16 22:33:56 2001 +0000

    depend on libqfnet.la instead of libqfnet.a

 nq/source/Makefile.am |    6 +++---
 qw/source/Makefile.am |    4 ++--
 2 files changed, 5 insertions(+), 5 deletions(-)

commit 9f158b1
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jun 16 05:16:02 2001 +0000

    now cross builds out-of-the-box

 tools/qfcc/configure.in |   13 ++++++++++++-
 1 file changed, 12 insertions(+), 1 deletion(-)

commit 7254dc0
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jun 16 04:27:22 2001 +0000

    rename filelength to FileLength to avoid a name clash in windows

 tools/qfcc/include/cmdlib.h |    2 +-
 tools/qfcc/source/cmdlib.c  |    6 +++---
 2 files changed, 4 insertions(+), 4 deletions(-)

commit b595f01
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jun 15 20:38:57 2001 +0000

    got function params scope sort of sorted out

 tools/qfcc/source/qc-parse.y |   25 +++++++++++++++++++++----
 1 file changed, 21 insertions(+), 4 deletions(-)

commit eeaab95
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jun 15 19:38:43 2001 +0000

    beginnings of expression and def handling.

 tools/qfcc/include/expr.h     |   29 +++++++++++++
 tools/qfcc/source/Makefile.am |    2 +-
 tools/qfcc/source/expr.c      |   10 +++++
 tools/qfcc/source/qc-lex.l    |    4 +-
 tools/qfcc/source/qc-parse.y  |   91 ++++++++++++++++++++++++++++++++++-------
 tools/qfcc/source/qfcc.c      |    2 +-
 6 files changed, 120 insertions(+), 18 deletions(-)

commit 4901dd0
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jun 15 18:08:26 2001 +0000

    net_udp.c:
    	header shuffle
    net_udp6.c:
    	get compiling under mingw. some icky hacks (and the version of the tpipv6
    	headers I managed to get had some errors), but it compiles cleanly.

 qw/source/net_udp.c  |    2 +-
 qw/source/net_udp6.c |   29 ++++++++++++++++++++++-------
 2 files changed, 23 insertions(+), 8 deletions(-)

commit dda09da
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jun 15 16:05:33 2001 +0000

    now compiles under mingw

 libs/video/renderer/sw/sw_raclipa.S |   16 ++++++++++++++++
 1 file changed, 16 insertions(+)

commit 373ea81
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jun 15 07:16:18 2001 +0000

    more work on the code generation and make generally usable again by disabling
    the new stuff

 tools/qfcc/source/Makefile.am |    2 +-
 tools/qfcc/source/qc-parse.y  |   45 +++++++++++++++++++++++++----------------
 tools/qfcc/source/qfcc.c      |   10 +++++++--
 3 files changed, 37 insertions(+), 20 deletions(-)

commit f9baacd
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jun 14 21:49:47 2001 +0000

    beginnings of code generation. hangs :)

 tools/qfcc/source/qc-parse.y |   40 +++++++++++++++++++++++++++++++++++-----
 1 file changed, 35 insertions(+), 5 deletions(-)

commit 8c13809
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jun 14 19:52:38 2001 +0000

    don't process .S files when not using asm (either --disable-asmopt or non-x86
    platforms). Done by moving the asm objects into libasm.la (yes, there's one in
    each dir that needs it) so that the Makefiles don't explode.

 configure.in                       |    1 +
 libs/audio/targets/Makefile.am     |   20 +++++++++++++++++++-
 libs/util/Makefile.am              |   13 ++++++++++++-
 libs/video/renderer/sw/Makefile.am |   20 ++++++++++++++------
 libs/video/targets/Makefile.am     |   13 ++++++++++++-
 nq/source/Makefile.am              |   24 +++++++++++++++---------
 qw/source/Makefile.am              |   28 ++++++++++++++++++----------
 7 files changed, 91 insertions(+), 28 deletions(-)

commit 29188c9
Author: Adam Olsen <rhamph@gmail.com>
Date:   Thu Jun 14 17:31:53 2001 +0000

    typo

 qw/source/sv_pr_cmds.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 2a1f323
Author: Adam Olsen <rhamph@gmail.com>
Date:   Thu Jun 14 17:31:15 2001 +0000

    precache some lightning models

 qw/source/cl_tent.c |   18 ++++++++++++++----
 1 file changed, 14 insertions(+), 4 deletions(-)

commit 00f1288
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jun 13 22:56:20 2001 +0000

    don't delete processed files if --keep is given

 tools/qfpreqcc/qfpreqcc |   15 ++++++++++++---
 1 file changed, 12 insertions(+), 3 deletions(-)

commit d7ebba6
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jun 13 18:35:41 2001 +0000

    parses CustomTF now, but no code generation

 tools/qfcc/source/qc-lex.l   |  103 ++++++++++++++++++++++++++++++++++++++----
 tools/qfcc/source/qc-parse.y |    3 +-
 tools/qfcc/source/qfcc.c     |   22 +++++----
 3 files changed, 107 insertions(+), 21 deletions(-)

commit c89da89
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jun 13 07:16:39 2001 +0000

    almost parses CustomTF ($macro junk next)

 tools/qfcc/source/qc-lex.l   |  141 +++++++++++++++++++++++++++++++++++++++---
 tools/qfcc/source/qc-parse.y |   60 ++++++++++++------
 tools/qfcc/source/qfcc.c     |   12 ++++
 3 files changed, 188 insertions(+), 25 deletions(-)

commit a3d2d83
Author: Chris Ison <cisos@bigpond.net.au>
Date:   Tue Jun 12 23:53:58 2001 +0000

    fixed master list to the 7 (known) working master

 qw/source/cl_slist.c |    5 +----
 1 file changed, 1 insertion(+), 4 deletions(-)

commit 2c26de2
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jun 12 22:26:52 2001 +0000

    oops

 tools/qfcc/source/qc-lex.l |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 72b93d0
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jun 12 22:26:10 2001 +0000

    more stuff

 tools/qfcc/source/qc-lex.l |    6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit d59048d
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jun 12 22:20:45 2001 +0000

    pass given params to qfcc

 tools/qfpreqcc/qfpreqcc |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 489ddbc
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jun 12 21:06:28 2001 +0000

    getting closer. soon timie to start putting real code in there

 tools/qfcc/configure.in       |    2 ++
 tools/qfcc/source/.gitignore  |    4 +++-
 tools/qfcc/source/Makefile.am |    3 ++-
 tools/qfcc/source/qc-lex.l    |   41 +++++++++++++++++++++++++++++++++++++++++
 4 files changed, 48 insertions(+), 2 deletions(-)

commit 7d52f12
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jun 12 20:24:02 2001 +0000

    clean up C warnings

 tools/qfcc/source/qc-parse.y |   34 ++++++++++++++++++++++++----------
 1 file changed, 24 insertions(+), 10 deletions(-)

commit 3be018e
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jun 12 19:44:26 2001 +0000

    beginnings of a bison grammar for qc

 tools/qfcc/source/qc-parse.y |  108 ++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 108 insertions(+)

commit c0654f3
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jun 12 15:29:05 2001 +0000

    miss tagged string != string

 tools/qfcc/source/pr_opcode.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 3526371
Author: Chris Ison <cisos@bigpond.net.au>
Date:   Tue Jun 12 12:34:59 2001 +0000

    oops, forgot to remove debug code

 qw/source/cl_slist.c |    1 -
 1 file changed, 1 deletion(-)

commit 75fe232
Author: Chris Ison <cisos@bigpond.net.au>
Date:   Tue Jun 12 12:31:01 2001 +0000

    Sorted server list, sl_sortby 0 = by name, sl_sortby 1 = by ping

 qw/source/cl_slist.c |   49 +++++++++++++++++++++++++++++++++++++++++++++++--
 1 file changed, 47 insertions(+), 2 deletions(-)

commit aa82585
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jun 11 23:37:01 2001 +0000

    full \ handling in strings (including \e for escape (why C doesn't have that
    is beyond me))

 tools/qfcc/source/pr_lex.c |   70 ++++++++++++++++++++++++++++++++++++++++----
 1 file changed, 64 insertions(+), 6 deletions(-)

commit 340e104
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jun 11 22:42:05 2001 +0000

    /D'OH/!!! How many /years/ have I been working with linked lists and free?

 libs/gamecode/pr_strings.c |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit dc58469
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jun 11 20:59:48 2001 +0000

    re-enable asm for static builds

 libs/video/renderer/sw/d_draw.S     |    2 ++
 libs/video/renderer/sw/d_draw16.S   |    2 ++
 libs/video/renderer/sw/d_init.c     |    2 ++
 libs/video/renderer/sw/d_modech.c   |    2 ++
 libs/video/renderer/sw/d_part.c     |    2 ++
 libs/video/renderer/sw/d_parta.S    |    2 ++
 libs/video/renderer/sw/d_polysa.S   |    2 ++
 libs/video/renderer/sw/d_polyse.c   |    2 ++
 libs/video/renderer/sw/d_scan.c     |    2 ++
 libs/video/renderer/sw/d_scana.S    |    2 ++
 libs/video/renderer/sw/d_spr8.S     |    2 ++
 libs/video/renderer/sw/d_sprite.c   |    2 ++
 libs/video/renderer/sw/d_vars.c     |    2 ++
 libs/video/renderer/sw/d_varsa.S    |    2 ++
 libs/video/renderer/sw/nonintel.c   |    2 ++
 libs/video/renderer/sw/surf16.S     |    2 ++
 libs/video/renderer/sw/surf8.S      |    2 ++
 libs/video/renderer/sw/sw_ralias.c  |    2 ++
 libs/video/renderer/sw/sw_raliasa.S |    2 ++
 libs/video/renderer/sw/sw_rdraw.c   |    2 ++
 libs/video/renderer/sw/sw_rdrawa.S  |    2 ++
 libs/video/renderer/sw/sw_redge.c   |    2 ++
 libs/video/renderer/sw/sw_redgea.S  |    2 ++
 libs/video/renderer/sw/sw_rmain.c   |    2 ++
 libs/video/renderer/sw/sw_rmisc.c   |    2 ++
 libs/video/renderer/sw/sw_rsurf.c   |    2 ++
 libs/video/renderer/sw/transform.S  |    2 ++
 27 files changed, 54 insertions(+)

commit 73ce5c6
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jun 11 20:12:29 2001 +0000

    what's this .vimrc? :)

 tools/qfpreqcc/.gitignore |    1 +
 1 file changed, 1 insertion(+)

commit f4969d5
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jun 11 19:37:25 2001 +0000

    add some docs for the hash table api and move the include of stdlib.h to
    hash.c (no longer needed in hash.h).

 include/QF/hash.h |   54 +++++++++++++++++++++++++++++++++++++++++++++++++++--
 libs/util/hash.c  |    2 ++
 2 files changed, 54 insertions(+), 2 deletions(-)

commit 75fbb80
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jun 11 19:17:40 2001 +0000

    make the hash table types opaque

 include/QF/hash.h |   14 +-------------
 libs/util/hash.c  |   26 +++++++++++++++++++++-----
 2 files changed, 22 insertions(+), 18 deletions(-)

commit fcd2945
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jun 11 18:04:32 2001 +0000

    produce line directive output and clean up the generated files

 tools/qfpreqcc/qfpreqcc |   11 ++++++++++-
 1 file changed, 10 insertions(+), 1 deletion(-)

commit dfb6062
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jun 11 17:51:09 2001 +0000

    fix an out-by-one for line directives at the beginning of the file

 tools/qfcc/source/pr_lex.c |    6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit c732d09
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jun 11 15:43:06 2001 +0000

    add '# 1 "foo.qcc" ...' (flags ignored) processing to qfcc so preprocessed
    output can make sense.

 tools/qfcc/source/pr_lex.c |   24 ++++++++++++++++++++++++
 1 file changed, 24 insertions(+)

commit 3960e1e
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Sun Jun 10 23:56:24 2001 +0000

    Oops, missed one.

 configure.in |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 37ad61b
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Sun Jun 10 23:50:46 2001 +0000

    Change the $(command) stuff back to `command`. Bashism.

 configure.in |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 9e19da1
Author: Adam Olsen <rhamph@gmail.com>
Date:   Sun Jun 10 15:48:24 2001 +0000

    function name cleanup.  the sound mixer stuff (snd_dma.c, snd_mix.c, etc) use the SND_ prefix now, and drivers (snd_oss.c) use SNDDMA_ as before.

 libs/audio/targets/snd_alsa_0_5.c |   70 +++++++++---------
 libs/audio/targets/snd_alsa_0_9.c |   70 +++++++++---------
 libs/audio/targets/snd_disk.c     |   70 +++++++++---------
 libs/audio/targets/snd_dma.c      |  142 ++++++++++++++++++-------------------
 libs/audio/targets/snd_mem.c      |   63 ++++++++--------
 libs/audio/targets/snd_mix.c      |   20 +++---
 libs/audio/targets/snd_mixa.S     |    8 +--
 libs/audio/targets/snd_null.c     |  110 ++++++++++++++--------------
 libs/audio/targets/snd_oss.c      |   70 +++++++++---------
 libs/audio/targets/snd_sdl.c      |   76 ++++++++++----------
 libs/audio/targets/snd_sgi.c      |   70 +++++++++---------
 libs/audio/targets/snd_sun.c      |   70 +++++++++---------
 12 files changed, 420 insertions(+), 419 deletions(-)

commit 2195a92
Author: Adam Olsen <rhamph@gmail.com>
Date:   Sun Jun 10 15:01:07 2001 +0000

    This thing was so far out of date, there's no point pretending it still exists in current cvs.

 libs/audio/targets/snd_gus.c | 1281 ------------------------------------------
 1 file changed, 1281 deletions(-)

commit 4486925
Author: Adam Olsen <rhamph@gmail.com>
Date:   Sun Jun 10 14:25:19 2001 +0000

    merge in the now obsolete snd_common.c

 libs/audio/Makefile.am  |    2 +-
 libs/audio/snd.c        |   20 ++++++++++----------
 libs/audio/snd_common.c |   44 --------------------------------------------
 3 files changed, 11 insertions(+), 55 deletions(-)

commit f094db3
Author: Adam Olsen <rhamph@gmail.com>
Date:   Sun Jun 10 13:07:30 2001 +0000

    add support for --with-qf=/usr/local as a prefix for lib and include dirs

 tools/qfcc/configure.in |   21 ++++++++++++++++-----
 1 file changed, 16 insertions(+), 5 deletions(-)

commit f600e7c
Author: Chris Ison <cisos@bigpond.net.au>
Date:   Sat Jun 9 16:34:13 2001 +0000

    raised console buffer size

 include/QF/console.h |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 5b16c38
Author: Chris Ison <cisos@bigpond.net.au>
Date:   Sat Jun 9 15:42:22 2001 +0000

    quick bug fix for slist update seg

 qw/source/cl_slist.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 8d3247f
Author: Chris Ison <cisos@bigpond.net.au>
Date:   Sat Jun 9 15:24:42 2001 +0000

    added set server name after refresh, and fixed slist update not resetting the list

 qw/source/cl_slist.c |   15 ++++++++++++++-
 1 file changed, 14 insertions(+), 1 deletion(-)

commit 12ae675
Author: Chris Ison <cisos@bigpond.net.au>
Date:   Sat Jun 9 09:12:24 2001 +0000

    moved slist stuff out of cl_main.c and into cl_slist.c, enabled getting server list from master servers. to switch between servers.txt list (default) and list of servers from master servers use slist switch

 qw/include/cl_slist.h |    7 ++-
 qw/source/cl_main.c   |   49 +++--------------
 qw/source/cl_slist.c  |  141 ++++++++++++++++++++++++++++++++++++++-----------
 3 files changed, 123 insertions(+), 74 deletions(-)

commit bbc9707
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jun 9 06:25:33 2001 +0000

    pr_comp.h:
    	define PROG_ID_VERSION as 6 and redefine PROG_VERSION as 0x00fff001
    	(0.fff.001) for the new qc features.
    pr_edict.c:
    	support version 6 and version 0.fff.001 progs
    qfcc.h:
    	add version field to options_t
    	add min_version field to opcode_t
    pr_opcode.c:
    	set the minumum version of each opcode (gee, that table is getting ugly)
    	filter out opcodes with too high a min_version when initializing the opcode
    	hash tables.
    qfcc.c:
    	update help output.
    	accept --id to limit code generation to id compatable (ver 6) progs.
    	default progs generation to 0.fff.001

 include/QF/pr_comp.h          |    4 +-
 libs/gamecode/pr_edict.c      |    7 +-
 tools/qfcc/include/qfcc.h     |    2 +
 tools/qfcc/source/pr_opcode.c |  172 +++++++++++++++++++++--------------------
 tools/qfcc/source/qfcc.c      |   10 ++-
 5 files changed, 105 insertions(+), 90 deletions(-)

commit ac07971
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jun 8 22:57:51 2001 +0000

    remove the location

 bootstrap |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f7e6687
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jun 8 22:55:51 2001 +0000

    put the warning /first/

 bootstrap |    3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit e61884f
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jun 8 22:54:34 2001 +0000

    add a test for initialized locals

 tools/qwaq/main.qc |    8 ++++++++
 1 file changed, 8 insertions(+)

commit c609853
Author: Joseph Carter <knghtbrd@debian.org>
Date:   Fri Jun 8 22:52:50 2001 +0000

    Added a comment to output about the cross-compile warnings for newbies

 bootstrap |    2 ++
 1 file changed, 2 insertions(+)

commit 0186732
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jun 8 20:13:10 2001 +0000

    make initialized local variables work /properly/
            local float urk = 0;
    STORE_F    46(IMMEDIATE)  0.0   55(?)

 tools/qfcc/source/pr_comp.c |    8 +++++++-
 1 file changed, 7 insertions(+), 1 deletion(-)

commit 22e4ce8
Author: Joseph Carter <knghtbrd@debian.org>
Date:   Fri Jun 8 18:46:26 2001 +0000

    Include files for gib have been relocated out of include/

 include/Makefile.am         |   12 ++++-----
 include/gib_error.h         |   43 ------------------------------
 include/gib_instructions.h  |   43 ------------------------------
 include/gib_interpret.h     |   48 ---------------------------------
 include/gib_modules.h       |   41 ----------------------------
 include/gib_parse.h         |   41 ----------------------------
 include/gib_stack.h         |   62 -------------------------------------------
 include/gib_vars.h          |   37 --------------------------
 libs/gib/Makefile.am        |    2 ++
 libs/gib/gib_error.h        |   43 ++++++++++++++++++++++++++++++
 libs/gib/gib_instructions.h |   43 ++++++++++++++++++++++++++++++
 libs/gib/gib_interpret.h    |   48 +++++++++++++++++++++++++++++++++
 libs/gib/gib_modules.h      |   41 ++++++++++++++++++++++++++++
 libs/gib/gib_parse.h        |   41 ++++++++++++++++++++++++++++
 libs/gib/gib_stack.h        |   62 +++++++++++++++++++++++++++++++++++++++++++
 libs/gib/gib_vars.h         |   37 ++++++++++++++++++++++++++
 16 files changed, 323 insertions(+), 321 deletions(-)

commit 7ef4c27
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jun 8 06:32:15 2001 +0000

    Immidiate sharing now /works/ (shaved off two pr_globals from CustomTF, too:).
    Detect assignments to initialized globals and give an error, unless the --cow
    (copy on write) option is given, and then allocate a new global for the var,
    clear its initialized flag.
    Relocate all globals.

 tools/qfcc/include/qfcc.h   |    8 +++++++
 tools/qfcc/source/pr_comp.c |   16 ++++++++++++--
 tools/qfcc/source/pr_def.c  |   45 +++++++++++++++++++++++++++++++++++++++
 tools/qfcc/source/pr_imm.c  |   15 ++++++++++---
 tools/qfcc/source/qfcc.c    |   49 +++++++++++++++++++++++++++++--------------
 5 files changed, 112 insertions(+), 21 deletions(-)

commit 5ffc8e5
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jun 8 04:38:00 2001 +0000

    fix the incorrectly displaying net plug

 nq/source/cl_screen.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit b9f3528
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jun 8 02:47:30 2001 +0000

    make dist fixes + a --disable-asmopt fix for mingw

 include/QF/plugin/Makefile.am  |    2 +-
 libs/video/targets/Makefile.am |    1 +
 nq/source/Makefile.am          |    2 +-
 nq/source/sys_win.c            |    2 +-
 qw/source/Makefile.am          |    3 ++-
 5 files changed, 6 insertions(+), 4 deletions(-)

commit c24a6f7
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jun 8 00:27:41 2001 +0000

    make make changelog work in an external buildtree

 Makefile.am |    5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

commit 8656eb9
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jun 8 00:18:53 2001 +0000

    add ChangeLog

 tools/qfcc/.gitignore |    1 +
 1 file changed, 1 insertion(+)

commit ef99ad2
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jun 8 00:14:11 2001 +0000

    const merge testing. qfcc is currently borked in that dept.

 tools/qwaq/main.c  |    4 ++--
 tools/qwaq/main.qc |   10 +++++++++-
 2 files changed, 11 insertions(+), 3 deletions(-)

commit 62c783f
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jun 8 00:13:06 2001 +0000

    eval_t is no more: too many evil casts involved in using it (which can result
    it bad code being generated by gcc).

 include/QF/progs.h       |   14 ++----------
 libs/gamecode/pr_edict.c |   57 +++++++++++++++++++++++-----------------------
 nq/source/sv_main.c      |    4 ++--
 nq/source/sv_phys.c      |    6 ++---
 qw/source/sv_send.c      |   10 ++++----
 qw/source/sv_user.c      |    6 ++---
 6 files changed, 43 insertions(+), 54 deletions(-)

commit 05cf89d
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jun 8 00:11:54 2001 +0000

    make progs type checking optional at configure time. still defaults to on.

 acconfig.h            |    3 +++
 configure.in          |    6 ++++++
 nq/include/sv_progs.h |    2 +-
 qw/include/sv_progs.h |    2 +-
 4 files changed, 11 insertions(+), 2 deletions(-)

commit b2cd7c6
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jun 7 23:03:10 2001 +0000

    refine the test for compiling outb

 libs/video/targets/vid_svgalib.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 3009d0e
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jun 7 22:15:37 2001 +0000

    fix up some overzelous s///

 libs/gamecode/pr_exec.c |   35 +++++++++++++++++------------------
 1 file changed, 17 insertions(+), 18 deletions(-)

commit 521b86f
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jun 7 21:59:24 2001 +0000

    Massive clean up of progs accessors. Just the cleanup of the casts fixed the
    CustomTF doors issue.

 libs/gamecode/pr_exec.c |  362 +++++++++++++++++++++++------------------------
 1 file changed, 176 insertions(+), 186 deletions(-)

commit 2fa5437
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jun 7 17:11:34 2001 +0000

    correct a comment

 libs/util/quakefs.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 3b2cf03
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jun 7 16:44:22 2001 +0000

    mingw compile fixes (vid_wgl.c isn't the right thing)

 libs/audio/cd/cd_win.c       |    2 ++
 libs/video/targets/vid_wgl.c |    2 +-
 2 files changed, 3 insertions(+), 1 deletion(-)

commit e9c0187
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jun 7 16:12:21 2001 +0000

    provide outb for when not optimising

 libs/video/targets/vid_svgalib.c |    8 ++++++++
 1 file changed, 8 insertions(+)

commit 8cbf3b2
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jun 7 06:55:03 2001 +0000

    --disable-sdl

 configure.in |   16 +++++++++++-----
 1 file changed, 11 insertions(+), 5 deletions(-)

commit ab9e025
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jun 7 03:37:05 2001 +0000

    don't build cd or sound libs/plugins when not building clients

 configure.in                   |    9 ++++++---
 libs/audio/Makefile.am         |    3 ++-
 libs/audio/cd/Makefile.am      |    4 ++--
 libs/audio/targets/Makefile.am |    4 ++--
 4 files changed, 12 insertions(+), 8 deletions(-)

commit 6abc7e7
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jun 7 01:28:27 2001 +0000

    don't build cd and sound libs when not building clients

 configure.in |    7 ++++++-
 1 file changed, 6 insertions(+), 1 deletion(-)

commit bddf706
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jun 6 21:30:58 2001 +0000

    might as well return the result of the main in the progs

 tools/qwaq/main.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit e349ed3
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jun 6 20:05:08 2001 +0000

    implement file io for qwaq (and cat in qc }:> )

 tools/qwaq/builtins.c |   94 +++++++++++++++++++++++++++++++++++++++++++++++--
 tools/qwaq/defs.qc    |    9 +++++
 tools/qwaq/main.c     |    9 +++--
 tools/qwaq/main.qc    |   41 +++++++++------------
 4 files changed, 124 insertions(+), 29 deletions(-)

commit 2bc94ea
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jun 6 18:10:47 2001 +0000

    progs.h:
    	add no_exec_limit field. Set to 1 to disable the runaway loop check
    	for unlimited runs (eg, in qwaq)
    pr_exec.c:
    	don't bother checking the profile counter if pr->no_exec_limit is set
    pr_strings.c:
    	free unreferenced dynamic strings rather than referenced.

 include/QF/progs.h         |    2 ++
 libs/gamecode/pr_exec.c    |    5 ++---
 libs/gamecode/pr_strings.c |    2 +-
 3 files changed, 5 insertions(+), 4 deletions(-)

commit 22f465d
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jun 6 16:10:28 2001 +0000

    use field_offset to hide the nastyness

 libs/util/hash.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit b130da8
Author: Joseph Carter <knghtbrd@debian.org>
Date:   Wed Jun 6 15:18:52 2001 +0000

    It's 2001 now  ;)

 doc/template.h |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 3d566d4
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jun 6 00:38:24 2001 +0000

    more testing

 tools/qwaq/main.qc |    1 +
 1 file changed, 1 insertion(+)

commit 37661f3
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jun 6 00:38:05 2001 +0000

    allow NUM_FOR_EDICT to work with a null edict no matter what (hopefully not a
    bad thing)

 libs/gamecode/pr_edict.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 867260d
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jun 6 00:34:35 2001 +0000

    report the size of the locals pool

 tools/qfcc/source/qfcc.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit c3cdfce
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jun 6 00:12:10 2001 +0000

    don't bother writing out local defs as they mess up progs dumping now that
    they overlap

 tools/qfcc/source/qfcc.c |    2 ++
 1 file changed, 2 insertions(+)

commit ce014fc
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jun 5 23:57:51 2001 +0000

    use memcpy instead of ugly casts to transfer locals

 libs/gamecode/pr_exec.c |   23 +++++++++++------------
 1 file changed, 11 insertions(+), 12 deletions(-)

commit 1e6d69e
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jun 5 23:53:55 2001 +0000

    main.c:
    	allow dumping to work with entities
    main.qc:
    	more tests

 tools/qwaq/main.c  |   13 +++++++++++++
 tools/qwaq/main.qc |   13 +++++++++++++
 2 files changed, 26 insertions(+)

commit d86ed9a
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jun 5 23:52:34 2001 +0000

    relocate the locals defs as well as their references

 tools/qfcc/source/qfcc.c |    1 +
 1 file changed, 1 insertion(+)

commit 735a35b
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jun 5 17:23:03 2001 +0000

    compile fixes from Artur Frysiak <wiget@pld.org.pl>

 configure.in                       |    2 +-
 libs/models/Makefile.am            |    1 +
 libs/models/alias/Makefile.am      |    1 +
 libs/models/brush/Makefile.am      |    1 +
 libs/models/sprite/Makefile.am     |    1 +
 libs/video/renderer/gl/Makefile.am |    1 +
 nq/source/Makefile.am              |    4 ++++
 qw/source/Makefile.am              |    4 ++++
 qw/source/net_udp6.c               |    2 ++
 9 files changed, 16 insertions(+), 1 deletion(-)

commit 4a0d453
Author: Joseph Carter <knghtbrd@debian.org>
Date:   Tue Jun 5 08:39:27 2001 +0000

    The gfx.wad error is now idiotproof!

 include/QF/vfs.h |    1 +
 libs/util/wad.c  |   13 ++++++++++++-
 2 files changed, 13 insertions(+), 1 deletion(-)

commit bbb37d0
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jun 5 08:09:12 2001 +0000

    customTF is now down to 4989 pr_globals. all parameters, local veriables and
    termporary variables sit in one pool of memory (at the end of the globals)
    thus drasticly reducing globals requirements. This works because the whole
    lot is declared to be in the function's local variable space which is copied
    to the locals stack in the progs engine.

 tools/qfcc/include/qfcc.h     |   15 ++++++++++--
 tools/qfcc/source/pr_comp.c   |   19 +++++++--------
 tools/qfcc/source/pr_def.c    |   28 +++++++++++-----------
 tools/qfcc/source/pr_opcode.c |   15 ++++++++++++
 tools/qfcc/source/qfcc.c      |   52 ++++++++++++++++++++++++++++++++++++++++-
 5 files changed, 100 insertions(+), 29 deletions(-)

commit a26f799
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jun 5 05:22:11 2001 +0000

    allocate temps based on size rather than type (get better re-usage this way)
    put temps onto the local scope.

 tools/qfcc/include/qfcc.h     |    2 +-
 tools/qfcc/source/pr_comp.c   |   10 ++++++++
 tools/qfcc/source/pr_def.c    |   55 +++++++++++++++++++++--------------------
 tools/qfcc/source/pr_opcode.c |    2 +-
 4 files changed, 40 insertions(+), 29 deletions(-)

commit 17e19f3
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jun 4 22:35:54 2001 +0000

    regain about 5000 globals for customTF, but this fixes possible breakage with
    premature temp var re-usage (ie, it puts the temps back into the locals space).

 tools/qfcc/include/qfcc.h   |    1 +
 tools/qfcc/source/pr_comp.c |    1 +
 tools/qfcc/source/pr_def.c  |   15 +++++++++++++++
 3 files changed, 17 insertions(+)

commit 55d58f8
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jun 4 18:33:50 2001 +0000

    ignore .vimrc

 tools/qfcc/include/.gitignore |    1 +
 1 file changed, 1 insertion(+)

commit 42c880a
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jun 4 18:33:32 2001 +0000

    formatting cleanup

 tools/qfcc/include/qfcc.h |  464 ++++++++++++++++++++++++---------------------
 1 file changed, 253 insertions(+), 211 deletions(-)

commit 1b930b7
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jun 4 18:20:14 2001 +0000

    execute qfcc on completion for that one stop shopping experience

 tools/qfpreqcc/qfpreqcc |    2 ++
 1 file changed, 2 insertions(+)

commit e090f3c
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jun 4 17:52:50 2001 +0000

    do proper temp def handling so we don'e use any where near as many defs for
    temporary variables (customTF went from 35941 to 12587 pr_globals).

 tools/qfcc/include/qfcc.h     |    2 +
 tools/qfcc/source/pr_comp.c   |  133 +++++++++++++++++++++--------------------
 tools/qfcc/source/pr_def.c    |   34 +++++++++++
 tools/qfcc/source/pr_opcode.c |    7 +--
 4 files changed, 106 insertions(+), 70 deletions(-)

commit 8c92504
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jun 4 17:51:39 2001 +0000

    add a sentinal `type' for type counting purposes

 include/QF/pr_comp.h |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 53e9fb6
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jun 4 05:45:51 2001 +0000

    prepare PR_Statement for proper temporary usage

 tools/qfcc/source/pr_def.c    |    9 ++++++---
 tools/qfcc/source/pr_opcode.c |    4 +---
 2 files changed, 7 insertions(+), 6 deletions(-)

commit e339e82
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jun 4 04:52:14 2001 +0000

    hash.h is now const correct as is a lot of qfcc

 include/QF/hash.h             |    4 ++--
 libs/gamecode/pr_edict.c      |    4 ++--
 libs/gamecode/pr_strings.c    |    2 +-
 libs/util/cmd.c               |    4 ++--
 libs/util/cvar.c              |    4 ++--
 libs/util/hash.c              |    2 +-
 libs/util/quakefs.c           |    2 +-
 nq/source/skin.c              |    2 +-
 qw/source/skin.c              |    2 +-
 tools/qfcc/include/qfcc.h     |   18 +++++++++---------
 tools/qfcc/source/pr_comp.c   |    2 +-
 tools/qfcc/source/pr_def.c    |    4 ++--
 tools/qfcc/source/pr_imm.c    |    6 +++---
 tools/qfcc/source/pr_lex.c    |    6 +++---
 tools/qfcc/source/pr_opcode.c |    2 +-
 tools/qfcc/source/qfcc.c      |    6 +++---
 tools/qwaq/main.qc            |    5 +++++
 17 files changed, 40 insertions(+), 35 deletions(-)

commit 4aa47d7
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jun 4 03:57:15 2001 +0000

    use the correct STORE_ op for function arges, rather than STORE_V. Should
    speed up progs in general.

 tools/qfcc/source/pr_comp.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 275e741
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jun 4 03:36:35 2001 +0000

    string comparison operators

 include/QF/pr_comp.h          |    4 ++++
 libs/gamecode/pr_edict.c      |    4 ++++
 libs/gamecode/pr_exec.c       |   30 ++++++++++++++++++++++--------
 tools/qfcc/source/pr_opcode.c |    4 ++++
 tools/qwaq/main.qc            |    5 +++++
 5 files changed, 39 insertions(+), 8 deletions(-)

commit 7178824
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jun 4 02:49:59 2001 +0000

    put ADD_S up where it belongs :)

 tools/qfcc/source/pr_opcode.c |    3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit ddcd172
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Jun 4 02:41:45 2001 +0000

    re-write the opcode selection to be a hash table lookup and statment generation
    to get the opcode from the table record rather than the location within the
    table (ewww). gives a nice speed boost /and/ makes the opcode table easier to
    maintain.

 tools/qfcc/include/qfcc.h     |   21 +++-
 tools/qfcc/source/Makefile.am |    2 +-
 tools/qfcc/source/pr_comp.c   |  231 ++++++----------------------------
 tools/qfcc/source/pr_opcode.c |  277 +++++++++++++++++++++++++++++++++++++++++
 tools/qfcc/source/qfcc.c      |    8 +-
 5 files changed, 340 insertions(+), 199 deletions(-)

commit bd4abba
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jun 3 19:32:50 2001 +0000

    give the opcodes a type

 include/QF/pr_comp.h |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 09118bc
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jun 3 17:36:49 2001 +0000

    pr_comp.h:
    	add OP_ADD_S. WARNING!!! this /will/ move.
    progs.h:
    	add prototype for PR_PrintStatement
    pr_edict.c:
    	add OP_ADD_S support in the progs checker
    pr_exec.c:
    	implement OP_ADD_S
    tools/qfcc/include/.gitignore:
    	add config.h.in
    qfcc.h:
    	nuke PR_NameImmediate and change PR_ParseImmediate's prototype (see
    	pr_imm.c)
    pr_comp.c:
    	add ADD_S, adjust for PR_ParseImmediate's prototype, make
    	PR_ParseExpression work with non-sequential opcodes (slow, will work on
    	that next). Fix up initialised global parsing.
    pr_imm.c:
    	nuke PR_NameImmediate. didn't work well and wasn't such a good idea anyway.
    	PR_ParseImmediate now accepts a def_t * arg. if null, will allocate a
    	new global def, otherwise it will initialize the def passed in.
    qwaq/main.c:
    	sports some debugging code (dumps info about the progs it's running)
    qwaq/main.qc:
    	better ADD_S testing

 include/QF/pr_comp.h          |    4 ++-
 include/QF/progs.h            |    1 +
 libs/gamecode/pr_edict.c      |    1 +
 libs/gamecode/pr_exec.c       |   20 +++++++++++++--
 tools/qfcc/include/.gitignore |    1 +
 tools/qfcc/include/qfcc.h     |    3 +--
 tools/qfcc/source/pr_comp.c   |   17 ++++++-------
 tools/qfcc/source/pr_imm.c    |   54 +++++++----------------------------------
 tools/qwaq/main.c             |   28 +++++++++++++++++++++
 tools/qwaq/main.qc            |    4 ++-
 10 files changed, 73 insertions(+), 60 deletions(-)

commit 0ca5fc0
Author: Chris Ison <cisos@bigpond.net.au>
Date:   Sun Jun 3 12:15:06 2001 +0000

    just some tidy up, thanx Deek

 libs/video/targets/vid_3dfxsvga.c |   23 ++++++++++++-----------
 1 file changed, 12 insertions(+), 11 deletions(-)

commit f7f6c46
Author: Adam Olsen <rhamph@gmail.com>
Date:   Sun Jun 3 05:58:01 2001 +0000

    change void to static void, so it compiles for me

 libs/audio/cd.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d4df665
Author: Adam Olsen <rhamph@gmail.com>
Date:   Sun Jun 3 05:54:43 2001 +0000

    Add ED_FreeRefs, which searches for references to an entity.  Not used yet.

 libs/gamecode/pr_edict.c |   30 ++++++++++++++++++++++++++++++
 1 file changed, 30 insertions(+)

commit b60efa5
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Sun Jun 3 04:52:36 2001 +0000

    Bunch of changes. Project has been almost completely rewritten, and now
    compiles. The rest are just the results of a simple conversion script I
    wrote.

 tools/Forge/Headers/Brush.h          |    8 +-
 tools/Forge/Headers/Project.h        |  129 ++++-----
 tools/Forge/Headers/TexturePalette.h |   66 ++---
 tools/Forge/Project.m                |  521 ++++++++++++++--------------------
 tools/Forge/XYView.m                 |  132 ++++-----
 tools/Forge/ZScrollView.m            |    6 +-
 tools/Forge/ZView.m                  |   94 +++---
 tools/Forge/misc.m                   |   10 +-
 8 files changed, 428 insertions(+), 538 deletions(-)

commit 4c8f84a
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Jun 3 01:28:11 2001 +0000

    fix for CustomTF menu truncation

 qw/source/sv_pr_cmds.c |   17 +++++++++--------
 1 file changed, 9 insertions(+), 8 deletions(-)

commit 9c911ed
Author: Timothy C. McGrath <tmhikaru@gmail.com>
Date:   Sun Jun 3 00:03:41 2001 +0000

    gl_lightmode is dead, removed that from the config file. New
    benchmarking information, about 1 fps faster from the last time I
    updated cvs. (And this is with DRI being 5 fps SLOWER than last time I
    updated.)
    
    Misty

 doc/config/glspeed-v1.cfg |    5 +----
 doc/config/glspeed-v3.cfg |    8 ++------
 2 files changed, 3 insertions(+), 10 deletions(-)

commit 652069d
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jun 2 23:29:41 2001 +0000

    This one's for Mercury :) (cvar control of pmodel and emodel)

 qw/include/client.h  |    2 ++
 qw/source/cl_main.c  |    6 ++++++
 qw/source/cl_parse.c |    2 +-
 3 files changed, 9 insertions(+), 1 deletion(-)

commit a079682
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jun 2 22:20:34 2001 +0000

    Back out Mercury's removal of emodel and pmodel. They are /required/ by some
    servers.

 qw/source/cl_main.c  |    9 +++++++++
 qw/source/cl_parse.c |    7 +++++++
 2 files changed, 16 insertions(+)

commit 380dcf5
Author: Zephaniah E. Hull <warp@babylon.d2dc.net>
Date:   Sat Jun 2 20:39:54 2001 +0000

    Some gl_draw cleanups for glpic.
    Some sbar cleanups (still broken, suspect driver issues.).
    Removal of pmodel and emodel infokeys, waste of info space.
    For servers allow people downloading to hear people talking.

 libs/video/renderer/gl/gl_draw.c |   43 +++++++++++++-------------------------
 qw/source/cl_main.c              |    9 --------
 qw/source/cl_parse.c             |    7 -------
 qw/source/sbar.c                 |   33 ++++++++++++++---------------
 qw/source/sv_user.c              |    2 +-
 5 files changed, 31 insertions(+), 63 deletions(-)

commit 3f47a8d
Author: Chris Ison <cisos@bigpond.net.au>
Date:   Sat Jun 2 11:17:08 2001 +0000

    -3dfx brightness changed int to float

 libs/video/targets/vid_3dfxsvga.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 903482c
Author: Chris Ison <cisos@bigpond.net.au>
Date:   Sat Jun 2 10:43:38 2001 +0000

    -3dfx brightness +setrom tdfx_brighten #, 2 with gamma 2 is nice

 libs/video/targets/vid_3dfxsvga.c |   26 ++++++++++++++++++++++++++
 1 file changed, 26 insertions(+)

commit 4826c5d
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sat Jun 2 06:51:58 2001 +0000

    Change shm init to PROT_WRITE, instead of PROT_READ | PROT_WRITE.
    This is required for mmap to succeed on my system. YMMV.
    May cause a problem with incomplete shutdown.

 libs/audio/targets/snd_oss.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 297f7c0
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jun 2 05:23:00 2001 +0000

    this shouldn't be here

 tools/qfcc/include/config.h.in |   20 --------------------
 1 file changed, 20 deletions(-)

commit 88d5369
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jun 2 04:36:42 2001 +0000

    move the creation of the cd command to cd.c

 libs/audio/cd.c          |   47 ++++++++++++++++++++++++++++++----------------
 libs/audio/cd/cd_linux.c |   18 +-----------------
 libs/audio/cd/cd_sdl.c   |   14 --------------
 libs/audio/cd/cd_sgi.c   |   14 --------------
 libs/audio/cd/cd_win.c   |   16 ----------------
 5 files changed, 32 insertions(+), 77 deletions(-)

commit 28638a9
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sat Jun 2 04:35:16 2001 +0000

    Remove merge ghosts. Aren't there for Taniwha. cvs quirks, whee.

 qw/source/gl_dyn_part.c |  757 -----------------------------------------------
 qw/source/sw_rpart.c    |  601 -------------------------------------
 2 files changed, 1358 deletions(-)

commit 25b0298
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Jun 2 03:37:06 2001 +0000

    fix nested else statements

 tools/qfpreqcc/qfpreqcc |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 85333a9
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Fri Jun 1 22:55:33 2001 +0000

    Convert cd audio libs to plugins. Windows untested, dos and sgi not converted yet.

 configure.in                      |   74 ++++-----
 include/QF/plugin.h               |    4 +
 include/QF/plugin/cd.h            |   56 +++++++
 libs/audio/Makefile.am            |   11 +-
 libs/audio/cd.c                   |  102 ++++++++++++
 libs/audio/cd/Makefile.am         |   62 ++++----
 libs/audio/cd/cd_dos.c            |    1 +
 libs/audio/cd/cd_linux.c          |  196 +++++++++++++----------
 libs/audio/cd/cd_null.c           |   61 ++++++--
 libs/audio/cd/cd_sdl.c            |  258 +++++++++++++++++-------------
 libs/audio/cd/cd_sgi.c            |  109 ++++++-------
 libs/audio/cd/cd_win.c            |  311 +++++++++++++++++++++----------------
 libs/audio/targets/snd_alsa_0_9.c |    3 +-
 nq/source/Makefile.am             |    2 +-
 qw/source/Makefile.am             |    2 +-
 15 files changed, 783 insertions(+), 469 deletions(-)

commit 02003cf
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jun 1 22:05:36 2001 +0000

    build the progs automaticly

 tools/qwaq/Makefile |    5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit 6c0791e
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jun 1 22:00:35 2001 +0000

    d'oh

 tools/qwaq/.gitignore |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit e3e4915
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jun 1 21:59:46 2001 +0000

    s/qctest/qwaq/ and update .gitignore

 tools/qwaq/.gitignore |    4 ++++
 tools/qwaq/Makefile   |    2 +-
 tools/qwaq/main.c     |    6 +++---
 tools/qwaq/progs.src  |    2 +-
 4 files changed, 9 insertions(+), 5 deletions(-)

commit 8a23ae0
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jun 1 21:57:59 2001 +0000

    stand alone qc interpreter. So I'm on some serious qwaq :) (actuallly, its
    main purpose is language extention testing)

 tools/qwaq/.gitignore |    7 +++++++
 tools/qwaq/Makefile   |   26 +++++++++++++++++++++++++
 tools/qwaq/builtins.c |   31 ++++++++++++++++++++++++++++++
 tools/qwaq/defs.qc    |    8 ++++++++
 tools/qwaq/main.c     |   50 +++++++++++++++++++++++++++++++++++++++++++++++++
 tools/qwaq/main.qc    |    4 ++++
 tools/qwaq/progs.src  |    5 +++++
 7 files changed, 131 insertions(+)

commit e699f6e
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jun 1 21:14:50 2001 +0000

    if progsname is null, assume the progs are already loaded and just process
    the data.

 libs/gamecode/pr_edict.c |    5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit 7ad0f7e
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Jun 1 00:39:31 2001 +0000

    various compile fixes for mingw.

 libs/gib/gib.c               |    1 +
 libs/gib/gib_interpret.c     |    1 +
 libs/video/targets/vid_wgl.c |    7 +++----
 nq/source/sys_win.c          |    3 ++-
 qw/source/cl_sys_win.c       |    1 +
 qw/source/net_packetlog.c    |    1 +
 6 files changed, 9 insertions(+), 5 deletions(-)

commit 4620b8f
Author: Adam Olsen <rhamph@gmail.com>
Date:   Fri Jun 1 00:29:55 2001 +0000

    Add the cl_showscoresuid cvar I mentioned before

 qw/source/sbar.c |   24 +++++++++++++++++++-----
 1 file changed, 19 insertions(+), 5 deletions(-)

commit a187032
Author: Adam Olsen <rhamph@gmail.com>
Date:   Fri Jun 1 00:12:25 2001 +0000

    add #include "QF/cvar.h" for snd_alsa_0_5.c

 libs/audio/targets/snd_alsa_0_5.c |    1 +
 1 file changed, 1 insertion(+)

commit 06064ec
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 31 18:11:05 2001 +0000

    compat.h:
    	create a field_offset macro that takes a structure type and a field and
    	returns the offset of the field within the structure
    everything else:
    	use field_offset to calculate the size of variable sized structs

 include/compat.h                     |    3 +++
 libs/models/alias/model_alias.c      |    2 +-
 libs/models/alias/sw_model_alias.c   |   11 ++++++-----
 libs/models/brush/model_brush.c      |    1 -
 libs/models/model.c                  |   16 ++++++++++------
 libs/models/sprite/model_sprite.c    |   11 +++++------
 libs/models/sprite/sw_model_sprite.c |    1 -
 libs/util/pcx.c                      |    4 +++-
 libs/video/renderer/gl/gl_screen.c   |    4 ++--
 libs/video/renderer/sw/screen.c      |    2 +-
 nq/source/skin.c                     |    2 +-
 qw/source/skin.c                     |    2 +-
 12 files changed, 33 insertions(+), 26 deletions(-)

commit d2a4faa
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 31 15:38:08 2001 +0000

    oops :) (packet log fixes: segs aren't nice)

 qw/include/net.h        |    2 ++
 qw/source/cl_main.c     |    9 +++------
 qw/source/cl_sys_unix.c |   12 ++++--------
 qw/source/cl_sys_win.c  |   14 +++++++-------
 qw/source/sv_main.c     |    4 +---
 qw/source/sv_sys_unix.c |    4 +---
 qw/source/sv_sys_win.c  |    4 +---
 7 files changed, 19 insertions(+), 30 deletions(-)

commit ced128e
Author: Chris Ison <cisos@bigpond.net.au>
Date:   Thu May 31 11:41:22 2001 +0000

    fixed #includes in vid_3dfxsvga.c

 libs/video/targets/vid_3dfxsvga.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 8280195
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 31 05:40:25 2001 +0000

    /me mutters something about old installed headers and search paths

 include/glquake.h             |    3 ++-
 include/varrays.h             |    2 --
 libs/video/targets/qfgl_ext.c |    3 ++-
 3 files changed, 4 insertions(+), 4 deletions(-)

commit 323015b
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 31 05:33:13 2001 +0000

    include/QF header cleanup. including config.h (or any file from include) is
    a nono because headers in include/QF get installed, but include don't and thus
    would break quakeforge-dev.

 configure.in                         |   13 -
 include/Makefile.am                  |   14 +-
 include/QF/Makefile.am               |    6 +-
 include/QF/asm_i386.h                |  106 -----
 include/QF/compat.h                  |   91 ----
 include/QF/info.h                    |    4 -
 include/QF/qfgl_ext.h                |  260 -----------
 include/QF/qtypes.h                  |    3 -
 include/QF/texture.h                 |    6 +-
 include/QF/va.h                      |    4 -
 include/QF/varrays.h                 |   66 ---
 include/QF/ver_check.h               |    4 -
 include/QF/vfile.h                   |   15 +-
 include/QF/wad.h                     |    3 +-
 include/asm_i386.h                   |  106 +++++
 include/compat.h                     |   91 ++++
 include/qfgl_ext.h                   |  260 +++++++++++
 include/varrays.h                    |   66 +++
 libs/audio/cd/cd_linux.c             |    2 +-
 libs/audio/cd/cd_sdl.c               |    2 +-
 libs/audio/cd/cd_win.c               |    2 +-
 libs/audio/targets/snd_mix.c         |    2 +-
 libs/audio/targets/snd_mixa.S        |    2 +-
 libs/gamecode/pr_edict.c             |    2 +-
 libs/gamecode/pr_exec.c              |    2 +-
 libs/models/alias/gl_mesh.c          |    2 +-
 libs/models/alias/gl_model_alias.c   |    2 +-
 libs/models/alias/model_alias.c      |    2 +-
 libs/models/brush/gl_model_brush.c   |    2 +-
 libs/models/brush/model_brush.c      |    2 +-
 libs/models/sprite/gl_model_sprite.c |    2 +-
 libs/util/cmd.c                      |    2 +-
 libs/util/console.c                  |    2 +-
 libs/util/cvar.c                     |    2 +-
 libs/util/hash.c                     |    2 +-
 libs/util/info.c                     |    2 +-
 libs/util/math.S                     |    2 +-
 libs/util/quakefs.c                  |    2 +-
 libs/util/quakeio.c                  |   11 +
 libs/util/sys.c                      |    2 +-
 libs/util/sys_error.c                |    2 +-
 libs/util/va.c                       |    2 +-
 libs/video/renderer/gl/gl_dyn_part.c |    4 +-
 libs/video/renderer/gl/gl_rmain.c    |    2 +-
 libs/video/renderer/gl/gl_rmisc.c    |    2 +-
 libs/video/renderer/gl/gl_rsurf.c    |    2 +-
 libs/video/renderer/gl/gl_screen.c   |    2 +-
 libs/video/renderer/gl/gl_skin.c     |    2 +-
 libs/video/renderer/gl/gl_sky.c      |    2 +-
 libs/video/renderer/gl/gl_textures.c |    2 +-
 libs/video/renderer/r_cvar.c         |   36 ++
 libs/video/renderer/r_part.c         |    2 +-
 libs/video/renderer/sw/d_draw.S      |    2 +-
 libs/video/renderer/sw/d_draw16.S    |    2 +-
 libs/video/renderer/sw/d_init.c      |    2 +-
 libs/video/renderer/sw/d_parta.S     |    2 +-
 libs/video/renderer/sw/d_polysa.S    |    2 +-
 libs/video/renderer/sw/d_scana.S     |    2 +-
 libs/video/renderer/sw/d_spr8.S      |    2 +-
 libs/video/renderer/sw/d_varsa.S     |    2 +-
 libs/video/renderer/sw/screen.c      |    2 +-
 libs/video/renderer/sw/surf16.S      |    2 +-
 libs/video/renderer/sw/surf8.S       |    2 +-
 libs/video/renderer/sw/sw_raclipa.S  |    2 +-
 libs/video/renderer/sw/sw_raliasa.S  |    2 +-
 libs/video/renderer/sw/sw_rdrawa.S   |    2 +-
 libs/video/renderer/sw/sw_redgea.S   |    2 +-
 libs/video/renderer/sw/sw_rmisc.c    |    2 +-
 libs/video/renderer/sw/sw_rpart.c    |    2 +-
 libs/video/renderer/sw/sw_rvarsa.S   |    2 +-
 libs/video/renderer/sw/sw_skin.c     |    2 +-
 libs/video/renderer/sw/transform.S   |    2 +-
 libs/video/targets/d_copy.S          |    2 +-
 libs/video/targets/in_sdl.c          |    2 +-
 libs/video/targets/in_svgalib.c      |    2 +-
 libs/video/targets/in_win.c          |    2 +-
 libs/video/targets/in_x11.c          |    2 +-
 libs/video/targets/joy.c             |    2 +-
 libs/video/targets/joy_win.c         |    2 +-
 libs/video/targets/vid.c             |    2 +-
 libs/video/targets/vid_3dfxsvga.c    |    4 +-
 libs/video/targets/vid_common_gl.c   |    4 +-
 libs/video/targets/vid_glx.c         |    2 +-
 libs/video/targets/vid_sdl.c         |    2 +-
 libs/video/targets/vid_sgl.c         |    2 +-
 libs/video/targets/vid_svgalib.c     |    2 +-
 libs/video/targets/vid_wgl.c         |    2 +-
 libs/video/targets/vid_x11.c         |    2 +-
 nq/source/cl_demo.c                  |    2 +-
 nq/source/cl_input.c                 |    2 +-
 nq/source/cl_main.c                  |    2 +-
 nq/source/console.c                  |    2 +-
 nq/source/dosasm.S                   |    2 +-
 nq/source/gl_view.c                  |    2 +-
 nq/source/host.c                     |    2 +-
 nq/source/host_cmd.c                 |    2 +-
 nq/source/host_skin.c                |    2 +-
 nq/source/keys.c                     |    2 +-
 nq/source/locs.c                     |    2 +-
 nq/source/net_udp.c                  |    2 +-
 nq/source/pr_cmds.c                  |    2 +-
 nq/source/r_view.c                   |    2 +-
 nq/source/sbar.c                     |    2 +-
 nq/source/skin.c                     |    2 +-
 nq/source/surf16.S                   |  179 --------
 nq/source/surf8.S                    |  791 ----------------------------------
 nq/source/sv_main.c                  |    2 +-
 nq/source/sw_view.c                  |    2 +-
 nq/source/sys_ia32.S                 |    2 +-
 nq/source/sys_win.c                  |    2 +-
 nq/source/worlda.S                   |    2 +-
 qw/source/cl_cam.c                   |    2 +-
 qw/source/cl_demo.c                  |    2 +-
 qw/source/cl_ents.c                  |    2 +-
 qw/source/cl_input.c                 |    2 +-
 qw/source/cl_main.c                  |    2 +-
 qw/source/cl_misc.c                  |    2 +-
 qw/source/cl_ngraph.c                |    2 +-
 qw/source/cl_parse.c                 |    2 +-
 qw/source/cl_skin.c                  |    2 +-
 qw/source/cl_sys_win.c               |    2 +-
 qw/source/console.c                  |    2 +-
 qw/source/gl_view.c                  |    2 +-
 qw/source/keys.c                     |    2 +-
 qw/source/locs.c                     |    2 +-
 qw/source/net_chan.c                 |    2 +-
 qw/source/net_packetlog.c            |   28 +-
 qw/source/net_udp.c                  |    2 +-
 qw/source/pmove.c                    |    2 +-
 qw/source/pmovetst.c                 |    2 +-
 qw/source/r_view.c                   |    2 +-
 qw/source/sbar.c                     |    2 +-
 qw/source/skin.c                     |    2 +-
 qw/source/surf16.S                   |  179 --------
 qw/source/surf8.S                    |  791 ----------------------------------
 qw/source/sv_ccmds.c                 |    2 +-
 qw/source/sv_ents.c                  |    2 +-
 qw/source/sv_init.c                  |    2 +-
 qw/source/sv_main.c                  |    2 +-
 qw/source/sv_pr_cmds.c               |    2 +-
 qw/source/sv_progs.c                 |    2 +-
 qw/source/sv_send.c                  |    2 +-
 qw/source/sv_sys_win.c               |    2 +-
 qw/source/sv_user.c                  |    2 +-
 qw/source/sw_view.c                  |    2 +-
 qw/source/sys_win.c                  |    2 +-
 qw/source/sys_x86.S                  |    2 +-
 qw/source/teamplay.c                 |    2 +-
 qw/source/worlda.S                   |    2 +-
 149 files changed, 726 insertions(+), 2661 deletions(-)

commit 6bf58ab
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 31 03:41:35 2001 +0000

    no header includes cvar.h now

 include/QF/input.h                    |   12 ++-
 include/QF/plugin.h                   |    2 +-
 include/QF/render.h                   |    1 -
 include/QF/screen.h                   |    9 +-
 include/QF/sound.h                    |   19 ++---
 include/QF/teamplay.h                 |    6 +-
 include/QF/vfs.h                      |    7 +-
 include/glquake.h                     |  101 +++++++++++-----------
 include/r_cvar.h                      |  150 ++++++++++++++++-----------------
 include/r_local.h                     |    1 -
 include/view.h                        |    1 -
 libs/audio/snd.c                      |    2 +-
 libs/audio/snd_common.c               |    2 +-
 libs/audio/targets/snd_alsa_0_9.c     |    2 +-
 libs/audio/targets/snd_disk.c         |    1 +
 libs/audio/targets/snd_dma.c          |    1 +
 libs/audio/targets/snd_mem.c          |    1 +
 libs/audio/targets/snd_mix.c          |    1 +
 libs/audio/targets/snd_null.c         |    2 +-
 libs/audio/targets/snd_oss.c          |    1 +
 libs/util/plugin.c                    |    1 +
 libs/video/renderer/gl/gl_draw.c      |    1 +
 libs/video/renderer/gl/gl_dyn_fires.c |    1 +
 libs/video/renderer/gl/gl_dyn_part.c  |    1 +
 libs/video/renderer/gl/gl_rlight.c    |    1 +
 libs/video/renderer/gl/gl_rmain.c     |    1 +
 libs/video/renderer/gl/gl_rsurf.c     |    1 +
 libs/video/renderer/gl/gl_screen.c    |    1 +
 libs/video/renderer/gl/gl_skin.c      |    1 +
 libs/video/renderer/gl/gl_sky.c       |    1 +
 libs/video/renderer/gl/gl_textures.c  |    1 +
 libs/video/renderer/sw/d_edge.c       |    4 +-
 libs/video/renderer/sw/draw.c         |    1 +
 libs/video/renderer/sw/screen.c       |    1 +
 libs/video/renderer/sw/sw_graph.c     |    1 +
 libs/video/renderer/sw/sw_rmain.c     |    1 +
 libs/video/renderer/sw/sw_rmisc.c     |    1 +
 libs/video/renderer/sw/sw_rpart.c     |    1 +
 libs/video/targets/vid_common_gl.c    |    2 +
 libs/video/targets/vid_sgl.c          |    6 +-
 nq/include/chase.h                    |    2 +-
 nq/include/client.h                   |   45 +++++-----
 nq/include/game.h                     |    3 +-
 nq/include/host.h                     |    9 +-
 nq/include/net.h                      |   19 ++---
 nq/include/server.h                   |   48 +++++------
 nq/source/cl_cam.c                    |    1 +
 nq/source/cl_input.c                  |    1 +
 nq/source/cl_parse.c                  |    1 +
 nq/source/cl_screen.c                 |    1 +
 nq/source/console.c                   |    1 +
 nq/source/gl_view.c                   |    1 +
 nq/source/host.c                      |    1 +
 nq/source/host_cmd.c                  |   10 ++-
 nq/source/host_skin.c                 |    1 +
 nq/source/net_dgrm.c                  |    1 +
 nq/source/net_loop.c                  |    6 +-
 nq/source/net_main.c                  |    1 +
 nq/source/net_udp.c                   |    4 +-
 nq/source/pr_cmds.c                   |    1 +
 nq/source/r_view.c                    |    1 +
 nq/source/sbar.c                      |    1 +
 nq/source/skin.c                      |    1 +
 nq/source/sv_main.c                   |    5 +-
 nq/source/sv_phys.c                   |    6 +-
 nq/source/sv_progs.c                  |    3 +-
 nq/source/sv_user.c                   |    1 +
 nq/source/sw_view.c                   |    1 +
 qw/include/game.h                     |    3 +-
 qw/include/net.h                      |    3 +-
 qw/include/server.h                   |   22 ++---
 qw/source/cl_cam.c                    |    6 +-
 qw/source/cl_ents.c                   |    1 +
 qw/source/cl_input.c                  |   16 ++--
 qw/source/cl_ngraph.c                 |    1 +
 qw/source/cl_parse.c                  |    1 +
 qw/source/cl_screen.c                 |    1 +
 qw/source/cl_skin.c                   |    1 +
 qw/source/cl_slist.c                  |   10 ++-
 qw/source/console.c                   |    1 +
 qw/source/gl_view.c                   |    1 +
 qw/source/net_packetlog.c             |    1 +
 qw/source/sbar.c                      |    1 +
 qw/source/skin.c                      |    1 +
 qw/source/sv_ccmds.c                  |    8 +-
 qw/source/sv_main.c                   |    2 +
 qw/source/sv_pr_cmds.c                |    4 +-
 qw/source/sv_progs.c                  |    2 +
 qw/source/sv_send.c                   |    8 +-
 qw/source/sw_view.c                   |    1 +
 qw/source/teamplay.c                  |    1 +
 91 files changed, 344 insertions(+), 279 deletions(-)

commit a488af9
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 31 03:04:39 2001 +0000

    add a net_packetlog_zap command (those files can get big:)

 qw/source/net_packetlog.c |   25 +++++++++++++++++++++++--
 1 file changed, 23 insertions(+), 2 deletions(-)

commit 4babd97
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 31 02:43:48 2001 +0000

    nuke --enable-packetlog in favor of a net_packetlog cvar so packetlogging is
    always available. also change the packet log open mode from truncate to append.

 acconfig.h                |    3 ---
 configure.in              |   13 -------------
 qw/include/net.h          |    2 --
 qw/source/net_packetlog.c |   22 +++++++++++++++-------
 qw/source/net_udp.c       |   16 +++++++++-------
 5 files changed, 24 insertions(+), 32 deletions(-)

commit 889b9ce
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 30 23:44:21 2001 +0000

    try to dump the packet resulting in an overflow

 qw/source/net_packetlog.c |   15 +++++++++++++--
 qw/source/sv_send.c       |    3 +++
 2 files changed, 16 insertions(+), 2 deletions(-)

commit 940598f
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 30 20:56:53 2001 +0000

    merge pcx.c, tga.c and wad.c. util seemed the most logical place, but LoadPCX
    had to be modified to get away from vid.h (better designe now IMO anyway)

 include/QF/pcx.h      |    2 +-
 libs/util/Makefile.am |    6 +-
 libs/util/pcx.c       |  205 +++++++++++++++++++++++++++++++++++++++++
 libs/util/tga.c       |  244 +++++++++++++++++++++++++++++++++++++++++++++++++
 libs/util/wad.c       |  168 ++++++++++++++++++++++++++++++++++
 nq/source/Makefile.am |    4 +-
 nq/source/pcx.c       |  206 -----------------------------------------
 nq/source/skin.c      |    2 +-
 nq/source/tga.c       |  244 -------------------------------------------------
 nq/source/wad.c       |  162 --------------------------------
 qw/source/Makefile.am |    6 +-
 qw/source/pcx.c       |  206 -----------------------------------------
 qw/source/skin.c      |    2 +-
 qw/source/tga.c       |  244 -------------------------------------------------
 qw/source/wad.c       |  168 ----------------------------------
 15 files changed, 628 insertions(+), 1241 deletions(-)

commit 80be659
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 30 20:55:28 2001 +0000

    white space

 nq/source/r_view.c |   10 ++++------
 qw/source/r_view.c |   10 ++++------
 2 files changed, 8 insertions(+), 12 deletions(-)

commit de4ab28
Author: Adam Olsen <rhamph@gmail.com>
Date:   Wed May 30 18:50:17 2001 +0000

    re-add support for changing client port (use +set cl_port foo)

 qw/include/protocol.h |    2 +-
 qw/source/cl_main.c   |    6 +++++-
 2 files changed, 6 insertions(+), 2 deletions(-)

commit 8ca626d
Author: Adam Olsen <rhamph@gmail.com>
Date:   Wed May 30 18:35:19 2001 +0000

    add -export-dynamic to linker lines, so you can use sound plugins with static builds.

 nq/source/Makefile.am |   11 +++++++++++
 qw/source/Makefile.am |   11 +++++++++++
 2 files changed, 22 insertions(+)

commit d783029
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 30 05:38:17 2001 +0000

    more printf format attributes

 nq/include/host.h   |    7 ++++---
 nq/include/server.h |    4 ++--
 2 files changed, 6 insertions(+), 5 deletions(-)

commit 05adfd0
Author: Joseph Carter <knghtbrd@debian.org>
Date:   Wed May 30 04:34:06 2001 +0000

    quakefs.h -> vfs.h
    quakeio.h -> vfile.h
    
    More diff reduction between trunk and my VFS code.  Also took the time to
    put some headers in order and fix a few #include's pointed out by moving
    things around a bit.

 include/QF/Makefile.am               |    7 ++-
 include/QF/cvar.h                    |    2 +-
 include/QF/keys.h                    |    2 +-
 include/QF/pcx.h                     |    2 +-
 include/QF/progs.h                   |    2 +-
 include/QF/quakefs.h                 |   78 ----------------------------------
 include/QF/quakeio.h                 |   71 -------------------------------
 include/QF/tga.h                     |    1 +
 include/QF/vfile.h                   |   71 +++++++++++++++++++++++++++++++
 include/QF/vfs.h                     |   78 ++++++++++++++++++++++++++++++++++
 include/gib_modules.h                |    2 +-
 libs/audio/targets/snd_mem.c         |    2 +-
 libs/gamecode/pr_edict.c             |    2 +-
 libs/gib/gib.c                       |    2 +-
 libs/gib/gib_modules.c               |    2 +-
 libs/models/alias/gl_mesh.c          |    2 +-
 libs/models/alias/model_alias.c      |    2 +-
 libs/models/brush/gl_model_brush.c   |    2 +-
 libs/models/model.c                  |    2 +-
 libs/util/cmd.c                      |    2 +-
 libs/util/cvar.c                     |    1 +
 libs/util/quakefs.c                  |    2 +-
 libs/util/quakeio.c                  |    4 +-
 libs/video/renderer/gl/gl_draw.c     |    2 +-
 libs/video/renderer/gl/gl_dyn_part.c |    2 +-
 libs/video/renderer/gl/gl_rmisc.c    |    2 +-
 libs/video/renderer/gl/gl_screen.c   |    2 +-
 libs/video/renderer/gl/gl_sky.c      |    2 +-
 libs/video/renderer/sw/draw.c        |    2 +-
 libs/video/renderer/sw/screen.c      |    2 +-
 libs/video/renderer/sw/sw_rpart.c    |    2 +-
 libs/video/targets/vid_common_gl.c   |    2 +-
 libs/video/targets/vid_glx.c         |    1 -
 libs/video/targets/vid_wgl.c         |    2 +-
 nq/include/client.h                  |    2 +-
 nq/include/server.h                  |    2 +-
 nq/source/com.c                      |    6 +--
 nq/source/game.c                     |    2 +-
 nq/source/locs.c                     |    2 +-
 nq/source/net_main.c                 |    8 ++--
 nq/source/pcx.c                      |    2 +-
 nq/source/skin.c                     |    2 +-
 nq/source/sys_win.c                  |    4 +-
 nq/source/tga.c                      |    2 +-
 nq/source/wad.c                      |    2 +-
 qw/include/cl_slist.h                |    2 +-
 qw/include/client.h                  |    2 +-
 qw/include/server.h                  |    2 +-
 qw/source/cl_main.c                  |    5 ++-
 qw/source/cl_parse.c                 |    1 +
 qw/source/cl_slist.c                 |    2 +-
 qw/source/com.c                      |    2 +-
 qw/source/game.c                     |    2 +-
 qw/source/gl_dyn_part.c              |    3 +-
 qw/source/keys.c                     |    1 +
 qw/source/locs.c                     |    2 +-
 qw/source/net_packetlog.c            |    2 +-
 qw/source/pcx.c                      |    2 +-
 qw/source/skin.c                     |    2 +-
 qw/source/sv_ccmds.c                 |    2 +-
 qw/source/sv_init.c                  |    4 +-
 qw/source/sv_main.c                  |   16 +++----
 qw/source/sv_user.c                  |    8 ++--
 qw/source/sw_rpart.c                 |    2 +-
 qw/source/tga.c                      |    2 +-
 qw/source/wad.c                      |    2 +-
 66 files changed, 234 insertions(+), 228 deletions(-)

commit 186d577
Author: Joseph Carter <knghtbrd@debian.org>
Date:   Wed May 30 03:21:19 2001 +0000

    s/QFile/VFile/g - makes my diffs much smaller and more manageable for the
    VFS work.

 include/QF/cvar.h                    |    2 +-
 include/QF/keys.h                    |    2 +-
 include/QF/pcx.h                     |    2 +-
 include/QF/progs.h                   |    4 +-
 include/QF/quakefs.h                 |    8 +-
 include/QF/quakeio.h                 |   34 +-
 include/QF/tga.h                     |    2 +-
 include/gib_modules.h                |    4 +-
 libs/audio/targets/snd_disk.c        |    2 +-
 libs/audio/targets/snd_gus.c         |   20 +-
 libs/gamecode/pr_edict.c             |    4 +-
 libs/gib/gib.c                       |    2 +-
 libs/gib/gib_modules.c               |    4 +-
 libs/models/alias/gl_mesh.c          |    2 +-
 libs/util/cmd.c                      |    2 +-
 libs/util/cvar.c                     |    2 +-
 libs/util/quakefs.c                  |   24 +-
 libs/util/quakeio.c                  |   36 +-
 libs/video/renderer/gl/gl_dyn_part.c |    2 +-
 libs/video/renderer/gl/gl_sky.c      |    2 +-
 libs/video/renderer/sw/sw_rpart.c    |    2 +-
 libs/video/targets/vid_common_gl.c   |    2 +-
 nq/include/client.h                  |    4 +-
 nq/source/.indent.pro                |    2 +-
 nq/source/com.c                      |    2 +-
 nq/source/host.c                     |    6 +-
 nq/source/host_cmd.c                 |    8 +-
 nq/source/keys.c                     |    2 +-
 nq/source/locs.c                     |    4 +-
 nq/source/net_main.c                 |    2 +-
 nq/source/net_vcr.c                  |    2 +-
 nq/source/pcx.c                      |    2 +-
 nq/source/skin.c                     |    2 +-
 nq/source/sys_null.c                 |   12 +-
 nq/source/sys_sun.c                  |   10 +-
 nq/source/sys_win.c                  |    2 +-
 nq/source/sys_wind.c                 |   10 +-
 nq/source/tga.c                      |    6 +-
 qw/include/cl_slist.h                |    4 +-
 qw/include/client.h                  |    4 +-
 qw/include/server.h                  |    8 +-
 qw/source/.indent.pro                |    2 +-
 qw/source/cl_main.c                  |    4 +-
 qw/source/cl_parse.c                 |    2 +-
 qw/source/cl_slist.c                 |    8 +-
 qw/source/cl_sys_win.c               |    2 +-
 qw/source/com.c                      |    2 +-
 qw/source/gl_dyn_part.c              |  756 ++++++++++++++++++++++++++++++++++
 qw/source/keys.c                     |    2 +-
 qw/source/locs.c                     |    4 +-
 qw/source/net_packetlog.c            |    2 +-
 qw/source/pcx.c                      |    2 +-
 qw/source/skin.c                     |    2 +-
 qw/source/sv_ccmds.c                 |    2 +-
 qw/source/sv_main.c                  |    6 +-
 qw/source/sv_user.c                  |    2 +-
 qw/source/sw_rpart.c                 |  601 +++++++++++++++++++++++++++
 qw/source/sys_null.c                 |    4 +-
 qw/source/tga.c                      |    6 +-
 59 files changed, 1511 insertions(+), 154 deletions(-)

commit 47d95d2
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 30 02:41:30 2001 +0000

    protect the cvar callback and description fields from being modified once
    they have been set to non-defaults.

 libs/util/cvar.c |   15 +++++++++++----
 1 file changed, 11 insertions(+), 4 deletions(-)

commit f988572
Author: Bill Currie <bill@taniwha.org>
Date:   Tue May 29 21:59:02 2001 +0000

    lighthalf and gl_lightmode, meet Mr. Chainsaw, he will be your playmate today.

 include/glquake.h                     |    1 -
 include/r_cvar.h                      |    1 -
 libs/video/renderer/gl/gl_draw.c      |   46 ++++++---------------------------
 libs/video/renderer/gl/gl_dyn_fires.c |    5 +---
 libs/video/renderer/gl/gl_dyn_part.c  |   14 +++-------
 libs/video/renderer/gl/gl_graph.c     |    1 -
 libs/video/renderer/gl/gl_rlight.c    |    6 +----
 libs/video/renderer/gl/gl_rmain.c     |   23 ++++-------------
 libs/video/renderer/gl/gl_rsurf.c     |   21 +++------------
 libs/video/renderer/gl/gl_screen.c    |   29 ---------------------
 libs/video/renderer/gl/gl_sky.c       |    1 -
 libs/video/renderer/gl/gl_warp.c      |    2 --
 libs/video/renderer/r_cvar.c          |   21 +--------------
 13 files changed, 23 insertions(+), 148 deletions(-)

commit 18fd21d
Author: Bill Currie <bill@taniwha.org>
Date:   Tue May 29 19:58:35 2001 +0000

    merge the particle system

 libs/video/renderer/Makefile.am      |    2 +-
 libs/video/renderer/gl/Makefile.am   |    6 +-
 libs/video/renderer/gl/gl_dyn_part.c |  756 ++++++++++++++++++++++++++++++++++
 libs/video/renderer/r_part.c         |  153 +++++++
 libs/video/renderer/sw/Makefile.am   |    4 +-
 libs/video/renderer/sw/sw_rpart.c    |  601 +++++++++++++++++++++++++++
 nq/source/Makefile.am                |    6 +-
 nq/source/gl_dyn_part.c              |  756 ----------------------------------
 nq/source/r_part.c                   |  153 -------
 nq/source/sw_rpart.c                 |  601 ---------------------------
 qw/source/Makefile.am                |    4 +-
 qw/source/gl_dyn_part.c              |  756 ----------------------------------
 qw/source/sw_rpart.c                 |  601 ---------------------------
 13 files changed, 1521 insertions(+), 2878 deletions(-)

commit 7638295
Author: Bill Currie <bill@taniwha.org>
Date:   Tue May 29 19:52:10 2001 +0000

    client.h clean

 nq/source/r_part.c |   24 +++++++-----------------
 1 file changed, 7 insertions(+), 17 deletions(-)

commit 78702c0
Author: Bill Currie <bill@taniwha.org>
Date:   Tue May 29 19:43:15 2001 +0000

    make gl_dyn_part.c and sw_rpart.c independent of client.h and host.h

 include/r_dynamic.h     |   15 ++++++++++--
 nq/source/cl_tent.c     |   30 +++++++++++++++++++----
 nq/source/gl_dyn_part.c |   62 +++++++++++++++++++++++++----------------------
 nq/source/r_part.c      |    2 +-
 nq/source/sw_rpart.c    |   27 ++++++++++++---------
 qw/source/cl_tent.c     |   31 ++++++++++++++++++++----
 qw/source/gl_dyn_part.c |   62 +++++++++++++++++++++++++----------------------
 qw/source/sw_rpart.c    |   27 ++++++++++++---------
 8 files changed, 161 insertions(+), 95 deletions(-)

commit 7708a2d
Author: Bill Currie <bill@taniwha.org>
Date:   Tue May 29 18:24:29 2001 +0000

    remove netlogger (unused cvar) and rename netloglevel to net_loglevel so it
    matches the user visible name

 qw/source/net_packetlog.c |   28 ++++++++++++----------------
 1 file changed, 12 insertions(+), 16 deletions(-)

commit 87bf3a2
Author: Bill Currie <bill@taniwha.org>
Date:   Tue May 29 18:14:12 2001 +0000

    cl_main.c:
    	move the packet loging init call to the right place and remove a duplicate
    	PI_Init call
    net_packetlog.c:
    	don't be so invasive when dumping packets. use a private msg_t that gets
    	initialized from the analysed packet, rather than net_packet (which
    	tended to corrupt incoming packets)

 qw/source/cl_main.c       |   21 ++-
 qw/source/net_packetlog.c |  392 ++++++++++++++++++++++-----------------------
 2 files changed, 200 insertions(+), 213 deletions(-)

commit f0cfc46
Author: Bill Currie <bill@taniwha.org>
Date:   Tue May 29 17:37:48 2001 +0000

    model.h:
    	add a crc field to aliashdr_t
    model_alias.c:
    	set it for all models
    cl_parse.c:
    	set the pmodel and emodel info keys to the crcs of the player and eye
    	models

 include/QF/model.h              |    3 +++
 libs/models/alias/model_alias.c |   37 +++++++++----------------------------
 qw/source/cl_parse.c            |   17 +++++++++++++++++
 3 files changed, 29 insertions(+), 28 deletions(-)

commit d441a61
Author: Bill Currie <bill@taniwha.org>
Date:   Tue May 29 03:29:51 2001 +0000

    make sure that the reliable packets from soundlist, modellist and the skins
    info get acked. This is done by sending a no-op packet (0 byte didn't work
    because the runt packet detector throws them out before the ack is seen).

 qw/include/net.h     |    1 +
 qw/source/cl_parse.c |    4 ++++
 qw/source/cl_skin.c  |    2 ++
 qw/source/net_chan.c |   11 +++++++++++
 4 files changed, 18 insertions(+)

commit 3c66182
Author: Bill Currie <bill@taniwha.org>
Date:   Mon May 28 22:16:27 2001 +0000

    fix the sound precache lookup code in net_packetlog.c

 qw/include/net.h          |    2 +-
 qw/source/cl_main.c       |    9 ++++++++-
 qw/source/net_packetlog.c |   10 ++++++----
 qw/source/sv_main.c       |    2 +-
 4 files changed, 16 insertions(+), 7 deletions(-)

commit 6eadd40
Author: Bill Currie <bill@taniwha.org>
Date:   Mon May 28 21:34:27 2001 +0000

    when I say I want packet loggin, I want packet logging, not undefined symbols

 qw/source/net_packetlog.c |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit d523cb9
Author: Bill Currie <bill@taniwha.org>
Date:   Mon May 28 21:22:15 2001 +0000

    clean up --with-plugin-path a little and make it depend on libdir instead
    of exec_prefix (removes the hard-coding of lib)

 configure.in |    5 +----
 1 file changed, 1 insertion(+), 4 deletions(-)

commit 5514f48
Author: Bill Currie <bill@taniwha.org>
Date:   Mon May 28 19:30:32 2001 +0000

    --with-plugin-path now controls where plugins are installed, not just where
    to look for them.

 configure.in                   |    8 +++++++-
 libs/audio/targets/Makefile.am |    4 +++-
 2 files changed, 10 insertions(+), 2 deletions(-)

commit 2ab7077
Author: Zephaniah E. Hull <warp@babylon.d2dc.net>
Date:   Sun May 27 18:35:08 2001 +0000

    Minor clipping.

 include/glquake.h   |    8 --------
 qw/source/cl_ents.c |   16 +++++++++++-----
 2 files changed, 11 insertions(+), 13 deletions(-)

commit 9b4f09f
Author: Chris Ison <cisos@bigpond.net.au>
Date:   Sun May 27 09:19:24 2001 +0000

    fix for qw skin upload every frame bug, thank deek for the fix and help

 qw/source/skin.c |    9 ++++++---
 1 file changed, 6 insertions(+), 3 deletions(-)

commit 04d4df1
Author: Bill Currie <bill@taniwha.org>
Date:   Sun May 27 04:23:39 2001 +0000

    fix nq's skin code so it doesn't upload skins every frame

 include/QF/render.h   |    2 ++
 nq/include/client.h   |    1 +
 nq/source/host_skin.c |   24 ++++++++++++++++++++----
 3 files changed, 23 insertions(+), 4 deletions(-)

commit 792aac2
Author: Bill Currie <bill@taniwha.org>
Date:   Sun May 27 01:56:39 2001 +0000

    autoconf 2.50 doesn't seem to like nested AC_CHECK_FUNC	calls

 configure.in |   15 +++++++++++----
 1 file changed, 11 insertions(+), 4 deletions(-)

commit 4c5b977
Author: Bill Currie <bill@taniwha.org>
Date:   Sat May 26 03:33:09 2001 +0000

    move cl_math.S into renderer/sw/transform.S (never before realised it was
    part of the renderer)

 libs/video/renderer/sw/Makefile.am |    3 +-
 libs/video/renderer/sw/transform.S |  110 +++++++++++++++++++++++++++++++++++
 nq/source/Makefile.am              |    3 +-
 nq/source/cl_math.S                |  111 ------------------------------------
 qw/source/Makefile.am              |    2 +-
 qw/source/cl_math.S                |  111 ------------------------------------
 6 files changed, 114 insertions(+), 226 deletions(-)

commit 3035224
Author: Chris Ison <cisos@bigpond.net.au>
Date:   Fri May 25 22:57:25 2001 +0000

    disable cl_math.S asm

 nq/source/cl_math.S |    1 +
 qw/source/cl_math.S |    1 +
 2 files changed, 2 insertions(+)

commit 48278f3
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 25 20:48:51 2001 +0000

    fix the spaces in the header

 libs/gib/gib_modules.c |   40 ++++++++++++++++++++--------------------
 1 file changed, 20 insertions(+), 20 deletions(-)

commit 14fc2d0
Author: Chris Ison <cisos@bigpond.net.au>
Date:   Fri May 25 20:31:47 2001 +0000

    added GPL comments and fixed missing include in gib_modules.c

 include/QF/gib.h            |   31 +++++++++++++++++++++++++++++++
 include/gib_error.h         |   31 +++++++++++++++++++++++++++++++
 include/gib_instructions.h  |   31 +++++++++++++++++++++++++++++++
 include/gib_interpret.h     |   31 +++++++++++++++++++++++++++++++
 include/gib_modules.h       |   31 +++++++++++++++++++++++++++++++
 include/gib_parse.h         |   31 +++++++++++++++++++++++++++++++
 include/gib_stack.h         |   31 +++++++++++++++++++++++++++++++
 include/gib_vars.h          |   31 +++++++++++++++++++++++++++++++
 libs/gib/gib.c              |   31 +++++++++++++++++++++++++++++++
 libs/gib/gib_instructions.c |   31 +++++++++++++++++++++++++++++++
 libs/gib/gib_interpret.c    |   31 +++++++++++++++++++++++++++++++
 libs/gib/gib_modules.c      |   35 +++++++++++++++++++++++++++++++++++
 libs/gib/gib_parse.c        |   31 +++++++++++++++++++++++++++++++
 libs/gib/gib_stack.c        |   31 +++++++++++++++++++++++++++++++
 libs/gib/gib_vars.c         |   31 +++++++++++++++++++++++++++++++
 15 files changed, 469 insertions(+)

commit 271b400
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 25 20:17:22 2001 +0000

    finally got pic working. getting the address of a variable using pic seems
    to be not so straight forward :/ Anyway, one down, 11 to go.

 libs/video/renderer/sw/sw_raclip.c  |    2 --
 libs/video/renderer/sw/sw_raclipa.S |   50 +++++++++++++++++++++++++----------
 2 files changed, 36 insertions(+), 16 deletions(-)

commit f1730d7
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 25 16:42:49 2001 +0000

    Move VID_ShiftPalette from all the driver files to vid_common_sw.c
    Do the palette gamma correction inside VID_UpdateGamma (fixes sw palette gamma)

 libs/video/targets/vid.c           |    9 +++++++--
 libs/video/targets/vid_common_gl.c |    6 +++---
 libs/video/targets/vid_common_sw.c |    6 ++++++
 libs/video/targets/vid_dos.c       |   13 -------------
 libs/video/targets/vid_fbdev.c     |    7 -------
 libs/video/targets/vid_mgl.c       |    7 -------
 libs/video/targets/vid_null.c      |    5 -----
 libs/video/targets/vid_sdl.c       |    6 ------
 libs/video/targets/vid_sunx.c      |    6 ------
 libs/video/targets/vid_sunxil.c    |    6 ------
 libs/video/targets/vid_svgalib.c   |    7 -------
 libs/video/targets/vid_wgl.c       |    5 -----
 libs/video/targets/vid_x11.c       |    7 -------
 13 files changed, 16 insertions(+), 74 deletions(-)

commit c5735d2
Author: Joseph Carter <knghtbrd@debian.org>
Date:   Fri May 25 16:09:14 2001 +0000

    A little sanity in gib's header deps.  Not much granted, but it's there.

 include/QF/gib.h            |    4 ++++
 include/gib_instructions.h  |    2 ++
 include/gib_interpret.h     |    2 ++
 include/gib_modules.h       |    3 +++
 include/gib_parse.h         |    2 ++
 include/gib_stack.h         |    2 ++
 include/gib_vars.h          |    1 +
 libs/gib/gib.c              |   18 ++++--------------
 libs/gib/gib_instructions.c |   13 ++++---------
 libs/gib/gib_interpret.c    |   18 ++++++------------
 libs/gib/gib_modules.c      |   13 ++-----------
 libs/gib/gib_parse.c        |   13 ++-----------
 libs/gib/gib_stack.c        |   22 ++--------------------
 libs/gib/gib_vars.c         |   21 ++-------------------
 14 files changed, 38 insertions(+), 96 deletions(-)

commit 1038f88
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 25 14:57:31 2001 +0000

    disable asm in the software renderer for now. This will allow me to fix the
    files one at a time and allow others to use software independent of asm usage
    (even if a little slowly (~14% slower on my dual c450)).

 libs/video/renderer/sw/Makefile.am  |    3 +-
 libs/video/renderer/sw/d_draw.S     |    2 +
 libs/video/renderer/sw/d_draw16.S   |    2 +
 libs/video/renderer/sw/d_init.c     |    2 +
 libs/video/renderer/sw/d_modech.c   |    2 +
 libs/video/renderer/sw/d_part.c     |    2 +
 libs/video/renderer/sw/d_parta.S    |    2 +
 libs/video/renderer/sw/d_polysa.S   |    2 +
 libs/video/renderer/sw/d_polyse.c   |    2 +
 libs/video/renderer/sw/d_scan.c     |    2 +
 libs/video/renderer/sw/d_scana.S    |    2 +
 libs/video/renderer/sw/d_spr8.S     |    2 +
 libs/video/renderer/sw/d_sprite.c   |    2 +
 libs/video/renderer/sw/d_vars.c     |    6 ++-
 libs/video/renderer/sw/d_varsa.S    |    2 +
 libs/video/renderer/sw/nonintel.c   |   60 +++++++++++++++++++++++
 libs/video/renderer/sw/surf16.S     |    2 +
 libs/video/renderer/sw/surf8.S      |    2 +
 libs/video/renderer/sw/sw_raclip.c  |    1 +
 libs/video/renderer/sw/sw_raclipa.S |   92 +++++++++++++++++++++++++++--------
 libs/video/renderer/sw/sw_ralias.c  |    2 +
 libs/video/renderer/sw/sw_raliasa.S |    2 +
 libs/video/renderer/sw/sw_rdraw.c   |    2 +
 libs/video/renderer/sw/sw_rdrawa.S  |    2 +
 libs/video/renderer/sw/sw_redge.c   |    2 +
 libs/video/renderer/sw/sw_redgea.S  |    2 +
 libs/video/renderer/sw/sw_rmain.c   |    2 +
 libs/video/renderer/sw/sw_rmisc.c   |    1 +
 libs/video/renderer/sw/sw_rsurf.c   |    1 +
 nq/source/Makefile.am               |    2 +-
 nq/source/nonintel.c                |   58 ----------------------
 qw/source/Makefile.am               |    2 +-
 qw/source/nonintel.c                |   58 ----------------------
 33 files changed, 188 insertions(+), 140 deletions(-)

commit 9788b57
Author: Joseph Carter <knghtbrd@debian.org>
Date:   Fri May 25 10:40:30 2001 +0000

    Modify the hack used by qpic_t slightly.  This is not over, but this will
    do for now.  A full texture_t should eventually replace qpic_t/glpic_t..

 include/QF/wad.h |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 4b3e056
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 25 04:06:51 2001 +0000

    fix silly typo

 libs/video/targets/vid_3dfxsvga.c |    2 +-
 libs/video/targets/vid_dos.c      |    2 +-
 libs/video/targets/vid_fbdev.c    |    2 +-
 libs/video/targets/vid_sdl.c      |    2 +-
 libs/video/targets/vid_sunx.c     |    2 +-
 libs/video/targets/vid_sunxil.c   |    2 +-
 libs/video/targets/vid_svgalib.c  |    2 +-
 libs/video/targets/vid_x11.c      |    2 +-
 8 files changed, 8 insertions(+), 8 deletions(-)

commit a87c4bb
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 25 04:03:47 2001 +0000

    vid.c:
    	Don't bother checking vid_gamma for CVAR_ROM becuase it is impossible to
    	get to VID_UpdateGamma when it is set except for when the cvar is
    	initially created, and we /want/ the code to execute in that case.
    vid.h:
    	add initialized to viddef_t
    vid_common_gl.c:
    	actually /use/ gammatable (it tends to help)
    vid_*.c:
    	clean up rendundant decls of gammatable, vid_initialized (now
    	vid.initialized) and make sure vid.initialized gets set.
    gl_view.c:
    	remove gammatable decls

 include/QF/vid.h                   |    1 +
 libs/video/renderer/gl/gl_rmain.c  |    1 -
 libs/video/targets/vid.c           |    6 ++----
 libs/video/targets/vid_3dfxsvga.c  |    2 ++
 libs/video/targets/vid_common_gl.c |    6 +++---
 libs/video/targets/vid_dos.c       |    2 ++
 libs/video/targets/vid_fbdev.c     |    2 ++
 libs/video/targets/vid_glx.c       |    8 +++-----
 libs/video/targets/vid_mgl.c       |   22 +++++++++++-----------
 libs/video/targets/vid_sdl.c       |    2 ++
 libs/video/targets/vid_sgl.c       |    6 ++----
 libs/video/targets/vid_sunx.c      |    2 ++
 libs/video/targets/vid_sunxil.c    |    2 ++
 libs/video/targets/vid_svgalib.c   |    2 ++
 libs/video/targets/vid_wgl.c       |    5 ++---
 libs/video/targets/vid_x11.c       |    2 ++
 nq/source/gl_view.c                |    2 --
 qw/source/gl_view.c                |    2 --
 18 files changed, 40 insertions(+), 35 deletions(-)

commit 5ed553f
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 25 02:45:57 2001 +0000

    more files missed in the move

 nq/source/screen.c |  944 ----------------------------------------------------
 qw/source/screen.c |  944 ----------------------------------------------------
 2 files changed, 1888 deletions(-)

commit 991ee50
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 25 02:44:05 2001 +0000

    remove the last vestiges of VID_Gamma_f

 libs/video/targets/vid_sunx.c    |   39 -------------------------------------
 libs/video/targets/vid_sunxil.c  |   40 --------------------------------------
 libs/video/targets/vid_svgalib.c |   34 --------------------------------
 3 files changed, 113 deletions(-)

commit 48ae5d5
Author: Chris Ison <cisos@bigpond.net.au>
Date:   Fri May 25 02:26:30 2001 +0000

    fixed vid_gamma not working in 3dfx

 libs/video/targets/vid_3dfxsvga.c |    2 ++
 1 file changed, 2 insertions(+)

commit f83b9be
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 24 23:49:28 2001 +0000

    remove redundant vid_gamma_avail decls

 include/QF/vid.h                 |    1 +
 libs/video/targets/context_x11.c |    1 -
 libs/video/targets/vid_sdl.c     |    1 -
 libs/video/targets/vid_sgl.c     |    1 -
 libs/video/targets/vid_svgalib.c |    1 -
 5 files changed, 1 insertion(+), 4 deletions(-)

commit bc8ae8f
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 24 20:11:34 2001 +0000

    whitespace

 libs/video/renderer/sw/sw_rvarsa.S |   22 +++++++++++-----------
 1 file changed, 11 insertions(+), 11 deletions(-)

commit 3c18b50
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 24 20:04:39 2001 +0000

    fixes for compiling without assembler

 libs/video/renderer/sw/d_part.c   |    1 +
 libs/video/renderer/sw/d_polyse.c |    4 +++-
 2 files changed, 4 insertions(+), 1 deletion(-)

commit 600bcfb
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 24 19:28:07 2001 +0000

    forgot to remove these

 nq/source/noisetextures.c |  130 ---------------------------------------------
 qw/source/noisetextures.c |  130 ---------------------------------------------
 2 files changed, 260 deletions(-)

commit 73e6e16
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 24 19:22:35 2001 +0000

    FINALLY, the nq and qw renderers are merged. the view and particle subsystems
    are not yet merged due to their dependence on the client, but that will come
    soon.

 configure.in                             |    3 +
 libs/video/Makefile.am                   |    2 +-
 libs/video/renderer/.gitignore           |    9 +
 libs/video/renderer/Makefile.am          |   30 +
 libs/video/renderer/gl/.gitignore        |    9 +
 libs/video/renderer/gl/Makefile.am       |   14 +
 libs/video/renderer/gl/gl_draw.c         |  735 +++++++++++++
 libs/video/renderer/gl/gl_dyn_fires.c    |  210 ++++
 libs/video/renderer/gl/gl_dyn_textures.c |  203 ++++
 libs/video/renderer/gl/gl_graph.c        |  140 +++
 libs/video/renderer/gl/gl_rlight.c       |  429 ++++++++
 libs/video/renderer/gl/gl_rmain.c        | 1181 ++++++++++++++++++++
 libs/video/renderer/gl/gl_rmisc.c        |  249 +++++
 libs/video/renderer/gl/gl_rsurf.c        | 1215 +++++++++++++++++++++
 libs/video/renderer/gl/gl_screen.c       |  946 ++++++++++++++++
 libs/video/renderer/gl/gl_skin.c         |  238 ++++
 libs/video/renderer/gl/gl_sky.c          |  336 ++++++
 libs/video/renderer/gl/gl_sky_clip.c     |  785 ++++++++++++++
 libs/video/renderer/gl/gl_textures.c     |  600 ++++++++++
 libs/video/renderer/gl/gl_warp.c         |  233 ++++
 libs/video/renderer/gl/noisetextures.c   |  130 +++
 libs/video/renderer/r_cvar.c             |  273 +++++
 libs/video/renderer/r_efrag.c            |  279 +++++
 libs/video/renderer/r_ent.c              |   87 ++
 libs/video/renderer/r_graph.c            |  110 ++
 libs/video/renderer/r_main.c             |   78 ++
 libs/video/renderer/sw/.gitignore        |    9 +
 libs/video/renderer/sw/Makefile.am       |   19 +
 libs/video/renderer/sw/d_draw.S          | 1044 ++++++++++++++++++
 libs/video/renderer/sw/d_draw16.S        |  981 +++++++++++++++++
 libs/video/renderer/sw/d_edge.c          |  294 +++++
 libs/video/renderer/sw/d_fill.c          |   87 ++
 libs/video/renderer/sw/d_init.c          |  149 +++
 libs/video/renderer/sw/d_modech.c        |  110 ++
 libs/video/renderer/sw/d_part.c          |  176 +++
 libs/video/renderer/sw/d_parta.S         |  484 +++++++++
 libs/video/renderer/sw/d_polysa.S        | 1751 ++++++++++++++++++++++++++++++
 libs/video/renderer/sw/d_polyse.c        |  965 ++++++++++++++++
 libs/video/renderer/sw/d_scan.c          |  422 +++++++
 libs/video/renderer/sw/d_scana.S         |   96 ++
 libs/video/renderer/sw/d_sky.c           |  134 +++
 libs/video/renderer/sw/d_spr8.S          |  907 ++++++++++++++++
 libs/video/renderer/sw/d_sprite.c        |  416 +++++++
 libs/video/renderer/sw/d_surf.c          |  325 ++++++
 libs/video/renderer/sw/d_vars.c          |   58 +
 libs/video/renderer/sw/d_varsa.S         |  221 ++++
 libs/video/renderer/sw/d_zpoint.c        |   51 +
 libs/video/renderer/sw/draw.c            |  833 ++++++++++++++
 libs/video/renderer/sw/screen.c          |  943 ++++++++++++++++
 libs/video/renderer/sw/surf16.S          |  179 +++
 libs/video/renderer/sw/surf8.S           |  791 ++++++++++++++
 libs/video/renderer/sw/sw_graph.c        |   77 ++
 libs/video/renderer/sw/sw_raclip.c       |  328 ++++++
 libs/video/renderer/sw/sw_raclipa.S      |  224 ++++
 libs/video/renderer/sw/sw_ralias.c       |  698 ++++++++++++
 libs/video/renderer/sw/sw_raliasa.S      |  244 +++++
 libs/video/renderer/sw/sw_rbsp.c         |  582 ++++++++++
 libs/video/renderer/sw/sw_rdraw.c        |  802 ++++++++++++++
 libs/video/renderer/sw/sw_rdrawa.S       |  845 ++++++++++++++
 libs/video/renderer/sw/sw_redge.c        |  671 ++++++++++++
 libs/video/renderer/sw/sw_redgea.S       |  757 +++++++++++++
 libs/video/renderer/sw/sw_rlight.c       |  243 +++++
 libs/video/renderer/sw/sw_rmain.c        |  966 ++++++++++++++++
 libs/video/renderer/sw/sw_rmisc.c        |  391 +++++++
 libs/video/renderer/sw/sw_rsky.c         |  258 +++++
 libs/video/renderer/sw/sw_rsprite.c      |  382 +++++++
 libs/video/renderer/sw/sw_rsurf.c        |  591 ++++++++++
 libs/video/renderer/sw/sw_rvarsa.S       |   72 ++
 libs/video/renderer/sw/sw_skin.c         |   96 ++
 nq/source/Makefile.am                    |   54 +-
 nq/source/d_copy.S                       |  176 ---
 nq/source/d_draw.S                       | 1044 ------------------
 nq/source/d_draw16.S                     |  981 -----------------
 nq/source/d_edge.c                       |  294 -----
 nq/source/d_fill.c                       |   87 --
 nq/source/d_init.c                       |  149 ---
 nq/source/d_modech.c                     |  110 --
 nq/source/d_part.c                       |  176 ---
 nq/source/d_parta.S                      |  484 ---------
 nq/source/d_polysa.S                     | 1751 ------------------------------
 nq/source/d_polyse.c                     |  965 ----------------
 nq/source/d_scan.c                       |  422 -------
 nq/source/d_scana.S                      |   96 --
 nq/source/d_sky.c                        |  134 ---
 nq/source/d_spr8.S                       |  907 ----------------
 nq/source/d_sprite.c                     |  416 -------
 nq/source/d_surf.c                       |  325 ------
 nq/source/d_vars.c                       |   58 -
 nq/source/d_varsa.S                      |  221 ----
 nq/source/d_zpoint.c                     |   51 -
 nq/source/draw.c                         |  834 --------------
 nq/source/gl_draw.c                      |  735 -------------
 nq/source/gl_dyn_fires.c                 |  210 ----
 nq/source/gl_dyn_textures.c              |  203 ----
 nq/source/gl_graph.c                     |  140 ---
 nq/source/gl_rlight.c                    |  429 --------
 nq/source/gl_rmain.c                     | 1181 --------------------
 nq/source/gl_rmisc.c                     |  249 -----
 nq/source/gl_rsurf.c                     | 1215 ---------------------
 nq/source/gl_screen.c                    |  947 ----------------
 nq/source/gl_skin.c                      |  238 ----
 nq/source/gl_sky.c                       |  336 ------
 nq/source/gl_sky_clip.c                  |  785 --------------
 nq/source/gl_textures.c                  |  600 ----------
 nq/source/gl_warp.c                      |  233 ----
 nq/source/host.c                         |    1 +
 nq/source/r_cvar.c                       |  273 -----
 nq/source/r_efrag.c                      |  279 -----
 nq/source/r_ent.c                        |   87 --
 nq/source/r_graph.c                      |  110 --
 nq/source/r_main.c                       |   77 --
 nq/source/sw_graph.c                     |   77 --
 nq/source/sw_raclip.c                    |  328 ------
 nq/source/sw_raclipa.S                   |  224 ----
 nq/source/sw_ralias.c                    |  698 ------------
 nq/source/sw_raliasa.S                   |  244 -----
 nq/source/sw_rbsp.c                      |  582 ----------
 nq/source/sw_rdraw.c                     |  802 --------------
 nq/source/sw_rdrawa.S                    |  845 --------------
 nq/source/sw_redge.c                     |  671 ------------
 nq/source/sw_redgea.S                    |  757 -------------
 nq/source/sw_rlight.c                    |  243 -----
 nq/source/sw_rmain.c                     |  966 ----------------
 nq/source/sw_rmisc.c                     |  393 -------
 nq/source/sw_rsky.c                      |  258 -----
 nq/source/sw_rsprite.c                   |  382 -------
 nq/source/sw_rsurf.c                     |  591 ----------
 nq/source/sw_rvarsa.S                    |   72 --
 nq/source/sw_skin.c                      |   96 --
 qw/source/Makefile.am                    |   56 +-
 qw/source/cl_main.c                      |    1 +
 qw/source/d_copy.S                       |  176 ---
 qw/source/d_draw.S                       | 1044 ------------------
 qw/source/d_draw16.S                     |  981 -----------------
 qw/source/d_edge.c                       |  294 -----
 qw/source/d_fill.c                       |   87 --
 qw/source/d_init.c                       |  150 ---
 qw/source/d_modech.c                     |  110 --
 qw/source/d_part.c                       |  176 ---
 qw/source/d_parta.S                      |  484 ---------
 qw/source/d_polysa.S                     | 1751 ------------------------------
 qw/source/d_polyse.c                     |  965 ----------------
 qw/source/d_scan.c                       |  422 -------
 qw/source/d_scana.S                      |   96 --
 qw/source/d_sky.c                        |  134 ---
 qw/source/d_spr8.S                       |  907 ----------------
 qw/source/d_sprite.c                     |  416 -------
 qw/source/d_surf.c                       |  325 ------
 qw/source/d_vars.c                       |   58 -
 qw/source/d_varsa.S                      |  221 ----
 qw/source/d_zpoint.c                     |   51 -
 qw/source/draw.c                         |  834 --------------
 qw/source/gl_draw.c                      |  735 -------------
 qw/source/gl_dyn_fires.c                 |  210 ----
 qw/source/gl_dyn_textures.c              |  203 ----
 qw/source/gl_graph.c                     |  140 ---
 qw/source/gl_rlight.c                    |  429 --------
 qw/source/gl_rmain.c                     | 1181 --------------------
 qw/source/gl_rmisc.c                     |  249 -----
 qw/source/gl_rsurf.c                     | 1215 ---------------------
 qw/source/gl_screen.c                    |  947 ----------------
 qw/source/gl_skin.c                      |  238 ----
 qw/source/gl_sky.c                       |  336 ------
 qw/source/gl_sky_clip.c                  |  785 --------------
 qw/source/gl_textures.c                  |  600 ----------
 qw/source/gl_warp.c                      |  233 ----
 qw/source/r_cvar.c                       |  273 -----
 qw/source/r_efrag.c                      |  279 -----
 qw/source/r_ent.c                        |   87 --
 qw/source/r_graph.c                      |  110 --
 qw/source/r_main.c                       |   77 --
 qw/source/sw_graph.c                     |   77 --
 qw/source/sw_raclip.c                    |  328 ------
 qw/source/sw_raclipa.S                   |  224 ----
 qw/source/sw_ralias.c                    |  698 ------------
 qw/source/sw_raliasa.S                   |  244 -----
 qw/source/sw_rbsp.c                      |  582 ----------
 qw/source/sw_rdraw.c                     |  802 --------------
 qw/source/sw_rdrawa.S                    |  845 --------------
 qw/source/sw_redge.c                     |  671 ------------
 qw/source/sw_redgea.S                    |  757 -------------
 qw/source/sw_rlight.c                    |  243 -----
 qw/source/sw_rmain.c                     |  966 ----------------
 qw/source/sw_rmisc.c                     |  393 -------
 qw/source/sw_rsky.c                      |  258 -----
 qw/source/sw_rsprite.c                   |  382 -------
 qw/source/sw_rsurf.c                     |  591 ----------
 qw/source/sw_rvarsa.S                    |   72 --
 qw/source/sw_skin.c                      |   96 --
 189 files changed, 28240 insertions(+), 52543 deletions(-)

commit 55ee68c
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 24 19:19:32 2001 +0000

    whew

 nq/source/r_part.c |  163 ++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 163 insertions(+)

commit d44901a
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 24 19:18:51 2001 +0000

    oopsie

 nq/source/r_part.c |  163 ----------------------------------------------------
 1 file changed, 163 deletions(-)

commit 05f9470
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 24 18:50:02 2001 +0000

    oops, got a little too agressive with the V_CheckGamma cleanup

 nq/source/gl_view.c |    2 +-
 nq/source/sw_view.c |    2 +-
 qw/source/gl_view.c |    2 +-
 qw/source/sw_view.c |    2 +-
 4 files changed, 4 insertions(+), 4 deletions(-)

commit 964ec64
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Thu May 24 17:00:08 2001 +0000

    whitespace and comment cleanup.

 libs/audio/targets/snd_alsa_0_9.c |   18 +++++++++++-------
 libs/audio/targets/snd_sgi.c      |    6 +++++-
 2 files changed, 16 insertions(+), 8 deletions(-)

commit f21ad90
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 24 16:30:25 2001 +0000

    total nukage of brighten, brightness and contrast.

 include/view.h                     |    3 ---
 libs/video/targets/vid_3dfxsvga.c  |    1 -
 libs/video/targets/vid_common_gl.c |   49 ------------------------------------
 libs/video/targets/vid_sgl.c       |    1 -
 libs/video/targets/vid_wgl.c       |    1 -
 nq/source/gl_screen.c              |    8 ++----
 nq/source/gl_sky.c                 |    6 -----
 nq/source/gl_sky_clip.c            |    2 --
 nq/source/gl_view.c                |    9 -------
 nq/source/r_view.c                 |    6 -----
 qw/source/gl_screen.c              |    8 ++----
 qw/source/gl_sky.c                 |    6 -----
 qw/source/gl_sky_clip.c            |    2 --
 qw/source/gl_view.c                |    9 -------
 14 files changed, 4 insertions(+), 107 deletions(-)

commit a3518d4
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 24 15:48:39 2001 +0000

    Nuke V_CheckGamma, moving its sole contribution to VID_UpdateGamma in vid.c

 libs/video/targets/vid.c |    2 ++
 nq/source/gl_view.c      |    6 +-----
 nq/source/r_view.c       |   20 +-------------------
 nq/source/sw_view.c      |    6 +-----
 qw/source/gl_view.c      |    6 +-----
 qw/source/r_view.c       |   18 ------------------
 qw/source/sw_view.c      |    6 +-----
 7 files changed, 7 insertions(+), 57 deletions(-)

commit d87d374
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 24 04:50:12 2001 +0000

    white space

 nq/source/gl_view.c |    2 +-
 qw/source/gl_view.c |    4 ++--
 2 files changed, 3 insertions(+), 3 deletions(-)

commit 3cc3392
Author: Chris Ison <cisos@bigpond.net.au>
Date:   Wed May 23 10:20:27 2001 +0000

    fixed paused being displayed by default in gl

 nq/source/gl_screen.c |    2 +-
 qw/source/gl_screen.c |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 1a25bc9
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 23 06:33:23 2001 +0000

    gl_screen.c and screen.c are now client clean (and merged :)

 include/QF/draw.h     |    2 +-
 include/QF/screen.h   |   19 +++-
 include/QF/wad.h      |    2 +-
 include/sbar.h        |    2 +-
 nq/include/client.h   |    2 +
 nq/source/Makefile.am |    4 +-
 nq/source/cl_main.c   |   10 +-
 nq/source/cl_screen.c |   81 ++++++++++++++
 nq/source/draw.c      |    2 +-
 nq/source/gl_draw.c   |    2 +-
 nq/source/gl_screen.c |  282 ++++++++++++++++++------------------------------
 nq/source/host.c      |    4 +-
 nq/source/keys.c      |    2 +-
 nq/source/net_dgrm.c  |    6 +-
 nq/source/sbar.c      |    2 +-
 nq/source/screen.c    |  285 +++++++++++++++++--------------------------------
 qw/include/client.h   |    6 +-
 qw/source/Makefile.am |    4 +-
 qw/source/cl_main.c   |   15 ++-
 qw/source/cl_ngraph.c |   12 ++-
 qw/source/cl_parse.c  |    4 +-
 qw/source/cl_screen.c |  125 ++++++++++++++++++++++
 qw/source/cl_skin.c   |    2 +-
 qw/source/draw.c      |    2 +-
 qw/source/gl_draw.c   |    2 +-
 qw/source/gl_screen.c |  280 ++++++++++++++++++------------------------------
 qw/source/keys.c      |    2 +-
 qw/source/sbar.c      |    2 +-
 qw/source/screen.c    |  283 +++++++++++++++++-------------------------------
 29 files changed, 687 insertions(+), 759 deletions(-)

commit ec73350
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 23 04:05:10 2001 +0000

    gl_draw.c is now client clean.

 include/QF/render.h |    1 +
 nq/source/gl_draw.c |    4 ++--
 nq/source/host.c    |    1 +
 nq/source/r_main.c  |    1 +
 qw/source/cl_main.c |    1 +
 qw/source/gl_draw.c |    4 ++--
 qw/source/r_main.c  |    1 +
 7 files changed, 9 insertions(+), 4 deletions(-)

commit f49608b
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 23 03:33:39 2001 +0000

    copy it to nq and clean out the commented out code

 nq/source/gl_graph.c |    9 ++-------
 qw/source/gl_graph.c |    6 ------
 2 files changed, 2 insertions(+), 13 deletions(-)

commit 3b7d356
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 23 03:31:54 2001 +0000

    helps if I upload the texture in the correct format :)

 qw/source/gl_graph.c |   13 +++++++------
 1 file changed, 7 insertions(+), 6 deletions(-)

commit fa6dd2a
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 23 03:01:03 2001 +0000

    now works with autoconf 2.50

 configure.in    |   15 ++-------------
 libs/util/sys.c |   10 +++++-----
 2 files changed, 7 insertions(+), 18 deletions(-)

commit a83c3d3
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Tue May 22 20:34:03 2001 +0000

    Cleanups.

 libs/audio/targets/Makefile.am |   17 ++++++++---------
 1 file changed, 8 insertions(+), 9 deletions(-)

commit e483076
Author: Bill Currie <bill@taniwha.org>
Date:   Tue May 22 20:17:20 2001 +0000

    fix for when building server only

 libs/models/Makefile.am       |   11 +++++++----
 libs/models/brush/Makefile.am |    5 ++++-
 2 files changed, 11 insertions(+), 5 deletions(-)

commit a8e1da5
Author: Bill Currie <bill@taniwha.org>
Date:   Tue May 22 19:13:23 2001 +0000

    make dist and compile fixes for mingw cross building

 Makefile.am                  |    2 ++
 libs/video/targets/vid_wgl.c |    4 ++--
 nq/source/sys_win.c          |    2 +-
 qw/source/cl_ngraph.c        |    1 +
 qw/source/cl_sys_win.c       |    2 +-
 5 files changed, 7 insertions(+), 4 deletions(-)

commit 351e70b
Author: Bill Currie <bill@taniwha.org>
Date:   Tue May 22 18:23:29 2001 +0000

    replace a missing / when producing files.dat

 tools/qfcc/source/qfcc.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c500fd7
Author: Bill Currie <bill@taniwha.org>
Date:   Tue May 22 17:09:03 2001 +0000

    make dist fixups

 Makefile.am                    |    2 +-
 configure.in                   |    1 +
 doc/Makefile.am                |   33 +++++++++++++++++++++------------
 include/Makefile.am            |   19 ++++++++++++++++++-
 include/QF/Makefile.am         |   15 +++++++++------
 include/QF/plugin/.gitignore   |    3 +++
 include/QF/plugin/Makefile.am  |    3 +++
 libs/audio/targets/Makefile.am |    7 +------
 libs/video/targets/Makefile.am |    2 +-
 nq/include/Makefile.am         |    2 +-
 qw/include/Makefile.am         |    4 ++--
 11 files changed, 61 insertions(+), 30 deletions(-)

commit abd7d79
Author: Adam Olsen <rhamph@gmail.com>
Date:   Tue May 22 15:11:54 2001 +0000

    two little bugfixes :)

 libs/gib/gib_interpret.c |    5 ++++-
 libs/gib/gib_stack.c     |    2 +-
 2 files changed, 5 insertions(+), 2 deletions(-)

commit e65c1bd
Author: Zephaniah E. Hull <warp@babylon.d2dc.net>
Date:   Tue May 22 13:40:21 2001 +0000

    Make sure the message gets to the client.

 qw/source/sv_main.c |    2 ++
 1 file changed, 2 insertions(+)

commit 98a8db2
Author: Zephaniah E. Hull <warp@babylon.d2dc.net>
Date:   Tue May 22 13:30:35 2001 +0000

    Coderjoe's fix from newtree. (The other part of the DOS fix.)
    
    Prevent an infinite loop in a fairly rare case, where the infostring is
    too full to accept a new name when there is a duplicate name.

 qw/source/sv_main.c |   12 ++++++++++++
 1 file changed, 12 insertions(+)

commit b264cdd
Author: Zephaniah E. Hull <warp@babylon.d2dc.net>
Date:   Tue May 22 12:44:53 2001 +0000

    Make it actually work?

 libs/util/info.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit e7f25dc
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Tue May 22 12:31:43 2001 +0000

    whitespace

 libs/audio/targets/snd_dma.c |  217 +++++++++++++++++-------------------------
 1 file changed, 89 insertions(+), 128 deletions(-)

commit f25cea4
Author: Zephaniah E. Hull <warp@babylon.d2dc.net>
Date:   Tue May 22 12:03:44 2001 +0000

    Actually compile, oops.

 include/QF/info.h |    1 +
 1 file changed, 1 insertion(+)

commit 5245f56
Author: Zephaniah E. Hull <warp@babylon.d2dc.net>
Date:   Tue May 22 12:00:45 2001 +0000

    Validate userinfo strings on connect. (Part of a nasty DOS fix.)

 include/QF/info.h   |    1 +
 libs/util/info.c    |   16 ++++++++++++++++
 qw/source/sv_main.c |    7 +++++++
 3 files changed, 24 insertions(+)

commit 2b4c31b
Author: Joseph Carter <knghtbrd@debian.org>
Date:   Tue May 22 09:24:56 2001 +0000

    Noise reduction in draw vs gl_draw

 nq/source/draw.c |   12 ++++++------
 qw/source/draw.c |   14 +++++++-------
 2 files changed, 13 insertions(+), 13 deletions(-)

commit 954b214
Author: Joseph Carter <knghtbrd@debian.org>
Date:   Tue May 22 09:19:53 2001 +0000

    Fix a gcc warning in cl_ngraph.c

 qw/source/cl_ngraph.c |    2 ++
 1 file changed, 2 insertions(+)

commit 62f57f5
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Tue May 22 06:14:57 2001 +0000

    Require vid_gamma_avail for gamma switching, not vidmode_avail

 libs/video/targets/context_x11.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 79bee4f
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Tue May 22 06:13:44 2001 +0000

    GL_CheckBrightness() is redundant, don't call it

 libs/video/targets/vid_glx.c |    1 -
 1 file changed, 1 deletion(-)

commit 4a80639
Author: Bill Currie <bill@taniwha.org>
Date:   Tue May 22 06:00:38 2001 +0000

    sw and gl rmisc are now client clean. the graphing functions ahve been pulled
    out into r_graph.c (Time and Z graph), cl_ngraph.c (Net graph), and
    {gl,sw}_graph.c (R_LineGraph). gl_ngraph.c is gone. Unfortunatly, something
    is rather wrong with NetGraph in gl (probably R_LineGraph).

 include/QF/render.h   |    3 +
 include/glquake.h     |    6 +-
 include/r_local.h     |    1 +
 nq/source/Makefile.am |    7 +-
 nq/source/gl_graph.c  |  145 ++++++++++++++++++++++++++++++++++++++
 nq/source/gl_ngraph.c |  186 -------------------------------------------------
 nq/source/gl_rmain.c  |    9 +++
 nq/source/gl_rmisc.c  |    7 +-
 nq/source/gl_screen.c |    4 +-
 nq/source/r_graph.c   |  110 +++++++++++++++++++++++++++++
 nq/source/r_main.c    |    2 +
 nq/source/screen.c    |    8 ++-
 nq/source/sw_graph.c  |   77 ++++++++++++++++++++
 nq/source/sw_rmain.c  |    5 --
 nq/source/sw_rmisc.c  |  165 ++-----------------------------------------
 qw/include/client.h   |    2 +
 qw/source/Makefile.am |   10 +--
 qw/source/cl_ngraph.c |   78 +++++++++++++++++++++
 qw/source/gl_graph.c  |  145 ++++++++++++++++++++++++++++++++++++++
 qw/source/gl_ngraph.c |  181 -----------------------------------------------
 qw/source/gl_rmain.c  |    9 +++
 qw/source/gl_rmisc.c  |    7 +-
 qw/source/gl_screen.c |    2 +-
 qw/source/r_graph.c   |  110 +++++++++++++++++++++++++++++
 qw/source/r_main.c    |    2 +
 qw/source/screen.c    |    4 ++
 qw/source/sw_graph.c  |   77 ++++++++++++++++++++
 qw/source/sw_rmain.c  |    5 --
 qw/source/sw_rmisc.c  |  163 ++-----------------------------------------
 29 files changed, 812 insertions(+), 718 deletions(-)

commit f732cd7
Author: Adam Olsen <rhamph@gmail.com>
Date:   Tue May 22 05:24:05 2001 +0000

    move x_gamma and vidmode_avail definitions into #ifdef HAVE_VIDMODE.
    patch from that kimpornqueen person :)

 libs/video/targets/context_x11.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 6bf80a0
Author: Bill Currie <bill@taniwha.org>
Date:   Tue May 22 02:15:25 2001 +0000

    ltconfig workaround no longer needed (if you get errors, make sure you have
    the latest automake)

 bootstrap |   18 ------------------
 1 file changed, 18 deletions(-)

commit 0a4b53c
Author: Bill Currie <bill@taniwha.org>
Date:   Mon May 21 23:09:46 2001 +0000

    gl_rsurf is now client clean

 include/QF/render.h  |    2 +-
 include/glquake.h    |    3 ++-
 nq/source/cl_parse.c |    2 +-
 nq/source/gl_rmisc.c |    4 ++--
 nq/source/gl_rsurf.c |    9 ++++-----
 nq/source/sw_rmain.c |    2 +-
 qw/source/cl_parse.c |    2 +-
 qw/source/gl_rmisc.c |    4 ++--
 qw/source/gl_rsurf.c |    7 +++----
 qw/source/sw_rmain.c |    2 +-
 10 files changed, 18 insertions(+), 19 deletions(-)

commit da8715f
Author: Bill Currie <bill@taniwha.org>
Date:   Mon May 21 22:25:35 2001 +0000

    sw_ralias.c and gl_rmain.c are now client clean. this involved a bit of a
    revamp of skins. keep an eye out for broken skins (especially in nq)

 include/QF/render.h   |    1 +
 include/QF/skin.h     |   17 ++++++++++++++---
 include/glquake.h     |    2 --
 nq/include/client.h   |    3 ++-
 nq/source/cl_main.c   |   10 +++++++++-
 nq/source/cl_parse.c  |   10 +++++-----
 nq/source/gl_rmain.c  |   16 +++++++---------
 nq/source/gl_rmisc.c  |    5 +----
 nq/source/gl_skin.c   |   20 +++++++++-----------
 nq/source/host_skin.c |    7 +++++--
 nq/source/skin.c      |   42 +++++++++++++++++++++++++++++++++++++-----
 nq/source/sw_ralias.c |   14 ++++++++++++--
 nq/source/sw_skin.c   |    4 ++--
 qw/include/cl_parse.h |    5 ++++-
 qw/source/cl_ents.c   |   27 +++++++++++++++++++++++++++
 qw/source/cl_parse.c  |    2 +-
 qw/source/cl_skin.c   |   11 +++++++++--
 qw/source/gl_rmain.c  |   24 ++++--------------------
 qw/source/gl_rmisc.c  |    5 +----
 qw/source/gl_skin.c   |   20 +++++++++-----------
 qw/source/skin.c      |   40 ++++++++++++++++++++++++++++++++++++----
 qw/source/sw_ralias.c |   13 +++++--------
 qw/source/sw_skin.c   |    4 ++--
 23 files changed, 202 insertions(+), 100 deletions(-)

commit ddceaf7
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Mon May 21 19:53:57 2001 +0000

    Merge most of cshift calcs from sw and gl to r_view.c

 nq/source/gl_view.c |   42 +++++++++---------------------------------
 nq/source/r_view.c  |   46 ++++++++++++++++++++++++++++++++++++++++++++++
 nq/source/sw_view.c |   32 ++++----------------------------
 qw/source/gl_view.c |   42 +++++++++---------------------------------
 qw/source/r_view.c  |   46 ++++++++++++++++++++++++++++++++++++++++++++++
 qw/source/sw_view.c |   32 ++++----------------------------
 6 files changed, 118 insertions(+), 122 deletions(-)

commit a79ab3f
Author: Bill Currie <bill@taniwha.org>
Date:   Mon May 21 17:40:12 2001 +0000

    abandon the oss write only attempts.

 include/QF/sound.h           |    1 -
 libs/audio/targets/snd_dma.c |    4 ----
 libs/audio/targets/snd_oss.c |   13 +++----------
 3 files changed, 3 insertions(+), 15 deletions(-)

commit 92fe379
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Mon May 21 16:23:46 2001 +0000

    Remove dead cvars.

 include/r_cvar.h |    5 -----
 1 file changed, 5 deletions(-)

commit bee8473
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Mon May 21 16:22:31 2001 +0000

    Added merge notes.

 include/QF/render.h |    6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit 46b5ce2
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Mon May 21 15:59:02 2001 +0000

    Remove client.h from gl_sky_clip. Changed an error message to not use cl_name.

 nq/source/gl_sky_clip.c |   14 ++++++++++++--
 qw/source/gl_sky_clip.c |   14 ++++++++++++--
 2 files changed, 24 insertions(+), 4 deletions(-)

commit 0b587c3
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Mon May 21 07:02:30 2001 +0000

    Attempt to fix -3dfx configure.in issues.

 configure.in |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 13279da
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Mon May 21 06:42:06 2001 +0000

    At Mercury's request, undo his last configure.in change.

 configure.in |   12 ------------
 1 file changed, 12 deletions(-)

commit e9a2509
Author: Zephaniah E. Hull <warp@babylon.d2dc.net>
Date:   Mon May 21 06:27:01 2001 +0000

    Deal with the case of no -lX11 but with a valid libGL, for -3dfx.

 configure.in |   12 ++++++++++++
 1 file changed, 12 insertions(+)

commit 853dfce
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Mon May 21 04:41:57 2001 +0000

    Minor cleanups, not client.h or host.h clean yet, though.

 nq/source/gl_screen.c |    3 ++-
 nq/source/gl_view.c   |    1 +
 nq/source/screen.c    |    1 -
 nq/source/sw_view.c   |    1 +
 qw/source/gl_screen.c |    3 ++-
 qw/source/gl_view.c   |    1 +
 qw/source/sw_view.c   |    1 +
 7 files changed, 8 insertions(+), 3 deletions(-)

commit 4d09685
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Mon May 21 03:39:41 2001 +0000

    Remove client.h from sw_rsurf.c. Prepare gl_rsurf.c for same.

 nq/source/gl_rsurf.c |    1 +
 nq/source/sw_rsurf.c |    2 +-
 qw/source/gl_rsurf.c |    1 +
 qw/source/sw_rsurf.c |    2 +-
 4 files changed, 4 insertions(+), 2 deletions(-)

commit a9c9a46
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Mon May 21 03:08:07 2001 +0000

    client.h gone from gl_rlight.c and sw_rlight.c.
    cl_lightstyle -> r_lightstyle

 include/QF/qdefs.h    |    2 +-
 include/QF/render.h   |   11 +++++++++++
 nq/include/client.h   |    7 -------
 nq/source/cl_main.c   |    3 +--
 nq/source/cl_parse.c  |    4 ++--
 nq/source/gl_draw.c   |    3 ++-
 nq/source/gl_rlight.c |    9 +++++----
 nq/source/r_main.c    |    4 ++++
 nq/source/sw_rlight.c |    7 +++----
 qw/include/client.h   |    9 ---------
 qw/source/cl_demo.c   |    2 +-
 qw/source/cl_main.c   |    3 +--
 qw/source/cl_parse.c  |    4 ++--
 qw/source/gl_draw.c   |    3 ++-
 qw/source/gl_rlight.c |    9 +++++----
 qw/source/r_main.c    |    4 ++++
 qw/source/sw_rlight.c |    7 +++----
 17 files changed, 47 insertions(+), 44 deletions(-)

commit f38a233
Author: Bill Currie <bill@taniwha.org>
Date:   Mon May 21 01:12:07 2001 +0000

    make snd_oss_rw affect the rest of the places it needs to

 libs/audio/targets/snd_oss.c |    9 ++++++---
 1 file changed, 6 insertions(+), 3 deletions(-)

commit ece576e
Author: Bill Currie <bill@taniwha.org>
Date:   Mon May 21 00:22:35 2001 +0000

    reduce gl_rmain's dependency on cl*.h

 include/QF/render.h  |    2 ++
 nq/source/cl_main.c  |    5 ++++-
 nq/source/gl_rmain.c |   18 +++++++++---------
 nq/source/host.c     |    1 +
 nq/source/r_main.c   |    2 ++
 qw/source/cl_ents.c  |   12 ++++++++----
 qw/source/cl_main.c  |    6 ++++++
 qw/source/gl_rmain.c |   35 +++++++++++++++++------------------
 qw/source/r_main.c   |    2 ++
 9 files changed, 51 insertions(+), 32 deletions(-)

commit 1aef81e
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sun May 20 23:30:16 2001 +0000

    Minor makefile cleanups.

 nq/source/Makefile.am |   40 ++++++++++++++++++++--------------------
 qw/source/Makefile.am |   40 ++++++++++++++++++++--------------------
 2 files changed, 40 insertions(+), 40 deletions(-)

commit 62eefb4
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sun May 20 22:02:44 2001 +0000

    Remove gl_cull cvar. Was enabled regardless of the setting of the cvar, in any case.

 nq/source/gl_rmain.c |   17 ++++++-----------
 nq/source/r_cvar.c   |    2 --
 qw/source/gl_rmain.c |   21 +++++++++++++++------
 qw/source/r_cvar.c   |    2 --
 4 files changed, 21 insertions(+), 21 deletions(-)

commit d9b509b
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sun May 20 21:47:18 2001 +0000

    nonintel stuff makes more sense in nonintel.c

 nq/source/nonintel.c |    4 +++-
 nq/source/sw_rmain.c |    4 ----
 qw/source/nonintel.c |    4 +++-
 qw/source/sw_rmain.c |    4 ----
 4 files changed, 6 insertions(+), 10 deletions(-)

commit ee8bdb0
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sun May 20 21:44:05 2001 +0000

    sw_rvars.c was just a little bit silly for a simple variable declaration.

 nq/source/Makefile.am |    2 +-
 nq/source/sw_rmain.c  |    3 +++
 nq/source/sw_rvars.c  |   45 ---------------------------------------------
 qw/source/Makefile.am |    2 +-
 qw/source/sw_rmain.c  |    3 +++
 qw/source/sw_rvars.c  |   45 ---------------------------------------------
 6 files changed, 8 insertions(+), 92 deletions(-)

commit a140bd1
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sun May 20 20:52:27 2001 +0000

    Whitespace. *grmbl*

 libs/audio/cd/cd_dos.c   |    4 ++--
 libs/audio/cd/cd_linux.c |   13 +++++++++----
 libs/audio/cd/cd_null.c  |    3 ++-
 libs/audio/cd/cd_sdl.c   |   12 +++++++++---
 libs/audio/cd/cd_sgi.c   |   24 +++++++++++++++++-------
 libs/audio/cd/cd_win.c   |    2 +-
 6 files changed, 40 insertions(+), 18 deletions(-)

commit 337430a
Author: Bill Currie <bill@taniwha.org>
Date:   Sun May 20 20:38:51 2001 +0000

    sw_rmain.c is now client and chase clean.

 include/QF/render.h   |    3 +++
 include/d_iface.h     |    2 ++
 include/d_ifacea.h    |    2 +-
 nq/include/game.h     |    3 ---
 nq/source/host.c      |    6 ++++++
 nq/source/r_main.c    |    6 +++++-
 nq/source/screen.c    |    4 ++--
 nq/source/sw_rmain.c  |   44 +++++++++++---------------------------------
 nq/source/sw_rmisc.c  |    6 +++---
 qw/include/bothdefs.h |    3 ---
 qw/source/cl_main.c   |    6 ++++++
 qw/source/r_main.c    |    6 +++++-
 qw/source/screen.c    |    4 ++--
 qw/source/sw_rmain.c  |   35 ++++++++++-------------------------
 qw/source/sw_rmisc.c  |    6 +++---
 15 files changed, 59 insertions(+), 77 deletions(-)

commit 7d008a5
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sun May 20 20:35:39 2001 +0000

    whitespace

 qw/source/buildnum.c |   27 +++++++++++++--------------
 1 file changed, 13 insertions(+), 14 deletions(-)

commit 3f816c0
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sun May 20 18:07:39 2001 +0000

    whitespace.

 nq/source/world.c |  331 ++++++++++++++++++-----------------------------------
 qw/source/world.c |  228 +++++++++++++++---------------------
 2 files changed, 207 insertions(+), 352 deletions(-)

commit a07d05e
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sun May 20 16:29:41 2001 +0000

    whitenoise--

 nq/source/wad.c |   58 ++++++++++++++++++++++---------------------------------
 qw/source/wad.c |   38 +++++++++++++++++-------------------
 2 files changed, 41 insertions(+), 55 deletions(-)

commit 44943e7
Author: Bill Currie <bill@taniwha.org>
Date:   Sun May 20 06:23:46 2001 +0000

    better fix for the dlights problem (will prevent similar problems in the
    future)

 include/QF/render.h   |    2 +-
 nq/source/gl_screen.c |    1 -
 nq/source/host.c      |    2 +-
 nq/source/r_main.c    |    5 ++---
 nq/source/screen.c    |    1 -
 qw/source/cl_main.c   |    2 +-
 qw/source/gl_screen.c |    1 -
 qw/source/r_main.c    |    5 ++---
 qw/source/screen.c    |    1 -
 9 files changed, 7 insertions(+), 13 deletions(-)

commit 88302bd
Author: Bill Currie <bill@taniwha.org>
Date:   Sun May 20 06:13:20 2001 +0000

    fix the broken dlights. turns out realtime is not the right thing (cl.time is)

 nq/source/host.c     |    4 ++--
 nq/source/keys.c     |    2 +-
 nq/source/net_comx.c |    2 +-
 nq/source/net_dgrm.c |    6 +++---
 nq/source/net_ser.c  |    2 +-
 nq/source/sv_ded.c   |    2 +-
 6 files changed, 9 insertions(+), 9 deletions(-)

commit d360b01
Author: Bill Currie <bill@taniwha.org>
Date:   Sun May 20 05:42:52 2001 +0000

    move dlight stuff out of cl_* into r_main.c. nq dlights seem to be broken,
    but that seems to have been from before this work

 include/QF/render.h   |   24 ++++++++++++++++-
 include/r_local.h     |   18 ++-----------
 include/r_shared.h    |    1 +
 nq/include/client.h   |    4 ---
 nq/source/cl_main.c   |   68 +++++--------------------------------------------
 nq/source/cl_parse.c  |    2 +-
 nq/source/cl_tent.c   |    6 ++---
 nq/source/gl_rlight.c |    4 +--
 nq/source/gl_rmain.c  |    8 +++---
 nq/source/gl_rmisc.c  |    4 +--
 nq/source/gl_rsurf.c  |   18 ++++++-------
 nq/source/gl_screen.c |    1 +
 nq/source/host.c      |    2 +-
 nq/source/r_main.c    |   64 ++++++++++++++++++++++++++++++++++++++++++++++
 nq/source/screen.c    |    1 +
 nq/source/sw_ralias.c |    1 -
 nq/source/sw_rlight.c |    4 ++-
 nq/source/sw_rmain.c  |   22 ++++++++--------
 nq/source/sw_rsurf.c  |    6 ++---
 qw/include/cl_main.h  |    3 ---
 qw/include/client.h   |    1 -
 qw/source/cl_ents.c   |   58 ++---------------------------------------
 qw/source/cl_main.c   |    5 ++--
 qw/source/cl_parse.c  |    4 +--
 qw/source/cl_tent.c   |    6 ++---
 qw/source/gl_rlight.c |    4 +--
 qw/source/gl_rmain.c  |    8 +++---
 qw/source/gl_rmisc.c  |    4 +--
 qw/source/gl_rsurf.c  |   18 ++++++-------
 qw/source/gl_screen.c |    1 +
 qw/source/r_main.c    |   64 ++++++++++++++++++++++++++++++++++++++++++++++
 qw/source/screen.c    |    1 +
 qw/source/sw_ralias.c |    1 -
 qw/source/sw_rlight.c |    4 ++-
 qw/source/sw_rmain.c  |   23 +++++++++--------
 qw/source/sw_rsurf.c  |    6 ++---
 36 files changed, 247 insertions(+), 222 deletions(-)

commit f7330f0
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sun May 20 04:36:20 2001 +0000

    Change meaning of gl_lightmap_components a bit. Setting 4 changed to reduce texture memory waste by a bit. Really only an optimization for nvidia drivers anyways. This also should fix a quality issue in 16bpp with it set to 4.

 nq/source/gl_rsurf.c |    6 +++++-
 qw/source/gl_rsurf.c |    6 +++++-
 2 files changed, 10 insertions(+), 2 deletions(-)

commit cf2e098
Author: Bill Currie <bill@taniwha.org>
Date:   Sun May 20 04:26:22 2001 +0000

    header order

 nq/source/sw_rbsp.c |    2 +-
 qw/source/sw_rbsp.c |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit a41af75
Author: Bill Currie <bill@taniwha.org>
Date:   Sun May 20 04:25:36 2001 +0000

    cl.worldmodel is only remfereced once in the renderer (and that will be
    going away shortly)

 nq/source/gl_rlight.c |   10 +++++-----
 nq/source/gl_rmain.c  |    8 ++++----
 nq/source/gl_rmisc.c  |   14 +++++++-------
 nq/source/gl_rsurf.c  |   32 ++++++++++++++++----------------
 nq/source/sw_rbsp.c   |    3 +--
 nq/source/sw_rlight.c |   10 +++++-----
 nq/source/sw_rmain.c  |   14 +++++++-------
 nq/source/sw_rmisc.c  |    2 +-
 nq/source/sw_rsurf.c  |    2 +-
 qw/source/gl_rlight.c |   10 +++++-----
 qw/source/gl_rmain.c  |    8 ++++----
 qw/source/gl_rmisc.c  |   14 +++++++-------
 qw/source/gl_rsurf.c  |   32 ++++++++++++++++----------------
 qw/source/sw_rbsp.c   |    3 +--
 qw/source/sw_rlight.c |   10 +++++-----
 qw/source/sw_rmain.c  |   14 +++++++-------
 qw/source/sw_rmisc.c  |    2 +-
 qw/source/sw_rsurf.c  |    2 +-
 18 files changed, 94 insertions(+), 96 deletions(-)

commit daca64e
Author: Bill Currie <bill@taniwha.org>
Date:   Sun May 20 03:54:55 2001 +0000

    more cl*.h dependency cleanups realtime and cl.time are no longer reffed

 include/QF/screen.h      |    2 +-
 include/r_shared.h       |    2 ++
 nq/source/Makefile.am    |    2 +-
 nq/source/gl_dyn_fires.c |    9 +++++----
 nq/source/gl_dyn_part.c  |   36 ++++++++++++++++++------------------
 nq/source/gl_rlight.c    |    6 +++---
 nq/source/gl_rmain.c     |   19 +++++++++----------
 nq/source/gl_rsurf.c     |    5 ++---
 nq/source/gl_screen.c    |   12 +++++++-----
 nq/source/gl_skin.c      |    2 +-
 nq/source/gl_sky.c       |    8 ++++----
 nq/source/gl_sky_clip.c  |    1 +
 nq/source/gl_warp.c      |   10 +++++-----
 nq/source/host.c         |    4 ++--
 nq/source/keys.c         |    2 +-
 nq/source/net_dgrm.c     |    6 +++---
 nq/source/r_main.c       |    1 +
 nq/source/screen.c       |   10 ++++++----
 nq/source/sw_ralias.c    |    4 ++--
 nq/source/sw_rlight.c    |    4 ++--
 nq/source/sw_rmain.c     |    8 ++++----
 nq/source/sw_rpart.c     |   20 ++++++++++----------
 nq/source/sw_rsky.c      |    3 +--
 nq/source/sw_rsprite.c   |    4 ++--
 nq/source/sw_rsurf.c     |    6 +++---
 qw/source/Makefile.am    |    2 +-
 qw/source/cl_main.c      |    4 ++--
 qw/source/cl_parse.c     |    4 ++--
 qw/source/cl_skin.c      |    2 +-
 qw/source/d_scan.c       |    6 +++---
 qw/source/gl_dyn_fires.c |    9 +++++----
 qw/source/gl_dyn_part.c  |   36 ++++++++++++++++++------------------
 qw/source/gl_rlight.c    |    6 +++---
 qw/source/gl_rmain.c     |   18 +++++++++---------
 qw/source/gl_rsurf.c     |    5 ++---
 qw/source/gl_screen.c    |   10 ++++++----
 qw/source/gl_skin.c      |    2 +-
 qw/source/gl_sky.c       |    8 ++++----
 qw/source/gl_sky_clip.c  |    1 +
 qw/source/gl_warp.c      |   10 +++++-----
 qw/source/keys.c         |    2 +-
 qw/source/r_main.c       |    1 +
 qw/source/screen.c       |    8 +++++---
 qw/source/sw_ralias.c    |    4 ++--
 qw/source/sw_rlight.c    |    4 ++--
 qw/source/sw_rmain.c     |    8 ++++----
 qw/source/sw_rpart.c     |   20 ++++++++++----------
 qw/source/sw_rsky.c      |    3 +--
 qw/source/sw_rsprite.c   |    4 ++--
 qw/source/sw_rsurf.c     |    6 +++---
 50 files changed, 190 insertions(+), 179 deletions(-)

commit 844ed4a
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sun May 20 03:38:58 2001 +0000

    tiny header cleanup.

 nq/source/gl_rmain.c |    1 -
 1 file changed, 1 deletion(-)

commit d1c2b0e
Author: Bill Currie <bill@taniwha.org>
Date:   Sun May 20 02:39:56 2001 +0000

    r_efrag.c no longer relies on cl*.h

 include/QF/render.h   |    2 ++
 include/r_dynamic.h   |    2 +-
 include/r_local.h     |    3 ++
 nq/include/client.h   |    5 ---
 nq/source/Makefile.am |    2 +-
 nq/source/cl_main.c   |    7 ++--
 nq/source/cl_tent.c   |   14 ++------
 nq/source/gl_rmain.c  |   20 ++++++------
 nq/source/r_efrag.c   |    3 +-
 nq/source/r_ent.c     |   87 +++++++++++++++++++++++++++++++++++++++++++++++++
 nq/source/sw_rmain.c  |    8 ++---
 qw/include/cl_main.h  |    4 ---
 qw/include/cl_tent.h  |    1 -
 qw/source/Makefile.am |    2 +-
 qw/source/cl_ents.c   |   10 +++---
 qw/source/cl_main.c   |    6 ----
 qw/source/cl_tent.c   |   14 ++------
 qw/source/gl_rmain.c  |   20 ++++++------
 qw/source/r_efrag.c   |    3 +-
 qw/source/r_ent.c     |   87 +++++++++++++++++++++++++++++++++++++++++++++++++
 qw/source/sw_rmain.c  |    8 ++---
 21 files changed, 223 insertions(+), 85 deletions(-)

commit e0512e4
Author: Bill Currie <bill@taniwha.org>
Date:   Sun May 20 01:58:59 2001 +0000

    r_efrag.c is almost client.h free

 include/QF/render.h |    2 ++
 include/r_shared.h  |    2 ++
 nq/include/client.h |    3 ---
 nq/source/cl_main.c |    9 ++-------
 nq/source/r_efrag.c |   36 ++++++++++++++++++++++++++----------
 qw/include/client.h |    3 ---
 qw/source/cl_main.c |   12 ++----------
 qw/source/r_efrag.c |   41 ++++++++++++++++++++++++++++-------------
 8 files changed, 62 insertions(+), 46 deletions(-)

commit aa09f5c
Author: Bill Currie <bill@taniwha.org>
Date:   Sun May 20 01:05:05 2001 +0000

    hopefully fix Despair's torches

 nq/source/cl_parse.c |   10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit 2fa09aa
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Sun May 20 00:56:09 2001 +0000

    Restore hardware gamma on exit.

 include/context_x11.h            |    7 ++++---
 libs/video/targets/context_x11.c |   29 ++++++++++++++++++++++-------
 2 files changed, 26 insertions(+), 10 deletions(-)

commit f834f99
Author: Bill Currie <bill@taniwha.org>
Date:   Sun May 20 00:34:40 2001 +0000

    diffsnr++

 nq/source/host.c   |    1 +
 nq/source/r_view.c |  168 ++++++++++++++++++++++++++--------------------------
 qw/source/r_view.c |   18 +++---
 3 files changed, 92 insertions(+), 95 deletions(-)

commit 916b52f
Author: Bill Currie <bill@taniwha.org>
Date:   Sat May 19 23:38:56 2001 +0000

    more diff S/N ratio improvements

 nq/source/gl_view.c    |    4 ----
 nq/source/r_view.c     |    4 ----
 nq/source/sw_ralias.c  |   16 +++++++++-------
 nq/source/sw_rdraw.c   |   32 ++++++++++++++++----------------
 nq/source/sw_rsky.c    |    3 ---
 nq/source/sw_rsprite.c |   14 ++++++--------
 nq/source/sw_view.c    |    1 -
 qw/source/sw_ralias.c  |    8 ++++----
 qw/source/sw_rsky.c    |    2 +-
 qw/source/sw_rsprite.c |   11 +++++------
 qw/source/sw_skin.c    |    7 +++++++
 11 files changed, 48 insertions(+), 54 deletions(-)

commit 2edaee8
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sat May 19 23:31:20 2001 +0000

    Whitespace.

 nq/source/cl_parse.c |  110 ++++++++++++++----------------
 qw/source/cl_parse.c |  184 ++++++++++++++++++++------------------------------
 2 files changed, 126 insertions(+), 168 deletions(-)

commit 5569f04
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Sat May 19 23:24:57 2001 +0000

    whitespace

 libs/util/quakefs.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 5a7b757
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Sat May 19 23:24:20 2001 +0000

    Misc. API header cleanups.

 include/QF/input.h    |   27 +++++++++++++--------------
 include/QF/joystick.h |   29 +++++++++++++++++------------
 2 files changed, 30 insertions(+), 26 deletions(-)

commit 149e847
Author: Bill Currie <bill@taniwha.org>
Date:   Sat May 19 22:27:44 2001 +0000

    Call SCR_UpdateScreen at the end of Host_Init

 qw/source/cl_main.c |    2 ++
 1 file changed, 2 insertions(+)

commit 0d573c6
Author: Bill Currie <bill@taniwha.org>
Date:   Sat May 19 22:26:06 2001 +0000

    rename Chase_Init to Chase_Init_Cvars and shift the call.
    Call SCR_UpdateScreen at the end of Host_Init so you're not stuck with a
    black screen during initial loading

 nq/include/chase.h |    2 +-
 nq/source/cl_cam.c |    2 +-
 nq/source/host.c   |    4 +++-
 3 files changed, 5 insertions(+), 3 deletions(-)

commit 5432983
Author: Bill Currie <bill@taniwha.org>
Date:   Sat May 19 21:46:02 2001 +0000

    ignore generated files

 libs/audio/.gitignore |    6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit 9698c19
Author: Bill Currie <bill@taniwha.org>
Date:   Sat May 19 21:09:48 2001 +0000

    fix beams, grens, nails, etc

 nq/source/cl_main.c  |    2 ++
 nq/source/cl_parse.c |   24 ++++++++++++++++++++----
 2 files changed, 22 insertions(+), 4 deletions(-)

commit e9857d8
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sat May 19 20:57:29 2001 +0000

    Merges, and cl_writecfg now works in nq.

 nq/source/cl_main.c  |    8 ++----
 nq/source/com.c      |    7 +++--
 nq/source/gl_rmain.c |   16 ++++++-----
 nq/source/host.c     |   36 ++++++++++++------------
 qw/source/cl_main.c  |    8 ++----
 qw/source/com.c      |    2 +-
 qw/source/gl_rmain.c |   76 ++++++++++++++++++++++++++++++++++++++++++++++++--
 7 files changed, 112 insertions(+), 41 deletions(-)

commit d55f9e4
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sat May 19 17:32:04 2001 +0000

    diff noise. blech.

 nq/source/console.c |   34 +++++++++++++++++-----------------
 qw/source/console.c |    2 +-
 2 files changed, 18 insertions(+), 18 deletions(-)

commit 0c7cc40
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sat May 19 17:02:56 2001 +0000

    diff noise reduction.

 nq/include/protocol.h |    6 ++++--
 nq/source/gl_rmisc.c  |    6 +++---
 nq/source/gl_view.c   |    9 +++------
 qw/source/gl_view.c   |   14 ++++++--------
 4 files changed, 16 insertions(+), 19 deletions(-)

commit 6e3ea5c
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sat May 19 16:22:35 2001 +0000

    whitespace

 qw/source/gl_skin.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit aef4cd6
Author: Adam Olsen <rhamph@gmail.com>
Date:   Sat May 19 08:53:08 2001 +0000

    do shm = 0 after SNDDMA_Shutdown is called

 libs/audio/targets/snd_dma.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit bfbcf8f
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sat May 19 07:28:04 2001 +0000

    attempt to get the sdl audio lib to compile automatically if SDL is present. Works For Me, Your Mileage May Vary (incredibly).

 configure.in |    9 +++------
 1 file changed, 3 insertions(+), 6 deletions(-)

commit 7f0d8ed
Author: Bill Currie <bill@taniwha.org>
Date:   Sat May 19 05:53:50 2001 +0000

    correct the scale init and enable the qsg inits in cl_tent

 nq/source/cl_parse.c |    2 +-
 nq/source/cl_tent.c  |    2 --
 2 files changed, 1 insertion(+), 3 deletions(-)

commit 5fb17e3
Author: Bill Currie <bill@taniwha.org>
Date:   Sat May 19 04:38:03 2001 +0000

    fix the installation location of the plugins

 libs/audio/targets/Makefile.am |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit e2600e4
Author: Zephaniah E. Hull <warp@babylon.d2dc.net>
Date:   Sat May 19 03:41:22 2001 +0000

    Fixed the with-plugin-path option.

 configure.in |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 1e84684
Author: Bill Currie <bill@taniwha.org>
Date:   Sat May 19 02:09:59 2001 +0000

    fix the alsa plugin building

 libs/audio/targets/Makefile.am |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 9f12485
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sat May 19 02:09:08 2001 +0000

    whitespace

 nq/source/com.c |   22 ++++++++--------------
 qw/source/com.c |    3 ---
 2 files changed, 8 insertions(+), 17 deletions(-)

commit 0910c85
Author: Bill Currie <bill@taniwha.org>
Date:   Sat May 19 01:59:04 2001 +0000

    make R_LineGraph non-static

 qw/source/gl_ngraph.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit fef41a4
Author: Bill Currie <bill@taniwha.org>
Date:   Sat May 19 01:58:31 2001 +0000

    cl_main.c cl_parse.c:
    	entity_t baseline fixes
    gl_ngraph.c:
    	make r_LineGraph non-static

 nq/source/cl_main.c   |   20 +++++++++++++++-----
 nq/source/cl_parse.c  |   46 +++++++++++++++++++++++-----------------------
 nq/source/gl_ngraph.c |    2 +-
 3 files changed, 39 insertions(+), 29 deletions(-)

commit ec5daaa
Author: Bill Currie <bill@taniwha.org>
Date:   Sat May 19 00:23:21 2001 +0000

    finally merge render.h. nq will NOT currently compile. I'll fix that when I
    get back onto my computer at home

 include/QF/render.h     |  165 ++++++++++++++++++++++++++++++++++++++++++++++
 nq/include/client.h     |    2 +-
 nq/include/render.h     |  167 -----------------------------------------------
 nq/source/cl_main.c     |    2 +-
 nq/source/d_edge.c      |    2 +-
 nq/source/d_init.c      |    2 +-
 nq/source/d_modech.c    |    2 +-
 nq/source/d_scan.c      |    2 +-
 nq/source/d_sky.c       |    2 +-
 nq/source/d_sprite.c    |    2 +-
 nq/source/gl_dyn_part.c |    2 +-
 nq/source/gl_rmisc.c    |    2 +-
 nq/source/gl_skin.c     |    2 +-
 nq/source/gl_sky.c      |    2 +-
 nq/source/r_part.c      |    2 +-
 nq/source/sw_raclip.c   |    2 +-
 nq/source/sw_rbsp.c     |    2 +-
 nq/source/sw_rdraw.c    |    2 +-
 nq/source/sw_redge.c    |    2 +-
 nq/source/sw_rmisc.c    |    2 +-
 nq/source/sw_skin.c     |    2 +-
 qw/include/cl_main.h    |    2 +-
 qw/include/client.h     |    2 +-
 qw/include/render.h     |  159 --------------------------------------------
 qw/source/d_edge.c      |    2 +-
 qw/source/d_init.c      |    2 +-
 qw/source/d_modech.c    |    2 +-
 qw/source/d_scan.c      |    2 +-
 qw/source/d_sky.c       |    2 +-
 qw/source/d_sprite.c    |    2 +-
 qw/source/gl_dyn_part.c |    2 +-
 qw/source/gl_rmisc.c    |    2 +-
 qw/source/gl_skin.c     |    2 +-
 qw/source/gl_sky.c      |    2 +-
 qw/source/sw_raclip.c   |    2 +-
 qw/source/sw_ralias.c   |    2 +-
 qw/source/sw_rbsp.c     |    2 +-
 qw/source/sw_rdraw.c    |    2 +-
 qw/source/sw_redge.c    |    2 +-
 qw/source/sw_rmisc.c    |    2 +-
 qw/source/sw_skin.c     |    2 +-
 41 files changed, 203 insertions(+), 364 deletions(-)

commit 9cc3095
Author: Adam Olsen <rhamph@gmail.com>
Date:   Sat May 19 00:05:35 2001 +0000

    Sound now uses runtime plugins.  Much thanks to Deek for doing all the
    thinking :)
    set fs_pluginpath to point to the right dir, and set snd_plugin to pick a sound
    plugin.
    
    Current issues:
    - alsa 0.5 won't build properly, dunno why
    - segfault on exit.  I think I know the cause of this, and how to fix it
    - alsa 0.9, gus, sgi, sun, and win32 havn't been tested

 configure.in                      |  203 +++++++++++++++++++++---------------
 include/QF/plugin/sound.h         |    3 +
 libs/audio/Makefile.am            |   11 ++
 libs/audio/snd.c                  |  208 +++++++++++++++++++++++++++++++++++++
 libs/audio/snd_common.c           |   44 ++++++++
 libs/audio/targets/Makefile.am    |  103 ++++++++++--------
 libs/audio/targets/snd_alsa_0_5.c |   68 ++++++++++++
 libs/audio/targets/snd_alsa_0_9.c |   67 ++++++++++++
 libs/audio/targets/snd_common.c   |   44 --------
 libs/audio/targets/snd_disk.c     |   68 ++++++++++++
 libs/audio/targets/snd_dma.c      |  167 +++++++++++++++--------------
 libs/audio/targets/snd_mem.c      |    6 +-
 libs/audio/targets/snd_mix.c      |   13 +--
 libs/audio/targets/snd_null.c     |  108 +++++++++++++++----
 libs/audio/targets/snd_oss.c      |   67 ++++++++++++
 libs/audio/targets/snd_sdl.c      |   72 ++++++++++++-
 libs/audio/targets/snd_sgi.c      |   67 ++++++++++++
 libs/audio/targets/snd_sun.c      |   68 ++++++++++++
 libs/util/plugin.c                |    8 +-
 nq/source/Makefile.am             |    4 +-
 qw/source/Makefile.am             |    4 +-
 qw/source/cl_main.c               |    4 +-
 22 files changed, 1121 insertions(+), 286 deletions(-)

commit 378adbf
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 18 23:57:38 2001 +0000

    diff noise reduction

 nq/include/render.h |   10 ++++------
 qw/include/render.h |    6 ++----
 2 files changed, 6 insertions(+), 10 deletions(-)

commit a771ef7
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 18 22:47:48 2001 +0000

    missed setting the viewent QSG stuff

 nq/source/r_view.c |    3 +++
 1 file changed, 3 insertions(+)

commit c7527ed
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 18 22:33:35 2001 +0000

    merge in the QSG stuff (bringing gl_rmain closer)

 nq/include/protocol.h |    7 +++++++
 nq/source/cl_main.c   |    7 +++++++
 nq/source/cl_parse.c  |    7 +++++++
 nq/source/gl_rmain.c  |   15 ++++++++-------
 4 files changed, 29 insertions(+), 7 deletions(-)

commit 18e6b43
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 18 22:07:10 2001 +0000

    diff noise reduction in render.h and its fallout

 nq/include/render.h  |   60 ++++++++++++++++++--------------------------------
 nq/source/cl_main.c  |    1 +
 nq/source/gl_rmain.c |    1 +
 qw/include/render.h  |   52 +++++++++++++++++++++----------------------
 4 files changed, 49 insertions(+), 65 deletions(-)

commit 1ea84a3
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 18 21:23:25 2001 +0000

    unused file

 nq/source/vregset.c |   86 ---------------------------------------------------
 1 file changed, 86 deletions(-)

commit 5316476
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 18 21:21:59 2001 +0000

    whitespace

 nq/source/draw.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 6bb969b
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Fri May 18 21:07:08 2001 +0000

    diff noise reduction

 nq/source/sw_rlight.c |    1 -
 1 file changed, 1 deletion(-)

commit 1c87b2e
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 18 21:06:45 2001 +0000

    more merging

 nq/source/Makefile.am |    2 +-
 nq/source/gl_ngraph.c |  186 +++++++++++++++++++++++++++++++++++++++++++++++++
 nq/source/gl_rmisc.c  |    2 -
 nq/source/gl_screen.c |    5 +-
 nq/source/gl_view.c   |    5 +-
 5 files changed, 190 insertions(+), 10 deletions(-)

commit f0c6dfc
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 18 21:05:38 2001 +0000

    now identical

 nq/source/r_cvar.c |   73 ++++++++++++++++++++++++----------------------------
 qw/source/r_cvar.c |   19 ++++++++++----
 2 files changed, 48 insertions(+), 44 deletions(-)

commit 9949108
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Fri May 18 20:52:15 2001 +0000

    draw.c now identical in qw and nq.

 nq/source/draw.c |   34 ++++++++++++----------------------
 qw/source/draw.c |   39 ++++++++++++---------------------------
 2 files changed, 24 insertions(+), 49 deletions(-)

commit 51cb61a
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Fri May 18 20:38:22 2001 +0000

    keys.c is now identical in nq and qw, as well as less of a whitespace mess.

 nq/source/keys.c |  112 ++++++++++++++++++++++--------------------------------
 qw/source/keys.c |  110 +++++++++++++++++++++--------------------------------
 2 files changed, 88 insertions(+), 134 deletions(-)

commit 89360e5
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 18 20:23:53 2001 +0000

    no need for bothdefs.h

 qw/source/d_polyse.c |    1 -
 1 file changed, 1 deletion(-)

commit 788218d
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 18 20:22:59 2001 +0000

    turned out just a copy was needed

 nq/source/d_polyse.c |  241 +++++++++++++++++++++-----------------------------
 1 file changed, 100 insertions(+), 141 deletions(-)

commit 69ab5c9
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 18 20:19:20 2001 +0000

    99% merge of d_*.[cS]. just d_polyse to look at

 nq/source/d_copy.S   |    4 ++--
 nq/source/d_edge.c   |   22 ++++++++++-----------
 nq/source/d_init.c   |   53 +++++++-------------------------------------------
 nq/source/d_modech.c |    3 +--
 nq/source/d_scan.c   |   43 ++++++++++++++++++++--------------------
 nq/source/d_sprite.c |   24 ++++++++++++-----------
 nq/source/d_surf.c   |   27 ++++++++++++-------------
 nq/source/d_vars.c   |   12 ++++++------
 nq/source/d_zpoint.c |    2 +-
 qw/source/d_init.c   |    3 ---
 10 files changed, 76 insertions(+), 117 deletions(-)

commit 664c640
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 18 19:58:49 2001 +0000

    total merge of the particle system (except r_part.c isn't in qw yet)

 nq/include/client.h     |    1 +
 nq/include/render.h     |    1 -
 nq/source/cl_parse.c    |    2 +-
 nq/source/cl_tent.c     |   27 ++++++++++++++++++++++++
 nq/source/gl_dyn_part.c |   24 ++++++++++++---------
 nq/source/r_part.c      |   53 ++---------------------------------------------
 nq/source/sw_rmain.c    |    2 --
 qw/source/d_part.c      |    1 +
 8 files changed, 46 insertions(+), 65 deletions(-)

commit 6ee0692
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 18 19:21:51 2001 +0000

    complete the merge of sw_rpart.c. this involved adding old_origin to entity_t
    and setting it up correctly

 nq/include/render.h  |    1 +
 nq/source/cl_main.c  |    3 +--
 nq/source/sw_rpart.c |   17 +++++++++--------
 3 files changed, 11 insertions(+), 10 deletions(-)

commit 1dbfea3
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Fri May 18 18:33:37 2001 +0000

    console.c mergable. Little bit of cleanup of client.h

 nq/include/client.h |  114 +++++++++++++++++++++++++++++----------------------
 nq/source/console.c |  111 ++++++++++++++++++++++++++++---------------------
 qw/include/client.h |   67 +++++++++++++++---------------
 qw/source/console.c |   31 ++++++--------
 4 files changed, 173 insertions(+), 150 deletions(-)

commit a735b92
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 18 18:04:55 2001 +0000

    kill the allowskybox varible. it wasn't ever checked anyway

 nq/source/gl_rmisc.c |    4 ----
 nq/source/sw_rmisc.c |    3 ---
 qw/include/client.h  |    2 --
 qw/source/cl_main.c  |    8 +-------
 qw/source/gl_rmisc.c |    4 ----
 qw/source/sw_rmain.c |    2 --
 qw/source/sw_rmisc.c |    3 ---
 7 files changed, 1 insertion(+), 25 deletions(-)

commit e75a2b9
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 18 17:50:19 2001 +0000

    cl_entities[0] is no longer referred to in the sw renderer. insted,
    r_worldentity is used.

 nq/include/render.h  |    1 +
 nq/source/sw_rbsp.c  |    9 ++++++---
 nq/source/sw_redge.c |    3 +--
 nq/source/sw_rmain.c |    7 ++++++-
 qw/source/sw_rbsp.c  |    3 +--
 5 files changed, 15 insertions(+), 8 deletions(-)

commit 3e2a92a
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 18 17:11:30 2001 +0000

    allow the mouse to be freed when vid_fullscreen changes from 1 to 0

 libs/video/targets/context_x11.c |    8 ++++++++
 1 file changed, 8 insertions(+)

commit 2e11cbb
Author: Adam Olsen <rhamph@gmail.com>
Date:   Thu May 17 23:21:26 2001 +0000

    some sdl audio tweaks that made it work with artsc output
    
    thought I commited these before.. (where have we heard that before?) ;)

 libs/audio/targets/snd_sdl.c |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit eb95bca
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 17 21:45:56 2001 +0000

    move the gib language out of nq and into its own dir (hehe, libQFgib:)

 configure.in                 |    1 +
 libs/Makefile.am             |    2 +-
 libs/gib/.gitignore          |    7 ++
 libs/gib/Makefile.am         |    9 ++
 libs/gib/gib.c               |   77 ++++++++++++++
 libs/gib/gib_instructions.c  |  235 ++++++++++++++++++++++++++++++++++++++++++
 libs/gib/gib_interpret.c     |  205 ++++++++++++++++++++++++++++++++++++
 libs/gib/gib_modules.c       |  165 +++++++++++++++++++++++++++++
 libs/gib/gib_parse.c         |  225 ++++++++++++++++++++++++++++++++++++++++
 libs/gib/gib_stack.c         |   83 +++++++++++++++
 libs/gib/gib_vars.c          |   82 +++++++++++++++
 nq/source/Makefile.am        |    5 +-
 nq/source/gib.c              |   77 --------------
 nq/source/gib_instructions.c |  235 ------------------------------------------
 nq/source/gib_interpret.c    |  205 ------------------------------------
 nq/source/gib_modules.c      |  165 -----------------------------
 nq/source/gib_parse.c        |  225 ----------------------------------------
 nq/source/gib_stack.c        |   83 ---------------
 nq/source/gib_vars.c         |   82 ---------------
 19 files changed, 1092 insertions(+), 1076 deletions(-)

commit d62ac62
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 17 21:32:59 2001 +0000

    allow commands other than set to be executed from ~/.quakeforgerc

 nq/source/host.c    |    5 ++---
 qw/source/cl_main.c |    4 ++--
 qw/source/sv_main.c |    1 +
 3 files changed, 5 insertions(+), 5 deletions(-)

commit 4cd29c2
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 17 20:57:29 2001 +0000

    don't go fullscreen when already fullcreen

 include/context_x11.h            |    2 ++
 libs/video/targets/context_x11.c |   27 ++++++++++++++++++++-------
 2 files changed, 22 insertions(+), 7 deletions(-)

commit 306d6db
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 17 20:05:36 2001 +0000

    if ... if -> if ... else if

 libs/util/cmd.c |    3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit 011b161
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 17 18:29:22 2001 +0000

    check for the availability of usleep

 configure.in        |    2 ++
 qw/source/cl_main.c |    2 ++
 2 files changed, 4 insertions(+)

commit d820a6e
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 17 16:52:47 2001 +0000

    fix up the libs dependencies so the targets get relinked if any of the QF
    libs get updated (vital for static builds)

 nq/source/Makefile.am |   34 +++++++++++++++++-----------------
 qw/source/Makefile.am |   45 +++++++++++++++++++++++----------------------
 2 files changed, 40 insertions(+), 39 deletions(-)

commit 040f256
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 17 16:30:44 2001 +0000

    work around the libtool 1.4 problem with the obsoleted ltconf that automake
    hasn't learned about yet

 bootstrap |   19 +++++++++++++++++++
 1 file changed, 19 insertions(+)

commit 65cf395
Author: Adam Olsen <rhamph@gmail.com>
Date:   Thu May 17 10:10:40 2001 +0000

    make it release the CPU when framerate is too high
    
    I thought I commited this already...

 qw/source/cl_main.c |   20 ++++++++++++++------
 1 file changed, 14 insertions(+), 6 deletions(-)

commit c21f9d6
Author: Adam Olsen <rhamph@gmail.com>
Date:   Thu May 17 10:08:00 2001 +0000

    removed "in thinger" :)

 libs/video/targets/context_x11.c |    1 -
 1 file changed, 1 deletion(-)

commit 749270a
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 17 09:56:43 2001 +0000

    vid_fullscreen toggling thanks to james411

 libs/video/targets/context_x11.c |   16 +++++++++++++++-
 libs/video/targets/vid_glx.c     |    6 ++++++
 2 files changed, 21 insertions(+), 1 deletion(-)

commit a344c9f
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 17 08:29:04 2001 +0000

    lib link order fixing so stat libs work

 nq/source/Makefile.am |   27 ++++++++++++++-------------
 qw/source/Makefile.am |   25 +++++++++++++------------
 2 files changed, 27 insertions(+), 25 deletions(-)

commit 4a690f8
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 17 07:53:22 2001 +0000

    fix nq's startup code re commandline vs config file (also make sure comands
    aren't double executed)

 nq/source/host.c |   59 ++++++++++++++++++++++++++++++++++++++++++------------
 1 file changed, 46 insertions(+), 13 deletions(-)

commit 44f4c68
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 17 07:52:37 2001 +0000

    whitespace

 qw/source/cl_main.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 9bea21a
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 17 06:55:47 2001 +0000

    first stab at doing vid_mode the right way, thanks to james111
    (James Andariese - james@ja.ath.cx) doesn't quite work properly for all
    window managers, but NICE :)

 libs/video/targets/context_x11.c |   35 +++++++++++++++++++++++++++--------
 libs/video/targets/vid_glx.c     |    8 ++++++++
 libs/video/targets/vid_x11.c     |    7 +++++++
 3 files changed, 42 insertions(+), 8 deletions(-)

commit 4606c6c
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 17 03:48:31 2001 +0000

    new automake conditionals: BUILD_GL and BUILD_SW for use in places where it
    matters (eg, selecting whether to build the gl and or sw specific model code)

 configure.in                   |   14 ++++++++++++++
 libs/models/Makefile.am        |   14 +++++++++++++-
 libs/models/alias/Makefile.am  |   14 +++++++++++++-
 libs/models/brush/Makefile.am  |   14 +++++++++++++-
 libs/models/sprite/Makefile.am |   14 +++++++++++++-
 5 files changed, 66 insertions(+), 4 deletions(-)

commit 78440a5
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 16 20:38:38 2001 +0000

    add the beginnings of quakeforge-config ala gtk-config

 .gitignore           |    1 +
 configure.in         |    3 ++-
 quakeforge-config.in |   72 ++++++++++++++++++++++++++++++++++++++++++++++++++
 3 files changed, 75 insertions(+), 1 deletion(-)

commit d16dc87
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 16 18:59:31 2001 +0000

    fix oss' device openning mode. defaults to write only, but read/write can be
    selected by setting snd_oss_rw (need better name?) to non-zero

 include/QF/sound.h           |    1 +
 libs/audio/targets/snd_dma.c |    4 ++++
 libs/audio/targets/snd_oss.c |    6 +++++-
 3 files changed, 10 insertions(+), 1 deletion(-)

commit 35a52bb
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 16 17:20:42 2001 +0000

    diff noise reductions + fix what looks to be a bug with surf flushing

 nq/source/sw_redge.c |   29 ++++++++++++++++-------------
 qw/source/sw_redge.c |   11 ++++-------
 2 files changed, 20 insertions(+), 20 deletions(-)

commit 8f4394d
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 16 17:08:56 2001 +0000

    various merge cleanups including moving the contents of R_Textures_Init into
    Mod_Init

 libs/models/model.c  |   24 +++++++++++++++++++
 nq/source/gl_rmisc.c |   32 -------------------------
 nq/source/host.c     |    2 --
 nq/source/r_cvar.c   |    4 ++++
 nq/source/sw_rmain.c |   64 +++++++++++++-------------------------------------
 qw/source/cl_main.c  |    2 --
 qw/source/gl_rmain.c |    2 +-
 qw/source/gl_rmisc.c |   32 -------------------------
 qw/source/sw_rmain.c |   42 ++++-----------------------------
 9 files changed, 49 insertions(+), 155 deletions(-)

commit dda567a
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 16 15:54:56 2001 +0000

    clean up a comment

 qw/source/sw_rmisc.c |    3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit 0efc398
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 16 06:04:38 2001 +0000

    diff noise cleanup

 nq/source/sw_rmisc.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 72cc67e
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 16 06:01:34 2001 +0000

    kill r_fullbright and r_draworder
    `merge' skin handling

 include/QF/skin.h     |    2 +
 nq/source/Makefile.am |   10 +--
 nq/source/cl_main.c   |    1 -
 nq/source/cl_parse.c  |   37 +-------
 nq/source/gl_rmain.c  |    3 -
 nq/source/gl_rmisc.c  |  148 ------------------------------
 nq/source/gl_skin.c   |  240 +++++++++++++++++++++++++++++++++++++++++++++++++
 nq/source/host.c      |    6 +-
 nq/source/host_cmd.c  |   52 -----------
 nq/source/host_skin.c |  143 +++++++++++++++++++++++++++++
 nq/source/r_cvar.c    |    5 --
 nq/source/skin.c      |  223 +++++++++++++++++++++++++++++++++++++++++++++
 nq/source/sw_redge.c  |   12 +--
 nq/source/sw_rmisc.c  |   16 ----
 nq/source/sw_rsurf.c  |   21 +++--
 nq/source/sw_skin.c   |   96 ++++++++++++++++++++
 qw/source/gl_skin.c   |   49 +++++++---
 qw/source/r_cvar.c    |    3 -
 qw/source/sw_redge.c  |   12 +--
 qw/source/sw_rmisc.c  |    3 -
 qw/source/sw_rsurf.c  |   16 ++--
 21 files changed, 779 insertions(+), 319 deletions(-)

commit 266e6b3
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 16 03:55:19 2001 +0000

    put TE_BLOOD and TE_LIGHTNINGBLOOD into nq and clean up some other diffs.
    down to just old_origin vs ent->msg_origins

 nq/source/sw_rpart.c |    7 ++++++-
 qw/source/sw_rpart.c |    8 +++-----
 2 files changed, 9 insertions(+), 6 deletions(-)

commit e2944a8
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 16 03:37:53 2001 +0000

    forgot to remove the debug info

 nq/source/cl_tent.c |    2 --
 1 file changed, 2 deletions(-)

commit 3461e3d
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 16 03:24:08 2001 +0000

    get the gunshot effect back

 nq/source/cl_tent.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 793a5ff
Author: Bill Currie <bill@taniwha.org>
Date:   Tue May 15 22:03:23 2001 +0000

    run the correct particle effect for TE_GUNSHOT

 nq/source/cl_tent.c |    6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit e61c33c
Author: Bill Currie <bill@taniwha.org>
Date:   Tue May 15 21:34:54 2001 +0000

    merge of cl_tents and r_efrag.

 nq/include/client.h     |   19 +-
 nq/include/protocol.h   |   12 +-
 nq/source/cl_main.c     |   15 +-
 nq/source/cl_tent.c     |  553 +++++++++++++++++++++++++++++------------------
 nq/source/gl_rmain.c    |   10 +-
 nq/source/r_efrag.c     |    8 +-
 qw/include/protocol.h   |    8 +
 qw/source/cl_ents.c     |    2 -
 qw/source/cl_tent.c     |   86 +++++++-
 qw/source/gl_dyn_part.c |   16 ++
 qw/source/sw_rpart.c    |   30 +++
 11 files changed, 493 insertions(+), 266 deletions(-)

commit e7c2ed8
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Tue May 15 21:13:07 2001 +0000

    whitespace...

 nq/source/sw_raclip.c  |   13 +----
 nq/source/sw_ralias.c  |   82 ++++++++-------------------
 nq/source/sw_rbsp.c    |   88 ++++++++---------------------
 nq/source/sw_rdraw.c   |  120 ++++++++++++++++-----------------------
 nq/source/sw_redge.c   |  118 ++++++++++++---------------------------
 nq/source/sw_rlight.c  |   28 ++++------
 nq/source/sw_rmain.c   |  131 +++++++++++++------------------------------
 nq/source/sw_rmisc.c   |   51 ++++++++---------
 nq/source/sw_rpart.c   |    9 ++-
 nq/source/sw_rsky.c    |   30 ++--------
 nq/source/sw_rsprite.c |   84 ++++++++++------------------
 nq/source/sw_rsurf.c   |   65 ++++++----------------
 nq/source/sw_rvars.c   |    4 +-
 nq/source/sw_view.c    |    1 +
 qw/source/sw_raclip.c  |   13 +----
 qw/source/sw_ralias.c  |   92 +++++++++---------------------
 qw/source/sw_rbsp.c    |   88 +++++++++--------------------
 qw/source/sw_rdraw.c   |   92 +++++++++++-------------------
 qw/source/sw_redge.c   |  119 ++++++++++++---------------------------
 qw/source/sw_rlight.c  |   29 ++++------
 qw/source/sw_rmain.c   |  145 ++++++++++++++++--------------------------------
 qw/source/sw_rmisc.c   |   44 +++++++--------
 qw/source/sw_rpart.c   |   42 +++++---------
 qw/source/sw_rsky.c    |   33 ++---------
 qw/source/sw_rsprite.c |   77 +++++++++----------------
 qw/source/sw_rsurf.c   |   76 ++++++++-----------------
 qw/source/sw_rvars.c   |    4 +-
 qw/source/sw_skin.c    |    6 +-
 28 files changed, 539 insertions(+), 1145 deletions(-)

commit 8826182
Author: Bill Currie <bill@taniwha.org>
Date:   Tue May 15 20:03:56 2001 +0000

    misc non-functional cleanups

 nq/source/r_efrag.c |   56 ++++++++++++++++++---------------------------------
 1 file changed, 20 insertions(+), 36 deletions(-)

commit e07f911
Author: Bill Currie <bill@taniwha.org>
Date:   Tue May 15 19:38:01 2001 +0000

    some diff cleanups: use cl.viewentity instead of cl.playernum + 1 and some
    white space

 qw/source/cl_tent.c |    2 +-
 qw/source/r_efrag.c |    3 +--
 2 files changed, 2 insertions(+), 3 deletions(-)

commit 63a4cc2
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Tue May 15 19:25:33 2001 +0000

    whitespace

 nq/source/dos_v2.c |   46 +++++++++++++++++++++++++++-------------------
 1 file changed, 27 insertions(+), 19 deletions(-)

commit c278652
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Tue May 15 19:22:39 2001 +0000

    diff noise reduction

 nq/source/nonintel.c |   20 +-------------------
 qw/source/nonintel.c |   11 +----------
 2 files changed, 2 insertions(+), 29 deletions(-)

commit e88cdda
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Tue May 15 19:19:38 2001 +0000

    whitespace.

 nq/source/vregset.c |    7 ++-----
 qw/source/skin.c    |    7 ++++++-
 2 files changed, 8 insertions(+), 6 deletions(-)

commit 4206b93
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Tue May 15 19:00:53 2001 +0000

    diff noise reduction

 nq/include/render.h |   35 ++++++++++++++++++-----------------
 qw/include/render.h |   36 +++++++++++++++++++++---------------
 2 files changed, 39 insertions(+), 32 deletions(-)

commit 5d52236
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Tue May 15 17:38:43 2001 +0000

    Whitespace and comment cleanup.

 nq/source/d_edge.c   |   53 +++---------------
 nq/source/d_fill.c   |    3 -
 nq/source/d_modech.c |   11 +---
 nq/source/d_part.c   |   23 +++-----
 nq/source/d_polyse.c |  141 ++++++++++------------------------------------
 nq/source/d_scan.c   |   92 +++++++++---------------------
 nq/source/d_sky.c    |    6 --
 nq/source/d_sprite.c |   67 ++++++----------------
 nq/source/d_surf.c   |   68 ++++++----------------
 nq/source/d_vars.c   |    4 +-
 nq/source/d_zpoint.c |    5 --
 qw/source/d_edge.c   |   42 +++-----------
 qw/source/d_fill.c   |    3 -
 qw/source/d_init.c   |   26 +--------
 qw/source/d_modech.c |    7 +--
 qw/source/d_part.c   |  152 ++++++++++++++++++++++++--------------------------
 qw/source/d_polyse.c |  101 +++++++++------------------------
 qw/source/d_scan.c   |   53 +++++-------------
 qw/source/d_sky.c    |    6 --
 qw/source/d_sprite.c |   43 ++++----------
 qw/source/d_surf.c   |   59 ++++++--------------
 qw/source/d_vars.c   |    4 +-
 qw/source/d_zpoint.c |    3 -
 23 files changed, 262 insertions(+), 710 deletions(-)

commit dd81f9b
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Tue May 15 17:38:02 2001 +0000

    Change light setting from 256 and 200 to 255, for fullbright models.

 nq/source/gl_rmain.c |   12 ++++++------
 qw/source/gl_rmain.c |   12 ++++++------
 2 files changed, 12 insertions(+), 12 deletions(-)

commit 40cbc5e
Author: Bill Currie <bill@taniwha.org>
Date:   Tue May 15 17:22:53 2001 +0000

    cl.items in nq is now cl.stats[ITEMS] as per qw

 nq/include/client.h  |    1 -
 nq/include/game.h    |    1 +
 nq/source/cl_parse.c |    6 ++---
 nq/source/gl_rmain.c |    2 +-
 nq/source/gl_view.c  |   16 ++++++-------
 nq/source/sbar.c     |   64 +++++++++++++++++++++++++-------------------------
 nq/source/sw_rmain.c |    2 +-
 nq/source/sw_view.c  |   12 +++++-----
 qw/source/sw_view.c  |    2 +-
 9 files changed, 53 insertions(+), 53 deletions(-)

commit 9c9e22f
Author: Bill Currie <bill@taniwha.org>
Date:   Tue May 15 06:35:47 2001 +0000

    fix segfault when using -abyss etc

 nq/source/host.c |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 3509203
Author: Bill Currie <bill@taniwha.org>
Date:   Tue May 15 05:38:06 2001 +0000

    that wasn't quite the right thing to do

 nq/source/gl_screen.c |    1 -
 nq/source/screen.c    |    1 -
 qw/source/gl_screen.c |    1 -
 qw/source/screen.c    |    1 -
 4 files changed, 4 deletions(-)

commit ba0d0c7
Author: Bill Currie <bill@taniwha.org>
Date:   Tue May 15 05:27:14 2001 +0000

    do key_dest right

 nq/source/cl_demo.c   |    2 ++
 nq/source/cl_main.c   |    2 ++
 nq/source/gl_screen.c |    1 +
 nq/source/screen.c    |    1 +
 qw/source/cl_pred.c   |    7 +++++--
 qw/source/gl_screen.c |    1 +
 qw/source/screen.c    |    1 +
 7 files changed, 13 insertions(+), 2 deletions(-)

commit 7b4e395
Author: Bill Currie <bill@taniwha.org>
Date:   Tue May 15 04:50:53 2001 +0000

    massive merging madness mounds

 nq/source/sw_raclip.c  |   16 +-
 nq/source/sw_ralias.c  |   58 +++-----
 nq/source/sw_rbsp.c    |   51 +++----
 nq/source/sw_redge.c   |   88 ++++-------
 nq/source/sw_rlight.c  |   30 +---
 nq/source/sw_rmain.c   |  382 ++++++++++++++++++++++++------------------------
 nq/source/sw_rmisc.c   |  204 +++++++++++++++-----------
 nq/source/sw_rsprite.c |   53 +++----
 nq/source/sw_rsurf.c   |   99 ++++---------
 nq/source/sw_rvars.c   |    7 +-
 nq/source/sw_view.c    |   37 ++---
 qw/source/sw_rbsp.c    |    3 +-
 qw/source/sw_redge.c   |    8 -
 qw/source/sw_rmain.c   |   20 ++-
 qw/source/sw_rmisc.c   |    5 +-
 qw/source/sw_rsurf.c   |    1 -
 qw/source/sw_view.c    |    4 +-
 17 files changed, 475 insertions(+), 591 deletions(-)

commit eb65d61
Author: Bill Currie <bill@taniwha.org>
Date:   Tue May 15 03:27:55 2001 +0000

    more merge madness

 nq/include/render.h      |    2 +-
 nq/source/gl_dyn_fires.c |    1 -
 nq/source/gl_dyn_part.c  |    2 +-
 nq/source/gl_rmain.c     |    8 +++++---
 nq/source/gl_rmisc.c     |   35 ++++++++++++++++++++++-------------
 nq/source/gl_screen.c    |    1 -
 nq/source/gl_textures.c  |    3 +--
 nq/source/host.c         |    2 +-
 nq/source/sw_rmain.c     |    4 ++--
 qw/source/gl_dyn_fires.c |    4 ++--
 qw/source/gl_rlight.c    |    1 -
 qw/source/gl_rmain.c     |    5 ++++-
 qw/source/gl_rmisc.c     |    7 +++++--
 qw/source/gl_textures.c  |    1 -
 14 files changed, 44 insertions(+), 32 deletions(-)

commit cf7487b
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Tue May 15 02:19:36 2001 +0000

    Dead cvar removal, diff noise cleanup. The usual.

 nq/source/gl_rmain.c |    1 -
 nq/source/r_cvar.c   |  115 ++++++++++++++++++++++++++++++++------------------
 qw/source/r_cvar.c   |   27 ++++++------
 3 files changed, 87 insertions(+), 56 deletions(-)

commit 312cb5b
Author: Bill Currie <bill@taniwha.org>
Date:   Mon May 14 20:57:50 2001 +0000

    clean up the diffs again after enabling R_Mirror in nq

 qw/source/gl_rmain.c |   40 +++++++++++++++++++++++-----------------
 1 file changed, 23 insertions(+), 17 deletions(-)

commit 86d76ed
Author: Bill Currie <bill@taniwha.org>
Date:   Mon May 14 20:49:18 2001 +0000

    enable the mirror code. no idea how well it works

 nq/source/gl_rmain.c |   45 ++++++++++++++++++++++++---------------------
 1 file changed, 24 insertions(+), 21 deletions(-)

commit 1b74d30
Author: Bill Currie <bill@taniwha.org>
Date:   Mon May 14 20:35:32 2001 +0000

    diff noise reduction

 nq/source/gl_rmain.c |   20 +++++++++-----------
 qw/source/gl_rmain.c |    4 ++--
 2 files changed, 11 insertions(+), 13 deletions(-)

commit 0c16f56
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Mon May 14 19:46:16 2001 +0000

    diff noise reduction.

 nq/source/cl_main.c |  110 +++++++++++++++-----------------------
 nq/source/sbar.c    |   52 +++++-------------
 qw/source/cl_main.c |    2 +-
 qw/source/sbar.c    |  146 ++++++++++++++++++++++-----------------------------
 4 files changed, 118 insertions(+), 192 deletions(-)

commit 2c80bff
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Mon May 14 06:57:38 2001 +0000

    Removed useless comments.

 qw/source/cl_main.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 59d033f
Author: Bill Currie <bill@taniwha.org>
Date:   Mon May 14 06:54:14 2001 +0000

    fix the black alias models

 nq/source/gl_rmain.c |   11 +++++++++++
 1 file changed, 11 insertions(+)

commit 9064530
Author: Bill Currie <bill@taniwha.org>
Date:   Mon May 14 06:48:59 2001 +0000

    diff noise reduction

 nq/source/gl_view.c |   68 +++++++++++++++++++++++++--------------------------
 qw/source/gl_view.c |    8 +++++-
 2 files changed, 40 insertions(+), 36 deletions(-)

commit a2ac0b5
Author: Bill Currie <bill@taniwha.org>
Date:   Mon May 14 06:48:11 2001 +0000

    forgot this

 nq/source/r_cvar.c |    3 +++
 1 file changed, 3 insertions(+)

commit afef935
Author: Bill Currie <bill@taniwha.org>
Date:   Mon May 14 06:47:38 2001 +0000

    95% merge gl_rmain.c
    nq is actually generally working again, except alias models are black

 nq/include/render.h   |    6 +
 nq/source/Makefile.am |    2 +-
 nq/source/gl_rmain.c  |  390 ++++++++++++++++++++++++++++++++++++++++---------
 nq/source/locs.c      |  279 +++++++++++++++++++++++++++++++++++
 qw/source/gl_rmain.c  |   88 ++++++-----
 5 files changed, 652 insertions(+), 113 deletions(-)

commit 0a915d3
Author: Bill Currie <bill@taniwha.org>
Date:   Mon May 14 05:43:35 2001 +0000

    compile fix for win32

 qw/source/skin.c |    1 +
 1 file changed, 1 insertion(+)

commit 879a133
Author: Bill Currie <bill@taniwha.org>
Date:   Mon May 14 05:37:47 2001 +0000

    forward port the x11 repeat fix

 libs/video/targets/in_x11.c |    2 --
 nq/source/keys.c            |    2 +-
 qw/source/keys.c            |    2 +-
 3 files changed, 2 insertions(+), 4 deletions(-)

commit 83e0754
Author: Bill Currie <bill@taniwha.org>
Date:   Mon May 14 05:21:27 2001 +0000

    fix missing "" around cvar default

 qw/source/cl_main.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 28d3937
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Mon May 14 05:16:59 2001 +0000

    Some more whitespace, and fixes for disappearing cvars.

 qw/source/cl_ents.c     |   21 ++++----------
 qw/source/cl_main.c     |   70 +++++++++++++++++++++++++++--------------------
 qw/source/cl_pred.c     |    5 ++--
 qw/source/cl_sys_unix.c |    4 +--
 4 files changed, 50 insertions(+), 50 deletions(-)

commit 91200a8
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Mon May 14 03:08:24 2001 +0000

    Whitespace.

 nq/source/cl_cam.c      |    7 +-
 nq/source/cl_demo.c     |   61 ++++++----------
 nq/source/cl_input.c    |   92 ++++++++++++-----------
 nq/source/cl_main.c     |   44 ++++++-----
 nq/source/cl_parse.c    |   48 +++++-------
 qw/source/cl_cam.c      |   33 +++++++--
 qw/source/cl_cmd.c      |   25 +++----
 qw/source/cl_demo.c     |   46 +++++-------
 qw/source/cl_ents.c     |   63 ++++++++--------
 qw/source/cl_input.c    |  185 +++++++++++++++++++++++++++++++----------------
 qw/source/cl_main.c     |  135 +++++++++++++++-------------------
 qw/source/cl_misc.c     |    2 +
 qw/source/cl_pred.c     |   59 ++++++---------
 qw/source/cl_skin.c     |   27 ++++---
 qw/source/cl_sys_sdl.c  |   25 +++----
 qw/source/cl_sys_unix.c |   25 ++++---
 qw/source/cl_sys_win.c  |   33 ++++-----
 qw/source/cl_tent.c     |    2 +-
 18 files changed, 464 insertions(+), 448 deletions(-)

commit 56f76e8
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Mon May 14 01:22:58 2001 +0000

    More cleanups.

 include/r_local.h  |   26 ++--
 nq/source/r_cvar.c |  130 +++++++++++--------
 nq/source/r_view.c |   95 +++++++-------
 qw/source/r_cvar.c |  360 ++++++++++++++++++++++------------------------------
 qw/source/r_view.c |   27 ++--
 5 files changed, 294 insertions(+), 344 deletions(-)

commit 924cdf9
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sun May 13 23:15:34 2001 +0000

    Fix a new bug with dlights, more cleanups.

 nq/source/cl_main.c  |   27 +++++++++++++++++++++++----
 nq/source/gl_rmain.c |    2 ++
 nq/source/r_view.c   |    3 ---
 qw/source/cl_main.c  |    6 +++---
 qw/source/cl_parse.c |    1 -
 qw/source/gl_rmain.c |   10 ++++------
 6 files changed, 32 insertions(+), 17 deletions(-)

commit 048a80c
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sun May 13 22:57:27 2001 +0000

    Merges and cleanups...

 nq/source/cl_main.c         |   56 ++++++++------
 nq/source/gl_dyn_part.c     |    1 +
 nq/source/gl_dyn_textures.c |    3 +
 nq/source/gl_rmain.c        |   41 ----------
 nq/source/gl_screen.c       |   17 +----
 nq/source/gl_sky.c          |   13 ++--
 nq/source/gl_view.c         |  146 +++++++++++++++++------------------
 nq/source/gl_warp.c         |    3 -
 nq/source/r_view.c          |  178 +++++++++++++++++++++----------------------
 nq/source/sw_view.c         |  119 +++++++++++------------------
 qw/source/gl_dyn_fires.c    |    8 +-
 qw/source/gl_dyn_part.c     |   44 ++++-------
 qw/source/gl_dyn_textures.c |    3 +
 qw/source/gl_rlight.c       |    1 -
 qw/source/gl_rmain.c        |    2 +-
 qw/source/gl_rmisc.c        |    1 +
 qw/source/gl_screen.c       |   17 -----
 qw/source/gl_sky.c          |   13 ++--
 qw/source/gl_view.c         |   37 ++++-----
 qw/source/gl_warp.c         |    3 -
 qw/source/r_view.c          |  102 +++++++++----------------
 qw/source/sw_view.c         |    7 --
 22 files changed, 334 insertions(+), 481 deletions(-)

commit 87894c0
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sun May 13 17:01:17 2001 +0000

    Whitespace.

 nq/source/gl_view.c |   18 ++++++++++++------
 qw/source/gl_view.c |   10 +++-------
 2 files changed, 15 insertions(+), 13 deletions(-)

commit 871db96
Author: Bill Currie <bill@taniwha.org>
Date:   Sun May 13 04:20:09 2001 +0000

    missed the init of gl_sky_divide

 nq/source/r_cvar.c |    3 +++
 1 file changed, 3 insertions(+)

commit 4b75862
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sun May 13 04:17:05 2001 +0000

    Whitespace and comment cleanups.

 nq/source/gl_rlight.c |   22 +++++++++-------------
 qw/source/gl_rlight.c |   24 +++++++++++-------------
 2 files changed, 20 insertions(+), 26 deletions(-)

commit c7ee39a
Author: Bill Currie <bill@taniwha.org>
Date:   Sun May 13 04:01:06 2001 +0000

    rename the qw c declaration of the client name cvar from name to cl_name

 nq/include/client.h     |    2 +-
 nq/source/gl_sky_clip.c |    2 +-
 qw/include/client.h     |    2 +-
 qw/source/cl_main.c     |    6 +++---
 qw/source/gl_screen.c   |    2 +-
 qw/source/gl_sky_clip.c |    2 +-
 qw/source/screen.c      |    2 +-
 7 files changed, 9 insertions(+), 9 deletions(-)

commit 220f8a6
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sun May 13 00:28:50 2001 +0000

    Renderer merge continues. gl_rlight, gl_rmisc, gl_rmain, and gl_rsurf the current victims.

 nq/include/client.h   |    1 +
 nq/source/Makefile.am |    2 +-
 nq/source/gl_rlight.c |   17 +-
 nq/source/gl_rmain.c  |  157 +++++++----------
 nq/source/gl_rmisc.c  |   49 +++---
 nq/source/gl_rsurf.c  |  451 ++++++++++++++++++++++---------------------------
 nq/source/r_cvar.c    |  112 ++++++++----
 qw/source/gl_rmain.c  |   59 +++----
 qw/source/gl_rmisc.c  |   37 ++--
 qw/source/gl_rsurf.c  |   55 +++---
 qw/source/r_cvar.c    |   51 ++----
 11 files changed, 445 insertions(+), 546 deletions(-)

commit fc456ac
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 11 23:56:01 2001 +0000

    more header cleanups

 qw/source/cl_skin.c |    9 +--------
 qw/source/gl_skin.c |    2 --
 qw/source/skin.c    |    7 -------
 qw/source/sw_skin.c |    2 --
 4 files changed, 1 insertion(+), 19 deletions(-)

commit 559aa44
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 11 22:47:15 2001 +0000

    split out the qw client specific skin code from skin.c

 include/QF/skin.h     |    4 +-
 qw/include/cl_skin.h  |   41 +++++++++
 qw/source/Makefile.am |    4 +-
 qw/source/cl_main.c   |    8 +-
 qw/source/cl_parse.c  |    2 +-
 qw/source/cl_skin.c   |  228 +++++++++++++++++++++++++++++++++++++++++++++++++
 qw/source/skin.c      |  160 ++--------------------------------
 7 files changed, 282 insertions(+), 165 deletions(-)

commit f62ecbe
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 11 21:44:27 2001 +0000

    mild comment cleanup

 qw/source/skin.c |   11 +++++------
 1 file changed, 5 insertions(+), 6 deletions(-)

commit 74f734d
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 11 21:23:43 2001 +0000

    clean up *_skin.c's header dependencies

 include/QF/skin.h   |    4 ++--
 qw/source/gl_skin.c |   22 ++++++++--------------
 qw/source/skin.c    |    9 +++++++--
 qw/source/sw_skin.c |   17 +++++++----------
 4 files changed, 24 insertions(+), 28 deletions(-)

commit 86b2363
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Fri May 11 20:50:16 2001 +0000

    emptiness shuffled.

 nq/source/gl_rsurf.c |   37 +++++++++++++-----------------
 qw/source/gl_rsurf.c |   62 ++++++++++++++++----------------------------------
 2 files changed, 36 insertions(+), 63 deletions(-)

commit a2b5fe3
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Fri May 11 19:53:23 2001 +0000

    Whitespace.

 nq/source/gl_draw.c |    2 +-
 qw/source/gl_draw.c |    1 +
 2 files changed, 2 insertions(+), 1 deletion(-)

commit 105d1ee
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 11 19:33:17 2001 +0000

    well, that didn't last long, did it?
    merge r_cvar.h

 include/r_cvar.h    |   85 +++++++++++++++++++++++++++++++++++++++++++++++++++
 nq/include/r_cvar.h |   77 ----------------------------------------------
 qw/include/r_cvar.h |   75 ---------------------------------------------
 3 files changed, 85 insertions(+), 152 deletions(-)

commit f8c15a1
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Fri May 11 19:30:26 2001 +0000

    *poke*

 nq/source/Makefile.am |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 4ff8605
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 11 19:21:48 2001 +0000

    pull all rendering cvar declarations and initialisations out of the misc
    files and put them into r_cvar.[ch] getting ready for the renderer merge

 nq/include/r_cvar.h   |   77 +++++++++++
 nq/source/Makefile.am |    2 +-
 nq/source/d_init.c    |    9 +-
 nq/source/draw.c      |   13 +-
 nq/source/gl_draw.c   |   48 +------
 nq/source/gl_rmain.c  |   33 -----
 nq/source/gl_rmisc.c  |   52 --------
 nq/source/gl_rsurf.c  |    7 +-
 nq/source/gl_screen.c |   36 +-----
 nq/source/host.c      |    4 +-
 nq/source/r_cvar.c    |  186 +++++++++++++++++++++++++++
 nq/source/screen.c    |   34 +----
 nq/source/sw_rmain.c  |   53 +-------
 nq/source/sw_rpart.c  |    2 +-
 nq/source/sw_rsurf.c  |    5 +
 qw/include/r_cvar.h   |   75 +++++++++++
 qw/source/Makefile.am |    2 +-
 qw/source/cl_main.c   |    2 -
 qw/source/d_init.c    |   16 +--
 qw/source/draw.c      |    6 -
 qw/source/gl_draw.c   |   49 +------
 qw/source/gl_rmain.c  |   29 +----
 qw/source/gl_rmisc.c  |   41 ------
 qw/source/gl_rsurf.c  |    5 +-
 qw/source/gl_screen.c |   36 +-----
 qw/source/r_cvar.c    |  341 +++++++++++++++++++++++++++++++++++++++++++++++++
 qw/source/screen.c    |   34 +----
 qw/source/sw_rmain.c  |   63 +--------
 qw/source/sw_rsurf.c  |    5 +
 29 files changed, 708 insertions(+), 557 deletions(-)

commit 6ba3288
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 11 16:23:00 2001 +0000

    more diff noise reduction. just down to the diferences in the way gl stuff
    is handled.

 nq/source/gl_rlight.c |  123 +++++++++++++++++++++++------------------------
 qw/source/gl_rlight.c |  126 +------------------------------------------------
 2 files changed, 61 insertions(+), 188 deletions(-)

commit b775a6f
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 11 06:11:17 2001 +0000

    remove some diff noise to ease merging

 nq/source/gl_rlight.c |   46 ++++++++++++----------------------------------
 qw/source/gl_rlight.c |   10 +++++-----
 2 files changed, 17 insertions(+), 39 deletions(-)

commit 8ce3fa5
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 11 06:09:01 2001 +0000

    `merge' gl_refrag.c and sw_refrag.c into r_efrag.c like what was done in qw

 nq/source/Makefile.am |    6 +-
 nq/source/gl_refrag.c |  230 ----------------------------------------
 nq/source/r_efrag.c   |  278 +++++++++++++++++++++++++++++++++++++++++++++++++
 nq/source/sw_refrag.c |  278 -------------------------------------------------
 4 files changed, 281 insertions(+), 511 deletions(-)

commit 44317f2
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 11 05:59:17 2001 +0000

    merge gl_mesh.c into libQFmodels

 libs/models/alias/Makefile.am |    2 +-
 libs/models/alias/gl_mesh.c   |  412 +++++++++++++++++++++++++++++++++++++++++
 nq/source/Makefile.am         |    2 +-
 nq/source/gl_mesh.c           |  412 -----------------------------------------
 qw/source/Makefile.am         |    2 +-
 qw/source/gl_mesh.c           |  412 -----------------------------------------
 6 files changed, 415 insertions(+), 827 deletions(-)

commit d987483
Author: Bill Currie <bill@taniwha.org>
Date:   Fri May 11 02:03:02 2001 +0000

    forgot to make sure Mod_Init_Cvars got called

 nq/source/host.c |   18 +++++++++---------
 1 file changed, 9 insertions(+), 9 deletions(-)

commit 28c809d
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Fri May 11 01:01:27 2001 +0000

    Alliteration Annoys Always

 nq/source/Makefile.am   |    5 +-
 nq/source/cl_main.c     |   31 +-
 nq/source/d_sky.c       |   12 +-
 nq/source/draw.c        |  451 ++++++++++++---------------
 nq/source/gl_draw.c     |   15 +-
 nq/source/gl_rmisc.c    |    2 +-
 nq/source/gl_screen.c   |  725 ++++++++++++++++++++++---------------------
 nq/source/gl_sky.c      |  343 +++++++++++++++++++++
 nq/source/gl_sky_clip.c |  776 ++++++++++++++++++++++++++++++++++++++++++++++
 nq/source/gl_warp.c     |  646 +-------------------------------------
 nq/source/host.c        |    2 +-
 nq/source/host_cmd.c    |    4 +-
 nq/source/pcx.c         |  206 +++++++++++++
 nq/source/screen.c      |  783 +++++++++++++++++++++++++----------------------
 nq/source/sw_rdraw.c    |   58 ++--
 nq/source/sw_rsky.c     |   71 ++---
 nq/source/tga.c         |  244 +++++++++++++++
 qw/source/draw.c        |    6 +-
 qw/source/gl_draw.c     |    7 +-
 19 files changed, 2671 insertions(+), 1716 deletions(-)

commit bcfd870
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 10 21:43:57 2001 +0000

    textures will be a lib of its own

 TODO |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 9e52646
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 10 21:33:48 2001 +0000

    make a note about my disagreement with "formats". There is disagreement with
    "models" but that can be sorted later

 TODO |   10 +++++++++-
 1 file changed, 9 insertions(+), 1 deletion(-)

commit ab29863
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Thu May 10 17:49:35 2001 +0000

    Grok Goofs Grumble.

 qw/include/d_local.h |  122 --------------------------------------------------
 1 file changed, 122 deletions(-)

commit a5d3e61
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Thu May 10 17:45:05 2001 +0000

    More Merge Madness.

 include/r_dynamic.h    |   56 ++++++++++++++++++++++++++++++++++++++++++++++++
 nq/include/r_dynamic.h |   56 ------------------------------------------------
 qw/include/r_dynamic.h |   49 ------------------------------------------
 3 files changed, 56 insertions(+), 105 deletions(-)

commit 7aa70de
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Thu May 10 17:26:03 2001 +0000

    *meld*

 include/d_local.h      |  122 ++++++++++++++++++++++++++++++++++++++++++++++++
 nq/include/Makefile.am |    8 ++--
 nq/include/d_local.h   |  119 ----------------------------------------------
 qw/include/Makefile.am |    6 +--
 4 files changed, 129 insertions(+), 126 deletions(-)

commit d03e28a
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 10 16:29:11 2001 +0000

    correct the link order of the libs

 nq/source/Makefile.am |   16 ++++++++--------
 qw/source/Makefile.am |   22 +++++++++++-----------
 2 files changed, 19 insertions(+), 19 deletions(-)

commit f501679
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 10 15:34:29 2001 +0000

    forgot to compile test first :/

 libs/models/alias/gl_model_alias.c |    1 +
 1 file changed, 1 insertion(+)

commit 77eed96
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 10 15:30:23 2001 +0000

    don't need these any more

 nq/source/gl_model_alias.c      |  323 -------------
 nq/source/gl_model_brush.c      |  105 ----
 nq/source/gl_model_fullbright.c |   80 ---
 nq/source/gl_model_sprite.c     |   85 ----
 nq/source/model.c               |  260 ----------
 nq/source/model_alias.c         |  232 ---------
 nq/source/model_brush.c         | 1014 ---------------------------------------
 nq/source/model_sprite.c        |  177 -------
 nq/source/sw_model_alias.c      |  300 ------------
 nq/source/sw_model_brush.c      |   70 ---
 nq/source/sw_model_sprite.c     |   93 ----
 11 files changed, 2739 deletions(-)

commit d3d3a1c
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 10 15:29:29 2001 +0000

    finish the model merge

 libs/models/alias/gl_model_alias.c |   10 +++++++---
 libs/models/alias/sw_model_alias.c |    3 ++-
 libs/models/model.c                |    6 +++---
 3 files changed, 12 insertions(+), 7 deletions(-)

commit e12879c
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 10 06:05:54 2001 +0000

    fixup dependency checking

 libs/models/Makefile.am |    3 +++
 1 file changed, 3 insertions(+)

commit 2c07108
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 10 06:01:11 2001 +0000

    model loading code merge. dragged in smoe merges and cleanups of d_iface.h,
    r_local.h, r_shared.h, client.h and render.h at the same time (couldn't get
    away from that:/) verly likely to be lots of breakage (eg, player and eye
    models are NOT checksummed atm), but everything builds

 configure.in                         |    4 +
 include/QF/skin.h                    |    5 +-
 include/d_iface.h                    |   21 +-
 include/d_ifacea.h                   |   19 +-
 include/r_local.h                    |  363 +++++++++++++
 include/r_shared.h                   |  162 ++++++
 libs/Makefile.am                     |    2 +-
 libs/models/.gitignore               |    7 +
 libs/models/Makefile.am              |   15 +
 libs/models/alias/.gitignore         |    7 +
 libs/models/alias/Makefile.am        |    9 +
 libs/models/alias/gl_model_alias.c   |  312 +++++++++++
 libs/models/alias/model_alias.c      |  266 +++++++++
 libs/models/alias/sw_model_alias.c   |  288 ++++++++++
 libs/models/brush/.gitignore         |    7 +
 libs/models/brush/Makefile.am        |    9 +
 libs/models/brush/gl_model_brush.c   |  117 ++++
 libs/models/brush/model_brush.c      |  993 ++++++++++++++++++++++++++++++++++
 libs/models/brush/sw_model_brush.c   |   72 +++
 libs/models/gl_model_fullbright.c    |   81 +++
 libs/models/model.c                  |  256 +++++++++
 libs/models/sprite/.gitignore        |    7 +
 libs/models/sprite/Makefile.am       |    9 +
 libs/models/sprite/gl_model_sprite.c |   89 +++
 libs/models/sprite/model_sprite.c    |  169 ++++++
 libs/models/sprite/sw_model_sprite.c |  101 ++++
 nq/include/client.h                  |   29 +-
 nq/include/d_local.h                 |    2 +-
 nq/include/r_local.h                 |  332 ------------
 nq/include/r_shared.h                |  170 ------
 nq/source/Makefile.am                |   28 +-
 nq/source/cl_main.c                  |    3 -
 nq/source/d_init.c                   |    3 +
 nq/source/d_modech.c                 |    4 +-
 nq/source/d_scan.c                   |    4 +-
 nq/source/d_sky.c                    |    3 +-
 nq/source/d_sprite.c                 |    1 +
 nq/source/gl_dyn_part.c              |   23 +-
 nq/source/gl_rmain.c                 |    2 +-
 nq/source/r_view.c                   |    1 +
 nq/source/screen.c                   |    1 +
 nq/source/sw_raclip.c                |    3 +-
 nq/source/sw_ralias.c                |    5 +-
 nq/source/sw_rbsp.c                  |    5 +-
 nq/source/sw_rdraw.c                 |    3 +-
 nq/source/sw_redge.c                 |    2 +
 nq/source/sw_refrag.c                |    2 +
 nq/source/sw_rlight.c                |    1 +
 nq/source/sw_rmain.c                 |   10 +-
 nq/source/sw_rmisc.c                 |    8 +-
 nq/source/sw_rpart.c                 |    4 +
 nq/source/sw_rsky.c                  |    1 +
 nq/source/sw_rsprite.c               |    4 +-
 nq/source/sw_rsurf.c                 |    4 +-
 qw/include/client.h                  |   25 +-
 qw/include/d_local.h                 |    2 +-
 qw/include/r_local.h                 |  332 ------------
 qw/include/r_shared.h                |  160 ------
 qw/source/Makefile.am                |   30 +-
 qw/source/d_edge.c                   |    1 +
 qw/source/d_init.c                   |    2 +
 qw/source/d_modech.c                 |    4 +-
 qw/source/d_scan.c                   |    2 +
 qw/source/d_sky.c                    |    1 +
 qw/source/d_sprite.c                 |    1 +
 qw/source/gl_dyn_part.c              |   23 +-
 qw/source/gl_model_alias.c           |  310 -----------
 qw/source/gl_model_brush.c           |  117 ----
 qw/source/gl_model_fullbright.c      |   78 ---
 qw/source/gl_model_sprite.c          |   89 ---
 qw/source/gl_rmain.c                 |    1 -
 qw/source/gl_rmisc.c                 |    2 +
 qw/source/gl_screen.c                |    1 +
 qw/source/gl_skin.c                  |    2 +-
 qw/source/model.c                    |  255 ---------
 qw/source/model_alias.c              |  265 ---------
 qw/source/model_brush.c              |  991 ---------------------------------
 qw/source/model_sprite.c             |  169 ------
 qw/source/sw_model_alias.c           |  288 ----------
 qw/source/sw_model_brush.c           |   72 ---
 qw/source/sw_model_sprite.c          |  100 ----
 qw/source/sw_raclip.c                |    1 +
 qw/source/sw_ralias.c                |    2 +
 qw/source/sw_rbsp.c                  |    5 +-
 qw/source/sw_rdraw.c                 |    5 +-
 qw/source/sw_redge.c                 |    4 +-
 qw/source/sw_rlight.c                |    1 +
 qw/source/sw_rmain.c                 |    3 +-
 qw/source/sw_rmisc.c                 |    2 +
 qw/source/sw_rpart.c                 |    7 +-
 qw/source/sw_rsky.c                  |    1 +
 qw/source/sw_rsprite.c               |    4 +-
 qw/source/sw_rsurf.c                 |    4 +-
 qw/source/sw_view.c                  |    2 +
 94 files changed, 3515 insertions(+), 3897 deletions(-)

commit 5cd8ddb
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Thu May 10 04:16:39 2001 +0000

    *shuffle*

 include/logos.h        |  398 ++++++++++++++++++++++++
 include/mpdosock.h     |  797 ++++++++++++++++++++++++++++++++++++++++++++++++
 nq/include/Makefile.am |    4 +-
 nq/include/mpdosock.h  |  797 ------------------------------------------------
 qw/include/Makefile.am |    4 +-
 qw/include/logos.h     |  398 ------------------------
 6 files changed, 1199 insertions(+), 1199 deletions(-)

commit f5f3260
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Thu May 10 03:36:31 2001 +0000

    Taniwha apparently lost interest after doing the hard part, so I'll just merge this...

 include/d_iface.h    |  245 ++++++++++++++++++++++++++++++++++++++++++++++++++
 nq/include/d_iface.h |  245 --------------------------------------------------
 qw/include/d_iface.h |  245 --------------------------------------------------
 3 files changed, 245 insertions(+), 490 deletions(-)

commit 00f6e26
Author: Bill Currie <bill@taniwha.org>
Date:   Thu May 10 03:16:29 2001 +0000

    clean up some nasty dependencies

 nq/include/d_iface.h  |    2 +-
 nq/include/r_shared.h |    1 +
 qw/include/d_iface.h  |    2 +-
 qw/include/r_shared.h |    4 +---
 4 files changed, 4 insertions(+), 5 deletions(-)

commit 5864e85
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Thu May 10 02:42:19 2001 +0000

    Clean up after aforementioned shoggoth.

 qw/include/buildnum.h |   34 ----------------------------------
 1 file changed, 34 deletions(-)

commit 9529f12
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Thu May 10 02:37:55 2001 +0000

    Mister Spock was here.

 include/d_ifacea.h     |  106 ++++++++++++++++++++++++++++++++++++++++++++++++
 nq/include/Makefile.am |    2 +-
 nq/include/d_ifacea.h  |  102 ----------------------------------------------
 qw/include/Makefile.am |    2 +-
 qw/include/d_ifacea.h  |  106 ------------------------------------------------
 5 files changed, 108 insertions(+), 210 deletions(-)

commit 2fe98e9
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Thu May 10 02:29:38 2001 +0000

    More merging. Become one with the shoggoth. Poor hungry shoggoth...

 include/buildnum.h     |   34 ++++++++++++++++++++++++++++++++++
 qw/include/Makefile.am |    2 +-
 2 files changed, 35 insertions(+), 1 deletion(-)

commit 37a93b3
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Wed May 9 22:40:51 2001 +0000

    Merge draw.h.

 include/QF/draw.h       |   56 ++++++++++++++++++++++
 nq/include/Makefile.am  |   10 ++--
 nq/include/draw.h       |   56 ----------------------
 nq/source/console.c     |    7 +--
 nq/source/draw.c        |    9 ++--
 nq/source/gl_draw.c     |    8 ++--
 nq/source/gl_rmisc.c    |    2 +-
 nq/source/gl_rsurf.c    |   58 +++++++++--------------
 nq/source/gl_screen.c   |   98 ++++++++++++++++----------------------
 nq/source/gl_textures.c |    7 +--
 nq/source/host.c        |    4 +-
 nq/source/r_view.c      |  119 +++++++++++------------------------------------
 nq/source/sbar.c        |  103 +++++++++-------------------------------
 nq/source/screen.c      |  112 ++++++++++++--------------------------------
 nq/source/sw_view.c     |   22 ++++-----
 qw/include/Makefile.am  |    4 +-
 qw/include/draw.h       |   56 ----------------------
 qw/source/cl_main.c     |   63 +++++++++++--------------
 qw/source/console.c     |   42 ++++++-----------
 qw/source/draw.c        |   59 +++++++++--------------
 qw/source/gl_draw.c     |   17 ++++---
 qw/source/gl_ngraph.c   |    7 ++-
 qw/source/gl_screen.c   |   10 ++--
 qw/source/gl_textures.c |    9 ++--
 qw/source/sbar.c        |   90 +++++++++++++----------------------
 qw/source/screen.c      |   11 +++--
 qw/source/sw_rmisc.c    |   47 ++++---------------
 27 files changed, 367 insertions(+), 719 deletions(-)

commit 3ba5628
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 9 22:08:21 2001 +0000

    more missed removals

 qw/include/bspfile.h  |  262 -------------------------------------------------
 qw/include/modelgen.h |  129 ------------------------
 2 files changed, 391 deletions(-)

commit 33e3f12
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 9 22:08:06 2001 +0000

    fix a bug that should have been fixed eons ago (and was in qw)

 nq/source/gl_model_alias.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit a5b2b78
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 9 22:07:35 2001 +0000

    missed a removal of fnmatch.c

 nq/source/Makefile.am |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 20a25f7
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 9 20:55:49 2001 +0000

    just not needed and if we ever need its contents again... well.. that's what
    cvs is for :)

 nq/include/glquake2.h |  217 -------------------------------------------------
 1 file changed, 217 deletions(-)

commit b9ab6bb
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 9 20:53:36 2001 +0000

    never should have been there in the first place

 nq/include/resource.h |   48 ------------------------------------------------
 1 file changed, 48 deletions(-)

commit a590700
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 9 20:50:38 2001 +0000

    move gib_*.h to include (internal headers)
    move gib.h to include/QF
    fix up the refs to gib.h

 include/QF/gib.h              |   38 ++++++++++++++++++++++++++++++++++++++
 include/gib_error.h           |   12 ++++++++++++
 include/gib_instructions.h    |   10 ++++++++++
 include/gib_interpret.h       |   15 +++++++++++++++
 include/gib_modules.h         |    7 +++++++
 include/gib_parse.h           |    8 ++++++++
 include/gib_stack.h           |   29 +++++++++++++++++++++++++++++
 include/gib_vars.h            |    5 +++++
 nq/include/gib.h              |   38 --------------------------------------
 nq/include/gib_error.h        |   12 ------------
 nq/include/gib_instructions.h |   10 ----------
 nq/include/gib_interpret.h    |   15 ---------------
 nq/include/gib_modules.h      |    7 -------
 nq/include/gib_parse.h        |    8 --------
 nq/include/gib_stack.h        |   29 -----------------------------
 nq/include/gib_vars.h         |    5 -----
 nq/source/gib.c               |    2 +-
 nq/source/gib_instructions.c  |    2 +-
 nq/source/gib_interpret.c     |    2 +-
 nq/source/gib_modules.c       |    2 +-
 nq/source/gib_parse.c         |    2 +-
 nq/source/gib_stack.c         |    2 +-
 nq/source/gib_vars.c          |    2 +-
 nq/source/host.c              |    2 +-
 24 files changed, 132 insertions(+), 132 deletions(-)

commit 271803a
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 9 20:34:39 2001 +0000

    commdef.h is dead
    good riddance

 qw/include/commdef.h |   64 --------------------------------------------------
 qw/source/gl_rmain.c |    1 -
 2 files changed, 65 deletions(-)

commit 9b666fb
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 9 20:31:21 2001 +0000

    correct an error message

 qw/source/pcx.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 83af136
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 9 18:48:55 2001 +0000

    remove pcx.c's dependence on cl_parse.h

 include/QF/pcx.h      |    5 ++---
 qw/source/gl_screen.c |    5 ++++-
 qw/source/pcx.c       |   22 +++++++---------------
 qw/source/screen.c    |   14 +++++++++++---
 4 files changed, 24 insertions(+), 22 deletions(-)

commit febf62a
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Wed May 9 18:45:38 2001 +0000

    Ack, where did all the chairs go!

 include/gl_warp_sin.h |    2 +-
 nq/source/gl_warp.c   |    2 +-
 qw/source/gl_warp.c   |    2 +-
 3 files changed, 3 insertions(+), 3 deletions(-)

commit 910e76a
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Wed May 9 18:42:37 2001 +0000

    More header musical chairs chaos. You there! No eating the chairs!

 include/QF/skin.h    |   64 ++++++++++++++++++++++++++++++++++++++++++++++++++
 include/QF/texture.h |   47 ++++++++++++++++++++++++++++++++++++
 nq/source/gl_warp.c  |    2 +-
 qw/source/gl_warp.c  |   10 +++++---
 4 files changed, 119 insertions(+), 4 deletions(-)

commit 5afd16b
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Wed May 9 18:34:46 2001 +0000

    More header cleanups.

 nq/include/Makefile.am |   15 ++++++---------
 qw/include/Makefile.am |    7 +++----
 2 files changed, 9 insertions(+), 13 deletions(-)

commit 7fa4b01
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Wed May 9 18:28:08 2001 +0000

    More header merges.

 include/gl_warp_sin.h      |   60 +++++++++++++++++++++++++++++++++++++++++
 nq/include/gl_warp_sin.h   |   60 -----------------------------------------
 qw/include/gl_warp_sin.h   |   60 -----------------------------------------
 qw/include/skin.h          |   64 --------------------------------------------
 qw/include/texture.h       |   47 --------------------------------
 qw/source/cl_main.c        |   41 ++++++++++++++--------------
 qw/source/cl_parse.c       |   21 ++++++++-------
 qw/source/gl_model_alias.c |    5 ++--
 qw/source/gl_rmain.c       |    2 +-
 qw/source/gl_rmisc.c       |    2 +-
 qw/source/gl_screen.c      |    2 +-
 qw/source/gl_skin.c        |    9 ++++---
 qw/source/pcx.c            |    2 +-
 qw/source/screen.c         |    2 +-
 qw/source/skin.c           |    4 +--
 qw/source/sw_ralias.c      |    7 ++---
 qw/source/sw_skin.c        |   12 ++++-----
 17 files changed, 117 insertions(+), 283 deletions(-)

commit 439eb60
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 9 18:04:45 2001 +0000

    fix some missed refs to teamplay.h as a result of its move

 qw/source/cl_cmd.c   |    2 +-
 qw/source/cl_input.c |    2 +-
 qw/source/cl_main.c  |    2 +-
 qw/source/cl_parse.c |    2 +-
 qw/source/teamplay.c |    2 +-
 5 files changed, 5 insertions(+), 5 deletions(-)

commit 7567098
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Wed May 9 17:57:57 2001 +0000

    More header merges.

 include/QF/hl.h        |   41 +++++++++++++++++++++++++++
 include/QF/locs.h      |   51 +++++++++++++++++++++++++++++++++
 include/QF/pcx.h       |   55 +++++++++++++++++++++++++++++++++++
 include/QF/teamplay.h  |   44 ++++++++++++++++++++++++++++
 include/QF/tga.h       |   74 ++++++++++++++++++++++++++++++++++++++++++++++++
 qw/include/Makefile.am |   15 +++++-----
 qw/include/hl.h        |   41 ---------------------------
 qw/include/locs.h      |   50 --------------------------------
 qw/include/pcx.h       |   55 -----------------------------------
 qw/include/teamplay.h  |   44 ----------------------------
 qw/include/tga.h       |   74 ------------------------------------------------
 qw/source/gl_rmain.c   |    2 +-
 qw/source/gl_screen.c  |   58 +++++++++++++++++--------------------
 qw/source/gl_sky.c     |    2 +-
 qw/source/locs.c       |    5 ++--
 qw/source/pcx.c        |   17 +++++------
 qw/source/screen.c     |   73 ++++++++++++++++++++---------------------------
 qw/source/skin.c       |    4 +--
 qw/source/sw_rmain.c   |   13 +++++----
 qw/source/teamplay.c   |    7 +++--
 qw/source/tga.c        |   10 +++----
 21 files changed, 359 insertions(+), 376 deletions(-)

commit 85de55a
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Wed May 9 17:29:07 2001 +0000

    More header merging.

 include/block16.h    |  151 +++++++++++++++++++++++++++++++++++++++++++++++++
 include/block8.h     |  152 ++++++++++++++++++++++++++++++++++++++++++++++++++
 nq/include/block16.h |  151 -------------------------------------------------
 nq/include/block8.h  |  152 --------------------------------------------------
 qw/include/block16.h |  151 -------------------------------------------------
 qw/include/block8.h  |  152 --------------------------------------------------
 6 files changed, 303 insertions(+), 606 deletions(-)

commit a454719
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Wed May 9 17:24:41 2001 +0000

    Merge adivtab.h while I'm at it.

 include/adivtab.h    | 1084 +++++++++++++++++++++++++++++++++++++++++++++++++
 nq/include/adivtab.h | 1086 --------------------------------------------------
 qw/include/adivtab.h | 1084 -------------------------------------------------
 3 files changed, 1084 insertions(+), 2170 deletions(-)

commit e0d43f4
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Wed May 9 17:22:27 2001 +0000

    Merge anorms.h and anorm_dots.h.

 include/anorm_dots.h    |   45 +++++++++++
 include/anorms.h        |  192 +++++++++++++++++++++++++++++++++++++++++++++++
 nq/include/anorm_dots.h |   46 ------------
 nq/include/anorms.h     |  190 ----------------------------------------------
 qw/include/anorm_dots.h |   45 -----------
 qw/include/anorms.h     |  192 -----------------------------------------------
 6 files changed, 237 insertions(+), 473 deletions(-)

commit 6015567
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Wed May 9 17:12:49 2001 +0000

    Whitespace, comment cleanups.

 nq/source/host.c |  133 +++++++++++++++++++-----------------------------------
 1 file changed, 46 insertions(+), 87 deletions(-)

commit 226189c
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 9 06:57:35 2001 +0000

    whitespace

 nq/source/cl_parse.c |  236 +++++++++++++++++++++++++-------------------------
 1 file changed, 118 insertions(+), 118 deletions(-)

commit e5c145c
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 9 06:57:23 2001 +0000

    correct the mis-parsing of TE_GUNSHOT

 nq/source/cl_tent.c |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit e96ab56
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 9 06:15:14 2001 +0000

    fix the init issues that stopped nq working after Despair's heroic efforts

 nq/source/draw.c |    5 ++++-
 nq/source/host.c |    5 +++++
 2 files changed, 9 insertions(+), 1 deletion(-)

commit f818392
Author: Bill Currie <bill@taniwha.org>
Date:   Wed May 9 06:02:23 2001 +0000

    cruft removal

 nq/source/snd_dma.c  | 1020 --------------------------------------------------
 nq/source/snd_null.c |  147 --------
 qw/source/snd_dma.c  | 1020 --------------------------------------------------
 qw/source/snd_null.c |  147 --------
 4 files changed, 2334 deletions(-)

commit ce3218b
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Wed May 9 06:00:19 2001 +0000

    Whitespace, comment out bloodpuffs, which aren't used in nq. Instead we get colored dot explosions. Whoopie.

 nq/source/gl_dyn_part.c |   26 +++++++++++---------------
 1 file changed, 11 insertions(+), 15 deletions(-)

commit f6374b4
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Wed May 9 05:41:34 2001 +0000

    First pass at updating nq particles. Compiles. Crashes. Taniwha wanted a look. Flee in terror.
    
    Also has bunches of cleanups, including string.h/strings.h ifdefs, whitespace, and removal of pointless comments.

 nq/include/client.h          |   11 +-
 nq/include/d_iface.h         |    4 +-
 nq/include/draw.h            |    5 +-
 nq/include/r_dynamic.h       |   56 +++
 nq/include/render.h          |   24 +-
 nq/source/Makefile.am        |   17 +-
 nq/source/cl_cmd.c           |    9 +-
 nq/source/cl_demo.c          |   13 +-
 nq/source/cl_input.c         |   28 +-
 nq/source/cl_main.c          |  176 +++----
 nq/source/cl_parse.c         |   52 +-
 nq/source/cl_tent.c          |  122 +++--
 nq/source/d_part.c           |   19 +-
 nq/source/dos_v2.c           |    7 +-
 nq/source/draw.c             |   14 +-
 nq/source/gib.c              |    7 +-
 nq/source/gib_instructions.c |    7 +-
 nq/source/gib_interpret.c    |    7 +-
 nq/source/gib_modules.c      |    7 +-
 nq/source/gib_parse.c        |    7 +-
 nq/source/gib_stack.c        |    7 +-
 nq/source/gib_vars.c         |    7 +-
 nq/source/gl_draw.c          | 1068 +++++++++---------------------------------
 nq/source/gl_dyn_fires.c     |  210 +++++++++
 nq/source/gl_dyn_part.c      |  768 ++++++++++++++++++++++++++++++
 nq/source/gl_dyn_textures.c  |  200 ++++++++
 nq/source/gl_part.c          |  402 ----------------
 nq/source/gl_refrag.c        |   17 +-
 nq/source/gl_rmain.c         |  110 +----
 nq/source/gl_rmisc.c         |  126 ++---
 nq/source/gl_rsurf.c         |   99 +---
 nq/source/gl_screen.c        |  104 ++--
 nq/source/gl_textures.c      |  600 ++++++++++++++++++++++++
 nq/source/gl_warp.c          |   33 +-
 nq/source/net_dgrm.c         |    8 +-
 nq/source/net_main.c         |    8 +-
 nq/source/net_udp.c          |    7 +-
 nq/source/noisetextures.c    |  130 +++++
 nq/source/pr_cmds.c          |    8 +-
 nq/source/r_part.c           |  443 +-----------------
 nq/source/sbar.c             |   39 +-
 nq/source/screen.c           |   84 ++--
 nq/source/sw_part.c          |  161 -------
 nq/source/sw_rmain.c         |    6 +-
 nq/source/sw_rpart.c         |  525 +++++++++------------
 nq/source/sys_dos.c          |    7 +-
 nq/source/sys_unix.c         |    7 +-
 nq/source/sys_unixd.c        |    7 +-
 qw/include/cl_ents.h         |    4 +-
 qw/include/client.h          |    7 +-
 qw/source/cl_tent.c          |   43 +-
 qw/source/d_part.c           |   10 +-
 qw/source/gl_draw.c          |    7 +-
 qw/source/gl_rmain.c         |   40 +-
 qw/source/gl_textures.c      |    1 +
 qw/source/sbar.c             |    2 +-
 56 files changed, 2921 insertions(+), 2976 deletions(-)

commit 80814f5
Author: Bill Currie <bill@taniwha.org>
Date:   Tue May 8 22:29:48 2001 +0000

    remove these since they are no longer needed as they are in libs/util now

 nq/source/dirent.c  |  277 --------------------------------------------------
 nq/source/fnmatch.c |  216 ---------------------------------------
 qw/source/dirent.c  |  279 ---------------------------------------------------
 qw/source/fnmatch.c |  221 ----------------------------------------
 4 files changed, 993 deletions(-)

commit e118a91
Author: Bill Currie <bill@taniwha.org>
Date:   Tue May 8 20:57:07 2001 +0000

    forgot these :P

 libs/util/dirent.c  |  279 +++++++++++++++++++++++++++++++++++++++++++++++++++
 libs/util/fnmatch.c |  221 ++++++++++++++++++++++++++++++++++++++++
 2 files changed, 500 insertions(+)

commit b5df1c8
Author: Bill Currie <bill@taniwha.org>
Date:   Tue May 8 20:53:25 2001 +0000

    move fnmatch.c and dirent.c to libQFutil

 configure.in          |   11 +++++++++++
 libs/util/Makefile.am |   11 ++++++++++-
 nq/source/Makefile.am |    2 +-
 qw/source/Makefile.am |    4 ++--
 4 files changed, 24 insertions(+), 4 deletions(-)

commit 22a1a0d
Author: Bill Currie <bill@taniwha.org>
Date:   Tue May 8 20:52:12 2001 +0000

    remove R_CullBox as it is now in mathlib.[ch]

 nq/source/gl_rmain.c |   19 -------------------
 1 file changed, 19 deletions(-)

commit b10ea42
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Tue May 8 17:16:49 2001 +0000

    Update alsa support for most recent API changes. Old version temporarily left in as comments.

 libs/audio/targets/snd_alsa_0_9.c |    6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit ef5fd0e
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Tue May 8 08:38:34 2001 +0000

    New Preferences class -- it may not seem like it, but this is a Big
    Deal. :)

 tools/Forge/.gitignore            |    1 +
 tools/Forge/Forge.m               |   15 +-
 tools/Forge/Headers/Preferences.h |  153 ++++++------
 tools/Forge/Preferences.m         |  476 +++++++++++++++++--------------------
 4 files changed, 316 insertions(+), 329 deletions(-)

commit 461ce64
Author: Bill Currie <bill@taniwha.org>
Date:   Mon May 7 21:10:45 2001 +0000

    white space

 tools/qfpreqcc/qfpreqcc |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 1205401
Author: Bill Currie <bill@taniwha.org>
Date:   Mon May 7 20:53:50 2001 +0000

    Finally, a preqcc with source :)  Seems to work ok, but it's far from
    complete. It does, however, build customTF without any appearent problems.

 tools/qfpreqcc/qfpreqcc |  192 +++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 192 insertions(+)

commit 330ff44
Author: Bill Currie <bill@taniwha.org>
Date:   Mon May 7 16:31:19 2001 +0000

    fix for older systems again :) (atleast means >= rather than > )

 libs/video/targets/vid_sgl.c |   12 +++++++++++-
 1 file changed, 11 insertions(+), 1 deletion(-)

commit e943e13
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Mon May 7 09:44:17 2001 +0000

    Autoconf support for Forge. It's incomplete, but it's mostly working.

 tools/Forge/.gitignore              |   11 +++-
 tools/Forge/GNUmakefile.preamble    |   39 --------------
 tools/Forge/GNUmakefile.preamble.in |   39 ++++++++++++++
 tools/Forge/Headers/.gitignore      |    2 +
 tools/Forge/Headers/Config.h.in     |   16 ++++++
 tools/Forge/acconfig.h              |   15 ++++++
 tools/Forge/bootstrap               |    2 +
 tools/Forge/configure.in            |  100 +++++++++++++++++++++++++++++++++++
 8 files changed, 184 insertions(+), 40 deletions(-)

commit a45dd9b
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Mon May 7 09:43:25 2001 +0000

    Forge: Map and PopScrollView build now.

 tools/Forge/Headers/Map.h           |   24 ++---
 tools/Forge/Headers/PopScrollView.h |    7 +-
 tools/Forge/Map.m                   |  176 +++++++++++++++--------------------
 tools/Forge/PopScrollView.m         |   50 +++++-----
 4 files changed, 115 insertions(+), 142 deletions(-)

commit cc68e1a
Author: Bill Currie <bill@taniwha.org>
Date:   Mon May 7 04:08:34 2001 +0000

    qf now links with NO optimisation (not even -O). R_CullBox has been moved from
    glquake.h to mathlib.h (along with the declaration for frustum) and the
    extern inline keyworws protected by an ifndef so that mathlib.c can cause
    R_CullBox to be compiled publicly. The definition of frustrum has been moved
    from its verious locations into mathlib.c.

 include/QF/mathlib.h |   18 ++++++++++++++++--
 include/glquake.h    |   13 +------------
 libs/util/mathlib.c  |    3 +++
 nq/source/gl_rmain.c |    2 --
 qw/source/gl_rmain.c |    2 --
 qw/source/sv_model.c |    1 -
 qw/source/sw_rmain.c |    2 --
 7 files changed, 20 insertions(+), 21 deletions(-)

commit 380a400
Author: Joseph Carter <knghtbrd@debian.org>
Date:   Mon May 7 03:23:28 2001 +0000

    A couple configure fixes - 3dfx should actually function properly now.  I
    also fixed a typo which may or may not have caused some breakage for -lGL
    under certain circumstances.

 configure.in |   16 ++++++++++------
 1 file changed, 10 insertions(+), 6 deletions(-)

commit 1a067ec
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Mon May 7 02:43:10 2001 +0000

    Fix a bug in configure that's been nagging me.

 configure.in |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 4ad2644
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Wed May 2 18:01:14 2001 +0000

    Tweaks to particle effects.

 qw/source/gl_dyn_part.c |   20 +++++++++++---------
 1 file changed, 11 insertions(+), 9 deletions(-)

commit 4b33119
Author: Zephaniah E. Hull <warp@babylon.d2dc.net>
Date:   Wed May 2 13:48:04 2001 +0000

    cl_demo.c: Modified timedemo to give a little more precision with FPS.
    gl_draw.c: Fixing gl_lightmode 1.
    gl_dyn_part.c:
      Fixing gl_lightmode 1.
      Fixed word wrapping on comments.
      Switched to using the new vertex array setup.
    gl_rmisc.c: New vertex array setup.
    varrays.h: New vertex array setup.

 include/QF/varrays.h    |   66 +++++++++++++++++++
 qw/source/cl_demo.c     |    2 +-
 qw/source/gl_draw.c     |    2 +
 qw/source/gl_dyn_part.c |  161 ++++++++++++++++-------------------------------
 qw/source/gl_rmisc.c    |    8 +++
 5 files changed, 131 insertions(+), 108 deletions(-)

commit 86a99a7
Author: Zephaniah E. Hull <warp@babylon.d2dc.net>
Date:   Wed May 2 09:27:00 2001 +0000

    Fixed how we detect 3dfx cards, AND how we set the default gl_max_size.

 qw/source/gl_draw.c |   11 +++++++----
 1 file changed, 7 insertions(+), 4 deletions(-)

commit 8e40444
Author: Zephaniah E. Hull <warp@babylon.d2dc.net>
Date:   Wed May 2 08:52:20 2001 +0000

    Compile fix for the Debian sid SDL version compile.

 libs/video/targets/vid_sgl.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 36a3cb7
Author: Adam Olsen <rhamph@gmail.com>
Date:   Sat Apr 28 05:13:46 2001 +0000

    add some useful software tweaks :)

 doc/config/swspeed.cfg |   15 +++++++++++----
 1 file changed, 11 insertions(+), 4 deletions(-)

commit 1f4eb7e
Author: Adam Olsen <rhamph@gmail.com>
Date:   Sat Apr 28 05:13:19 2001 +0000

    add a couple items

 TODO |    2 ++
 1 file changed, 2 insertions(+)

commit 661db56
Author: Timothy C. McGrath <tmhikaru@gmail.com>
Date:   Sat Apr 28 04:30:43 2001 +0000

    New benchmark scores, gained .2 fps with a cvar I didn't know about
    previously. gl_sky_divide set to 0 goes faster when you have gl_sky_clip
    >0.
    
    Thanks despair,
    Misty-chan

 doc/config/glspeed-v1.cfg |    8 ++++++--
 doc/config/glspeed-v3.cfg |    6 +++++-
 2 files changed, 11 insertions(+), 3 deletions(-)

commit 205ee22
Author: Timothy C. McGrath <tmhikaru@gmail.com>
Date:   Sat Apr 28 02:50:50 2001 +0000

    OK, found out I can't play with the settings I had in the V3 config, so
    I mangled them into something that works. Also I found out about
    gl_texturemode (thanks despair) although it didn't do much for me, it
    might for you. Look at it :)
    
    I also cleaned up the configs so we can see where each section begins
    and ends easier. Should be fairly obvious what I did.
    
    Misty-chan :)

 doc/config/glspeed-v1.cfg |   43 +++++++++++++++++++++++++++---
 doc/config/glspeed-v3.cfg |   64 ++++++++++++++++++++++++++++++++++++---------
 2 files changed, 91 insertions(+), 16 deletions(-)

commit 6542192
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Fri Apr 27 13:25:53 2001 +0000

    Minor corrections.

 TODO |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 0dee263
Author: Adam Olsen <rhamph@gmail.com>
Date:   Fri Apr 27 07:41:47 2001 +0000

    Make sdl audio work.  And despite claims, it's not actually bad
    (except for esd, but that's not sdl's fault).
    I havn't tested it with other hardware or different config variables,
    and I've experienced the occasional hang or segfault on exit, so
    feedback is very welcome. :)

 configure.in                   |    3 ++-
 libs/audio/targets/Makefile.am |    2 +-
 libs/audio/targets/snd_sdl.c   |   40 ++++++++++++++++++++++++++++++++++------
 3 files changed, 37 insertions(+), 8 deletions(-)

commit 7eb5760
Author: Adam Olsen <rhamph@gmail.com>
Date:   Fri Apr 27 07:35:28 2001 +0000

    one more item.  (getting it commited before I do the sdl stuff)

 TODO |    1 +
 1 file changed, 1 insertion(+)

commit fa31c6e
Author: Timothy C. McGrath <tmhikaru@gmail.com>
Date:   Fri Apr 27 00:41:06 2001 +0000

    OK, this cleans up things a tad. glspeed.cfg is now known forevermore as
    glspeed-v3.cfg. Cleared up a misleading comment about r_dynamic, found
    out 0.5.0 quakeforge does weird things with gl_lightmode (see comment)
    and added benchmarking information to the beginning of the files.

 doc/config/glspeed-v1.cfg |   13 ++++--
 doc/config/glspeed-v3.cfg |  100 +++++++++++++++++++++++++++++++++++++++++++++
 doc/config/glspeed.cfg    |   94 ------------------------------------------
 3 files changed, 109 insertions(+), 98 deletions(-)

commit c468009
Author: Timothy C. McGrath <tmhikaru@gmail.com>
Date:   Thu Apr 26 03:09:46 2001 +0000

    Typos fixed that were in the original. (oops)
    
    Misty-chan

 doc/config/glspeed-v1.cfg |   11 ++++-------
 1 file changed, 4 insertions(+), 7 deletions(-)

commit 7e0c1ed
Author: Timothy C. McGrath <tmhikaru@gmail.com>
Date:   Thu Apr 26 03:06:56 2001 +0000

    Added back the old glspeed.cfg with the new cvar I found out about. This
    one should work fine for old voodoo 1/2 users. I'll update this one
    generally when I do the other one, but this one I can't really test
    myself on for it's target - older hardware. Please tell me if I give a
    setting which is slower on a system.
    
    Misty-chan

 doc/config/glspeed-v1.cfg |   97 +++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 97 insertions(+)

commit 2af8546
Author: Timothy C. McGrath <tmhikaru@gmail.com>
Date:   Thu Apr 26 02:50:49 2001 +0000

    Fixed a typo (cl_max_particles default is 2048!) as well as added a cvar
    I didn't know about (gl_lightmap_components)
    
    Other than that, haven't added or removed much of anything - HOWEVER
    note that this config has radically changed speedwise. I've gotten a
    hardware upgrade, and so changed my config around to suit it. This is
    written now for a voodoo 3 2000 pci, the old voodoo 1 has been
    accidentally fried and given a proper burial.
    
    If you relied on the old config to be fast as heck with it's defaults,
    sorry. - Please look through the file, read the comments, and change the
    settings to however you please.
    
    Misty-chan

 doc/config/glspeed.cfg |   53 ++++++++++++++++++++++++------------------------
 1 file changed, 27 insertions(+), 26 deletions(-)

commit ab7054a
Author: Adam Olsen <rhamph@gmail.com>
Date:   Wed Apr 25 23:51:45 2001 +0000

    More stuff

 TODO |   10 ++++++++++
 1 file changed, 10 insertions(+)

commit 4a9a674
Author: Adam Olsen <rhamph@gmail.com>
Date:   Wed Apr 25 23:08:54 2001 +0000

    Add some wishlist items :)

 TODO |    9 +++++++++
 1 file changed, 9 insertions(+)

commit 58afc88
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Apr 25 20:53:09 2001 +0000

    link libQFutil.so against libdl

 libs/util/Makefile.am |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 1fbb62d
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Apr 25 00:20:23 2001 +0000

    hook in the plugin system

 nq/source/host.c    |    3 +++
 qw/source/cl_main.c |    3 +++
 qw/source/sv_main.c |    2 ++
 3 files changed, 8 insertions(+)

commit 3f8ef22
Author: Adam Olsen <rhamph@gmail.com>
Date:   Tue Apr 24 22:21:26 2001 +0000

    Minor wording change.

 doc/ideas/rhamph.txt |    5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit c364e1c
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Tue Apr 24 22:19:42 2001 +0000

    The first version of the QF Plugin API. Version 1.0 supports input and
    sound (digital audio, that is, not CD) plugins right now, more to come
    later.

 acconfig.h                  |    3 +
 configure.in                |   17 +++++-
 include/QF/plugin.h         |   88 +++++++++++++++++++++++++++
 include/QF/plugin/general.h |   50 ++++++++++++++++
 include/QF/plugin/input.h   |   56 +++++++++++++++++
 include/QF/plugin/sound.h   |   77 ++++++++++++++++++++++++
 libs/util/Makefile.am       |    4 +-
 libs/util/plugin.c          |  140 +++++++++++++++++++++++++++++++++++++++++++
 8 files changed, 432 insertions(+), 3 deletions(-)

commit 0b117b7
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Apr 22 04:58:33 2001 +0000

    *sigh*, well, it turns out that even id's qc is borked when it comes to
    unallocated entities, so make 0xdeadbeef optional (pr_deadbeef 1 to turn it
    on).

 libs/gamecode/pr_edict.c |   23 +++++++++++++++++------
 1 file changed, 17 insertions(+), 6 deletions(-)

commit 93290fc
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Fri Apr 20 19:45:42 2001 +0000

    Easter's over. (aww...)

 qw/source/gl_dyn_part.c     |   18 ++++-----
 qw/source/gl_dyn_textures.c |    4 +-
 qw/source/gl_textures.c     |   87 ++++++++++++++++++++++---------------------
 3 files changed, 55 insertions(+), 54 deletions(-)

commit b5d3508
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Fri Apr 20 19:39:38 2001 +0000

    Small cleanups.

 nq/source/Makefile.am |   26 ++++++++++++------------
 qw/source/Makefile.am |   53 ++++++++++++++++++++++++-------------------------
 2 files changed, 39 insertions(+), 40 deletions(-)

commit 4be4e5c
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Apr 20 17:51:57 2001 +0000

    clear not-yet allocated entities to 0xdeadbeef

 include/QF/progs.h       |    1 +
 libs/gamecode/pr_edict.c |   18 ++++++++++++++++++
 nq/source/sv_main.c      |    3 +--
 qw/source/sv_init.c      |    3 +--
 4 files changed, 21 insertions(+), 4 deletions(-)

commit fa4ee64
Author: Adam Olsen <rhamph@gmail.com>
Date:   Fri Apr 20 13:33:56 2001 +0000

    And cshift patch here too..

 qw/source/cl_main.c |   18 ++++++++++++++++++
 1 file changed, 18 insertions(+)

commit c2044cc
Author: Adam Olsen <rhamph@gmail.com>
Date:   Fri Apr 20 13:09:22 2001 +0000

    Fix the "Corrupted demo" error when you play a timedemo while one is already running.

 qw/source/cl_demo.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 1b972cb
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Apr 19 22:42:01 2001 +0000

    clear freed entities to 0xdeadbeaf instead of 0

 libs/gamecode/pr_edict.c |   14 +++++++++-----
 1 file changed, 9 insertions(+), 5 deletions(-)

commit 06acd3d
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Apr 18 21:02:02 2001 +0000

    massivly speed up qw/source/Makefile creation, and Makefile.in, too. ASM_ARCH
    and PACKETLOG are gone from Makefile.am as the first was really redundant
    and the latter now is.

 configure.in              |    3 ---
 nq/source/Makefile.am     |    2 --
 qw/source/Makefile.am     |   35 +++++++++--------------------------
 qw/source/net_packetlog.c |    4 ++++
 4 files changed, 13 insertions(+), 31 deletions(-)

commit 00e510b
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Apr 18 18:04:22 2001 +0000

    --without-clients no longer builds client only libs

 configure.in                   |    9 +++++++++
 libs/audio/cd/Makefile.am      |    6 +++++-
 libs/audio/targets/Makefile.am |    6 +++++-
 libs/video/targets/Makefile.am |    6 ++++--
 4 files changed, 23 insertions(+), 4 deletions(-)

commit b5d3445
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Apr 18 07:19:37 2001 +0000

    I must have forgotten this way back when

 nq/include/win32/.gitignore |    1 -
 1 file changed, 1 deletion(-)

commit b4b27ee
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Apr 18 07:18:54 2001 +0000

    move the make dist stuff to the top level Makefile.am and get make dist to
    work in that make doesn't barf. probably missing lots of files

 Makefile.am            |   23 ++++++++++++++++++++++-
 nq/include/Makefile.am |   26 +++++++++-----------------
 qw/Makefile.am         |   26 --------------------------
 qw/include/Makefile.am |   22 ++++++++--------------
 4 files changed, 39 insertions(+), 58 deletions(-)

commit 75df0b6
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Wed Apr 18 07:05:37 2001 +0000

    Makefile cleanups.

 nq/Makefile.am |    9 ++-------
 qw/Makefile.am |   13 +++----------
 2 files changed, 5 insertions(+), 17 deletions(-)

commit 9babdbd
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Apr 18 04:42:09 2001 +0000

    correct the wording of the server init failure message

 qw/source/sv_main.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ad04213
Author: Joseph Carter <knghtbrd@debian.org>
Date:   Tue Apr 17 23:04:54 2001 +0000

    Let's get this into CVS, even if it's not used yet.

 include/menu.h |  111 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 111 insertions(+)

commit 527471a
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Apr 17 15:55:33 2001 +0000

    *-wgl finally links (who knows if it works?:) and some more conceptual
    cleanup

 include/QF/input.h              |    1 +
 libs/audio/targets/snd_dma.c    |    7 ----
 libs/video/targets/Makefile.am  |    2 +-
 libs/video/targets/in_common.c  |    7 ++++
 libs/video/targets/in_dos.c     |    5 +++
 libs/video/targets/in_fbdev.c   |    5 +++
 libs/video/targets/in_null.c    |    5 +++
 libs/video/targets/in_sdl.c     |    5 +++
 libs/video/targets/in_sun.c     |    5 +++
 libs/video/targets/in_svgalib.c |    5 +++
 libs/video/targets/in_win.c     |   84 ++++++++++-----------------------------
 libs/video/targets/in_x11.c     |    5 +++
 libs/video/targets/vid_mgl.c    |    4 --
 libs/video/targets/vid_wgl.c    |   10 +----
 nq/source/Makefile.am           |    2 +-
 nq/source/sys_win.c             |   18 ---------
 qw/source/Makefile.am           |    2 +-
 qw/source/cl_input.c            |   20 ----------
 qw/source/cl_sys_sdl.c          |    5 ---
 qw/source/cl_sys_win.c          |   18 ---------
 qw/source/keys.c                |    3 +-
 21 files changed, 69 insertions(+), 149 deletions(-)

commit 853fbb4
Author: Adam Olsen <rhamph@gmail.com>
Date:   Tue Apr 17 08:39:44 2001 +0000

    Change commented out Con_Printf statements in Cache_Move into
    Con_DPrintf statements, so they can be used in debugging without
    recompiling.  And no, there's no performance issue.

 libs/util/zone.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit f9641bf
Author: Adam Olsen <rhamph@gmail.com>
Date:   Tue Apr 17 07:47:32 2001 +0000

    Make 16 megs the default, since 44khz sounds need it.  Win will grab
    up to 16 megs anyway, and nq already has 16 as the default, so no
    changes for them.

 qw/source/cl_sys_sdl.c  |    2 +-
 qw/source/cl_sys_unix.c |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit dbca315
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Apr 17 06:55:50 2001 +0000

    qw-client-wgl and nq-wgl get to (but fail) the link stage

 libs/video/targets/in_win.c  |   67 +++--------
 libs/video/targets/vid_mgl.c |    5 +-
 libs/video/targets/vid_wgl.c |  260 ++++--------------------------------------
 nq/source/sys_win.c          |    2 +-
 qw/source/cl_sys_win.c       |    2 +-
 5 files changed, 41 insertions(+), 295 deletions(-)

commit 1dcaf3b
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Apr 17 06:21:40 2001 +0000

    fix the black pit of despair (sorry, Despair:) (same issue as vid_fbdev)

 libs/video/targets/vid_svgalib.c |    1 +
 1 file changed, 1 insertion(+)

commit 0f98db9
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Apr 17 06:14:08 2001 +0000

    missed this one

 libs/video/targets/vid_null.c |    1 -
 1 file changed, 1 deletion(-)

commit f5c0192
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Apr 17 06:13:51 2001 +0000

    d_8to16table moved to vid_common_sw.c and fix vid_fbdev blackness (must call
    VID_InitGamma before VID_SetPalette)

 libs/video/targets/vid_common_gl.c |    1 -
 libs/video/targets/vid_common_sw.c |    2 ++
 libs/video/targets/vid_dos.c       |    1 -
 libs/video/targets/vid_fbdev.c     |   33 +--------------------------------
 libs/video/targets/vid_mgl.c       |    1 -
 libs/video/targets/vid_sdl.c       |    1 -
 libs/video/targets/vid_sunx.c      |    1 -
 libs/video/targets/vid_sunxil.c    |    1 -
 libs/video/targets/vid_svgalib.c   |    2 --
 libs/video/targets/vid_x11.c       |    1 -
 10 files changed, 3 insertions(+), 41 deletions(-)

commit 4b19a19
Author: Chris Ison <cisos@bigpond.net.au>
Date:   Tue Apr 17 06:05:30 2001 +0000

    fixed no mouse movement in in_svgalib.c

 libs/video/targets/in_svgalib.c |    5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

commit ba1408d
Author: Chris Ison <cisos@bigpond.net.au>
Date:   Tue Apr 17 03:08:52 2001 +0000

    fixed seg cause of uninitialized cvar in_freelook. Also remove double initialization of sensitivity and lookstrafe

 libs/video/targets/in_common.c    |    3 +++
 libs/video/targets/vid_3dfxsvga.c |    4 ++--
 nq/include/client.h               |    3 ---
 nq/source/cl_main.c               |   11 -----------
 qw/include/client.h               |    3 ---
 qw/source/cl_main.c               |   10 ----------
 6 files changed, 5 insertions(+), 29 deletions(-)

commit c59951b
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Apr 16 20:38:51 2001 +0000

    fix sw nq

 nq/source/d_init.c |    6 ++++++
 nq/source/d_surf.c |    2 ++
 nq/source/host.c   |    5 ++---
 3 files changed, 10 insertions(+), 3 deletions(-)

commit 3e484da
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Apr 16 19:25:55 2001 +0000

    -x11 now works (qw, anyway)

 include/QF/vid.h                   |    1 +
 libs/video/targets/vid_common_sw.c |   22 ++++---
 libs/video/targets/vid_x11.c       |  120 ++++++++----------------------------
 3 files changed, 39 insertions(+), 104 deletions(-)

commit 311cbdb
Author: Adam Olsen <rhamph@gmail.com>
Date:   Mon Apr 16 17:45:35 2001 +0000

    Fix so building statically (--disable-shared) works.

 nq/source/Makefile.am |   20 ++++++++++----------
 qw/source/Makefile.am |   21 +++++++++++----------
 2 files changed, 21 insertions(+), 20 deletions(-)

commit b5344ad
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Apr 16 16:11:45 2001 +0000

    fix "make install". the problem was caused by automake getting confused and
    thinking the video libs were convenience libs because they weren't mentioned
    directly on the lib_LTLIBRARIES line. Until automake is made a little smarter,
    force the libs to be built properly.

 libs/video/targets/Makefile.am |   51 ++++++++++++++++++++++++++++++----------
 1 file changed, 38 insertions(+), 13 deletions(-)

commit df386f3
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Apr 16 15:57:43 2001 +0000

    compile fixes for older systems

 include/glquake.h            |    6 ++++++
 libs/video/targets/vid_sgl.c |    4 ++++
 2 files changed, 10 insertions(+)

commit 065649e
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Apr 16 09:12:21 2001 +0000

    rework VID_InitBuffers to use callback to init the draw buffers.
    Unfortunatly, this means that VID_InitBuffers needs to be called twice during
    startup (once in VID_Init, and once in D_Init).

 include/QF/vid.h                   |    5 +++++
 libs/video/targets/vid_common_sw.c |   43 ++++++++++++++++++------------------
 qw/source/d_init.c                 |    8 +++++++
 qw/source/d_surf.c                 |    2 ++
 4 files changed, 37 insertions(+), 21 deletions(-)

commit 61f369b
Author: Zephaniah E. Hull <warp@babylon.d2dc.net>
Date:   Mon Apr 16 07:04:54 2001 +0000

    Minor compile fixes.

 nq/source/gl_rsurf.c |   12 ++----------
 1 file changed, 2 insertions(+), 10 deletions(-)

commit f9c9e4f
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Apr 16 03:55:44 2001 +0000

    everything except *-3dfx (unknown status) now builds

 libs/video/targets/in_sdl.c        |   81 ++++++++----------------------------
 libs/video/targets/vid_common_gl.c |    2 +
 libs/video/targets/vid_sdl.c       |   44 +-------------------
 libs/video/targets/vid_sgl.c       |    1 +
 nq/source/gl_model_brush.c         |    2 -
 nq/source/gl_rsurf.c               |    8 ++--
 qw/source/gl_rmain.c               |    1 -
 qw/source/gl_rmisc.c               |    1 -
 8 files changed, 25 insertions(+), 115 deletions(-)

commit 0b5b3b0
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Apr 15 21:19:05 2001 +0000

    move GL_CheckBrightness into vid_common_gl.c

 libs/video/targets/vid_common_gl.c |   45 +++++++++++++++++++++++++++++++++++
 qw/source/gl_rmain.c               |   46 ------------------------------------
 2 files changed, 45 insertions(+), 46 deletions(-)

commit 6fcf839
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Apr 15 21:11:41 2001 +0000

    FBDEV GLX SVGAlib X11 all build, but nq-glx doesn't link yet due to some
    changes between nq and qw (gl_mtexable, texture_mode and GL_CheckBrightness)

 include/glquake.h                  |   55 +++++++++++++
 libs/video/targets/Makefile.am     |   18 ++--
 libs/video/targets/in_common.c     |    5 ++
 libs/video/targets/qfgl_ext.c      |  160 ++++++++++++++++++++++++++++++++++++
 libs/video/targets/vid.c           |    5 ++
 libs/video/targets/vid_common_gl.c |    6 +-
 nq/include/draw.h                  |    2 +-
 nq/source/cl_input.c               |    6 +-
 nq/source/cl_main.c                |    4 +-
 nq/source/cl_parse.c               |    2 +-
 nq/source/console.c                |    2 +-
 nq/source/gl_draw.c                |    2 +-
 nq/source/gl_refrag.c              |    4 +-
 nq/source/gl_rmisc.c               |    4 +-
 nq/source/gl_rsurf.c               |    2 +-
 nq/source/gl_screen.c              |    7 +-
 nq/source/gl_warp.c                |    7 +-
 nq/source/host.c                   |    4 +-
 nq/source/host_cmd.c               |    2 +-
 nq/source/keys.c                   |    2 +-
 nq/source/net_dgrm.c               |    7 +-
 nq/source/r_view.c                 |    2 +-
 nq/source/sbar.c                   |    4 +-
 nq/source/screen.c                 |    4 +-
 nq/source/sw_rmain.c               |    2 +-
 nq/source/wad.c                    |    2 +-
 qw/include/r_local.h               |    2 +-
 qw/include/render.h                |    2 +-
 qw/include/skin.h                  |    2 +
 qw/source/Makefile.am              |    2 +-
 qw/source/gl_dyn_part.c            |    7 +-
 qw/source/gl_ngraph.c              |    5 +-
 qw/source/gl_rlight.c              |    2 +
 qw/source/gl_rmain.c               |    6 +-
 qw/source/gl_rmisc.c               |    6 +-
 qw/source/gl_rsurf.c               |    9 +-
 qw/source/gl_screen.c              |    8 +-
 qw/source/gl_sky.c                 |    6 +-
 qw/source/gl_sky_clip.c            |    4 +-
 qw/source/gl_textures.c            |    3 +-
 qw/source/gl_view.c                |    4 +-
 qw/source/qfgl_ext.c               |  160 ------------------------------------
 qw/source/sw_rsky.c                |    2 +-
 43 files changed, 327 insertions(+), 223 deletions(-)

commit 36cbe70
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Apr 15 08:04:15 2001 +0000

    vid libs build but probably don't work yet (I KNOW x11 doesn't) lots of
    build failures in the main source still

 include/QF/input.h                 |    4 +
 include/glquake.h                  |  181 +-----------------------------------
 libs/video/targets/Makefile.am     |    2 +-
 libs/video/targets/in_fbdev.c      |   17 ++--
 libs/video/targets/in_svgalib.c    |   75 ++-------------
 libs/video/targets/vid_common_gl.c |    3 +-
 libs/video/targets/vid_common_sw.c |    6 +-
 libs/video/targets/vid_glx.c       |    8 +-
 libs/video/targets/vid_svgalib.c   |   59 +-----------
 libs/video/targets/vid_x11.c       |   16 ++--
 qw/include/draw.h                  |    2 +-
 qw/source/cl_main.c                |    2 +-
 qw/source/cl_parse.c               |    2 +-
 qw/source/console.c                |    2 +-
 qw/source/gl_draw.c                |    4 +-
 qw/source/gl_textures.c            |    2 +-
 qw/source/keys.c                   |    2 +-
 qw/source/pcx.c                    |    1 +
 qw/source/r_view.c                 |    2 +-
 qw/source/sbar.c                   |    2 +-
 qw/source/skin.c                   |    2 +-
 qw/source/sw_rmain.c               |    2 +-
 qw/source/wad.c                    |    2 +-
 23 files changed, 52 insertions(+), 346 deletions(-)

commit a0ab26f
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Apr 15 07:47:49 2001 +0000

    merge screen.h

 include/QF/screen.h |   73 +++++++++++++++++++++++++++++++++++++++++++++++++++
 nq/include/screen.h |   73 ---------------------------------------------------
 qw/include/screen.h |   65 ---------------------------------------------
 3 files changed, 73 insertions(+), 138 deletions(-)

commit 7e67fd5
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Apr 15 07:18:04 2001 +0000

    getting closer to building the vid libs.
    in_common.c is the main input interface. in_x11 has been modified suitably

 include/QF/input.h                 |   12 ++-
 include/QF/keys.h                  |   10 ++
 include/QF/vid.h                   |    1 +
 include/glquake.h                  |    8 +-
 libs/video/targets/.gitignore      |    2 +
 libs/video/targets/Makefile.am     |   18 ++--
 libs/video/targets/d_copy.S        |  176 ++++++++++++++++++++++++++++++++++++
 libs/video/targets/in_common.c     |  155 +++++++++++++++++++++++++++++++
 libs/video/targets/in_svgalib.c    |   19 ++--
 libs/video/targets/in_x11.c        |   97 ++++----------------
 libs/video/targets/vid_common_sw.c |   55 ++++++++++-
 libs/video/targets/vid_fbdev.c     |   56 ------------
 nq/include/client.h                |   13 ---
 nq/source/sw_rmisc.c               |   16 ++--
 qw/include/cl_input.h              |   15 ---
 qw/source/sw_rmisc.c               |   16 ++--
 16 files changed, 462 insertions(+), 207 deletions(-)

commit a4db2f0
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sun Apr 15 06:43:11 2001 +0000

    Damn the moles.

 libs/video/targets/vid.c |  177 ++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 177 insertions(+)

commit ad8831f
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Apr 15 06:29:57 2001 +0000

    correct the vid target selection logic

 configure.in                   |    2 +
 libs/video/targets/Makefile.am |   82 ++++++++++++++++------------------------
 2 files changed, 35 insertions(+), 49 deletions(-)

commit 20e0961
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sun Apr 15 06:18:06 2001 +0000

    *whack* Die Mole Die!!!

 nq/source/Makefile.am |    5 +--
 qw/source/Makefile.am |  104 +++++++++++--------------------------------------
 2 files changed, 24 insertions(+), 85 deletions(-)

commit 6c65be4
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sun Apr 15 06:04:02 2001 +0000

    Hopefully fix attempts to compile video libs that aren't possible.

 configure.in                   |    9 ++++
 libs/video/targets/Makefile.am |   88 ++++++++++++++++++++++++++--------------
 2 files changed, 66 insertions(+), 31 deletions(-)

commit 778f0c1
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sun Apr 15 05:36:56 2001 +0000

    Finish move of vid.c to libs, kill a few stragglers.

 libs/video/targets/Makefile.am |   22 +-
 nq/source/Makefile.am          |    2 +-
 nq/source/vid.c                |  180 -------
 qw/source/Makefile.am          |    2 +-
 qw/source/fbset.c              | 1071 ----------------------------------------
 qw/source/fbset_modes_l.l      |  138 ------
 qw/source/fbset_modes_y.y      |  176 -------
 7 files changed, 13 insertions(+), 1578 deletions(-)

commit dbf0e31
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sun Apr 15 05:18:23 2001 +0000

    Quash more cvs add/remove oddities.

 qw/include/d_local.h  |  122 +++++++++++++++++++++++++++++++++++++
 qw/include/r_shared.h |  162 +++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 284 insertions(+)

commit 554308e
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sun Apr 15 05:17:09 2001 +0000

    Makefile updates.

 nq/source/Makefile.am |  112 +++++++++++++------------------------------------
 1 file changed, 29 insertions(+), 83 deletions(-)

commit 2c282b1
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sun Apr 15 05:04:16 2001 +0000

    Die, dammit!

 qw/source/vid_win.c |   50 --------------------------------------------------
 1 file changed, 50 deletions(-)

commit 5a80ce9
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Apr 15 05:04:03 2001 +0000

    fix the -Wno-error issue and vid_fbdev.c is a little closer to compiling

 configure.in                   |    3 +--
 libs/video/targets/Makefile.am |   11 +++++++----
 libs/video/targets/vid_fbdev.c |    2 ++
 3 files changed, 10 insertions(+), 6 deletions(-)

commit 38a114f
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sun Apr 15 04:54:44 2001 +0000

    More merge madness.

 nq/include/d_local.h |  119 ++++++++++++++++++++++++++++++++++++++++++++++++++
 nq/include/host.h    |    2 -
 2 files changed, 119 insertions(+), 2 deletions(-)

commit 84461e1
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sun Apr 15 04:45:07 2001 +0000

    More merging.

 nq/include/dga_check.h    |   52 -
 nq/source/context_x11.c   |  413 ------
 nq/source/dga_check.c     |  117 --
 nq/source/fbset.c         | 1071 ---------------
 nq/source/fbset_modes_l.l |  138 --
 nq/source/fbset_modes_y.y |  176 ---
 nq/source/vid_3dfxsvga.c  |  341 -----
 nq/source/vid_common_gl.c |  412 ------
 nq/source/vid_dos.c       |  772 -----------
 nq/source/vid_ext.c       |  773 -----------
 nq/source/vid_fbdev.c     |  709 ----------
 nq/source/vid_glx.c       |  240 ----
 nq/source/vid_mgl.c       | 3252 ---------------------------------------------
 nq/source/vid_null.c      |  117 --
 nq/source/vid_sdl.c       |  291 ----
 nq/source/vid_sgl.c       |  243 ----
 nq/source/vid_sunx.c      | 1389 -------------------
 nq/source/vid_sunxil.c    | 1423 --------------------
 nq/source/vid_svgalib.c   |  756 -----------
 nq/source/vid_vga.c       |  455 -------
 nq/source/vid_wgl.c       | 1792 -------------------------
 nq/source/vid_win.c       | 3169 -------------------------------------------
 nq/source/vid_x11.c       |  814 ------------
 qw/source/context_x11.c   |  482 -------
 qw/source/dga_check.c     |  152 ---
 qw/source/vid.c           |  180 ---
 qw/source/vid_3dfxsvga.c  |  330 -----
 qw/source/vid_common_gl.c |  395 ------
 qw/source/vid_common_sw.c |   39 -
 qw/source/vid_fbdev.c     |  710 ----------
 qw/source/vid_glx.c       |  250 ----
 qw/source/vid_mgl.c       | 3197 --------------------------------------------
 qw/source/vid_null.c      |  108 --
 qw/source/vid_sdl.c       |  303 -----
 qw/source/vid_sgl.c       |  268 ----
 qw/source/vid_svgalib.c   |  773 -----------
 qw/source/vid_wgl.c       | 1479 ---------------------
 qw/source/vid_x11.c       |  798 -----------
 38 files changed, 28379 deletions(-)

commit 6a69688
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Apr 15 04:40:09 2001 +0000

    these are now in libs/video/targets

 nq/source/in_fbdev.c   |  157 -----------
 nq/source/in_null.c    |   73 ------
 nq/source/in_sdl.c     |  434 -------------------------------
 nq/source/in_svgalib.c |  410 -----------------------------
 nq/source/in_win.c     |  673 ------------------------------------------------
 nq/source/in_x11.c     |  562 ----------------------------------------
 qw/source/in_fbdev.c   |  152 -----------
 qw/source/in_null.c    |   64 -----
 qw/source/in_sdl.c     |  434 -------------------------------
 qw/source/in_svgalib.c |  402 -----------------------------
 qw/source/in_win.c     |  671 -----------------------------------------------
 qw/source/in_x11.c     |  558 ---------------------------------------
 12 files changed, 4590 deletions(-)

commit 9d8c1d3
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Apr 15 04:36:27 2001 +0000

    these are generated, so aren't needed in cvs

 libs/video/targets/fbset_modes_l.c | 1647 ------------------------------------
 libs/video/targets/fbset_modes_y.c | 1080 -----------------------
 libs/video/targets/fbset_modes_y.h |   26 -
 3 files changed, 2753 deletions(-)

commit 66fafd3
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sun Apr 15 04:18:22 2001 +0000

    First stage of video and input system merge. The city has collapsed, wreckage sifting ensues...

 configure.in                       |    3 +-
 include/QF/vid.h                   |  122 ++
 include/QF/wad.h                   |   88 +
 include/asm_draw.h                 |  154 ++
 include/context_x11.h              |   70 +
 include/dga_check.h                |   52 +
 include/dosisms.h                  |  105 ++
 include/quakeasm.h                 |  263 +++
 include/sbar.h                     |   52 +
 include/vgamodes.h                 |  605 +++++++
 include/vid_dos.h                  |   91 +
 include/vregset.h                  |   62 +
 libs/video/targets/Makefile.am     |   38 +-
 libs/video/targets/context_x11.c   |  482 ++++++
 libs/video/targets/dga_check.c     |  152 ++
 libs/video/targets/fbset.c         | 1071 ++++++++++++
 libs/video/targets/fbset_modes_l.c | 1647 +++++++++++++++++++
 libs/video/targets/fbset_modes_l.l |  138 ++
 libs/video/targets/fbset_modes_y.c | 1080 ++++++++++++
 libs/video/targets/fbset_modes_y.h |   26 +
 libs/video/targets/fbset_modes_y.y |  176 ++
 libs/video/targets/in_dos.c        |  614 +++++++
 libs/video/targets/in_fbdev.c      |  151 ++
 libs/video/targets/in_null.c       |   64 +
 libs/video/targets/in_sdl.c        |  432 +++++
 libs/video/targets/in_sun.c        |  271 +++
 libs/video/targets/in_svgalib.c    |  400 +++++
 libs/video/targets/in_win.c        |  668 ++++++++
 libs/video/targets/in_x11.c        |  556 +++++++
 libs/video/targets/vid_3dfxsvga.c  |  329 ++++
 libs/video/targets/vid_common_gl.c |  395 +++++
 libs/video/targets/vid_common_sw.c |   39 +
 libs/video/targets/vid_dos.c       |  772 +++++++++
 libs/video/targets/vid_ext.c       |  773 +++++++++
 libs/video/targets/vid_fbdev.c     |  708 ++++++++
 libs/video/targets/vid_glx.c       |  249 +++
 libs/video/targets/vid_mgl.c       | 3196 ++++++++++++++++++++++++++++++++++++
 libs/video/targets/vid_null.c      |  108 ++
 libs/video/targets/vid_sdl.c       |  302 ++++
 libs/video/targets/vid_sgl.c       |  267 +++
 libs/video/targets/vid_sunx.c      | 1389 ++++++++++++++++
 libs/video/targets/vid_sunxil.c    | 1423 ++++++++++++++++
 libs/video/targets/vid_svgalib.c   |  772 +++++++++
 libs/video/targets/vid_vga.c       |  455 +++++
 libs/video/targets/vid_wgl.c       | 1693 +++++++++++++++++++
 libs/video/targets/vid_win.c       |   50 +
 libs/video/targets/vid_x11.c       |  797 +++++++++
 nq/include/asm_draw.h              |  154 --
 nq/include/context_x11.h           |   68 -
 nq/include/d_local.h               |  119 --
 nq/include/dosisms.h               |  105 --
 nq/include/quakeasm.h              |  263 ---
 nq/include/render.h                |    2 +-
 nq/include/sbar.h                  |   48 -
 nq/include/vgamodes.h              |  605 -------
 nq/include/vid.h                   |  104 --
 nq/include/vid_dos.h               |   91 -
 nq/include/vregset.h               |   62 -
 nq/include/wad.h                   |   89 -
 nq/source/cl_main.c                |    2 +-
 nq/source/d_fill.c                 |   15 +-
 nq/source/d_init.c                 |    1 -
 nq/source/draw.c                   |    2 +-
 nq/source/gl_draw.c                |   12 +-
 nq/source/gl_rmisc.c               |    2 +-
 nq/source/gl_rsurf.c               |    2 +-
 nq/source/gl_screen.c              |    6 +-
 nq/source/host.c                   |   12 +-
 nq/source/in_dos.c                 |  614 -------
 nq/source/in_sun.c                 |  271 ---
 nq/source/sbar.c                   |    2 +-
 nq/source/screen.c                 |    4 +-
 nq/source/sw_rmisc.c               |    2 +-
 nq/source/sw_view.c                |    4 +-
 nq/source/vid.c                    |  128 +-
 qw/include/Makefile.am             |   20 +-
 qw/include/asm_draw.h              |  154 --
 qw/include/client.h                |    2 +-
 qw/include/context_x11.h           |   70 -
 qw/include/d_local.h               |  122 --
 qw/include/dga_check.h             |   52 -
 qw/include/host.h                  |    2 -
 qw/include/quakeasm.h              |  263 ---
 qw/include/r_local.h               |    2 +-
 qw/include/r_shared.h              |  162 --
 qw/include/render.h                |    2 +-
 qw/include/sbar.h                  |   52 -
 qw/include/vid.h                   |  118 --
 qw/include/wad.h                   |   88 -
 qw/source/cl_main.c                |   20 +-
 qw/source/cl_sys_win.c             |    2 +-
 qw/source/gl_draw.c                |   10 +-
 qw/source/gl_rmain.c               |    2 +-
 qw/source/gl_rmisc.c               |    2 +-
 qw/source/gl_screen.c              |    8 +-
 qw/source/gl_view.c                |    2 +-
 qw/source/pcx.c                    |    2 +-
 qw/source/r_view.c                 |    2 +-
 qw/source/sbar.c                   |    2 +-
 qw/source/screen.c                 |   18 +-
 qw/source/skin.c                   |    2 +-
 qw/source/sw_rmisc.c               |    2 +-
 qw/source/sw_skin.c                |    2 +-
 qw/source/sw_view.c                |    2 +-
 qw/source/vid.c                    |    9 +-
 105 files changed, 23546 insertions(+), 3789 deletions(-)

commit bd0fab4
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Apr 15 03:17:03 2001 +0000

    vid_wgl in qw now uses vid_common_gl. probably doesn't work
    compile fix for merged glquake.h in vid_wg.c in nq

 nq/source/vid_wgl.c   |    2 +-
 qw/source/Makefile.am |    2 +-
 qw/source/in_win.c    |    4 +-
 qw/source/vid_wgl.c   |  237 +++----------------------------------------------
 4 files changed, 16 insertions(+), 229 deletions(-)

commit 9f58307
Author: Timothy C. McGrath <tmhikaru@gmail.com>
Date:   Sun Apr 15 00:39:29 2001 +0000

    Made necessary changes to includes to get files to compile, got
    directions from despair :)
    
    Misty-chan

 qw/source/qfgl_ext.c      |    2 +-
 qw/source/vid_3dfxsvga.c  |    2 +-
 qw/source/vid_common_gl.c |    2 +-
 3 files changed, 3 insertions(+), 3 deletions(-)

commit 5859b3d
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Apr 14 21:22:08 2001 +0000

    merge glquake.h. Rather messily done, but it works and all clashes were
    sorted out on the nq side assuming that qw did it right (which it does:)

 include/QF/qfgl_ext.h     |  260 ++++++++++++++++++++++++++++++++
 include/glquake.h         |  369 +++++++++++++++++++++++++++++++++++++++++++++
 nq/include/glquake.h      |  295 ------------------------------------
 nq/source/gl_part.c       |    7 +-
 nq/source/vid_common_gl.c |    6 +-
 qw/include/glquake.h      |  295 ------------------------------------
 qw/include/qfgl_ext.h     |  260 --------------------------------
 7 files changed, 634 insertions(+), 858 deletions(-)

commit c0507f5
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Apr 14 02:30:30 2001 +0000

    update for the lastest alsa pcm mmap api. not as bad as at first appearance

 libs/audio/targets/snd_alsa_0_9.c |   79 +++++++++++--------------------------
 1 file changed, 24 insertions(+), 55 deletions(-)

commit 8fef64c
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Apr 14 02:27:19 2001 +0000

    V_CheckGamma WILL get called before vid_gamma gets set in gl, so protect
    against that circumstance.

 qw/source/r_view.c |    8 +++++---
 1 file changed, 5 insertions(+), 3 deletions(-)

commit fa99cb3
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Apr 14 02:06:02 2001 +0000

    forgot to add it to GLX_LIBS

 configure.in |    6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit c46f104
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Apr 14 01:52:10 2001 +0000

    add -lXext to the glx test link lines

 configure.in |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 475a0b0
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Apr 13 08:08:41 2001 +0000

    must not call snd_pcm_mmap_forward with a count of 0
    this fixes the alsa assert at slower rates

 libs/audio/targets/snd_alsa_0_9.c |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit bffe679
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Fri Apr 13 08:02:11 2001 +0000

    Gamma cleanups. Brightness and contrast are gone from software, since they
    won't work with proper gamma control anyway.

 qw/source/gl_view.c       |   17 ---------
 qw/source/r_view.c        |   26 +++-----------
 qw/source/sw_view.c       |   30 ++--------------
 qw/source/vid.c           |   88 ++++++++++++++++++++++++++-------------------
 qw/source/vid_common_gl.c |   20 +++++++----
 qw/source/vid_x11.c       |    7 ++--
 6 files changed, 78 insertions(+), 110 deletions(-)

commit 9a2df9a
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Apr 13 06:56:45 2001 +0000

    use hash tables in Skin_Find

 qw/source/skin.c |   46 +++++++++++++++++++++++++++++-----------------
 1 file changed, 29 insertions(+), 17 deletions(-)

commit 9ff8996
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Fri Apr 13 06:53:35 2001 +0000

    Fix hw gamma in -sgl.

 qw/source/vid_sdl.c |    1 -
 qw/source/vid_sgl.c |   13 +++++++++++++
 2 files changed, 13 insertions(+), 1 deletion(-)

commit 1b40eb7
Author: Chris Ison <cisos@bigpond.net.au>
Date:   Fri Apr 13 04:25:06 2001 +0000

    fixed m_filter CVAR type, started on gamma for 3dfx

 nq/source/in_svgalib.c   |    2 +-
 nq/source/in_win.c       |    2 +-
 qw/source/in_svgalib.c   |    2 +-
 qw/source/in_win.c       |    2 +-
 qw/source/vid_3dfxsvga.c |   16 ++++++++++++++++
 5 files changed, 20 insertions(+), 4 deletions(-)

commit deac792
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Apr 13 03:33:56 2001 +0000

    damn, not only did that not fix the problem, I broke stuff

 qw/source/skin.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ee7d43f
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Apr 13 01:45:37 2001 +0000

    fix the "Couldn't load skin skins/dvc-c.pcx" skins problem

 qw/source/skin.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 5278f9f
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Apr 12 23:44:56 2001 +0000

    put the gamma code into vid.c where (IMO) it should have been.
    give vid_fbdev VID_SetGamma
    mame vid_common_gl and vid_common_sw of their gamma code (vid_common_sw is
    now empty:/)
    rewrite VID_InitGamma to do the right thing with cvars with callbacks
    gl clients have [temporarily?] lost the CVAR_ROM on vid_gamma

 qw/source/vid.c           |   76 ++++++++++++++++++++++++++++--------
 qw/source/vid_common_gl.c |   50 ------------------------
 qw/source/vid_common_sw.c |   94 ---------------------------------------------
 qw/source/vid_fbdev.c     |    6 +++
 qw/source/vid_glx.c       |   11 ------
 qw/source/vid_sgl.c       |   11 ------
 6 files changed, 65 insertions(+), 183 deletions(-)

commit f37b007
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Apr 12 23:39:23 2001 +0000

    nuke the memset in Hunk_HighAllocName

 libs/util/zone.c |    1 -
 1 file changed, 1 deletion(-)

commit 6b3b94b
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Apr 12 06:53:07 2001 +0000

    sound crashing bug fixes
    snd_dma.c, {nq,qw}/source/cl_parse.c:
    	change the type of snd_worldmodel from * to ** and init snd_worldmodel
    	with the ADDRESS of cl.worldmodel so its changes get seen by snd_dma
    snd_mixa.S:
    	picize

 libs/audio/targets/snd_dma.c  |    6 +--
 libs/audio/targets/snd_mixa.S |   97 +++++++++++++++++++++++++++++++----------
 nq/source/cl_parse.c          |    3 +-
 qw/source/cl_parse.c          |    4 +-
 4 files changed, 78 insertions(+), 32 deletions(-)

commit 3a395dd
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Thu Apr 12 06:26:14 2001 +0000

    Fix black screens in -sdl, and lack of gamma correction in -sgl.

 qw/source/vid_sdl.c |    9 ++++++---
 qw/source/vid_sgl.c |   11 +++++------
 2 files changed, 11 insertions(+), 9 deletions(-)

commit f35a629
Author: Timothy C. McGrath <tmhikaru@gmail.com>
Date:   Thu Apr 12 04:08:49 2001 +0000

    Since the lights are usable now, I'm changing my config :)
    
    Misty-chan

 doc/config/glspeed.cfg |   20 +++++++++++---------
 1 file changed, 11 insertions(+), 9 deletions(-)

commit f2435b8
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Thu Apr 12 03:48:26 2001 +0000

    Round, rather than truncate.

 qw/source/vid_common_gl.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a3215e4
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Apr 11 21:55:27 2001 +0000

    at long last, nq-wgl builds. probably as broken as hell, though

 include/in_win.h      |    4 +-
 nq/source/Makefile.am |    4 +-
 nq/source/conproc.c   |   12 +-
 nq/source/in_win.c    |  677 ++++++-------------------------------------------
 nq/source/sys_win.c   |    5 +
 nq/source/vid_wgl.c   |  109 +-------
 6 files changed, 91 insertions(+), 720 deletions(-)

commit 6a6d75b
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Apr 11 21:24:50 2001 +0000

    gah, more libqfsys. also fix up nq-wgl build info

 nq/source/Makefile.am |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit f7d9c1e
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Apr 11 21:06:37 2001 +0000

    joy_win.c now builds, but very likely does not work AT ALL. also fix qw's
    in_win.c for the new input api

 libs/video/targets/joy_win.c |  195 ++++--------------------------------------
 qw/source/in_win.c           |    2 +-
 2 files changed, 18 insertions(+), 179 deletions(-)

commit 7344610
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Apr 11 21:02:56 2001 +0000

    fix redef of APIENTRY

 nq/include/glquake.h |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit b025bb3
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Apr 11 19:56:01 2001 +0000

    first steps

 include/QF/.gitignore          |    1 +
 include/QF/joystick.h          |   44 ++++++++--
 libs/video/targets/Makefile.am |    6 +-
 libs/video/targets/joy.c       |  179 ++++++++++++++++++++++++++++++++++++++++
 libs/video/targets/joy_linux.c |  142 ++-----------------------------
 libs/video/targets/joy_null.c  |   40 ++-------
 libs/video/targets/joy_win.c   |   56 ++++++-------
 7 files changed, 258 insertions(+), 210 deletions(-)

commit 99fd4ab
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Apr 11 16:47:08 2001 +0000

    libs/video/targets/Makefile.am:
    	out-of-tree compile fixes
    nq/source/Makefile.am:
    	missed the -lqfsys

 libs/video/targets/Makefile.am |    2 ++
 nq/source/Makefile.am          |    2 +-
 2 files changed, 3 insertions(+), 1 deletion(-)

commit ebb7b63
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Apr 11 16:19:08 2001 +0000

    view.h:
    	it seems somebody forgot to commit this. just compied direct from qw
    libs/video/targets/.gitignore:
    	better ignore rules
    nq/source/Makefile.am:
    	libqfsys.a is dead :)
    the rest:
    	gamma compile fixes

 include/view.h                |   59 +++++++++++++++++++++++++++++++++++++++++
 libs/video/targets/.gitignore |    6 ++++-
 nq/source/Makefile.am         |    2 +-
 qw/source/vid_sdl.c           |   10 +++++++
 qw/source/vid_sgl.c           |   21 +++++++++++++++
 qw/source/vid_svgalib.c       |   10 +++++++
 6 files changed, 106 insertions(+), 2 deletions(-)

commit f789b61
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Wed Apr 11 07:57:08 2001 +0000

    Merged joystick code. Great deal of cleanup in input, reduced bizarre overuse of protocol.h...
    
    Maimed joy_win.c, very likely to get odd behavior there, even if it compiles.

 configure.in                   |    2 +
 include/QF/input.h             |    9 +-
 include/QF/joystick.h          |    4 +-
 include/in_win.h               |    6 +-
 libs/Makefile.am               |    2 +-
 libs/video/.gitignore          |    3 +
 libs/video/Makefile.am         |    4 +
 libs/video/targets/.gitignore  |    3 +
 libs/video/targets/Makefile.am |   16 ++
 libs/video/targets/joy_linux.c |  230 +++++++++++++++
 libs/video/targets/joy_null.c  |   80 ++++++
 libs/video/targets/joy_win.c   |  600 ++++++++++++++++++++++++++++++++++++++
 nq/include/glquake.h           |    1 +
 nq/include/view.h              |   64 -----
 nq/source/Makefile.am          |   19 +-
 nq/source/cl_input.c           |   23 +-
 nq/source/cl_main.c            |    4 -
 nq/source/gl_view.c            |   19 +-
 nq/source/in_dos.c             |   23 +-
 nq/source/in_fbdev.c           |    2 +-
 nq/source/in_null.c            |    2 +-
 nq/source/in_sdl.c             |   26 +-
 nq/source/in_sun.c             |   20 +-
 nq/source/in_svgalib.c         |   20 +-
 nq/source/in_win.c             |   22 +-
 nq/source/in_x11.c             |   23 +-
 nq/source/joy_linux.c          |  231 ---------------
 nq/source/joy_null.c           |   82 ------
 nq/source/sw_view.c            |   21 +-
 qw/include/in_win.h            |   55 ----
 qw/include/view.h              |   59 ----
 qw/source/Makefile.am          |   24 +-
 qw/source/cl_input.c           |   22 +-
 qw/source/in_fbdev.c           |    2 +-
 qw/source/in_sdl.c             |   33 +--
 qw/source/in_svgalib.c         |   19 +-
 qw/source/in_win.c             |   22 +-
 qw/source/in_x11.c             |   18 +-
 qw/source/joy_linux.c          |  234 ---------------
 qw/source/joy_null.c           |   81 ------
 qw/source/joy_win.c            |  621 ----------------------------------------
 41 files changed, 1129 insertions(+), 1622 deletions(-)

commit 5cd24de
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Wed Apr 11 07:16:34 2001 +0000

    Hardware gamma support in QW. Currently, only -x11 and -glx will
    build. Look at their vid files, as well as vid_common_{gl,sw}.c to find
    out what will need to be added to the rest of the video targets.

 qw/include/context_x11.h  |   47 +++++++-------
 qw/include/vid.h          |   11 +++-
 qw/source/Makefile.am     |    8 +--
 qw/source/context_x11.c   |  134 +++++++++++++++++++++++++-------------
 qw/source/gl_rmain.c      |   18 +++---
 qw/source/in_x11.c        |   20 +++---
 qw/source/r_view.c        |   27 ++++----
 qw/source/sw_view.c       |    6 +-
 qw/source/vid.c           |   35 +++++-----
 qw/source/vid_common_gl.c |   78 ++++++++++++++++++----
 qw/source/vid_common_sw.c |  133 ++++++++++++++++++++++++++++++++++++++
 qw/source/vid_glx.c       |   46 +++++++++----
 qw/source/vid_x11.c       |  158 +++++++++++++++++++--------------------------
 13 files changed, 488 insertions(+), 233 deletions(-)

commit 43fd681
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Wed Apr 11 06:05:39 2001 +0000

    add types to a couple prototypes

 include/QF/cvar.h |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit e1d9546
Author: Joseph Carter <knghtbrd@debian.org>
Date:   Wed Apr 11 05:30:17 2001 +0000

    Moved CodingStyle to doc

 CodingStyle     |  116 -------------------------------------------------------
 doc/CodingStyle |  116 +++++++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 116 insertions(+), 116 deletions(-)

commit 47d89d7
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Apr 11 05:23:12 2001 +0000

    nq-wgl tries to build, but ld segs :(

 nq/source/Makefile.am |   15 ++++++-------
 nq/source/sys_win.c   |   59 -------------------------------------------------
 2 files changed, 7 insertions(+), 67 deletions(-)

commit 4ae2ad2
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Apr 11 05:10:42 2001 +0000

    qw-client-wgl now builds (nq-wgl next)

 configure.in           |   11 ++++--
 libs/audio/cd/cd_win.c |   21 +++++-----
 qw/source/Makefile.am  |    4 +-
 qw/source/in_win.c     |    3 +-
 qw/source/vid_wgl.c    |   99 +-----------------------------------------------
 5 files changed, 23 insertions(+), 115 deletions(-)

commit 12c14bd
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Apr 11 05:10:04 2001 +0000

    split up console like sys was

 libs/util/Makefile.am |    3 ++-
 libs/util/con_print.c |   50 +++++++++++++++++++++++++++++++++++++++++++++++++
 libs/util/console.c   |   16 ----------------
 3 files changed, 52 insertions(+), 17 deletions(-)

commit fa936b1
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Apr 11 04:17:55 2001 +0000

    back out rhamph's premature commit

 libs/audio/targets/Makefile.am |    5 +----
 1 file changed, 1 insertion(+), 4 deletions(-)

commit 09271f0
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Apr 11 03:55:48 2001 +0000

    somehow missed this earlier

 libs/gamecode/Makefile.am |    2 ++
 1 file changed, 2 insertions(+)

commit fa3851b
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Apr 11 03:39:32 2001 +0000

    ignore the results of building mingw in here

 tools/cross/.gitignore |    4 ++++
 1 file changed, 4 insertions(+)

commit 26747ed
Author: Adam Olsen <rhamph@gmail.com>
Date:   Wed Apr 11 03:28:29 2001 +0000

    Ooops, back out premature commit

 configure.in |   12 +-----------
 1 file changed, 1 insertion(+), 11 deletions(-)

commit c45a4d2
Author: Adam Olsen <rhamph@gmail.com>
Date:   Wed Apr 11 03:22:52 2001 +0000

    fix harmless cut&paste error

 configure.in                   |   12 +++++++++++-
 libs/audio/targets/Makefile.am |    5 ++++-
 2 files changed, 15 insertions(+), 2 deletions(-)

commit f36fa31
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Apr 11 03:16:01 2001 +0000

    build snd_mixa.S at all times. it does the right thing when no intel asm is
    wanted.

 libs/audio/targets/Makefile.am |   22 +++++++++-------------
 1 file changed, 9 insertions(+), 13 deletions(-)

commit 9cd83e1
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Apr 11 03:09:24 2001 +0000

    various fixes for out-of-srcdir building
    configure.in:
    	foo/Makefile MUST come before foo/bar/Makefile or foo/bar will NOT be
    	created.
    libs/*...*/Mkaefile.am: add INCLUDES so $(top_scrdir)/include gets searched
    {qw,nq}/source/Makefile.am: fix fbset compiling (and cleaning for nq)

 configure.in                   |   27 +++++++++++++++++----------
 libs/audio/cd/Makefile.am      |    2 ++
 libs/audio/targets/Makefile.am |    2 ++
 libs/util/Makefile.am          |    2 ++
 nq/source/Makefile.am          |    7 +++++--
 qw/source/Makefile.am          |    4 ++--
 6 files changed, 30 insertions(+), 14 deletions(-)

commit 0f98bc0
Author: Adam Olsen <rhamph@gmail.com>
Date:   Wed Apr 11 02:42:53 2001 +0000

    Forgot to edit the comments :)

 libs/audio/targets/snd_common.c |    9 ++-------
 1 file changed, 2 insertions(+), 7 deletions(-)

commit 320bd35
Author: Adam Olsen <rhamph@gmail.com>
Date:   Wed Apr 11 02:41:12 2001 +0000

    Move common variables in snd_dma.c and snd_null.c into snd_common.c

 libs/audio/targets/Makefile.am  |   19 ++++++++-------
 libs/audio/targets/snd_common.c |   49 +++++++++++++++++++++++++++++++++++++++
 libs/audio/targets/snd_dma.c    |   18 +++++++-------
 libs/audio/targets/snd_null.c   |   20 ++++++++--------
 4 files changed, 78 insertions(+), 28 deletions(-)

commit 2b4d8ec
Author: Adam Olsen <rhamph@gmail.com>
Date:   Wed Apr 11 01:17:08 2001 +0000

    Remove some extra files linked in with snd_null.c

 libs/audio/targets/Makefile.am |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 75aa402
Author: Joseph Carter <knghtbrd@debian.org>
Date:   Wed Apr 11 00:10:19 2001 +0000

    A few more.  Also removed a couple inaccurate comments.

 libs/audio/cd/cd_linux.c      |    3 +-
 libs/audio/targets/snd_dma.c  |   38 +++++++++++++-----------
 libs/audio/targets/snd_null.c |   10 ++++---
 libs/util/qargs.c             |    1 -
 nq/source/gl_draw.c           |    2 +-
 nq/source/sv_cvar.c           |    2 --
 nq/source/vid_3dfxsvga.c      |    1 -
 qw/source/cl_main.c           |    8 ++---
 qw/source/gl_draw.c           |    7 +++--
 qw/source/net_udp6.c          |    1 -
 qw/source/sv_main.c           |   66 +++++++++++++++++++++++++++--------------
 qw/source/vid_3dfxsvga.c      |    1 -
 12 files changed, 81 insertions(+), 59 deletions(-)

commit 2bc55b7
Author: Joseph Carter <knghtbrd@debian.org>
Date:   Tue Apr 10 23:39:30 2001 +0000

    Cvar cleanups..  NULL is now used in place of 0 for callbacks, this should
    make Cvar_Get's a lot easier to read.

 libs/gamecode/pr_edict.c  |    2 +-
 libs/util/cvar.c          |    8 +-
 libs/util/quakefs.c       |    6 +-
 nq/source/cl_cam.c        |    8 +-
 nq/source/cl_main.c       |   61 +--
 nq/source/com.c           |    3 +-
 nq/source/console.c       |    2 +-
 nq/source/context_x11.c   |    2 +-
 nq/source/d_init.c        |    6 +-
 nq/source/gl_draw.c       |   28 +-
 nq/source/gl_rmisc.c      |   70 ++--
 nq/source/gl_rsurf.c      |    2 +-
 nq/source/gl_screen.c     |   21 +-
 nq/source/host.c          |   24 +-
 nq/source/in_dos.c        |    9 +-
 nq/source/in_sdl.c        |    7 +-
 nq/source/in_sun.c        |    4 +-
 nq/source/in_svgalib.c    |    3 +-
 nq/source/in_win.c        |   42 +-
 nq/source/in_x11.c        |    9 +-
 nq/source/joy_linux.c     |    8 +-
 nq/source/joy_null.c      |    6 +-
 nq/source/keys.c          |    2 +-
 nq/source/model.c         |    2 +-
 nq/source/net_main.c      |   21 +-
 nq/source/r_view.c        |   66 +--
 nq/source/screen.c        |   16 +-
 nq/source/snd_dma.c       | 1020 +++++++++++++++++++++++++++++++++++++++++++++
 nq/source/snd_null.c      |  147 +++++++
 nq/source/sv_main.c       |   25 +-
 nq/source/sv_progs.c      |   32 +-
 nq/source/sw_rmain.c      |   53 +--
 nq/source/sys_unix.c      |    3 +-
 nq/source/vid.c           |    6 +-
 nq/source/vid_common_gl.c |    8 +-
 nq/source/vid_dos.c       |   30 +-
 nq/source/vid_fbdev.c     |   10 +-
 nq/source/vid_mgl.c       |   28 +-
 nq/source/vid_sdl.c       |    3 +-
 nq/source/vid_sgl.c       |    3 +-
 nq/source/vid_sunx.c      |    3 +-
 nq/source/vid_sunxil.c    |    9 +-
 nq/source/vid_svgalib.c   |    9 +-
 nq/source/vid_wgl.c       |    3 +-
 nq/source/vid_win.c       |   33 +-
 qw/source/cl_cam.c        |    9 +-
 qw/source/cl_ents.c       |    2 +-
 qw/source/cl_input.c      |    5 +-
 qw/source/cl_main.c       |   97 +++--
 qw/source/cl_pred.c       |   10 +-
 qw/source/cl_sys_sdl.c    |    3 +-
 qw/source/cl_sys_unix.c   |    3 +-
 qw/source/cl_sys_win.c    |    3 +-
 qw/source/com.c           |    3 +-
 qw/source/console.c       |    2 +-
 qw/source/context_x11.c   |    2 +-
 qw/source/d_init.c        |    9 +-
 qw/source/draw.c          |    3 +-
 qw/source/game.c          |    2 +-
 qw/source/gl_draw.c       |   12 +-
 qw/source/gl_rmain.c      |    2 +-
 qw/source/gl_rmisc.c      |   62 +--
 qw/source/gl_screen.c     |   30 +-
 qw/source/in_sdl.c        |    5 +-
 qw/source/in_svgalib.c    |    3 +-
 qw/source/in_win.c        |    3 +-
 qw/source/in_x11.c        |   12 +-
 qw/source/joy_linux.c     |    8 +-
 qw/source/joy_null.c      |    6 +-
 qw/source/joy_win.c       |   60 +--
 qw/source/keys.c          |    2 +-
 qw/source/model.c         |    3 +-
 qw/source/net_chan.c      |   11 +-
 qw/source/net_packetlog.c |    6 +-
 qw/source/r_view.c        |   69 +--
 qw/source/screen.c        |   28 +-
 qw/source/skin.c          |   15 +-
 qw/source/snd_dma.c       | 1020 +++++++++++++++++++++++++++++++++++++++++++++
 qw/source/snd_null.c      |  147 +++++++
 qw/source/sv_ccmds.c      |    3 +-
 qw/source/sv_main.c       |   70 ++--
 qw/source/sv_progs.c      |    7 +-
 qw/source/sv_sys_unix.c   |    7 +-
 qw/source/sv_sys_win.c    |    5 +-
 qw/source/sv_user.c       |   12 +-
 qw/source/sw_rmain.c      |   48 +--
 qw/source/teamplay.c      |   10 +-
 qw/source/vid.c           |    6 +-
 qw/source/vid_common_gl.c |    3 +-
 qw/source/vid_fbdev.c     |   10 +-
 qw/source/vid_mgl.c       |   24 +-
 qw/source/vid_sdl.c       |    2 +-
 qw/source/vid_sgl.c       |    3 +-
 qw/source/vid_svgalib.c   |   11 +-
 qw/source/vid_wgl.c       |    6 +-
 95 files changed, 3098 insertions(+), 649 deletions(-)

commit 659eb45
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Apr 10 23:31:50 2001 +0000

    tools to help with cross copiling QF under mingw in linux

 tools/cross/cross-configure.sh |    9 ++
 tools/cross/cross-make.sh      |    5 +
 tools/cross/cross.sh           |  203 ++++++++++++++++++++++++++++++++++++++++
 3 files changed, 217 insertions(+)

commit b89fde2
Author: Adam Olsen <rhamph@gmail.com>
Date:   Tue Apr 10 23:18:08 2001 +0000

    Make snd_null.c actually work.
    add --disable-sound to configure, for no sound at all :)

 configure.in                   |    9 +++++++++
 libs/audio/targets/Makefile.am |    2 +-
 libs/audio/targets/snd_null.c  |    5 ++++-
 3 files changed, 14 insertions(+), 2 deletions(-)

commit 051f3ca
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Apr 10 23:17:47 2001 +0000

    nq-{sdl,sgl,wgl} compile, but don't link

 nq/include/glquake.h        |    9 ++-
 nq/source/cl_demo.c         |    1 +
 nq/source/cl_main.c         |    1 +
 nq/source/gib.c             |    1 +
 nq/source/gib_interpret.c   |    1 +
 nq/source/gl_mesh.c         |    1 +
 nq/source/gl_model_alias.c  |    1 +
 nq/source/gl_model_brush.c  |    1 +
 nq/source/gl_model_sprite.c |    1 +
 nq/source/gl_warp.c         |    1 +
 nq/source/host.c            |    1 +
 nq/source/host_cmd.c        |    1 +
 nq/source/keys.c            |    1 +
 nq/source/model_brush.c     |    1 +
 nq/source/net_udp.c         |   59 ++++++++++++--
 nq/source/pr_cmds.c         |    1 +
 nq/source/r_part.c          |    1 +
 nq/source/screen.c          |    1 +
 nq/source/sv_main.c         |    1 +
 nq/source/sys_win.c         |  189 +++++++------------------------------------
 nq/source/vid_common_gl.c   |    1 +
 nq/source/vid_wgl.c         |   47 +++++------
 22 files changed, 126 insertions(+), 196 deletions(-)

commit 34c9239
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Tue Apr 10 22:30:34 2001 +0000

    Add winquake.h to EXTRA_DIST.

 include/Makefile.am |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 7f5d4cd
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Apr 10 22:09:41 2001 +0000

    clients now build (sdl, sgl, wgl), but don't link yet

 libs/audio/cd/cd_null.c     |    2 +-
 qw/source/cl_cam.c          |    1 +
 qw/source/cl_demo.c         |    1 +
 qw/source/cl_misc.c         |    1 +
 qw/source/cl_slist.c        |    3 +++
 qw/source/cl_sys_win.c      |    2 +-
 qw/source/console.c         |    1 +
 qw/source/gl_mesh.c         |    1 +
 qw/source/gl_model_alias.c  |    1 +
 qw/source/gl_model_brush.c  |    1 +
 qw/source/gl_model_sprite.c |    1 +
 qw/source/gl_ngraph.c       |    1 +
 qw/source/gl_sky.c          |    1 +
 qw/source/joy_win.c         |    2 +-
 qw/source/keys.c            |    1 +
 qw/source/locs.c            |    1 +
 qw/source/model_alias.c     |    1 +
 qw/source/teamplay.c        |    1 +
 qw/source/vid_common_gl.c   |    1 +
 qw/source/vid_wgl.c         |   24 +++++++++++++-----------
 20 files changed, 34 insertions(+), 14 deletions(-)

commit 8e2d89c
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Apr 10 21:45:42 2001 +0000

    fix up a mis-understanding about api headers
    *taniwha larts himself for not explaining things to Despair

 include/Makefile.am               |    4 +-
 include/QF/cdaudio.h              |   42 ++++++++
 include/QF/input.h                |   59 +++++++++++
 include/QF/joystick.h             |   83 +++++++++++++++
 include/QF/sound.h                |  206 +++++++++++++++++++++++++++++++++++++
 include/cdaudio.h                 |   42 --------
 include/input.h                   |   59 -----------
 include/joystick.h                |   83 ---------------
 include/sound.h                   |  206 -------------------------------------
 libs/audio/cd/cd_null.c           |    2 +-
 libs/audio/targets/snd_alsa_0_5.c |    2 +-
 libs/audio/targets/snd_alsa_0_9.c |    2 +-
 libs/audio/targets/snd_disk.c     |    2 +-
 libs/audio/targets/snd_dma.c      |    7 +-
 libs/audio/targets/snd_mem.c      |    2 +-
 libs/audio/targets/snd_mix.c      |    2 +-
 libs/audio/targets/snd_null.c     |    2 +-
 libs/audio/targets/snd_oss.c      |    2 +-
 libs/audio/targets/snd_sdl.c      |    2 +-
 libs/audio/targets/snd_sgi.c      |    2 +-
 libs/audio/targets/snd_sun.c      |    2 +-
 libs/audio/targets/snd_win.c      |    2 +-
 nq/include/client.h               |    2 +-
 nq/source/cl_main.c               |    2 +-
 nq/source/cl_parse.c              |    6 +-
 nq/source/console.c               |    2 +-
 nq/source/context_x11.c           |    2 +-
 nq/source/draw.c                  |    2 +-
 nq/source/gl_screen.c             |    4 +-
 nq/source/host.c                  |    4 +-
 nq/source/in_sdl.c                |    4 +-
 nq/source/in_svgalib.c            |    4 +-
 nq/source/in_x11.c                |    4 +-
 nq/source/screen.c                |    2 +-
 nq/source/vid_common_gl.c         |    2 +-
 nq/source/vid_fbdev.c             |    2 +-
 nq/source/vid_glx.c               |    2 +-
 nq/source/vid_svgalib.c           |    2 +-
 nq/source/vid_x11.c               |    3 +-
 qw/source/cl_input.c              |    2 +-
 qw/source/cl_main.c               |    6 +-
 qw/source/cl_parse.c              |    4 +-
 qw/source/cl_tent.c               |    2 +-
 qw/source/console.c               |    2 +-
 qw/source/context_x11.c           |    2 +-
 qw/source/draw.c                  |    2 +-
 qw/source/gl_rmain.c              |    2 +-
 qw/source/in_sdl.c                |    4 +-
 qw/source/in_svgalib.c            |    4 +-
 qw/source/in_x11.c                |    4 +-
 qw/source/sv_send.c               |    2 +-
 qw/source/sw_redge.c              |    2 +-
 qw/source/sw_rmain.c              |    2 +-
 qw/source/vid_common_gl.c         |    2 +-
 qw/source/vid_fbdev.c             |    2 +-
 qw/source/vid_glx.c               |    2 +-
 qw/source/vid_svgalib.c           |    2 +-
 57 files changed, 452 insertions(+), 460 deletions(-)

commit 082c5cc
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Apr 10 21:43:57 2001 +0000

    get qw-server to link in mingw

 libs/util/Makefile.am |    2 +-
 libs/util/sys.c       |   15 ---------------
 libs/util/sys_error.c |   50 +++++++++++++++++++++++++++++++++++++++++++++++++
 qw/source/Makefile.am |   25 ++++++++++++-------------
 4 files changed, 63 insertions(+), 29 deletions(-)

commit e34342e
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Tue Apr 10 21:01:29 2001 +0000

    Calm taniwha's nerves.

 include/in_win.h   |   55 ++++++++++++++++++++++++++++++++++
 include/input.h    |   59 +++++++++++++++++++++++++++++++++++++
 include/joystick.h |   83 ++++++++++++++++++++++++++++++++++++++++++++++++++++
 3 files changed, 197 insertions(+)

commit e9fb757
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Apr 10 20:15:52 2001 +0000

    oops, missed with the #ifdef

 libs/util/sys.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit cbb4af7
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Tue Apr 10 20:15:18 2001 +0000

    Remove duplicate sound.h, move some things down from include/QF to include.
    Prepare for joystick merge...

 include/Makefile.am               |    2 +
 include/QF/Makefile.am            |    4 +-
 include/QF/cdaudio.h              |   42 --------
 include/QF/sound.h                |  204 ------------------------------------
 include/cdaudio.h                 |   42 ++++++++
 include/sound.h                   |  206 +++++++++++++++++++++++++++++++++++++
 libs/audio/targets/snd_alsa_0_5.c |    2 +-
 libs/audio/targets/snd_alsa_0_9.c |    2 +-
 libs/audio/targets/snd_disk.c     |    2 +-
 libs/audio/targets/snd_dma.c      |    7 +-
 libs/audio/targets/snd_mem.c      |    2 +-
 libs/audio/targets/snd_mix.c      |    2 +-
 libs/audio/targets/snd_null.c     |    2 +-
 libs/audio/targets/snd_oss.c      |    2 +-
 libs/audio/targets/snd_sdl.c      |    2 +-
 libs/audio/targets/snd_sgi.c      |    2 +-
 libs/audio/targets/snd_sun.c      |    4 +-
 libs/audio/targets/snd_win.c      |    2 +-
 nq/include/input.h                |   60 -----------
 nq/include/joystick.h             |   83 ---------------
 nq/include/sound.h                |  200 -----------------------------------
 nq/source/cl_parse.c              |    3 +-
 nq/source/host.c                  |    2 +-
 nq/source/vid_mgl.c               |    4 +-
 nq/source/vid_wgl.c               |    2 +-
 qw/include/input.h                |   56 ----------
 qw/include/joystick.h             |   83 ---------------
 qw/include/protocol.h             |    3 -
 qw/include/sound.h                |  197 -----------------------------------
 qw/source/cl_main.c               |    4 +-
 qw/source/cl_parse.c              |    4 +-
 qw/source/sv_send.c               |    1 +
 qw/source/vid_mgl.c               |    4 +-
 qw/source/vid_wgl.c               |    4 +-
 34 files changed, 285 insertions(+), 956 deletions(-)

commit 334b528
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Apr 10 20:11:50 2001 +0000

    forgot some bits

 libs/util/sys.c       |   16 +++++-
 nq/include/winquake.h |  122 ---------------------------------------------
 qw/include/winquake.h |  133 -------------------------------------------------
 3 files changed, 14 insertions(+), 257 deletions(-)

commit dfbfd94
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Apr 10 20:07:11 2001 +0000

    mingw cross compile fixes. qw-server (only, so far) compiles but does not
    yet link due to Sys_Error :/

 configure.in                 |   55 ++++++++++++----
 include/winquake.h           |  147 ++++++++++++++++++++++++++++++++++++++++++
 libs/audio/targets/snd_dma.c |   11 ++--
 libs/gamecode/pr_edict.c     |    2 +
 libs/gamecode/pr_exec.c      |    1 +
 libs/util/console.c          |    1 +
 libs/util/va.c               |    2 +
 qw/source/cl_sys_sdl.c       |   23 -------
 qw/source/cl_sys_win.c       |   25 +------
 qw/source/joy_win.c          |    1 +
 qw/source/model_brush.c      |    1 +
 qw/source/net_chan.c         |    2 +-
 qw/source/net_udp.c          |    1 +
 qw/source/sv_init.c          |    1 +
 qw/source/sv_pr_cmds.c       |    1 +
 qw/source/sv_send.c          |    1 +
 qw/source/sv_sys_win.c       |   20 +-----
 qw/source/sys_unix.c         |   17 -----
 qw/source/sys_win.c          |    1 +
 19 files changed, 215 insertions(+), 98 deletions(-)

commit 5ebe111
Author: Adam Olsen <rhamph@gmail.com>
Date:   Tue Apr 10 09:53:00 2001 +0000

    Probably want this :)

 libs/audio/targets/.gitignore |    7 +++++++
 1 file changed, 7 insertions(+)

commit dcd924c
Author: Adam Olsen <rhamph@gmail.com>
Date:   Tue Apr 10 09:44:36 2001 +0000

    Removed old files

 nq/source/snd_alsa_0_5.c |  358 -------------
 nq/source/snd_alsa_0_9.c |  313 -----------
 nq/source/snd_disk.c     |  108 ----
 nq/source/snd_dma.c      | 1016 ------------------------------------
 nq/source/snd_dos.c      |  648 -----------------------
 nq/source/snd_gus.c      | 1281 ----------------------------------------------
 nq/source/snd_mem.c      |  405 ---------------
 nq/source/snd_mix.c      |  429 ----------------
 nq/source/snd_mixa.S     |  232 ---------
 nq/source/snd_next.c     |   73 ---
 nq/source/snd_null.c     |  145 ------
 nq/source/snd_oss.c      |  297 -----------
 nq/source/snd_sdl.c      |  158 ------
 nq/source/snd_sgi.c      |  311 -----------
 nq/source/snd_sun.c      |  228 ---------
 nq/source/snd_win.c      |  725 --------------------------
 qw/source/snd_alsa_0_5.c |  358 -------------
 qw/source/snd_alsa_0_9.c |  313 -----------
 qw/source/snd_disk.c     |  108 ----
 qw/source/snd_dma.c      | 1016 ------------------------------------
 qw/source/snd_gus.c      | 1281 ----------------------------------------------
 qw/source/snd_mem.c      |  405 ---------------
 qw/source/snd_mix.c      |  429 ----------------
 qw/source/snd_mixa.S     |  232 ---------
 qw/source/snd_null.c     |  145 ------
 qw/source/snd_oss.c      |  297 -----------
 qw/source/snd_sdl.c      |  158 ------
 qw/source/snd_sgi.c      |  311 -----------
 qw/source/snd_sun.c      |  228 ---------
 qw/source/snd_win.c      |  725 --------------------------
 30 files changed, 12733 deletions(-)

commit 69022c7
Author: Adam Olsen <rhamph@gmail.com>
Date:   Tue Apr 10 09:40:09 2001 +0000

    Move sound targets into a library.  Still doesn't pick one at runtime though.

 configure.in                      |    1 +
 include/QF/sound.h                |    7 +
 libs/audio/Makefile.am            |    2 +-
 libs/audio/targets/Makefile.am    |   41 ++
 libs/audio/targets/snd_alsa_0_5.c |  358 +++++++++++
 libs/audio/targets/snd_alsa_0_9.c |  313 +++++++++
 libs/audio/targets/snd_disk.c     |  108 ++++
 libs/audio/targets/snd_dma.c      | 1020 +++++++++++++++++++++++++++++
 libs/audio/targets/snd_gus.c      | 1281 +++++++++++++++++++++++++++++++++++++
 libs/audio/targets/snd_mem.c      |  405 ++++++++++++
 libs/audio/targets/snd_mix.c      |  429 +++++++++++++
 libs/audio/targets/snd_mixa.S     |  232 +++++++
 libs/audio/targets/snd_null.c     |  145 +++++
 libs/audio/targets/snd_oss.c      |  297 +++++++++
 libs/audio/targets/snd_sdl.c      |  158 +++++
 libs/audio/targets/snd_sgi.c      |  311 +++++++++
 libs/audio/targets/snd_sun.c      |  228 +++++++
 libs/audio/targets/snd_win.c      |  725 +++++++++++++++++++++
 nq/source/Makefile.am             |   36 +-
 nq/source/cl_parse.c              |    5 +
 qw/include/bspfile.h              |  262 ++++++++
 qw/source/Makefile.am             |   43 +-
 qw/source/cl_parse.c              |   11 +-
 23 files changed, 6346 insertions(+), 72 deletions(-)

commit 27d177f
Author: Joseph Carter <knghtbrd@debian.org>
Date:   Tue Apr 10 07:26:22 2001 +0000

    The cdrom code now uses strequal where appropriate.  Also, playing track 0
    now stops the CD from playing.  CD track 0 is used this way already, even
    by the Id-licensed mission packs.

 libs/audio/cd/cd_linux.c |   26 +++++++++++++-------------
 libs/audio/cd/cd_sdl.c   |   21 +++++++++++----------
 libs/audio/cd/cd_sgi.c   |   24 ++++++++++++------------
 libs/audio/cd/cd_win.c   |   26 +++++++++++++-------------
 4 files changed, 49 insertions(+), 48 deletions(-)

commit a96536c
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Apr 10 06:55:28 2001 +0000

    nuke commdef.h and clean up the results by putting its contents where they
    belong.
    also, merge model.h and friends (MINUS render.h). this needed moving efrags_t
    from render.h to model.h.

 include/QF/bspfile.h        |  289 +++++++++++++++++++++++++++
 include/QF/model.h          |  455 +++++++++++++++++++++++++++++++++++++++++++
 include/QF/modelgen.h       |  129 ++++++++++++
 include/QF/spritegn.h       |  101 ++++++++++
 include/QF/sys.h            |    2 +
 nq/include/bspfile.h        |  338 --------------------------------
 nq/include/client.h         |    2 +-
 nq/include/d_iface.h        |    5 +-
 nq/include/glquake.h        |    1 -
 nq/include/model.h          |  446 ------------------------------------------
 nq/include/modelgen.h       |  140 -------------
 nq/include/render.h         |    9 -
 nq/include/server.h         |    2 +-
 nq/include/spritegn.h       |  116 -----------
 nq/source/gl_draw.c         |    2 -
 nq/source/gl_mesh.c         |    2 +-
 nq/source/gl_refrag.c       |    2 +-
 nq/source/gl_rmain.c        |    2 +-
 nq/source/gl_rmisc.c        |    3 +-
 nq/source/gl_rsurf.c        |    3 +-
 nq/source/gl_screen.c       |    3 +-
 nq/source/gl_warp.c         |    2 +-
 nq/source/host_cmd.c        |    2 +-
 nq/source/snd_dma.c         |    2 +-
 nq/source/world.c           |    2 +-
 qw/include/bspfile.h        |  268 -------------------------
 qw/include/client.h         |    2 +
 qw/include/d_iface.h        |    3 +-
 qw/include/glquake.h        |    2 +-
 qw/include/host.h           |   13 +-
 qw/include/model.h          |  448 ------------------------------------------
 qw/include/pmove.h          |    2 +-
 qw/include/r_local.h        |    2 +-
 qw/include/r_shared.h       |    2 +-
 qw/include/render.h         |    9 +-
 qw/include/server.h         |    5 +-
 qw/include/spritegn.h       |  101 ----------
 qw/include/world.h          |    2 +-
 qw/source/cl_cam.c          |    1 -
 qw/source/cl_main.c         |    2 +-
 qw/source/cl_pred.c         |    1 -
 qw/source/cl_slist.c        |    1 -
 qw/source/cl_tent.c         |    2 +-
 qw/source/console.c         |    1 -
 qw/source/context_x11.c     |    1 -
 qw/source/gl_mesh.c         |    2 +-
 qw/source/gl_model_alias.c  |    2 +-
 qw/source/gl_model_brush.c  |    2 +-
 qw/source/gl_model_sprite.c |    2 +-
 qw/source/gl_rmain.c        |    1 -
 qw/source/model.c           |    2 +-
 qw/source/model_alias.c     |    2 +-
 qw/source/model_brush.c     |    3 +-
 qw/source/model_sprite.c    |    2 +-
 qw/source/net_chan.c        |    2 +-
 qw/source/pmovetst.c        |    2 +-
 qw/source/sbar.c            |    1 -
 qw/source/snd_dma.c         |    2 +-
 qw/source/sv_main.c         |    2 +-
 qw/source/sv_model.c        |    2 +-
 qw/source/sv_send.c         |    1 +
 qw/source/sw_model_alias.c  |    2 +-
 qw/source/sw_model_brush.c  |    2 +-
 qw/source/sw_model_sprite.c |    2 +-
 qw/source/teamplay.c        |    2 +-
 qw/source/world.c           |    1 -
 66 files changed, 1037 insertions(+), 1930 deletions(-)

commit b7a4c80
Author: Joseph Carter <knghtbrd@debian.org>
Date:   Tue Apr 10 05:41:21 2001 +0000

    New Cvar in Linux: mus_cddevice, default is /dev/cdrom.  Set it to none if
    you don't want CD music.  Can be changed in-game, in which case it will
    stop the current CD if one is playing before changing devices.  Note that
    this is a blocking operation, don't do it in the heat of battle.

 libs/audio/cd/cd_linux.c |   95 ++++++++++++++++++++++++++--------------------
 1 file changed, 53 insertions(+), 42 deletions(-)

commit ed0b391
Author: Adam Olsen <rhamph@gmail.com>
Date:   Tue Apr 10 02:36:50 2001 +0000

    Tweaked some comment indentation that made me itch ;)

 libs/util/mathlib.c |    7 +++----
 1 file changed, 3 insertions(+), 4 deletions(-)

commit e236ac4
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Apr 10 02:36:44 2001 +0000

    move mplane_t to qtypes.h so non-asm builds will build (so long as you're not
    trying to build -svga)

 include/QF/qtypes.h |   13 +++++++++++++
 nq/include/model.h  |   15 ---------------
 qw/include/model.h  |   15 ---------------
 3 files changed, 13 insertions(+), 30 deletions(-)

commit 2829f8b
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Apr 10 02:16:50 2001 +0000

    include config.h and string[s].h

 qw/source/noisetextures.c |    9 +++++++++
 1 file changed, 9 insertions(+)

commit e2935ce
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Apr 9 23:46:52 2001 +0000

    add .gitignore

 libs/audio/.gitignore    |    3 +++
 libs/audio/cd/.gitignore |    7 +++++++
 2 files changed, 10 insertions(+)

commit d7eb585
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Mon Apr 9 21:15:09 2001 +0000

    Merge cd. Doesn't dlopen different cd drivers or anything exciting... Yet.

 configure.in              |    2 +
 include/QF/Makefile.am    |   11 +-
 include/QF/cdaudio.h      |   42 +++
 include/QF/sound.h        |  197 ++++++++++
 libs/Makefile.am          |    2 +-
 libs/audio/Makefile.am    |    4 +
 libs/audio/cd/Makefile.am |   24 ++
 libs/audio/cd/cd_dos.c    |  871 +++++++++++++++++++++++++++++++++++++++++++++
 libs/audio/cd/cd_linux.c  |  455 +++++++++++++++++++++++
 libs/audio/cd/cd_null.c   |   75 ++++
 libs/audio/cd/cd_sdl.c    |  293 +++++++++++++++
 libs/audio/cd/cd_sgi.c    |  357 +++++++++++++++++++
 libs/audio/cd/cd_win.c    |  514 ++++++++++++++++++++++++++
 nq/include/Makefile.am    |    2 +-
 nq/include/cdaudio.h      |   41 ---
 nq/source/Makefile.am     |   25 +-
 nq/source/cd_dos.c        |  870 --------------------------------------------
 nq/source/cd_linux.c      |  416 ----------------------
 nq/source/cd_null.c       |   74 ----
 nq/source/cd_win.c        |  484 -------------------------
 nq/source/cl_parse.c      |    6 +-
 nq/source/host.c          |   12 +-
 nq/source/vid_mgl.c       |   16 +-
 nq/source/vid_wgl.c       |    2 +-
 qw/include/Makefile.am    |   22 +-
 qw/include/cdaudio.h      |   42 ---
 qw/source/Makefile.am     |   34 +-
 qw/source/cd_dos.c        |  871 ---------------------------------------------
 qw/source/cd_linux.c      |  458 ------------------------
 qw/source/cd_null.c       |   75 ----
 qw/source/cd_sdl.c        |  293 ---------------
 qw/source/cd_sgi.c        |  358 -------------------
 qw/source/cd_win.c        |  514 --------------------------
 qw/source/cl_main.c       |    4 +-
 qw/source/cl_parse.c      |    4 +-
 qw/source/vid_mgl.c       |    4 +-
 qw/source/vid_wgl.c       |    4 +-
 37 files changed, 2896 insertions(+), 4582 deletions(-)

commit 0c00970
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sun Apr 8 21:41:53 2001 +0000

    Tweak particle effects extensively. Grenades and blood far cheaper, and better looking.

 qw/source/gl_dyn_part.c     |   31 +++++++++++++++----------------
 qw/source/gl_dyn_textures.c |    4 ++--
 2 files changed, 17 insertions(+), 18 deletions(-)

commit 9bdc1f0
Author: Timothy C. McGrath <tmhikaru@gmail.com>
Date:   Sun Apr 8 07:49:54 2001 +0000

    Modified smoke trails for grenades and rockets so that we have an easter
    egg temporarily until easter - They'll randomly choose between 255
    colors. I'll eventually change this into a cvar, but for now enjoy ;)
    
    This stuff is easily removed for the people who don't like colors: Just
    remove my added lines, and uncomment the old ones :)
    
    Misty-chan

 qw/source/gl_dyn_part.c |    8 ++++++--
 1 file changed, 6 insertions(+), 2 deletions(-)

commit 7553f2b
Author: Zephaniah E. Hull <warp@babylon.d2dc.net>
Date:   Sun Apr 8 04:56:24 2001 +0000

    Tweaking the trails a bit more.

 qw/source/gl_dyn_part.c |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 4873457
Author: Zephaniah E. Hull <warp@babylon.d2dc.net>
Date:   Sun Apr 8 04:07:19 2001 +0000

    Fixed how all particle trails are rendered, still needs a /lot/ of tweaking.

 qw/source/gl_dyn_part.c |  115 +++++++++++++++++++++++++++++++++--------------
 1 file changed, 82 insertions(+), 33 deletions(-)

commit 4d9fe4a
Author: Adam Olsen <rhamph@gmail.com>
Date:   Fri Apr 6 21:55:27 2001 +0000

    Added some personal ideas on what I'd like to see get added to
    quakeforge.  Comments welcome. :)

 doc/ideas/rhamph.txt |   43 +++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 43 insertions(+)

commit b897f96
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Fri Apr 6 19:23:00 2001 +0000

    Restore old grenade smoke trail, make order of texture generator mentions consistent.

 qw/source/gl_dyn_part.c     |   21 ++++++++++++---------
 qw/source/gl_dyn_textures.c |    4 ++--
 2 files changed, 14 insertions(+), 11 deletions(-)

commit a40130f
Author: Zephaniah E. Hull <warp@babylon.d2dc.net>
Date:   Fri Apr 6 19:05:57 2001 +0000

    Oops, non-smoke ring particles should work again.

 qw/source/gl_dyn_part.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit a16b2c0
Author: Zephaniah E. Hull <warp@babylon.d2dc.net>
Date:   Fri Apr 6 18:37:23 2001 +0000

    Borrowed LH's VectorVectors.
    Changed smoke trails a good bit.

 include/QF/mathlib.h        |    3 +-
 libs/util/mathlib.c         |   17 +++-
 qw/source/gl_dyn_part.c     |   56 ++++++++----
 qw/source/gl_dyn_textures.c |   48 +++++++++-
 qw/source/gl_rlight.c       |  202 +++++++++++++++++++++++++++++++++++--------
 qw/source/gl_screen.c       |    6 +-
 6 files changed, 269 insertions(+), 63 deletions(-)

commit 1f25ab9
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Fri Apr 6 04:27:39 2001 +0000

    New generated texture for spark particles.

 qw/source/gl_dyn_part.c     |    7 ++++---
 qw/source/gl_dyn_textures.c |   49 +++++++++++++++++++++++++++++++++++--------
 qw/source/gl_textures.c     |    2 +-
 3 files changed, 45 insertions(+), 13 deletions(-)

commit b7ee9ba
Author: Zephaniah E. Hull <warp@babylon.d2dc.net>
Date:   Fri Apr 6 02:57:26 2001 +0000

    gl_draw.c: gl_lightmode now uses a callback.
    gl_dyn_part.c:
      Now uses a (non-locked) vertex array to reduce GL calls.
      Gives a slight speed gain, I'll optimize it a bit more soon.
    gl_rlight.c:
      Fixed much of the dlightframecount issues.
      (This gives cleaner code and a speed up.)
    gl_rmain.c: A slight reorg of the dlight call order.
    gl_rmisc.c: Enable some of the vertex arrays. (vertex, texcoord, color.)
    gl_rsurf.c:
      Reworked R_BuildLightMap, smaller now code wise, also more optimized,
      and it builds a 0-2 lightmap in more cases now.
    
      Playing with GL_UploadLightmap.
    
      For non-lighthalf non-mtex lightmaps use a 0-2 range.
      (Makes gl_lightmode look a /lot/ better.)
    
    gl_screen.c: More stuff with the gl_lightmode callback.
    r_view.c: R_PushDlights is called elsewhere now.
    sw_rmain.c:
      Moved the R_PushDlights call.
      Also killed the unused PASSAGES define.

 qw/include/render.h     |    3 --
 qw/source/gl_draw.c     |   28 ++++++-----
 qw/source/gl_dyn_part.c |   89 +++++++++++++++++++++++-----------
 qw/source/gl_rlight.c   |   22 +++------
 qw/source/gl_rmain.c    |    2 +
 qw/source/gl_rmisc.c    |    4 ++
 qw/source/gl_rsurf.c    |  123 +++++++++++++++++------------------------------
 qw/source/gl_screen.c   |   19 +++-----
 qw/source/r_view.c      |    2 -
 qw/source/sw_rmain.c    |   10 +---
 10 files changed, 141 insertions(+), 161 deletions(-)

commit 9ea0605
Author: Joseph Carter <knghtbrd@debian.org>
Date:   Fri Apr 6 02:12:19 2001 +0000

    reverting this for Mercury

 nq/include/glquake.h     |    2 +-
 nq/source/gl_draw.c      |   33 +++++++++++++++++----------------
 nq/source/gl_part.c      |    4 ++--
 nq/source/gl_rlight.c    |    2 +-
 nq/source/gl_rmain.c     |    5 +++--
 nq/source/gl_rsurf.c     |   12 +++++++-----
 nq/source/gl_screen.c    |   15 +++++++++++++--
 nq/source/gl_warp.c      |    5 +++--
 qw/include/glquake.h     |    4 ++--
 qw/source/gl_draw.c      |   45 +++++++++++++++++++++++----------------------
 qw/source/gl_dyn_fires.c |    4 ++--
 qw/source/gl_dyn_part.c  |    6 ++++--
 qw/source/gl_ngraph.c    |    3 ++-
 qw/source/gl_rlight.c    |    7 ++++---
 qw/source/gl_rmain.c     |   13 +++++++------
 qw/source/gl_rsurf.c     |   29 +++++++++++++----------------
 qw/source/gl_screen.c    |   21 +++++++++++++++++----
 qw/source/gl_sky.c       |    5 +++--
 qw/source/gl_sky_clip.c  |    6 +++---
 19 files changed, 127 insertions(+), 94 deletions(-)

commit c9ecc7a
Author: Joseph Carter <knghtbrd@debian.org>
Date:   Thu Apr 5 17:28:28 2001 +0000

    The lighthalf qboolean is no more - replaced with a gl_lightmode callback
    to do the job much more simply.  Also replaced lighthalf_v with white_v on
    the QW side.

 nq/include/glquake.h     |    2 +-
 nq/source/gl_draw.c      |   33 ++++++++++++++++-----------------
 nq/source/gl_part.c      |    4 ++--
 nq/source/gl_rlight.c    |    2 +-
 nq/source/gl_rmain.c     |    5 ++---
 nq/source/gl_rsurf.c     |   12 +++++-------
 nq/source/gl_screen.c    |   15 ++-------------
 nq/source/gl_warp.c      |    5 ++---
 qw/include/glquake.h     |    4 ++--
 qw/source/gl_draw.c      |   45 ++++++++++++++++++++++-----------------------
 qw/source/gl_dyn_fires.c |    4 ++--
 qw/source/gl_dyn_part.c  |    6 ++----
 qw/source/gl_ngraph.c    |    3 +--
 qw/source/gl_rlight.c    |    7 +++----
 qw/source/gl_rmain.c     |   13 ++++++-------
 qw/source/gl_rsurf.c     |   29 ++++++++++++++++-------------
 qw/source/gl_screen.c    |   21 ++++-----------------
 qw/source/gl_sky.c       |    5 ++---
 qw/source/gl_sky_clip.c  |    6 +++---
 19 files changed, 94 insertions(+), 127 deletions(-)

commit e0c11b2
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Apr 4 21:53:09 2001 +0000

    grr, it was r_part.c, not r_efrag, but that's sorted properly now

 nq/source/Makefile.am |    2 +-
 nq/source/r_part.c    |  644 +++++++++++++++++++++++++++++++++++++++
 nq/source/r_view.c    |  804 +++++++++++++++++++++++++++++++++++++++++++++++++
 nq/source/sw_refrag.c |  276 +++++++++++++++++
 4 files changed, 1725 insertions(+), 1 deletion(-)

commit eba4676
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Apr 4 21:47:21 2001 +0000

    do the rename thing again (need to fix r_efrag and r_view, grr)

 nq/source/Makefile.am  |   10 +-
 nq/source/r_aclip.c    |  338 ---------------
 nq/source/r_aclipa.S   |  224 ----------
 nq/source/r_alias.c    |  750 --------------------------------
 nq/source/r_aliasa.S   |  244 -----------
 nq/source/r_bsp.c      |  630 ---------------------------
 nq/source/r_draw.c     |  843 ------------------------------------
 nq/source/r_drawa.S    |  845 ------------------------------------
 nq/source/r_edge.c     |  745 --------------------------------
 nq/source/r_edgea.S    |  757 --------------------------------
 nq/source/r_efrag.c    |  276 ------------
 nq/source/r_light.c    |  264 ------------
 nq/source/r_main.c     | 1118 ------------------------------------------------
 nq/source/r_misc.c     |  536 -----------------------
 nq/source/r_part.c     |  644 ----------------------------
 nq/source/r_sky.c      |  282 ------------
 nq/source/r_sprite.c   |  417 ------------------
 nq/source/r_surf.c     |  657 ----------------------------
 nq/source/r_vars.c     |   48 ---
 nq/source/r_varsa.S    |   72 ----
 nq/source/r_view.c     |  804 ----------------------------------
 nq/source/sw_raclip.c  |  338 +++++++++++++++
 nq/source/sw_raclipa.S |  224 ++++++++++
 nq/source/sw_ralias.c  |  750 ++++++++++++++++++++++++++++++++
 nq/source/sw_raliasa.S |  244 +++++++++++
 nq/source/sw_rbsp.c    |  630 +++++++++++++++++++++++++++
 nq/source/sw_rdraw.c   |  843 ++++++++++++++++++++++++++++++++++++
 nq/source/sw_rdrawa.S  |  845 ++++++++++++++++++++++++++++++++++++
 nq/source/sw_redge.c   |  745 ++++++++++++++++++++++++++++++++
 nq/source/sw_redgea.S  |  757 ++++++++++++++++++++++++++++++++
 nq/source/sw_rlight.c  |  264 ++++++++++++
 nq/source/sw_rmain.c   | 1118 ++++++++++++++++++++++++++++++++++++++++++++++++
 nq/source/sw_rmisc.c   |  536 +++++++++++++++++++++++
 nq/source/sw_rpart.c   |  644 ++++++++++++++++++++++++++++
 nq/source/sw_rsky.c    |  282 ++++++++++++
 nq/source/sw_rsprite.c |  417 ++++++++++++++++++
 nq/source/sw_rsurf.c   |  657 ++++++++++++++++++++++++++++
 nq/source/sw_rvars.c   |   48 +++
 nq/source/sw_rvarsa.S  |   72 ++++
 39 files changed, 9419 insertions(+), 10499 deletions(-)

commit ef66808
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Apr 4 21:24:28 2001 +0000

    this was accidently deleted

 qw/source/r_efrag.c |  266 +++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 266 insertions(+)

commit 0146992
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Apr 4 21:22:23 2001 +0000

    rename (most of) r_*.[cS] to sw_r#1.#2 (mmv rocks:) to finally fix the borked
    naming scheme of sw vs gl

 qw/source/Makefile.am  |   12 +-
 qw/source/r_aclip.c    |  334 --------------
 qw/source/r_aclipa.S   |  224 ----------
 qw/source/r_alias.c    |  739 -------------------------------
 qw/source/r_aliasa.S   |  244 -----------
 qw/source/r_bsp.c      |  618 --------------------------
 qw/source/r_draw.c     |  827 -----------------------------------
 qw/source/r_drawa.S    |  845 ------------------------------------
 qw/source/r_edge.c     |  731 -------------------------------
 qw/source/r_edgea.S    |  757 --------------------------------
 qw/source/r_efrag.c    |  266 ------------
 qw/source/r_light.c    |  250 -----------
 qw/source/r_main.c     | 1134 ------------------------------------------------
 qw/source/r_misc.c     |  585 -------------------------
 qw/source/r_part.c     |  577 ------------------------
 qw/source/r_sky.c      |  283 ------------
 qw/source/r_sprite.c   |  408 -----------------
 qw/source/r_surf.c     |  617 --------------------------
 qw/source/r_vars.c     |   47 --
 qw/source/r_varsa.S    |   72 ---
 qw/source/sw_raclip.c  |  334 ++++++++++++++
 qw/source/sw_raclipa.S |  224 ++++++++++
 qw/source/sw_ralias.c  |  739 +++++++++++++++++++++++++++++++
 qw/source/sw_raliasa.S |  244 +++++++++++
 qw/source/sw_rbsp.c    |  618 ++++++++++++++++++++++++++
 qw/source/sw_rdraw.c   |  827 +++++++++++++++++++++++++++++++++++
 qw/source/sw_rdrawa.S  |  845 ++++++++++++++++++++++++++++++++++++
 qw/source/sw_redge.c   |  731 +++++++++++++++++++++++++++++++
 qw/source/sw_redgea.S  |  757 ++++++++++++++++++++++++++++++++
 qw/source/sw_rlight.c  |  250 +++++++++++
 qw/source/sw_rmain.c   | 1134 ++++++++++++++++++++++++++++++++++++++++++++++++
 qw/source/sw_rmisc.c   |  585 +++++++++++++++++++++++++
 qw/source/sw_rpart.c   |  577 ++++++++++++++++++++++++
 qw/source/sw_rsky.c    |  283 ++++++++++++
 qw/source/sw_rsprite.c |  408 +++++++++++++++++
 qw/source/sw_rsurf.c   |  617 ++++++++++++++++++++++++++
 qw/source/sw_rvars.c   |   47 ++
 qw/source/sw_rvarsa.S  |   72 +++
 38 files changed, 9298 insertions(+), 9564 deletions(-)

commit 4dc5da1
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Wed Apr 4 05:40:29 2001 +0000

    Rest of commit...

 qw/source/noisetextures.c |  121 +++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 121 insertions(+)

commit f4632cc
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Wed Apr 4 05:39:44 2001 +0000

    Merge fractalnoise into noisetextures.c, which will eventually add a few more fractal noise types. Current smoke is a blend of diamond-square and plasma noise.
    
    Also make smoke less dense, in an attempt to fix Jin^eLD's problem with hwguy smoke.

 qw/include/fractalnoise.h   |   34 ------------------
 qw/source/Makefile.am       |    2 +-
 qw/source/fractalnoise.c    |   84 -------------------------------------------
 qw/source/gl_dyn_textures.c |   39 +++++++++-----------
 qw/source/gl_textures.c     |   41 +++++++++++++++++++++
 5 files changed, 59 insertions(+), 141 deletions(-)

commit 2f2ba28
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Apr 3 16:50:31 2001 +0000

    pr_lex.c:
    	rewrite PR_LexPunctuation to avoid looping. 6x speedup for that function
    	according to gprof on customTF
    configure.in:
    	--enable-profile

 tools/qfcc/configure.in    |   13 +++++
 tools/qfcc/source/pr_lex.c |  127 +++++++++++++++++++++++++++++++++++++-------
 2 files changed, 121 insertions(+), 19 deletions(-)

commit 774d4ea
Author: Chris Ison <cisos@bigpond.net.au>
Date:   Tue Apr 3 07:05:37 2001 +0000

    console serverlist ideas/plan

 doc/ideas/serverlist.txt |   25 +++++++++++++++++++++++++
 1 file changed, 25 insertions(+)

commit 2ece48c
Author: Chris Ison <cisos@bigpond.net.au>
Date:   Tue Apr 3 05:48:24 2001 +0000

    alpha code for master server queries

 qw/include/cl_slist.h |    3 +++
 qw/include/protocol.h |    1 +
 qw/source/cl_main.c   |   11 +++++++++-
 qw/source/cl_slist.c  |   57 +++++++++++++++++++++++++++++++++++++++++++++----
 4 files changed, 67 insertions(+), 5 deletions(-)

commit 1843bb5
Author: Timothy C. McGrath <tmhikaru@gmail.com>
Date:   Tue Apr 3 05:40:15 2001 +0000

    Minor housecleaning. sw no longer spits out diagnostic output, comments
    are now sane and match current code, I moved things around in GL so they
    more closely match the sw code, as the sw code makes more sense now that
    I *finally* understand what in gods name I was doing wrong. ;)
    
    I also made minor changes to the help to indicate the minimum values of
    the variables (sw can deal with 1, gl 0) as well as that you really
    ought to use r_particles 0 instead of a setting of cl_max_particles 0 in
    GL :P
    
    Thanks for all the help taniwha, those last two bugs were kicking my
    butt.
    
    Misty-chan

 qw/source/gl_dyn_part.c |    7 +++----
 qw/source/r_part.c      |   17 ++++++++---------
 2 files changed, 11 insertions(+), 13 deletions(-)

commit afaf10a
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Apr 3 05:08:23 2001 +0000

    fix the lost particles problem

 qw/source/r_part.c |    8 +-------
 1 file changed, 1 insertion(+), 7 deletions(-)

commit 9bb7aee
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Apr 3 04:11:29 2001 +0000

    this should fix misty-chan's problems :)

 qw/source/r_part.c |   16 +++++-----------
 1 file changed, 5 insertions(+), 11 deletions(-)

commit d649508
Author: Timothy C. McGrath <tmhikaru@gmail.com>
Date:   Tue Apr 3 02:56:39 2001 +0000

    This took half the hair on my head. Just kidding:
    
    cl_max_particles now lives in *part.c - in GL it dynamically changes the
    amount of particles on the fly! Needless to say this is fun, and this is
    proboably the third cvar that uses the callbacks function at all - which
    IMHO is really a cool trick Taniwha.
    
    However I'm losing my SANITY in r_part.c - if someone could take a look,
    I'd be greatly appreciative. It should be obvious to any developer that
    I'm having a few problems. :P Basically the dynamic code is completely
    and totally disabled, and I hacked in code which *works* but shouldn't
    EVER EVER EVER be left there after we fix this as it is downright EVIL
    the way I implimented it. SW client does work, and does still work with
    +set cl_max_particles - however the hacks I made to get it to do that...
    *shakes head* Tread softly in there, it's a mess.
    
    Other notes of interest:
    I changed show_time so it archives its setting. Got annoyed with it. If
    someone finds this change to be bad, change it back. :)
    
    glspeed.cfg got updated with a setting of 60 for cl_max_particles. 60
    works nicely, and doesn't use too much speed on my aging hardware, so
    I'm sure newer systems will just plain FLY with this on.
    
    I also changed the cl_maxfps setting as 72 is great if you aren't using
    a modem !.! due to the way cl_maxfps works, the higher it goes, the more
    data is sent to you by the server. This causes a heck of a lot of lost
    packets if you don't have the bandwidth OR if your card can't keep up
    with the framerate. Either of which is bad. I set it to 30, the default
    of the cvar is 0/32 so go figure out what works best for you I say.
    
    Let me know if this blows up in your face and ESPECIALLY let me know if
    you can fix the r_part.c problems!
    
    Misty-chan

 doc/config/glspeed.cfg  |    5 +++-
 qw/source/cl_main.c     |   10 +++----
 qw/source/gl_dyn_part.c |   75 ++++++++++++++++++++++++-----------------------
 qw/source/gl_rmisc.c    |    7 +++--
 qw/source/r_main.c      |    2 --
 qw/source/r_part.c      |   66 +++++++++++++++++++++++------------------
 6 files changed, 88 insertions(+), 77 deletions(-)

commit f5c168b
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Apr 2 23:38:56 2001 +0000

    sw currently can't cope with 0 particles

 qw/source/r_part.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f896506
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Apr 2 21:30:16 2001 +0000

    heh, seem to have forgotten this

 tools/qfcc/include/qfcc.h |    1 +
 1 file changed, 1 insertion(+)

commit b7aba0b
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Apr 2 18:43:10 2001 +0000

    allow named constants to be checked for immediate constants. qfcc now produces
    the same number of globals etc as it used to

 tools/qfcc/source/pr_comp.c |    1 +
 tools/qfcc/source/pr_imm.c  |   39 +++++++++++++++++++++++++++++++++++++++
 2 files changed, 40 insertions(+)

commit f517dc6
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Apr 2 18:10:43 2001 +0000

    fix a silly bug and an incorrect interpretation of the old code

 tools/qfcc/source/pr_imm.c |   13 +------------
 1 file changed, 1 insertion(+), 12 deletions(-)

commit 0e68cf8
Author: Chris Ison <cisos@bigpond.net.au>
Date:   Mon Apr 2 10:24:23 2001 +0000

    Added slist update and slist # (shows details)

 qw/source/cl_slist.c |   90 +++++++++++++++++++++++++++++++++++++++++++++++---
 1 file changed, 86 insertions(+), 4 deletions(-)

commit 999b8c9
Author: Chris Ison <cisos@bigpond.net.au>
Date:   Sun Apr 1 22:09:12 2001 +0000

    Start of console based server list

 qw/source/cl_slist.c |   44 ++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 44 insertions(+)

commit 02b09f4
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Apr 1 06:40:51 2001 +0000

    no more redundant strings. costs ~7ms, though, but HALVING the strofs size
    in frikbot seems worth it.

 tools/qfcc/include/qfcc.h   |    1 +
 tools/qfcc/source/pr_comp.c |    4 ++--
 tools/qfcc/source/pr_def.c  |    2 +-
 tools/qfcc/source/pr_imm.c  |    6 +++---
 tools/qfcc/source/qfcc.c    |   30 ++++++++++++++++++++++++++++--
 5 files changed, 35 insertions(+), 8 deletions(-)

commit 59e5583
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Apr 1 06:01:02 2001 +0000

    Another massive speadup caused by using hash tables to lookup already
    generated immediate values. frikbot now compiles in just over 1s on my
    machine.

 tools/qfcc/include/qfcc.h     |    1 +
 tools/qfcc/source/Makefile.am |    2 +-
 tools/qfcc/source/pr_comp.c   |   59 ------------------
 tools/qfcc/source/pr_def.c    |    2 +-
 tools/qfcc/source/pr_imm.c    |  132 +++++++++++++++++++++++++++++++++++++++++
 5 files changed, 135 insertions(+), 61 deletions(-)

commit 43ea8f4
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Apr 1 03:33:11 2001 +0000

    Rip out I_FloatTime from cmdlib.
    Use Sys_DoubleTime instead of I_FloatTime and print out ms for compilation

 tools/qfcc/include/cmdlib.h |    2 --
 tools/qfcc/source/cmdlib.c  |   28 ----------------------------
 tools/qfcc/source/qfcc.c    |    7 ++++---
 3 files changed, 4 insertions(+), 33 deletions(-)

commit 67368ff
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Apr 1 03:30:17 2001 +0000

    make the start calculation a little more accurate

 libs/util/sys.c |   14 ++++++++------
 1 file changed, 8 insertions(+), 6 deletions(-)

commit ec16ffa
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Apr 1 02:12:57 2001 +0000

    move to using hash tables for variable lookups.
    
    WARNING: this fixes a scope bug in qcc and thus you WILL get different (but
    now correct) code for the following:
    
    float foo;
    
    void () bar =
    {
    	local float foo;
    	foo = 0;
    }
    
    ie, the local foo will, as is correct, now be a separate var to the global
    foo.

 tools/qfcc/include/qfcc.h     |    4 +-
 tools/qfcc/source/Makefile.am |    2 +-
 tools/qfcc/source/pr_comp.c   |  108 ++---------------------------
 tools/qfcc/source/pr_def.c    |  151 +++++++++++++++++++++++++++++++++++++++++
 tools/qfcc/source/qfcc.c      |    4 +-
 5 files changed, 161 insertions(+), 108 deletions(-)

commit 581d6bc
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Apr 1 02:09:48 2001 +0000

    ZERO_LENGTH_ARRAY causes problems for external progs, so just go to 1

 include/QF/hash.h |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ccbae9b
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Apr 1 02:08:38 2001 +0000

    do Sys_Error the same way Con_Printf was done

 libs/util/sys.c |    6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit fc99d7b
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Apr 1 01:42:40 2001 +0000

    oooooooops, forgot to call Game_Init in the server

 qw/source/sv_main.c |    1 +
 1 file changed, 1 insertion(+)

commit 8ef7471
Author: Zephaniah E. Hull <warp@babylon.d2dc.net>
Date:   Sat Mar 31 14:41:13 2001 +0000

    Fixed the weak Con_Print issue.
    (Still need to thwap taniwha for doing an incomplete merge.)

 libs/util/console.c |    6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit f5ae853
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Mar 31 03:54:00 2001 +0000

    don't need to worry about zlib any more because that's now taken care of by
    libQFutil

 tools/qfcc/configure.in |   23 +----------------------
 1 file changed, 1 insertion(+), 22 deletions(-)

commit 7cb6245
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Mar 31 03:51:25 2001 +0000

    link libQFutil.so against libz so the clients (and tools) don't need to worry
    about it

 libs/util/Makefile.am |    2 +-
 nq/source/Makefile.am |    4 ++--
 qw/source/Makefile.am |    4 ++--
 3 files changed, 5 insertions(+), 5 deletions(-)

commit d5345b7
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Mar 31 01:04:38 2001 +0000

    add .vimrc

 tools/qfcc/.gitignore |    5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit e939ccc
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Mar 31 01:02:52 2001 +0000

    cvars now sport a callback function that gets called whenever the cvar changes
    or on initial get.

 include/QF/cvar.h         |    4 +-
 libs/gamecode/pr_edict.c  |    2 +-
 libs/util/cvar.c          |   24 ++++++-----
 libs/util/quakefs.c       |    6 +--
 nq/include/client.h       |    2 +
 nq/include/server.h       |    2 +
 nq/source/cl_cam.c        |    8 ++--
 nq/source/cl_main.c       |   50 +++++++++++-----------
 nq/source/com.c           |    6 ++-
 nq/source/console.c       |    2 +-
 nq/source/context_x11.c   |    2 +-
 nq/source/d_init.c        |    6 +--
 nq/source/gl_draw.c       |   16 +++----
 nq/source/gl_rmisc.c      |   66 ++++++++++++++---------------
 nq/source/gl_rsurf.c      |    2 +-
 nq/source/gl_screen.c     |   20 ++++-----
 nq/source/host.c          |   30 ++++++-------
 nq/source/in_dos.c        |    8 ++--
 nq/source/in_sdl.c        |    4 +-
 nq/source/in_sun.c        |    2 +-
 nq/source/in_svgalib.c    |    2 +-
 nq/source/in_win.c        |   40 +++++++++---------
 nq/source/in_x11.c        |    8 ++--
 nq/source/joy_linux.c     |    8 ++--
 nq/source/joy_null.c      |    6 +--
 nq/source/keys.c          |    2 +-
 nq/source/model.c         |    2 +-
 nq/source/net_main.c      |   20 ++++-----
 nq/source/r_main.c        |   44 +++++++++----------
 nq/source/r_view.c        |   62 +++++++++++++--------------
 nq/source/screen.c        |   16 +++----
 nq/source/snd_dma.c       |   34 +++++++--------
 nq/source/snd_null.c      |    6 +--
 nq/source/sv_main.c       |   20 ++++-----
 nq/source/sv_progs.c      |   28 ++++++-------
 nq/source/sys_unix.c      |    2 +-
 nq/source/vid.c           |    4 +-
 nq/source/vid_common_gl.c |    2 +-
 nq/source/vid_dos.c       |   26 ++++++------
 nq/source/vid_fbdev.c     |    6 +--
 nq/source/vid_mgl.c       |   24 +++++------
 nq/source/vid_sdl.c       |    2 +-
 nq/source/vid_sgl.c       |    2 +-
 nq/source/vid_sunx.c      |    2 +-
 nq/source/vid_sunxil.c    |    6 +--
 nq/source/vid_svgalib.c   |    6 +--
 nq/source/vid_wgl.c       |    2 +-
 nq/source/vid_win.c       |   30 ++++++-------
 qw/include/client.h       |    2 +-
 qw/include/server.h       |    1 +
 qw/source/cl_cam.c        |    8 ++--
 qw/source/cl_ents.c       |    2 +-
 qw/source/cl_input.c      |    2 +-
 qw/source/cl_main.c       |  102 ++++++++++++++++++++++-----------------------
 qw/source/cl_pred.c       |    6 +--
 qw/source/cl_sys_sdl.c    |    2 +-
 qw/source/cl_sys_unix.c   |    2 +-
 qw/source/cl_sys_win.c    |    2 +-
 qw/source/com.c           |    2 +-
 qw/source/console.c       |    2 +-
 qw/source/context_x11.c   |    2 +-
 qw/source/d_init.c        |    6 +--
 qw/source/draw.c          |    2 +-
 qw/source/game.c          |    2 +-
 qw/source/gl_draw.c       |   16 +++----
 qw/source/gl_rmain.c      |    2 +-
 qw/source/gl_rmisc.c      |   62 +++++++++++++--------------
 qw/source/gl_screen.c     |   30 ++++++-------
 qw/source/in_sdl.c        |    4 +-
 qw/source/in_svgalib.c    |    2 +-
 qw/source/in_win.c        |    2 +-
 qw/source/in_x11.c        |    8 ++--
 qw/source/joy_linux.c     |    8 ++--
 qw/source/joy_null.c      |    6 +--
 qw/source/joy_win.c       |   46 ++++++++++----------
 qw/source/keys.c          |    2 +-
 qw/source/model.c         |    2 +-
 qw/source/net_chan.c      |    6 +--
 qw/source/net_packetlog.c |    4 +-
 qw/source/pmove.c         |    2 +-
 qw/source/r_main.c        |   48 ++++++++++-----------
 qw/source/r_view.c        |   38 ++++++++---------
 qw/source/screen.c        |   28 ++++++-------
 qw/source/skin.c          |   10 ++---
 qw/source/snd_dma.c       |   34 +++++++--------
 qw/source/snd_null.c      |    6 +--
 qw/source/sv_ccmds.c      |    2 +-
 qw/source/sv_main.c       |  100 ++++++++++++++++++++++----------------------
 qw/source/sv_progs.c      |    6 +--
 qw/source/sv_sys_unix.c   |    6 +--
 qw/source/sv_sys_win.c    |    4 +-
 qw/source/sv_user.c       |    8 ++--
 qw/source/teamplay.c      |    8 ++--
 qw/source/vid.c           |    4 +-
 qw/source/vid_common_gl.c |    2 +-
 qw/source/vid_fbdev.c     |    6 +--
 qw/source/vid_mgl.c       |   24 +++++------
 qw/source/vid_sdl.c       |    2 +-
 qw/source/vid_sgl.c       |    2 +-
 qw/source/vid_svgalib.c   |    6 +--
 qw/source/vid_wgl.c       |    4 +-
 101 files changed, 690 insertions(+), 679 deletions(-)

commit 4162243
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Mar 31 00:35:08 2001 +0000

    eliminate Cmd_ForwardToServer from cmd.c. Cmd_ForwardToServer still needs to
    be removed from cmd.h, but that can wait a bit.

 libs/util/cmd.c     |    6 +-----
 qw/source/cl_main.c |   10 +++++-----
 qw/source/sv_misc.c |    5 -----
 3 files changed, 6 insertions(+), 15 deletions(-)

commit ad9142f
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Mar 31 00:08:21 2001 +0000

    move Con_Printf, Con_DPrintf and Con_Print (weak) into libs/util/console.c.
    Except for the cmd and cvar callbacks, libQFutil.so is now standalone.

 libs/util/Makefile.am |    3 +-
 libs/util/console.c   |  100 +++++++++++++++++++++++++++++++++++++++++++++++++
 nq/source/console.c   |   43 ---------------------
 qw/source/console.c   |   43 ---------------------
 4 files changed, 102 insertions(+), 87 deletions(-)

commit 1e2e2f4
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Mar 30 23:35:48 2001 +0000

    move the developer cvar into cvar.c

 libs/util/cvar.c    |    1 +
 nq/source/host.c    |    4 ----
 qw/source/cl_main.c |    3 ---
 qw/source/sv_main.c |    5 -----
 4 files changed, 1 insertion(+), 12 deletions(-)

commit 9953510
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Mar 30 23:24:57 2001 +0000

    bare bones sys stuff moved into libQFutil. unix stuff seems to work just fine,
    but win32 is probably borked atm

 acconfig.h              |   12 +++
 configure.in            |   12 +++
 include/QF/sys.h        |   48 ++++-------
 libs/util/Makefile.am   |    2 +-
 libs/util/sys.c         |  207 +++++++++++++++++++++++++++++++++++++++++++++++
 nq/source/host.c        |   28 +++----
 nq/source/net_main.c    |   25 +++---
 nq/source/net_vcr.c     |   18 ++---
 nq/source/sys_unix.c    |  185 +-----------------------------------------
 qw/source/Makefile.am   |    8 +-
 qw/source/cl_sys_unix.c |    2 +-
 qw/source/sv_sys_unix.c |    2 +-
 12 files changed, 291 insertions(+), 258 deletions(-)

commit c227fbc
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Mar 30 17:43:53 2001 +0000

    forgot to remove this

 qw/source/quakefs.c | 1148 ---------------------------------------------------
 1 file changed, 1148 deletions(-)

commit 9145d45
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Mar 30 05:03:52 2001 +0000

    totally redundant

 nq/source/sys_dosa.S |   95 -----------------------------------------
 nq/source/sys_wina.S |  116 --------------------------------------------------
 2 files changed, 211 deletions(-)

commit 4f2e22b
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Mar 30 00:44:35 2001 +0000

    merge and move quakefs.c into libQFutil where it belongs. at long last

 libs/util/Makefile.am |    4 +-
 libs/util/quakefs.c   | 1146 +++++++++++++++++++++++++++++++++++++++++++++++++
 nq/source/Makefile.am |    1 -
 nq/source/quakefs.c   | 1137 ------------------------------------------------
 qw/include/game.h     |    1 +
 qw/source/Makefile.am |    2 +-
 qw/source/cl_main.c   |    1 +
 qw/source/game.c      |    8 +
 qw/source/sv_main.c   |    1 +
 9 files changed, 1160 insertions(+), 1141 deletions(-)

commit b432d0e
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Mar 30 00:30:38 2001 +0000

    pull the game specific stuff out of quakefs.c in preparation for merging it

 include/QF/quakefs.h  |    1 +
 nq/source/game.c      |   17 +++++++--
 nq/source/quakefs.c   |   21 +----------
 qw/include/game.h     |   42 ++++++++++++++++++++++
 qw/source/Makefile.am |    2 +-
 qw/source/cl_main.c   |    3 ++
 qw/source/com.c       |    1 -
 qw/source/game.c      |   96 +++++++++++++++++++++++++++++++++++++++++++++++++
 qw/source/quakefs.c   |   53 +--------------------------
 qw/source/sv_main.c   |    2 ++
 10 files changed, 162 insertions(+), 76 deletions(-)

commit 1d97915
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Mar 29 21:26:56 2001 +0000

    make qfcc use detect and use the installed libs/headers. currently doesn't work
    due to modularity problems in libQFutil

 tools/qfcc/.gitignore         |    1 +
 tools/qfcc/configure.in       |   68 +++++++++++++++++++----------------------
 tools/qfcc/source/Makefile.am |    5 ++-
 3 files changed, 35 insertions(+), 39 deletions(-)

commit 80ee9eb
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Mar 29 21:16:16 2001 +0000

    merge and move quakeio.c into libQFutil

 libs/util/Makefile.am |    4 +-
 libs/util/quakeio.c   |  421 +++++++++++++++++++++++++++++++++++++++++++++++++
 nq/source/Makefile.am |    2 +-
 nq/source/quakeio.c   |  362 ------------------------------------------
 qw/source/Makefile.am |    2 +-
 qw/source/quakeio.c   |  399 ----------------------------------------------
 6 files changed, 425 insertions(+), 765 deletions(-)

commit f24a33f
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Mar 29 20:42:08 2001 +0000

    install the headers

 configure.in           |    1 +
 include/Makefile.am    |    2 +-
 include/QF/.gitignore  |    2 ++
 include/QF/Makefile.am |    7 +++++++
 4 files changed, 11 insertions(+), 1 deletion(-)

commit 058ac65
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Mar 29 18:20:05 2001 +0000

    fix OpenGL/MesaGL testing.

 configure.in |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit dd3d2a0
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Mar 29 17:31:15 2001 +0000

    make -fbdev build again AND make nq-fbdev a new target.
    moved fbset.h from qw/include to include so it can be shared by nq. it's in
    include instead of include/QF because I don't see any need to isntall it.

 configure.in              |    2 +-
 include/fbset.h           |   84 ++++
 nq/include/vid.h          |    2 +-
 nq/source/.gitignore      |    4 +
 nq/source/Makefile.am     |   22 +-
 nq/source/fbset.c         | 1071 +++++++++++++++++++++++++++++++++++++++++++++
 nq/source/fbset_modes_l.l |  138 ++++++
 nq/source/fbset_modes_y.y |  176 ++++++++
 nq/source/in_fbdev.c      |  157 +++++++
 nq/source/vid_fbdev.c     |  709 ++++++++++++++++++++++++++++++
 qw/include/fbset.h        |   84 ----
 qw/source/vid_fbdev.c     |    1 +
 12 files changed, 2361 insertions(+), 89 deletions(-)

commit 9b31fca
Author: Adam Olsen <rhamph@gmail.com>
Date:   Thu Mar 29 13:13:28 2001 +0000

    Add include for stdlib.h needed for malloc call.

 qw/source/tga.c |    2 ++
 1 file changed, 2 insertions(+)

commit 95d116e
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Mar 29 09:10:35 2001 +0000

    make makt.S pic friendly. The ELF abi is bent slightly as ebx was already used
    and I didn't feel like subbing it for something else, so esi is the GOT access
    register.

 libs/util/math.S |   31 ++++++++++++++++++++++++++++++-
 1 file changed, 30 insertions(+), 1 deletion(-)

commit 277c17c
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Thu Mar 29 09:07:44 2001 +0000

    Shared library support. The util and gamecode libraries are now shared,
    and this clears the way for an external API for utilities and
    such. And yes, this means libtool is now used.

 .gitignore                |    1 +
 bootstrap                 |    2 +-
 configure.in              |    2 +-
 libs/gamecode/.gitignore  |    6 +++++-
 libs/gamecode/Makefile.am |   10 ++++------
 libs/util/.gitignore      |    7 +++++--
 libs/util/Makefile.am     |   13 +++++++------
 nq/source/.gitignore      |   11 ++++++-----
 nq/source/Makefile.am     |    5 +++--
 qw/source/.gitignore      |    7 ++++---
 qw/source/Makefile.am     |    8 ++++----
 11 files changed, 41 insertions(+), 31 deletions(-)

commit a23c5e8
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Mar 28 23:42:36 2001 +0000

    correct the qf libs path

 tools/qfcc/configure.in |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 8866d86
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Mar 28 23:40:54 2001 +0000

    rip out the crc code in favour of libqfutil

 tools/qfcc/include/cmdlib.h |    4 ---
 tools/qfcc/source/cmdlib.c  |   61 -------------------------------------------
 tools/qfcc/source/qfcc.c    |    1 +
 3 files changed, 1 insertion(+), 65 deletions(-)

commit f1c31b6
Author: Chris Ison <cisos@bigpond.net.au>
Date:   Wed Mar 28 22:23:40 2001 +0000

    added #include for QF/compat.h

 qw/source/vid_3dfxsvga.c |    1 +
 1 file changed, 1 insertion(+)

commit cb5c262
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Mar 28 17:17:56 2001 +0000

    qtypes.h:
    	remove includes of qdefs.h and compat.h
    pr_comp.h:
    	merge pr_comp.h from quake and qfcc, removing the copy in qfcc
    cmdlib.[ch]:
    	nuke the endian code.
    qendian.c:
    	initialise the LittleLong etc pointers at compile time rather than run
    	time
    com.c (both nq and qw):
    	nuke the LittleLong etc init code
    everything else:
    	fix up after the qtypes.h cleanup

 include/QF/pr_comp.h          |   52 ++++++------
 include/QF/qtypes.h           |    9 ++-
 libs/gamecode/pr_edict.c      |    1 +
 libs/util/cmd.c               |    1 +
 libs/util/cvar.c              |    1 +
 libs/util/info.c              |    1 +
 libs/util/qendian.c           |   25 ++++--
 nq/source/com.c               |   19 -----
 nq/source/in_sdl.c            |    1 +
 nq/source/in_svgalib.c        |    1 +
 nq/source/in_x11.c            |    1 +
 nq/source/joy_linux.c         |    1 +
 nq/source/quakefs.c           |    1 +
 nq/source/snd_mix.c           |    1 +
 nq/source/sv_progs.c          |    3 +-
 qw/include/net.h              |    3 +-
 qw/source/cd_linux.c          |    1 +
 qw/source/cl_ents.c           |    1 +
 qw/source/cl_main.c           |    1 +
 qw/source/cl_parse.c          |    1 +
 qw/source/cl_slist.c          |    1 +
 qw/source/com.c               |   19 -----
 qw/source/d_init.c            |    1 +
 qw/source/gl_dyn_part.c       |    1 +
 qw/source/gl_rmain.c          |    1 +
 qw/source/gl_rsurf.c          |    1 +
 qw/source/gl_screen.c         |    1 +
 qw/source/gl_skin.c           |    1 +
 qw/source/gl_textures.c       |    1 +
 qw/source/gl_view.c           |    1 +
 qw/source/in_sdl.c            |    1 +
 qw/source/in_svgalib.c        |    1 +
 qw/source/in_x11.c            |    1 +
 qw/source/joy_linux.c         |    1 +
 qw/source/pmovetst.c          |    1 +
 qw/source/quakefs.c           |    1 +
 qw/source/r_misc.c            |    1 +
 qw/source/r_part.c            |    1 +
 qw/source/r_view.c            |    1 +
 qw/source/sbar.c              |    1 +
 qw/source/screen.c            |    1 +
 qw/source/skin.c              |    1 +
 qw/source/snd_mix.c           |    1 +
 qw/source/sv_ccmds.c          |    1 +
 qw/source/sv_ents.c           |    1 +
 qw/source/sv_main.c           |    1 +
 qw/source/sv_progs.c          |    1 +
 qw/source/sv_user.c           |    1 +
 qw/source/sw_skin.c           |    1 +
 qw/source/sw_view.c           |    1 +
 qw/source/sys_unix.c          |    1 +
 qw/source/vid_glx.c           |    1 +
 qw/source/vid_sdl.c           |    1 +
 qw/source/vid_sgl.c           |    1 +
 qw/source/vid_svgalib.c       |    1 +
 qw/source/vid_x11.c           |    1 +
 tools/qfcc/configure.in       |   25 ++++--
 tools/qfcc/include/cmdlib.h   |   17 ++--
 tools/qfcc/include/pr_comp.h  |  179 -----------------------------------------
 tools/qfcc/include/qfcc.h     |    2 +-
 tools/qfcc/source/Makefile.am |    6 +-
 tools/qfcc/source/cmdlib.c    |  137 -------------------------------
 tools/qfcc/source/pr_comp.c   |    8 +-
 tools/qfcc/source/pr_lex.c    |    4 +-
 tools/qfcc/source/qfcc.c      |   25 +++---
 65 files changed, 151 insertions(+), 431 deletions(-)

commit 5a48f98
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Mar 27 23:36:02 2001 +0000

    scripted fixups for the QF include move

 include/QF/checksum.h     |    2 +-
 include/QF/cmd.h          |    2 +-
 include/QF/console.h      |    4 ++--
 include/QF/crc.h          |    2 +-
 include/QF/cvar.h         |    4 ++--
 include/QF/keys.h         |    2 +-
 include/QF/mathlib.h      |    2 +-
 include/QF/mdfour.h       |    2 +-
 include/QF/msg.h          |    2 +-
 include/QF/pr_comp.h      |    2 +-
 include/QF/progs.h        |    6 +++---
 include/QF/qargs.h        |    2 +-
 include/QF/qendian.h      |    2 +-
 include/QF/qfplist.h      |    2 +-
 include/QF/qtypes.h       |    4 ++--
 include/QF/quakefs.h      |    6 +++---
 include/QF/quakeio.h      |    2 +-
 include/QF/sizebuf.h      |    2 +-
 include/QF/sys.h          |    2 +-
 include/QF/va.h           |    2 +-
 nq/include/modelgen.h     |    2 +-
 nq/include/spritegn.h     |    2 +-
 nq/source/d_vars.c        |    2 +-
 nq/source/in_win.c        |    8 ++++----
 nq/source/joy_null.c      |    6 +++---
 nq/source/net_ser.c       |    2 +-
 nq/source/sv_ded.c        |    6 +++---
 nq/source/sys_unixd.c     |    6 +++---
 nq/source/vid_mgl.c       |   14 +++++++-------
 nq/source/vid_wgl.c       |   14 +++++++-------
 qw/include/hl.h           |    2 +-
 qw/include/winquake.h     |    2 +-
 qw/source/cd_sdl.c        |    6 +++---
 qw/source/cd_sgi.c        |    6 +++---
 qw/source/cd_win.c        |    8 ++++----
 qw/source/cl_sys_sdl.c    |    6 +++---
 qw/source/cl_sys_win.c    |    6 +++---
 qw/source/in_fbdev.c      |    4 ++--
 qw/source/in_win.c        |    8 ++++----
 qw/source/joy_null.c      |    6 +++---
 qw/source/joy_win.c       |   10 +++++-----
 qw/source/net_packetlog.c |    6 +++---
 qw/source/net_udp6.c      |   10 +++++-----
 qw/source/sv_sys_win.c    |    6 +++---
 qw/source/vid_fbdev.c     |   12 ++++++------
 qw/source/vid_mgl.c       |   14 +++++++-------
 qw/source/vid_wgl.c       |   14 +++++++-------
 47 files changed, 121 insertions(+), 121 deletions(-)

commit b6f6f95
Author: Chris Ison <cisos@bigpond.net.au>
Date:   Tue Mar 27 23:29:31 2001 +0000

    fixed vid_3dfxsvga.c includes to match current tree

 nq/source/vid_3dfxsvga.c |   12 ++++++------
 qw/source/vid_3dfxsvga.c |   12 ++++++------
 2 files changed, 12 insertions(+), 12 deletions(-)

commit d56a749
Author: Adam Olsen <rhamph@gmail.com>
Date:   Tue Mar 27 22:44:58 2001 +0000

    Well I *guess* this is needed, if only to make sure they have identical files.

 qw/source/snd_gus.c | 1281 +++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 1281 insertions(+)

commit 26d5b1a
Author: Adam Olsen <rhamph@gmail.com>
Date:   Tue Mar 27 22:42:23 2001 +0000

    Forgot these.

 nq/source/snd_disk.c |  108 ++++++++++++++++++
 nq/source/snd_sgi.c  |  311 ++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 419 insertions(+)

commit 067db08
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Mar 27 22:39:21 2001 +0000

    make edict pruning, field parsing and the builtins part of progs_t like they
    should have been

 include/QF/progs.h       |   12 ++++++------
 libs/gamecode/pr_edict.c |    4 ++--
 libs/gamecode/pr_exec.c  |    4 ++--
 nq/source/pr_cmds.c      |    5 ++---
 nq/source/sv_progs.c     |   15 +++++++++++----
 qw/source/sv_pr_cmds.c   |    5 ++---
 qw/source/sv_progs.c     |   15 +++++++++++----
 7 files changed, 36 insertions(+), 24 deletions(-)

commit 31295c1
Author: Adam Olsen <rhamph@gmail.com>
Date:   Tue Mar 27 22:30:25 2001 +0000

    Bring qw and nq snd_*.c files into sync.  Should be able to move them
    into a common dir now.
    Also fix some #include path changes.

 nq/include/sound.h       |    1 +
 nq/source/host.c         |    1 +
 nq/source/snd_alsa_0_5.c |   60 +++++-----
 nq/source/snd_alsa_0_9.c |  169 +++++++++++++-------------
 nq/source/snd_dma.c      |  250 ++++++++++++++++----------------------
 nq/source/snd_mem.c      |   37 +++---
 nq/source/snd_mix.c      |  139 ++++++----------------
 nq/source/snd_null.c     |   35 ++++--
 nq/source/snd_oss.c      |  101 ++++++++++------
 nq/source/snd_sdl.c      |   64 +++++-----
 nq/source/snd_sun.c      |   34 +++---
 nq/source/snd_win.c      |  297 +++++++++++++++++++++++++---------------------
 qw/include/client.h      |    1 +
 qw/source/cl_parse.c     |    4 +
 qw/source/snd_alsa_0_5.c |    4 +-
 qw/source/snd_disk.c     |    4 +-
 qw/source/snd_dma.c      |    2 +-
 qw/source/snd_null.c     |    2 +-
 qw/source/snd_oss.c      |    6 +-
 qw/source/snd_sdl.c      |    6 +-
 qw/source/snd_sgi.c      |    6 +-
 qw/source/snd_sun.c      |    6 +-
 qw/source/snd_win.c      |    4 +-
 23 files changed, 596 insertions(+), 637 deletions(-)

commit cea45d1
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Mar 27 21:47:44 2001 +0000

    bah, another premature commit

 tools/qfcc/source/Makefile.am |    3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit 82b533e
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Mar 27 21:46:49 2001 +0000

    forgot that .S files don't have dependency info :/

 libs/util/math.S              |    2 +-
 nq/source/cl_math.S           |    2 +-
 nq/source/d_copy.S            |    2 +-
 nq/source/d_draw.S            |    2 +-
 nq/source/d_draw16.S          |    2 +-
 nq/source/d_parta.S           |    2 +-
 nq/source/d_polysa.S          |    2 +-
 nq/source/d_scana.S           |    2 +-
 nq/source/d_spr8.S            |    2 +-
 nq/source/d_varsa.S           |    2 +-
 nq/source/dosasm.S            |    2 +-
 nq/source/r_aclipa.S          |    2 +-
 nq/source/r_aliasa.S          |    2 +-
 nq/source/r_drawa.S           |    2 +-
 nq/source/r_edgea.S           |    2 +-
 nq/source/r_varsa.S           |    2 +-
 nq/source/snd_mixa.S          |    2 +-
 nq/source/surf16.S            |    2 +-
 nq/source/surf8.S             |    2 +-
 nq/source/sys_dosa.S          |    2 +-
 nq/source/sys_ia32.S          |    2 +-
 nq/source/sys_wina.S          |    2 +-
 nq/source/worlda.S            |    2 +-
 qw/source/cl_math.S           |    2 +-
 qw/source/d_copy.S            |    2 +-
 qw/source/d_draw.S            |    2 +-
 qw/source/d_draw16.S          |    2 +-
 qw/source/d_parta.S           |    2 +-
 qw/source/d_polysa.S          |    2 +-
 qw/source/d_scana.S           |    2 +-
 qw/source/d_spr8.S            |    2 +-
 qw/source/d_varsa.S           |    2 +-
 qw/source/r_aclipa.S          |    2 +-
 qw/source/r_aliasa.S          |    2 +-
 qw/source/r_drawa.S           |    2 +-
 qw/source/r_edgea.S           |    2 +-
 qw/source/r_varsa.S           |    2 +-
 qw/source/snd_mixa.S          |    2 +-
 qw/source/surf16.S            |    2 +-
 qw/source/surf8.S             |    2 +-
 qw/source/sys_x86.S           |    2 +-
 qw/source/worlda.S            |    2 +-
 tools/qfcc/source/Makefile.am |    3 ++-
 43 files changed, 44 insertions(+), 43 deletions(-)

commit c958372
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Mar 27 21:13:18 2001 +0000

    enable use of qf libs independent of where they are in relation to the qfcc
    source. nothing is actually used yet, but it will be :)

 tools/qfcc/configure.in |   33 +++++++++++++++++++++++++++++++++
 1 file changed, 33 insertions(+)

commit a3c9af6
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Mar 27 20:37:12 2001 +0000

    back out my premature commit

 tools/qfcc/configure.in |   20 --------------------
 1 file changed, 20 deletions(-)

commit f78b973
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Mar 27 20:33:07 2001 +0000

    move the api headers into include/QF and clean up (most of) the resulting mess.
    target specific files that I don't build won't compile yet. just put QF/
    infront of the offending headers.
    
    Also move ver_check into libqfutils

 include/QF/asm_i386.h           |  106 ++++++++++++++++
 include/QF/checksum.h           |   38 ++++++
 include/QF/cmd.h                |  144 ++++++++++++++++++++++
 include/QF/compat.h             |   91 ++++++++++++++
 include/QF/console.h            |   76 ++++++++++++
 include/QF/crc.h                |   39 ++++++
 include/QF/cvar.h               |  121 +++++++++++++++++++
 include/QF/gcc_attr.h           |   36 ++++++
 include/QF/hash.h               |   57 +++++++++
 include/QF/info.h               |   49 ++++++++
 include/QF/keys.h               |  182 ++++++++++++++++++++++++++++
 include/QF/link.h               |   47 ++++++++
 include/QF/mathlib.h            |  117 ++++++++++++++++++
 include/QF/mdfour.h             |   47 ++++++++
 include/QF/msg.h                |   63 ++++++++++
 include/QF/pr_comp.h            |  198 ++++++++++++++++++++++++++++++
 include/QF/progs.h              |  254 +++++++++++++++++++++++++++++++++++++++
 include/QF/qargs.h              |   47 ++++++++
 include/QF/qdefs.h              |   50 ++++++++
 include/QF/qendian.h            |   71 +++++++++++
 include/QF/qfplist.h            |  102 ++++++++++++++++
 include/QF/qtypes.h             |   65 ++++++++++
 include/QF/quakefs.h            |   77 ++++++++++++
 include/QF/quakeio.h            |   71 +++++++++++
 include/QF/sizebuf.h            |   49 ++++++++
 include/QF/sys.h                |   87 ++++++++++++++
 include/QF/uint32.h             |   53 ++++++++
 include/QF/va.h                 |   42 +++++++
 include/QF/ver_check.h          |   45 +++++++
 include/QF/zone.h               |  133 ++++++++++++++++++++
 include/asm_i386.h              |  106 ----------------
 include/checksum.h              |   38 ------
 include/cmd.h                   |  144 ----------------------
 include/compat.h                |   91 --------------
 include/console.h               |   76 ------------
 include/crc.h                   |   39 ------
 include/cvar.h                  |  121 -------------------
 include/gcc_attr.h              |   36 ------
 include/hash.h                  |   57 ---------
 include/info.h                  |   49 --------
 include/keys.h                  |  182 ----------------------------
 include/link.h                  |   47 --------
 include/mathlib.h               |  117 ------------------
 include/mdfour.h                |   47 --------
 include/msg.h                   |   63 ----------
 include/pr_comp.h               |  198 ------------------------------
 include/progs.h                 |  254 ---------------------------------------
 include/qargs.h                 |   47 --------
 include/qdefs.h                 |   50 --------
 include/qendian.h               |   71 -----------
 include/qfplist.h               |  102 ----------------
 include/qtypes.h                |   65 ----------
 include/quakefs.h               |   77 ------------
 include/quakeio.h               |   71 -----------
 include/sizebuf.h               |   49 --------
 include/sys.h                   |   87 --------------
 include/uint32.h                |   53 --------
 include/va.h                    |   42 -------
 include/zone.h                  |  133 --------------------
 libs/gamecode/pr_edict.c        |   24 ++--
 libs/gamecode/pr_exec.c         |    8 +-
 libs/gamecode/pr_strings.c      |    4 +-
 libs/util/Makefile.am           |    2 +-
 libs/util/checksum.c            |    6 +-
 libs/util/cmd.c                 |   20 +--
 libs/util/crc.c                 |    2 +-
 libs/util/cvar.c                |   10 +-
 libs/util/hash.c                |    4 +-
 libs/util/info.c                |    4 +-
 libs/util/link.c                |    2 +-
 libs/util/mathlib.c             |    6 +-
 libs/util/mdfour.c              |    4 +-
 libs/util/msg.c                 |    6 +-
 libs/util/qargs.c               |   10 +-
 libs/util/qendian.c             |    2 +-
 libs/util/qfplist.c             |    4 +-
 libs/util/sizebuf.c             |    8 +-
 libs/util/va.c                  |    2 +-
 libs/util/ver_check.c           |  104 ++++++++++++++++
 libs/util/zone.c                |   10 +-
 nq/include/bspfile.h            |    2 +-
 nq/include/client.h             |    8 +-
 nq/include/context_x11.h        |    4 +-
 nq/include/dga_check.h          |    2 +-
 nq/include/game.h               |    6 +-
 nq/include/glquake.h            |    2 +-
 nq/include/host.h               |    4 +-
 nq/include/input.h              |    4 +-
 nq/include/joystick.h           |    2 +-
 nq/include/model.h              |    4 +-
 nq/include/net.h                |    6 +-
 nq/include/net_udp.h            |    2 +-
 nq/include/protocol.h           |    2 +-
 nq/include/render.h             |    4 +-
 nq/include/screen.h             |    4 +-
 nq/include/server.h             |   10 +-
 nq/include/sound.h              |    6 +-
 nq/include/sv_progs.h           |    2 +-
 nq/include/vid.h                |    2 +-
 nq/include/view.h               |    4 +-
 nq/include/wad.h                |    2 +-
 nq/include/world.h              |    2 +-
 nq/source/cd_linux.c            |    6 +-
 nq/source/cl_cam.c              |    2 +-
 nq/source/cl_cmd.c              |    8 +-
 nq/source/cl_demo.c             |   12 +-
 nq/source/cl_input.c            |    6 +-
 nq/source/cl_main.c             |   10 +-
 nq/source/cl_parse.c            |    8 +-
 nq/source/cl_tent.c             |    6 +-
 nq/source/com.c                 |   12 +-
 nq/source/console.c             |   12 +-
 nq/source/context_x11.c         |   12 +-
 nq/source/d_modech.c            |    2 +-
 nq/source/d_surf.c              |    6 +-
 nq/source/draw.c                |    6 +-
 nq/source/game.c                |    2 +-
 nq/source/gib.c                 |   12 +-
 nq/source/gib_instructions.c    |   12 +-
 nq/source/gib_interpret.c       |   12 +-
 nq/source/gib_modules.c         |   12 +-
 nq/source/gib_parse.c           |   12 +-
 nq/source/gib_stack.c           |   12 +-
 nq/source/gib_vars.c            |   12 +-
 nq/source/gl_draw.c             |   12 +-
 nq/source/gl_mesh.c             |    6 +-
 nq/source/gl_model_alias.c      |    8 +-
 nq/source/gl_model_brush.c      |    8 +-
 nq/source/gl_model_fullbright.c |    8 +-
 nq/source/gl_model_sprite.c     |    8 +-
 nq/source/gl_part.c             |    4 +-
 nq/source/gl_refrag.c           |    4 +-
 nq/source/gl_rmain.c            |    8 +-
 nq/source/gl_rmisc.c            |   10 +-
 nq/source/gl_rsurf.c            |   14 +--
 nq/source/gl_screen.c           |   16 +--
 nq/source/gl_view.c             |    4 +-
 nq/source/gl_warp.c             |    8 +-
 nq/source/host.c                |   14 +--
 nq/source/host_cmd.c            |   12 +-
 nq/source/in_sdl.c              |   12 +-
 nq/source/in_svgalib.c          |   12 +-
 nq/source/in_x11.c              |   12 +-
 nq/source/joy_linux.c           |    6 +-
 nq/source/keys.c                |   10 +-
 nq/source/model.c               |    8 +-
 nq/source/model_alias.c         |    8 +-
 nq/source/model_brush.c         |    8 +-
 nq/source/model_sprite.c        |    8 +-
 nq/source/net_dgrm.c            |   14 +--
 nq/source/net_loop.c            |    6 +-
 nq/source/net_main.c            |   12 +-
 nq/source/net_udp.c             |    6 +-
 nq/source/net_vcr.c             |    5 +-
 nq/source/pr_cmds.c             |   10 +-
 nq/source/quakefs.c             |   22 ++--
 nq/source/quakeio.c             |    3 +-
 nq/source/r_alias.c             |    4 +-
 nq/source/r_bsp.c               |    4 +-
 nq/source/r_efrag.c             |    4 +-
 nq/source/r_main.c              |    6 +-
 nq/source/r_misc.c              |    4 +-
 nq/source/r_part.c              |    6 +-
 nq/source/r_sprite.c            |    4 +-
 nq/source/r_surf.c              |    2 +-
 nq/source/r_view.c              |    6 +-
 nq/source/sbar.c                |    6 +-
 nq/source/screen.c              |   10 +-
 nq/source/snd_alsa_0_9.c        |    6 +-
 nq/source/snd_dma.c             |    8 +-
 nq/source/snd_mem.c             |    8 +-
 nq/source/snd_mix.c             |    2 +-
 nq/source/sv_cvar.c             |    2 +-
 nq/source/sv_main.c             |    8 +-
 nq/source/sv_phys.c             |    4 +-
 nq/source/sv_progs.c            |    4 +-
 nq/source/sv_user.c             |   10 +-
 nq/source/sw_model_alias.c      |    8 +-
 nq/source/sw_model_brush.c      |    8 +-
 nq/source/sw_model_sprite.c     |    8 +-
 nq/source/sw_view.c             |    4 +-
 nq/source/sys_unix.c            |    6 +-
 nq/source/vid.c                 |    8 +-
 nq/source/vid_common_gl.c       |    6 +-
 nq/source/vid_glx.c             |   12 +-
 nq/source/vid_sdl.c             |    8 +-
 nq/source/vid_sgl.c             |   12 +-
 nq/source/vid_svgalib.c         |   12 +-
 nq/source/vid_x11.c             |   16 +--
 nq/source/wad.c                 |    7 +-
 nq/source/world.c               |    4 +-
 qw/include/bspfile.h            |    2 +-
 qw/include/cdaudio.h            |    2 +-
 qw/include/cl_demo.h            |    2 +-
 qw/include/cl_ents.h            |    2 +-
 qw/include/cl_main.h            |    2 +-
 qw/include/cl_parse.h           |    2 +-
 qw/include/cl_slist.h           |    2 +-
 qw/include/client.h             |    6 +-
 qw/include/commdef.h            |    4 +-
 qw/include/context_x11.h        |    2 +-
 qw/include/d_iface.h            |    2 +-
 qw/include/dga_check.h          |    2 +-
 qw/include/glquake.h            |    2 +-
 qw/include/host.h               |    4 +-
 qw/include/input.h              |    2 +-
 qw/include/joystick.h           |    2 +-
 qw/include/locs.h               |    2 +-
 qw/include/model.h              |    4 +-
 qw/include/modelgen.h           |    2 +-
 qw/include/msg_ucmd.h           |    2 +-
 qw/include/net.h                |    6 +-
 qw/include/pcx.h                |    2 +-
 qw/include/pmove.h              |    2 +-
 qw/include/protocol.h           |    2 +-
 qw/include/qfgl_ext.h           |    2 +-
 qw/include/r_dynamic.h          |    2 +-
 qw/include/r_local.h            |    4 +-
 qw/include/r_shared.h           |    4 +-
 qw/include/render.h             |    4 +-
 qw/include/screen.h             |    2 +-
 qw/include/server.h             |   12 +-
 qw/include/sound.h              |    6 +-
 qw/include/sv_progs.h           |    2 +-
 qw/include/teamplay.h           |    2 +-
 qw/include/tga.h                |    4 +-
 qw/include/ver_check.h          |   45 -------
 qw/include/vid.h                |    2 +-
 qw/include/view.h               |    4 +-
 qw/include/wad.h                |    2 +-
 qw/include/world.h              |    4 +-
 qw/source/Makefile.am           |    2 +-
 qw/source/cd_linux.c            |    8 +-
 qw/source/cl_cam.c              |    4 +-
 qw/source/cl_cmd.c              |    6 +-
 qw/source/cl_cvar.c             |    6 +-
 qw/source/cl_demo.c             |   12 +-
 qw/source/cl_ents.c             |    4 +-
 qw/source/cl_input.c            |   10 +-
 qw/source/cl_main.c             |   20 +--
 qw/source/cl_misc.c             |    2 +-
 qw/source/cl_parse.c            |    8 +-
 qw/source/cl_pred.c             |    4 +-
 qw/source/cl_slist.c            |    6 +-
 qw/source/cl_sys_unix.c         |    6 +-
 qw/source/cl_tent.c             |    4 +-
 qw/source/com.c                 |   12 +-
 qw/source/console.c             |   12 +-
 qw/source/context_x11.c         |   12 +-
 qw/source/d_modech.c            |    2 +-
 qw/source/d_surf.c              |    4 +-
 qw/source/dga_check.c           |    2 +-
 qw/source/draw.c                |    6 +-
 qw/source/gl_draw.c             |    6 +-
 qw/source/gl_dyn_fires.c        |    4 +-
 qw/source/gl_dyn_part.c         |    8 +-
 qw/source/gl_mesh.c             |    6 +-
 qw/source/gl_model_alias.c      |    4 +-
 qw/source/gl_model_brush.c      |    6 +-
 qw/source/gl_model_fullbright.c |    8 +-
 qw/source/gl_model_sprite.c     |    2 +-
 qw/source/gl_ngraph.c           |    2 +-
 qw/source/gl_rmain.c            |    8 +-
 qw/source/gl_rmisc.c            |    8 +-
 qw/source/gl_rsurf.c            |    2 +-
 qw/source/gl_screen.c           |    8 +-
 qw/source/gl_skin.c             |    2 +-
 qw/source/gl_sky.c              |    2 +-
 qw/source/gl_sky_clip.c         |    4 +-
 qw/source/gl_textures.c         |    8 +-
 qw/source/gl_warp.c             |    4 +-
 qw/source/in_sdl.c              |   12 +-
 qw/source/in_svgalib.c          |   12 +-
 qw/source/in_x11.c              |   12 +-
 qw/source/joy_linux.c           |    6 +-
 qw/source/keys.c                |   10 +-
 qw/source/locs.c                |    8 +-
 qw/source/model.c               |    6 +-
 qw/source/model_alias.c         |   10 +-
 qw/source/model_brush.c         |    6 +-
 qw/source/model_sprite.c        |    2 +-
 qw/source/msg_ucmd.c            |    6 +-
 qw/source/net_chan.c            |    6 +-
 qw/source/net_udp.c             |    8 +-
 qw/source/pcx.c                 |   10 +-
 qw/source/pmove.c               |    6 +-
 qw/source/pmovetst.c            |    6 +-
 qw/source/qfgl_ext.c            |    2 +-
 qw/source/quakefs.c             |   22 ++--
 qw/source/quakeio.c             |    4 +-
 qw/source/r_alias.c             |    4 +-
 qw/source/r_bsp.c               |    4 +-
 qw/source/r_efrag.c             |    4 +-
 qw/source/r_main.c              |    8 +-
 qw/source/r_misc.c              |    6 +-
 qw/source/r_part.c              |    6 +-
 qw/source/r_sprite.c            |    4 +-
 qw/source/r_surf.c              |    2 +-
 qw/source/r_view.c              |    6 +-
 qw/source/sbar.c                |    6 +-
 qw/source/screen.c              |    8 +-
 qw/source/skin.c                |   12 +-
 qw/source/snd_alsa_0_9.c        |    6 +-
 qw/source/snd_dma.c             |    8 +-
 qw/source/snd_mem.c             |    8 +-
 qw/source/snd_mix.c             |    2 +-
 qw/source/sv_ccmds.c            |   14 +--
 qw/source/sv_cvar.c             |    2 +-
 qw/source/sv_ents.c             |    4 +-
 qw/source/sv_init.c             |    8 +-
 qw/source/sv_main.c             |   16 +--
 qw/source/sv_model.c            |    2 +-
 qw/source/sv_move.c             |    2 +-
 qw/source/sv_nchan.c            |    2 +-
 qw/source/sv_phys.c             |    2 +-
 qw/source/sv_pr_cmds.c          |    6 +-
 qw/source/sv_progs.c            |    2 +-
 qw/source/sv_send.c             |    4 +-
 qw/source/sv_sys_unix.c         |    6 +-
 qw/source/sv_user.c             |   14 +--
 qw/source/sw_model_alias.c      |    6 +-
 qw/source/sw_model_sprite.c     |    2 +-
 qw/source/sw_skin.c             |    2 +-
 qw/source/sys_unix.c            |    6 +-
 qw/source/teamplay.c            |    6 +-
 qw/source/tga.c                 |    6 +-
 qw/source/ver_check.c           |  104 ----------------
 qw/source/vid.c                 |    8 +-
 qw/source/vid_common_gl.c       |    6 +-
 qw/source/vid_glx.c             |   10 +-
 qw/source/vid_sdl.c             |   10 +-
 qw/source/vid_sgl.c             |   10 +-
 qw/source/vid_svgalib.c         |   12 +-
 qw/source/vid_x11.c             |   14 +--
 qw/source/wad.c                 |    6 +-
 qw/source/world.c               |    4 +-
 tools/qfcc/configure.in         |   20 +++
 337 files changed, 3558 insertions(+), 3535 deletions(-)

commit f6073d7
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Mar 27 03:57:17 2001 +0000

    better progs access error checking and cleanups resulting from it. Fixes
    mega2k and nq.

 include/progs.h          |    9 ++-
 libs/gamecode/pr_edict.c |   49 +++++++++++++-
 nq/include/sv_progs.h    |    8 +--
 nq/source/.gdbinit       |    1 +
 nq/source/sv_progs.c     |   25 +++----
 qw/include/protocol.h    |    4 +-
 qw/include/render.h      |    4 +-
 qw/include/sv_progs.h    |    6 +-
 qw/source/.gdbinit       |    1 +
 qw/source/cl_ents.c      |   16 ++---
 qw/source/cl_parse.c     |    8 +--
 qw/source/cl_tent.c      |    4 +-
 qw/source/sv_ents.c      |   20 +++---
 qw/source/sv_init.c      |    4 +-
 qw/source/sv_progs.c     |  164 ++++++++++++++++++++++------------------------
 15 files changed, 181 insertions(+), 142 deletions(-)

commit 5e99357
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Mar 27 00:52:52 2001 +0000

    put a comment in the right place

 tools/qfcc/source/pr_lex.c |    3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit c34868c
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Mar 26 21:02:18 2001 +0000

    attack cmdlib with a chainsaw. All unused functions are gone.

 tools/qfcc/include/cmdlib.h |   40 ----
 tools/qfcc/source/cmdlib.c  |  421 +------------------------------------------
 2 files changed, 9 insertions(+), 452 deletions(-)

commit 19b1467
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Mar 26 16:36:44 2001 +0000

    add .vimrc

 tools/qfcc/source/.gitignore |    1 +
 1 file changed, 1 insertion(+)

commit 135e533
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Mar 26 05:33:02 2001 +0000

    raise some limits so customtf will build. this is NOT the right solution :(

 tools/qfcc/include/qfcc.h |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit b25a437
Author: Timothy C. McGrath <tmhikaru@gmail.com>
Date:   Thu Mar 22 01:52:33 2001 +0000

    Very minor changes. cl_max_particles still cannot be used dynamically,
    however I've removed the stupid limits that I'd accidentally left behind
    in my panic to comment out the messed up code in r_part.c so software
    clients now can use a setting of zero. Particles in sw clients will not
    default to 2048 if you use a number less than 1 - it will now use 0.
    Otherwise, I made comments to myself for when I actually fix this and
    cleared up some silliness in comments I'd made. Nothing special.
    
    Special note: To use cl_max_particles *right now* you can either set it
    while playing and then restart the client (I think this should work,
    it's archived. May not however) Or do this which I absolutely am
    *positive* works:
    
    clientname othercommands +set cl_max_particles number othercommands
    
    So, again, while changing in game does not work, it at least is still
    useful somewhat.
    
    Misty-chan

 qw/source/gl_dyn_part.c |    9 ++++++---
 qw/source/r_part.c      |   13 ++++---------
 2 files changed, 10 insertions(+), 12 deletions(-)

commit 8207156
Author: Timothy C. McGrath <tmhikaru@gmail.com>
Date:   Tue Mar 20 00:27:22 2001 +0000

    *DOH!*
    I goofed up my code. cl_max_particles will not dynamically update with
    this change, but ATM, this is safer until I can grok what I need to know
    to fix the code I wrote.
    
    Sorry guys,
    Misty-chan

 qw/source/gl_dyn_part.c |   23 ++++++++++-------------
 qw/source/r_part.c      |    7 ++++++-
 2 files changed, 16 insertions(+), 14 deletions(-)

commit 582a790
Author: Timothy C. McGrath <tmhikaru@gmail.com>
Date:   Mon Mar 19 03:54:51 2001 +0000

    Insignificant config file change, 60 particles shows up just as quickly
    as 30 on my system, and obviously gives me twice as many to look at.
    
    Misty-chan

 doc/config/glspeed.cfg |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit ed42482
Author: Timothy C. McGrath <tmhikaru@gmail.com>
Date:   Sun Mar 18 07:35:20 2001 +0000

    Updated cfgs to show the new cl_max_particles cvar - it REALLY HELPS.
    Also removed gl_smooth from the glspeed.cfg - no idea why it was there,
    since I had already replaced it. Whoops.
    
    Misty-chan

 doc/config/glspeed.cfg |   15 ++++++++-------
 doc/config/swspeed.cfg |    6 +++++-
 2 files changed, 13 insertions(+), 8 deletions(-)

commit 264547d
Author: Timothy C. McGrath <tmhikaru@gmail.com>
Date:   Sun Mar 18 07:04:47 2001 +0000

    Okay, this patch REMOVES the -particles command line option, and adds a
    new cvar: cl_max_particles. This cvar is archived, has no lower or
    upper limits (well, less than 1 is not allowed) and can be changed in
    game at any time.
    
    BUGS:
    
    Only one so far. I can't figure out why it's doing this, but in software
    clients, (well, at least X11) if you set it to 1 particle, it acts like
    you set it far higher. 2 acts like you set it to zero... Or maybe
    it's showing 2 and I just can't see it on my 320x200 window. In any
    case, the vagary must be something in the software particles code,
    because I basically used the same code from the GL particles code for
    this as I used for the software renderer.
    
    If nobody can find fault with my code, I'll just make a special note in
    the console help.
    
    In any case, let me know of any problems.
    
    Misty-chan

 qw/source/cl_main.c     |    4 ++++
 qw/source/gl_dyn_part.c |   42 ++++++++++++++++++++++++++++++------------
 qw/source/r_part.c      |   43 +++++++++++++++++++++++++++----------------
 3 files changed, 61 insertions(+), 28 deletions(-)

commit ed2f2ce
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Fri Mar 16 19:19:24 2001 +0000

    Forge: InspectorControl and KeypairView compile with no warnings now.

 tools/Forge/Headers/InspectorControl.h |    8 +--
 tools/Forge/Headers/KeypairView.h      |    2 +-
 tools/Forge/InspectorControl.m         |   18 +++----
 tools/Forge/KeypairView.m              |   85 +++++++++++++++-----------------
 4 files changed, 55 insertions(+), 58 deletions(-)

commit cc85f21
Author: Forest Hale <lordhavoc@users.sourceforge.net>
Date:   Fri Mar 16 15:25:31 2001 +0000

    shrank lava splash particles from size 7 to size 3, makes spy gas grenades in TF faster

 qw/source/gl_dyn_part.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 6247233
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Mar 14 04:14:09 2001 +0000

    when checking a token, they type of the token must be taken into account.

 tools/qfcc/include/qfcc.h   |    4 +--
 tools/qfcc/source/pr_comp.c |   72 +++++++++++++++++++++----------------------
 tools/qfcc/source/pr_lex.c  |   22 ++++++-------
 3 files changed, 49 insertions(+), 49 deletions(-)

commit 00e71e3
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Tue Mar 13 04:43:15 2001 +0000

    Better failure reporting for vid_use8bit.

 qw/source/vid_common_gl.c |    8 +++++++-
 1 file changed, 7 insertions(+), 1 deletion(-)

commit 32d14ba
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Mar 12 21:16:26 2001 +0000

    ignore generated files

 tools/qfcc/.gitignore         |    8 ++++++++
 tools/qfcc/include/.gitignore |    5 +++++
 2 files changed, 13 insertions(+)

commit 21fa23a
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Mar 12 20:04:22 2001 +0000

    the crc field in progs.dat is evily generated from the crc of progsdef.h, so
    change the header to produce a matching crc. This is an interrim fix until a
    better solution can be found.

 tools/qfcc/source/.gitignore |    5 +++++
 tools/qfcc/source/qfcc.c     |    2 +-
 2 files changed, 6 insertions(+), 1 deletion(-)

commit 3217faa
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sun Mar 11 21:37:32 2001 +0000

    Fix white sbars in -sgl.
    (Thanks to super_ice for the patch)

 nq/source/vid_sgl.c |    2 ++
 qw/source/vid_sgl.c |    2 ++
 2 files changed, 4 insertions(+)

commit b453815
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Mar 11 02:14:40 2001 +0000

    fix a type access error

 nq/source/sv_phys.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 30cdd18
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sun Mar 11 00:31:52 2001 +0000

    Fix a typo. Oops...

 qw/source/gl_draw.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit e884846
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sun Mar 11 00:25:30 2001 +0000

    Tighten up checks for 3dfx in gl_draw.c and restore default gl_texturemode to old setting.

 qw/source/gl_draw.c     |    3 ++-
 qw/source/gl_textures.c |    2 +-
 2 files changed, 3 insertions(+), 2 deletions(-)

commit fd3eafa
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Fri Mar 9 21:21:50 2001 +0000

    Oops.

 qw/source/gl_textures.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 1b8928d
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Fri Mar 9 21:10:44 2001 +0000

    Cleanup of gl_draw.c and beginnings of work for user-specifiable texture format/quality (monochrome quake anybody? :)

 qw/source/Makefile.am   |   12 +-
 qw/source/gl_draw.c     |  519 +++----------------------------------------
 qw/source/gl_textures.c |  557 +++++++++++++++++++++++++++++++++++++++++++++++
 3 files changed, 592 insertions(+), 496 deletions(-)

commit 3ac2bc7
Author: Joseph Carter <knghtbrd@debian.org>
Date:   Fri Mar 9 07:58:10 2001 +0000

    The quakefs similarization..  Essentially, we're now using qw's quakefs in
    nq, with the exception that some things were removed and others added.  I
    could have merged this, but I don't feel the system's ready for merging at
    the moment.  The quakefs code needs a bit of a cleanup and a tuneup before
    it goes common.  Like so many other things, that's dependant on other bits
    of the puzzle being completed first.

 nq/include/host.h    |    1 -
 nq/source/com.c      |    1 +
 nq/source/host_cmd.c |    5 +-
 nq/source/quakefs.c  |  383 +++++++++++++++++++++++++++++++-------------------
 4 files changed, 246 insertions(+), 144 deletions(-)

commit 055fe8d
Author: Joseph Carter <knghtbrd@debian.org>
Date:   Fri Mar 9 07:55:25 2001 +0000

    Purely whitespace cleanups

 qw/source/quakefs.c |   12 +++++-------
 1 file changed, 5 insertions(+), 7 deletions(-)

commit ddd4c27
Author: Joseph Carter <knghtbrd@debian.org>
Date:   Fri Mar 9 07:53:04 2001 +0000

    The standard_quake qboolean now lives here, but Game_Init is now an empty
    function.  There's probably some use for it later on anyway (probably for
    metadata defaults or something), but the -hipnotic and -rogue checks are
    now in quakefs.c.

 nq/source/game.c |   19 ++++---------------
 1 file changed, 4 insertions(+), 15 deletions(-)

commit 1d04bc2
Author: Joseph Carter <knghtbrd@debian.org>
Date:   Fri Mar 9 07:50:45 2001 +0000

    Commented out rogue/hipnotic sbar elements.  Didn't outright delete them
    so they can be used in building the scripted HUDs for those trees.  This
    commit removes all need for the hipnotic and rogue qbooleans.

 nq/source/sbar.c |  513 ++++++++++++++++++++++++++++--------------------------
 1 file changed, 264 insertions(+), 249 deletions(-)

commit 69fd589
Author: Chris Ison <cisos@bigpond.net.au>
Date:   Thu Mar 8 23:53:03 2001 +0000

    moved slist loading into cl_slist.c

 qw/include/cl_slist.h |    1 +
 qw/source/cl_main.c   |   16 ++--------------
 qw/source/cl_slist.c  |   18 ++++++++++++++++++
 3 files changed, 21 insertions(+), 14 deletions(-)

commit 930da91
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Mar 8 21:04:21 2001 +0000

    change egcs to kgcc for the broken distro

 configure.in |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 9c3f26d
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Mar 8 18:45:52 2001 +0000

    Rhamphoryncus added paks

 doc/ideas/quakedownload.txt |   14 ++++++++++++++
 1 file changed, 14 insertions(+)

commit 95852f5
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Mar 8 18:40:21 2001 +0000

    add Rhamphoryncus ideas on the download screen

 doc/ideas/quakedownload.txt |   11 +++++++++++
 1 file changed, 11 insertions(+)

commit 645a791
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Mar 8 00:27:35 2001 +0000

    add pr_checkextentions as promised

 nq/source/sv_progs.c |    6 ++++++
 qw/source/sv_progs.c |    4 ++++
 2 files changed, 10 insertions(+)

commit 16bc473
Author: Chris Ison <cisos@bigpond.net.au>
Date:   Wed Mar 7 23:24:53 2001 +0000

    adding rising smoke

 qw/source/gl_dyn_part.c |    4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 53c9732
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Mar 7 10:22:51 2001 +0000

    add PF_checkextension for later use. The pr_checkextension cvar will come
    when I've had some sleep.

 nq/source/pr_cmds.c    |   30 +++++++++++++++++++++++++++++-
 qw/source/sv_pr_cmds.c |   26 ++++++++++++++++++++++++--
 2 files changed, 53 insertions(+), 3 deletions(-)

commit e370eb3
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Mar 6 16:41:17 2001 +0000

    this should fix the abyss protocol compatability problems

 nq/source/game.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 771648a
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Mar 6 16:10:28 2001 +0000

    forgot to remove the old prstring stuff

 include/progs.h          |    4 ----
 libs/gamecode/pr_edict.c |    2 --
 qw/source/sv_ccmds.c     |    2 +-
 3 files changed, 1 insertion(+), 7 deletions(-)

commit 97bf8d2
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Mar 6 05:29:46 2001 +0000

    garbage collector implemented but untested. Also unsused because the issue is
    WHEN to call it. I don't imagine it will be cheap :/

 include/progs.h            |    2 +-
 libs/gamecode/pr_strings.c |   58 ++++++++++++++++++++++++++++++++++++--------
 2 files changed, 49 insertions(+), 11 deletions(-)

commit 4489319
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Mar 6 04:22:33 2001 +0000

    first step towards garbage collected dynamic strings in qc. All strings
    external to the progs file are now malloced and then freed at progs reload.
    All that needs to be implementd for gc to work is the scanner and deallocator.

 include/progs.h            |   14 +++++
 libs/gamecode/Makefile.am  |    2 +-
 libs/gamecode/pr_edict.c   |    3 +
 libs/gamecode/pr_exec.c    |   32 -----------
 libs/gamecode/pr_strings.c |  134 ++++++++++++++++++++++++++++++++++++++++++++
 libs/util/hash.c           |    2 +-
 6 files changed, 153 insertions(+), 34 deletions(-)

commit c461634
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Mar 5 16:19:10 2001 +0000

    dx_hack_hash stolen from Daniel Phillips <phillips@innominate.de> in the lkml.
    This might or might not give hash tables a better spread. We'll see :)

 libs/util/hash.c |   16 ++++++++++++++++
 1 file changed, 16 insertions(+)

commit 4c3676b
Author: Joseph Carter <knghtbrd@debian.org>
Date:   Mon Mar 5 10:06:39 2001 +0000

    Forgot to commit this removal.  Mr. Menu, get the hell outta my tree!

 nq/source/menu.c | 3330 ------------------------------------------------------
 1 file changed, 3330 deletions(-)

commit f40b361
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Mar 5 05:11:26 2001 +0000

    hash.[ch]:
    	slight api change: the getkey and free functions now take a user data
    	parameter (which is an aditional parameter to Hash_New.
    cmd.c, cvar.c, quakefs.c:
    	clean up the resulting errors.
    pr_edict.c:
    	use hash tables for lookups of function, global and field definitions.
    	should speed things up a bit, ESPECIALLY when type checking is enabled.

 include/hash.h           |    9 ++++---
 include/progs.h          |    5 ++++
 libs/gamecode/pr_edict.c |   66 +++++++++++++++++++++++++++-------------------
 libs/gamecode/pr_exec.c  |    2 +-
 libs/util/cmd.c          |   10 +++----
 libs/util/cvar.c         |   12 ++++-----
 libs/util/hash.c         |   20 +++++++++-----
 qw/source/quakefs.c      |    4 +--
 8 files changed, 78 insertions(+), 50 deletions(-)

commit aad21e3
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Mar 5 04:15:59 2001 +0000

    put the pointer comparison back in so dynamic strings don't cause blowouts

 libs/gamecode/pr_exec.c |    5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 234dcb4
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Mar 5 04:08:08 2001 +0000

    better(?) string sharing. e1m3 died a sad death in nq due to running out of
    strings, but that was because only the address of the string was checked for
    similarity. Now strequal is used.

 libs/gamecode/pr_exec.c |    8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit ff2828d
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Mar 5 02:18:03 2001 +0000

    thought something was wrong with the previous checkin. I keep forgetting .S
    files don't get dependencies in automake :(

 nq/source/cl_math.S  |    2 +-
 nq/source/d_copy.S   |    2 +-
 nq/source/d_draw.S   |    2 +-
 nq/source/d_draw16.S |    2 +-
 nq/source/d_parta.S  |    2 +-
 nq/source/d_polysa.S |    2 +-
 nq/source/d_scana.S  |    2 +-
 nq/source/d_spr8.S   |    2 +-
 nq/source/d_varsa.S  |    2 +-
 nq/source/dosasm.S   |    2 +-
 nq/source/r_aclipa.S |    2 +-
 nq/source/r_aliasa.S |    2 +-
 nq/source/r_drawa.S  |    2 +-
 nq/source/r_edgea.S  |    2 +-
 nq/source/r_varsa.S  |    2 +-
 nq/source/snd_mixa.S |    2 +-
 nq/source/surf16.S   |    2 +-
 nq/source/surf8.S    |    2 +-
 nq/source/sys_dosa.S |    2 +-
 nq/source/sys_ia32.S |    2 +-
 nq/source/sys_wina.S |    2 +-
 nq/source/worlda.S   |    2 +-
 22 files changed, 22 insertions(+), 22 deletions(-)

commit 09b58f7
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Mar 5 02:06:05 2001 +0000

    merge math code into utils

 include/asm_i386.h    |  106 ++++++++
 include/mathlib.h     |  117 +++++++++
 libs/util/Makefile.am |    2 +-
 libs/util/math.S      |  360 ++++++++++++++++++++++++++++
 libs/util/mathlib.c   |  628 ++++++++++++++++++++++++++++++++++++++++++++++++
 nq/include/asm_ia32.h |  106 --------
 nq/include/mathlib.h  |  104 --------
 nq/source/Makefile.am |    4 +-
 nq/source/math.S      |  360 ----------------------------
 nq/source/mathlib.c   |  638 -------------------------------------------------
 qw/include/asm_i386.h |  106 --------
 qw/include/mathlib.h  |  117 ---------
 qw/source/Makefile.am |    4 +-
 qw/source/math.S      |  360 ----------------------------
 qw/source/mathlib.c   |  629 ------------------------------------------------
 15 files changed, 1216 insertions(+), 2425 deletions(-)

commit d407f53
Author: Joseph Carter <knghtbrd@debian.org>
Date:   Sun Mar 4 13:55:05 2001 +0000

    Since nobody cares the structure of the menu after it's rewritten, I've
    replaced the menu structure with just the binds listing so whoever does
    that doesn't forget a binding we never use (run key?  My forwardspeed is
    600, wtf do I need a run key for?)

 TODO |   93 ++++++++++++++----------------------------------------------------
 1 file changed, 20 insertions(+), 73 deletions(-)

commit fb9f7a1
Author: Joseph Carter <knghtbrd@debian.org>
Date:   Sun Mar 4 10:09:59 2001 +0000

    Forest's COM_FileBase rewrite.  Doubt this is faster, but it's sure a lot
    easier on the eyes.

 qw/source/quakefs.c |   96 +++++++++++++++++++++++++++++----------------------
 1 file changed, 54 insertions(+), 42 deletions(-)

commit 3ab3941
Author: Joseph Carter <knghtbrd@debian.org>
Date:   Sun Mar 4 07:43:27 2001 +0000

    NQ's menu is gone too, menu.c is laying around till I add more info to the
    TODO file, then it dies too.

 nq/include/Makefile.am |    2 +-
 nq/include/menu.h      |   47 -----------------------------------------------
 nq/source/Makefile.am  |    2 +-
 nq/source/gl_screen.c  |    4 ++--
 nq/source/host.c       |    4 ++--
 nq/source/host_cmd.c   |   10 ++++------
 nq/source/in_sdl.c     |    1 -
 nq/source/keys.c       |   11 ++++++-----
 nq/source/net_dgrm.c   |   34 +++++++++++++++++++---------------
 nq/source/sbar.c       |    5 ++---
 nq/source/screen.c     |    4 ++--
 nq/source/vid_x11.c    |    1 -
 12 files changed, 39 insertions(+), 86 deletions(-)

commit 6bb1f17
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Mar 4 06:08:28 2001 +0000

    THOU SHALT NOT SCREW UP THY DOT-PRODUCT MACRO!!! :P

 qw/include/mathlib.h |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 021c134
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Mar 4 05:42:26 2001 +0000

    remove the reliance on MAX_EDICTS

 libs/gamecode/pr_edict.c |    8 +++++---
 1 file changed, 5 insertions(+), 3 deletions(-)

commit 4137fba
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Mar 4 05:27:29 2001 +0000

    nq seems to like the new progs setup (got to e2m2 in medium without problems)

 nq/include/mathlib.h    |    8 ++--
 nq/include/sv_pr_cmds.h |  108 +++++++++++++++++++++++++++++++++++++++++++++++
 nq/include/sv_progs.h   |    9 +++-
 nq/source/host_cmd.c    |   14 +++---
 nq/source/pr_cmds.c     |   36 ++++++++--------
 nq/source/sv_main.c     |   27 +++++++-----
 nq/source/sv_move.c     |    5 +--
 nq/source/sv_phys.c     |   18 ++++----
 nq/source/world.c       |    4 +-
 qw/include/mathlib.h    |    2 +-
 10 files changed, 175 insertions(+), 56 deletions(-)

commit b507853
Author: Joseph Carter <knghtbrd@debian.org>
Date:   Sun Mar 4 01:55:12 2001 +0000

    A number of keys should bring up the menu in demo playback, they now bring
    up the console.

 qw/source/keys.c |    1 +
 1 file changed, 1 insertion(+)

commit e4e8043
Author: Joseph Carter <knghtbrd@debian.org>
Date:   Sat Mar 3 12:30:48 2001 +0000

    Escape is still unconditional, but rather than being unconditionally menu
    (or now unconditionally nothing since I killed the menu), it works as the
    console.  In the future, when the new menu is implemented, it will fall
    back to console if there's a problem with the menu (like there isn't one.)

 qw/source/keys.c |    1 +
 1 file changed, 1 insertion(+)

commit d28e15d
Author: Joseph Carter <knghtbrd@debian.org>
Date:   Sat Mar 3 12:16:24 2001 +0000

    Software netgraph fixed.  Probably not the same as it was before, someone
    else is welcome to change it to their liking, optimize it, remove the box,
    whatever..

 qw/source/r_misc.c |   24 +++++++++++++-----------
 1 file changed, 13 insertions(+), 11 deletions(-)

commit 9c39a00
Author: Joseph Carter <knghtbrd@debian.org>
Date:   Sat Mar 3 11:05:20 2001 +0000

    Fixed the netgraph

 qw/source/r_main.c |    2 +-
 qw/source/r_misc.c |    4 ++--
 2 files changed, 3 insertions(+), 3 deletions(-)

commit fe26a1c
Author: Joseph Carter <knghtbrd@debian.org>
Date:   Sat Mar 3 10:01:49 2001 +0000

    This should not be here yet, reverting

 nq/source/Makefile.am |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c057c27
Author: Joseph Carter <knghtbrd@debian.org>
Date:   Sat Mar 3 09:42:35 2001 +0000

    Menu has been killed completely from qw.  It's dead.  I doubt anybody will
    even notice, given that QW's menu was crippled to the point that it was
    completely useless anyway.

 nq/source/Makefile.am  |    2 +-
 qw/include/Makefile.am |    2 +-
 qw/include/menu.h      |   52 --
 qw/source/Makefile.am  |    2 +-
 qw/source/cl_main.c    |   11 +-
 qw/source/gl_screen.c  |    4 +-
 qw/source/in_sdl.c     |    1 -
 qw/source/keys.c       |    9 +-
 qw/source/menu.c       | 1745 ------------------------------------------------
 qw/source/r_misc.c     |   34 +-
 qw/source/screen.c     |    4 +-
 qw/source/vid_x11.c    |    1 -
 12 files changed, 33 insertions(+), 1834 deletions(-)

commit 8e52f7d
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Mar 3 09:09:39 2001 +0000

    more nq fixes, not there yet

 include/progs.h          |    1 +
 libs/gamecode/pr_edict.c |    1 +
 libs/gamecode/pr_exec.c  |    4 ++--
 nq/source/host.c         |    1 +
 4 files changed, 5 insertions(+), 2 deletions(-)

commit baa5ce0
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Mar 3 08:59:55 2001 +0000

    more independence cleanups and nq is closer to running

 include/progs.h       |    5 --
 nq/include/server.h   |    2 +-
 nq/include/sv_progs.h |    2 -
 nq/include/world.h    |    2 +-
 nq/source/host_cmd.c  |    1 -
 nq/source/pr_cmds.c   |    1 -
 nq/source/sv_main.c   |    2 +-
 nq/source/sv_progs.c  |  170 ++++++++++++++++++++++++++++++++++++++++---------
 qw/include/sv_progs.h |    5 ++
 9 files changed, 148 insertions(+), 42 deletions(-)

commit 6d6c343
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Mar 3 08:31:58 2001 +0000

    nq compiles with the new progs setup, but doesn't have a hope of running yet.
    None of the globals etc structs are filled in and there will be a lot of type
    errors in SVFIELD usage.

 nq/include/sv_progs.h |  192 +++++++++++++++
 nq/source/Makefile.am |    6 +-
 nq/source/host.c      |   15 +-
 nq/source/host_cmd.c  |  169 ++++++-------
 nq/source/net_dgrm.c  |    5 +-
 nq/source/pr_cmds.c   |  247 +++++++++----------
 nq/source/sv_main.c   |  206 ++++++++--------
 nq/source/sv_move.c   |   81 +++---
 nq/source/sv_phys.c   |  651 +++++++++++++++++++++++++------------------------
 nq/source/sv_progs.c  |   25 +-
 nq/source/sv_user.c   |   76 +++---
 nq/source/world.c     |  141 +++++------
 12 files changed, 1002 insertions(+), 812 deletions(-)

commit 82522a6
Author: Joseph Carter <knghtbrd@debian.org>
Date:   Sat Mar 3 07:23:22 2001 +0000

    Added menu structure to TODO file, it's not in typical TODO format since
    it's either done or it's not.  Very soone the menu code will be axed and
    this will aid in replacing it.

 TODO |   77 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 77 insertions(+)

commit 168d474
Author: Joseph Carter <knghtbrd@debian.org>
Date:   Sat Mar 3 06:51:18 2001 +0000

    Mostly whitespace, these files are now identical and COULD be merged, if
    they weren't about to get a rewrite first.

 nq/source/keys.c |  241 +++++++++++++++++++++++++-----------------------------
 qw/source/keys.c |   44 +++++-----
 2 files changed, 135 insertions(+), 150 deletions(-)

commit 8ad00b0
Author: Chris Ison <cisos@bigpond.net.au>
Date:   Sat Mar 3 06:01:57 2001 +0000

    added sharepath search when loading server list

 qw/source/cl_main.c |    6 ++++++
 1 file changed, 6 insertions(+)

commit 26e2d54
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Mar 3 05:34:50 2001 +0000

    macro parameter usage must have () around them :P
    This seems to fix the aim bug

 qw/include/mathlib.h |   12 ++++++------
 1 file changed, 6 insertions(+), 6 deletions(-)

commit 050b49c
Author: Chris Ison <cisos@bigpond.net.au>
Date:   Sat Mar 3 00:54:46 2001 +0000

    fixing missing oss dev as shown by taniwha

 qw/source/snd_oss.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 51ca0b6
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Mar 2 23:41:50 2001 +0000

    missed this in the previous checkin

 include/progs.h |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 3c17a88
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Mar 2 23:40:34 2001 +0000

    more cleanups. rocket/shotgun bug not found yet

 qw/source/sv_progs.c |   75 +++++++++++++++++---------------------------------
 1 file changed, 25 insertions(+), 50 deletions(-)

commit 6962f95
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Fri Mar 2 23:38:40 2001 +0000

    gl_colorlights gone, replaced by gl_lightmap_components. Valid values are 1, 3, 4. 4 (RGBA) default. Significant speedup going from RGB to RGBA on some boards.
    
    Thanks to LordHavoc for the idea, and much of the design.

 qw/source/gl_draw.c  |   13 ++------
 qw/source/gl_rmisc.c |    4 ++-
 qw/source/gl_rsurf.c |   83 +++++++++++++++++++++++++++++++++-----------------
 3 files changed, 61 insertions(+), 39 deletions(-)

commit 09f7689
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Fri Mar 2 23:32:24 2001 +0000

    Tweaked lava splash.

 qw/source/gl_dyn_part.c |   12 ++++++------
 1 file changed, 6 insertions(+), 6 deletions(-)

commit 26c3874
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Mar 2 23:07:21 2001 +0000

    fix a silly edict print bug

 libs/gamecode/pr_edict.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 6c9de80
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Mar 2 19:18:04 2001 +0000

    fix the silly OP_STATE bug. also erradicate pr_offs.c and its contents (the
    source of the bug)

 include/progs.h           |    7 ++---
 libs/gamecode/Makefile.am |    2 +-
 libs/gamecode/pr_edict.c  |   67 ++++++++++++++++++++++++++-------------------
 libs/gamecode/pr_exec.c   |    1 -
 libs/gamecode/pr_offs.c   |   54 ------------------------------------
 qw/include/sv_progs.h     |    6 ++++
 qw/source/sv_ents.c       |   41 ++++++++++-----------------
 qw/source/sv_phys.c       |    1 -
 qw/source/sv_progs.c      |   58 ++++++++++++++++-----------------------
 9 files changed, 86 insertions(+), 151 deletions(-)

commit ade87c7
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Fri Mar 2 09:36:51 2001 +0000

    Woo, one more file builds cleanly...very few actual changes needed.

 tools/Forge/InspectorControl.m |   96 ++++++++++++++++++++--------------------
 1 file changed, 49 insertions(+), 47 deletions(-)

commit 1477212
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Fri Mar 2 09:13:35 2001 +0000

    Forge.m now builds cleanly. It probably doesn't work, I had to comment out
    a lot of PostScript-related code.

 tools/Forge/EntityClass.m        |    6 +-
 tools/Forge/Forge.m              |  235 +++++++++++++++++++++-----------------
 tools/Forge/GNUmakefile.preamble |    4 +-
 tools/Forge/Headers/Forge.h      |   80 ++++++-------
 4 files changed, 174 insertions(+), 151 deletions(-)

commit 1bd5d98
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Fri Mar 2 07:01:51 2001 +0000

    Compile fixes, we're getting a bit closer.

 tools/Forge/CameraView.m         |    9 +-
 tools/Forge/EntityClass.m        |    8 +-
 tools/Forge/Forge.m              |  495 ++++++++++++++++++--------------------
 tools/Forge/Forge_main.m         |   23 +-
 tools/Forge/GNUmakefile.preamble |   17 +-
 tools/Forge/Headers/Forge.h      |   21 +-
 tools/Forge/Headers/Map.h        |   32 +--
 tools/Forge/Headers/Project.h    |   70 +++---
 tools/Forge/Headers/qedefs.h     |   11 +-
 9 files changed, 342 insertions(+), 344 deletions(-)

commit ffc5838
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Mar 2 00:32:10 2001 +0000

    more debug changes. not there yet

 libs/gamecode/pr_edict.c |    1 +
 libs/gamecode/pr_exec.c  |    7 ++++---
 2 files changed, 5 insertions(+), 3 deletions(-)

commit c7d74c6
Author: Joseph Carter <knghtbrd@debian.org>
Date:   Fri Mar 2 00:29:35 2001 +0000

    Minor cleanup to download draw function.  More to do, this is just a good
    checkpoint before I make changes that may not work.

 qw/source/console.c |   76 ++++++++++++++++++++++++---------------------------
 1 file changed, 35 insertions(+), 41 deletions(-)

commit be8f1ce
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Mar 1 23:30:55 2001 +0000

    just some temporary debug info

 libs/gamecode/pr_exec.c |    4 +++-
 qw/source/sv_phys.c     |    1 +
 2 files changed, 4 insertions(+), 1 deletion(-)

commit 6f590ff
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Mar 1 23:03:40 2001 +0000

    forgot to change ev_function to ev_func in pr_edict and pr_exec was using the
    wrong time. weaponframe still not fixed, but static entities were fixed in the
    previous checkin

 libs/gamecode/pr_edict.c |    8 ++++----
 libs/gamecode/pr_exec.c  |    2 +-
 2 files changed, 5 insertions(+), 5 deletions(-)

commit 10e6b7a
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Mar 1 21:11:35 2001 +0000

    edict field access type checking :) Currently forced on, but it will become a
    configure option in the future

 include/pr_comp.h      |   11 ++++++++++-
 include/progs.h        |    2 +-
 qw/include/sv_progs.h  |    4 ++++
 qw/source/sv_move.c    |   10 +++++-----
 qw/source/sv_phys.c    |    6 +++---
 qw/source/sv_pr_cmds.c |    9 ++++++---
 qw/source/sv_send.c    |    2 +-
 qw/source/sv_user.c    |   12 ++++++------
 qw/source/world.c      |    4 ++--
 9 files changed, 38 insertions(+), 22 deletions(-)

commit 68220d1
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Mar 1 20:41:20 2001 +0000

    fix up packet logging for the new msg stuff

 qw/source/cl_main.c       |    2 +-
 qw/source/net_packetlog.c |  382 ++++++++++++++++++++++-----------------------
 2 files changed, 192 insertions(+), 192 deletions(-)

commit 4fcf770
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Mar 1 19:05:40 2001 +0000

    clean out unused fields

 qw/include/sv_progs.h |  124 ++++++++++++++++++++++---------------------------
 1 file changed, 56 insertions(+), 68 deletions(-)

commit ef38fd2
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Mar 1 18:44:19 2001 +0000

    progsdef.h is now used only for the PROGHEADER_CRC def. Much of the protocol
    still seems to be broken :(

 include/progs.h        |    2 +-
 qw/include/sv_progs.h  |   87 +++++++++++++-
 qw/source/sv_ccmds.c   |   28 ++---
 qw/source/sv_ents.c    |   66 +++++------
 qw/source/sv_init.c    |   20 ++--
 qw/source/sv_main.c    |    2 +-
 qw/source/sv_move.c    |   76 ++++++------
 qw/source/sv_phys.c    |  300 ++++++++++++++++++++++++------------------------
 qw/source/sv_pr_cmds.c |  146 +++++++++++------------
 qw/source/sv_progs.c   |   69 ++++++++++-
 qw/source/sv_send.c    |   68 +++++------
 qw/source/sv_user.c    |  140 +++++++++++-----------
 qw/source/world.c      |  124 ++++++++++----------
 13 files changed, 640 insertions(+), 488 deletions(-)

commit ad18afa
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Mar 1 08:34:30 2001 +0000

    really clean up global and function access. Unfortunatly, frames are still
    borked, at least for the view entity.

 include/progs.h          |   14 +++++---
 libs/gamecode/pr_edict.c |   14 ++++----
 libs/gamecode/pr_exec.c  |   12 +++----
 qw/include/sv_progs.h    |   85 ++++++++++++++++++++++++++++++++++++++++++++
 qw/source/sv_ccmds.c     |    2 +-
 qw/source/sv_ents.c      |    2 +-
 qw/source/sv_init.c      |   14 ++++----
 qw/source/sv_main.c      |   12 +++----
 qw/source/sv_move.c      |    4 +--
 qw/source/sv_phys.c      |   74 +++++++++++++++++++-------------------
 qw/source/sv_pr_cmds.c   |    2 +-
 qw/source/sv_progs.c     |   88 ++++++++++++++++++++++++++++++++++++++++++++--
 qw/source/sv_send.c      |    4 +--
 qw/source/sv_user.c      |   58 +++++++++++++++---------------
 qw/source/world.c        |   16 ++++-----
 15 files changed, 286 insertions(+), 115 deletions(-)

commit 1094e14
Author: Joseph Carter <knghtbrd@debian.org>
Date:   Thu Mar 1 07:42:28 2001 +0000

    COM_SkipPath now uses strrchr, it's much more readable now.

 nq/source/quakefs.c |   12 ++++++------
 qw/source/quakefs.c |   12 ++++++------
 2 files changed, 12 insertions(+), 12 deletions(-)

commit b2a53d4
Author: Joseph Carter <knghtbrd@debian.org>
Date:   Thu Mar 1 02:51:51 2001 +0000

    The download bar is now seperate from Con_DrawConsole.  This is currently
    not really for the best, but it will be soon.

 include/console.h     |    1 +
 nq/source/console.c   |    5 +++++
 qw/source/console.c   |   19 ++++++++++++++-----
 qw/source/gl_screen.c |    1 +
 qw/source/screen.c    |    1 +
 5 files changed, 22 insertions(+), 5 deletions(-)

commit c2213f2
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 28 23:35:20 2001 +0000

    must set the data field in ALL edicts, not just player edicts :)

 qw/source/sv_init.c |    7 ++++++-
 1 file changed, 6 insertions(+), 1 deletion(-)

commit cc43c91
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 28 23:33:16 2001 +0000

    fix classname field finding

 libs/gamecode/pr_edict.c |    6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit 63b990c
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 28 22:44:38 2001 +0000

    qw-server builds, but dies a sad death. I REALLY REALLY NEED to clean up my
    progs globals and edict fields accessors, but I'm not so sure that's the cause
    of the run-time error:
    
    SV_Error: SV_ModelIndex: model progs/player.mdl not precached
    Fatal error: SV_Error: SV_ModelIndex: model progs/player.mdl not precached
    
    I suspect I failed to find the spawn function.

 include/.gitignore       |    1 +
 include/progs.h          |   15 +-
 libs/gamecode/pr_edict.c |   20 ++-
 qw/include/progdefs.h    |  234 ++++++++++++++---------------
 qw/source/Makefile.am    |   10 +-
 qw/source/sv_ccmds.c     |   29 ++--
 qw/source/sv_ents.c      |   69 ++++-----
 qw/source/sv_init.c      |   69 +++++----
 qw/source/sv_main.c      |   13 +-
 qw/source/sv_move.c      |   80 +++++-----
 qw/source/sv_phys.c      |  373 +++++++++++++++++++++++-----------------------
 qw/source/sv_pr_cmds.c   |  147 +++++++++---------
 qw/source/sv_progs.c     |    7 +-
 qw/source/sv_send.c      |   69 ++++-----
 qw/source/sv_user.c      |  197 ++++++++++++------------
 qw/source/world.c        |  139 ++++++++---------
 16 files changed, 753 insertions(+), 719 deletions(-)

commit 9564680
Author: Joseph Carter <knghtbrd@debian.org>
Date:   Wed Feb 28 10:49:39 2001 +0000

    NQ's console is now identical to QW's, except for QW's download bar, which
    IMO doesn't belong there and will be moving.  Other things may be moving
    too, but I'm still debating them.

 nq/source/console.c |   71 ++++++++++++++++++++++++---------------------------
 qw/source/console.c |    1 -
 2 files changed, 33 insertions(+), 39 deletions(-)

commit 823be45
Author: Joseph Carter <knghtbrd@debian.org>
Date:   Wed Feb 28 10:21:38 2001 +0000

    Con_Print now does Sys_Printf and logging itself.  There was exactly one
    use of Con_Printf in the code and it was appropriate for logging anyway.
    As a result, Con_DPrintf now uses Con_Print directly for a slight speedup
    there having two layers of function calls and varargs parsing to get to
    the console.  Also ran the file through indent while I'm at it.

 qw/source/console.c |   50 ++++++++++++++++++++++++++++----------------------
 1 file changed, 28 insertions(+), 22 deletions(-)

commit 9c19882
Author: Joseph Carter <knghtbrd@debian.org>
Date:   Wed Feb 28 10:18:25 2001 +0000

    Cleaned up output of server print

 qw/source/cl_main.c |    1 -
 1 file changed, 1 deletion(-)

commit dfaf767
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 28 09:12:01 2001 +0000

    libqfgamecode now builds. Now for the fun part: getting qw and nq to work using
    the new setup.

 include/progs.h          |   19 +++++++--
 libs/gamecode/pr_edict.c |   96 +++++++++++++++++++++++++++-------------------
 libs/gamecode/pr_exec.c  |   24 ++++++------
 nq/source/sv_progs.c     |    1 +
 qw/source/sv_ents.c      |    2 -
 qw/source/sv_progs.c     |    3 ++
 6 files changed, 88 insertions(+), 57 deletions(-)

commit 0aa6110
Author: Joseph Carter <knghtbrd@debian.org>
Date:   Wed Feb 28 08:53:17 2001 +0000

    An evil (but temporary) hack.  NQ has no concept of ca_active.  This
    should change to fix a few outstanding NQ bugs at some point, but in the
    meantime it has been defined to be the same as ca_connected.  Yeah, that's
    damned evil.  It's been clearly marked and WILL go away when not needed.

 nq/include/client.h |    4 ++++
 1 file changed, 4 insertions(+)

commit b5d86d5
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 28 02:25:03 2001 +0000

    pr_edict.c is closer to compiling and has been re-indented

 include/progs.h          |    1 +
 libs/gamecode/pr_edict.c |  188 +++++++++++++++++++++++++---------------------
 2 files changed, 102 insertions(+), 87 deletions(-)

commit 9f2dacd
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 28 01:59:31 2001 +0000

    re-think edict_t. this is going to massivly break things for a while, but
    tough, progs should never have known about entity_state_t in the first place.
    Nor should it have been mod spefic.

 include/pr_comp.h        |  189 ++++++++++++++++++++++++++++++++++++++++++++++
 include/progs.h          |   11 +--
 include/va.h             |   42 +++++++++++
 libs/gamecode/pr_comp.h  |  189 ----------------------------------------------
 libs/gamecode/pr_edict.c |   21 ++----
 nq/include/va.h          |   42 -----------
 qw/include/va.h          |   42 -----------
 7 files changed, 239 insertions(+), 297 deletions(-)

commit e5543eb
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 28 00:56:03 2001 +0000

    next step of the progs merge done. just need to sort out interdependencies,
    fix PR_SetString, and a few other things.

 include/progs.h           |  227 +++++++++
 libs/gamecode/.gitignore  |    1 +
 libs/gamecode/Makefile.am |    2 +-
 libs/gamecode/pr_comp.h   |  189 +++++++
 libs/gamecode/pr_edict.c  | 1153 +++++++++++++++++++++++++++++++++++++++++
 libs/gamecode/pr_exec.c   |  993 ++++++++++++++++++++++++++++++++++++
 libs/gamecode/pr_offs.c   |   54 ++
 nq/include/pr_comp.h      |  186 -------
 nq/include/progs.h        |  231 ---------
 nq/source/pr_edict.c      | 1240 ---------------------------------------------
 nq/source/pr_exec.c       |  993 ------------------------------------
 nq/source/pr_offs.c       |   54 --
 nq/source/sv_progs.c      |   52 +-
 qw/include/pr_comp.h      |  189 -------
 qw/include/progs.h        |  231 ---------
 qw/source/pr_edict.c      | 1145 -----------------------------------------
 qw/source/pr_exec.c       |  993 ------------------------------------
 qw/source/pr_offs.c       |   54 --
 qw/source/sv_progs.c      |    8 +
 19 files changed, 2676 insertions(+), 5319 deletions(-)

commit 38e70e9
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 27 23:02:17 2001 +0000

    the beginnings of merged progs code

 configure.in              |    1 +
 libs/Makefile.am          |    2 +-
 libs/gamecode/.gitignore  |    3 +++
 libs/gamecode/Makefile.am |    8 ++++++++
 4 files changed, 13 insertions(+), 1 deletion(-)

commit 25f8a50
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Tue Feb 27 21:18:27 2001 +0000

    Okay, that was stupid. ProjectCenter isn't good enough yet, so I'm back to
    writing makefiles by hand.
    
    Add a makefile preamble to set up our flags.
    
    Compartmentalize all the headers into a Headers/ dir.

 tools/Forge/Brush.h                    |   55 ----------
 tools/Forge/CameraView.h               |   64 ------------
 tools/Forge/Clipper.h                  |   24 -----
 tools/Forge/Dict.h                     |   47 ---------
 tools/Forge/Entity.h                   |   40 --------
 tools/Forge/EntityArray.h              |   17 ---
 tools/Forge/EntityClass.h              |   27 -----
 tools/Forge/Forge.h                    |   97 -----------------
 tools/Forge/GNUmakefile                |  177 +++++++++++++++++---------------
 tools/Forge/GNUmakefile.preamble       |   26 +++++
 tools/Forge/Headers/Brush.h            |   55 ++++++++++
 tools/Forge/Headers/CameraView.h       |   64 ++++++++++++
 tools/Forge/Headers/Clipper.h          |   24 +++++
 tools/Forge/Headers/Dict.h             |   47 +++++++++
 tools/Forge/Headers/Entity.h           |   40 ++++++++
 tools/Forge/Headers/EntityArray.h      |   17 +++
 tools/Forge/Headers/EntityClass.h      |   27 +++++
 tools/Forge/Headers/Forge.h            |   97 +++++++++++++++++
 tools/Forge/Headers/InspectorControl.h |   71 +++++++++++++
 tools/Forge/Headers/KeypairView.h      |   16 +++
 tools/Forge/Headers/Map.h              |   68 ++++++++++++
 tools/Forge/Headers/PopScrollView.h    |   11 ++
 tools/Forge/Headers/Preferences.h      |   78 ++++++++++++++
 tools/Forge/Headers/Project.h          |  108 +++++++++++++++++++
 tools/Forge/Headers/SetBrush.h         |  158 ++++++++++++++++++++++++++++
 tools/Forge/Headers/TexturePalette.h   |  113 ++++++++++++++++++++
 tools/Forge/Headers/TextureView.h      |   12 +++
 tools/Forge/Headers/Things.h           |   42 ++++++++
 tools/Forge/Headers/UserPath.h         |   72 +++++++++++++
 tools/Forge/Headers/XYView.h           |   66 ++++++++++++
 tools/Forge/Headers/ZScrollView.h      |   11 ++
 tools/Forge/Headers/ZView.h            |   42 ++++++++
 tools/Forge/Headers/cmdlib.h           |  116 +++++++++++++++++++++
 tools/Forge/Headers/mathlib.h          |   67 ++++++++++++
 tools/Forge/Headers/qedefs.h           |   58 +++++++++++
 tools/Forge/Headers/render.h           |   13 +++
 tools/Forge/InspectorControl.h         |   71 -------------
 tools/Forge/KeypairView.h              |   16 ---
 tools/Forge/Map.h                      |   68 ------------
 tools/Forge/PC.project                 |  115 ---------------------
 tools/Forge/PopScrollView.h            |   11 --
 tools/Forge/Preferences.h              |   78 --------------
 tools/Forge/Project.h                  |  108 -------------------
 tools/Forge/SetBrush.h                 |  158 ----------------------------
 tools/Forge/TexturePalette.h           |  113 --------------------
 tools/Forge/TextureView.h              |   12 ---
 tools/Forge/Things.h                   |   42 --------
 tools/Forge/UserPath.h                 |   72 -------------
 tools/Forge/XYView.h                   |   66 ------------
 tools/Forge/ZScrollView.h              |   11 --
 tools/Forge/ZView.h                    |   42 --------
 tools/Forge/cmdlib.h                   |  116 ---------------------
 tools/Forge/mathlib.h                  |   67 ------------
 tools/Forge/qedefs.h                   |   58 -----------
 tools/Forge/render.h                   |   13 ---
 55 files changed, 1615 insertions(+), 1689 deletions(-)

commit e21ff35
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Tue Feb 27 20:44:53 2001 +0000

    Update cmdlib.c to be in sync with qfcc

 tools/Forge/cmdlib.c |  753 +++++++++++++++++++++++++-------------------------
 1 file changed, 379 insertions(+), 374 deletions(-)

commit 01f4df0
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Tue Feb 27 19:48:21 2001 +0000

    Continuing work: Forge.* builds a little further.

 tools/Forge/Forge.h |    5 +-
 tools/Forge/Forge.m |  137 +++++++++++++++++++++++++--------------------------
 2 files changed, 68 insertions(+), 74 deletions(-)

commit 5996198
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Tue Feb 27 19:28:22 2001 +0000

    NSPoints are not passed by reference.

 tools/Forge/ZView.h |    6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit acb42de
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Tue Feb 27 19:27:03 2001 +0000

    whitespace.

 tools/Forge/TexturePalette.m |   10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit 7e14a0f
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 27 19:05:05 2001 +0000

    clean up RETURN_EDICT and RETURN_STRING definitions to be both easier to read
    and more correct for aliasing (and int size dependence, too:).

 nq/source/pr_cmds.c    |    2 +-
 qw/source/sv_pr_cmds.c |    4 ++--
 2 files changed, 3 insertions(+), 3 deletions(-)

commit ea464d5
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 27 08:21:40 2001 +0000

    new operand handling from nq

 qw/source/pr_exec.c |  419 ++++++++++++++++++++++++++-------------------------
 1 file changed, 215 insertions(+), 204 deletions(-)

commit 8f0272c
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 27 05:37:35 2001 +0000

    fix some indent braindamage.
    change OP[ABC] to E_OP[ABC] and add OP[ABC] as the non-cast version.

 nq/source/pr_exec.c |  622 +++++++++++++++++++++++++--------------------------
 1 file changed, 311 insertions(+), 311 deletions(-)

commit 2367b0d
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 26 20:52:14 2001 +0000

    initial work at bringing nq's progs code up-to-snuff with qw's. Doesn't work
    yet :( nq segs due to either mangled strings or mangled functions, not sure
    yet.

 nq/include/progs.h    |  194 +++++++----
 nq/include/server.h   |    8 +-
 nq/source/Makefile.am |    4 +-
 nq/source/host.c      |   18 +-
 nq/source/host_cmd.c  |  217 +++++++------
 nq/source/net_dgrm.c  |    6 +-
 nq/source/pr_cmds.c   |  770 +++++++++++++++++++++----------------------
 nq/source/pr_edict.c  |  581 +++++++++++++++++++--------------
 nq/source/pr_exec.c   |  863 +++++++++++++++++++++++++++++++++----------------
 nq/source/pr_offs.c   |   54 ++++
 nq/source/sv_main.c   |  232 ++++++-------
 nq/source/sv_move.c   |   89 ++---
 nq/source/sv_phys.c   |  693 ++++++++++++++++++++-------------------
 nq/source/sv_progs.c  |  160 +++++++++
 nq/source/sv_user.c   |   76 ++---
 nq/source/world.c     |  149 ++++-----
 16 files changed, 2461 insertions(+), 1653 deletions(-)

commit f6d0477
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 26 17:39:32 2001 +0000

    all -snd* params and environment checking have been removed from the sound
    subsystem in favor of Cvars*. These new cvars are:
     o  snd_device  defaults to "" which selects the default device of the system
        (eg, plug:0,0 for ALSA 0.9 or /dev/dsp for OSS)
     o  snd_rate    defaults to 0 which selects the system default rate.
     o  snd_bits    defaults to 0 which selects the system default bit depth.
     o  snd_stereo  defaults to 1 (0 is mono)
    
    * actually, not that thorough: alsa and oss only. The rest have just ws :/

 qw/include/sound.h       |    4 +
 qw/source/snd_alsa_0_5.c |   26 ++--
 qw/source/snd_alsa_0_9.c |  347 +++++++++++++++++++++++-----------------------
 qw/source/snd_dma.c      |   83 ++++++++---
 qw/source/snd_mem.c      |    9 +-
 qw/source/snd_mix.c      |   68 ++++-----
 qw/source/snd_null.c     |    3 +-
 qw/source/snd_oss.c      |   71 +++++-----
 qw/source/snd_sun.c      |    2 +-
 qw/source/snd_win.c      |   77 +++++-----
 10 files changed, 367 insertions(+), 323 deletions(-)

commit 95e5b5e
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 26 17:12:13 2001 +0000

    all -snd* params and environment checking have been removed from the sound
    subsystem in favor of Cvars. These new cvars are:
     o  snd_device  defaults to "" which selects the default device of the system
        (eg, plug:0,0 for ALSA 0.9 or /dev/dsp for OSS)
     o  snd_rate    defaults to 0 which selects the system default rate.
     o  snd_bits    defaults to 0 which selects the system default bit depth.
     o  snd_stereo  defaults to 1 (0 is mono)

 nq/include/sound.h       |    4 +++
 nq/source/snd_alsa_0_5.c |   19 +++++--------
 nq/source/snd_alsa_0_9.c |   24 +++++++----------
 nq/source/snd_dma.c      |   12 +++++++++
 nq/source/snd_oss.c      |   66 ++++++++++++++++++++--------------------------
 5 files changed, 60 insertions(+), 65 deletions(-)

commit 1fce1ea
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 26 06:48:02 2001 +0000

    run indent over all the .c files using qw's .indent.pro. The real reason for
    this is I mistakenly did so while making some other changes (which I made sure
    were NOT in the checkin:)

 nq/source/.indent.pro           |  205 ++++
 nq/source/cd_dos.c              |  569 +++++----
 nq/source/cd_linux.c            |  279 +++--
 nq/source/cd_null.c             |   23 +-
 nq/source/cd_win.c              |  397 ++++---
 nq/source/cl_cam.c              |   68 +-
 nq/source/cl_cmd.c              |   21 +-
 nq/source/cl_demo.c             |  193 ++-
 nq/source/cl_input.c            |  520 ++++++---
 nq/source/cl_main.c             |  613 +++++-----
 nq/source/cl_parse.c            |  656 +++++------
 nq/source/cl_tent.c             |  225 ++--
 nq/source/com.c                 |   50 +-
 nq/source/conproc.c             |  295 +++--
 nq/source/console.c             |   56 +-
 nq/source/context_x11.c         |  187 ++-
 nq/source/d_edge.c              |  237 ++--
 nq/source/d_fill.c              |   49 +-
 nq/source/d_init.c              |   64 +-
 nq/source/d_modech.c            |   44 +-
 nq/source/d_part.c              |  107 +-
 nq/source/d_polyse.c            |  687 ++++++-----
 nq/source/d_scan.c              |  356 +++---
 nq/source/d_sky.c               |   81 +-
 nq/source/d_sprite.c            |  253 ++--
 nq/source/d_surf.c              |  198 ++--
 nq/source/d_vars.c              |   23 +-
 nq/source/d_zpoint.c            |   17 +-
 nq/source/dga_check.c           |   33 +-
 nq/source/dirent.c              |  370 +++---
 nq/source/dos_v2.c              |  183 +--
 nq/source/draw.c                |  660 +++++------
 nq/source/fnmatch.c             |  286 +++--
 nq/source/game.c                |    5 +-
 nq/source/gib.c                 |   79 +-
 nq/source/gib_instructions.c    |  203 ++--
 nq/source/gib_interpret.c       |  143 +--
 nq/source/gib_modules.c         |  141 +--
 nq/source/gib_parse.c           |  187 ++-
 nq/source/gib_stack.c           |   49 +-
 nq/source/gib_vars.c            |   55 +-
 nq/source/gl_draw.c             | 1037 +++++++++--------
 nq/source/gl_mesh.c             |   36 +-
 nq/source/gl_model_alias.c      |  214 ++--
 nq/source/gl_model_brush.c      |   55 +-
 nq/source/gl_model_fullbright.c |   29 +-
 nq/source/gl_model_sprite.c     |   23 +-
 nq/source/gl_part.c             |  251 ++--
 nq/source/gl_refrag.c           |  135 +--
 nq/source/gl_rlight.c           |  348 +++---
 nq/source/gl_rmain.c            |  716 ++++++------
 nq/source/gl_rmisc.c            |  444 +++----
 nq/source/gl_rsurf.c            |  992 ++++++++--------
 nq/source/gl_screen.c           |  647 ++++++-----
 nq/source/gl_view.c             |   71 +-
 nq/source/gl_warp.c             |  777 +++++++------
 nq/source/host.c                |  635 +++++-----
 nq/source/host_cmd.c            | 1259 ++++++++++----------
 nq/source/in_dos.c              |  534 +++++----
 nq/source/in_null.c             |   19 +-
 nq/source/in_sdl.c              |  462 ++++----
 nq/source/in_sun.c              |  162 +--
 nq/source/in_svgalib.c          |   11 +-
 nq/source/in_win.c              |  973 ++++++++--------
 nq/source/in_x11.c              |  246 ++--
 nq/source/joy_linux.c           |   47 +-
 nq/source/joy_null.c            |   22 +-
 nq/source/keys.c                |  257 ++--
 nq/source/mathlib.c             |  499 ++++----
 nq/source/menu.c                | 2412 +++++++++++++++++++-------------------
 nq/source/model.c               |  124 +-
 nq/source/model_alias.c         |   99 +-
 nq/source/model_brush.c         |  672 ++++++-----
 nq/source/model_sprite.c        |   95 +-
 nq/source/mplib.c               |  175 +--
 nq/source/mplpc.c               | 1259 ++++++++++----------
 nq/source/net_bsd.c             |  111 +-
 nq/source/net_bw.c              |  614 +++++-----
 nq/source/net_comx.c            | 1010 ++++++++--------
 nq/source/net_dgrm.c            | 1274 ++++++++++----------
 nq/source/net_dos.c             |  230 ++--
 nq/source/net_ipx.c             |  551 ++++-----
 nq/source/net_loop.c            |  128 +-
 nq/source/net_main.c            |  673 ++++++-----
 nq/source/net_mp.c              |  302 ++---
 nq/source/net_none.c            |   38 +-
 nq/source/net_ser.c             |  720 ++++++------
 nq/source/net_udp.c             |  264 +++--
 nq/source/net_vcr.c             |   91 +-
 nq/source/net_win.c             |  154 ++-
 nq/source/net_wins.c            |  472 ++++----
 nq/source/net_wipx.c            |  292 ++---
 nq/source/nonintel.c            |   12 +-
 nq/source/pr_cmds.c             | 1768 ++++++++++++++--------------
 nq/source/pr_edict.c            |  899 +++++++-------
 nq/source/pr_exec.c             |  900 +++++++-------
 nq/source/quakefs.c             |  587 +++++-----
 nq/source/quakeio.c             |  198 ++--
 nq/source/r_aclip.c             |  282 +++--
 nq/source/r_alias.c             |  483 ++++----
 nq/source/r_bsp.c               |  440 +++----
 nq/source/r_draw.c              |  530 ++++-----
 nq/source/r_edge.c              |  459 ++++----
 nq/source/r_efrag.c             |  168 ++-
 nq/source/r_light.c             |  176 ++-
 nq/source/r_main.c              |  883 +++++++-------
 nq/source/r_misc.c              |  286 ++---
 nq/source/r_part.c              |  629 +++++-----
 nq/source/r_sky.c               |  216 ++--
 nq/source/r_sprite.c            |  276 ++---
 nq/source/r_surf.c              |  464 ++++----
 nq/source/r_vars.c              |    5 +-
 nq/source/r_view.c              |  566 ++++-----
 nq/source/sbar.c                |  540 +++++----
 nq/source/screen.c              |  714 ++++++------
 nq/source/snd_alsa_0_5.c        |  346 +++---
 nq/source/snd_alsa_0_9.c        |  258 +++--
 nq/source/snd_dma.c             |  755 ++++++------
 nq/source/snd_dos.c             |  536 +++++----
 nq/source/snd_gus.c             | 1794 ++++++++++++++--------------
 nq/source/snd_mem.c             |  265 +++--
 nq/source/snd_mix.c             |  336 +++---
 nq/source/snd_next.c            |   29 +-
 nq/source/snd_null.c            |   62 +-
 nq/source/snd_oss.c             |  246 ++--
 nq/source/snd_sdl.c             |   93 +-
 nq/source/snd_sun.c             |  138 +--
 nq/source/snd_win.c             |  493 ++++----
 nq/source/sv_ded.c              |   47 +-
 nq/source/sv_main.c             |  769 ++++++------
 nq/source/sv_move.c             |  310 +++--
 nq/source/sv_phys.c             | 1081 ++++++++---------
 nq/source/sv_user.c             |  498 ++++----
 nq/source/sw_model_alias.c      |  206 ++--
 nq/source/sw_model_brush.c      |   10 +-
 nq/source/sw_model_sprite.c     |   42 +-
 nq/source/sw_part.c             |   96 +-
 nq/source/sw_view.c             |  103 +-
 nq/source/sys_dos.c             |  783 ++++++-------
 nq/source/sys_null.c            |  144 ++-
 nq/source/sys_sun.c             |  411 +++----
 nq/source/sys_unix.c            |  355 +++---
 nq/source/sys_unixd.c           |  289 ++---
 nq/source/sys_win.c             |  637 +++++-----
 nq/source/sys_wind.c            |  221 ++--
 nq/source/vid.c                 |   48 +-
 nq/source/vid_3dfxsvga.c        |  177 +--
 nq/source/vid_common_gl.c       |  233 ++--
 nq/source/vid_dos.c             |  473 ++++----
 nq/source/vid_ext.c             |  631 +++++-----
 nq/source/vid_glx.c             |   40 +-
 nq/source/vid_mgl.c             | 2445 ++++++++++++++++++---------------------
 nq/source/vid_null.c            |   48 +-
 nq/source/vid_sdl.c             |  241 ++--
 nq/source/vid_sgl.c             |  104 +-
 nq/source/vid_sunx.c            | 1484 +++++++++++++-----------
 nq/source/vid_sunxil.c          | 1273 +++++++++++---------
 nq/source/vid_svgalib.c         |  466 ++++----
 nq/source/vid_vga.c             |  297 +++--
 nq/source/vid_wgl.c             | 1460 +++++++++++------------
 nq/source/vid_win.c             | 2429 ++++++++++++++++++--------------------
 nq/source/vid_x11.c             |  646 ++++++-----
 nq/source/vregset.c             |   54 +-
 nq/source/wad.c                 |  120 +-
 nq/source/world.c               |  594 +++++-----
 165 files changed, 33784 insertions(+), 33841 deletions(-)

commit a23e18e
Author: Bill Currie <bill@taniwha.org>
Date:   Sun Feb 25 23:18:23 2001 +0000

    strip tabs and `TODOize' the directory tree, marking those dirs I consider to
    be basicly done as such.

 TODO |  136 +++++++++++++++++++++++++++++++++---------------------------------
 1 file changed, 69 insertions(+), 67 deletions(-)

commit 4723086
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Sat Feb 24 08:38:47 2001 +0000

    More comment updates! Flee in terror! (Right into the maw of that shambler behind you!)

 nq/source/snd_alsa_0_5.c |    4 ++--
 nq/source/snd_alsa_0_9.c |    4 ++--
 qw/source/snd_alsa_0_5.c |    4 ++--
 qw/source/snd_alsa_0_9.c |    4 ++--
 4 files changed, 8 insertions(+), 8 deletions(-)

commit 2dd0387
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Sat Feb 24 06:58:54 2001 +0000

    QFCC -- the QuakeForge Code Compiler -- an autoconfiscated qcc.
    It sucks, but it works, and will form the basis for something that Does
    Not Suck.

 tools/qfcc/AUTHORS             |    6 +
 tools/qfcc/Makefile.am         |   53 +++
 tools/qfcc/acconfig.h          |    8 +
 tools/qfcc/bootstrap           |    2 +
 tools/qfcc/configure.in        |   55 +++
 tools/qfcc/doc/man/qfcc.1      |   55 +++
 tools/qfcc/include/Makefile.am |    3 +
 tools/qfcc/include/cmdlib.h    |  116 +++++
 tools/qfcc/include/config.h.in |   20 +
 tools/qfcc/include/pr_comp.h   |  179 ++++++++
 tools/qfcc/include/qfcc.h      |  455 +++++++++++++++++++
 tools/qfcc/qfcc.lsm.in         |   19 +
 tools/qfcc/source/.indent.pro  |   25 ++
 tools/qfcc/source/Makefile.am  |   35 ++
 tools/qfcc/source/cmdlib.c     |  891 ++++++++++++++++++++++++++++++++++++++
 tools/qfcc/source/pr_comp.c    |  939 ++++++++++++++++++++++++++++++++++++++++
 tools/qfcc/source/pr_lex.c     |  673 ++++++++++++++++++++++++++++
 tools/qfcc/source/qfcc.c       |  816 ++++++++++++++++++++++++++++++++++
 18 files changed, 4350 insertions(+)

commit df916ef
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Feb 24 06:38:01 2001 +0000

    fix up the support for -<game>

 nq/include/game.h     |    2 +
 nq/source/Makefile.am |    2 +-
 nq/source/game.c      |   57 ++++++++++++++++
 nq/source/host.c      |    2 +
 nq/source/qargs.c     |  173 -------------------------------------------------
 5 files changed, 62 insertions(+), 174 deletions(-)

commit a457cfb
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Feb 24 04:40:49 2001 +0000

    rev the version number to the devel series

 configure.in            |    2 +-
 include/win32/version.h |    2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 4b1f10d
Author: Bill Currie <bill@taniwha.org>
Date:   Sat Feb 24 04:25:27 2001 +0000

    fix the problem with getting kicked from tf/megatf servers for changing teams.
    Got the `changed' test backwards.

 libs/util/cvar.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 2bfeed6
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Feb 23 23:16:13 2001 +0000

    looks like utils is more or less complete for now, except for some fixes in
    nq for abyss etc (ie, the magical -<mod> args).
    The interface to the message subsystem got a revamp and all the mods to the .c
    files reflect this. currently a little ugly, but I plan on abstracting msg
    further to clean it up and make it more oo.

 include/info.h        |   49 ++++++
 include/link.h        |   47 ++++++
 include/msg.h         |   63 ++++++++
 libs/.gitignore       |    1 +
 libs/util/.gitignore  |    1 +
 libs/util/Makefile.am |    2 +-
 libs/util/info.c      |  294 +++++++++++++++++++++++++++++++++++
 libs/util/link.c      |   65 ++++++++
 libs/util/msg.c       |  315 ++++++++++++++++++++++++++++++++++++++
 libs/util/qargs.c     |  152 +++++++++++++++++++
 libs/util/qendian.c   |  108 +++++++++++++
 nq/include/info.h     |   43 ------
 nq/include/link.h     |   47 ------
 nq/include/msg.h      |   64 --------
 nq/include/net.h      |    2 +-
 nq/source/Makefile.am |    4 +-
 nq/source/cl_demo.c   |   20 +--
 nq/source/cl_parse.c  |  168 ++++++++++----------
 nq/source/cl_tent.c   |   98 ++++++------
 nq/source/link.c      |   60 --------
 nq/source/msg.c       |  265 --------------------------------
 nq/source/net_dgrm.c  |  324 +++++++++++++++++++--------------------
 nq/source/net_loop.c  |    5 +-
 nq/source/net_main.c  |   11 +-
 nq/source/net_vcr.c   |    5 +-
 nq/source/qendian.c   |  105 -------------
 nq/source/r_part.c    |    8 +-
 nq/source/r_view.c    |    6 +-
 nq/source/sv_user.c   |   24 +--
 qw/include/info.h     |   49 ------
 qw/include/link.h     |   47 ------
 qw/include/msg.h      |   64 --------
 qw/include/msg_ucmd.h |   38 +++++
 qw/include/net.h      |    2 +-
 qw/source/Makefile.am |    4 +-
 qw/source/cl_demo.c   |   24 +--
 qw/source/cl_ents.c   |   81 +++++-----
 qw/source/cl_input.c  |    1 +
 qw/source/cl_main.c   |   22 +--
 qw/source/cl_parse.c  |  172 ++++++++++-----------
 qw/source/cl_tent.c   |   72 ++++-----
 qw/source/info.c      |  294 -----------------------------------
 qw/source/link.c      |   65 --------
 qw/source/msg.c       |  404 -------------------------------------------------
 qw/source/msg_ucmd.c  |  130 ++++++++++++++++
 qw/source/net_chan.c  |   10 +-
 qw/source/net_udp.c   |   14 +-
 qw/source/net_udp6.c  |   12 +-
 qw/source/qargs.c     |  156 -------------------
 qw/source/qendian.c   |  108 -------------
 qw/source/r_view.c    |    6 +-
 qw/source/sv_ents.c   |    1 +
 qw/source/sv_main.c   |   34 ++---
 qw/source/sv_user.c   |   39 ++---
 54 files changed, 1857 insertions(+), 2348 deletions(-)

commit b4cbb49
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Feb 23 20:26:01 2001 +0000

    forgot to update the alsa version test

 configure.in |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 981d067
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Feb 23 18:31:48 2001 +0000

    merge qw's net_com.c and checksum.c (net_com.c was identitcle to nq's
    checksum.c) and then move the resutlting checksum.c into libs/utils
    ditching nq's. Due to net_com.c, qw's libqfnet.a will need to be deleted or
    you will get duplicate symbol link errors. Also merge crc.[ch] and move
    qfplits.[ch] to their final homes. Also, remove a slightly overzealous use
    of "static" in qfplist.[ch].

 include/checksum.h    |   38 +++++
 include/crc.h         |   39 +++++
 include/qfplist.h     |  102 ++++++++++++
 libs/util/Makefile.am |    2 +-
 libs/util/checksum.c  |  167 +++++++++++++++++++
 libs/util/crc.c       |  105 ++++++++++++
 libs/util/qfplist.c   |  436 ++++++++++++++++++++++++++++++++++++++++++++++++
 nq/include/checksum.h |   34 ----
 nq/include/crc.h      |   38 -----
 nq/source/Makefile.am |    4 +-
 nq/source/checksum.c  |   54 ------
 nq/source/crc.c       |   91 ----------
 qw/include/checksum.h |   39 -----
 qw/include/crc.h      |   39 -----
 qw/include/qfplist.h  |  102 ------------
 qw/source/Makefile.am |    8 +-
 qw/source/checksum.c  |  188 ---------------------
 qw/source/crc.c       |  105 ------------
 qw/source/net_com.c   |   55 ------
 qw/source/qfplist.c   |  445 -------------------------------------------------
 20 files changed, 894 insertions(+), 1197 deletions(-)

commit 265680d
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Feb 23 06:36:19 2001 +0000

    snd_alsa_0_9.c now works on my cards. Hope it still works for Despair.

 nq/source/snd_alsa_0_9.c |    8 ++++----
 qw/source/snd_alsa_0_9.c |    8 ++++----
 2 files changed, 8 insertions(+), 8 deletions(-)

commit efad87a
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Fri Feb 23 05:44:57 2001 +0000

    Fiend is getting full, but I force fed it some more typos anyways.

 nq/include/render.h   |    2 +-
 nq/source/snd_dma.c   |    2 +-
 qw/include/client.h   |    2 +-
 qw/include/protocol.h |    6 +++---
 qw/include/render.h   |    2 +-
 5 files changed, 7 insertions(+), 7 deletions(-)

commit 00cf07b
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Fri Feb 23 05:32:06 2001 +0000

    More misspellings messily dispatched.

 include/cmd.h |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f50f4a7
Author: Joseph Carter <knghtbrd@debian.org>
Date:   Fri Feb 23 00:49:59 2001 +0000

    Cleared the NEWS file - what was there didn't even apply to newtree it was
    so old.

 NEWS |  204 ++----------------------------------------------------------------
 1 file changed, 4 insertions(+), 200 deletions(-)

commit 7227f77
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Feb 22 20:51:51 2001 +0000

    as alsa 0.6 never came out, ditch it and add 0.9 support (thanks, Abramo)

 configure.in             |    6 +-
 nq/source/Makefile.am    |    6 +-
 nq/source/snd_alsa_0_6.c |  356 ----------------------------------------------
 nq/source/snd_alsa_0_9.c |  308 +++++++++++++++++++++++++++++++++++++++
 qw/source/Makefile.am    |    6 +-
 qw/source/snd_alsa_0_6.c |  354 ---------------------------------------------
 qw/source/snd_alsa_0_9.c |  308 +++++++++++++++++++++++++++++++++++++++
 7 files changed, 625 insertions(+), 719 deletions(-)

commit 61ab8c2
Author: Timothy C. McGrath <tmhikaru@gmail.com>
Date:   Thu Feb 22 20:39:37 2001 +0000

    swspeed.cfg is speed cfg for software clients (-x11 -svga) however it is
    not well tested, and needs someone to bash it over the head a few times.
    If you routinely use the software clients, please find out what in this
    file works for you, and let me know.
    
    Misty

 doc/config/swspeed.cfg |   49 ++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 49 insertions(+)

commit 721c7da
Author: Timothy C. McGrath <tmhikaru@gmail.com>
Date:   Thu Feb 22 19:23:11 2001 +0000

    My glspeed.cfg, which I promise to incrementally upgrade as I get
    feedback. This will produce tremendous speed increases with gl cards, so
    long as you are willing to sacrifice eyecandy.
    
    Misty

 doc/config/glspeed.cfg |   87 ++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 87 insertions(+)

commit 5c7b50a
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Feb 22 19:06:56 2001 +0000

    add an item for doublesize modes

 TODO |    1 +
 1 file changed, 1 insertion(+)

commit 07ae0ed
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Feb 22 19:00:34 2001 +0000

    fix broken ipv6 address field

 qw/include/net.h |    4 ++++
 1 file changed, 4 insertions(+)

commit 3d35af0
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Feb 22 17:06:12 2001 +0000

    add reporting of compression support

 configure.in |    1 +
 1 file changed, 1 insertion(+)

commit 42e52a7
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Feb 22 16:53:15 2001 +0000

    %s/libutil.a/libqfutil.a/g due to name space clash found when linking SDL.
    
    New naming convention, all libs will be libqf<subsys>.a (should we instead
    use libQF<subsys>.a?). The .so libs, when we get to them, will have to be
    sorted out then.

 libs/util/Makefile.am |    8 ++++----
 nq/source/Makefile.am |    4 ++--
 qw/source/Makefile.am |    8 ++++----
 3 files changed, 10 insertions(+), 10 deletions(-)

commit 7516666
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Feb 22 08:12:13 2001 +0000

    libutil.a is now used by both qw and nq

 libs/Makefile.am      |    3 +
 libs/util/Makefile.am |    5 +
 libs/util/cvar.c      |   12 +-
 libs/util/sizebuf.c   |   11 +
 nq/source/Makefile.am |   33 +-
 nq/source/cl_cmd.c    |   84 ++++
 nq/source/cmd.c       | 1027 -------------------------------------------------
 nq/source/cvar.c      |  502 ------------------------
 nq/source/host.c      |    2 +
 nq/source/mdfour.c    |  258 -------------
 nq/source/sizebuf.c   |   90 -----
 nq/source/sv_cvar.c   |   48 +++
 nq/source/va.c        |   55 ---
 nq/source/zone.c      |  680 --------------------------------
 qw/source/Makefile.am |   31 +-
 qw/source/cl_cmd.c    |    2 +-
 qw/source/cmd.c       |  944 ---------------------------------------------
 qw/source/cvar.c      |  547 --------------------------
 qw/source/hash.c      |  135 -------
 qw/source/mdfour.c    |  258 -------------
 qw/source/sizebuf.c   |   95 -----
 qw/source/va.c        |   56 ---
 qw/source/zone.c      |  680 --------------------------------
 23 files changed, 197 insertions(+), 5361 deletions(-)

commit 9aa50a8
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Feb 22 04:46:59 2001 +0000

    clean up the mess caused by attempting to merge cmd.[ch]. When taken further,
    this might give us nice controlability of when cvars can be changed.

 include/cmd.h                |    5 +----
 libs/util/cmd.c              |   12 +++++++-----
 nq/source/cl_demo.c          |    2 +-
 nq/source/cl_parse.c         |    2 +-
 nq/source/cmd.c              |    8 ++++----
 nq/source/gib_instructions.c |    4 ++--
 nq/source/host_cmd.c         |    2 +-
 nq/source/sv_main.c          |    2 +-
 nq/source/sv_user.c          |    2 +-
 qw/source/cl_parse.c         |    2 +-
 qw/source/cmd.c              |   12 +++++++-----
 qw/source/sv_main.c          |    4 ++--
 12 files changed, 29 insertions(+), 28 deletions(-)

commit d1313df
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Feb 22 04:13:53 2001 +0000

    update configure.in for the new location of win32/version.h

 configure.in |    3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit be07568
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Feb 22 04:10:24 2001 +0000

    move the win32 includes to the top level using qw's stuff

 include/win32/bc/borland.c               |   76 ++++++++
 include/win32/bc/config.h                |  294 ++++++++++++++++++++++++++++
 include/win32/fnmatch.h                  |   70 +++++++
 include/win32/mingw/config.h             |  295 +++++++++++++++++++++++++++++
 include/win32/resources/icon1.ico        |  Bin 0 -> 4710 bytes
 include/win32/resources/quakeforge.rc    |   74 ++++++++
 include/win32/resources/resource.h       |   45 +++++
 include/win32/vc/config.h                |  305 ++++++++++++++++++++++++++++++
 include/win32/vc/dirent.h                |  104 ++++++++++
 include/win32/version.h                  |   37 ++++
 include/win32/version.h.in               |   37 ++++
 nq/include/win32/bc/borland.c            |   78 --------
 nq/include/win32/bc/config.h             |  284 ----------------------------
 nq/include/win32/fnmatch.h               |   70 -------
 nq/include/win32/vc/config.h             |  277 ---------------------------
 nq/include/win32/vc/dirent.h             |  104 ----------
 nq/include/win32/version.h               |   37 ----
 nq/include/win32/version.h.in            |   37 ----
 qw/include/win32/bc/borland.c            |   76 --------
 qw/include/win32/bc/config.h             |  294 ----------------------------
 qw/include/win32/fnmatch.h               |   70 -------
 qw/include/win32/mingw/config.h          |  295 -----------------------------
 qw/include/win32/resources/icon1.ico     |  Bin 4710 -> 0 bytes
 qw/include/win32/resources/quakeforge.rc |   74 --------
 qw/include/win32/resources/resource.h    |   45 -----
 qw/include/win32/vc/config.h             |  305 ------------------------------
 qw/include/win32/vc/dirent.h             |  104 ----------
 qw/include/win32/version.h               |   37 ----
 qw/include/win32/version.h.in            |   37 ----
 29 files changed, 1337 insertions(+), 2224 deletions(-)

commit cff9644
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Feb 22 04:00:09 2001 +0000

    remove redundant files

 nq/include/cmd.h      |  146 -------------------------------------------------
 nq/include/compat.h   |   77 --------------------------
 nq/include/console.h  |   60 --------------------
 nq/include/gcc_attr.h |   36 ------------
 nq/include/mdfour.h   |   48 ----------------
 nq/include/qargs.h    |   46 ----------------
 nq/include/qendian.h  |   71 ------------------------
 nq/include/quakefs.h  |   70 ------------------------
 nq/include/stamp-h.in |    1 -
 nq/include/sys.h      |   76 -------------------------
 nq/include/uint32.h   |   53 ------------------
 nq/include/zone.h     |  142 -----------------------------------------------
 12 files changed, 826 deletions(-)

commit 9f69abf
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Feb 22 03:48:39 2001 +0000

    remove redundant fields

 qw/include/cmd.h      |  129 -------------------------------------------------
 qw/include/compat.h   |   91 ----------------------------------
 qw/include/console.h  |   73 ----------------------------
 qw/include/gcc_attr.h |   36 --------------
 qw/include/hash.h     |   54 ---------------------
 qw/include/mdfour.h   |   48 ------------------
 qw/include/qendian.h  |   71 ---------------------------
 qw/include/quakefs.h  |   77 -----------------------------
 qw/include/sizebuf.h  |   47 ------------------
 qw/include/stamp-h.in |    1 -
 qw/include/sys.h      |   88 ---------------------------------
 qw/include/uint32.h   |   53 --------------------
 12 files changed, 768 deletions(-)

commit 4537b2d
Author: Joseph Carter <knghtbrd@debian.org>
Date:   Thu Feb 22 00:24:45 2001 +0000

    GGI has been eradicated.  It's broken and none of us use it, therefore
    nobody's fixing it.  Given that without DGA it's not really much faster
    than X11 anyway and the lack of a maintainer, it's deadwood.

 configure.in                      |   47 +-
 debian/Makefile.am                |    2 -
 debian/control                    |   13 -
 debian/qf-client-ggi.dirs         |    1 -
 debian/qf-client-ggi.docs         |    3 -
 debian/qf-client-ggi.files        |    1 -
 debian/qf-client-ggi.undocumented |    1 -
 doc/qf-client-ggi-cvar.txt        |  157 ------
 nq/source/.gitignore              |    1 -
 nq/source/Makefile.am             |   13 +-
 nq/source/gl_screen.c             |    2 +
 nq/source/vid_ggi.c               | 1027 -------------------------------------
 qw/source/.gitignore              |    2 -
 qw/source/Makefile.am             |   13 +-
 qw/source/in_ggi.c                |  491 ------------------
 qw/source/vid_ggi.c               |  694 -------------------------
 16 files changed, 8 insertions(+), 2460 deletions(-)

commit c6da492
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Thu Feb 22 00:15:03 2001 +0000

    More typos, spelling corrections, and case fixes fed to the nearest handy fiend.

 libs/util/cmd.c                    |    2 +-
 libs/util/zone.c                   |    2 +-
 nq/source/cl_demo.c                |    4 ++--
 nq/source/cl_input.c               |    2 +-
 nq/source/cmd.c                    |    2 +-
 nq/source/console.c                |    2 +-
 nq/source/gl_draw.c                |    2 +-
 nq/source/gl_rmain.c               |    2 +-
 nq/source/gl_screen.c              |    2 +-
 nq/source/host.c                   |    2 +-
 nq/source/host_cmd.c               |    8 ++++----
 nq/source/in_sdl.c                 |    4 ++--
 nq/source/menu.c                   |    2 +-
 nq/source/model_brush.c            |    2 +-
 nq/source/pr_cmds.c                |    2 +-
 nq/source/r_main.c                 |    2 +-
 nq/source/r_view.c                 |    2 +-
 nq/source/snd_dma.c                |    2 +-
 nq/source/sv_main.c                |    2 +-
 nq/source/vid_sdl.c                |    6 +++---
 nq/source/zone.c                   |    2 +-
 tools/Forge/Clipper.m              |    2 +-
 tools/Forge/Documentation/help.txt |    6 +++---
 tools/Forge/Forge.m                |    2 +-
 tools/Forge/ZView.m                |    2 +-
 tools/Forge/misc.m                 |    2 +-
 tools/Forge/triggers.qc            |    2 +-
 27 files changed, 36 insertions(+), 36 deletions(-)

commit a056541
Author: Ragnvald Maartmann-Moe IV <despair@users.sourceforge.net>
Date:   Wed Feb 21 23:45:49 2001 +0000

    Stomped out lots of typos and case inconsistencies. fixme, Fixme, FIXME!

 qw/source/cl_demo.c       |    4 ++--
 qw/source/cl_input.c      |    2 +-
 qw/source/cl_sys_sdl.c    |    4 ++--
 qw/source/cmd.c           |    2 +-
 qw/source/console.c       |    2 +-
 qw/source/in_sdl.c        |    4 ++--
 qw/source/joy_win.c       |    4 ++--
 qw/source/menu.c          |    2 +-
 qw/source/model_brush.c   |    6 +++---
 qw/source/net_chan.c      |    2 +-
 qw/source/net_packetlog.c |   16 ++++++++--------
 qw/source/r_view.c        |    2 +-
 qw/source/screen.c        |    2 +-
 qw/source/snd_dma.c       |    2 +-
 qw/source/snd_win.c       |    2 +-
 qw/source/sv_main.c       |    6 +++---
 qw/source/sv_pr_cmds.c    |    2 +-
 qw/source/sv_send.c       |    2 +-
 qw/source/sv_user.c       |   10 +++++-----
 qw/source/vid_sdl.c       |    6 +++---
 qw/source/vid_sgl.c       |    4 ++--
 qw/source/vid_wgl.c       |    6 +++---
 qw/source/zone.c          |    2 +-
 23 files changed, 47 insertions(+), 47 deletions(-)

commit d2438ec
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 21 23:27:30 2001 +0000

    really only need one alsa dir

 TODO |    3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit d17189c
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Wed Feb 21 22:39:45 2001 +0000

    Add the future directory tree to TODO

 TODO |   71 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 71 insertions(+)

commit e460874
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Wed Feb 21 22:38:58 2001 +0000

    str*cmp -> str*equal, where appropriate.

 qw/source/cl_main.c  |    9 +++++----
 qw/source/cl_parse.c |    6 ++----
 qw/source/info.c     |    4 ++--
 qw/source/sv_ccmds.c |    2 +-
 qw/source/sv_main.c  |   15 ++++++++-------
 qw/source/sv_progs.c |   19 +++++++++----------
 6 files changed, 27 insertions(+), 28 deletions(-)

commit 42ce5b1
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 21 22:34:42 2001 +0000

    nq now plays demos nicely (call Key_Init_Cvars and Con_Init_Cvars)

 nq/source/host.c |    2 ++
 1 file changed, 2 insertions(+)

commit 505e27e
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 21 22:29:37 2001 +0000

    clean this up for our new names

 qw/source/.gitignore |   50 +++++++++++++++++---------------------------------
 1 file changed, 17 insertions(+), 33 deletions(-)

commit c9ab2f1
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 21 22:26:47 2001 +0000

    forgot about all the automake macros

 nq/source/Makefile.am |   60 +++++++++++++++++++++----------------------
 qw/source/Makefile.am |   68 ++++++++++++++++++++++++-------------------------
 2 files changed, 64 insertions(+), 64 deletions(-)

commit 8fc799f
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 21 22:22:32 2001 +0000

    we finally have a bin naming scheme acceptable by all :)
    nq-*
    nq-server
    qw-client-*
    qw-server

 configure.in          |   40 ++++++++++++++++++++--------------------
 nq/source/Makefile.am |    6 +++---
 qw/source/Makefile.am |    8 ++++----
 3 files changed, 27 insertions(+), 27 deletions(-)

commit c6a37b3
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 21 22:03:25 2001 +0000

    s/stricmp/strcasesmp/

 nq/source/gl_draw.c |    2 +-
 nq/source/gl_warp.c |    2 +-
 nq/source/snd_gus.c |    4 ++--
 3 files changed, 4 insertions(+), 4 deletions(-)

commit cd7fdf3
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 21 22:00:52 2001 +0000

    s/stricmp/strcasecmp/

 qw/source/cl_main.c  |    8 ++++----
 qw/source/cl_parse.c |    2 +-
 qw/source/gl_draw.c  |    2 +-
 qw/source/gl_sky.c   |    2 +-
 qw/source/info.c     |    4 ++--
 qw/source/sv_ccmds.c |    2 +-
 qw/source/sv_main.c  |    8 ++++----
 qw/source/sv_progs.c |    6 +++---
 qw/source/teamplay.c |   12 ++++++------
 9 files changed, 23 insertions(+), 23 deletions(-)

commit 10b8c5e
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 21 21:44:57 2001 +0000

    ok, nq compiles again

 include/keys.h         |  182 +++++++++++
 nq/include/keys.h      |  183 -----------
 nq/source/console.c    |  711 ++++++++++++++++++-----------------------
 nq/source/gl_screen.c  |    6 +-
 nq/source/gl_view.c    |    2 +-
 nq/source/in_sdl.c     |  459 ++++++++++++++++-----------
 nq/source/in_svgalib.c |  362 ++++++++++-----------
 nq/source/in_x11.c     |  437 +++++++++++++++----------
 nq/source/joy_linux.c  |  104 +++---
 nq/source/keys.c       |  826 +++++++++++++++++++++++++++---------------------
 nq/source/quakefs.c    |   12 +-
 nq/source/screen.c     |    6 +-
 nq/source/sw_view.c    |    2 +-
 qw/include/keys.h      |  182 -----------
 14 files changed, 1761 insertions(+), 1713 deletions(-)

commit de96c6c
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Wed Feb 21 21:38:07 2001 +0000

    Configure updates. QSG_VERSION has completed its change to
    {QW,NQ}_QSG_VERSION, because NQ and QW support differing versions.

 acconfig.h                    |    3 +++
 configure.in                  |    8 ++++++--
 nq/include/win32/version.h    |   10 +++++-----
 nq/include/win32/version.h.in |   10 +++++-----
 qw/include/win32/version.h    |   16 ++++++++--------
 qw/include/win32/version.h.in |   16 ++++++++--------
 qw/source/cl_main.c           |    2 +-
 qw/source/sv_main.c           |    2 +-
 8 files changed, 37 insertions(+), 30 deletions(-)

commit eeabafe
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Wed Feb 21 21:13:29 2001 +0000

    Misc. configure cleanups. I'll check for QSG stuff myself.

 acconfig.h   |   23 +++++++--------
 configure.in |   92 ++++++++++++++++++++++++++++++----------------------------
 2 files changed, 57 insertions(+), 58 deletions(-)

commit a3ec4ac
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 21 19:53:41 2001 +0000

    fix a #define clash I missed earlier

 qw/include/client.h |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 95f6db7
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 21 19:35:06 2001 +0000

    start merging stuff into libs/util and fix the concequences in nq. nq doesn't
    build yet though (keys.c, *screen.c and *view.c) due to console fun.

 .gitignore                   |    1 +
 Makefile.am                  |    2 +-
 configure.in                 |    2 +
 include/cmd.h                |  147 +++++++
 include/compat.h             |   91 ++++
 include/console.h            |   75 ++++
 include/cvar.h               |  121 ++++++
 include/gcc_attr.h           |   36 ++
 include/hash.h               |   54 +++
 include/mdfour.h             |   47 +++
 include/qargs.h              |   47 +++
 include/qdefs.h              |   50 +++
 include/qendian.h            |   71 ++++
 include/qtypes.h             |   65 +++
 include/quakefs.h            |   77 ++++
 include/quakeio.h            |   71 ++++
 include/sizebuf.h            |   49 +++
 include/sys.h                |   87 ++++
 include/uint32.h             |   53 +++
 include/zone.h               |  133 ++++++
 libs/.gitignore              |    2 +
 libs/Makefile.am             |    1 +
 libs/util/.gitignore         |    3 +
 libs/util/Makefile.am        |    3 +
 libs/util/cmd.c              |  937 ++++++++++++++++++++++++++++++++++++++++++
 libs/util/cvar.c             |  545 ++++++++++++++++++++++++
 libs/util/hash.c             |  135 ++++++
 libs/util/mdfour.c           |  258 ++++++++++++
 libs/util/sizebuf.c          |   95 +++++
 libs/util/va.c               |   56 +++
 libs/util/zone.c             |  680 ++++++++++++++++++++++++++++++
 nq/include/client.h          |    2 +-
 nq/include/cvar.h            |  120 ------
 nq/include/game.h            |  172 ++++++++
 nq/include/qdefs.h           |  189 ---------
 nq/include/qtypes.h          |   59 ---
 nq/include/quakeio.h         |   70 ----
 nq/include/sizebuf.h         |   49 ---
 nq/source/cd_dos.c           |    2 +-
 nq/source/cd_linux.c         |    2 +-
 nq/source/cd_win.c           |    2 +-
 nq/source/cl_demo.c          |    3 +-
 nq/source/cl_input.c         |   71 ++--
 nq/source/cl_main.c          |   15 +-
 nq/source/cl_parse.c         |    5 +-
 nq/source/cmd.c              |   24 +-
 nq/source/com.c              |    8 +-
 nq/source/console.c          |   13 +-
 nq/source/cvar.c             |   10 +-
 nq/source/d_surf.c           |    2 +-
 nq/source/gib.c              |    6 +-
 nq/source/gib_instructions.c |    2 +-
 nq/source/gl_draw.c          |    2 +-
 nq/source/gl_part.c          |    1 +
 nq/source/gl_rmain.c         |    2 +-
 nq/source/gl_rmisc.c         |   10 +-
 nq/source/gl_screen.c        |    8 +-
 nq/source/host_cmd.c         |   83 ++--
 nq/source/in_dos.c           |    4 +-
 nq/source/in_svgalib.c       |    2 +-
 nq/source/in_win.c           |    4 +-
 nq/source/keys.c             |    9 +-
 nq/source/mathlib.c          |    2 +-
 nq/source/menu.c             |   26 +-
 nq/source/model_brush.c      |    6 +
 nq/source/net_comx.c         |    2 +-
 nq/source/net_dgrm.c         |   11 +-
 nq/source/net_main.c         |    9 +-
 nq/source/pr_cmds.c          |    1 +
 nq/source/pr_edict.c         |    9 +-
 nq/source/r_main.c           |    5 +-
 nq/source/r_view.c           |    7 +-
 nq/source/sbar.c             |    7 +-
 nq/source/screen.c           |    9 +-
 nq/source/snd_dma.c          |   12 +-
 nq/source/snd_dos.c          |    2 +-
 nq/source/sv_main.c          |    3 +-
 nq/source/sv_user.c          |    3 +-
 nq/source/vid_dos.c          |   10 +-
 nq/source/vid_mgl.c          |   18 +-
 nq/source/vid_sunx.c         |    2 +-
 nq/source/vid_sunxil.c       |    2 +-
 nq/source/vid_svgalib.c      |   10 +-
 nq/source/vid_wgl.c          |    8 +-
 nq/source/vid_win.c          |   18 +-
 nq/source/vid_x11.c          |    2 +-
 nq/source/zone.c             |  815 ++++++++++++------------------------
 qw/include/cvar.h            |  121 ------
 qw/include/qargs.h           |   47 ---
 qw/include/qdefs.h           |   49 ---
 qw/include/qtypes.h          |   78 ----
 qw/include/quakeio.h         |   69 ----
 qw/include/zone.h            |  133 ------
 93 files changed, 4687 insertions(+), 1754 deletions(-)

commit 9a47e3c
Author: Joseph Carter <knghtbrd@debian.org>
Date:   Wed Feb 21 19:13:03 2001 +0000

    A modification to the gun location hack code..  The QW HUD was supposed to
    give you a little more screen real-estate.  It does, but you still have a
    big gun blocking most of your screen in the center.  If you turned off the
    HUD, you got more screen and less gun.  That now happens whenever the HUD
    is displayed.
    
    This is a temporary measure.  At a later point, the gun will always be at
    the bottom of the view area regardless of fov.

 nq/source/r_view.c |    6 ++++--
 qw/source/r_view.c |    4 +++-
 2 files changed, 7 insertions(+), 3 deletions(-)

commit 8a6de9f
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 21 00:22:48 2001 +0000

    forgot about ogg support

 TODO |    1 +
 1 file changed, 1 insertion(+)

commit 2a13173
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Feb 21 00:12:40 2001 +0000

    gotta keep track of where we're going :)

 TODO |   30 ++++++++++++++++++++++++++++++
 1 file changed, 30 insertions(+)

commit 23ed09f
Author: Joseph Carter <knghtbrd@debian.org>
Date:   Tue Feb 20 23:36:50 2001 +0000

    Slightly different gl_fires effect.  taniwha may back this out if he hates
    it, but I kinda like it.

 nq/source/gl_part.c      |    6 +++---
 qw/source/gl_dyn_fires.c |    6 +++---
 2 files changed, 6 insertions(+), 6 deletions(-)

commit c2cea45
Author: Joseph Carter <knghtbrd@debian.org>
Date:   Tue Feb 20 23:06:48 2001 +0000

    NEWSTYLE is gone, sortof.  The Cvar defaults for NEWSTYLE are now just the
    defaults in non-win32 targets.  BASEDIR/SKINBASE are gone and the Cvars
    which use them in the code are just given the oldstyle defaults now.  Use
    of "base" is gone.  It was a half-assed solution to a problem that doesn't
    exist yet.  When it finally does exist, we'll fix it right.

 acconfig.h                      |    9 ---------
 configure.in                    |   27 ++++-----------------------
 nq/include/win32/bc/config.h    |   10 ----------
 nq/include/win32/vc/config.h    |   10 ----------
 nq/source/quakefs.c             |    2 +-
 qw/include/win32/bc/config.h    |   17 -----------------
 qw/include/win32/mingw/config.h |   17 -----------------
 qw/include/win32/vc/config.h    |   17 -----------------
 qw/source/quakefs.c             |    9 ++-------
 9 files changed, 7 insertions(+), 111 deletions(-)

commit 9438b77
Author: Joseph Carter <knghtbrd@debian.org>
Date:   Tue Feb 20 22:58:46 2001 +0000

    Removed old configure stuff, it's merged now

 nq/acconfig.h   |   95 ----
 nq/acinclude.m4 |  279 -----------
 nq/bootstrap    |    6 -
 nq/configure.in | 1132 -------------------------------------------
 qw/acconfig.h   |  125 -----
 qw/acinclude.m4 |  290 -----------
 qw/bootstrap    |    2 -
 qw/configure.in | 1439 -------------------------------------------------------
 8 files changed, 3368 deletions(-)

commit 4dd9f74
Author: Joseph Carter <knghtbrd@debian.org>
Date:   Tue Feb 20 16:15:43 2001 +0000

    NQ defined CVAR_HEAP for user-created Cvars, did nothing with it though.

 nq/source/cvar.c |    3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit 2ae91bb
Author: Joseph Carter <knghtbrd@debian.org>
Date:   Tue Feb 20 15:31:49 2001 +0000

    Finished cleaning out the unused Cvar flags.  The only ones we actually
    ever used were CVAR_NONE, CVAR_ARCHIVE, CVAR_USERINFO, CVAR_SERVERINFO,
    CVAR_ROM, and CVAR_USER_CREATED.  I kept CVAR_NOTIFY and CVAR_LATCH as
    well since the latter was supposed to actually be implemented at some
    point and the former would make a useful debug feature.

 nq/include/cvar.h |    6 ------
 qw/include/cvar.h |    6 ------
 2 files changed, 12 deletions(-)

commit a7b5925
Author: Zephaniah E. Hull <warp@babylon.d2dc.net>
Date:   Tue Feb 20 13:46:04 2001 +0000

    New name scheme for generated bins.
    
    cougar-(qw|nq)-cl-*
    cougar-(qw|nq)-sv
    
    If someone really wants to a S&R on cougar in configure.in and the two
    Makefile.am files will change it to something else.

 configure.in          |   40 +++++++++++++-------------
 nq/source/Makefile.am |   65 +++++++++++++++++++++---------------------
 qw/source/Makefile.am |   76 ++++++++++++++++++++++++-------------------------
 3 files changed, 91 insertions(+), 90 deletions(-)

commit 089fb15
Author: Joseph Carter <knghtbrd@debian.org>
Date:   Tue Feb 20 11:25:46 2001 +0000

    CVAR_INIT was unused, we have always used CVAR_ROM for that.  Removed the
    cruft.

 nq/include/cvar.h |    2 --
 qw/include/cvar.h |    2 --
 2 files changed, 4 deletions(-)

commit c83f38d
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 20 04:57:07 2001 +0000

    bring Mercury's changes back in

 nq/source/sv_main.c   |    2 +-
 nq/source/sys_unix.c  |    2 +-
 nq/source/sys_unixd.c |    1 +
 3 files changed, 3 insertions(+), 2 deletions(-)

commit e3b7ab2
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 20 03:51:04 2001 +0000

    minor fixups

 Makefile.am          |    2 +-
 configure.in         |    1 +
 include/.gitignore   |    2 ++
 nq/source/.gitignore |   18 +++++++++---------
 4 files changed, 13 insertions(+), 10 deletions(-)

commit e33986e
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 20 03:23:35 2001 +0000

    add needed things for autoconfiscation

 include/.gitignore  |    3 +++
 include/Makefile.am |    4 ++++
 include/stamp-h.in  |    1 +
 3 files changed, 8 insertions(+)

commit 75618f9
Author: Zephaniah E. Hull <warp@babylon.d2dc.net>
Date:   Tue Feb 20 03:10:06 2001 +0000

    Working on one common configure which lets nq and qw compile.
    
    There, needs a little clean up though.

 .gitignore                 |    9 +
 Makefile.am                |   15 +
 acconfig.h                 |  131 ++++
 acinclude.m4               |  290 +++++++++
 bootstrap                  |    2 +
 configure.in               | 1469 ++++++++++++++++++++++++++++++++++++++++++++
 nq/Makefile.am             |    2 +-
 nq/include/win32/version.h |   10 +-
 nq/source/Makefile.am      |   72 +--
 qw/Makefile.am             |    2 +-
 qw/include/win32/version.h |    2 +-
 qw/source/Makefile.am      |    4 +-
 12 files changed, 1962 insertions(+), 46 deletions(-)

commit c2cf8ff
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 20 00:07:18 2001 +0000

    add ChangeLog

 .gitignore |    1 +
 1 file changed, 1 insertion(+)

commit 5e7703d
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 19 21:17:47 2001 +0000

    missed these files. not bad considering the number of files involved :)

 qw/source/fbset_modes_l.l   |  138 +++
 qw/source/fbset_modes_y.y   |  176 ++++
 qw/source/makefile.mgw      |  237 +++++
 qw/source/makefile.win      |   68 ++
 qw/source/qf-client-sdl.mak |  963 +++++++++++++++++
 qw/source/qf-client-sgl.mak |  809 ++++++++++++++
 qw/source/qf-client-wgl.mak |  791 ++++++++++++++
 qw/source/qf-client-win.mak |  957 +++++++++++++++++
 qw/source/qf-server.mak     |  495 +++++++++
 qw/source/qw_client.dsp     | 2451 +++++++++++++++++++++++++++++++++++++++++++
 qw/source/qw_server.dsp     |  429 ++++++++
 11 files changed, 7514 insertions(+)

commit 87854e1
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 19 21:15:25 2001 +0000

    initial checkin of most recent newtree and nuq(?) source

 COPYING                                  |  340 +++
 CodingStyle                              |  116 +
 INSTALL                                  |  182 ++
 NEWS                                     |  204 ++
 RPM/.gitignore                           |    2 +
 RPM/build_rpm.in                         |   27 +
 RPM/quakeforge.spec.in                   |   49 +
 debian/.gitignore                        |    3 +
 debian/Makefile.am                       |   24 +
 debian/changelog                         |  354 +++
 debian/control                           |  134 ++
 debian/copyright                         |   29 +
 debian/qf-client-3dfx.dirs               |    1 +
 debian/qf-client-3dfx.docs               |    3 +
 debian/qf-client-3dfx.files              |    1 +
 debian/qf-client-3dfx.suid               |    1 +
 debian/qf-client-3dfx.undocumented       |    1 +
 debian/qf-client-ggi.dirs                |    1 +
 debian/qf-client-ggi.docs                |    3 +
 debian/qf-client-ggi.files               |    1 +
 debian/qf-client-ggi.undocumented        |    1 +
 debian/qf-client-glx.dirs                |    1 +
 debian/qf-client-glx.docs                |    3 +
 debian/qf-client-glx.files               |    1 +
 debian/qf-client-glx.undocumented        |    1 +
 debian/qf-client-sdl.dirs                |    1 +
 debian/qf-client-sdl.docs                |    3 +
 debian/qf-client-sdl.files               |    1 +
 debian/qf-client-sdl.undocumented        |    1 +
 debian/qf-client-sgl.dirs                |    1 +
 debian/qf-client-sgl.docs                |    3 +
 debian/qf-client-sgl.files               |    1 +
 debian/qf-client-sgl.undocumented        |    1 +
 debian/qf-client-svga.dirs               |    1 +
 debian/qf-client-svga.docs               |    3 +
 debian/qf-client-svga.files              |    1 +
 debian/qf-client-svga.suid               |    1 +
 debian/qf-client-svga.undocumented       |    1 +
 debian/qf-client-x11.dirs                |    1 +
 debian/qf-client-x11.docs                |    3 +
 debian/qf-client-x11.files               |    1 +
 debian/qf-client-x11.undocumented        |    1 +
 debian/qf-server.dirs                    |    2 +
 debian/qf-server.docs                    |    3 +
 debian/qf-server.files                   |    1 +
 debian/qf-server.undocumented            |    1 +
 debian/quakeforge-common.conffiles       |    1 +
 debian/quakeforge-common.docs            |    3 +
 debian/quakeforge-common.files           |    1 +
 debian/quakeforge.conf                   |   15 +
 debian/rules                             |   98 +
 nq/.gitignore                            |   10 +
 nq/AUTHORS                               |    1 +
 nq/Makefile.am                           |    9 +
 nq/TODO                                  |    7 +
 nq/acconfig.h                            |   95 +
 nq/acinclude.m4                          |  279 +++
 nq/bootstrap                             |    6 +
 nq/configure.in                          | 1132 ++++++++++
 nq/include/.gitignore                    |    6 +
 nq/include/Makefile.am                   |   18 +
 nq/include/adivtab.h                     | 1086 ++++++++++
 nq/include/anorm_dots.h                  |   46 +
 nq/include/anorms.h                      |  190 ++
 nq/include/asm_draw.h                    |  154 ++
 nq/include/asm_ia32.h                    |  106 +
 nq/include/block16.h                     |  151 ++
 nq/include/block8.h                      |  152 ++
 nq/include/bspfile.h                     |  338 +++
 nq/include/cdaudio.h                     |   41 +
 nq/include/chase.h                       |   38 +
 nq/include/checksum.h                    |   34 +
 nq/include/client.h                      |  407 ++++
 nq/include/cmd.h                         |  146 ++
 nq/include/compat.h                      |   77 +
 nq/include/conproc.h                     |   45 +
 nq/include/console.h                     |   60 +
 nq/include/context_x11.h                 |   68 +
 nq/include/crc.h                         |   38 +
 nq/include/cvar.h                        |  128 ++
 nq/include/d_iface.h                     |  242 +++
 nq/include/d_ifacea.h                    |  102 +
 nq/include/d_local.h                     |  119 ++
 nq/include/dga_check.h                   |   52 +
 nq/include/dosisms.h                     |  105 +
 nq/include/draw.h                        |   55 +
 nq/include/gcc_attr.h                    |   36 +
 nq/include/gib.h                         |   38 +
 nq/include/gib_error.h                   |   12 +
 nq/include/gib_instructions.h            |   10 +
 nq/include/gib_interpret.h               |   15 +
 nq/include/gib_modules.h                 |    7 +
 nq/include/gib_parse.h                   |    8 +
 nq/include/gib_stack.h                   |   29 +
 nq/include/gib_vars.h                    |    5 +
 nq/include/gl_warp_sin.h                 |   60 +
 nq/include/glquake.h                     |  292 +++
 nq/include/glquake2.h                    |  217 ++
 nq/include/host.h                        |   76 +
 nq/include/info.h                        |   43 +
 nq/include/input.h                       |   60 +
 nq/include/joystick.h                    |   83 +
 nq/include/keys.h                        |  183 ++
 nq/include/link.h                        |   47 +
 nq/include/mathlib.h                     |  104 +
 nq/include/mdfour.h                      |   48 +
 nq/include/menu.h                        |   47 +
 nq/include/model.h                       |  461 ++++
 nq/include/modelgen.h                    |  140 ++
 nq/include/mpdosock.h                    |  797 +++++++
 nq/include/msg.h                         |   64 +
 nq/include/net.h                         |  362 ++++
 nq/include/net_bw.h                      |   47 +
 nq/include/net_dgrm.h                    |   42 +
 nq/include/net_ipx.h                     |   47 +
 nq/include/net_loop.h                    |   41 +
 nq/include/net_mp.h                      |   47 +
 nq/include/net_ser.h                     |   41 +
 nq/include/net_udp.h                     |   53 +
 nq/include/net_vcr.h                     |   45 +
 nq/include/net_wins.h                    |   47 +
 nq/include/net_wipx.h                    |   47 +
 nq/include/pr_comp.h                     |  186 ++
 nq/include/progdefs.h                    |   33 +
 nq/include/progdefs.q1                   |  143 ++
 nq/include/progdefs.q2                   |  158 ++
 nq/include/progs.h                       |  151 ++
 nq/include/protocol.h                    |  192 ++
 nq/include/qargs.h                       |   46 +
 nq/include/qdefs.h                       |  189 ++
 nq/include/qendian.h                     |   71 +
 nq/include/qtypes.h                      |   59 +
 nq/include/quakeasm.h                    |  263 +++
 nq/include/quakefs.h                     |   70 +
 nq/include/quakeio.h                     |   70 +
 nq/include/r_local.h                     |  332 +++
 nq/include/r_shared.h                    |  169 ++
 nq/include/render.h                      |  184 ++
 nq/include/resource.h                    |   48 +
 nq/include/sbar.h                        |   48 +
 nq/include/screen.h                      |   73 +
 nq/include/server.h                      |  296 +++
 nq/include/sizebuf.h                     |   49 +
 nq/include/sound.h                       |  195 ++
 nq/include/spritegn.h                    |  116 +
 nq/include/stamp-h.in                    |    1 +
 nq/include/sys.h                         |   76 +
 nq/include/uint32.h                      |   53 +
 nq/include/va.h                          |   42 +
 nq/include/vgamodes.h                    |  605 ++++++
 nq/include/vid.h                         |  104 +
 nq/include/vid_dos.h                     |   91 +
 nq/include/view.h                        |   64 +
 nq/include/vregset.h                     |   62 +
 nq/include/wad.h                         |   89 +
 nq/include/win32/.gitignore              |    1 +
 nq/include/win32/bc/borland.c            |   78 +
 nq/include/win32/bc/config.h             |  294 +++
 nq/include/win32/fnmatch.h               |   70 +
 nq/include/win32/vc/config.h             |  287 +++
 nq/include/win32/vc/dirent.h             |  104 +
 nq/include/win32/version.h               |   37 +
 nq/include/win32/version.h.in            |   37 +
 nq/include/winquake.h                    |  122 ++
 nq/include/world.h                       |   93 +
 nq/include/zone.h                        |  142 ++
 nq/nuq.lsm.in                            |   16 +
 nq/source/.gdbinit                       |    1 +
 nq/source/.gitignore                     |   17 +
 nq/source/.indent.pro                    |    8 +
 nq/source/Makefile.am                    |  261 +++
 nq/source/cd_dos.c                       |  893 ++++++++
 nq/source/cd_linux.c                     |  431 ++++
 nq/source/cd_null.c                      |   67 +
 nq/source/cd_win.c                       |  485 +++++
 nq/source/checksum.c                     |   54 +
 nq/source/cl_cam.c                       |  110 +
 nq/source/cl_demo.c                      |  387 ++++
 nq/source/cl_input.c                     |  465 ++++
 nq/source/cl_main.c                      |  836 ++++++++
 nq/source/cl_math.S                      |  110 +
 nq/source/cl_parse.c                     |  971 +++++++++
 nq/source/cl_tent.c                      |  417 ++++
 nq/source/cmd.c                          | 1025 +++++++++
 nq/source/com.c                          |  104 +
 nq/source/conproc.c                      |  375 ++++
 nq/source/console.c                      |  668 ++++++
 nq/source/context_x11.c                  |  414 ++++
 nq/source/crc.c                          |   91 +
 nq/source/cvar.c                         |  503 +++++
 nq/source/d_copy.S                       |  176 ++
 nq/source/d_draw.S                       | 1044 +++++++++
 nq/source/d_draw16.S                     |  981 +++++++++
 nq/source/d_edge.c                       |  342 +++
 nq/source/d_fill.c                       |   98 +
 nq/source/d_init.c                       |  181 ++
 nq/source/d_modech.c                     |  118 +
 nq/source/d_part.c                       |  217 ++
 nq/source/d_parta.S                      |  484 +++++
 nq/source/d_polysa.S                     | 1751 +++++++++++++++
 nq/source/d_polyse.c                     | 1120 ++++++++++
 nq/source/d_scan.c                       |  457 ++++
 nq/source/d_scana.S                      |   96 +
 nq/source/d_sky.c                        |  148 ++
 nq/source/d_spr8.S                       |  907 ++++++++
 nq/source/d_sprite.c                     |  451 ++++
 nq/source/d_surf.c                       |  360 ++++
 nq/source/d_vars.c                       |   61 +
 nq/source/d_varsa.S                      |  221 ++
 nq/source/d_zpoint.c                     |   57 +
 nq/source/dga_check.c                    |  112 +
 nq/source/dirent.c                       |  313 +++
 nq/source/dos_v2.c                       |  270 +++
 nq/source/dosasm.S                       |   77 +
 nq/source/draw.c                         |  972 +++++++++
 nq/source/fnmatch.c                      |  220 ++
 nq/source/gib.c                          |   78 +
 nq/source/gib_instructions.c             |  225 ++
 nq/source/gib_interpret.c                |  198 ++
 nq/source/gib_modules.c                  |  159 ++
 nq/source/gib_parse.c                    |  229 ++
 nq/source/gib_stack.c                    |   73 +
 nq/source/gib_vars.c                     |   74 +
 nq/source/gl_draw.c                      | 1416 ++++++++++++
 nq/source/gl_mesh.c                      |  411 ++++
 nq/source/gl_model_alias.c               |  314 +++
 nq/source/gl_model_brush.c               |  101 +
 nq/source/gl_model_fullbright.c          |   79 +
 nq/source/gl_model_sprite.c              |   81 +
 nq/source/gl_part.c                      |  409 ++++
 nq/source/gl_refrag.c                    |  250 +++
 nq/source/gl_rlight.c                    |  452 ++++
 nq/source/gl_rmain.c                     | 1079 ++++++++++
 nq/source/gl_rmisc.c                     |  524 +++++
 nq/source/gl_rsurf.c                     | 1357 ++++++++++++
 nq/source/gl_screen.c                    | 1094 ++++++++++
 nq/source/gl_view.c                      |  189 ++
 nq/source/gl_warp.c                      |  866 ++++++++
 nq/source/host.c                         | 1012 +++++++++
 nq/source/host_cmd.c                     | 1906 +++++++++++++++++
 nq/source/in_dos.c                       |  628 ++++++
 nq/source/in_null.c                      |   66 +
 nq/source/in_sdl.c                       |  340 +++
 nq/source/in_sun.c                       |  259 +++
 nq/source/in_svgalib.c                   |  397 ++++
 nq/source/in_win.c                       | 1257 +++++++++++
 nq/source/in_x11.c                       |  466 ++++
 nq/source/joy_linux.c                    |  211 ++
 nq/source/joy_null.c                     |   76 +
 nq/source/keys.c                         |  819 +++++++
 nq/source/link.c                         |   60 +
 nq/source/math.S                         |  360 ++++
 nq/source/mathlib.c                      |  597 ++++++
 nq/source/mdfour.c                       |  258 +++
 nq/source/menu.c                         | 3268 ++++++++++++++++++++++++++++
 nq/source/model.c                        |  262 +++
 nq/source/model_alias.c                  |  235 ++
 nq/source/model_brush.c                  | 1027 +++++++++
 nq/source/model_sprite.c                 |  174 ++
 nq/source/mplib.c                        |  235 ++
 nq/source/mplpc.c                        | 1014 +++++++++
 nq/source/msg.c                          |  265 +++
 nq/source/net_bsd.c                      |  105 +
 nq/source/net_bw.c                       |  773 +++++++
 nq/source/net_comx.c                     | 1287 +++++++++++
 nq/source/net_dgrm.c                     | 1414 ++++++++++++
 nq/source/net_dos.c                      |  174 ++
 nq/source/net_ipx.c                      |  716 +++++++
 nq/source/net_loop.c                     |  260 +++
 nq/source/net_main.c                     |  990 +++++++++
 nq/source/net_mp.c                       |  451 ++++
 nq/source/net_none.c                     |   58 +
 nq/source/net_ser.c                      |  961 +++++++++
 nq/source/net_udp.c                      |  437 ++++
 nq/source/net_vcr.c                      |  179 ++
 nq/source/net_win.c                      |  132 ++
 nq/source/net_wins.c                     |  583 +++++
 nq/source/net_wipx.c                     |  440 ++++
 nq/source/nonintel.c                     |   72 +
 nq/source/pr_cmds.c                      | 1964 +++++++++++++++++
 nq/source/pr_edict.c                     | 1125 ++++++++++
 nq/source/pr_exec.c                      |  688 ++++++
 nq/source/qargs.c                        |  173 ++
 nq/source/qendian.c                      |  105 +
 nq/source/quakefs.c                      | 1045 +++++++++
 nq/source/quakeio.c                      |  359 ++++
 nq/source/r_aclip.c                      |  360 ++++
 nq/source/r_aclipa.S                     |  224 ++
 nq/source/r_alias.c                      |  765 +++++++
 nq/source/r_aliasa.S                     |  244 +++
 nq/source/r_bsp.c                        |  686 ++++++
 nq/source/r_draw.c                       |  917 ++++++++
 nq/source/r_drawa.S                      |  845 ++++++++
 nq/source/r_edge.c                       |  776 +++++++
 nq/source/r_edgea.S                      |  757 +++++++
 nq/source/r_efrag.c                      |  288 +++
 nq/source/r_light.c                      |  272 +++
 nq/source/r_main.c                       | 1132 ++++++++++
 nq/source/r_misc.c                       |  532 +++++
 nq/source/r_part.c                       |  665 ++++++
 nq/source/r_sky.c                        |  290 +++
 nq/source/r_sprite.c                     |  413 ++++
 nq/source/r_surf.c                       |  689 ++++++
 nq/source/r_vars.c                       |   49 +
 nq/source/r_varsa.S                      |   72 +
 nq/source/r_view.c                       |  795 +++++++
 nq/source/sbar.c                         | 1276 +++++++++++
 nq/source/screen.c                       | 1084 ++++++++++
 nq/source/sizebuf.c                      |   90 +
 nq/source/snd_alsa_0_5.c                 |  343 +++
 nq/source/snd_alsa_0_6.c                 |  356 ++++
 nq/source/snd_dma.c                      | 1055 +++++++++
 nq/source/snd_dos.c                      |  664 ++++++
 nq/source/snd_gus.c                      | 1299 ++++++++++++
 nq/source/snd_mem.c                      |  413 ++++
 nq/source/snd_mix.c                      |  495 +++++
 nq/source/snd_mixa.S                     |  232 ++
 nq/source/snd_next.c                     |   66 +
 nq/source/snd_null.c                     |  106 +
 nq/source/snd_oss.c                      |  284 +++
 nq/source/snd_sdl.c                      |  155 ++
 nq/source/snd_sun.c                      |  230 ++
 nq/source/snd_win.c                      |  741 +++++++
 nq/source/surf16.S                       |  179 ++
 nq/source/surf8.S                        |  791 +++++++
 nq/source/sv_ded.c                       |   97 +
 nq/source/sv_main.c                      | 1202 +++++++++++
 nq/source/sv_move.c                      |  439 ++++
 nq/source/sv_phys.c                      | 1632 ++++++++++++++
 nq/source/sv_user.c                      |  676 ++++++
 nq/source/sw_model_alias.c               |  288 +++
 nq/source/sw_model_brush.c               |   70 +
 nq/source/sw_model_sprite.c              |   95 +
 nq/source/sw_part.c                      |  165 ++
 nq/source/sw_view.c                      |  181 ++
 nq/source/sys_dos.c                      |  965 +++++++++
 nq/source/sys_dosa.S                     |   95 +
 nq/source/sys_ia32.S                     |  116 +
 nq/source/sys_null.c                     |  242 +++
 nq/source/sys_sun.c                      |  362 ++++
 nq/source/sys_unix.c                     |  484 +++++
 nq/source/sys_unixd.c                    |  458 ++++
 nq/source/sys_win.c                      |  903 ++++++++
 nq/source/sys_wina.S                     |  116 +
 nq/source/sys_wind.c                     |  335 +++
 nq/source/va.c                           |   55 +
 nq/source/vid.c                          |   80 +
 nq/source/vid_3dfxsvga.c                 |  339 +++
 nq/source/vid_common_gl.c                |  402 ++++
 nq/source/vid_dos.c                      |  795 +++++++
 nq/source/vid_ext.c                      |  804 +++++++
 nq/source/vid_ggi.c                      | 1027 +++++++++
 nq/source/vid_glx.c                      |  234 ++
 nq/source/vid_mgl.c                      | 3423 ++++++++++++++++++++++++++++++
 nq/source/vid_null.c                     |  107 +
 nq/source/vid_sdl.c                      |  283 +++
 nq/source/vid_sgl.c                      |  234 ++
 nq/source/vid_sunx.c                     | 1274 +++++++++++
 nq/source/vid_sunxil.c                   | 1303 ++++++++++++
 nq/source/vid_svgalib.c                  |  757 +++++++
 nq/source/vid_vga.c                      |  488 +++++
 nq/source/vid_wgl.c                      | 1947 +++++++++++++++++
 nq/source/vid_win.c                      | 3355 +++++++++++++++++++++++++++++
 nq/source/vid_x11.c                      |  802 +++++++
 nq/source/vregset.c                      |   89 +
 nq/source/wad.c                          |  171 ++
 nq/source/world.c                        |  977 +++++++++
 nq/source/worlda.S                       |  150 ++
 nq/source/zone.c                         |  953 +++++++++
 qw/.gitignore                            |   15 +
 qw/AUTHORS                               |    1 +
 qw/Makefile.am                           |   37 +
 qw/README                                |  232 ++
 qw/README.WIN                            |  208 ++
 qw/ROADMAP                               |   31 +
 qw/acconfig.h                            |  125 ++
 qw/acinclude.m4                          |  290 +++
 qw/bootstrap                             |    2 +
 qw/configure.in                          | 1439 +++++++++++++
 qw/include/.gitignore                    |    7 +
 qw/include/Makefile.am                   |   23 +
 qw/include/adivtab.h                     | 1084 ++++++++++
 qw/include/anorm_dots.h                  |   45 +
 qw/include/anorms.h                      |  192 ++
 qw/include/asm_draw.h                    |  154 ++
 qw/include/asm_i386.h                    |  106 +
 qw/include/block16.h                     |  151 ++
 qw/include/block8.h                      |  152 ++
 qw/include/bothdefs.h                    |  145 ++
 qw/include/bspfile.h                     |  268 +++
 qw/include/buildnum.h                    |   34 +
 qw/include/cdaudio.h                     |   42 +
 qw/include/checksum.h                    |   39 +
 qw/include/cl_cam.h                      |   55 +
 qw/include/cl_demo.h                     |   45 +
 qw/include/cl_ents.h                     |   47 +
 qw/include/cl_input.h                    |   63 +
 qw/include/cl_main.h                     |   57 +
 qw/include/cl_parse.h                    |   46 +
 qw/include/cl_pred.h                     |   39 +
 qw/include/cl_slist.h                    |   66 +
 qw/include/cl_tent.h                     |   40 +
 qw/include/client.h                      |  361 ++++
 qw/include/cmd.h                         |  129 ++
 qw/include/commdef.h                     |   64 +
 qw/include/compat.h                      |   91 +
 qw/include/console.h                     |   73 +
 qw/include/context_x11.h                 |   67 +
 qw/include/crc.h                         |   39 +
 qw/include/cvar.h                        |  129 ++
 qw/include/d_iface.h                     |  244 +++
 qw/include/d_ifacea.h                    |  106 +
 qw/include/d_local.h                     |  122 ++
 qw/include/dga_check.h                   |   52 +
 qw/include/draw.h                        |   56 +
 qw/include/fbset.h                       |   84 +
 qw/include/fractalnoise.h                |   34 +
 qw/include/gcc_attr.h                    |   36 +
 qw/include/gl_warp_sin.h                 |   60 +
 qw/include/glquake.h                     |  295 +++
 qw/include/hash.h                        |   54 +
 qw/include/hl.h                          |   41 +
 qw/include/host.h                        |   72 +
 qw/include/in_win.h                      |   55 +
 qw/include/info.h                        |   49 +
 qw/include/input.h                       |   56 +
 qw/include/joystick.h                    |   83 +
 qw/include/keys.h                        |  182 ++
 qw/include/link.h                        |   47 +
 qw/include/locs.h                        |   50 +
 qw/include/logos.h                       |  398 ++++
 qw/include/mathlib.h                     |  117 +
 qw/include/mdfour.h                      |   48 +
 qw/include/menu.h                        |   52 +
 qw/include/model.h                       |  463 ++++
 qw/include/modelgen.h                    |  129 ++
 qw/include/msg.h                         |   64 +
 qw/include/net.h                         |  136 ++
 qw/include/pcx.h                         |   55 +
 qw/include/pmove.h                       |  122 ++
 qw/include/pr_comp.h                     |  189 ++
 qw/include/progdefs.h                    |  167 ++
 qw/include/progs.h                       |  231 ++
 qw/include/protocol.h                    |  305 +++
 qw/include/qargs.h                       |   47 +
 qw/include/qdefs.h                       |   49 +
 qw/include/qendian.h                     |   71 +
 qw/include/qfgl_ext.h                    |  260 +++
 qw/include/qfplist.h                     |  102 +
 qw/include/qtypes.h                      |   78 +
 qw/include/quakeasm.h                    |  263 +++
 qw/include/quakefs.h                     |   77 +
 qw/include/quakeio.h                     |   69 +
 qw/include/r_dynamic.h                   |   49 +
 qw/include/r_local.h                     |  332 +++
 qw/include/r_shared.h                    |  162 ++
 qw/include/render.h                      |  167 ++
 qw/include/sbar.h                        |   52 +
 qw/include/screen.h                      |   65 +
 qw/include/server.h                      |  524 +++++
 qw/include/sizebuf.h                     |   47 +
 qw/include/skin.h                        |   62 +
 qw/include/sound.h                       |  193 ++
 qw/include/spritegn.h                    |  101 +
 qw/include/stamp-h.in                    |    1 +
 qw/include/sv_pr_cmds.h                  |  108 +
 qw/include/sys.h                         |   88 +
 qw/include/teamplay.h                    |   44 +
 qw/include/texture.h                     |   47 +
 qw/include/tga.h                         |   74 +
 qw/include/uint32.h                      |   53 +
 qw/include/va.h                          |   42 +
 qw/include/ver_check.h                   |   45 +
 qw/include/vid.h                         |  111 +
 qw/include/view.h                        |   59 +
 qw/include/wad.h                         |   88 +
 qw/include/win32/bc/borland.c            |   76 +
 qw/include/win32/bc/config.h             |  311 +++
 qw/include/win32/fnmatch.h               |   70 +
 qw/include/win32/mingw/config.h          |  312 +++
 qw/include/win32/resources/icon1.ico     |  Bin 0 -> 4710 bytes
 qw/include/win32/resources/quakeforge.rc |   74 +
 qw/include/win32/resources/resource.h    |   45 +
 qw/include/win32/vc/config.h             |  322 +++
 qw/include/win32/vc/dirent.h             |  104 +
 qw/include/win32/version.h               |   37 +
 qw/include/win32/version.h.in            |   37 +
 qw/include/winquake.h                    |  133 ++
 qw/include/world.h                       |  107 +
 qw/include/zone.h                        |  133 ++
 qw/newtree.dsw                           |   53 +
 qw/quakeforge.lsm.in                     |   18 +
 qw/source/.gdbinit                       |    1 +
 qw/source/.gitignore                     |   47 +
 qw/source/.indent.pro                    |  213 ++
 qw/source/Makefile.am                    |  324 +++
 qw/source/buildnum.c                     |   79 +
 qw/source/cd_dos.c                       |  871 ++++++++
 qw/source/cd_linux.c                     |  457 ++++
 qw/source/cd_null.c                      |   75 +
 qw/source/cd_sdl.c                       |  293 +++
 qw/source/cd_sgi.c                       |  358 ++++
 qw/source/cd_win.c                       |  514 +++++
 qw/source/checksum.c                     |  188 ++
 qw/source/cl_cam.c                       |  611 ++++++
 qw/source/cl_cmd.c                       |  130 ++
 qw/source/cl_cvar.c                      |   51 +
 qw/source/cl_demo.c                      |  807 +++++++
 qw/source/cl_ents.c                      | 1111 ++++++++++
 qw/source/cl_input.c                     |  756 +++++++
 qw/source/cl_main.c                      | 1709 +++++++++++++++
 qw/source/cl_math.S                      |  110 +
 qw/source/cl_misc.c                      |   55 +
 qw/source/cl_parse.c                     | 1433 +++++++++++++
 qw/source/cl_pred.c                      |  238 +++
 qw/source/cl_slist.c                     |  318 +++
 qw/source/cl_sys_sdl.c                   |  292 +++
 qw/source/cl_sys_unix.c                  |  247 +++
 qw/source/cl_sys_win.c                   |  554 +++++
 qw/source/cl_tent.c                      |  472 ++++
 qw/source/cmd.c                          |  942 ++++++++
 qw/source/com.c                          |  117 +
 qw/source/console.c                      |  619 ++++++
 qw/source/context_x11.c                  |  437 ++++
 qw/source/crc.c                          |  105 +
 qw/source/cvar.c                         |  547 +++++
 qw/source/d_copy.S                       |  176 ++
 qw/source/d_draw.S                       | 1044 +++++++++
 qw/source/d_draw16.S                     |  981 +++++++++
 qw/source/d_edge.c                       |  317 +++
 qw/source/d_fill.c                       |   90 +
 qw/source/d_init.c                       |  175 ++
 qw/source/d_modech.c                     |  113 +
 qw/source/d_part.c                       |  191 ++
 qw/source/d_parta.S                      |  484 +++++
 qw/source/d_polysa.S                     | 1751 +++++++++++++++
 qw/source/d_polyse.c                     | 1017 +++++++++
 qw/source/d_scan.c                       |  445 ++++
 qw/source/d_scana.S                      |   96 +
 qw/source/d_sky.c                        |  139 ++
 qw/source/d_spr8.S                       |  907 ++++++++
 qw/source/d_sprite.c                     |  434 ++++
 qw/source/d_surf.c                       |  346 +++
 qw/source/d_vars.c                       |   60 +
 qw/source/d_varsa.S                      |  221 ++
 qw/source/d_zpoint.c                     |   54 +
 qw/source/dga_check.c                    |  152 ++
 qw/source/dirent.c                       |  279 +++
 qw/source/draw.c                         |  873 ++++++++
 qw/source/fbset.c                        | 1071 ++++++++++
 qw/source/fnmatch.c                      |  221 ++
 qw/source/fractalnoise.c                 |   84 +
 qw/source/gl_draw.c                      | 1236 +++++++++++
 qw/source/gl_dyn_fires.c                 |  205 ++
 qw/source/gl_dyn_part.c                  |  687 ++++++
 qw/source/gl_dyn_textures.c              |  128 ++
 qw/source/gl_mesh.c                      |  411 ++++
 qw/source/gl_model_alias.c               |  308 +++
 qw/source/gl_model_brush.c               |  116 +
 qw/source/gl_model_fullbright.c          |   78 +
 qw/source/gl_model_sprite.c              |   88 +
 qw/source/gl_ngraph.c                    |  178 ++
 qw/source/gl_rlight.c                    |  434 ++++
 qw/source/gl_rmain.c                     | 1226 +++++++++++
 qw/source/gl_rmisc.c                     |  319 +++
 qw/source/gl_rsurf.c                     | 1240 +++++++++++
 qw/source/gl_screen.c                    | 1078 ++++++++++
 qw/source/gl_skin.c                      |  217 ++
 qw/source/gl_sky.c                       |  338 +++
 qw/source/gl_sky_clip.c                  |  774 +++++++
 qw/source/gl_view.c                      |  220 ++
 qw/source/gl_warp.c                      |  232 ++
 qw/source/hash.c                         |  135 ++
 qw/source/in_fbdev.c                     |  152 ++
 qw/source/in_ggi.c                       |  491 +++++
 qw/source/in_null.c                      |   64 +
 qw/source/in_sdl.c                       |  438 ++++
 qw/source/in_svgalib.c                   |  403 ++++
 qw/source/in_win.c                       |  671 ++++++
 qw/source/in_x11.c                       |  557 +++++
 qw/source/info.c                         |  294 +++
 qw/source/joy_linux.c                    |  233 ++
 qw/source/joy_null.c                     |   81 +
 qw/source/joy_win.c                      |  608 ++++++
 qw/source/keys.c                         |  912 ++++++++
 qw/source/link.c                         |   65 +
 qw/source/locs.c                         |  277 +++
 qw/source/math.S                         |  360 ++++
 qw/source/mathlib.c                      |  629 ++++++
 qw/source/mdfour.c                       |  258 +++
 qw/source/menu.c                         | 1745 +++++++++++++++
 qw/source/model.c                        |  254 +++
 qw/source/model_alias.c                  |  264 +++
 qw/source/model_brush.c                  |  989 +++++++++
 qw/source/model_sprite.c                 |  169 ++
 qw/source/msg.c                          |  404 ++++
 qw/source/net_chan.c                     |  450 ++++
 qw/source/net_com.c                      |   55 +
 qw/source/net_packetlog.c                |  977 +++++++++
 qw/source/net_udp.c                      |  458 ++++
 qw/source/net_udp6.c                     |  573 +++++
 qw/source/nonintel.c                     |   65 +
 qw/source/pcx.c                          |  216 ++
 qw/source/pmove.c                        |  915 ++++++++
 qw/source/pmovetst.c                     |  405 ++++
 qw/source/pr_edict.c                     | 1145 ++++++++++
 qw/source/pr_exec.c                      |  982 +++++++++
 qw/source/pr_offs.c                      |   54 +
 qw/source/qargs.c                        |  156 ++
 qw/source/qendian.c                      |  108 +
 qw/source/qfgl_ext.c                     |  160 ++
 qw/source/qfplist.c                      |  445 ++++
 qw/source/quakefs.c                      | 1193 +++++++++++
 qw/source/quakeio.c                      |  399 ++++
 qw/source/r_aclip.c                      |  334 +++
 qw/source/r_aclipa.S                     |  224 ++
 qw/source/r_alias.c                      |  739 +++++++
 qw/source/r_aliasa.S                     |  244 +++
 qw/source/r_bsp.c                        |  618 ++++++
 qw/source/r_draw.c                       |  827 ++++++++
 qw/source/r_drawa.S                      |  845 ++++++++
 qw/source/r_edge.c                       |  731 +++++++
 qw/source/r_edgea.S                      |  757 +++++++
 qw/source/r_efrag.c                      |  266 +++
 qw/source/r_light.c                      |  250 +++
 qw/source/r_main.c                       | 1136 ++++++++++
 qw/source/r_misc.c                       |  582 +++++
 qw/source/r_part.c                       |  570 +++++
 qw/source/r_sky.c                        |  283 +++
 qw/source/r_sprite.c                     |  408 ++++
 qw/source/r_surf.c                       |  617 ++++++
 qw/source/r_vars.c                       |   47 +
 qw/source/r_varsa.S                      |   72 +
 qw/source/r_view.c                       |  770 +++++++
 qw/source/sbar.c                         | 1283 +++++++++++
 qw/source/screen.c                       | 1055 +++++++++
 qw/source/sizebuf.c                      |   95 +
 qw/source/skin.c                         |  354 +++
 qw/source/snd_alsa_0_5.c                 |  362 ++++
 qw/source/snd_alsa_0_6.c                 |  354 +++
 qw/source/snd_disk.c                     |  108 +
 qw/source/snd_dma.c                      |  979 +++++++++
 qw/source/snd_mem.c                      |  404 ++++
 qw/source/snd_mix.c                      |  426 ++++
 qw/source/snd_mixa.S                     |  232 ++
 qw/source/snd_null.c                     |  144 ++
 qw/source/snd_oss.c                      |  306 +++
 qw/source/snd_sdl.c                      |  158 ++
 qw/source/snd_sgi.c                      |  311 +++
 qw/source/snd_sun.c                      |  228 ++
 qw/source/snd_win.c                      |  718 +++++++
 qw/source/surf16.S                       |  179 ++
 qw/source/surf8.S                        |  791 +++++++
 qw/source/sv_ccmds.c                     |  881 ++++++++
 qw/source/sv_cvar.c                      |   73 +
 qw/source/sv_ents.c                      |  616 ++++++
 qw/source/sv_init.c                      |  427 ++++
 qw/source/sv_main.c                      | 1961 +++++++++++++++++
 qw/source/sv_misc.c                      |   50 +
 qw/source/sv_model.c                     |   73 +
 qw/source/sv_move.c                      |  401 ++++
 qw/source/sv_nchan.c                     |  198 ++
 qw/source/sv_phys.c                      | 1012 +++++++++
 qw/source/sv_pr_cmds.c                   | 1766 +++++++++++++++
 qw/source/sv_progs.c                     |  167 ++
 qw/source/sv_send.c                      |  814 +++++++
 qw/source/sv_sys_unix.c                  |  227 ++
 qw/source/sv_sys_win.c                   |  267 +++
 qw/source/sv_user.c                      | 1773 ++++++++++++++++
 qw/source/sw_model_alias.c               |  288 +++
 qw/source/sw_model_brush.c               |   72 +
 qw/source/sw_model_sprite.c              |  100 +
 qw/source/sw_skin.c                      |   89 +
 qw/source/sw_view.c                      |  173 ++
 qw/source/sys_null.c                     |  173 ++
 qw/source/sys_unix.c                     |  167 ++
 qw/source/sys_win.c                      |  138 ++
 qw/source/sys_x86.S                      |  116 +
 qw/source/teamplay.c                     |  415 ++++
 qw/source/tga.c                          |  242 +++
 qw/source/va.c                           |   56 +
 qw/source/ver_check.c                    |  104 +
 qw/source/vid.c                          |  114 +
 qw/source/vid_3dfxsvga.c                 |  314 +++
 qw/source/vid_common_gl.c                |  375 ++++
 qw/source/vid_fbdev.c                    |  703 ++++++
 qw/source/vid_ggi.c                      |  694 ++++++
 qw/source/vid_glx.c                      |  236 ++
 qw/source/vid_mgl.c                      | 3197 ++++++++++++++++++++++++++++
 qw/source/vid_null.c                     |  108 +
 qw/source/vid_sdl.c                      |  290 +++
 qw/source/vid_sgl.c                      |  242 +++
 qw/source/vid_svgalib.c                  |  761 +++++++
 qw/source/vid_wgl.c                      | 1787 ++++++++++++++++
 qw/source/vid_win.c                      |   50 +
 qw/source/vid_x11.c                      |  821 +++++++
 qw/source/wad.c                          |  170 ++
 qw/source/world.c                        |  884 ++++++++
 qw/source/worlda.S                       |  150 ++
 qw/source/zone.c                         |  680 ++++++
 700 files changed, 239949 insertions(+)

commit 8ad4a75
Author: Bill Currie <bill@taniwha.org>
Date:   Mon Feb 12 09:20:26 2001 +0000

    more fix up work. Nothing totally right, yet, but getting closer.

 tools/Forge/SetBrush.h       |    2 +-
 tools/Forge/SetBrush.m       |   32 ++++++++++++++---------------
 tools/Forge/TexturePalette.m |   44 ++++++++++++++++++++--------------------
 tools/Forge/TextureView.m    |   38 +++++++++++++++++-----------------
 tools/Forge/Things.m         |   42 +++++++++++++++++++-------------------
 tools/Forge/UserPath.m       |   46 +++++++++++++++++++++---------------------
 6 files changed, 102 insertions(+), 102 deletions(-)

commit 091e4f7
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Sat Feb 10 20:07:39 2001 +0000

    Clean up the Forge source tree. Also, I'm starting to use ProjectCenter to
    manage the makefile.

 tools/Forge/Documentation/help.txt   |  175 ++++++++++++++++++++++++++++++++++
 tools/Forge/DownArrow.tiff           |  Bin 256 -> 0 bytes
 tools/Forge/English.lproj/Forge.gorm |  Bin 0 -> 1178 bytes
 tools/Forge/Forge.h                  |   10 +-
 tools/Forge/Forge.m                  |   12 ++-
 tools/Forge/Forge.tiff               |  Bin 2436 -> 0 bytes
 tools/Forge/ForgeInfo.plist          |   12 +++
 tools/Forge/GNUmakefile              |  130 +++++++++++++++++++------
 tools/Forge/Images/DownArrow.tiff    |  Bin 0 -> 256 bytes
 tools/Forge/Images/Forge.tiff        |  Bin 0 -> 2436 bytes
 tools/Forge/Images/UpArrow.tiff      |  Bin 0 -> 258 bytes
 tools/Forge/Images/i_90d.tiff        |  Bin 0 -> 1346 bytes
 tools/Forge/Images/i_add.tiff        |  Bin 0 -> 1346 bytes
 tools/Forge/Images/i_brushes.tiff    |  Bin 0 -> 1346 bytes
 tools/Forge/Images/i_fliph.tiff      |  Bin 0 -> 1346 bytes
 tools/Forge/Images/i_flipv.tiff      |  Bin 0 -> 1346 bytes
 tools/Forge/Images/i_quakeed.tiff    |  Bin 0 -> 29799 bytes
 tools/Forge/Images/i_sub.tiff        |  Bin 0 -> 1346 bytes
 tools/Forge/Images/inspectors.tiff   |  Bin 0 -> 231654 bytes
 tools/Forge/Images/mainwindow.tiff   |  Bin 0 -> 45188 bytes
 tools/Forge/Images/short.tiff        |  Bin 0 -> 1346 bytes
 tools/Forge/Images/tall.tiff         |  Bin 0 -> 1346 bytes
 tools/Forge/PC.project               |  115 ++++++++++++++++++++++
 tools/Forge/UpArrow.tiff             |  Bin 258 -> 0 bytes
 tools/Forge/help.txt                 |  175 ----------------------------------
 tools/Forge/i_90d.tiff               |  Bin 1346 -> 0 bytes
 tools/Forge/i_add.tiff               |  Bin 1346 -> 0 bytes
 tools/Forge/i_brushes.tiff           |  Bin 1346 -> 0 bytes
 tools/Forge/i_fliph.tiff             |  Bin 1346 -> 0 bytes
 tools/Forge/i_flipv.tiff             |  Bin 1346 -> 0 bytes
 tools/Forge/i_quakeed.tiff           |  Bin 29799 -> 0 bytes
 tools/Forge/i_sub.tiff               |  Bin 1346 -> 0 bytes
 tools/Forge/inspectors.tiff          |  Bin 231654 -> 0 bytes
 tools/Forge/mainwindow.tiff          |  Bin 45188 -> 0 bytes
 tools/Forge/short.tiff               |  Bin 1346 -> 0 bytes
 tools/Forge/tall.tiff                |  Bin 1346 -> 0 bytes
 36 files changed, 417 insertions(+), 212 deletions(-)

commit c1e3e1e
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Feb 9 06:50:40 2001 +0000

    Map now compiles (but probably doesn't work: lots of warnings)

 tools/Forge/Map.m    |  136 +++++++++++++++++++++++++-------------------------
 tools/Forge/qedefs.h |    2 +
 2 files changed, 69 insertions(+), 69 deletions(-)

commit 27ed336
Author: Bill Currie <bill@taniwha.org>
Date:   Fri Feb 9 06:08:53 2001 +0000

    EntityArray now compiles

 tools/Forge/EntityArray.m |   18 +++++++++---------
 tools/Forge/qedefs.h      |    1 +
 2 files changed, 10 insertions(+), 9 deletions(-)

commit 317d3bd
Author: Jeff Teunissen <deek@d2dc.net>
Date:   Fri Feb 9 01:52:44 2001 +0000

    New program (incomplete, and horridly broken): Forge.app. It's going to be
    a GNUstep port of the original Quake editor for NeXTstep, QuakeEd.app.

 tools/Forge/.gitignore         |    4 +
 tools/Forge/Brush.h            |   55 +
 tools/Forge/CameraView.h       |   64 +
 tools/Forge/CameraView.m       |  939 ++++
 tools/Forge/Clipper.h          |   24 +
 tools/Forge/Clipper.m          |  218 +
 tools/Forge/Dict.h             |   47 +
 tools/Forge/Dict.m             |  579 ++
 tools/Forge/DownArrow.tiff     |  Bin 0 -> 256 bytes
 tools/Forge/Entity.h           |   40 +
 tools/Forge/Entity.m           |  485 ++
 tools/Forge/EntityArray.h      |   17 +
 tools/Forge/EntityArray.m      |  119 +
 tools/Forge/EntityClass.h      |   27 +
 tools/Forge/EntityClass.m      |  146 +
 tools/Forge/Forge.h            |   98 +
 tools/Forge/Forge.m            | 1026 ++++
 tools/Forge/Forge.tiff         |  Bin 0 -> 2436 bytes
 tools/Forge/Forge_main.m       |   15 +
 tools/Forge/GNUmakefile        |   52 +
 tools/Forge/InspectorControl.h |   71 +
 tools/Forge/InspectorControl.m |  128 +
 tools/Forge/KeypairView.h      |   16 +
 tools/Forge/KeypairView.m      |   96 +
 tools/Forge/Map.h              |   68 +
 tools/Forge/Map.m              | 1121 ++++
 tools/Forge/PopScrollView.h    |   11 +
 tools/Forge/PopScrollView.m    |   87 +
 tools/Forge/Preferences.h      |   78 +
 tools/Forge/Preferences.m      |  330 ++
 tools/Forge/Project.h          |  108 +
 tools/Forge/Project.m          |  526 ++
 tools/Forge/SetBrush.h         |  158 +
 tools/Forge/SetBrush.m         | 2034 +++++++
 tools/Forge/TexturePalette.h   |  113 +
 tools/Forge/TexturePalette.m   |  818 +++
 tools/Forge/TextureView.h      |   12 +
 tools/Forge/TextureView.m      |  152 +
 tools/Forge/Things.h           |   42 +
 tools/Forge/Things.m           |  317 ++
 tools/Forge/UpArrow.tiff       |  Bin 0 -> 258 bytes
 tools/Forge/UserPath.h         |   72 +
 tools/Forge/UserPath.m         |  209 +
 tools/Forge/XYView.h           |   66 +
 tools/Forge/XYView.m           | 1384 +++++
 tools/Forge/ZScrollView.h      |   11 +
 tools/Forge/ZScrollView.m      |   71 +
 tools/Forge/ZView.h            |   42 +
 tools/Forge/ZView.m            |  872 +++
 tools/Forge/cmdlib.c           |  886 +++
 tools/Forge/cmdlib.h           |  116 +
 tools/Forge/help.txt           |  175 +
 tools/Forge/i_90d.tiff         |  Bin 0 -> 1346 bytes
 tools/Forge/i_add.tiff         |  Bin 0 -> 1346 bytes
 tools/Forge/i_brushes.tiff     |  Bin 0 -> 1346 bytes
 tools/Forge/i_fliph.tiff       |  Bin 0 -> 1346 bytes
 tools/Forge/i_flipv.tiff       |  Bin 0 -> 1346 bytes
 tools/Forge/i_quakeed.tiff     |  Bin 0 -> 29799 bytes
 tools/Forge/i_sub.tiff         |  Bin 0 -> 1346 bytes
 tools/Forge/inspectors.tiff    |  Bin 0 -> 231654 bytes
 tools/Forge/jrbase1.map        |11858 ++++++++++++++++++++++++++++++++++++++++
 tools/Forge/mainwindow.tiff    |  Bin 0 -> 45188 bytes
 tools/Forge/mathlib.c          |  128 +
 tools/Forge/mathlib.h          |   67 +
 tools/Forge/misc.m             |  274 +
 tools/Forge/qedefs.h           |   55 +
 tools/Forge/quake.qpr          |   22 +
 tools/Forge/readme.txt         |   53 +
 tools/Forge/render.h           |   13 +
 tools/Forge/render.m           |  748 +++
 tools/Forge/short.tiff         |  Bin 0 -> 1346 bytes
 tools/Forge/tall.tiff          |  Bin 0 -> 1346 bytes
 tools/Forge/triggers.qc        |  738 +++
 73 files changed, 28101 insertions(+)

commit d5a81d9
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Feb 6 19:21:47 2001 +0000

    add command docs and update cvar docs for qf-server and qf-client-x11 for
    beta7. Others will be forthcoming.

 doc/qf-client-x11-cmd.txt  |  272 ++++++++++++++++++++++++++++++++++++++++++++
 doc/qf-client-x11-cvar.txt |    6 +-
 doc/qf-server-cmd.txt      |  134 ++++++++++++++++++++++
 doc/qf-server-cvar.txt     |    8 +-
 4 files changed, 417 insertions(+), 3 deletions(-)

commit bcd28f5
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 18 00:59:42 2001 +0000

    and some more

 tools/pak/pakfile.c |    4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 4e54c4c
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 17 22:47:08 2001 +0000

    a little progress

 tools/pak/pakfile.c |   20 +++++++++-----------
 1 file changed, 9 insertions(+), 11 deletions(-)

commit e728066
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 11 00:56:48 2001 +0000

    forgot this :)

 tools/pak/.gitignore |    1 +
 1 file changed, 1 insertion(+)

commit 381eb80
Author: Bill Currie <bill@taniwha.org>
Date:   Thu Jan 11 00:56:31 2001 +0000

    beginnings of the new pak util

 tools/pak/pakfile.c |   93 +++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 93 insertions(+)

commit e8e49e8
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 10 04:22:17 2001 +0000

    3dfx :)

 doc/qf-client-3dfx-cvar.txt |  173 +++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 173 insertions(+)

commit 84278f7
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 10 03:51:24 2001 +0000

    ggi and sgl

 doc/qf-client-ggi-cvar.txt |  157 ++++++++++++++++++++++++++++++++++++++++
 doc/qf-client-sgl-cvar.txt |  172 ++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 329 insertions(+)

commit a9212a6
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 10 03:33:30 2001 +0000

    sort correctly

 doc/qf-client-glx-cvar.txt  |   76 +++++++++++++++++++++----------------------
 doc/qf-client-svga-cvar.txt |   66 ++++++++++++++++++-------------------
 2 files changed, 71 insertions(+), 71 deletions(-)

commit ad558e4
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 10 03:02:11 2001 +0000

    used an old svga client :/

 doc/qf-client-svga-cvar.txt |    3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit d7a823c
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 10 02:55:30 2001 +0000

    forgot to get descriptions

 doc/qf-client-glx-cvar.txt |  356 ++++++++++++++++++++++----------------------
 1 file changed, 178 insertions(+), 178 deletions(-)

commit 5b46399
Author: Bill Currie <bill@taniwha.org>
Date:   Wed Jan 10 02:48:53 2001 +0000

    glc and svga cvars

 doc/qf-client-glx-cvar.txt  |  178 +++++++++++++++++++++++++++++++++++++++++++
 doc/qf-client-svga-cvar.txt |  163 +++++++++++++++++++++++++++++++++++++++
 2 files changed, 341 insertions(+)

commit 8eb780f
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 9 23:54:40 2001 +0000

    qf-client-sdl cvars

 doc/qf-client-sdl-cvar.txt |  161 ++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 161 insertions(+)

commit 330a818
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 9 23:51:55 2001 +0000

    fix usage

 tools/zpak |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 43d47bd
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 9 23:08:09 2001 +0000

    fixed broken line

 doc/qf-client-x11-cvar.txt |    3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit 462245b
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 9 23:02:54 2001 +0000

    sort the list

 doc/qf-client-x11-cvar.txt |  284 ++++++++++++++++++++++----------------------
 1 file changed, 142 insertions(+), 142 deletions(-)

commit 75f8c78
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 9 23:01:22 2001 +0000

    qf-client-x11 cvars

 doc/qf-client-x11-cvar.txt |  165 ++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 165 insertions(+)

commit 76867b9
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 9 22:49:14 2001 +0000

    add a comment

 tools/zpak |    1 +
 1 file changed, 1 insertion(+)

commit d3ce8e1
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 9 22:47:22 2001 +0000

    *** empty log message ***

 doc/qf-server-cvar.txt |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ed579aa
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 9 22:46:21 2001 +0000

    *** empty log message ***

 doc/qf-server-cvar.txt |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 2bb6efb
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 9 22:41:06 2001 +0000

    put in some spaces

 doc/qf-server-cvar.txt |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 82e4853
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 9 22:38:35 2001 +0000

    remove bogus entries

 doc/qf-server-cvar.txt |    3 ---
 1 file changed, 3 deletions(-)

commit 259bd28
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 9 19:49:31 2001 +0000

    first stab at documentation. qf-server-cvar.txt is generated from qf-server
    itself (qf-server +cvarlist 1 +quit).

 doc/qf-server-cvar.txt |   70 ++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 70 insertions(+)

commit 3125e5c
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 9 06:31:59 2001 +0000

    merge the doc trees from nuq and newtree

 doc/3dfx.txt                    |   69 ++
 doc/cvarlist.txt                | 1696 ++++++++++++++++++++++++++++++++++
 doc/data/comexp.txt             |  487 ++++++++++
 doc/data/docs/install           |  177 ++++
 doc/data/docs/install.q2mission |   39 +
 doc/data/docs/install.quake     |  177 ++++
 doc/data/docs/install.quake2    |  218 +++++
 doc/data/docs/readme            |  157 ++++
 doc/data/docs/readme.glquake    |  162 ++++
 doc/data/docs/readme.squake     |  127 +++
 doc/data/docs/readme.x11        |  107 +++
 doc/data/help.txt               |  119 +++
 doc/data/licinfo.txt            |   97 ++
 doc/data/manual.txt             | 1030 +++++++++++++++++++++
 doc/data/order.txt              |  103 +++
 doc/data/readme.txt             |  456 ++++++++++
 doc/data/rlicnse.txt            |  204 +++++
 doc/data/slicnse.txt            |  175 ++++
 doc/data/techinfo.txt           | 1901 +++++++++++++++++++++++++++++++++++++++
 doc/glqnotes.txt                |  171 ++++
 doc/makefile.linuxi386          | 1240 +++++++++++++++++++++++++
 doc/makefile.solaris            |  483 ++++++++++
 doc/man/.gitignore              |    2 +
 doc/man/Makefile.am             |    4 +
 doc/man/quakeforge.1            |   47 +
 doc/net_DoS_protection.txt      |   49 +
 doc/progdefs.q1                 |  143 +++
 doc/progdefs.q2                 |  158 ++++
 doc/qe3.ico                     |  Bin 0 -> 766 bytes
 doc/quake.gif                   |  Bin 0 -> 1300 bytes
 doc/quake.ico                   |  Bin 0 -> 9822 bytes
 doc/readme.solaris              |   98 ++
 doc/readme.txt                  |   60 ++
 doc/skybox.fig                  |  219 +++++
 doc/template.h                  |   31 +
 doc/texinfo/.gitignore          |    3 +
 doc/texinfo/Makefile.am         |    4 +
 doc/texinfo/gpl.texinfo         |  398 ++++++++
 doc/texinfo/quakeforge.texinfo  |  195 ++++
 doc/timestamps.txt              |   77 ++
 doc/wqreadme.txt                | 1119 +++++++++++++++++++++++
 41 files changed, 12002 insertions(+)

commit ad0eee5
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 9 05:58:40 2001 +0000

    bring in the tools from newtree and nuq. the two pythong files are from nuq
    and the rest from newtree

 tools/cvs2cl/COPYING        |  340 ++++++++++
 tools/cvs2cl/ChangeLog      |   11 +
 tools/cvs2cl/README         |    3 +
 tools/cvs2cl/TODO           |   17 +
 tools/cvs2cl/cvs2cl.pl      | 1480 +++++++++++++++++++++++++++++++++++++++++++
 tools/cvs2cl/mywrap.pl      |   84 +++
 tools/gas2masm/Makefile     |    5 +
 tools/gas2masm/gas2masm.c   | 1079 +++++++++++++++++++++++++++++++
 tools/gas2masm/gas2masm.dsp |  102 +++
 tools/gas2masm/gas2masm.dsw |   29 +
 tools/gas2masm/gas2masm.mak |  193 ++++++
 tools/gas2masm/gas2masm.mdp |  Bin 0 -> 37912 bytes
 tools/misc/cvar.py          |  123 ++++
 tools/misc/header.py        |   40 ++
 tools/zpak                  |   22 +
 15 files changed, 3528 insertions(+)

commit d826f71
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 9 02:53:58 2001 +0000

    fix mising #include <string*.h>

commit a2677cf
Author: Bill Currie <bill@taniwha.org>
Date:   Tue Jan 9 00:51:35 2001 +0000

    Whee, quakeforge/doc exists :)

 doc/.gitignore  |    4 ++++
 doc/Makefile.am |   12 ++++++++++++
 2 files changed, 16 insertions(+)
